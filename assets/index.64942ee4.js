(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var browser$3={exports:{}},process$1=browser$3.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue$1.length;e;){for(currentQueue=queue$1,queue$1=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process$1.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];queue$1.push(new Item(t,e)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$4(){}process$1.on=noop$4;process$1.addListener=noop$4;process$1.once=noop$4;process$1.off=noop$4;process$1.removeListener=noop$4;process$1.removeAllListeners=noop$4;process$1.emit=noop$4;process$1.prependListener=noop$4;process$1.prependOnceListener=noop$4;process$1.listeners=function(t){return[]};process$1.binding=function(t){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(t){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var buffer$2={},base64Js$1={};base64Js$1.byteLength=byteLength$1;var toByteArray_1=base64Js$1.toByteArray=toByteArray$1,fromByteArray_1=base64Js$1.fromByteArray=fromByteArray$1,lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len$1=code$1.length;i$2<len$1;++i$2)lookup$1[i$2]=code$1[i$2],revLookup$1[code$1.charCodeAt(i$2)]=i$2;revLookup$1["-".charCodeAt(0)]=62;revLookup$1["_".charCodeAt(0)]=63;function getLens$1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength$1(t){var e=getLens$1(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength$1(t,e,r){return(e+r)*3/4-r}function toByteArray$1(t){var e,r=getLens$1(t),n=r[0],o=r[1],s=new Arr$1(_byteLength$1(t,n,o)),a=0,c=o>0?n-4:n,m;for(m=0;m<c;m+=4)e=revLookup$1[t.charCodeAt(m)]<<18|revLookup$1[t.charCodeAt(m+1)]<<12|revLookup$1[t.charCodeAt(m+2)]<<6|revLookup$1[t.charCodeAt(m+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=revLookup$1[t.charCodeAt(m)]<<2|revLookup$1[t.charCodeAt(m+1)]>>4,s[a++]=e&255),o===1&&(e=revLookup$1[t.charCodeAt(m)]<<10|revLookup$1[t.charCodeAt(m+1)]<<4|revLookup$1[t.charCodeAt(m+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function tripletToBase64$1(t){return lookup$1[t>>18&63]+lookup$1[t>>12&63]+lookup$1[t>>6&63]+lookup$1[t&63]}function encodeChunk$1(t,e,r){for(var n,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64$1(n));return o.join("")}function fromByteArray$1(t){for(var e,r=t.length,n=r%3,o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(encodeChunk$1(t,a,a+s>c?c:a+s));return n===1?(e=t[r-1],o.push(lookup$1[e>>2]+lookup$1[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup$1[e>>10]+lookup$1[e>>4&63]+lookup$1[e<<2&63]+"=")),o.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(t,e,r,n,o){var s,a,c=o*8-n-1,m=(1<<c)-1,gr=m>>1,_r=-7,wr=r?o-1:0,Or=r?-1:1,Ir=t[e+wr];for(wr+=Or,s=Ir&(1<<-_r)-1,Ir>>=-_r,_r+=c;_r>0;s=s*256+t[e+wr],wr+=Or,_r-=8);for(a=s&(1<<-_r)-1,s>>=-_r,_r+=n;_r>0;a=a*256+t[e+wr],wr+=Or,_r-=8);if(s===0)s=1-gr;else{if(s===m)return a?NaN:(Ir?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-gr}return(Ir?-1:1)*a*Math.pow(2,s-n)};ieee754$1.write=function(t,e,r,n,o,s){var a,c,m,gr=s*8-o-1,_r=(1<<gr)-1,wr=_r>>1,Or=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ir=n?0:s-1,Pr=n?1:-1,kr=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=_r):(a=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-a))<1&&(a--,m*=2),a+wr>=1?e+=Or/m:e+=Or*Math.pow(2,1-wr),e*m>=2&&(a++,m/=2),a+wr>=_r?(c=0,a=_r):a+wr>=1?(c=(e*m-1)*Math.pow(2,o),a=a+wr):(c=e*Math.pow(2,wr-1)*Math.pow(2,o),a=0));o>=8;t[r+Ir]=c&255,Ir+=Pr,c/=256,o-=8);for(a=a<<o|c,gr+=o;gr>0;t[r+Ir]=a&255,Ir+=Pr,a/=256,gr-=8);t[r+Ir-Pr]|=kr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js$1,r=ieee754$1,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=Kr,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const br=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(br,l),br.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(br){if(br>o)throw new RangeError('The value "'+br+'" is invalid for option "size"');const l=new Uint8Array(br);return Object.setPrototypeOf(l,c.prototype),l}function c(br,l,d){if(typeof br=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wr(br)}return m(br,l,d)}c.poolSize=8192;function m(br,l,d){if(typeof br=="string")return Or(br,l);if(ArrayBuffer.isView(br))return Pr(br);if(br==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof br);if(rn(br,ArrayBuffer)||br&&rn(br.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rn(br,SharedArrayBuffer)||br&&rn(br.buffer,SharedArrayBuffer)))return kr(br,l,d);if(typeof br=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ar=br.valueOf&&br.valueOf();if(Ar!=null&&Ar!==br)return c.from(Ar,l,d);const $r=xr(br);if($r)return $r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof br[Symbol.toPrimitive]=="function")return c.from(br[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof br)}c.from=function(br,l,d){return m(br,l,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function gr(br){if(typeof br!="number")throw new TypeError('"size" argument must be of type number');if(br<0)throw new RangeError('The value "'+br+'" is invalid for option "size"')}function _r(br,l,d){return gr(br),br<=0?a(br):l!==void 0?typeof d=="string"?a(br).fill(l,d):a(br).fill(l):a(br)}c.alloc=function(br,l,d){return _r(br,l,d)};function wr(br){return gr(br),a(br<0?0:Cr(br)|0)}c.allocUnsafe=function(br){return wr(br)},c.allocUnsafeSlow=function(br){return wr(br)};function Or(br,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=Fr(br,l)|0;let Ar=a(d);const $r=Ar.write(br,l);return $r!==d&&(Ar=Ar.slice(0,$r)),Ar}function Ir(br){const l=br.length<0?0:Cr(br.length)|0,d=a(l);for(let Ar=0;Ar<l;Ar+=1)d[Ar]=br[Ar]&255;return d}function Pr(br){if(rn(br,Uint8Array)){const l=new Uint8Array(br);return kr(l.buffer,l.byteOffset,l.byteLength)}return Ir(br)}function kr(br,l,d){if(l<0||br.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(br.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let Ar;return l===void 0&&d===void 0?Ar=new Uint8Array(br):d===void 0?Ar=new Uint8Array(br,l):Ar=new Uint8Array(br,l,d),Object.setPrototypeOf(Ar,c.prototype),Ar}function xr(br){if(c.isBuffer(br)){const l=Cr(br.length)|0,d=a(l);return d.length===0||br.copy(d,0,0,l),d}if(br.length!==void 0)return typeof br.length!="number"||fn(br.length)?a(0):Ir(br);if(br.type==="Buffer"&&Array.isArray(br.data))return Ir(br.data)}function Cr(br){if(br>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return br|0}function Kr(br){return+br!=br&&(br=0),c.alloc(+br)}c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,d){if(rn(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),rn(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),!c.isBuffer(l)||!c.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let Ar=l.length,$r=d.length;for(let Dr=0,Wr=Math.min(Ar,$r);Dr<Wr;++Dr)if(l[Dr]!==d[Dr]){Ar=l[Dr],$r=d[Dr];break}return Ar<$r?-1:$r<Ar?1:0},c.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);let Ar;if(d===void 0)for(d=0,Ar=0;Ar<l.length;++Ar)d+=l[Ar].length;const $r=c.allocUnsafe(d);let Dr=0;for(Ar=0;Ar<l.length;++Ar){let Wr=l[Ar];if(rn(Wr,Uint8Array))Dr+Wr.length>$r.length?(c.isBuffer(Wr)||(Wr=c.from(Wr)),Wr.copy($r,Dr)):Uint8Array.prototype.set.call($r,Wr,Dr);else if(c.isBuffer(Wr))Wr.copy($r,Dr);else throw new TypeError('"list" argument must be an Array of Buffers');Dr+=Wr.length}return $r};function Fr(br,l){if(c.isBuffer(br))return br.length;if(ArrayBuffer.isView(br)||rn(br,ArrayBuffer))return br.byteLength;if(typeof br!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof br);const d=br.length,Ar=arguments.length>2&&arguments[2]===!0;if(!Ar&&d===0)return 0;let $r=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return wn(br).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return kn(br).length;default:if($r)return Ar?-1:wn(br).length;l=(""+l).toLowerCase(),$r=!0}}c.byteLength=Fr;function qr(br,l,d){let Ar=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(br||(br="utf8");;)switch(br){case"hex":return nn(this,l,d);case"utf8":case"utf-8":return vr(this,l,d);case"ascii":return Ur(this,l,d);case"latin1":case"binary":return Hr(this,l,d);case"base64":return Rr(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pn(this,l,d);default:if(Ar)throw new TypeError("Unknown encoding: "+br);br=(br+"").toLowerCase(),Ar=!0}}c.prototype._isBuffer=!0;function Gr(br,l,d){const Ar=br[l];br[l]=br[d],br[d]=Ar}c.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)Gr(this,d,d+1);return this},c.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)Gr(this,d,d+3),Gr(this,d+1,d+2);return this},c.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)Gr(this,d,d+7),Gr(this,d+1,d+6),Gr(this,d+2,d+5),Gr(this,d+3,d+4);return this},c.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?vr(this,0,l):qr.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:c.compare(this,l)===0},c.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(l,d,Ar,$r,Dr){if(rn(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),Ar===void 0&&(Ar=l?l.length:0),$r===void 0&&($r=0),Dr===void 0&&(Dr=this.length),d<0||Ar>l.length||$r<0||Dr>this.length)throw new RangeError("out of range index");if($r>=Dr&&d>=Ar)return 0;if($r>=Dr)return-1;if(d>=Ar)return 1;if(d>>>=0,Ar>>>=0,$r>>>=0,Dr>>>=0,this===l)return 0;let Wr=Dr-$r,Pn=Ar-d;const Fn=Math.min(Wr,Pn),Cn=this.slice($r,Dr),jn=l.slice(d,Ar);for(let Un=0;Un<Fn;++Un)if(Cn[Un]!==jn[Un]){Wr=Cn[Un],Pn=jn[Un];break}return Wr<Pn?-1:Pn<Wr?1:0};function jr(br,l,d,Ar,$r){if(br.length===0)return-1;if(typeof d=="string"?(Ar=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,fn(d)&&(d=$r?0:br.length-1),d<0&&(d=br.length+d),d>=br.length){if($r)return-1;d=br.length-1}else if(d<0)if($r)d=0;else return-1;if(typeof l=="string"&&(l=c.from(l,Ar)),c.isBuffer(l))return l.length===0?-1:Vr(br,l,d,Ar,$r);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?$r?Uint8Array.prototype.indexOf.call(br,l,d):Uint8Array.prototype.lastIndexOf.call(br,l,d):Vr(br,[l],d,Ar,$r);throw new TypeError("val must be string, number or Buffer")}function Vr(br,l,d,Ar,$r){let Dr=1,Wr=br.length,Pn=l.length;if(Ar!==void 0&&(Ar=String(Ar).toLowerCase(),Ar==="ucs2"||Ar==="ucs-2"||Ar==="utf16le"||Ar==="utf-16le")){if(br.length<2||l.length<2)return-1;Dr=2,Wr/=2,Pn/=2,d/=2}function Fn(jn,Un){return Dr===1?jn[Un]:jn.readUInt16BE(Un*Dr)}let Cn;if($r){let jn=-1;for(Cn=d;Cn<Wr;Cn++)if(Fn(br,Cn)===Fn(l,jn===-1?0:Cn-jn)){if(jn===-1&&(jn=Cn),Cn-jn+1===Pn)return jn*Dr}else jn!==-1&&(Cn-=Cn-jn),jn=-1}else for(d+Pn>Wr&&(d=Wr-Pn),Cn=d;Cn>=0;Cn--){let jn=!0;for(let Un=0;Un<Pn;Un++)if(Fn(br,Cn+Un)!==Fn(l,Un)){jn=!1;break}if(jn)return Cn}return-1}c.prototype.includes=function(l,d,Ar){return this.indexOf(l,d,Ar)!==-1},c.prototype.indexOf=function(l,d,Ar){return jr(this,l,d,Ar,!0)},c.prototype.lastIndexOf=function(l,d,Ar){return jr(this,l,d,Ar,!1)};function Jr(br,l,d,Ar){d=Number(d)||0;const $r=br.length-d;Ar?(Ar=Number(Ar),Ar>$r&&(Ar=$r)):Ar=$r;const Dr=l.length;Ar>Dr/2&&(Ar=Dr/2);let Wr;for(Wr=0;Wr<Ar;++Wr){const Pn=parseInt(l.substr(Wr*2,2),16);if(fn(Pn))return Wr;br[d+Wr]=Pn}return Wr}function ln(br,l,d,Ar){return Rn(wn(l,br.length-d),br,d,Ar)}function tn(br,l,d,Ar){return Rn($n(l),br,d,Ar)}function sn(br,l,d,Ar){return Rn(kn(l),br,d,Ar)}function dn(br,l,d,Ar){return Rn(mn(l,br.length-d),br,d,Ar)}c.prototype.write=function(l,d,Ar,$r){if(d===void 0)$r="utf8",Ar=this.length,d=0;else if(Ar===void 0&&typeof d=="string")$r=d,Ar=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(Ar)?(Ar=Ar>>>0,$r===void 0&&($r="utf8")):($r=Ar,Ar=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Dr=this.length-d;if((Ar===void 0||Ar>Dr)&&(Ar=Dr),l.length>0&&(Ar<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");$r||($r="utf8");let Wr=!1;for(;;)switch($r){case"hex":return Jr(this,l,d,Ar);case"utf8":case"utf-8":return ln(this,l,d,Ar);case"ascii":case"latin1":case"binary":return tn(this,l,d,Ar);case"base64":return sn(this,l,d,Ar);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dn(this,l,d,Ar);default:if(Wr)throw new TypeError("Unknown encoding: "+$r);$r=(""+$r).toLowerCase(),Wr=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Rr(br,l,d){return l===0&&d===br.length?e.fromByteArray(br):e.fromByteArray(br.slice(l,d))}function vr(br,l,d){d=Math.min(br.length,d);const Ar=[];let $r=l;for(;$r<d;){const Dr=br[$r];let Wr=null,Pn=Dr>239?4:Dr>223?3:Dr>191?2:1;if($r+Pn<=d){let Fn,Cn,jn,Un;switch(Pn){case 1:Dr<128&&(Wr=Dr);break;case 2:Fn=br[$r+1],(Fn&192)===128&&(Un=(Dr&31)<<6|Fn&63,Un>127&&(Wr=Un));break;case 3:Fn=br[$r+1],Cn=br[$r+2],(Fn&192)===128&&(Cn&192)===128&&(Un=(Dr&15)<<12|(Fn&63)<<6|Cn&63,Un>2047&&(Un<55296||Un>57343)&&(Wr=Un));break;case 4:Fn=br[$r+1],Cn=br[$r+2],jn=br[$r+3],(Fn&192)===128&&(Cn&192)===128&&(jn&192)===128&&(Un=(Dr&15)<<18|(Fn&63)<<12|(Cn&63)<<6|jn&63,Un>65535&&Un<1114112&&(Wr=Un))}}Wr===null?(Wr=65533,Pn=1):Wr>65535&&(Wr-=65536,Ar.push(Wr>>>10&1023|55296),Wr=56320|Wr&1023),Ar.push(Wr),$r+=Pn}return Lr(Ar)}const Tr=4096;function Lr(br){const l=br.length;if(l<=Tr)return String.fromCharCode.apply(String,br);let d="",Ar=0;for(;Ar<l;)d+=String.fromCharCode.apply(String,br.slice(Ar,Ar+=Tr));return d}function Ur(br,l,d){let Ar="";d=Math.min(br.length,d);for(let $r=l;$r<d;++$r)Ar+=String.fromCharCode(br[$r]&127);return Ar}function Hr(br,l,d){let Ar="";d=Math.min(br.length,d);for(let $r=l;$r<d;++$r)Ar+=String.fromCharCode(br[$r]);return Ar}function nn(br,l,d){const Ar=br.length;(!l||l<0)&&(l=0),(!d||d<0||d>Ar)&&(d=Ar);let $r="";for(let Dr=l;Dr<d;++Dr)$r+=vn[br[Dr]];return $r}function pn(br,l,d){const Ar=br.slice(l,d);let $r="";for(let Dr=0;Dr<Ar.length-1;Dr+=2)$r+=String.fromCharCode(Ar[Dr]+Ar[Dr+1]*256);return $r}c.prototype.slice=function(l,d){const Ar=this.length;l=~~l,d=d===void 0?Ar:~~d,l<0?(l+=Ar,l<0&&(l=0)):l>Ar&&(l=Ar),d<0?(d+=Ar,d<0&&(d=0)):d>Ar&&(d=Ar),d<l&&(d=l);const $r=this.subarray(l,d);return Object.setPrototypeOf($r,c.prototype),$r};function Nr(br,l,d){if(br%1!==0||br<0)throw new RangeError("offset is not uint");if(br+l>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l],Dr=1,Wr=0;for(;++Wr<d&&(Dr*=256);)$r+=this[l+Wr]*Dr;return $r},c.prototype.readUintBE=c.prototype.readUIntBE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l+--d],Dr=1;for(;d>0&&(Dr*=256);)$r+=this[l+--d]*Dr;return $r},c.prototype.readUint8=c.prototype.readUInt8=function(l,d){return l=l>>>0,d||Nr(l,1,this.length),this[l]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||Nr(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||Nr(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readBigUInt64LE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,Dr=this[++l]+this[++l]*2**8+this[++l]*2**16+Ar*2**24;return BigInt($r)+(BigInt(Dr)<<BigInt(32))}),c.prototype.readBigUInt64BE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],Dr=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+Ar;return(BigInt($r)<<BigInt(32))+BigInt(Dr)}),c.prototype.readIntLE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l],Dr=1,Wr=0;for(;++Wr<d&&(Dr*=256);)$r+=this[l+Wr]*Dr;return Dr*=128,$r>=Dr&&($r-=Math.pow(2,8*d)),$r},c.prototype.readIntBE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=d,Dr=1,Wr=this[l+--$r];for(;$r>0&&(Dr*=256);)Wr+=this[l+--$r]*Dr;return Dr*=128,Wr>=Dr&&(Wr-=Math.pow(2,8*d)),Wr},c.prototype.readInt8=function(l,d){return l=l>>>0,d||Nr(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},c.prototype.readInt16LE=function(l,d){l=l>>>0,d||Nr(l,2,this.length);const Ar=this[l]|this[l+1]<<8;return Ar&32768?Ar|4294901760:Ar},c.prototype.readInt16BE=function(l,d){l=l>>>0,d||Nr(l,2,this.length);const Ar=this[l+1]|this[l]<<8;return Ar&32768?Ar|4294901760:Ar},c.prototype.readInt32LE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readBigInt64LE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(Ar<<24);return(BigInt($r)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),c.prototype.readBigInt64BE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt($r)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+Ar)}),c.prototype.readFloatLE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),r.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),r.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||Nr(l,8,this.length),r.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||Nr(l,8,this.length),r.read(this,l,!1,52,8)};function Er(br,l,d,Ar,$r,Dr){if(!c.isBuffer(br))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>$r||l<Dr)throw new RangeError('"value" argument is out of bounds');if(d+Ar>br.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,Ar=Ar>>>0,!$r){const Pn=Math.pow(2,8*Ar)-1;Er(this,l,d,Ar,Pn,0)}let Dr=1,Wr=0;for(this[d]=l&255;++Wr<Ar&&(Dr*=256);)this[d+Wr]=l/Dr&255;return d+Ar},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,Ar=Ar>>>0,!$r){const Pn=Math.pow(2,8*Ar)-1;Er(this,l,d,Ar,Pn,0)}let Dr=Ar-1,Wr=1;for(this[d+Dr]=l&255;--Dr>=0&&(Wr*=256);)this[d+Dr]=l/Wr&255;return d+Ar},c.prototype.writeUint8=c.prototype.writeUInt8=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,1,255,0),this[d]=l&255,d+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function Mr(br,l,d,Ar,$r){In(l,Ar,$r,br,d,7);let Dr=Number(l&BigInt(4294967295));br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr;let Wr=Number(l>>BigInt(32)&BigInt(4294967295));return br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,d}function cn(br,l,d,Ar,$r){In(l,Ar,$r,br,d,7);let Dr=Number(l&BigInt(4294967295));br[d+7]=Dr,Dr=Dr>>8,br[d+6]=Dr,Dr=Dr>>8,br[d+5]=Dr,Dr=Dr>>8,br[d+4]=Dr;let Wr=Number(l>>BigInt(32)&BigInt(4294967295));return br[d+3]=Wr,Wr=Wr>>8,br[d+2]=Wr,Wr=Wr>>8,br[d+1]=Wr,Wr=Wr>>8,br[d]=Wr,d+8}c.prototype.writeBigUInt64LE=En(function(l,d=0){return Mr(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=En(function(l,d=0){return cn(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,!$r){const Fn=Math.pow(2,8*Ar-1);Er(this,l,d,Ar,Fn-1,-Fn)}let Dr=0,Wr=1,Pn=0;for(this[d]=l&255;++Dr<Ar&&(Wr*=256);)l<0&&Pn===0&&this[d+Dr-1]!==0&&(Pn=1),this[d+Dr]=(l/Wr>>0)-Pn&255;return d+Ar},c.prototype.writeIntBE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,!$r){const Fn=Math.pow(2,8*Ar-1);Er(this,l,d,Ar,Fn-1,-Fn)}let Dr=Ar-1,Wr=1,Pn=0;for(this[d+Dr]=l&255;--Dr>=0&&(Wr*=256);)l<0&&Pn===0&&this[d+Dr+1]!==0&&(Pn=1),this[d+Dr]=(l/Wr>>0)-Pn&255;return d+Ar},c.prototype.writeInt8=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},c.prototype.writeInt16LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeInt16BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeInt32LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},c.prototype.writeInt32BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},c.prototype.writeBigInt64LE=En(function(l,d=0){return Mr(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=En(function(l,d=0){return cn(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Yr(br,l,d,Ar,$r,Dr){if(d+Ar>br.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Zr(br,l,d,Ar,$r){return l=+l,d=d>>>0,$r||Yr(br,l,d,4),r.write(br,l,d,Ar,23,4),d+4}c.prototype.writeFloatLE=function(l,d,Ar){return Zr(this,l,d,!0,Ar)},c.prototype.writeFloatBE=function(l,d,Ar){return Zr(this,l,d,!1,Ar)};function an(br,l,d,Ar,$r){return l=+l,d=d>>>0,$r||Yr(br,l,d,8),r.write(br,l,d,Ar,52,8),d+8}c.prototype.writeDoubleLE=function(l,d,Ar){return an(this,l,d,!0,Ar)},c.prototype.writeDoubleBE=function(l,d,Ar){return an(this,l,d,!1,Ar)},c.prototype.copy=function(l,d,Ar,$r){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(Ar||(Ar=0),!$r&&$r!==0&&($r=this.length),d>=l.length&&(d=l.length),d||(d=0),$r>0&&$r<Ar&&($r=Ar),$r===Ar||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(Ar<0||Ar>=this.length)throw new RangeError("Index out of range");if($r<0)throw new RangeError("sourceEnd out of bounds");$r>this.length&&($r=this.length),l.length-d<$r-Ar&&($r=l.length-d+Ar);const Dr=$r-Ar;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,Ar,$r):Uint8Array.prototype.set.call(l,this.subarray(Ar,$r),d),Dr},c.prototype.fill=function(l,d,Ar,$r){if(typeof l=="string"){if(typeof d=="string"?($r=d,d=0,Ar=this.length):typeof Ar=="string"&&($r=Ar,Ar=this.length),$r!==void 0&&typeof $r!="string")throw new TypeError("encoding must be a string");if(typeof $r=="string"&&!c.isEncoding($r))throw new TypeError("Unknown encoding: "+$r);if(l.length===1){const Wr=l.charCodeAt(0);($r==="utf8"&&Wr<128||$r==="latin1")&&(l=Wr)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<Ar)throw new RangeError("Out of range index");if(Ar<=d)return this;d=d>>>0,Ar=Ar===void 0?this.length:Ar>>>0,l||(l=0);let Dr;if(typeof l=="number")for(Dr=d;Dr<Ar;++Dr)this[Dr]=l;else{const Wr=c.isBuffer(l)?l:c.from(l,$r),Pn=Wr.length;if(Pn===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(Dr=0;Dr<Ar-d;++Dr)this[Dr+d]=Wr[Dr%Pn]}return this};const un={};function yn(br,l,d){un[br]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${br}]`,this.stack,delete this.name}get code(){return br}set code($r){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$r,writable:!0})}toString(){return`${this.name} [${br}]: ${this.message}`}}}yn("ERR_BUFFER_OUT_OF_BOUNDS",function(br){return br?`${br} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yn("ERR_INVALID_ARG_TYPE",function(br,l){return`The "${br}" argument must be of type number. Received type ${typeof l}`},TypeError),yn("ERR_OUT_OF_RANGE",function(br,l,d){let Ar=`The value of "${br}" is out of range.`,$r=d;return Number.isInteger(d)&&Math.abs(d)>2**32?$r=On(String(d)):typeof d=="bigint"&&($r=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&($r=On($r)),$r+="n"),Ar+=` It must be ${l}. Received ${$r}`,Ar},RangeError);function On(br){let l="",d=br.length;const Ar=br[0]==="-"?1:0;for(;d>=Ar+4;d-=3)l=`_${br.slice(d-3,d)}${l}`;return`${br.slice(0,d)}${l}`}function Tn(br,l,d){en(l,"offset"),(br[l]===void 0||br[l+d]===void 0)&&on(l,br.length-(d+1))}function In(br,l,d,Ar,$r,Dr){if(br>d||br<l){const Wr=typeof l=="bigint"?"n":"";let Pn;throw Dr>3?l===0||l===BigInt(0)?Pn=`>= 0${Wr} and < 2${Wr} ** ${(Dr+1)*8}${Wr}`:Pn=`>= -(2${Wr} ** ${(Dr+1)*8-1}${Wr}) and < 2 ** ${(Dr+1)*8-1}${Wr}`:Pn=`>= ${l}${Wr} and <= ${d}${Wr}`,new un.ERR_OUT_OF_RANGE("value",Pn,br)}Tn(Ar,$r,Dr)}function en(br,l){if(typeof br!="number")throw new un.ERR_INVALID_ARG_TYPE(l,"number",br)}function on(br,l,d){throw Math.floor(br)!==br?(en(br,d),new un.ERR_OUT_OF_RANGE(d||"offset","an integer",br)):l<0?new un.ERR_BUFFER_OUT_OF_BOUNDS:new un.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${l}`,br)}const gn=/[^+/0-9A-Za-z-_]/g;function xn(br){if(br=br.split("=")[0],br=br.trim().replace(gn,""),br.length<2)return"";for(;br.length%4!==0;)br=br+"=";return br}function wn(br,l){l=l||1/0;let d;const Ar=br.length;let $r=null;const Dr=[];for(let Wr=0;Wr<Ar;++Wr){if(d=br.charCodeAt(Wr),d>55295&&d<57344){if(!$r){if(d>56319){(l-=3)>-1&&Dr.push(239,191,189);continue}else if(Wr+1===Ar){(l-=3)>-1&&Dr.push(239,191,189);continue}$r=d;continue}if(d<56320){(l-=3)>-1&&Dr.push(239,191,189),$r=d;continue}d=($r-55296<<10|d-56320)+65536}else $r&&(l-=3)>-1&&Dr.push(239,191,189);if($r=null,d<128){if((l-=1)<0)break;Dr.push(d)}else if(d<2048){if((l-=2)<0)break;Dr.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;Dr.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;Dr.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return Dr}function $n(br){const l=[];for(let d=0;d<br.length;++d)l.push(br.charCodeAt(d)&255);return l}function mn(br,l){let d,Ar,$r;const Dr=[];for(let Wr=0;Wr<br.length&&!((l-=2)<0);++Wr)d=br.charCodeAt(Wr),Ar=d>>8,$r=d%256,Dr.push($r),Dr.push(Ar);return Dr}function kn(br){return e.toByteArray(xn(br))}function Rn(br,l,d,Ar){let $r;for($r=0;$r<Ar&&!($r+d>=l.length||$r>=br.length);++$r)l[$r+d]=br[$r];return $r}function rn(br,l){return br instanceof l||br!=null&&br.constructor!=null&&br.constructor.name!=null&&br.constructor.name===l.name}function fn(br){return br!==br}const vn=function(){const br="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const Ar=d*16;for(let $r=0;$r<16;++$r)l[Ar+$r]=br[d]+br[$r]}return l}();function En(br){return typeof BigInt>"u"?Bn:br}function Bn(){throw new Error("BigInt not supported")}})(buffer$2);var events={exports:{}},R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ReflectOwnKeys;R$1&&typeof R$1.ownKeys=="function"?ReflectOwnKeys=R$1.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e)};function ProcessEmitWarning(t){console&&console.warn&&console.warn(t)}var NumberIsNaN=Number.isNaN||function(e){return e!==e};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once$1;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");defaultMaxListeners=t}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _getMaxListeners(t){return t._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:t._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=e==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var m=s[e];if(m===void 0)return!1;if(typeof m=="function")ReflectApply(m,this,r);else for(var gr=m.length,_r=arrayClone(m,gr),n=0;n<gr;++n)ReflectApply(_r[n],this,r);return!0};function _addListener(t,e,r,n){var o,s,a;if(checkListener(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),o=_getMaxListeners(t),o>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,ProcessEmitWarning(c)}return t}EventEmitter$1.prototype.addListener=function(e,r){return _addListener(this,e,r,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(e,r){return _addListener(this,e,r,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=onceWrapper.bind(n);return o.listener=r,n.wrapFn=o,o}EventEmitter$1.prototype.once=function(e,r){return checkListener(r),this.on(e,_onceWrap(this,e,r)),this};EventEmitter$1.prototype.prependOnceListener=function(e,r){return checkListener(r),this.prependListener(e,_onceWrap(this,e,r)),this};EventEmitter$1.prototype.removeListener=function(e,r){var n,o,s,a,c;if(checkListener(r),o=this._events,o===void 0)return this;if(n=o[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){c=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():spliceOne(n,s),n.length===1&&(o[e]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(e){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(o=0;o<s.length;++o)a=s[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(e,r[o]);return this};function _listeners(t,e,r){var n=t._events;if(n===void 0)return[];var o=n[e];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?unwrapListeners(o):arrayClone(o,o.length)}EventEmitter$1.prototype.listeners=function(e){return _listeners(this,e,!0)};EventEmitter$1.prototype.rawListeners=function(e){return _listeners(this,e,!1)};EventEmitter$1.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):listenerCount.call(t,e)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function spliceOne(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function unwrapListeners(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function once$1(t,e){return new Promise(function(r,n){function o(a){t.removeListener(e,s),n(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",o),r([].slice.call(arguments))}eventTargetAgnosticAddListener(t,e,s,{once:!0}),e!=="error"&&addErrorHandlerIfEventEmitter(t,o,{once:!0})})}function addErrorHandlerIfEventEmitter(t,e,r){typeof t.on=="function"&&eventTargetAgnosticAddListener(t,"error",e,r)}function eventTargetAgnosticAddListener(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(s){n.once&&t.removeEventListener(e,o),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}window.Buffer=buffer$2.Buffer;window.process=browser$3.exports;window.EventEmitter=events.exports;function makeMap(t,e){const r=Object.create(null),n=t.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return e?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function normalizeStyle(t){if(isArray$2(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],o=isString$2(n)?parseStringStyle(n):normalizeStyle(n);if(o)for(const s in o)e[s]=o[s]}return e}else{if(isString$2(t))return t;if(isObject$3(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(t){const e={};return t.split(listDelimiterRE).forEach(r=>{if(r){const n=r.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$2(t))e=t;else if(isArray$2(t))for(let r=0;r<t.length;r++){const n=normalizeClass(t[r]);n&&(e+=n+" ")}else if(isObject$3(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function normalizeProps(t){if(!t)return null;let{class:e,style:r}=t;return e&&!isString$2(e)&&(t.class=normalizeClass(e)),r&&(t.style=normalizeStyle(r)),t}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=looseEqual(t[n],e[n]);return r}function looseEqual(t,e){if(t===e)return!0;let r=isDate$1(t),n=isDate$1(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=isSymbol(t),n=isSymbol(e),r||n)return t===e;if(r=isArray$2(t),n=isArray$2(e),r||n)return r&&n?looseCompareArrays(t,e):!1;if(r=isObject$3(t),n=isObject$3(e),r||n){if(!r||!n)return!1;const o=Object.keys(t).length,s=Object.keys(e).length;if(o!==s)return!1;for(const a in t){const c=t.hasOwnProperty(a),m=e.hasOwnProperty(a);if(c&&!m||!c&&m||!looseEqual(t[a],e[a]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(r=>looseEqual(r,e))}const toDisplayString=t=>isString$2(t)?t:t==null?"":isArray$2(t)||isObject$3(t)&&(t.toString===objectToString$1||!isFunction$2(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$3(e)&&!isArray$2(e)&&!isPlainObject$2(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove$1=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn$1=(t,e)=>hasOwnProperty$2.call(t,e),isArray$2=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isDate$1=t=>toTypeString(t)==="[object Date]",isFunction$2=t=>typeof t=="function",isString$2=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$3=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$3(t)&&isFunction$2(t.then)&&isFunction$2(t.catch),objectToString$1=Object.prototype.toString,toTypeString=t=>objectToString$1.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$2=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$2(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},def=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},toNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const o=e[n];wasTracked(o)&&!newTracked(o)?o.delete(t):e[r++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,r){if(shouldTrack&&activeEffect){let n=targetMap.get(t);n||targetMap.set(t,n=new Map);let o=n.get(r);o||n.set(r,o=createDep()),trackEffects(o)}}function trackEffects(t,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,r=!wasTracked(t)):r=!t.has(activeEffect),r&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,r,n,o,s){const a=targetMap.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(r==="length"&&isArray$2(t))a.forEach((m,gr)=>{(gr==="length"||gr>=n)&&c.push(m)});else switch(r!==void 0&&c.push(a.get(r)),e){case"add":isArray$2(t)?isIntegerKey(r)&&c.push(a.get("length")):(c.push(a.get(ITERATE_KEY)),isMap(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(t)||(c.push(a.get(ITERATE_KEY)),isMap(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&c.push(a.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const m=[];for(const gr of c)gr&&m.push(...gr);triggerEffects(createDep(m))}}function triggerEffects(t,e){const r=isArray$2(t)?t:[...t];for(const n of r)n.computed&&triggerEffect(n);for(const n of r)n.computed||triggerEffect(n)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=toRaw(this);for(let s=0,a=this.length;s<a;s++)track(n,"get",s+"");const o=n[e](...r);return o===-1||o===!1?n[e](...r.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pauseTracking();const n=toRaw(this)[e].apply(this,r);return resetTracking(),n}}),t}function createGetter(t=!1,e=!1){return function(n,o,s){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&s===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(n))return n;const a=isArray$2(n);if(!t&&a&&hasOwn$1(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);const c=Reflect.get(n,o,s);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(t||track(n,"get",o),e)?c:isRef(c)?a&&isIntegerKey(o)?c:c.value:isObject$3(c)?t?readonly(c):reactive(c):c}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(r,n,o,s){let a=r[n];if(isReadonly(a)&&isRef(a)&&!isRef(o))return!1;if(!t&&(!isShallow(o)&&!isReadonly(o)&&(a=toRaw(a),o=toRaw(o)),!isArray$2(r)&&isRef(a)&&!isRef(o)))return a.value=o,!0;const c=isArray$2(r)&&isIntegerKey(n)?Number(n)<r.length:hasOwn$1(r,n),m=Reflect.set(r,n,o,s);return r===toRaw(s)&&(c?hasChanged(o,a)&&trigger(r,"set",n,o):trigger(r,"add",n,o)),m}}function deleteProperty(t,e){const r=hasOwn$1(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&trigger(t,"delete",e,void 0),n}function has$1(t,e){const r=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),r}function ownKeys$1(t){return track(t,"iterate",isArray$2(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto$1=t=>Reflect.getPrototypeOf(t);function get$1$1(t,e,r=!1,n=!1){t=t.__v_raw;const o=toRaw(t),s=toRaw(e);r||(e!==s&&track(o,"get",e),track(o,"get",s));const{has:a}=getProto$1(o),c=n?toShallow:r?toReadonly:toReactive;if(a.call(o,e))return c(t.get(e));if(a.call(o,s))return c(t.get(s));t!==o&&t.get(e)}function has$1$1(t,e=!1){const r=this.__v_raw,n=toRaw(r),o=toRaw(t);return e||(t!==o&&track(n,"has",t),track(n,"has",o)),t===o?r.has(t):r.has(t)||r.has(o)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add$1(t){t=toRaw(t);const e=toRaw(this);return getProto$1(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$1$1(t,e){e=toRaw(e);const r=toRaw(this),{has:n,get:o}=getProto$1(r);let s=n.call(r,t);s||(t=toRaw(t),s=n.call(r,t));const a=o.call(r,t);return r.set(t,e),s?hasChanged(e,a)&&trigger(r,"set",t,e):trigger(r,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:r,get:n}=getProto$1(e);let o=r.call(e,t);o||(t=toRaw(t),o=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return o&&trigger(e,"delete",t,void 0),s}function clear(){const t=toRaw(this),e=t.size!==0,r=t.clear();return e&&trigger(t,"clear",void 0,void 0),r}function createForEach(t,e){return function(n,o){const s=this,a=s.__v_raw,c=toRaw(a),m=e?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",ITERATE_KEY),a.forEach((gr,_r)=>n.call(o,m(gr),m(_r),s))}}function createIterableMethod(t,e,r){return function(...n){const o=this.__v_raw,s=toRaw(o),a=isMap(s),c=t==="entries"||t===Symbol.iterator&&a,m=t==="keys"&&a,gr=o[t](...n),_r=r?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",m?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:wr,done:Or}=gr.next();return Or?{value:wr,done:Or}:{value:c?[_r(wr[0]),_r(wr[1])]:_r(wr),done:Or}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(s){return get$1$1(this,s)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(s){return get$1$1(this,s,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(s){return get$1$1(this,s,!0)},get size(){return size(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(s){return get$1$1(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=createIterableMethod(s,!1,!1),r[s]=createIterableMethod(s,!0,!1),e[s]=createIterableMethod(s,!1,!0),n[s]=createIterableMethod(s,!0,!0)}),[t,r,e,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const r=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(n,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(hasOwn$1(r,o)&&o in n?r:n,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,r,n,o){if(!isObject$3(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const a=getTargetType(t);if(a===0)return t;const c=new Proxy(t,a===2?n:r);return o.set(t,c),c}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$3(t)?reactive(t):t,toReadonly=t=>isObject$3(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,r)=>unref(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const o=t[e];return isRef(o)&&!isRef(r)?(o.value=r,!0):Reflect.set(t,e,r,n)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}function toRefs(t){const e=isArray$2(t)?new Array(t.length):{};for(const r in t)e[r]=toRef(t,r);return e}class ObjectRefImpl{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function toRef(t,e,r){const n=t[e];return isRef(n)?n:new ObjectRefImpl(t,e,r)}var _a$1;class ComputedRefImpl{constructor(e,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}_a$1="__v_isReadonly";function computed$2(t,e,r=!1){let n,o;const s=isFunction$2(t);return s?(n=t,o=NOOP$1):(n=t.get,o=t.set),new ComputedRefImpl(n,o,s||!o,r)}function callWithErrorHandling(t,e,r,n){let o;try{o=n?t(...n):t()}catch(s){handleError(s,e,r)}return o}function callWithAsyncErrorHandling(t,e,r,n){if(isFunction$2(t)){const s=callWithErrorHandling(t,e,r,n);return s&&isPromise(s)&&s.catch(a=>{handleError(a,e,r)}),s}const o=[];for(let s=0;s<t.length;s++)o.push(callWithAsyncErrorHandling(t[s],e,r,n));return o}function handleError(t,e,r,n=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=r;for(;s;){const gr=s.ec;if(gr){for(let _r=0;_r<gr.length;_r++)if(gr[_r](t,a,c)===!1)return}s=s.parent}const m=e.appContext.config.errorHandler;if(m){callWithErrorHandling(m,null,10,[t,a,c]);return}}logError(t,r,o,n)}function logError(t,e,r,n=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,r=queue.length;for(;e<r;){const n=e+r>>>1;getId(queue[n])<t?e=n+1:r=n}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$2(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,n)=>getId(r)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const r=getId(t)-getId(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP$1;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||EMPTY_OBJ;let o=r;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in n){const _r=`${a==="modelValue"?"model":a}Modifiers`,{number:wr,trim:Or}=n[_r]||EMPTY_OBJ;Or&&(o=r.map(Ir=>Ir.trim())),wr&&(o=r.map(toNumber))}let c,m=n[c=toHandlerKey(e)]||n[c=toHandlerKey(camelize(e))];!m&&s&&(m=n[c=toHandlerKey(hyphenate(e))]),m&&callWithAsyncErrorHandling(m,t,6,o);const gr=n[c+"Once"];if(gr){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,callWithAsyncErrorHandling(gr,t,6,o)}}function normalizeEmitsOptions(t,e,r=!1){const n=e.emitsCache,o=n.get(t);if(o!==void 0)return o;const s=t.emits;let a={},c=!1;if(!isFunction$2(t)){const m=gr=>{const _r=normalizeEmitsOptions(gr,e,!0);_r&&(c=!0,extend(a,_r))};!r&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}return!s&&!c?(isObject$3(t)&&n.set(t,null),null):(isArray$2(s)?s.forEach(m=>a[m]=null):extend(a,s),isObject$3(t)&&n.set(t,a),a)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$1(t,e[0].toLowerCase()+e.slice(1))||hasOwn$1(t,hyphenate(e))||hasOwn$1(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function withCtx(t,e=currentRenderingInstance,r){if(!e||t._n)return t;const n=(...o)=>{n._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(e),a=t(...o);return setCurrentRenderingInstance(s),n._d&&setBlockTracking(1),a};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:r,proxy:n,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:m,emit:gr,render:_r,renderCache:wr,data:Or,setupState:Ir,ctx:Pr,inheritAttrs:kr}=t;let xr,Cr;const Kr=setCurrentRenderingInstance(t);try{if(r.shapeFlag&4){const qr=o||n;xr=normalizeVNode(_r.call(qr,qr,wr,s,Ir,Or,Pr)),Cr=m}else{const qr=e;xr=normalizeVNode(qr.length>1?qr(s,{attrs:m,slots:c,emit:gr}):qr(s,null)),Cr=e.props?m:getFunctionalFallthrough(m)}}catch(qr){blockStack.length=0,handleError(qr,t,1),xr=createVNode(Comment)}let Fr=xr;if(Cr&&kr!==!1){const qr=Object.keys(Cr),{shapeFlag:Gr}=Fr;qr.length&&Gr&7&&(a&&qr.some(isModelListener)&&(Cr=filterModelListeners(Cr,a)),Fr=cloneVNode(Fr,Cr))}return r.dirs&&(Fr=cloneVNode(Fr),Fr.dirs=Fr.dirs?Fr.dirs.concat(r.dirs):r.dirs),r.transition&&(Fr.transition=r.transition),xr=Fr,setCurrentRenderingInstance(Kr),xr}const getFunctionalFallthrough=t=>{let e;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=t[r]);return e},filterModelListeners=(t,e)=>{const r={};for(const n in t)(!isModelListener(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function shouldUpdateComponent(t,e,r){const{props:n,children:o,component:s}=t,{props:a,children:c,patchFlag:m}=e,gr=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&m>=0){if(m&1024)return!0;if(m&16)return n?hasPropsChanged(n,a,gr):!!a;if(m&8){const _r=e.dynamicProps;for(let wr=0;wr<_r.length;wr++){const Or=_r[wr];if(a[Or]!==n[Or]&&!isEmitListener(gr,Or))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:n===a?!1:n?a?hasPropsChanged(n,a,gr):!0:!!a;return!1}function hasPropsChanged(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const s=n[o];if(e[s]!==t[s]&&!isEmitListener(r,s))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$2(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function provide(t,e){if(currentInstance){let r=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===r&&(r=currentInstance.provides=Object.create(n)),r[t]=e}}function inject(t,e,r=!1){const n=currentInstance||currentRenderingInstance;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return r&&isFunction$2(e)?e.call(n.proxy):e}}function watchEffect(t,e){return doWatch(t,null,e)}const INITIAL_WATCHER_VALUE={};function watch(t,e,r){return doWatch(t,e,r)}function doWatch(t,e,{immediate:r,deep:n,flush:o,onTrack:s,onTrigger:a}=EMPTY_OBJ){const c=currentInstance;let m,gr=!1,_r=!1;if(isRef(t)?(m=()=>t.value,gr=isShallow(t)):isReactive(t)?(m=()=>t,n=!0):isArray$2(t)?(_r=!0,gr=t.some(Cr=>isReactive(Cr)||isShallow(Cr)),m=()=>t.map(Cr=>{if(isRef(Cr))return Cr.value;if(isReactive(Cr))return traverse(Cr);if(isFunction$2(Cr))return callWithErrorHandling(Cr,c,2)})):isFunction$2(t)?e?m=()=>callWithErrorHandling(t,c,2):m=()=>{if(!(c&&c.isUnmounted))return wr&&wr(),callWithAsyncErrorHandling(t,c,3,[Or])}:m=NOOP$1,e&&n){const Cr=m;m=()=>traverse(Cr())}let wr,Or=Cr=>{wr=xr.onStop=()=>{callWithErrorHandling(Cr,c,4)}};if(isInSSRComponentSetup)return Or=NOOP$1,e?r&&callWithAsyncErrorHandling(e,c,3,[m(),_r?[]:void 0,Or]):m(),NOOP$1;let Ir=_r?[]:INITIAL_WATCHER_VALUE;const Pr=()=>{if(!!xr.active)if(e){const Cr=xr.run();(n||gr||(_r?Cr.some((Kr,Fr)=>hasChanged(Kr,Ir[Fr])):hasChanged(Cr,Ir)))&&(wr&&wr(),callWithAsyncErrorHandling(e,c,3,[Cr,Ir===INITIAL_WATCHER_VALUE?void 0:Ir,Or]),Ir=Cr)}else xr.run()};Pr.allowRecurse=!!e;let kr;o==="sync"?kr=Pr:o==="post"?kr=()=>queuePostRenderEffect(Pr,c&&c.suspense):(Pr.pre=!0,c&&(Pr.id=c.uid),kr=()=>queueJob(Pr));const xr=new ReactiveEffect(m,kr);return e?r?Pr():Ir=xr.run():o==="post"?queuePostRenderEffect(xr.run.bind(xr),c&&c.suspense):xr.run(),()=>{xr.stop(),c&&c.scope&&remove$1(c.scope.effects,xr)}}function instanceWatch(t,e,r){const n=this.proxy,o=isString$2(t)?t.includes(".")?createPathGetter(n,t):()=>n[t]:t.bind(n,n);let s;isFunction$2(e)?s=e:(s=e.handler,r=e);const a=currentInstance;setCurrentInstance(this);const c=doWatch(o,s.bind(n),r);return a?setCurrentInstance(a):unsetCurrentInstance(),c}function createPathGetter(t,e){const r=e.split(".");return()=>{let n=t;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function traverse(t,e){if(!isObject$3(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$2(t))for(let r=0;r<t.length;r++)traverse(t[r],e);else if(isSet(t)||isMap(t))t.forEach(r=>{traverse(r,e)});else if(isPlainObject$2(t))for(const r in t)traverse(t[r],e);return t}function defineComponent(t){return isFunction$2(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,r=currentInstance){const n=t.__wdc||(t.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(e,n,r),r){let o=r.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(n,e,r,o),o=o.parent}}function injectToKeepAliveRoot(t,e,r,n){const o=injectHook(e,t,n,!0);onUnmounted(()=>{remove$1(n[e],o)},r)}function injectHook(t,e,r=currentInstance,n=!1){if(r){const o=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const c=callWithAsyncErrorHandling(e,r,t,a);return unsetCurrentInstance(),resetTracking(),c});return n?o.unshift(s):o.push(s),s}}const createHook=t=>(e,r=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,e,r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function withDirectives(t,e){const r=currentRenderingInstance;if(r===null)return t;const n=getExposeProxy(r)||r.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,m,gr=EMPTY_OBJ]=e[s];isFunction$2(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(c),o.push({dir:a,instance:n,value:c,oldValue:void 0,arg:m,modifiers:gr})}return t}function invokeDirectiveHook(t,e,r,n){const o=t.dirs,s=e&&e.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let m=c.dir[n];m&&(pauseTracking(),callWithAsyncErrorHandling(m,r,8,[t.el,c,t,e]),resetTracking())}}const COMPONENTS="components";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(t,e,r=!0,n=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(t===COMPONENTS){const c=getComponentName(s,!1);if(c&&(c===e||c===camelize(e)||c===capitalize(camelize(e))))return s}const a=resolve(o[t]||s[t],e)||resolve(o.appContext[t],e);return!a&&n?s:a}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,r,n){let o;const s=r&&r[n];if(isArray$2(t)||isString$2(t)){o=new Array(t.length);for(let a=0,c=t.length;a<c;a++)o[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,s&&s[a])}else if(isObject$3(t))if(t[Symbol.iterator])o=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);o=new Array(a.length);for(let c=0,m=a.length;c<m;c++){const gr=a[c];o[c]=e(t[gr],gr,c,s&&s[c])}}else o=[];return r&&(r[n]=o),o}function renderSlot(t,e,r={},n,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",e==="default"?null:{name:e},n&&n());let s=t[e];s&&s._c&&(s._d=!1),openBlock();const a=s&&ensureValidVNode(s(r)),c=createBlock(Fragment,{key:r.key||a&&a.key||`_${e}`},a||(n?n():[]),a&&t._===1?64:-2);return!o&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:r,setupState:n,data:o,props:s,accessCache:a,type:c,appContext:m}=t;let gr;if(e[0]!=="$"){const Ir=a[e];if(Ir!==void 0)switch(Ir){case 1:return n[e];case 2:return o[e];case 4:return r[e];case 3:return s[e]}else{if(n!==EMPTY_OBJ&&hasOwn$1(n,e))return a[e]=1,n[e];if(o!==EMPTY_OBJ&&hasOwn$1(o,e))return a[e]=2,o[e];if((gr=t.propsOptions[0])&&hasOwn$1(gr,e))return a[e]=3,s[e];if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return a[e]=4,r[e];shouldCacheAccess&&(a[e]=0)}}const _r=publicPropertiesMap[e];let wr,Or;if(_r)return e==="$attrs"&&track(t,"get",e),_r(t);if((wr=c.__cssModules)&&(wr=wr[e]))return wr;if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return a[e]=4,r[e];if(Or=m.config.globalProperties,hasOwn$1(Or,e))return Or[e]},set({_:t},e,r){const{data:n,setupState:o,ctx:s}=t;return o!==EMPTY_OBJ&&hasOwn$1(o,e)?(o[e]=r,!0):n!==EMPTY_OBJ&&hasOwn$1(n,e)?(n[e]=r,!0):hasOwn$1(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:o,propsOptions:s}},a){let c;return!!r[a]||t!==EMPTY_OBJ&&hasOwn$1(t,a)||e!==EMPTY_OBJ&&hasOwn$1(e,a)||(c=s[0])&&hasOwn$1(c,a)||hasOwn$1(n,a)||hasOwn$1(publicPropertiesMap,a)||hasOwn$1(o.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:hasOwn$1(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),r=t.proxy,n=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:a,watch:c,provide:m,inject:gr,created:_r,beforeMount:wr,mounted:Or,beforeUpdate:Ir,updated:Pr,activated:kr,deactivated:xr,beforeDestroy:Cr,beforeUnmount:Kr,destroyed:Fr,unmounted:qr,render:Gr,renderTracked:jr,renderTriggered:Vr,errorCaptured:Jr,serverPrefetch:ln,expose:tn,inheritAttrs:sn,components:dn,directives:Rr,filters:vr}=e;if(gr&&resolveInjections(gr,n,null,t.appContext.config.unwrapInjectedRef),a)for(const Ur in a){const Hr=a[Ur];isFunction$2(Hr)&&(n[Ur]=Hr.bind(r))}if(o){const Ur=o.call(r,r);isObject$3(Ur)&&(t.data=reactive(Ur))}if(shouldCacheAccess=!0,s)for(const Ur in s){const Hr=s[Ur],nn=isFunction$2(Hr)?Hr.bind(r,r):isFunction$2(Hr.get)?Hr.get.bind(r,r):NOOP$1,pn=!isFunction$2(Hr)&&isFunction$2(Hr.set)?Hr.set.bind(r):NOOP$1,Nr=computed$1({get:nn,set:pn});Object.defineProperty(n,Ur,{enumerable:!0,configurable:!0,get:()=>Nr.value,set:Er=>Nr.value=Er})}if(c)for(const Ur in c)createWatcher(c[Ur],n,r,Ur);if(m){const Ur=isFunction$2(m)?m.call(r):m;Reflect.ownKeys(Ur).forEach(Hr=>{provide(Hr,Ur[Hr])})}_r&&callHook(_r,t,"c");function Lr(Ur,Hr){isArray$2(Hr)?Hr.forEach(nn=>Ur(nn.bind(r))):Hr&&Ur(Hr.bind(r))}if(Lr(onBeforeMount,wr),Lr(onMounted,Or),Lr(onBeforeUpdate,Ir),Lr(onUpdated,Pr),Lr(onActivated,kr),Lr(onDeactivated,xr),Lr(onErrorCaptured,Jr),Lr(onRenderTracked,jr),Lr(onRenderTriggered,Vr),Lr(onBeforeUnmount,Kr),Lr(onUnmounted,qr),Lr(onServerPrefetch,ln),isArray$2(tn))if(tn.length){const Ur=t.exposed||(t.exposed={});tn.forEach(Hr=>{Object.defineProperty(Ur,Hr,{get:()=>r[Hr],set:nn=>r[Hr]=nn})})}else t.exposed||(t.exposed={});Gr&&t.render===NOOP$1&&(t.render=Gr),sn!=null&&(t.inheritAttrs=sn),dn&&(t.components=dn),Rr&&(t.directives=Rr)}function resolveInjections(t,e,r=NOOP$1,n=!1){isArray$2(t)&&(t=normalizeInject(t));for(const o in t){const s=t[o];let a;isObject$3(s)?"default"in s?a=inject(s.from||o,s.default,!0):a=inject(s.from||o):a=inject(s),isRef(a)&&n?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[o]=a}}function callHook(t,e,r){callWithAsyncErrorHandling(isArray$2(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function createWatcher(t,e,r,n){const o=n.includes(".")?createPathGetter(r,n):()=>r[n];if(isString$2(t)){const s=e[t];isFunction$2(s)&&watch(o,s)}else if(isFunction$2(t))watch(o,t.bind(r));else if(isObject$3(t))if(isArray$2(t))t.forEach(s=>createWatcher(s,e,r,n));else{const s=isFunction$2(t.handler)?t.handler.bind(r):e[t.handler];isFunction$2(s)&&watch(o,s,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let m;return c?m=c:!o.length&&!r&&!n?m=e:(m={},o.length&&o.forEach(gr=>mergeOptions$1(m,gr,a,!0)),mergeOptions$1(m,e,a)),isObject$3(e)&&s.set(e,m),m}function mergeOptions$1(t,e,r,n=!1){const{mixins:o,extends:s}=e;s&&mergeOptions$1(t,s,r,!0),o&&o.forEach(a=>mergeOptions$1(t,a,r,!0));for(const a in e)if(!(n&&a==="expose")){const c=internalOptionMergeStrats[a]||r&&r[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction$2(t)?t.call(this,this):t,isFunction$2(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$2(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(extend(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const r=extend(Object.create(null),t);for(const n in e)r[n]=mergeAsArray(t[n],e[n]);return r}function initProps(t,e,r,n=!1){const o={},s={};def(s,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,o,s);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);r?t.props=n?o:shallowReactive(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function updateProps(t,e,r,n){const{props:o,attrs:s,vnode:{patchFlag:a}}=t,c=toRaw(o),[m]=t.propsOptions;let gr=!1;if((n||a>0)&&!(a&16)){if(a&8){const _r=t.vnode.dynamicProps;for(let wr=0;wr<_r.length;wr++){let Or=_r[wr];if(isEmitListener(t.emitsOptions,Or))continue;const Ir=e[Or];if(m)if(hasOwn$1(s,Or))Ir!==s[Or]&&(s[Or]=Ir,gr=!0);else{const Pr=camelize(Or);o[Pr]=resolvePropValue(m,c,Pr,Ir,t,!1)}else Ir!==s[Or]&&(s[Or]=Ir,gr=!0)}}}else{setFullProps(t,e,o,s)&&(gr=!0);let _r;for(const wr in c)(!e||!hasOwn$1(e,wr)&&((_r=hyphenate(wr))===wr||!hasOwn$1(e,_r)))&&(m?r&&(r[wr]!==void 0||r[_r]!==void 0)&&(o[wr]=resolvePropValue(m,c,wr,void 0,t,!0)):delete o[wr]);if(s!==c)for(const wr in s)(!e||!hasOwn$1(e,wr)&&!0)&&(delete s[wr],gr=!0)}gr&&trigger(t,"set","$attrs")}function setFullProps(t,e,r,n){const[o,s]=t.propsOptions;let a=!1,c;if(e)for(let m in e){if(isReservedProp(m))continue;const gr=e[m];let _r;o&&hasOwn$1(o,_r=camelize(m))?!s||!s.includes(_r)?r[_r]=gr:(c||(c={}))[_r]=gr:isEmitListener(t.emitsOptions,m)||(!(m in n)||gr!==n[m])&&(n[m]=gr,a=!0)}if(s){const m=toRaw(r),gr=c||EMPTY_OBJ;for(let _r=0;_r<s.length;_r++){const wr=s[_r];r[wr]=resolvePropValue(o,m,wr,gr[wr],t,!hasOwn$1(gr,wr))}}return a}function resolvePropValue(t,e,r,n,o,s){const a=t[r];if(a!=null){const c=hasOwn$1(a,"default");if(c&&n===void 0){const m=a.default;if(a.type!==Function&&isFunction$2(m)){const{propsDefaults:gr}=o;r in gr?n=gr[r]:(setCurrentInstance(o),n=gr[r]=m.call(null,e),unsetCurrentInstance())}else n=m}a[0]&&(s&&!c?n=!1:a[1]&&(n===""||n===hyphenate(r))&&(n=!0))}return n}function normalizePropsOptions(t,e,r=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const s=t.props,a={},c=[];let m=!1;if(!isFunction$2(t)){const _r=wr=>{m=!0;const[Or,Ir]=normalizePropsOptions(wr,e,!0);extend(a,Or),Ir&&c.push(...Ir)};!r&&e.mixins.length&&e.mixins.forEach(_r),t.extends&&_r(t.extends),t.mixins&&t.mixins.forEach(_r)}if(!s&&!m)return isObject$3(t)&&n.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$2(s))for(let _r=0;_r<s.length;_r++){const wr=camelize(s[_r]);validatePropName(wr)&&(a[wr]=EMPTY_OBJ)}else if(s)for(const _r in s){const wr=camelize(_r);if(validatePropName(wr)){const Or=s[_r],Ir=a[wr]=isArray$2(Or)||isFunction$2(Or)?{type:Or}:Or;if(Ir){const Pr=getTypeIndex(Boolean,Ir.type),kr=getTypeIndex(String,Ir.type);Ir[0]=Pr>-1,Ir[1]=kr<0||Pr<kr,(Pr>-1||hasOwn$1(Ir,"default"))&&c.push(wr)}}}const gr=[a,c];return isObject$3(t)&&n.set(t,gr),gr}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$2(e)?e.findIndex(r=>isSameType(r,t)):isFunction$2(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$2(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,r)=>{if(e._n)return e;const n=withCtx((...o)=>normalizeSlotValue(e(...o)),r);return n._c=!1,n},normalizeObjectSlots=(t,e,r)=>{const n=t._ctx;for(const o in t){if(isInternalKey(o))continue;const s=t[o];if(isFunction$2(s))e[o]=normalizeSlot$1(o,s,n);else if(s!=null){const a=normalizeSlotValue(s);e[o]=()=>a}}},normalizeVNodeSlots=(t,e)=>{const r=normalizeSlotValue(e);t.slots.default=()=>r},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,r)=>{const{vnode:n,slots:o}=t;let s=!0,a=EMPTY_OBJ;if(n.shapeFlag&32){const c=e._;c?r&&c===1?s=!1:(extend(o,e),!r&&c===1&&delete o._):(s=!e.$stable,normalizeObjectSlots(e,o)),a=e}else e&&(normalizeVNodeSlots(t,e),a={default:1});if(s)for(const c in o)!isInternalKey(c)&&!(c in a)&&delete o[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(t,e){return function(n,o=null){isFunction$2(n)||(n=Object.assign({},n)),o!=null&&!isObject$3(o)&&(o=null);const s=createAppContext(),a=new Set;let c=!1;const m=s.app={_uid:uid++,_component:n,_props:o,_container:null,_context:s,_instance:null,version:version$1,get config(){return s.config},set config(gr){},use(gr,..._r){return a.has(gr)||(gr&&isFunction$2(gr.install)?(a.add(gr),gr.install(m,..._r)):isFunction$2(gr)&&(a.add(gr),gr(m,..._r))),m},mixin(gr){return s.mixins.includes(gr)||s.mixins.push(gr),m},component(gr,_r){return _r?(s.components[gr]=_r,m):s.components[gr]},directive(gr,_r){return _r?(s.directives[gr]=_r,m):s.directives[gr]},mount(gr,_r,wr){if(!c){const Or=createVNode(n,o);return Or.appContext=s,_r&&e?e(Or,gr):t(Or,gr,wr),c=!0,m._container=gr,gr.__vue_app__=m,getExposeProxy(Or.component)||Or.component.proxy}},unmount(){c&&(t(null,m._container),delete m._container.__vue_app__)},provide(gr,_r){return s.provides[gr]=_r,m}};return m}}function setRef(t,e,r,n,o=!1){if(isArray$2(t)){t.forEach((Or,Ir)=>setRef(Or,e&&(isArray$2(e)?e[Ir]:e),r,n,o));return}if(isAsyncWrapper(n)&&!o)return;const s=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,a=o?null:s,{i:c,r:m}=t,gr=e&&e.r,_r=c.refs===EMPTY_OBJ?c.refs={}:c.refs,wr=c.setupState;if(gr!=null&&gr!==m&&(isString$2(gr)?(_r[gr]=null,hasOwn$1(wr,gr)&&(wr[gr]=null)):isRef(gr)&&(gr.value=null)),isFunction$2(m))callWithErrorHandling(m,c,12,[a,_r]);else{const Or=isString$2(m),Ir=isRef(m);if(Or||Ir){const Pr=()=>{if(t.f){const kr=Or?_r[m]:m.value;o?isArray$2(kr)&&remove$1(kr,s):isArray$2(kr)?kr.includes(s)||kr.push(s):Or?(_r[m]=[s],hasOwn$1(wr,m)&&(wr[m]=_r[m])):(m.value=[s],t.k&&(_r[t.k]=m.value))}else Or?(_r[m]=a,hasOwn$1(wr,m)&&(wr[m]=a)):Ir&&(m.value=a,t.k&&(_r[t.k]=a))};a?(Pr.id=-1,queuePostRenderEffect(Pr,r)):Pr()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:n,remove:o,patchProp:s,createElement:a,createText:c,createComment:m,setText:gr,setElementText:_r,parentNode:wr,nextSibling:Or,setScopeId:Ir=NOOP$1,cloneNode:Pr,insertStaticContent:kr}=t,xr=(en,on,gn,xn=null,wn=null,$n=null,mn=!1,kn=null,Rn=!!on.dynamicChildren)=>{if(en===on)return;en&&!isSameVNodeType(en,on)&&(xn=un(en),Mr(en,wn,$n,!0),en=null),on.patchFlag===-2&&(Rn=!1,on.dynamicChildren=null);const{type:rn,ref:fn,shapeFlag:vn}=on;switch(rn){case Text:Cr(en,on,gn,xn);break;case Comment:Kr(en,on,gn,xn);break;case Static:en==null&&Fr(on,gn,xn,mn);break;case Fragment:Rr(en,on,gn,xn,wn,$n,mn,kn,Rn);break;default:vn&1?jr(en,on,gn,xn,wn,$n,mn,kn,Rn):vn&6?vr(en,on,gn,xn,wn,$n,mn,kn,Rn):(vn&64||vn&128)&&rn.process(en,on,gn,xn,wn,$n,mn,kn,Rn,On)}fn!=null&&wn&&setRef(fn,en&&en.ref,$n,on||en,!on)},Cr=(en,on,gn,xn)=>{if(en==null)n(on.el=c(on.children),gn,xn);else{const wn=on.el=en.el;on.children!==en.children&&gr(wn,on.children)}},Kr=(en,on,gn,xn)=>{en==null?n(on.el=m(on.children||""),gn,xn):on.el=en.el},Fr=(en,on,gn,xn)=>{[en.el,en.anchor]=kr(en.children,on,gn,xn,en.el,en.anchor)},qr=({el:en,anchor:on},gn,xn)=>{let wn;for(;en&&en!==on;)wn=Or(en),n(en,gn,xn),en=wn;n(on,gn,xn)},Gr=({el:en,anchor:on})=>{let gn;for(;en&&en!==on;)gn=Or(en),o(en),en=gn;o(on)},jr=(en,on,gn,xn,wn,$n,mn,kn,Rn)=>{mn=mn||on.type==="svg",en==null?Vr(on,gn,xn,wn,$n,mn,kn,Rn):tn(en,on,wn,$n,mn,kn,Rn)},Vr=(en,on,gn,xn,wn,$n,mn,kn)=>{let Rn,rn;const{type:fn,props:vn,shapeFlag:En,transition:Bn,patchFlag:br,dirs:l}=en;if(en.el&&Pr!==void 0&&br===-1)Rn=en.el=Pr(en.el);else{if(Rn=en.el=a(en.type,$n,vn&&vn.is,vn),En&8?_r(Rn,en.children):En&16&&ln(en.children,Rn,null,xn,wn,$n&&fn!=="foreignObject",mn,kn),l&&invokeDirectiveHook(en,null,xn,"created"),vn){for(const Ar in vn)Ar!=="value"&&!isReservedProp(Ar)&&s(Rn,Ar,null,vn[Ar],$n,en.children,xn,wn,an);"value"in vn&&s(Rn,"value",null,vn.value),(rn=vn.onVnodeBeforeMount)&&invokeVNodeHook(rn,xn,en)}Jr(Rn,en,en.scopeId,mn,xn)}l&&invokeDirectiveHook(en,null,xn,"beforeMount");const d=(!wn||wn&&!wn.pendingBranch)&&Bn&&!Bn.persisted;d&&Bn.beforeEnter(Rn),n(Rn,on,gn),((rn=vn&&vn.onVnodeMounted)||d||l)&&queuePostRenderEffect(()=>{rn&&invokeVNodeHook(rn,xn,en),d&&Bn.enter(Rn),l&&invokeDirectiveHook(en,null,xn,"mounted")},wn)},Jr=(en,on,gn,xn,wn)=>{if(gn&&Ir(en,gn),xn)for(let $n=0;$n<xn.length;$n++)Ir(en,xn[$n]);if(wn){let $n=wn.subTree;if(on===$n){const mn=wn.vnode;Jr(en,mn,mn.scopeId,mn.slotScopeIds,wn.parent)}}},ln=(en,on,gn,xn,wn,$n,mn,kn,Rn=0)=>{for(let rn=Rn;rn<en.length;rn++){const fn=en[rn]=kn?cloneIfMounted(en[rn]):normalizeVNode(en[rn]);xr(null,fn,on,gn,xn,wn,$n,mn,kn)}},tn=(en,on,gn,xn,wn,$n,mn)=>{const kn=on.el=en.el;let{patchFlag:Rn,dynamicChildren:rn,dirs:fn}=on;Rn|=en.patchFlag&16;const vn=en.props||EMPTY_OBJ,En=on.props||EMPTY_OBJ;let Bn;gn&&toggleRecurse(gn,!1),(Bn=En.onVnodeBeforeUpdate)&&invokeVNodeHook(Bn,gn,on,en),fn&&invokeDirectiveHook(on,en,gn,"beforeUpdate"),gn&&toggleRecurse(gn,!0);const br=wn&&on.type!=="foreignObject";if(rn?sn(en.dynamicChildren,rn,kn,gn,xn,br,$n):mn||nn(en,on,kn,null,gn,xn,br,$n,!1),Rn>0){if(Rn&16)dn(kn,on,vn,En,gn,xn,wn);else if(Rn&2&&vn.class!==En.class&&s(kn,"class",null,En.class,wn),Rn&4&&s(kn,"style",vn.style,En.style,wn),Rn&8){const l=on.dynamicProps;for(let d=0;d<l.length;d++){const Ar=l[d],$r=vn[Ar],Dr=En[Ar];(Dr!==$r||Ar==="value")&&s(kn,Ar,$r,Dr,wn,en.children,gn,xn,an)}}Rn&1&&en.children!==on.children&&_r(kn,on.children)}else!mn&&rn==null&&dn(kn,on,vn,En,gn,xn,wn);((Bn=En.onVnodeUpdated)||fn)&&queuePostRenderEffect(()=>{Bn&&invokeVNodeHook(Bn,gn,on,en),fn&&invokeDirectiveHook(on,en,gn,"updated")},xn)},sn=(en,on,gn,xn,wn,$n,mn)=>{for(let kn=0;kn<on.length;kn++){const Rn=en[kn],rn=on[kn],fn=Rn.el&&(Rn.type===Fragment||!isSameVNodeType(Rn,rn)||Rn.shapeFlag&70)?wr(Rn.el):gn;xr(Rn,rn,fn,null,xn,wn,$n,mn,!0)}},dn=(en,on,gn,xn,wn,$n,mn)=>{if(gn!==xn){for(const kn in xn){if(isReservedProp(kn))continue;const Rn=xn[kn],rn=gn[kn];Rn!==rn&&kn!=="value"&&s(en,kn,rn,Rn,mn,on.children,wn,$n,an)}if(gn!==EMPTY_OBJ)for(const kn in gn)!isReservedProp(kn)&&!(kn in xn)&&s(en,kn,gn[kn],null,mn,on.children,wn,$n,an);"value"in xn&&s(en,"value",gn.value,xn.value)}},Rr=(en,on,gn,xn,wn,$n,mn,kn,Rn)=>{const rn=on.el=en?en.el:c(""),fn=on.anchor=en?en.anchor:c("");let{patchFlag:vn,dynamicChildren:En,slotScopeIds:Bn}=on;Bn&&(kn=kn?kn.concat(Bn):Bn),en==null?(n(rn,gn,xn),n(fn,gn,xn),ln(on.children,gn,fn,wn,$n,mn,kn,Rn)):vn>0&&vn&64&&En&&en.dynamicChildren?(sn(en.dynamicChildren,En,gn,wn,$n,mn,kn),(on.key!=null||wn&&on===wn.subTree)&&traverseStaticChildren(en,on,!0)):nn(en,on,gn,fn,wn,$n,mn,kn,Rn)},vr=(en,on,gn,xn,wn,$n,mn,kn,Rn)=>{on.slotScopeIds=kn,en==null?on.shapeFlag&512?wn.ctx.activate(on,gn,xn,mn,Rn):Tr(on,gn,xn,wn,$n,mn,Rn):Lr(en,on,Rn)},Tr=(en,on,gn,xn,wn,$n,mn)=>{const kn=en.component=createComponentInstance(en,xn,wn);if(isKeepAlive(en)&&(kn.ctx.renderer=On),setupComponent(kn),kn.asyncDep){if(wn&&wn.registerDep(kn,Ur),!en.el){const Rn=kn.subTree=createVNode(Comment);Kr(null,Rn,on,gn)}return}Ur(kn,en,on,gn,wn,$n,mn)},Lr=(en,on,gn)=>{const xn=on.component=en.component;if(shouldUpdateComponent(en,on,gn))if(xn.asyncDep&&!xn.asyncResolved){Hr(xn,on,gn);return}else xn.next=on,invalidateJob(xn.update),xn.update();else on.el=en.el,xn.vnode=on},Ur=(en,on,gn,xn,wn,$n,mn)=>{const kn=()=>{if(en.isMounted){let{next:fn,bu:vn,u:En,parent:Bn,vnode:br}=en,l=fn,d;toggleRecurse(en,!1),fn?(fn.el=br.el,Hr(en,fn,mn)):fn=br,vn&&invokeArrayFns(vn),(d=fn.props&&fn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(d,Bn,fn,br),toggleRecurse(en,!0);const Ar=renderComponentRoot(en),$r=en.subTree;en.subTree=Ar,xr($r,Ar,wr($r.el),un($r),en,wn,$n),fn.el=Ar.el,l===null&&updateHOCHostEl(en,Ar.el),En&&queuePostRenderEffect(En,wn),(d=fn.props&&fn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(d,Bn,fn,br),wn)}else{let fn;const{el:vn,props:En}=on,{bm:Bn,m:br,parent:l}=en,d=isAsyncWrapper(on);if(toggleRecurse(en,!1),Bn&&invokeArrayFns(Bn),!d&&(fn=En&&En.onVnodeBeforeMount)&&invokeVNodeHook(fn,l,on),toggleRecurse(en,!0),vn&&In){const Ar=()=>{en.subTree=renderComponentRoot(en),In(vn,en.subTree,en,wn,null)};d?on.type.__asyncLoader().then(()=>!en.isUnmounted&&Ar()):Ar()}else{const Ar=en.subTree=renderComponentRoot(en);xr(null,Ar,gn,xn,en,wn,$n),on.el=Ar.el}if(br&&queuePostRenderEffect(br,wn),!d&&(fn=En&&En.onVnodeMounted)){const Ar=on;queuePostRenderEffect(()=>invokeVNodeHook(fn,l,Ar),wn)}(on.shapeFlag&256||l&&isAsyncWrapper(l.vnode)&&l.vnode.shapeFlag&256)&&en.a&&queuePostRenderEffect(en.a,wn),en.isMounted=!0,on=gn=xn=null}},Rn=en.effect=new ReactiveEffect(kn,()=>queueJob(rn),en.scope),rn=en.update=()=>Rn.run();rn.id=en.uid,toggleRecurse(en,!0),rn()},Hr=(en,on,gn)=>{on.component=en;const xn=en.vnode.props;en.vnode=on,en.next=null,updateProps(en,on.props,xn,gn),updateSlots(en,on.children,gn),pauseTracking(),flushPreFlushCbs(),resetTracking()},nn=(en,on,gn,xn,wn,$n,mn,kn,Rn=!1)=>{const rn=en&&en.children,fn=en?en.shapeFlag:0,vn=on.children,{patchFlag:En,shapeFlag:Bn}=on;if(En>0){if(En&128){Nr(rn,vn,gn,xn,wn,$n,mn,kn,Rn);return}else if(En&256){pn(rn,vn,gn,xn,wn,$n,mn,kn,Rn);return}}Bn&8?(fn&16&&an(rn,wn,$n),vn!==rn&&_r(gn,vn)):fn&16?Bn&16?Nr(rn,vn,gn,xn,wn,$n,mn,kn,Rn):an(rn,wn,$n,!0):(fn&8&&_r(gn,""),Bn&16&&ln(vn,gn,xn,wn,$n,mn,kn,Rn))},pn=(en,on,gn,xn,wn,$n,mn,kn,Rn)=>{en=en||EMPTY_ARR,on=on||EMPTY_ARR;const rn=en.length,fn=on.length,vn=Math.min(rn,fn);let En;for(En=0;En<vn;En++){const Bn=on[En]=Rn?cloneIfMounted(on[En]):normalizeVNode(on[En]);xr(en[En],Bn,gn,null,wn,$n,mn,kn,Rn)}rn>fn?an(en,wn,$n,!0,!1,vn):ln(on,gn,xn,wn,$n,mn,kn,Rn,vn)},Nr=(en,on,gn,xn,wn,$n,mn,kn,Rn)=>{let rn=0;const fn=on.length;let vn=en.length-1,En=fn-1;for(;rn<=vn&&rn<=En;){const Bn=en[rn],br=on[rn]=Rn?cloneIfMounted(on[rn]):normalizeVNode(on[rn]);if(isSameVNodeType(Bn,br))xr(Bn,br,gn,null,wn,$n,mn,kn,Rn);else break;rn++}for(;rn<=vn&&rn<=En;){const Bn=en[vn],br=on[En]=Rn?cloneIfMounted(on[En]):normalizeVNode(on[En]);if(isSameVNodeType(Bn,br))xr(Bn,br,gn,null,wn,$n,mn,kn,Rn);else break;vn--,En--}if(rn>vn){if(rn<=En){const Bn=En+1,br=Bn<fn?on[Bn].el:xn;for(;rn<=En;)xr(null,on[rn]=Rn?cloneIfMounted(on[rn]):normalizeVNode(on[rn]),gn,br,wn,$n,mn,kn,Rn),rn++}}else if(rn>En)for(;rn<=vn;)Mr(en[rn],wn,$n,!0),rn++;else{const Bn=rn,br=rn,l=new Map;for(rn=br;rn<=En;rn++){const Cn=on[rn]=Rn?cloneIfMounted(on[rn]):normalizeVNode(on[rn]);Cn.key!=null&&l.set(Cn.key,rn)}let d,Ar=0;const $r=En-br+1;let Dr=!1,Wr=0;const Pn=new Array($r);for(rn=0;rn<$r;rn++)Pn[rn]=0;for(rn=Bn;rn<=vn;rn++){const Cn=en[rn];if(Ar>=$r){Mr(Cn,wn,$n,!0);continue}let jn;if(Cn.key!=null)jn=l.get(Cn.key);else for(d=br;d<=En;d++)if(Pn[d-br]===0&&isSameVNodeType(Cn,on[d])){jn=d;break}jn===void 0?Mr(Cn,wn,$n,!0):(Pn[jn-br]=rn+1,jn>=Wr?Wr=jn:Dr=!0,xr(Cn,on[jn],gn,null,wn,$n,mn,kn,Rn),Ar++)}const Fn=Dr?getSequence(Pn):EMPTY_ARR;for(d=Fn.length-1,rn=$r-1;rn>=0;rn--){const Cn=br+rn,jn=on[Cn],Un=Cn+1<fn?on[Cn+1].el:xn;Pn[rn]===0?xr(null,jn,gn,Un,wn,$n,mn,kn,Rn):Dr&&(d<0||rn!==Fn[d]?Er(jn,gn,Un,2):d--)}}},Er=(en,on,gn,xn,wn=null)=>{const{el:$n,type:mn,transition:kn,children:Rn,shapeFlag:rn}=en;if(rn&6){Er(en.component.subTree,on,gn,xn);return}if(rn&128){en.suspense.move(on,gn,xn);return}if(rn&64){mn.move(en,on,gn,On);return}if(mn===Fragment){n($n,on,gn);for(let vn=0;vn<Rn.length;vn++)Er(Rn[vn],on,gn,xn);n(en.anchor,on,gn);return}if(mn===Static){qr(en,on,gn);return}if(xn!==2&&rn&1&&kn)if(xn===0)kn.beforeEnter($n),n($n,on,gn),queuePostRenderEffect(()=>kn.enter($n),wn);else{const{leave:vn,delayLeave:En,afterLeave:Bn}=kn,br=()=>n($n,on,gn),l=()=>{vn($n,()=>{br(),Bn&&Bn()})};En?En($n,br,l):l()}else n($n,on,gn)},Mr=(en,on,gn,xn=!1,wn=!1)=>{const{type:$n,props:mn,ref:kn,children:Rn,dynamicChildren:rn,shapeFlag:fn,patchFlag:vn,dirs:En}=en;if(kn!=null&&setRef(kn,null,gn,en,!0),fn&256){on.ctx.deactivate(en);return}const Bn=fn&1&&En,br=!isAsyncWrapper(en);let l;if(br&&(l=mn&&mn.onVnodeBeforeUnmount)&&invokeVNodeHook(l,on,en),fn&6)Zr(en.component,gn,xn);else{if(fn&128){en.suspense.unmount(gn,xn);return}Bn&&invokeDirectiveHook(en,null,on,"beforeUnmount"),fn&64?en.type.remove(en,on,gn,wn,On,xn):rn&&($n!==Fragment||vn>0&&vn&64)?an(rn,on,gn,!1,!0):($n===Fragment&&vn&384||!wn&&fn&16)&&an(Rn,on,gn),xn&&cn(en)}(br&&(l=mn&&mn.onVnodeUnmounted)||Bn)&&queuePostRenderEffect(()=>{l&&invokeVNodeHook(l,on,en),Bn&&invokeDirectiveHook(en,null,on,"unmounted")},gn)},cn=en=>{const{type:on,el:gn,anchor:xn,transition:wn}=en;if(on===Fragment){Yr(gn,xn);return}if(on===Static){Gr(en);return}const $n=()=>{o(gn),wn&&!wn.persisted&&wn.afterLeave&&wn.afterLeave()};if(en.shapeFlag&1&&wn&&!wn.persisted){const{leave:mn,delayLeave:kn}=wn,Rn=()=>mn(gn,$n);kn?kn(en.el,$n,Rn):Rn()}else $n()},Yr=(en,on)=>{let gn;for(;en!==on;)gn=Or(en),o(en),en=gn;o(on)},Zr=(en,on,gn)=>{const{bum:xn,scope:wn,update:$n,subTree:mn,um:kn}=en;xn&&invokeArrayFns(xn),wn.stop(),$n&&($n.active=!1,Mr(mn,en,on,gn)),kn&&queuePostRenderEffect(kn,on),queuePostRenderEffect(()=>{en.isUnmounted=!0},on),on&&on.pendingBranch&&!on.isUnmounted&&en.asyncDep&&!en.asyncResolved&&en.suspenseId===on.pendingId&&(on.deps--,on.deps===0&&on.resolve())},an=(en,on,gn,xn=!1,wn=!1,$n=0)=>{for(let mn=$n;mn<en.length;mn++)Mr(en[mn],on,gn,xn,wn)},un=en=>en.shapeFlag&6?un(en.component.subTree):en.shapeFlag&128?en.suspense.next():Or(en.anchor||en.el),yn=(en,on,gn)=>{en==null?on._vnode&&Mr(on._vnode,null,null,!0):xr(on._vnode||null,en,on,null,null,null,gn),flushPreFlushCbs(),flushPostFlushCbs(),on._vnode=en},On={p:xr,um:Mr,m:Er,r:cn,mt:Tr,mc:ln,pc:nn,pbc:sn,n:un,o:t};let Tn,In;return e&&([Tn,In]=e(On)),{render:yn,hydrate:Tn,createApp:createAppAPI(yn,Tn)}}function toggleRecurse({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function traverseStaticChildren(t,e,r=!1){const n=t.children,o=e.children;if(isArray$2(n)&&isArray$2(o))for(let s=0;s<n.length;s++){const a=n[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=cloneIfMounted(o[s]),c.el=a.el),r||traverseStaticChildren(a,c))}}function getSequence(t){const e=t.slice(),r=[0];let n,o,s,a,c;const m=t.length;for(n=0;n<m;n++){const gr=t[n];if(gr!==0){if(o=r[r.length-1],t[o]<gr){e[n]=o,r.push(n);continue}for(s=0,a=r.length-1;s<a;)c=s+a>>1,t[r[c]]<gr?s=c+1:a=c;gr<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=e[a];return r}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const r=t&&t.to;return isString$2(r)?e?e(r):null:r},TeleportImpl={__isTeleport:!0,process(t,e,r,n,o,s,a,c,m,gr){const{mc:_r,pc:wr,pbc:Or,o:{insert:Ir,querySelector:Pr,createText:kr,createComment:xr}}=gr,Cr=isTeleportDisabled(e.props);let{shapeFlag:Kr,children:Fr,dynamicChildren:qr}=e;if(t==null){const Gr=e.el=kr(""),jr=e.anchor=kr("");Ir(Gr,r,n),Ir(jr,r,n);const Vr=e.target=resolveTarget(e.props,Pr),Jr=e.targetAnchor=kr("");Vr&&(Ir(Jr,Vr),a=a||isTargetSVG(Vr));const ln=(tn,sn)=>{Kr&16&&_r(Fr,tn,sn,o,s,a,c,m)};Cr?ln(r,jr):Vr&&ln(Vr,Jr)}else{e.el=t.el;const Gr=e.anchor=t.anchor,jr=e.target=t.target,Vr=e.targetAnchor=t.targetAnchor,Jr=isTeleportDisabled(t.props),ln=Jr?r:jr,tn=Jr?Gr:Vr;if(a=a||isTargetSVG(jr),qr?(Or(t.dynamicChildren,qr,ln,o,s,a,c),traverseStaticChildren(t,e,!0)):m||wr(t,e,ln,tn,o,s,a,c,!1),Cr)Jr||moveTeleport(e,r,Gr,gr,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const sn=e.target=resolveTarget(e.props,Pr);sn&&moveTeleport(e,sn,null,gr,0)}else Jr&&moveTeleport(e,jr,Vr,gr,1)}},remove(t,e,r,n,{um:o,o:{remove:s}},a){const{shapeFlag:c,children:m,anchor:gr,targetAnchor:_r,target:wr,props:Or}=t;if(wr&&s(_r),(a||!isTeleportDisabled(Or))&&(s(gr),c&16))for(let Ir=0;Ir<m.length;Ir++){const Pr=m[Ir];o(Pr,e,r,!0,!!Pr.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,r,{o:{insert:n},m:o},s=2){s===0&&n(t.targetAnchor,e,r);const{el:a,anchor:c,shapeFlag:m,children:gr,props:_r}=t,wr=s===2;if(wr&&n(a,e,r),(!wr||isTeleportDisabled(_r))&&m&16)for(let Or=0;Or<gr.length;Or++)o(gr[Or],e,r,2);wr&&n(c,e,r)}function hydrateTeleport(t,e,r,n,o,s,{o:{nextSibling:a,parentNode:c,querySelector:m}},gr){const _r=e.target=resolveTarget(e.props,m);if(_r){const wr=_r._lpa||_r.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=gr(a(t),e,c(t),r,n,o,s),e.targetAnchor=wr;else{e.anchor=a(t);let Or=wr;for(;Or;)if(Or=a(Or),Or&&Or.nodeType===8&&Or.data==="teleport anchor"){e.targetAnchor=Or,_r._lpa=e.targetAnchor&&a(e.targetAnchor);break}gr(wr,e,_r,r,n,o,s)}}return e.anchor&&a(e.anchor)}const Teleport=TeleportImpl,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,r,n,o,s){return setupBlock(createBaseVNode(t,e,r,n,o,s,!0))}function createBlock(t,e,r,n,o){return setupBlock(createVNode(t,e,r,n,o,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:r})=>t!=null?isString$2(t)||isRef(t)||isFunction$2(t)?{i:currentRenderingInstance,r:t,k:e,f:!!r}:t:null;function createBaseVNode(t,e=null,r=null,n=0,o=null,s=t===Fragment?0:1,a=!1,c=!1){const m={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(normalizeChildren(m,r),s&128&&t.normalize(m)):r&&(m.shapeFlag|=isString$2(r)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(m.patchFlag>0||s&6)&&m.patchFlag!==32&&currentBlock.push(m),m}const createVNode=_createVNode;function _createVNode(t,e=null,r=null,n=0,o=null,s=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const c=cloneVNode(t,e,!0);return r&&normalizeChildren(c,r),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:c,style:m}=e;c&&!isString$2(c)&&(e.class=normalizeClass(c)),isObject$3(m)&&(isProxy(m)&&!isArray$2(m)&&(m=extend({},m)),e.style=normalizeStyle(m))}const a=isString$2(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$3(t)?4:isFunction$2(t)?2:0;return createBaseVNode(t,e,r,n,o,a,s,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,r=!1){const{props:n,ref:o,patchFlag:s,children:a}=t,c=e?mergeProps(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?r&&o?isArray$2(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const r=createVNode(Static,null,t);return r.staticCount=e,r}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$2(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(isArray$2(e))r=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$2(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),n&64?(r=16,e=[createTextVNode(e)]):r=8);t.children=e,t.shapeFlag|=r}function mergeProps(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(o==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(o)){const s=e[o],a=n[o];a&&s!==a&&!(isArray$2(s)&&s.includes(a))&&(e[o]=s?[].concat(s,a):a)}else o!==""&&(e[o]=n[o])}return e}function invokeVNodeHook(t,e,r,n=null){callWithAsyncErrorHandling(t,e,7,[r,n])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(t,e,r){const n=t.type,o=(e?e.appContext:t.appContext)||emptyAppContext,s={uid:uid$1++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,o),emitsOptions:normalizeEmitsOptions(n,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emit$1.bind(null,s),t.ce&&t.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:r,children:n}=t.vnode,o=isStatefulComponent(t);initProps(t,r,o,e),initSlots(t,n);const s=o?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:n}=r;if(n){const o=t.setupContext=n.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const s=callWithErrorHandling(n,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),e)return s.then(a=>{handleSetupResult(t,a,e)}).catch(a=>{handleError(a,t,0)});t.asyncDep=s}else handleSetupResult(t,s,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,r){isFunction$2(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$3(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,r)}let compile;function finishComponentSetup(t,e,r){const n=t.type;if(!t.render){if(!e&&compile&&!n.render){const o=n.template||resolveMergedOptions(t).template;if(o){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:m}=n,gr=extend(extend({isCustomElement:s,delimiters:c},a),m);n.render=compile(o,gr)}}t.render=n.render||NOOP$1}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,r){return track(t,"get","$attrs"),e[r]}})}function createSetupContext(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)}}))}function getComponentName(t,e=!0){return isFunction$2(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction$2(t)&&"__vccOpts"in t}const computed$1=(t,e)=>computed$2(t,e,isInSSRComponentSetup);function h(t,e,r){const n=arguments.length;return n===2?isObject$3(e)&&!isArray$2(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&isVNode(r)&&(r=[r]),createVNode(t,e,r))}const version$1="3.2.39",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const o=e?doc.createElementNS(svgNS,t):doc.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,r,n,o,s){const a=r?r.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${t}</svg>`:t;const c=templateContainer.content;if(n){const m=c.firstChild;for(;m.firstChild;)c.appendChild(m.firstChild);c.removeChild(m)}e.insertBefore(c,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function patchClass(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,r){const n=t.style,o=isString$2(r);if(r&&!o){for(const s in r)setStyle(n,s,r[s]);if(e&&!isString$2(e))for(const s in e)r[s]==null&&setStyle(n,s,"")}else{const s=n.display;o?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=s)}}const importantRE=/\s*!important$/;function setStyle(t,e,r){if(isArray$2(r))r.forEach(n=>setStyle(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=autoPrefix(t,e);importantRE.test(r)?t.setProperty(hyphenate(n),r.replace(importantRE,""),"important"):t[n]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const r=prefixCache[e];if(r)return r;let n=camelize(e);if(n!=="filter"&&n in t)return prefixCache[e]=n;n=capitalize(n);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+n;if(s in t)return prefixCache[e]=s}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,r,n,o){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,r);else{const s=isSpecialBooleanAttr(e);r==null||s&&!includeBooleanAttr(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function patchDOMProp(t,e,r,n,o,s,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,o,s),t[e]=r??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const m=r??"";(t.value!==m||t.tagName==="OPTION")&&(t.value=m),r==null&&t.removeAttribute(e);return}let c=!1;if(r===""||r==null){const m=typeof t[e];m==="boolean"?r=includeBooleanAttr(r):r==null&&m==="string"?(r="",c=!0):m==="number"&&(r=0,c=!0)}try{t[e]=r}catch{}c&&t.removeAttribute(e)}const[_getNow,skipTimestampCheck]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(r&&Number(r[1])<=53)}return[t,e]})();let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener(t,e,r,n){t.addEventListener(e,r,n)}function removeEventListener(t,e,r,n){t.removeEventListener(e,r,n)}function patchEvent(t,e,r,n,o=null){const s=t._vei||(t._vei={}),a=s[e];if(n&&a)a.value=n;else{const[c,m]=parseName(e);if(n){const gr=s[e]=createInvoker(n,o);addEventListener(t,c,gr,m)}else a&&(removeEventListener(t,c,a,m),s[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let n;for(;n=t.match(optionsModifierRE);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}function createInvoker(t,e){const r=n=>{const o=n.timeStamp||_getNow();(skipTimestampCheck||o>=r.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(n,r.value),e,5,[n])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,e){if(isArray$2(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,r,n,o=!1,s,a,c,m)=>{e==="class"?patchClass(t,n,o):e==="style"?patchStyle(t,r,n):isOn(e)?isModelListener(e)||patchEvent(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,n,o))?patchDOMProp(t,e,n,s,a,c,m):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),patchAttr(t,e,n,o))};function shouldSetAsProp(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$2(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$2(r)?!1:e in t}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray$2(e)?r=>invokeArrayFns(e,r):e},vModelSelect={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const o=isSet(e);addEventListener(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>r?toNumber(getValue(a)):getValue(a));t._assign(t.multiple?o?new Set(s):s:s[0])}),t._assign=getModelAssigner(n)},mounted(t,{value:e}){setSelected(t,e)},beforeUpdate(t,e,r){t._assign=getModelAssigner(r)},updated(t,{value:e}){setSelected(t,e)}};function setSelected(t,e){const r=t.multiple;if(!(r&&!isArray$2(e)&&!isSet(e))){for(let n=0,o=t.options.length;n<o;n++){const s=t.options[n],a=getValue(s);if(r)isArray$2(e)?s.selected=looseIndexOf(e,a)>-1:s.selected=e.has(a);else if(looseEqual(getValue(s),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function getValue(t){return"_value"in t?t._value:t.value}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(r=>t[`${r}Key`]&&!e.includes(r))},withModifiers=(t,e)=>(r,...n)=>{for(let o=0;o<e.length;o++){const s=modifierGuards[e[o]];if(s&&s(r,e))return}return t(r,...n)},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=normalizeContainer(n);if(!o)return;const s=e._component;!isFunction$2(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function normalizeContainer(t){return isString$2(t)?document.querySelector(t):t}const _hoisted_1$7={key:0,class:"bi bi-sun"},_hoisted_2$7={key:1,class:"bi bi-moon"},_sfc_main$a=defineComponent({__name:"ToggleMode",setup(t){const e=ref();onMounted(()=>{localStorage.getItem("theme")?e.value=localStorage.getItem("theme"):e.value="corporate"});async function r(){e.value=localStorage.getItem("theme")}return(n,o)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{class:"btn btn-secondary btn-circle","data-act-class":"ACTIVECLASS","data-toggle-theme":"business,corporate",onClick:r},[e.value==="corporate"?(openBlock(),createElementBlock("i",_hoisted_1$7)):createCommentVNode("",!0),e.value==="business"?(openBlock(),createElementBlock("i",_hoisted_2$7)):createCommentVNode("",!0)]),createTextVNode(" "+toDisplayString(e.value),1)],64))}});var themeChange={exports:{}};(function(t,e){function r(){var a=document.querySelector("[data-toggle-theme]");(function(c=localStorage.getItem("theme")){localStorage.getItem("theme")&&(document.documentElement.setAttribute("data-theme",c),a&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(m=>{m.classList.add(a.getAttribute("data-act-class"))}))})(),a&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(c=>{c.addEventListener("click",function(){var m=c.getAttribute("data-toggle-theme");if(m){var gr=m.split(",");document.documentElement.getAttribute("data-theme")==gr[0]?gr.length==1?(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("theme")):(document.documentElement.setAttribute("data-theme",gr[1]),localStorage.setItem("theme",gr[1])):(document.documentElement.setAttribute("data-theme",gr[0]),localStorage.setItem("theme",gr[0]))}[...document.querySelectorAll("[data-toggle-theme]")].forEach(_r=>{_r.classList.toggle(this.getAttribute("data-act-class"))})})})}function n(){(function(a=localStorage.getItem("theme")){if(a!=null&&a!="")if(localStorage.getItem("theme")&&localStorage.getItem("theme")!=""){document.documentElement.setAttribute("data-theme",a);var c=document.querySelector("[data-set-theme='"+a.toString()+"']");c&&([...document.querySelectorAll("[data-set-theme]")].forEach(m=>{m.classList.remove(m.getAttribute("data-act-class"))}),c.getAttribute("data-act-class")&&c.classList.add(c.getAttribute("data-act-class")))}else{var c=document.querySelector("[data-set-theme='']");c.getAttribute("data-act-class")&&c.classList.add(c.getAttribute("data-act-class"))}})(),[...document.querySelectorAll("[data-set-theme]")].forEach(a=>{a.addEventListener("click",function(){document.documentElement.setAttribute("data-theme",this.getAttribute("data-set-theme")),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("[data-set-theme]")].forEach(c=>{c.classList.remove(c.getAttribute("data-act-class"))}),a.getAttribute("data-act-class")&&a.classList.add(a.getAttribute("data-act-class"))})})}function o(){(function(a=localStorage.getItem("theme")){if(localStorage.getItem("theme")){document.documentElement.setAttribute("data-theme",a);var c=document.querySelector("select[data-choose-theme] [value='"+a.toString()+"']");c&&[...document.querySelectorAll("select[data-choose-theme] [value='"+a.toString()+"']")].forEach(m=>{m.selected=!0})}})(),document.querySelector("select[data-choose-theme]")&&[...document.querySelectorAll("select[data-choose-theme]")].forEach(a=>{a.addEventListener("change",function(){document.documentElement.setAttribute("data-theme",this.value),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("select[data-choose-theme] [value='"+localStorage.getItem("theme")+"']")].forEach(c=>{c.selected=!0})})})}function s(a=!0){a===!0?document.addEventListener("DOMContentLoaded",function(c){r(),o(),n()}):(r(),o(),n())}t.exports={themeChange:s}})(themeChange);var eventemitter3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(m,gr,_r){this.fn=m,this.context=gr,this.once=_r||!1}function s(m,gr,_r,wr,Or){if(typeof _r!="function")throw new TypeError("The listener must be a function");var Ir=new o(_r,wr||m,Or),Pr=r?r+gr:gr;return m._events[Pr]?m._events[Pr].fn?m._events[Pr]=[m._events[Pr],Ir]:m._events[Pr].push(Ir):(m._events[Pr]=Ir,m._eventsCount++),m}function a(m,gr){--m._eventsCount===0?m._events=new n:delete m._events[gr]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var gr=[],_r,wr;if(this._eventsCount===0)return gr;for(wr in _r=this._events)e.call(_r,wr)&&gr.push(r?wr.slice(1):wr);return Object.getOwnPropertySymbols?gr.concat(Object.getOwnPropertySymbols(_r)):gr},c.prototype.listeners=function(gr){var _r=r?r+gr:gr,wr=this._events[_r];if(!wr)return[];if(wr.fn)return[wr.fn];for(var Or=0,Ir=wr.length,Pr=new Array(Ir);Or<Ir;Or++)Pr[Or]=wr[Or].fn;return Pr},c.prototype.listenerCount=function(gr){var _r=r?r+gr:gr,wr=this._events[_r];return wr?wr.fn?1:wr.length:0},c.prototype.emit=function(gr,_r,wr,Or,Ir,Pr){var kr=r?r+gr:gr;if(!this._events[kr])return!1;var xr=this._events[kr],Cr=arguments.length,Kr,Fr;if(xr.fn){switch(xr.once&&this.removeListener(gr,xr.fn,void 0,!0),Cr){case 1:return xr.fn.call(xr.context),!0;case 2:return xr.fn.call(xr.context,_r),!0;case 3:return xr.fn.call(xr.context,_r,wr),!0;case 4:return xr.fn.call(xr.context,_r,wr,Or),!0;case 5:return xr.fn.call(xr.context,_r,wr,Or,Ir),!0;case 6:return xr.fn.call(xr.context,_r,wr,Or,Ir,Pr),!0}for(Fr=1,Kr=new Array(Cr-1);Fr<Cr;Fr++)Kr[Fr-1]=arguments[Fr];xr.fn.apply(xr.context,Kr)}else{var qr=xr.length,Gr;for(Fr=0;Fr<qr;Fr++)switch(xr[Fr].once&&this.removeListener(gr,xr[Fr].fn,void 0,!0),Cr){case 1:xr[Fr].fn.call(xr[Fr].context);break;case 2:xr[Fr].fn.call(xr[Fr].context,_r);break;case 3:xr[Fr].fn.call(xr[Fr].context,_r,wr);break;case 4:xr[Fr].fn.call(xr[Fr].context,_r,wr,Or);break;default:if(!Kr)for(Gr=1,Kr=new Array(Cr-1);Gr<Cr;Gr++)Kr[Gr-1]=arguments[Gr];xr[Fr].fn.apply(xr[Fr].context,Kr)}}return!0},c.prototype.on=function(gr,_r,wr){return s(this,gr,_r,wr,!1)},c.prototype.once=function(gr,_r,wr){return s(this,gr,_r,wr,!0)},c.prototype.removeListener=function(gr,_r,wr,Or){var Ir=r?r+gr:gr;if(!this._events[Ir])return this;if(!_r)return a(this,Ir),this;var Pr=this._events[Ir];if(Pr.fn)Pr.fn===_r&&(!Or||Pr.once)&&(!wr||Pr.context===wr)&&a(this,Ir);else{for(var kr=0,xr=[],Cr=Pr.length;kr<Cr;kr++)(Pr[kr].fn!==_r||Or&&!Pr[kr].once||wr&&Pr[kr].context!==wr)&&xr.push(Pr[kr]);xr.length?this._events[Ir]=xr.length===1?xr[0]:xr:a(this,Ir)}return this},c.prototype.removeAllListeners=function(gr){var _r;return gr?(_r=r?r+gr:gr,this._events[_r]&&a(this,_r)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(eventemitter3);const EventEmitter=eventemitter3.exports;class WalletError extends Error{constructor(e,r){super(e),this.error=r}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var WalletReadyState;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends EventEmitter{get connected(){return!!this.publicKey}async prepareTransaction(e,r,n={}){const o=this.publicKey;if(!o)throw new WalletNotConnectedError;return e.feePayer=e.feePayer||o,e.recentBlockhash=e.recentBlockhash||(await r.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function scopePollingDetectionStrategy(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function r(){if(t())for(const s of e)s()}const n=setInterval(r,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",r))),document.readyState!=="complete"&&(window.addEventListener("load",r,{once:!0}),e.push(()=>window.removeEventListener("load",r))),r()}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(e,r,n={}){let o=!0;try{try{const{signers:s,...a}=n;e=await this.prepareTransaction(e,r,a),s?.length&&e.partialSign(...s),e=await this.signTransaction(e);const c=e.serialize();return await r.sendRawTransaction(c,a)}catch(s){throw s instanceof WalletSignTransactionError?(o=!1,s):new WalletSendTransactionError(s?.message,s)}}catch(s){throw o&&this.emit("error",s),s}}async signAllTransactions(e){const r=[];for(const n of e)r.push(await this.signTransaction(n));return r}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}var WalletAdapterNetwork;(function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"})(WalletAdapterNetwork||(WalletAdapterNetwork={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,r)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues=(t,e)=>{for(var r in e||(e={}))__hasOwnProp.call(e,r)&&__defNormalProp(t,r,e[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))__propIsEnum.call(e,r)&&__defNormalProp(t,r,e[r]);return t},__publicField=(t,e,r)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,r),r);class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}class WalletNotInitializedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}function tryOnScopeDispose(t){return getCurrentScope()?(onScopeDispose(t),!0):!1}const isClient=typeof window<"u",isString$1=t=>typeof t=="string",noop$3=()=>{};function createFilterWrapper(t,e){function r(...n){t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})}return r}const bypassFilter=t=>t();var __getOwnPropSymbols$9=Object.getOwnPropertySymbols,__hasOwnProp$9=Object.prototype.hasOwnProperty,__propIsEnum$9=Object.prototype.propertyIsEnumerable,__objRest$5=(t,e)=>{var r={};for(var n in t)__hasOwnProp$9.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&__getOwnPropSymbols$9)for(var n of __getOwnPropSymbols$9(t))e.indexOf(n)<0&&__propIsEnum$9.call(t,n)&&(r[n]=t[n]);return r};function watchWithFilter(t,e,r={}){const n=r,{eventFilter:o=bypassFilter}=n,s=__objRest$5(n,["eventFilter"]);return watch(t,createFilterWrapper(o,e),s)}function useTimeoutFn(t,e,r={}){const{immediate:n=!0}=r,o=ref(!1);let s=null;function a(){s&&(clearTimeout(s),s=null)}function c(){o.value=!1,a()}function m(...gr){a(),o.value=!0,s=setTimeout(()=>{o.value=!1,s=null,t(...gr)},unref(e))}return n&&(o.value=!0,isClient&&m()),tryOnScopeDispose(c),{isPending:o,start:m,stop:c}}function unrefElement(t){var e;const r=unref(t);return(e=r?.$el)!=null?e:r}const defaultWindow=isClient?window:void 0,defaultNavigator=isClient?window.navigator:void 0;function useEventListener(...t){let e,r,n,o;if(isString$1(t[0])?([r,n,o]=t,e=defaultWindow):[e,r,n,o]=t,!e)return noop$3;let s=noop$3;const a=watch(()=>unref(e),m=>{s(),m&&(m.addEventListener(r,n,o),s=()=>{m.removeEventListener(r,n,o),s=noop$3})},{immediate:!0,flush:"post"}),c=()=>{a(),s()};return tryOnScopeDispose(c),c}function onClickOutside(t,e,r={}){const{window:n=defaultWindow}=r;if(!n)return;const o=ref(!0),a=[useEventListener(n,"click",m=>{const gr=unrefElement(t);!gr||gr===m.target||m.composedPath().includes(gr)||!o.value||e(m)},{passive:!0,capture:!0}),useEventListener(n,"pointerdown",m=>{const gr=unrefElement(t);o.value=!!gr&&!m.composedPath().includes(gr)},{passive:!0})];return()=>a.forEach(m=>m())}const createKeyPredicate=t=>typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):t?()=>!0:()=>!1;function onKeyStroke(t,e,r={}){const{target:n=defaultWindow,eventName:o="keydown",passive:s=!1}=r,a=createKeyPredicate(t);return useEventListener(n,o,m=>{a(m)&&e(m)},s)}function useClipboard(t={}){const{navigator:e=defaultNavigator,read:r=!1,source:n,copiedDuring:o=1500}=t,s=["copy","cut"],a=Boolean(e&&"clipboard"in e),c=ref(""),m=ref(!1),gr=useTimeoutFn(()=>m.value=!1,o);function _r(){e.clipboard.readText().then(Or=>{c.value=Or})}if(a&&r)for(const Or of s)useEventListener(Or,_r);async function wr(Or=unref(n)){a&&Or!=null&&(await e.clipboard.writeText(Or),c.value=Or,m.value=!0,gr.start())}return{isSupported:a,text:c,copied:m,copy:wr}}const _global=typeof globalThis>"u"?void 0:globalThis,globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};const handlers=_global[globalKey];function getSSRHandler(t,e){return handlers[t]||e}function guessSerializerType(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"||Array.isArray(t)?"object":Number.isNaN(t)?"any":"number"}const StorageSerializers={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))}};function useStorage(t,e,r,n={}){var o;const{flush:s="pre",deep:a=!0,listenToStorageChanges:c=!0,writeDefaults:m=!0,shallow:gr,window:_r=defaultWindow,eventFilter:wr,onError:Or=Kr=>{console.error(Kr)}}=n,Ir=unref(e),Pr=guessSerializerType(Ir),kr=(gr?shallowRef:ref)(e),xr=(o=n.serializer)!=null?o:StorageSerializers[Pr];if(!r)try{r=getSSRHandler("getDefaultStorage",()=>{var Kr;return(Kr=defaultWindow)==null?void 0:Kr.localStorage})()}catch(Kr){Or(Kr)}function Cr(Kr){if(!(!r||Kr&&Kr.key!==t))try{const Fr=Kr?Kr.newValue:r.getItem(t);Fr==null?(kr.value=Ir,m&&Ir!==null&&r.setItem(t,xr.write(Ir))):typeof Fr!="string"?kr.value=Fr:kr.value=xr.read(Fr)}catch(Fr){Or(Fr)}}return Cr(),_r&&c&&useEventListener(_r,"storage",Kr=>setTimeout(()=>Cr(Kr),0)),r&&watchWithFilter(kr,()=>{try{kr.value==null?r.removeItem(t):r.setItem(t,xr.write(kr.value))}catch(Kr){Or(Kr)}},{flush:s,deep:a,eventFilter:wr}),kr}function useLocalStorage(t,e,r={}){const{window:n=defaultWindow}=r;return useStorage(t,e,n?.localStorage,r)}var _a,_b;function preventDefault(t){const e=t||window.event;return e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const isIOS=isClient&&window?.navigator&&((_a=window?.navigator)==null?void 0:_a.platform)&&/iP(ad|hone|od)/.test((_b=window?.navigator)==null?void 0:_b.platform);function useScrollLock(t,e=!1){const r=ref(e);let n=null,o;const s=()=>{const c=unref(t);!c||r.value||(o=c.style.overflow,isIOS&&(n=useEventListener(document,"touchmove",preventDefault,{passive:!1})),c.style.overflow="hidden",r.value=!0)},a=()=>{const c=unref(t);!c||!r.value||(isIOS&&n?.(),c.style.overflow=o,r.value=!1)};return computed$1({get(){return r.value},set(c){c?s():a()}})}var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(t,e,r)=>e in t?__defProp$3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues$3=(t,e)=>{for(var r in e||(e={}))__hasOwnProp$3.call(e,r)&&__defNormalProp$3(t,r,e[r]);if(__getOwnPropSymbols$3)for(var r of __getOwnPropSymbols$3(e))__propIsEnum$3.call(e,r)&&__defNormalProp$3(t,r,e[r]);return t};const initialRect={top:0,left:0,bottom:0,right:0,height:0,width:0};__spreadValues$3({text:""},initialRect);const createWalletStore=({wallets:t=[],autoConnect:e=!1,onError:r=o=>console.error(o),localStorageKey:n="walletName"})=>{const o=shallowRef(t),s=ref(e),a=useLocalStorage(n,null),c=shallowRef(null),m=ref(null),gr=ref(WalletReadyState.NotDetected),_r=ref(!1),wr=ref(!1),Or=ref(!1),Ir=computed$1(()=>gr.value===WalletReadyState.Installed||gr.value===WalletReadyState.Loadable),Pr=dn=>{var Rr,vr,Tr;c.value=dn,gr.value=(Rr=dn?.readyState)!=null?Rr:WalletReadyState.NotDetected,m.value=(vr=dn?.publicKey)!=null?vr:null,_r.value=(Tr=dn?.connected)!=null?Tr:!1},kr=dn=>(r(dn),dn),xr=computed$1(()=>o.value.reduce((dn,Rr)=>(dn[Rr.name]=Rr,dn),{}));watch(a,()=>{var dn,Rr;Pr((Rr=(dn=xr.value)==null?void 0:dn[a.value])!=null?Rr:null)},{immediate:!0});const Cr=async dn=>{a.value!==dn&&(a.value=dn)},Kr=()=>Pr(c.value),Fr=()=>Pr(c.value),qr=()=>a.value=null,Gr=watchEffect(dn=>{const Rr=c.value;!Rr||(Rr.on("readyStateChange",Kr),Rr.on("connect",Fr),Rr.on("disconnect",qr),Rr.on("error",r),dn(()=>{Rr.off("readyStateChange",Kr),Rr.off("connect",Fr),Rr.off("disconnect",qr),Rr.off("error",r)}))});typeof window<"u"&&window.addEventListener("unload",Gr);const jr=async()=>{if(!(_r.value||wr.value||Or.value)){if(!c.value)throw kr(new WalletNotSelectedError);if(!Ir.value)throw a.value=null,typeof window<"u"&&window.open(c.value.url,"_blank"),kr(new WalletNotReadyError);try{wr.value=!0,await c.value.connect()}catch(dn){throw a.value=null,dn}finally{wr.value=!1}}},Vr=async()=>{if(!Or.value){if(!c.value){a.value=null;return}try{Or.value=!0,await c.value.disconnect()}finally{a.value=null,Or.value=!1}}},Jr=async(dn,Rr,vr)=>{if(!c.value)throw kr(new WalletNotSelectedError);if(!_r.value)throw kr(new WalletNotConnectedError);return await c.value.sendTransaction(dn,Rr,vr)},ln=computed$1(()=>{const dn=c.value;if(!!(dn&&"signTransaction"in dn))return async Rr=>{if(!_r.value)throw kr(new WalletNotConnectedError);return await dn.signTransaction(Rr)}}),tn=computed$1(()=>{const dn=c.value;if(!!(dn&&"signAllTransactions"in dn))return async Rr=>{if(!_r.value)throw kr(new WalletNotConnectedError);return await dn.signAllTransactions(Rr)}}),sn=computed$1(()=>{const dn=c.value;if(!!(dn&&"signMessage"in dn))return async Rr=>{if(!_r.value)throw kr(new WalletNotConnectedError);return await dn.signMessage(Rr)}});return watchEffect(async()=>{if(!(!s.value||!c.value||!Ir.value||_r.value||wr.value))try{wr.value=!0,await c.value.connect()}catch{a.value=null}finally{wr.value=!1}}),{wallets:o,autoConnect:s,wallet:c,publicKey:m,readyState:gr,ready:Ir,connected:_r,connecting:wr,disconnecting:Or,select:Cr,connect:jr,disconnect:Vr,sendTransaction:Jr,signTransaction:ln,signAllTransactions:tn,signMessage:sn}};let walletStore=null;const useWallet=()=>{if(walletStore)return walletStore;throw new WalletNotInitializedError("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},initWallet=t=>{walletStore=createWalletStore(t)};var _export_sfc$1=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r};const _sfc_main$4$1=defineComponent({props:{wallet:Object},setup(t){return toRefs(t)}}),_hoisted_1$4$1={class:"swv-button-icon"},_hoisted_2$4$1=["src","alt"];function _sfc_render$4(t,e,r,n,o,s){return openBlock(),createElementBlock("i",_hoisted_1$4$1,[t.wallet?(openBlock(),createElementBlock("img",{key:0,src:t.wallet.icon,alt:`${t.wallet.name} icon`},null,8,_hoisted_2$4$1)):createCommentVNode("",!0)])}var WalletIcon=_export_sfc$1(_sfc_main$4$1,[["render",_sfc_render$4]]);const _sfc_main$3$1=defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:r}=toRefs(t),{wallet:n,connect:o,connecting:s,connected:a}=useWallet(),c=computed$1(()=>s.value?"Connecting ...":a.value?"Connected":n.value?"Connect":"Connect Wallet"),gr={wallet:n,disabled:r,connecting:s,connected:a,content:c,onClick:_r=>{e("click",_r),!_r.defaultPrevented&&o().catch(()=>{})}};return __spreadValues({scope:gr},gr)}}),_hoisted_1$3$1=["disabled"],_hoisted_2$3$1=["textContent"];function _sfc_render$3$1(t,e,r,n,o,s){const a=resolveComponent("wallet-icon");return renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",disabled:t.disabled||!t.wallet||t.connecting||t.connected,onClick:e[0]||(e[0]=(...c)=>t.onClick&&t.onClick(...c))},[t.wallet?(openBlock(),createBlock(a,{key:0,wallet:t.wallet},null,8,["wallet"])):createCommentVNode("",!0),createBaseVNode("p",{textContent:toDisplayString(t.content)},null,8,_hoisted_2$3$1)],8,_hoisted_1$3$1)])}var WalletConnectButton=_export_sfc$1(_sfc_main$3$1,[["render",_sfc_render$3$1]]);defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:r}=toRefs(t),{wallet:n,disconnect:o,disconnecting:s}=useWallet(),a=computed$1(()=>s.value?"Disconnecting ...":n.value?"Disconnect":"Disconnect Wallet"),m={wallet:n,disconnecting:s,disabled:r,content:a,handleClick:gr=>{e("click",gr),!gr.defaultPrevented&&o().catch(()=>{})}};return __spreadValues({scope:m},m)}});const _sfc_main$1$1=defineComponent({components:{WalletIcon},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t,{slots:e}){const{featured:r,container:n,logo:o,dark:s}=toRefs(t),a=ref(null),c=ref(!1),m=()=>c.value=!0,gr=()=>c.value=!1,_r=computed$1(()=>!!e.logo||!!o.value),{wallets:wr,select:Or}=useWallet(),Ir=ref(!1),Pr=computed$1(()=>wr.value.slice(0,r.value)),kr=computed$1(()=>wr.value.slice(r.value)),xr=computed$1(()=>Ir.value?wr.value:Pr.value);onClickOutside(a,gr),onKeyStroke("Escape",gr),onKeyStroke("Tab",Fr=>{var qr,Gr;const jr=(Gr=(qr=a.value)==null?void 0:qr.querySelectorAll("button"))!=null?Gr:[],Vr=jr?.[0],Jr=jr?.[jr.length-1];Fr.shiftKey&&document.activeElement===Vr&&Jr?(Jr.focus(),Fr.preventDefault()):!Fr.shiftKey&&document.activeElement===Jr&&Vr&&(Vr.focus(),Fr.preventDefault())}),watch(c,Fr=>{!Fr||nextTick(()=>{var qr,Gr,jr;return(jr=(Gr=(qr=a.value)==null?void 0:qr.querySelectorAll("button"))==null?void 0:Gr[0])==null?void 0:jr.focus()})});const Cr=useScrollLock(document.body);watch(c,Fr=>Cr.value=Fr);const Kr={dark:s,logo:o,hasLogo:_r,featured:r,container:n,modalPanel:a,modalOpened:c,openModal:m,closeModal:gr,expandedWallets:Ir,walletsToDisplay:xr,featuredWallets:Pr,hiddenWallets:kr,selectWallet:Or};return __spreadValues({scope:Kr},Kr)}}),_hoisted_1$1$1=createBaseVNode("div",{class:"swv-modal-overlay"},null,-1),_hoisted_2$1$1={class:"swv-modal-container",ref:"modalPanel"},_hoisted_3$1$1={key:0,class:"swv-modal-logo-wrapper"},_hoisted_4$1$1=["src"],_hoisted_5$1$1=createBaseVNode("h1",{class:"swv-modal-title",id:"swv-modal-title"}," Connect Wallet ",-1),_hoisted_6$3=createBaseVNode("svg",{width:"14",height:"14"},[createBaseVNode("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),_hoisted_7$3=[_hoisted_6$3],_hoisted_8$3={class:"swv-modal-list"},_hoisted_9$2=["onClick"],_hoisted_10$2={class:"swv-button"},_hoisted_11$2=["textContent"],_hoisted_12$1=["aria-expanded"],_hoisted_13$1=createBaseVNode("i",{class:"swv-button-icon"},[createBaseVNode("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function _sfc_render$1$1(t,e,r,n,o,s){const a=resolveComponent("wallet-icon");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(t.dark?"swv-dark":"")},[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(t.scope)))],2),t.modalOpened?(openBlock(),createBlock(Teleport,{key:0,to:t.container},[createBaseVNode("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:normalizeClass(["swv-modal",t.dark?"swv-dark":""]),role:"dialog"},[renderSlot(t.$slots,"overlay",normalizeProps(guardReactiveProps(t.scope)),()=>[_hoisted_1$1$1]),createBaseVNode("div",_hoisted_2$1$1,[renderSlot(t.$slots,"modal",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("div",{class:normalizeClass(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!t.hasLogo}])},[t.hasLogo?(openBlock(),createElementBlock("div",_hoisted_3$1$1,[renderSlot(t.$slots,"logo",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("img",{alt:"logo",class:"swv-modal-logo",src:t.logo},null,8,_hoisted_4$1$1)])])):createCommentVNode("",!0),_hoisted_5$1$1,createBaseVNode("button",{onClick:e[0]||(e[0]=withModifiers((...c)=>t.closeModal&&t.closeModal(...c),["prevent"])),class:"swv-modal-button-close"},_hoisted_7$3),createBaseVNode("ul",_hoisted_8$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.walletsToDisplay,c=>(openBlock(),createElementBlock("li",{key:c.name,onClick:m=>{t.selectWallet(c.name),t.closeModal()}},[createBaseVNode("button",_hoisted_10$2,[createBaseVNode("p",{textContent:toDisplayString(c.name)},null,8,_hoisted_11$2),createVNode(a,{wallet:c},null,8,["wallet"])])],8,_hoisted_9$2))),128))]),t.hiddenWallets.length>0?(openBlock(),createElementBlock("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":t.expandedWallets,class:normalizeClass(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":t.expandedWallets}]),onClick:e[1]||(e[1]=c=>t.expandedWallets=!t.expandedWallets)},[createTextVNode(toDisplayString(t.expandedWallets?"Less":"More")+" options ",1),_hoisted_13$1],10,_hoisted_12$1)):createCommentVNode("",!0)],2)])],512)],2)],8,["to"])):createCommentVNode("",!0)],64)}var WalletModalProvider=_export_sfc$1(_sfc_main$1$1,[["render",_sfc_render$1$1]]);const _sfc_main$9=defineComponent({components:{WalletConnectButton,WalletIcon,WalletModalProvider},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t){const{featured:e,container:r,logo:n,dark:o}=toRefs(t),{publicKey:s,wallet:a,disconnect:c}=useWallet(),m=ref(),gr=ref(!1),_r=()=>gr.value=!0,wr=()=>gr.value=!1;onClickOutside(m,wr);const Or=computed$1(()=>{var Fr;return(Fr=s.value)==null?void 0:Fr.toBase58()}),Ir=computed$1(()=>!a.value||!Or.value?null:Or.value.slice(0,4)+".."+Or.value.slice(-4)),{copy:Pr,copied:kr,isSupported:xr}=useClipboard(),Kr={featured:e,container:r,logo:n,dark:o,wallet:a,publicKey:s,publicKeyTrimmed:Ir,publicKeyBase58:Or,canCopy:xr,addressCopied:kr,dropdownPanel:m,dropdownOpened:gr,openDropdown:_r,closeDropdown:wr,copyAddress:()=>Or.value&&Pr(Or.value),disconnect:c};return __spreadValues({scope:Kr},Kr)}}),_hoisted_1$6=["onClick"],_hoisted_2$6={key:2,class:"swv-dropdown"},_hoisted_3$3=["aria-expanded","title"],_hoisted_4$3=["textContent"],_hoisted_5$3=["onClick"];function _sfc_render$5(t,e,r,n,o,s){const a=resolveComponent("wallet-connect-button"),c=resolveComponent("wallet-icon"),m=resolveComponent("wallet-modal-provider");return openBlock(),createBlock(m,{featured:t.featured,container:t.container,logo:t.logo,dark:t.dark},{default:withCtx(gr=>[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},gr),t.scope))),()=>[t.wallet?t.publicKeyBase58?(openBlock(),createElementBlock("div",_hoisted_2$6,[renderSlot(t.$slots,"dropdown-button",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},gr),t.scope))),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",style:normalizeStyle({pointerEvents:t.dropdownOpened?"none":"auto"}),"aria-expanded":t.dropdownOpened,title:t.publicKeyBase58,onClick:e[0]||(e[0]=(..._r)=>t.openDropdown&&t.openDropdown(..._r))},[createVNode(c,{wallet:t.wallet},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(t.publicKeyTrimmed)},null,8,_hoisted_4$3)],12,_hoisted_3$3)]),renderSlot(t.$slots,"dropdown",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},gr),t.scope))),()=>[createBaseVNode("ul",{"aria-label":"dropdown-list",class:normalizeClass(["swv-dropdown-list",{"swv-dropdown-list-active":t.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[renderSlot(t.$slots,"dropdown-list",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},gr),t.scope))),()=>[t.canCopy?(openBlock(),createElementBlock("li",{key:0,onClick:e[1]||(e[1]=(..._r)=>t.copyAddress&&t.copyAddress(..._r)),class:"swv-dropdown-list-item",role:"menuitem"},toDisplayString(t.addressCopied?"Copied":"Copy address"),1)):createCommentVNode("",!0),createBaseVNode("li",{onClick:_r=>{gr.openModal(),t.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,_hoisted_5$3),createBaseVNode("li",{onClick:e[2]||(e[2]=(..._r)=>t.disconnect&&t.disconnect(..._r)),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")])],2)])])):(openBlock(),createBlock(a,{key:1})):(openBlock(),createElementBlock("button",{key:0,class:"swv-button swv-button-trigger",onClick:gr.openModal}," Select Wallet ",8,_hoisted_1$6))])]),overlay:withCtx(gr=>[renderSlot(t.$slots,"modal-overlay",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},gr),t.scope))))]),modal:withCtx(gr=>[renderSlot(t.$slots,"modal",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},gr),t.scope))))]),_:3},8,["featured","container","logo","dark"])}var WalletMultiButton=_export_sfc$1(_sfc_main$9,[["render",_sfc_render$5]]),index$1={install:(t,e={})=>{initWallet(e),t.config.globalProperties.$wallet=useWallet()}};const _sfc_main$8={components:{WalletMultiButton,ToggleMode:_sfc_main$a},setup(){onMounted(()=>{themeChange.exports.themeChange(!1)})}},_export_sfc=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r},_hoisted_1$5={class:"bg-gray-900"},_hoisted_2$5={class:"max-w-screen-xl px-4 mx-auto sm:px-6 lg:px-8"},_hoisted_3$2={class:"flex items-center justify-between h-16"},_hoisted_4$2=createStaticVNode('<div class="flex-1 md:flex md:items-center md:gap-12"><a class="block text-teal-300" href="/"><span class="sr-only">Home</span><svg class="h-8" fill="none" viewBox="0 0 28 24" xmlns="http://www.w3.org/2000/svg"><path d="M0.41 10.3847C1.14777 7.4194 2.85643 4.7861 5.2639 2.90424C7.6714 1.02234 10.6393 0 13.695 0C16.7507 0 19.7186 1.02234 22.1261 2.90424C24.5336 4.7861 26.2422 7.4194 26.98 10.3847H25.78C23.7557 10.3549 21.7729 10.9599 20.11 12.1147C20.014 12.1842 19.9138 12.2477 19.81 12.3047H19.67C19.5662 12.2477 19.466 12.1842 19.37 12.1147C17.6924 10.9866 15.7166 10.3841 13.695 10.3841C11.6734 10.3841 9.6976 10.9866 8.02 12.1147C7.924 12.1842 7.8238 12.2477 7.72 12.3047H7.58C7.4762 12.2477 7.376 12.1842 7.28 12.1147C5.6171 10.9599 3.6343 10.3549 1.61 10.3847H0.41ZM23.62 16.6547C24.236 16.175 24.9995 15.924 25.78 15.9447H27.39V12.7347H25.78C24.4052 12.7181 23.0619 13.146 21.95 13.9547C21.3243 14.416 20.5674 14.6649 19.79 14.6649C19.0126 14.6649 18.2557 14.416 17.63 13.9547C16.4899 13.1611 15.1341 12.7356 13.745 12.7356C12.3559 12.7356 11.0001 13.1611 9.86 13.9547C9.2343 14.416 8.4774 14.6649 7.7 14.6649C6.9226 14.6649 6.1657 14.416 5.54 13.9547C4.4144 13.1356 3.0518 12.7072 1.66 12.7347H0V15.9447H1.61C2.39051 15.924 3.154 16.175 3.77 16.6547C4.908 17.4489 6.2623 17.8747 7.65 17.8747C9.0377 17.8747 10.392 17.4489 11.53 16.6547C12.1468 16.1765 12.9097 15.9257 13.69 15.9447C14.4708 15.9223 15.2348 16.1735 15.85 16.6547C16.9901 17.4484 18.3459 17.8738 19.735 17.8738C21.1241 17.8738 22.4799 17.4484 23.62 16.6547ZM23.62 22.3947C24.236 21.915 24.9995 21.664 25.78 21.6847H27.39V18.4747H25.78C24.4052 18.4581 23.0619 18.886 21.95 19.6947C21.3243 20.156 20.5674 20.4049 19.79 20.4049C19.0126 20.4049 18.2557 20.156 17.63 19.6947C16.4899 18.9011 15.1341 18.4757 13.745 18.4757C12.3559 18.4757 11.0001 18.9011 9.86 19.6947C9.2343 20.156 8.4774 20.4049 7.7 20.4049C6.9226 20.4049 6.1657 20.156 5.54 19.6947C4.4144 18.8757 3.0518 18.4472 1.66 18.4747H0V21.6847H1.61C2.39051 21.664 3.154 21.915 3.77 22.3947C4.908 23.1889 6.2623 23.6147 7.65 23.6147C9.0377 23.6147 10.392 23.1889 11.53 22.3947C12.1468 21.9165 12.9097 21.6657 13.69 21.6847C14.4708 21.6623 15.2348 21.9135 15.85 22.3947C16.9901 23.1884 18.3459 23.6138 19.735 23.6138C21.1241 23.6138 22.4799 23.1884 23.62 22.3947Z" fill="currentColor"></path></svg></a></div>',1),_hoisted_5$2={class:"md:flex md:items-center md:gap-12"},_hoisted_6$2={"aria-labelledby":"header-navigation",class:"hidden md:block"},_hoisted_7$2=createBaseVNode("h2",{id:"header-navigation",class:"sr-only"},"Header navigation",-1),_hoisted_8$2={class:"flex items-center gap-6 text-sm"},_hoisted_9$1=createTextVNode("Home"),_hoisted_10$1=createTextVNode("Marketplace "),_hoisted_11$1=createTextVNode("P2P"),_hoisted_12=createTextVNode("About "),_hoisted_13={class:"flex items-center gap-4"},_hoisted_14={class:"sm:gap-4 sm:flex"},_hoisted_15=createBaseVNode("div",{class:"block md:hidden"},[createBaseVNode("button",{class:"p-2 text-white transition bg-gray-800 rounded hover:text-white/75"},[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M4 6h16M4 12h16M4 18h16","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1);function _sfc_render$3(t,e,r,n,o,s){const a=resolveComponent("RouterLink"),c=resolveComponent("wallet-multi-button"),m=resolveComponent("ToggleMode");return openBlock(),createElementBlock("nav",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$2,[_hoisted_4$2,createBaseVNode("div",_hoisted_5$2,[createBaseVNode("nav",_hoisted_6$2,[_hoisted_7$2,createBaseVNode("ul",_hoisted_8$2,[createBaseVNode("li",null,[createVNode(a,{class:"text-white transition hover:text-white/75",to:"/"},{default:withCtx(()=>[_hoisted_9$1]),_:1})]),createBaseVNode("li",null,[createVNode(a,{class:"text-white transition hover:text-white/75",to:"/marketplace"},{default:withCtx(()=>[_hoisted_10$1]),_:1})]),createBaseVNode("li",null,[createVNode(a,{class:"text-white transition hover:text-white/75",to:"/p2p"},{default:withCtx(()=>[_hoisted_11$1]),_:1})]),createBaseVNode("li",null,[createVNode(a,{class:"text-white transition hover:text-white/75",to:"/about"},{default:withCtx(()=>[_hoisted_12]),_:1})])])]),createBaseVNode("div",_hoisted_13,[createBaseVNode("div",_hoisted_14,[createVNode(c,{dark:""})]),createVNode(m),_hoisted_15])])])])])}const NavBar=_export_sfc(_sfc_main$8,[["render",_sfc_render$3]]),_sfc_main$7=defineComponent({__name:"App",setup(t){return(e,r)=>{const n=resolveComponent("RouterView");return openBlock(),createElementBlock(Fragment,null,[createVNode(NavBar),createVNode(n)],64)}}});var isVue2=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject$1(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref({}));let r=[],n=[];const o=markRaw({install(s){setActivePinia(o),o._a=s,s.provide(piniaSymbol,o),s.config.globalProperties.$pinia=o,n.forEach(a=>r.push(a)),n=[]},use(s){return!this._a&&!isVue2?n.push(s):r.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return o}const noop$2=()=>{};function addSubscription(t,e,r,n=noop$2){t.push(e);const o=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&getCurrentInstance()&&onUnmounted(o),o}function triggerSubscriptions(t,...e){t.slice().forEach(r=>{r(...e)})}function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],o=t[r];isPlainObject$1(o)&&isPlainObject$1(n)&&t.hasOwnProperty(r)&&!isRef(n)&&!isReactive(n)?t[r]=mergeReactiveObjects(o,n):t[r]=n}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject$1(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed$1(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,r,n){const{state:o,actions:s,getters:a}=e,c=r.state.value[t];let m;function gr(){c||(r.state.value[t]=o?o():{});const _r=toRefs(r.state.value[t]);return assign$3(_r,s,Object.keys(a||{}).reduce((wr,Or)=>(wr[Or]=markRaw(computed$1(()=>{setActivePinia(r);const Ir=r._s.get(t);return a[Or].call(Ir,Ir)})),wr),{}))}return m=createSetupStore(t,gr,e,r,n,!0),m.$reset=function(){const wr=o?o():{};this.$patch(Or=>{assign$3(Or,wr)})},m}function createSetupStore(t,e,r={},n,o,s){let a;const c=assign$3({actions:{}},r),m={deep:!0};let gr,_r,wr=markRaw([]),Or=markRaw([]),Ir;const Pr=n.state.value[t];!s&&!Pr&&(n.state.value[t]={}),ref({});let kr;function xr(Vr){let Jr;gr=_r=!1,typeof Vr=="function"?(Vr(n.state.value[t]),Jr={type:MutationType.patchFunction,storeId:t,events:Ir}):(mergeReactiveObjects(n.state.value[t],Vr),Jr={type:MutationType.patchObject,payload:Vr,storeId:t,events:Ir});const ln=kr=Symbol();nextTick().then(()=>{kr===ln&&(gr=!0)}),_r=!0,triggerSubscriptions(wr,Jr,n.state.value[t])}const Cr=noop$2;function Kr(){a.stop(),wr=[],Or=[],n._s.delete(t)}function Fr(Vr,Jr){return function(){setActivePinia(n);const ln=Array.from(arguments),tn=[],sn=[];function dn(Tr){tn.push(Tr)}function Rr(Tr){sn.push(Tr)}triggerSubscriptions(Or,{args:ln,name:Vr,store:Gr,after:dn,onError:Rr});let vr;try{vr=Jr.apply(this&&this.$id===t?this:Gr,ln)}catch(Tr){throw triggerSubscriptions(sn,Tr),Tr}return vr instanceof Promise?vr.then(Tr=>(triggerSubscriptions(tn,Tr),Tr)).catch(Tr=>(triggerSubscriptions(sn,Tr),Promise.reject(Tr))):(triggerSubscriptions(tn,vr),vr)}}const qr={_p:n,$id:t,$onAction:addSubscription.bind(null,Or),$patch:xr,$reset:Cr,$subscribe(Vr,Jr={}){const ln=addSubscription(wr,Vr,Jr.detached,()=>tn()),tn=a.run(()=>watch(()=>n.state.value[t],sn=>{(Jr.flush==="sync"?_r:gr)&&Vr({storeId:t,type:MutationType.direct,events:Ir},sn)},assign$3({},m,Jr)));return ln},$dispose:Kr},Gr=reactive(assign$3({},qr));n._s.set(t,Gr);const jr=n._e.run(()=>(a=effectScope(),a.run(()=>e())));for(const Vr in jr){const Jr=jr[Vr];if(isRef(Jr)&&!isComputed$1(Jr)||isReactive(Jr))s||(Pr&&shouldHydrate(Jr)&&(isRef(Jr)?Jr.value=Pr[Vr]:mergeReactiveObjects(Jr,Pr[Vr])),n.state.value[t][Vr]=Jr);else if(typeof Jr=="function"){const ln=Fr(Vr,Jr);jr[Vr]=ln,c.actions[Vr]=Jr}}return assign$3(Gr,jr),assign$3(toRaw(Gr),jr),Object.defineProperty(Gr,"$state",{get:()=>n.state.value[t],set:Vr=>{xr(Jr=>{assign$3(Jr,Vr)})}}),n._p.forEach(Vr=>{assign$3(Gr,a.run(()=>Vr({store:Gr,app:n._a,pinia:n,options:c})))}),Pr&&s&&r.hydrate&&r.hydrate(Gr.$state,Pr),gr=!0,_r=!0,Gr}function defineStore(t,e,r){let n,o;const s=typeof e=="function";typeof t=="string"?(n=t,o=s?r:e):(o=t,n=t.id);function a(c,m){const gr=getCurrentInstance();return c=c||gr&&inject(piniaSymbol),c&&setActivePinia(c),c=activePinia,c._s.has(n)||(s?createSetupStore(n,e,o,c):createOptionsStore(n,o,c)),c._s.get(n)}return a.$id=n,a}function storeToRefs(t){{t=toRaw(t);const e={};for(const r in t){const n=t[r];(isRef(n)||isReactive(n))&&(e[r]=toRef(t,r))}return e}}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(t,e){const r={};for(const n in e){const o=e[n];r[n]=isArray$1(o)?o.map(t):t(o)}return r}const noop$1=()=>{},isArray$1=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,r="/"){let n,o={},s="",a="";const c=e.indexOf("#");let m=e.indexOf("?");return c<m&&c>=0&&(m=-1),m>-1&&(n=e.slice(0,m),s=e.slice(m+1,c>-1?c:e.length),o=t(s)),c>-1&&(n=n||e.slice(0,c),a=e.slice(c,e.length)),n=resolveRelativePath(n??e,r),{fullPath:n+(s&&"?")+s+a,path:n,query:o,hash:a}}function stringifyURL(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,r){const n=e.matched.length-1,o=r.matched.length-1;return n>-1&&n===o&&isSameRouteRecord(e.matched[n],r.matched[o])&&isSameRouteLocationParams(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!isSameRouteLocationParamsValue(t[r],e[r]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray$1(t)?isEquivalentArray(t,e):isArray$1(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return isArray$1(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/");let o=r.length-1,s,a;for(s=0;s<n.length;s++)if(a=n[s],a!==".")if(a==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+n.slice(s-(s===n.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;e=getElementPosition(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:r,search:n,hash:o}=e,s=t.indexOf("#");if(s>-1){let c=o.includes(t.slice(s))?t.slice(s).length:1,m=o.slice(c);return m[0]!=="/"&&(m="/"+m),stripBase(m,"")}return stripBase(r,t)+n+o}function useHistoryListeners(t,e,r,n){let o=[],s=[],a=null;const c=({state:Or})=>{const Ir=createCurrentLocation(t,location),Pr=r.value,kr=e.value;let xr=0;if(Or){if(r.value=Ir,e.value=Or,a&&a===Pr){a=null;return}xr=kr?Or.position-kr.position:0}else n(Ir);o.forEach(Cr=>{Cr(r.value,Pr,{delta:xr,type:NavigationType.pop,direction:xr?xr>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function m(){a=r.value}function gr(Or){o.push(Or);const Ir=()=>{const Pr=o.indexOf(Or);Pr>-1&&o.splice(Pr,1)};return s.push(Ir),Ir}function _r(){const{history:Or}=window;!Or.state||Or.replaceState(assign$2({},Or.state,{scroll:computeScrollPosition()}),"")}function wr(){for(const Or of s)Or();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",_r)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",_r),{pauseListeners:m,listen:gr,destroy:wr}}function buildState(t,e,r,n=!1,o=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:r}=window,n={value:createCurrentLocation(t,r)},o={value:e.state};o.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(m,gr,_r){const wr=t.indexOf("#"),Or=wr>-1?(r.host&&document.querySelector("base")?t:t.slice(wr))+m:createBaseLocation()+t+m;try{e[_r?"replaceState":"pushState"](gr,"",Or),o.value=gr}catch(Ir){console.error(Ir),r[_r?"replace":"assign"](Or)}}function a(m,gr){const _r=assign$2({},e.state,buildState(o.value.back,m,o.value.forward,!0),gr,{position:o.value.position});s(m,_r,!0),n.value=m}function c(m,gr){const _r=assign$2({},o.value,e.state,{forward:m,scroll:computeScrollPosition()});s(_r.current,_r,!0);const wr=assign$2({},buildState(n.value,m,null),{position:_r.position+1},gr);s(m,wr,!1),n.value=m}return{location:n,state:o,push:c,replace:a}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),r=useHistoryListeners(t,e.state,e.location,e.replace);function n(s,a=!0){a||r.pauseListeners(),history.go(s)}const o=assign$2({location:"",base:t,go:n,createHref:createHref.bind(null,t)},e,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function createWebHashHistory(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),createWebHistory(t)}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign$2(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const r=assign$2({},BASE_PATH_PARSER_OPTIONS,e),n=[];let o=r.start?"^":"";const s=[];for(const gr of t){const _r=gr.length?[]:[90];r.strict&&!gr.length&&(o+="/");for(let wr=0;wr<gr.length;wr++){const Or=gr[wr];let Ir=40+(r.sensitive?.25:0);if(Or.type===0)wr||(o+="/"),o+=Or.value.replace(REGEX_CHARS_RE,"\\$&"),Ir+=40;else if(Or.type===1){const{value:Pr,repeatable:kr,optional:xr,regexp:Cr}=Or;s.push({name:Pr,repeatable:kr,optional:xr});const Kr=Cr||BASE_PARAM_PATTERN;if(Kr!==BASE_PARAM_PATTERN){Ir+=10;try{new RegExp(`(${Kr})`)}catch(qr){throw new Error(`Invalid custom RegExp for param "${Pr}" (${Kr}): `+qr.message)}}let Fr=kr?`((?:${Kr})(?:/(?:${Kr}))*)`:`(${Kr})`;wr||(Fr=xr&&gr.length<2?`(?:/${Fr})`:"/"+Fr),xr&&(Fr+="?"),o+=Fr,Ir+=20,xr&&(Ir+=-8),kr&&(Ir+=-20),Kr===".*"&&(Ir+=-50)}_r.push(Ir)}n.push(_r)}if(r.strict&&r.end){const gr=n.length-1;n[gr][n[gr].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&(o+="(?:/|$)");const a=new RegExp(o,r.sensitive?"":"i");function c(gr){const _r=gr.match(a),wr={};if(!_r)return null;for(let Or=1;Or<_r.length;Or++){const Ir=_r[Or]||"",Pr=s[Or-1];wr[Pr.name]=Ir&&Pr.repeatable?Ir.split("/"):Ir}return wr}function m(gr){let _r="",wr=!1;for(const Or of t){(!wr||!_r.endsWith("/"))&&(_r+="/"),wr=!1;for(const Ir of Or)if(Ir.type===0)_r+=Ir.value;else if(Ir.type===1){const{value:Pr,repeatable:kr,optional:xr}=Ir,Cr=Pr in gr?gr[Pr]:"";if(isArray$1(Cr)&&!kr)throw new Error(`Provided param "${Pr}" is an array but it is not repeatable (* or + modifiers)`);const Kr=isArray$1(Cr)?Cr.join("/"):Cr;if(!Kr)if(xr)Or.length<2&&(_r.endsWith("/")?_r=_r.slice(0,-1):wr=!0);else throw new Error(`Missing required param "${Pr}"`);_r+=Kr}}return _r||"/"}return{re:a,score:n,keys:s,parse:c,stringify:m}}function compareScoreArray(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let r=0;const n=t.score,o=e.score;for(;r<n.length&&r<o.length;){const s=compareScoreArray(n[r],o[r]);if(s)return s;r++}if(Math.abs(o.length-n.length)===1){if(isLastScoreNegative(n))return 1;if(isLastScoreNegative(o))return-1}return o.length-n.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(Ir){throw new Error(`ERR (${r})/"${gr}": ${Ir}`)}let r=0,n=r;const o=[];let s;function a(){s&&o.push(s),s=[]}let c=0,m,gr="",_r="";function wr(){!gr||(r===0?s.push({type:0,value:gr}):r===1||r===2||r===3?(s.length>1&&(m==="*"||m==="+")&&e(`A repeatable param (${gr}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:gr,regexp:_r,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):e("Invalid state to consume buffer"),gr="")}function Or(){gr+=m}for(;c<t.length;){if(m=t[c++],m==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:m==="/"?(gr&&wr(),a()):m===":"?(wr(),r=1):Or();break;case 4:Or(),r=n;break;case 1:m==="("?r=2:VALID_PARAM_RE.test(m)?Or():(wr(),r=0,m!=="*"&&m!=="?"&&m!=="+"&&c--);break;case 2:m===")"?_r[_r.length-1]=="\\"?_r=_r.slice(0,-1)+m:r=3:_r+=m;break;case 3:wr(),r=0,m!=="*"&&m!=="?"&&m!=="+"&&c--,_r="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${gr}"`),wr(),a(),o}function createRouteRecordMatcher(t,e,r){const n=tokensToParser(tokenizePath(t.path),r),o=assign$2(n,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function createRouterMatcher(t,e){const r=[],n=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function o(_r){return n.get(_r)}function s(_r,wr,Or){const Ir=!Or,Pr=normalizeRouteRecord(_r);Pr.aliasOf=Or&&Or.record;const kr=mergeOptions(e,_r),xr=[Pr];if("alias"in _r){const Fr=typeof _r.alias=="string"?[_r.alias]:_r.alias;for(const qr of Fr)xr.push(assign$2({},Pr,{components:Or?Or.record.components:Pr.components,path:qr,aliasOf:Or?Or.record:Pr}))}let Cr,Kr;for(const Fr of xr){const{path:qr}=Fr;if(wr&&qr[0]!=="/"){const Gr=wr.record.path,jr=Gr[Gr.length-1]==="/"?"":"/";Fr.path=wr.record.path+(qr&&jr+qr)}if(Cr=createRouteRecordMatcher(Fr,wr,kr),Or?Or.alias.push(Cr):(Kr=Kr||Cr,Kr!==Cr&&Kr.alias.push(Cr),Ir&&_r.name&&!isAliasRecord(Cr)&&a(_r.name)),Pr.children){const Gr=Pr.children;for(let jr=0;jr<Gr.length;jr++)s(Gr[jr],Cr,Or&&Or.children[jr])}Or=Or||Cr,m(Cr)}return Kr?()=>{a(Kr)}:noop$1}function a(_r){if(isRouteName(_r)){const wr=n.get(_r);wr&&(n.delete(_r),r.splice(r.indexOf(wr),1),wr.children.forEach(a),wr.alias.forEach(a))}else{const wr=r.indexOf(_r);wr>-1&&(r.splice(wr,1),_r.record.name&&n.delete(_r.record.name),_r.children.forEach(a),_r.alias.forEach(a))}}function c(){return r}function m(_r){let wr=0;for(;wr<r.length&&comparePathParserScore(_r,r[wr])>=0&&(_r.record.path!==r[wr].record.path||!isRecordChildOf(_r,r[wr]));)wr++;r.splice(wr,0,_r),_r.record.name&&!isAliasRecord(_r)&&n.set(_r.record.name,_r)}function gr(_r,wr){let Or,Ir={},Pr,kr;if("name"in _r&&_r.name){if(Or=n.get(_r.name),!Or)throw createRouterError(1,{location:_r});kr=Or.record.name,Ir=assign$2(paramsFromLocation(wr.params,Or.keys.filter(Kr=>!Kr.optional).map(Kr=>Kr.name)),_r.params&&paramsFromLocation(_r.params,Or.keys.map(Kr=>Kr.name))),Pr=Or.stringify(Ir)}else if("path"in _r)Pr=_r.path,Or=r.find(Kr=>Kr.re.test(Pr)),Or&&(Ir=Or.parse(Pr),kr=Or.record.name);else{if(Or=wr.name?n.get(wr.name):r.find(Kr=>Kr.re.test(wr.path)),!Or)throw createRouterError(1,{location:_r,currentLocation:wr});kr=Or.record.name,Ir=assign$2({},wr.params,_r.params),Pr=Or.stringify(Ir)}const xr=[];let Cr=Or;for(;Cr;)xr.unshift(Cr.record),Cr=Cr.parent;return{name:kr,path:Pr,params:Ir,matched:xr,meta:mergeMetaFields(xr)}}return t.forEach(_r=>s(_r)),{addRoute:s,resolve:gr,removeRoute:a,getRoutes:c,getRecordMatcher:o}}function paramsFromLocation(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function normalizeRecordProps(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="boolean"?r:r[n];return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,r)=>assign$2(e,r.meta),{})}function mergeOptions(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function isRecordChildOf(t,e){return e.children.some(r=>r===t||isRecordChildOf(t,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<n.length;++o){const s=n[o].replace(PLUS_RE," "),a=s.indexOf("="),c=decode(a<0?s:s.slice(0,a)),m=a<0?null:decode(s.slice(a+1));if(c in e){let gr=e[c];isArray$1(gr)||(gr=e[c]=[gr]),gr.push(m)}else e[c]=m}return e}function stringifyQuery(t){let e="";for(let r in t){const n=t[r];if(r=encodeQueryKey(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(isArray$1(n)?n.map(s=>s&&encodeQueryValue(s)):[n&&encodeQueryValue(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function normalizeQuery(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=isArray$1(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(n){return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)}}function r(){t=[]}return{add:e,list:()=>t,reset:r}}function guardToPromiseFn(t,e,r,n,o){const s=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const m=wr=>{wr===!1?c(createRouterError(4,{from:r,to:e})):wr instanceof Error?c(wr):isRouteLocation(wr)?c(createRouterError(2,{from:e,to:wr})):(s&&n.enterCallbacks[o]===s&&typeof wr=="function"&&s.push(wr),a())},gr=t.call(n&&n.instances[o],e,r,m);let _r=Promise.resolve(gr);t.length<3&&(_r=_r.then(m)),_r.catch(wr=>c(wr))})}function extractComponentsGuards(t,e,r,n){const o=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(isRouteComponent(c)){const gr=(c.__vccOpts||c)[e];gr&&o.push(guardToPromiseFn(gr,r,n,s,a))}else{let m=c();o.push(()=>m.then(gr=>{if(!gr)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const _r=isESModule(gr)?gr.default:gr;s.components[a]=_r;const Or=(_r.__vccOpts||_r)[e];return Or&&guardToPromiseFn(Or,r,n,s,a)()}))}}return o}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject(routerKey),r=inject(routeLocationKey),n=computed$1(()=>e.resolve(unref(t.to))),o=computed$1(()=>{const{matched:m}=n.value,{length:gr}=m,_r=m[gr-1],wr=r.matched;if(!_r||!wr.length)return-1;const Or=wr.findIndex(isSameRouteRecord.bind(null,_r));if(Or>-1)return Or;const Ir=getOriginalPath(m[gr-2]);return gr>1&&getOriginalPath(_r)===Ir&&wr[wr.length-1].path!==Ir?wr.findIndex(isSameRouteRecord.bind(null,m[gr-2])):Or}),s=computed$1(()=>o.value>-1&&includesParams(r.params,n.value.params)),a=computed$1(()=>o.value>-1&&o.value===r.matched.length-1&&isSameRouteLocationParams(r.params,n.value.params));function c(m={}){return guardEvent(m)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop$1):Promise.resolve()}return{route:n,href:computed$1(()=>n.value.href),isActive:s,isExactActive:a,navigate:c}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const r=reactive(useLink(t)),{options:n}=inject(routerKey),o=computed$1(()=>({[getLinkClass(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:h("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},s)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const r in e){const n=e[r],o=t[r];if(typeof n=="string"){if(n!==o)return!1}else if(!isArray$1(o)||o.length!==n.length||n.some((s,a)=>s!==o[a]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,r)=>t??e??r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=inject(routerViewLocationKey),o=computed$1(()=>t.route||n.value),s=inject(viewDepthKey,0),a=computed$1(()=>{let gr=unref(s);const{matched:_r}=o.value;let wr;for(;(wr=_r[gr])&&!wr.components;)gr++;return gr}),c=computed$1(()=>o.value.matched[a.value]);provide(viewDepthKey,computed$1(()=>a.value+1)),provide(matchedRouteKey,c),provide(routerViewLocationKey,o);const m=ref();return watch(()=>[m.value,c.value,t.name],([gr,_r,wr],[Or,Ir,Pr])=>{_r&&(_r.instances[wr]=gr,Ir&&Ir!==_r&&gr&&gr===Or&&(_r.leaveGuards.size||(_r.leaveGuards=Ir.leaveGuards),_r.updateGuards.size||(_r.updateGuards=Ir.updateGuards))),gr&&_r&&(!Ir||!isSameRouteRecord(_r,Ir)||!Or)&&(_r.enterCallbacks[wr]||[]).forEach(kr=>kr(gr))},{flush:"post"}),()=>{const gr=o.value,_r=t.name,wr=c.value,Or=wr&&wr.components[_r];if(!Or)return normalizeSlot(r.default,{Component:Or,route:gr});const Ir=wr.props[_r],Pr=Ir?Ir===!0?gr.params:typeof Ir=="function"?Ir(gr):Ir:null,xr=h(Or,assign$2({},Pr,e,{onVnodeUnmounted:Cr=>{Cr.component.isUnmounted&&(wr.instances[_r]=null)},ref:m}));return normalizeSlot(r.default,{Component:xr,route:gr})||xr}}});function normalizeSlot(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),r=t.parseQuery||parseQuery,n=t.stringifyQuery||stringifyQuery,o=t.history,s=useCallbacks(),a=useCallbacks(),c=useCallbacks(),m=shallowRef(START_LOCATION_NORMALIZED);let gr=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _r=applyToParams.bind(null,Yr=>""+Yr),wr=applyToParams.bind(null,encodeParam),Or=applyToParams.bind(null,decode);function Ir(Yr,Zr){let an,un;return isRouteName(Yr)?(an=e.getRecordMatcher(Yr),un=Zr):un=Yr,e.addRoute(un,an)}function Pr(Yr){const Zr=e.getRecordMatcher(Yr);Zr&&e.removeRoute(Zr)}function kr(){return e.getRoutes().map(Yr=>Yr.record)}function xr(Yr){return!!e.getRecordMatcher(Yr)}function Cr(Yr,Zr){if(Zr=assign$2({},Zr||m.value),typeof Yr=="string"){const In=parseURL(r,Yr,Zr.path),en=e.resolve({path:In.path},Zr),on=o.createHref(In.fullPath);return assign$2(In,en,{params:Or(en.params),hash:decode(In.hash),redirectedFrom:void 0,href:on})}let an;if("path"in Yr)an=assign$2({},Yr,{path:parseURL(r,Yr.path,Zr.path).path});else{const In=assign$2({},Yr.params);for(const en in In)In[en]==null&&delete In[en];an=assign$2({},Yr,{params:wr(Yr.params)}),Zr.params=wr(Zr.params)}const un=e.resolve(an,Zr),yn=Yr.hash||"";un.params=_r(Or(un.params));const On=stringifyURL(n,assign$2({},Yr,{hash:encodeHash(yn),path:un.path})),Tn=o.createHref(On);return assign$2({fullPath:On,hash:yn,query:n===stringifyQuery?normalizeQuery(Yr.query):Yr.query||{}},un,{redirectedFrom:void 0,href:Tn})}function Kr(Yr){return typeof Yr=="string"?parseURL(r,Yr,m.value.path):assign$2({},Yr)}function Fr(Yr,Zr){if(gr!==Yr)return createRouterError(8,{from:Zr,to:Yr})}function qr(Yr){return Vr(Yr)}function Gr(Yr){return qr(assign$2(Kr(Yr),{replace:!0}))}function jr(Yr){const Zr=Yr.matched[Yr.matched.length-1];if(Zr&&Zr.redirect){const{redirect:an}=Zr;let un=typeof an=="function"?an(Yr):an;return typeof un=="string"&&(un=un.includes("?")||un.includes("#")?un=Kr(un):{path:un},un.params={}),assign$2({query:Yr.query,hash:Yr.hash,params:"path"in un?{}:Yr.params},un)}}function Vr(Yr,Zr){const an=gr=Cr(Yr),un=m.value,yn=Yr.state,On=Yr.force,Tn=Yr.replace===!0,In=jr(an);if(In)return Vr(assign$2(Kr(In),{state:typeof In=="object"?assign$2({},yn,In.state):yn,force:On,replace:Tn}),Zr||an);const en=an;en.redirectedFrom=Zr;let on;return!On&&isSameRouteLocation(n,un,an)&&(on=createRouterError(16,{to:en,from:un}),pn(un,un,!0,!1)),(on?Promise.resolve(on):ln(en,un)).catch(gn=>isNavigationFailure(gn)?isNavigationFailure(gn,2)?gn:nn(gn):Ur(gn,en,un)).then(gn=>{if(gn){if(isNavigationFailure(gn,2))return Vr(assign$2({replace:Tn},Kr(gn.to),{state:typeof gn.to=="object"?assign$2({},yn,gn.to.state):yn,force:On}),Zr||en)}else gn=sn(en,un,!0,Tn,yn);return tn(en,un,gn),gn})}function Jr(Yr,Zr){const an=Fr(Yr,Zr);return an?Promise.reject(an):Promise.resolve()}function ln(Yr,Zr){let an;const[un,yn,On]=extractChangingRecords(Yr,Zr);an=extractComponentsGuards(un.reverse(),"beforeRouteLeave",Yr,Zr);for(const In of un)In.leaveGuards.forEach(en=>{an.push(guardToPromiseFn(en,Yr,Zr))});const Tn=Jr.bind(null,Yr,Zr);return an.push(Tn),runGuardQueue(an).then(()=>{an=[];for(const In of s.list())an.push(guardToPromiseFn(In,Yr,Zr));return an.push(Tn),runGuardQueue(an)}).then(()=>{an=extractComponentsGuards(yn,"beforeRouteUpdate",Yr,Zr);for(const In of yn)In.updateGuards.forEach(en=>{an.push(guardToPromiseFn(en,Yr,Zr))});return an.push(Tn),runGuardQueue(an)}).then(()=>{an=[];for(const In of Yr.matched)if(In.beforeEnter&&!Zr.matched.includes(In))if(isArray$1(In.beforeEnter))for(const en of In.beforeEnter)an.push(guardToPromiseFn(en,Yr,Zr));else an.push(guardToPromiseFn(In.beforeEnter,Yr,Zr));return an.push(Tn),runGuardQueue(an)}).then(()=>(Yr.matched.forEach(In=>In.enterCallbacks={}),an=extractComponentsGuards(On,"beforeRouteEnter",Yr,Zr),an.push(Tn),runGuardQueue(an))).then(()=>{an=[];for(const In of a.list())an.push(guardToPromiseFn(In,Yr,Zr));return an.push(Tn),runGuardQueue(an)}).catch(In=>isNavigationFailure(In,8)?In:Promise.reject(In))}function tn(Yr,Zr,an){for(const un of c.list())un(Yr,Zr,an)}function sn(Yr,Zr,an,un,yn){const On=Fr(Yr,Zr);if(On)return On;const Tn=Zr===START_LOCATION_NORMALIZED,In=isBrowser?history.state:{};an&&(un||Tn?o.replace(Yr.fullPath,assign$2({scroll:Tn&&In&&In.scroll},yn)):o.push(Yr.fullPath,yn)),m.value=Yr,pn(Yr,Zr,an,Tn),nn()}let dn;function Rr(){dn||(dn=o.listen((Yr,Zr,an)=>{if(!cn.listening)return;const un=Cr(Yr),yn=jr(un);if(yn){Vr(assign$2(yn,{replace:!0}),un).catch(noop$1);return}gr=un;const On=m.value;isBrowser&&saveScrollPosition(getScrollKey(On.fullPath,an.delta),computeScrollPosition()),ln(un,On).catch(Tn=>isNavigationFailure(Tn,12)?Tn:isNavigationFailure(Tn,2)?(Vr(Tn.to,un).then(In=>{isNavigationFailure(In,20)&&!an.delta&&an.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop$1),Promise.reject()):(an.delta&&o.go(-an.delta,!1),Ur(Tn,un,On))).then(Tn=>{Tn=Tn||sn(un,On,!1),Tn&&(an.delta&&!isNavigationFailure(Tn,8)?o.go(-an.delta,!1):an.type===NavigationType.pop&&isNavigationFailure(Tn,20)&&o.go(-1,!1)),tn(un,On,Tn)}).catch(noop$1)}))}let vr=useCallbacks(),Tr=useCallbacks(),Lr;function Ur(Yr,Zr,an){nn(Yr);const un=Tr.list();return un.length?un.forEach(yn=>yn(Yr,Zr,an)):console.error(Yr),Promise.reject(Yr)}function Hr(){return Lr&&m.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Yr,Zr)=>{vr.add([Yr,Zr])})}function nn(Yr){return Lr||(Lr=!Yr,Rr(),vr.list().forEach(([Zr,an])=>Yr?an(Yr):Zr()),vr.reset()),Yr}function pn(Yr,Zr,an,un){const{scrollBehavior:yn}=t;if(!isBrowser||!yn)return Promise.resolve();const On=!an&&getSavedScrollPosition(getScrollKey(Yr.fullPath,0))||(un||!an)&&history.state&&history.state.scroll||null;return nextTick().then(()=>yn(Yr,Zr,On)).then(Tn=>Tn&&scrollToPosition(Tn)).catch(Tn=>Ur(Tn,Yr,Zr))}const Nr=Yr=>o.go(Yr);let Er;const Mr=new Set,cn={currentRoute:m,listening:!0,addRoute:Ir,removeRoute:Pr,hasRoute:xr,getRoutes:kr,resolve:Cr,options:t,push:qr,replace:Gr,go:Nr,back:()=>Nr(-1),forward:()=>Nr(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:Tr.add,isReady:Hr,install(Yr){const Zr=this;Yr.component("RouterLink",RouterLink),Yr.component("RouterView",RouterView),Yr.config.globalProperties.$router=Zr,Object.defineProperty(Yr.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(m)}),isBrowser&&!Er&&m.value===START_LOCATION_NORMALIZED&&(Er=!0,qr(o.location).catch(yn=>{}));const an={};for(const yn in START_LOCATION_NORMALIZED)an[yn]=computed$1(()=>m.value[yn]);Yr.provide(routerKey,Zr),Yr.provide(routeLocationKey,reactive(an)),Yr.provide(routerViewLocationKey,m);const un=Yr.unmount;Mr.add(Yr),Yr.unmount=function(){Mr.delete(Yr),Mr.size<1&&(gr=START_LOCATION_NORMALIZED,dn&&dn(),dn=null,m.value=START_LOCATION_NORMALIZED,Er=!1,Lr=!1),un()}}};return cn}function runGuardQueue(t){return t.reduce((e,r)=>e.then(()=>r()),Promise.resolve())}function extractChangingRecords(t,e){const r=[],n=[],o=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(gr=>isSameRouteRecord(gr,c))?n.push(c):r.push(c));const m=t.matched[a];m&&(e.matched.find(gr=>isSameRouteRecord(gr,m))||o.push(m))}return[r,n,o]}const index="",_sfc_main$6={};function _sfc_render$2(t,e){return openBlock(),createElementBlock("h1",null,"Weclome to SkullnBones Trading ")}const Home=_export_sfc(_sfc_main$6,[["render",_sfc_render$2]]),SERUMAPIWEBSOCKET="wss://api.serum-vial.dev/v1/ws";class Convert{static toMarketLevel1(e){return JSON.parse(e)}static marketLevel1ToJson(e){return JSON.stringify(e)}}const useTokenPriceStore=defineStore({id:"tokenPriceStore",state:()=>({ws:{},btc:"0.0",sol:"0.0",atlas:"0.0",polis:"0.0"}),actions:{init(){this.ws=new WebSocket(SERUMAPIWEBSOCKET);const t={op:"subscribe",channel:"level1",markets:["BTC/USDC"]},e={op:"subscribe",channel:"level1",markets:["SOL/USDC"]},r={op:"subscribe",channel:"level1",markets:["POLIS/USDC"]},n={op:"subscribe",channel:"level1",markets:["ATLAS/USDC"]};this.ws.onopen=()=>{this.ws.send(JSON.stringify(t)),this.ws.send(JSON.stringify(e)),this.ws.send(JSON.stringify(r)),this.ws.send(JSON.stringify(n))},this.ws.onmessage=o=>{const s=Convert.toMarketLevel1(o.data);if(s.type==="quote")switch(s.market){case"BTC/USDC":this.btc=s.bestBid[0];break;case"SOL/USDC":this.sol=s.bestBid[0];break;case"ATLAS/USDC":this.atlas=s.bestBid[0];break;case"POLIS/USDC":this.polis=s.bestBid[0];break}}}}});var buffer$1={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js$1,r=ieee754$1,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=Kr,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const br=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(br,l),br.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(br){if(br>o)throw new RangeError('The value "'+br+'" is invalid for option "size"');const l=new Uint8Array(br);return Object.setPrototypeOf(l,c.prototype),l}function c(br,l,d){if(typeof br=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wr(br)}return m(br,l,d)}c.poolSize=8192;function m(br,l,d){if(typeof br=="string")return Or(br,l);if(ArrayBuffer.isView(br))return Pr(br);if(br==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof br);if(rn(br,ArrayBuffer)||br&&rn(br.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rn(br,SharedArrayBuffer)||br&&rn(br.buffer,SharedArrayBuffer)))return kr(br,l,d);if(typeof br=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ar=br.valueOf&&br.valueOf();if(Ar!=null&&Ar!==br)return c.from(Ar,l,d);const $r=xr(br);if($r)return $r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof br[Symbol.toPrimitive]=="function")return c.from(br[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof br)}c.from=function(br,l,d){return m(br,l,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function gr(br){if(typeof br!="number")throw new TypeError('"size" argument must be of type number');if(br<0)throw new RangeError('The value "'+br+'" is invalid for option "size"')}function _r(br,l,d){return gr(br),br<=0?a(br):l!==void 0?typeof d=="string"?a(br).fill(l,d):a(br).fill(l):a(br)}c.alloc=function(br,l,d){return _r(br,l,d)};function wr(br){return gr(br),a(br<0?0:Cr(br)|0)}c.allocUnsafe=function(br){return wr(br)},c.allocUnsafeSlow=function(br){return wr(br)};function Or(br,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=Fr(br,l)|0;let Ar=a(d);const $r=Ar.write(br,l);return $r!==d&&(Ar=Ar.slice(0,$r)),Ar}function Ir(br){const l=br.length<0?0:Cr(br.length)|0,d=a(l);for(let Ar=0;Ar<l;Ar+=1)d[Ar]=br[Ar]&255;return d}function Pr(br){if(rn(br,Uint8Array)){const l=new Uint8Array(br);return kr(l.buffer,l.byteOffset,l.byteLength)}return Ir(br)}function kr(br,l,d){if(l<0||br.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(br.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let Ar;return l===void 0&&d===void 0?Ar=new Uint8Array(br):d===void 0?Ar=new Uint8Array(br,l):Ar=new Uint8Array(br,l,d),Object.setPrototypeOf(Ar,c.prototype),Ar}function xr(br){if(c.isBuffer(br)){const l=Cr(br.length)|0,d=a(l);return d.length===0||br.copy(d,0,0,l),d}if(br.length!==void 0)return typeof br.length!="number"||fn(br.length)?a(0):Ir(br);if(br.type==="Buffer"&&Array.isArray(br.data))return Ir(br.data)}function Cr(br){if(br>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return br|0}function Kr(br){return+br!=br&&(br=0),c.alloc(+br)}c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,d){if(rn(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),rn(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),!c.isBuffer(l)||!c.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let Ar=l.length,$r=d.length;for(let Dr=0,Wr=Math.min(Ar,$r);Dr<Wr;++Dr)if(l[Dr]!==d[Dr]){Ar=l[Dr],$r=d[Dr];break}return Ar<$r?-1:$r<Ar?1:0},c.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);let Ar;if(d===void 0)for(d=0,Ar=0;Ar<l.length;++Ar)d+=l[Ar].length;const $r=c.allocUnsafe(d);let Dr=0;for(Ar=0;Ar<l.length;++Ar){let Wr=l[Ar];if(rn(Wr,Uint8Array))Dr+Wr.length>$r.length?(c.isBuffer(Wr)||(Wr=c.from(Wr)),Wr.copy($r,Dr)):Uint8Array.prototype.set.call($r,Wr,Dr);else if(c.isBuffer(Wr))Wr.copy($r,Dr);else throw new TypeError('"list" argument must be an Array of Buffers');Dr+=Wr.length}return $r};function Fr(br,l){if(c.isBuffer(br))return br.length;if(ArrayBuffer.isView(br)||rn(br,ArrayBuffer))return br.byteLength;if(typeof br!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof br);const d=br.length,Ar=arguments.length>2&&arguments[2]===!0;if(!Ar&&d===0)return 0;let $r=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return wn(br).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return kn(br).length;default:if($r)return Ar?-1:wn(br).length;l=(""+l).toLowerCase(),$r=!0}}c.byteLength=Fr;function qr(br,l,d){let Ar=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(br||(br="utf8");;)switch(br){case"hex":return nn(this,l,d);case"utf8":case"utf-8":return vr(this,l,d);case"ascii":return Ur(this,l,d);case"latin1":case"binary":return Hr(this,l,d);case"base64":return Rr(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pn(this,l,d);default:if(Ar)throw new TypeError("Unknown encoding: "+br);br=(br+"").toLowerCase(),Ar=!0}}c.prototype._isBuffer=!0;function Gr(br,l,d){const Ar=br[l];br[l]=br[d],br[d]=Ar}c.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)Gr(this,d,d+1);return this},c.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)Gr(this,d,d+3),Gr(this,d+1,d+2);return this},c.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)Gr(this,d,d+7),Gr(this,d+1,d+6),Gr(this,d+2,d+5),Gr(this,d+3,d+4);return this},c.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?vr(this,0,l):qr.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:c.compare(this,l)===0},c.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(l,d,Ar,$r,Dr){if(rn(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),Ar===void 0&&(Ar=l?l.length:0),$r===void 0&&($r=0),Dr===void 0&&(Dr=this.length),d<0||Ar>l.length||$r<0||Dr>this.length)throw new RangeError("out of range index");if($r>=Dr&&d>=Ar)return 0;if($r>=Dr)return-1;if(d>=Ar)return 1;if(d>>>=0,Ar>>>=0,$r>>>=0,Dr>>>=0,this===l)return 0;let Wr=Dr-$r,Pn=Ar-d;const Fn=Math.min(Wr,Pn),Cn=this.slice($r,Dr),jn=l.slice(d,Ar);for(let Un=0;Un<Fn;++Un)if(Cn[Un]!==jn[Un]){Wr=Cn[Un],Pn=jn[Un];break}return Wr<Pn?-1:Pn<Wr?1:0};function jr(br,l,d,Ar,$r){if(br.length===0)return-1;if(typeof d=="string"?(Ar=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,fn(d)&&(d=$r?0:br.length-1),d<0&&(d=br.length+d),d>=br.length){if($r)return-1;d=br.length-1}else if(d<0)if($r)d=0;else return-1;if(typeof l=="string"&&(l=c.from(l,Ar)),c.isBuffer(l))return l.length===0?-1:Vr(br,l,d,Ar,$r);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?$r?Uint8Array.prototype.indexOf.call(br,l,d):Uint8Array.prototype.lastIndexOf.call(br,l,d):Vr(br,[l],d,Ar,$r);throw new TypeError("val must be string, number or Buffer")}function Vr(br,l,d,Ar,$r){let Dr=1,Wr=br.length,Pn=l.length;if(Ar!==void 0&&(Ar=String(Ar).toLowerCase(),Ar==="ucs2"||Ar==="ucs-2"||Ar==="utf16le"||Ar==="utf-16le")){if(br.length<2||l.length<2)return-1;Dr=2,Wr/=2,Pn/=2,d/=2}function Fn(jn,Un){return Dr===1?jn[Un]:jn.readUInt16BE(Un*Dr)}let Cn;if($r){let jn=-1;for(Cn=d;Cn<Wr;Cn++)if(Fn(br,Cn)===Fn(l,jn===-1?0:Cn-jn)){if(jn===-1&&(jn=Cn),Cn-jn+1===Pn)return jn*Dr}else jn!==-1&&(Cn-=Cn-jn),jn=-1}else for(d+Pn>Wr&&(d=Wr-Pn),Cn=d;Cn>=0;Cn--){let jn=!0;for(let Un=0;Un<Pn;Un++)if(Fn(br,Cn+Un)!==Fn(l,Un)){jn=!1;break}if(jn)return Cn}return-1}c.prototype.includes=function(l,d,Ar){return this.indexOf(l,d,Ar)!==-1},c.prototype.indexOf=function(l,d,Ar){return jr(this,l,d,Ar,!0)},c.prototype.lastIndexOf=function(l,d,Ar){return jr(this,l,d,Ar,!1)};function Jr(br,l,d,Ar){d=Number(d)||0;const $r=br.length-d;Ar?(Ar=Number(Ar),Ar>$r&&(Ar=$r)):Ar=$r;const Dr=l.length;Ar>Dr/2&&(Ar=Dr/2);let Wr;for(Wr=0;Wr<Ar;++Wr){const Pn=parseInt(l.substr(Wr*2,2),16);if(fn(Pn))return Wr;br[d+Wr]=Pn}return Wr}function ln(br,l,d,Ar){return Rn(wn(l,br.length-d),br,d,Ar)}function tn(br,l,d,Ar){return Rn($n(l),br,d,Ar)}function sn(br,l,d,Ar){return Rn(kn(l),br,d,Ar)}function dn(br,l,d,Ar){return Rn(mn(l,br.length-d),br,d,Ar)}c.prototype.write=function(l,d,Ar,$r){if(d===void 0)$r="utf8",Ar=this.length,d=0;else if(Ar===void 0&&typeof d=="string")$r=d,Ar=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(Ar)?(Ar=Ar>>>0,$r===void 0&&($r="utf8")):($r=Ar,Ar=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Dr=this.length-d;if((Ar===void 0||Ar>Dr)&&(Ar=Dr),l.length>0&&(Ar<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");$r||($r="utf8");let Wr=!1;for(;;)switch($r){case"hex":return Jr(this,l,d,Ar);case"utf8":case"utf-8":return ln(this,l,d,Ar);case"ascii":case"latin1":case"binary":return tn(this,l,d,Ar);case"base64":return sn(this,l,d,Ar);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dn(this,l,d,Ar);default:if(Wr)throw new TypeError("Unknown encoding: "+$r);$r=(""+$r).toLowerCase(),Wr=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Rr(br,l,d){return l===0&&d===br.length?e.fromByteArray(br):e.fromByteArray(br.slice(l,d))}function vr(br,l,d){d=Math.min(br.length,d);const Ar=[];let $r=l;for(;$r<d;){const Dr=br[$r];let Wr=null,Pn=Dr>239?4:Dr>223?3:Dr>191?2:1;if($r+Pn<=d){let Fn,Cn,jn,Un;switch(Pn){case 1:Dr<128&&(Wr=Dr);break;case 2:Fn=br[$r+1],(Fn&192)===128&&(Un=(Dr&31)<<6|Fn&63,Un>127&&(Wr=Un));break;case 3:Fn=br[$r+1],Cn=br[$r+2],(Fn&192)===128&&(Cn&192)===128&&(Un=(Dr&15)<<12|(Fn&63)<<6|Cn&63,Un>2047&&(Un<55296||Un>57343)&&(Wr=Un));break;case 4:Fn=br[$r+1],Cn=br[$r+2],jn=br[$r+3],(Fn&192)===128&&(Cn&192)===128&&(jn&192)===128&&(Un=(Dr&15)<<18|(Fn&63)<<12|(Cn&63)<<6|jn&63,Un>65535&&Un<1114112&&(Wr=Un))}}Wr===null?(Wr=65533,Pn=1):Wr>65535&&(Wr-=65536,Ar.push(Wr>>>10&1023|55296),Wr=56320|Wr&1023),Ar.push(Wr),$r+=Pn}return Lr(Ar)}const Tr=4096;function Lr(br){const l=br.length;if(l<=Tr)return String.fromCharCode.apply(String,br);let d="",Ar=0;for(;Ar<l;)d+=String.fromCharCode.apply(String,br.slice(Ar,Ar+=Tr));return d}function Ur(br,l,d){let Ar="";d=Math.min(br.length,d);for(let $r=l;$r<d;++$r)Ar+=String.fromCharCode(br[$r]&127);return Ar}function Hr(br,l,d){let Ar="";d=Math.min(br.length,d);for(let $r=l;$r<d;++$r)Ar+=String.fromCharCode(br[$r]);return Ar}function nn(br,l,d){const Ar=br.length;(!l||l<0)&&(l=0),(!d||d<0||d>Ar)&&(d=Ar);let $r="";for(let Dr=l;Dr<d;++Dr)$r+=vn[br[Dr]];return $r}function pn(br,l,d){const Ar=br.slice(l,d);let $r="";for(let Dr=0;Dr<Ar.length-1;Dr+=2)$r+=String.fromCharCode(Ar[Dr]+Ar[Dr+1]*256);return $r}c.prototype.slice=function(l,d){const Ar=this.length;l=~~l,d=d===void 0?Ar:~~d,l<0?(l+=Ar,l<0&&(l=0)):l>Ar&&(l=Ar),d<0?(d+=Ar,d<0&&(d=0)):d>Ar&&(d=Ar),d<l&&(d=l);const $r=this.subarray(l,d);return Object.setPrototypeOf($r,c.prototype),$r};function Nr(br,l,d){if(br%1!==0||br<0)throw new RangeError("offset is not uint");if(br+l>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l],Dr=1,Wr=0;for(;++Wr<d&&(Dr*=256);)$r+=this[l+Wr]*Dr;return $r},c.prototype.readUintBE=c.prototype.readUIntBE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l+--d],Dr=1;for(;d>0&&(Dr*=256);)$r+=this[l+--d]*Dr;return $r},c.prototype.readUint8=c.prototype.readUInt8=function(l,d){return l=l>>>0,d||Nr(l,1,this.length),this[l]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||Nr(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||Nr(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readBigUInt64LE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,Dr=this[++l]+this[++l]*2**8+this[++l]*2**16+Ar*2**24;return BigInt($r)+(BigInt(Dr)<<BigInt(32))}),c.prototype.readBigUInt64BE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],Dr=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+Ar;return(BigInt($r)<<BigInt(32))+BigInt(Dr)}),c.prototype.readIntLE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l],Dr=1,Wr=0;for(;++Wr<d&&(Dr*=256);)$r+=this[l+Wr]*Dr;return Dr*=128,$r>=Dr&&($r-=Math.pow(2,8*d)),$r},c.prototype.readIntBE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=d,Dr=1,Wr=this[l+--$r];for(;$r>0&&(Dr*=256);)Wr+=this[l+--$r]*Dr;return Dr*=128,Wr>=Dr&&(Wr-=Math.pow(2,8*d)),Wr},c.prototype.readInt8=function(l,d){return l=l>>>0,d||Nr(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},c.prototype.readInt16LE=function(l,d){l=l>>>0,d||Nr(l,2,this.length);const Ar=this[l]|this[l+1]<<8;return Ar&32768?Ar|4294901760:Ar},c.prototype.readInt16BE=function(l,d){l=l>>>0,d||Nr(l,2,this.length);const Ar=this[l+1]|this[l]<<8;return Ar&32768?Ar|4294901760:Ar},c.prototype.readInt32LE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readBigInt64LE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(Ar<<24);return(BigInt($r)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),c.prototype.readBigInt64BE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt($r)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+Ar)}),c.prototype.readFloatLE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),r.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),r.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||Nr(l,8,this.length),r.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||Nr(l,8,this.length),r.read(this,l,!1,52,8)};function Er(br,l,d,Ar,$r,Dr){if(!c.isBuffer(br))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>$r||l<Dr)throw new RangeError('"value" argument is out of bounds');if(d+Ar>br.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,Ar=Ar>>>0,!$r){const Pn=Math.pow(2,8*Ar)-1;Er(this,l,d,Ar,Pn,0)}let Dr=1,Wr=0;for(this[d]=l&255;++Wr<Ar&&(Dr*=256);)this[d+Wr]=l/Dr&255;return d+Ar},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,Ar=Ar>>>0,!$r){const Pn=Math.pow(2,8*Ar)-1;Er(this,l,d,Ar,Pn,0)}let Dr=Ar-1,Wr=1;for(this[d+Dr]=l&255;--Dr>=0&&(Wr*=256);)this[d+Dr]=l/Wr&255;return d+Ar},c.prototype.writeUint8=c.prototype.writeUInt8=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,1,255,0),this[d]=l&255,d+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function Mr(br,l,d,Ar,$r){In(l,Ar,$r,br,d,7);let Dr=Number(l&BigInt(4294967295));br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr;let Wr=Number(l>>BigInt(32)&BigInt(4294967295));return br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,d}function cn(br,l,d,Ar,$r){In(l,Ar,$r,br,d,7);let Dr=Number(l&BigInt(4294967295));br[d+7]=Dr,Dr=Dr>>8,br[d+6]=Dr,Dr=Dr>>8,br[d+5]=Dr,Dr=Dr>>8,br[d+4]=Dr;let Wr=Number(l>>BigInt(32)&BigInt(4294967295));return br[d+3]=Wr,Wr=Wr>>8,br[d+2]=Wr,Wr=Wr>>8,br[d+1]=Wr,Wr=Wr>>8,br[d]=Wr,d+8}c.prototype.writeBigUInt64LE=En(function(l,d=0){return Mr(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=En(function(l,d=0){return cn(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,!$r){const Fn=Math.pow(2,8*Ar-1);Er(this,l,d,Ar,Fn-1,-Fn)}let Dr=0,Wr=1,Pn=0;for(this[d]=l&255;++Dr<Ar&&(Wr*=256);)l<0&&Pn===0&&this[d+Dr-1]!==0&&(Pn=1),this[d+Dr]=(l/Wr>>0)-Pn&255;return d+Ar},c.prototype.writeIntBE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,!$r){const Fn=Math.pow(2,8*Ar-1);Er(this,l,d,Ar,Fn-1,-Fn)}let Dr=Ar-1,Wr=1,Pn=0;for(this[d+Dr]=l&255;--Dr>=0&&(Wr*=256);)l<0&&Pn===0&&this[d+Dr+1]!==0&&(Pn=1),this[d+Dr]=(l/Wr>>0)-Pn&255;return d+Ar},c.prototype.writeInt8=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},c.prototype.writeInt16LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeInt16BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeInt32LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},c.prototype.writeInt32BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},c.prototype.writeBigInt64LE=En(function(l,d=0){return Mr(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=En(function(l,d=0){return cn(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Yr(br,l,d,Ar,$r,Dr){if(d+Ar>br.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Zr(br,l,d,Ar,$r){return l=+l,d=d>>>0,$r||Yr(br,l,d,4),r.write(br,l,d,Ar,23,4),d+4}c.prototype.writeFloatLE=function(l,d,Ar){return Zr(this,l,d,!0,Ar)},c.prototype.writeFloatBE=function(l,d,Ar){return Zr(this,l,d,!1,Ar)};function an(br,l,d,Ar,$r){return l=+l,d=d>>>0,$r||Yr(br,l,d,8),r.write(br,l,d,Ar,52,8),d+8}c.prototype.writeDoubleLE=function(l,d,Ar){return an(this,l,d,!0,Ar)},c.prototype.writeDoubleBE=function(l,d,Ar){return an(this,l,d,!1,Ar)},c.prototype.copy=function(l,d,Ar,$r){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(Ar||(Ar=0),!$r&&$r!==0&&($r=this.length),d>=l.length&&(d=l.length),d||(d=0),$r>0&&$r<Ar&&($r=Ar),$r===Ar||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(Ar<0||Ar>=this.length)throw new RangeError("Index out of range");if($r<0)throw new RangeError("sourceEnd out of bounds");$r>this.length&&($r=this.length),l.length-d<$r-Ar&&($r=l.length-d+Ar);const Dr=$r-Ar;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,Ar,$r):Uint8Array.prototype.set.call(l,this.subarray(Ar,$r),d),Dr},c.prototype.fill=function(l,d,Ar,$r){if(typeof l=="string"){if(typeof d=="string"?($r=d,d=0,Ar=this.length):typeof Ar=="string"&&($r=Ar,Ar=this.length),$r!==void 0&&typeof $r!="string")throw new TypeError("encoding must be a string");if(typeof $r=="string"&&!c.isEncoding($r))throw new TypeError("Unknown encoding: "+$r);if(l.length===1){const Wr=l.charCodeAt(0);($r==="utf8"&&Wr<128||$r==="latin1")&&(l=Wr)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<Ar)throw new RangeError("Out of range index");if(Ar<=d)return this;d=d>>>0,Ar=Ar===void 0?this.length:Ar>>>0,l||(l=0);let Dr;if(typeof l=="number")for(Dr=d;Dr<Ar;++Dr)this[Dr]=l;else{const Wr=c.isBuffer(l)?l:c.from(l,$r),Pn=Wr.length;if(Pn===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(Dr=0;Dr<Ar-d;++Dr)this[Dr+d]=Wr[Dr%Pn]}return this};const un={};function yn(br,l,d){un[br]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${br}]`,this.stack,delete this.name}get code(){return br}set code($r){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$r,writable:!0})}toString(){return`${this.name} [${br}]: ${this.message}`}}}yn("ERR_BUFFER_OUT_OF_BOUNDS",function(br){return br?`${br} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yn("ERR_INVALID_ARG_TYPE",function(br,l){return`The "${br}" argument must be of type number. Received type ${typeof l}`},TypeError),yn("ERR_OUT_OF_RANGE",function(br,l,d){let Ar=`The value of "${br}" is out of range.`,$r=d;return Number.isInteger(d)&&Math.abs(d)>2**32?$r=On(String(d)):typeof d=="bigint"&&($r=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&($r=On($r)),$r+="n"),Ar+=` It must be ${l}. Received ${$r}`,Ar},RangeError);function On(br){let l="",d=br.length;const Ar=br[0]==="-"?1:0;for(;d>=Ar+4;d-=3)l=`_${br.slice(d-3,d)}${l}`;return`${br.slice(0,d)}${l}`}function Tn(br,l,d){en(l,"offset"),(br[l]===void 0||br[l+d]===void 0)&&on(l,br.length-(d+1))}function In(br,l,d,Ar,$r,Dr){if(br>d||br<l){const Wr=typeof l=="bigint"?"n":"";let Pn;throw Dr>3?l===0||l===BigInt(0)?Pn=`>= 0${Wr} and < 2${Wr} ** ${(Dr+1)*8}${Wr}`:Pn=`>= -(2${Wr} ** ${(Dr+1)*8-1}${Wr}) and < 2 ** ${(Dr+1)*8-1}${Wr}`:Pn=`>= ${l}${Wr} and <= ${d}${Wr}`,new un.ERR_OUT_OF_RANGE("value",Pn,br)}Tn(Ar,$r,Dr)}function en(br,l){if(typeof br!="number")throw new un.ERR_INVALID_ARG_TYPE(l,"number",br)}function on(br,l,d){throw Math.floor(br)!==br?(en(br,d),new un.ERR_OUT_OF_RANGE(d||"offset","an integer",br)):l<0?new un.ERR_BUFFER_OUT_OF_BOUNDS:new un.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${l}`,br)}const gn=/[^+/0-9A-Za-z-_]/g;function xn(br){if(br=br.split("=")[0],br=br.trim().replace(gn,""),br.length<2)return"";for(;br.length%4!==0;)br=br+"=";return br}function wn(br,l){l=l||1/0;let d;const Ar=br.length;let $r=null;const Dr=[];for(let Wr=0;Wr<Ar;++Wr){if(d=br.charCodeAt(Wr),d>55295&&d<57344){if(!$r){if(d>56319){(l-=3)>-1&&Dr.push(239,191,189);continue}else if(Wr+1===Ar){(l-=3)>-1&&Dr.push(239,191,189);continue}$r=d;continue}if(d<56320){(l-=3)>-1&&Dr.push(239,191,189),$r=d;continue}d=($r-55296<<10|d-56320)+65536}else $r&&(l-=3)>-1&&Dr.push(239,191,189);if($r=null,d<128){if((l-=1)<0)break;Dr.push(d)}else if(d<2048){if((l-=2)<0)break;Dr.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;Dr.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;Dr.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return Dr}function $n(br){const l=[];for(let d=0;d<br.length;++d)l.push(br.charCodeAt(d)&255);return l}function mn(br,l){let d,Ar,$r;const Dr=[];for(let Wr=0;Wr<br.length&&!((l-=2)<0);++Wr)d=br.charCodeAt(Wr),Ar=d>>8,$r=d%256,Dr.push($r),Dr.push(Ar);return Dr}function kn(br){return e.toByteArray(xn(br))}function Rn(br,l,d,Ar){let $r;for($r=0;$r<Ar&&!($r+d>=l.length||$r>=br.length);++$r)l[$r+d]=br[$r];return $r}function rn(br,l){return br instanceof l||br!=null&&br.constructor!=null&&br.constructor.name!=null&&br.constructor.name===l.name}function fn(br){return br!==br}const vn=function(){const br="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const Ar=d*16;for(let $r=0;$r<16;++$r)l[Ar+$r]=br[d]+br[$r]}return l}();function En(br){return typeof BigInt>"u"?Bn:br}function Bn(){throw new Error("BigInt not supported")}})(buffer$1);function number$1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function bool(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function bytes(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function hash(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(t.outputLen),number$1(t.blockLen)}function exists(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function output(t,e){bytes(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const assert$4={number:number$1,bool,bytes,hash,exists,output};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32$2=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rotr=(t,e)=>t<<32-e|t>>>e,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function utf8ToBytes(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function toBytes(t){if(typeof t=="string"&&(t=utf8ToBytes(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(t){const e=n=>t().update(toBytes(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function wrapConstructorWithOpts(t){const e=(n,o)=>t(o).update(toBytes(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function setBigUint64(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),s=BigInt(4294967295),a=Number(r>>o&s),c=Number(r&s),m=n?4:0,gr=n?0:4;t.setUint32(e+m,a,n),t.setUint32(e+gr,c,n)}class SHA2 extends Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){assert$4.exists(this);const{view:r,buffer:n,blockLen:o}=this;e=toBytes(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(o-this.pos,s-a);if(c===o){const m=createView(e);for(;o<=s-a;a+=o)this.process(m,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){assert$4.exists(this),assert$4.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let m=a;m<o;m++)r[m]=0;setBigUint64(n,o-8,BigInt(this.length*8),s),this.process(n,0);const c=createView(e);this.get().forEach((m,gr)=>c.setUint32(4*gr,m,s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:s,destroyed:a,pos:c}=this;return e.length=o,e.pos=c,e.finished=s,e.destroyed=a,o%r&&e.buffer.set(n),e}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(t,e=!1){return e?{h:Number(t&U32_MASK64),l:Number(t>>_32n&U32_MASK64)}:{h:Number(t>>_32n&U32_MASK64)|0,l:Number(t&U32_MASK64)|0}}function split(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=fromBig(t[o],e);[r[o],n[o]]=[s,a]}return[r,n]}const toBig=(t,e)=>BigInt(t>>>0)<<_32n|BigInt(e>>>0),shrSH=(t,e,r)=>t>>>r,shrSL=(t,e,r)=>t<<32-r|e>>>r,rotrSH=(t,e,r)=>t>>>r|e<<32-r,rotrSL=(t,e,r)=>t<<32-r|e>>>r,rotrBH=(t,e,r)=>t<<64-r|e>>>r-32,rotrBL=(t,e,r)=>t>>>r-32|e<<64-r,rotr32H=(t,e)=>e,rotr32L=(t,e)=>t,rotlSH=(t,e,r)=>t<<r|e>>>32-r,rotlSL=(t,e,r)=>e<<r|t>>>32-r,rotlBH=(t,e,r)=>e<<r-32|t>>>64-r,rotlBL=(t,e,r)=>t<<r-32|e>>>64-r;function add(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}const add3L=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,add5L=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),add5H=(t,e,r,n,o,s)=>e+r+n+o+s+(t/2**32|0)|0,u64$2={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64$2.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:o,Ch:s,Cl:a,Dh:c,Dl:m,Eh:gr,El:_r,Fh:wr,Fl:Or,Gh:Ir,Gl:Pr,Hh:kr,Hl:xr}=this;return[e,r,n,o,s,a,c,m,gr,_r,wr,Or,Ir,Pr,kr,xr]}set(e,r,n,o,s,a,c,m,gr,_r,wr,Or,Ir,Pr,kr,xr){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=m|0,this.Eh=gr|0,this.El=_r|0,this.Fh=wr|0,this.Fl=Or|0,this.Gh=Ir|0,this.Gl=Pr|0,this.Hh=kr|0,this.Hl=xr|0}process(e,r){for(let Fr=0;Fr<16;Fr++,r+=4)SHA512_W_H[Fr]=e.getUint32(r),SHA512_W_L[Fr]=e.getUint32(r+=4);for(let Fr=16;Fr<80;Fr++){const qr=SHA512_W_H[Fr-15]|0,Gr=SHA512_W_L[Fr-15]|0,jr=u64$2.rotrSH(qr,Gr,1)^u64$2.rotrSH(qr,Gr,8)^u64$2.shrSH(qr,Gr,7),Vr=u64$2.rotrSL(qr,Gr,1)^u64$2.rotrSL(qr,Gr,8)^u64$2.shrSL(qr,Gr,7),Jr=SHA512_W_H[Fr-2]|0,ln=SHA512_W_L[Fr-2]|0,tn=u64$2.rotrSH(Jr,ln,19)^u64$2.rotrBH(Jr,ln,61)^u64$2.shrSH(Jr,ln,6),sn=u64$2.rotrSL(Jr,ln,19)^u64$2.rotrBL(Jr,ln,61)^u64$2.shrSL(Jr,ln,6),dn=u64$2.add4L(Vr,sn,SHA512_W_L[Fr-7],SHA512_W_L[Fr-16]),Rr=u64$2.add4H(dn,jr,tn,SHA512_W_H[Fr-7],SHA512_W_H[Fr-16]);SHA512_W_H[Fr]=Rr|0,SHA512_W_L[Fr]=dn|0}let{Ah:n,Al:o,Bh:s,Bl:a,Ch:c,Cl:m,Dh:gr,Dl:_r,Eh:wr,El:Or,Fh:Ir,Fl:Pr,Gh:kr,Gl:xr,Hh:Cr,Hl:Kr}=this;for(let Fr=0;Fr<80;Fr++){const qr=u64$2.rotrSH(wr,Or,14)^u64$2.rotrSH(wr,Or,18)^u64$2.rotrBH(wr,Or,41),Gr=u64$2.rotrSL(wr,Or,14)^u64$2.rotrSL(wr,Or,18)^u64$2.rotrBL(wr,Or,41),jr=wr&Ir^~wr&kr,Vr=Or&Pr^~Or&xr,Jr=u64$2.add5L(Kr,Gr,Vr,SHA512_Kl[Fr],SHA512_W_L[Fr]),ln=u64$2.add5H(Jr,Cr,qr,jr,SHA512_Kh[Fr],SHA512_W_H[Fr]),tn=Jr|0,sn=u64$2.rotrSH(n,o,28)^u64$2.rotrBH(n,o,34)^u64$2.rotrBH(n,o,39),dn=u64$2.rotrSL(n,o,28)^u64$2.rotrBL(n,o,34)^u64$2.rotrBL(n,o,39),Rr=n&s^n&c^s&c,vr=o&a^o&m^a&m;Cr=kr|0,Kr=xr|0,kr=Ir|0,xr=Pr|0,Ir=wr|0,Pr=Or|0,{h:wr,l:Or}=u64$2.add(gr|0,_r|0,ln|0,tn|0),gr=c|0,_r=m|0,c=s|0,m=a|0,s=n|0,a=o|0;const Tr=u64$2.add3L(tn,dn,vr);n=u64$2.add3H(Tr,ln,sn,Rr),o=Tr|0}({h:n,l:o}=u64$2.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:a}=u64$2.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:m}=u64$2.add(this.Ch|0,this.Cl|0,c|0,m|0),{h:gr,l:_r}=u64$2.add(this.Dh|0,this.Dl|0,gr|0,_r|0),{h:wr,l:Or}=u64$2.add(this.Eh|0,this.El|0,wr|0,Or|0),{h:Ir,l:Pr}=u64$2.add(this.Fh|0,this.Fl|0,Ir|0,Pr|0),{h:kr,l:xr}=u64$2.add(this.Gh|0,this.Gl|0,kr|0,xr|0),{h:Cr,l:Kr}=u64$2.add(this.Hh|0,this.Hl|0,Cr|0,Kr|0),this.set(n,o,s,a,c,m,gr,_r,wr,Or,Ir,Pr,kr,xr,Cr,Kr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const sha512=wrapConstructor(()=>new SHA512);wrapConstructor(()=>new SHA512_256);wrapConstructor(()=>new SHA384);const __viteBrowserExternal={},nodeCrypto=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1),_2n$2=BigInt(2),CU_O=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),CURVE$1=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:CU_O,n:CU_O,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),POW_2_256$1=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const SQRT_AD_MINUS_ONE=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),INVSQRT_A_MINUS_D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ONE_MINUS_D_SQ=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D_MINUS_ONE_SQ=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ExtendedPoint{constructor(e,r,n,o){this.x=e,this.y=r,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof Point$1))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Point$1.ZERO)?ExtendedPoint.ZERO:new ExtendedPoint(e.x,e.y,_1n$2,mod$1(e.x*e.y))}static toAffineBatch(e){const r=invertBatch$1(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){assertExtPoint(e);const{x:r,y:n,z:o}=this,{x:s,y:a,z:c}=e,m=mod$1(r*c),gr=mod$1(s*o),_r=mod$1(n*c),wr=mod$1(a*o);return m===gr&&_r===wr}negate(){return new ExtendedPoint(mod$1(-this.x),this.y,this.z,mod$1(-this.t))}double(){const{x:e,y:r,z:n}=this,{a:o}=CURVE$1,s=mod$1(e*e),a=mod$1(r*r),c=mod$1(_2n$2*mod$1(n*n)),m=mod$1(o*s),gr=e+r,_r=mod$1(mod$1(gr*gr)-s-a),wr=m+a,Or=wr-c,Ir=m-a,Pr=mod$1(_r*Or),kr=mod$1(wr*Ir),xr=mod$1(_r*Ir),Cr=mod$1(Or*wr);return new ExtendedPoint(Pr,kr,Cr,xr)}add(e){assertExtPoint(e);const{x:r,y:n,z:o,t:s}=this,{x:a,y:c,z:m,t:gr}=e,_r=mod$1((n-r)*(c+a)),wr=mod$1((n+r)*(c-a)),Or=mod$1(wr-_r);if(Or===_0n$2)return this.double();const Ir=mod$1(o*_2n$2*gr),Pr=mod$1(s*_2n$2*m),kr=Pr+Ir,xr=wr+_r,Cr=Pr-Ir,Kr=mod$1(kr*Or),Fr=mod$1(xr*Cr),qr=mod$1(kr*Cr),Gr=mod$1(Or*xr);return new ExtendedPoint(Kr,Fr,Gr,qr)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const r=1+256/e,n=[];let o=this,s=o;for(let a=0;a<r;a++){s=o,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,r){!r&&this.equals(ExtendedPoint.BASE)&&(r=Point$1.BASE);const n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&pointPrecomputes$1.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=ExtendedPoint.normalizeZ(o),pointPrecomputes$1.set(r,o)));let s=ExtendedPoint.ZERO,a=ExtendedPoint.ZERO;const c=1+256/n,m=2**(n-1),gr=BigInt(2**n-1),_r=2**n,wr=BigInt(n);for(let Or=0;Or<c;Or++){const Ir=Or*m;let Pr=Number(e&gr);if(e>>=wr,Pr>m&&(Pr-=_r,e+=_1n$2),Pr===0){let kr=o[Ir];Or%2&&(kr=kr.negate()),a=a.add(kr)}else{let kr=o[Ir+Math.abs(Pr)-1];Pr<0&&(kr=kr.negate()),s=s.add(kr)}}return ExtendedPoint.normalizeZ([s,a])[0]}multiply(e,r){return this.wNAF(normalizeScalar$1(e,CURVE$1.l),r)}multiplyUnsafe(e){let r=normalizeScalar$1(e,CURVE$1.l,!1);const n=ExtendedPoint.BASE,o=ExtendedPoint.ZERO;if(r===_0n$2)return o;if(this.equals(o)||r===_1n$2)return this;if(this.equals(n))return this.wNAF(r);let s=o,a=this;for(;r>_0n$2;)r&_1n$2&&(s=s.add(a)),a=a.double(),r>>=_1n$2;return s}isSmallOrder(){return this.multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}isTorsionFree(){return this.multiplyUnsafe(CURVE$1.l).equals(ExtendedPoint.ZERO)}toAffine(e=invert$1(this.z)){const{x:r,y:n,z:o}=this,s=mod$1(r*e),a=mod$1(n*e);if(mod$1(o*e)!==_1n$2)throw new Error("invZ was invalid");return new Point$1(s,a)}fromRistrettoBytes(){legacyRist()}toRistrettoBytes(){legacyRist()}fromRistrettoHash(){legacyRist()}}ExtendedPoint.BASE=new ExtendedPoint(CURVE$1.Gx,CURVE$1.Gy,_1n$2,mod$1(CURVE$1.Gx*CURVE$1.Gy));ExtendedPoint.ZERO=new ExtendedPoint(_0n$2,_1n$2,_1n$2,_0n$2);function assertExtPoint(t){if(!(t instanceof ExtendedPoint))throw new TypeError("ExtendedPoint expected")}function assertRstPoint(t){if(!(t instanceof RistrettoPoint))throw new TypeError("RistrettoPoint expected")}function legacyRist(){throw new Error("Legacy method: switch to RistrettoPoint")}class RistrettoPoint{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:r}=CURVE$1,n=mod$1(SQRT_M1*e*e),o=mod$1((n+_1n$2)*ONE_MINUS_D_SQ);let s=BigInt(-1);const a=mod$1((s-r*n)*mod$1(n+r));let{isValid:c,value:m}=uvRatio(o,a),gr=mod$1(m*e);edIsNegative(gr)||(gr=mod$1(-gr)),c||(m=gr),c||(s=n);const _r=mod$1(s*(n-_1n$2)*D_MINUS_ONE_SQ-a),wr=m*m,Or=mod$1((m+m)*a),Ir=mod$1(_r*SQRT_AD_MINUS_ONE),Pr=mod$1(_1n$2-wr),kr=mod$1(_1n$2+wr);return new ExtendedPoint(mod$1(Or*kr),mod$1(Pr*Ir),mod$1(Ir*kr),mod$1(Or*Pr))}static hashToCurve(e){e=ensureBytes$1(e,64);const r=bytes255ToNumberLE(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),o=bytes255ToNumberLE(e.slice(32,64)),s=this.calcElligatorRistrettoMap(o);return new RistrettoPoint(n.add(s))}static fromHex(e){e=ensureBytes$1(e,32);const{a:r,d:n}=CURVE$1,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=bytes255ToNumberLE(e);if(!equalBytes(numberTo32BytesLE(s),e)||edIsNegative(s))throw new Error(o);const a=mod$1(s*s),c=mod$1(_1n$2+r*a),m=mod$1(_1n$2-r*a),gr=mod$1(c*c),_r=mod$1(m*m),wr=mod$1(r*n*gr-_r),{isValid:Or,value:Ir}=invertSqrt(mod$1(wr*_r)),Pr=mod$1(Ir*m),kr=mod$1(Ir*Pr*wr);let xr=mod$1((s+s)*Pr);edIsNegative(xr)&&(xr=mod$1(-xr));const Cr=mod$1(c*kr),Kr=mod$1(xr*Cr);if(!Or||edIsNegative(Kr)||Cr===_0n$2)throw new Error(o);return new RistrettoPoint(new ExtendedPoint(xr,Cr,_1n$2,Kr))}toRawBytes(){let{x:e,y:r,z:n,t:o}=this.ep;const s=mod$1(mod$1(n+r)*mod$1(n-r)),a=mod$1(e*r),c=mod$1(a*a),{value:m}=invertSqrt(mod$1(s*c)),gr=mod$1(m*s),_r=mod$1(m*a),wr=mod$1(gr*_r*o);let Or;if(edIsNegative(o*wr)){let Pr=mod$1(r*SQRT_M1),kr=mod$1(e*SQRT_M1);e=Pr,r=kr,Or=mod$1(gr*INVSQRT_A_MINUS_D)}else Or=_r;edIsNegative(e*wr)&&(r=mod$1(-r));let Ir=mod$1((n-r)*Or);return edIsNegative(Ir)&&(Ir=mod$1(-Ir)),numberTo32BytesLE(Ir)}toHex(){return bytesToHex$1(this.toRawBytes())}toString(){return this.toHex()}equals(e){assertRstPoint(e);const r=this.ep,n=e.ep,o=mod$1(r.x*n.y)===mod$1(r.y*n.x),s=mod$1(r.y*n.y)===mod$1(r.x*n.x);return o||s}add(e){return assertRstPoint(e),new RistrettoPoint(this.ep.add(e.ep))}subtract(e){return assertRstPoint(e),new RistrettoPoint(this.ep.subtract(e.ep))}multiply(e){return new RistrettoPoint(this.ep.multiply(e))}multiplyUnsafe(e){return new RistrettoPoint(this.ep.multiplyUnsafe(e))}}RistrettoPoint.BASE=new RistrettoPoint(ExtendedPoint.BASE);RistrettoPoint.ZERO=new RistrettoPoint(ExtendedPoint.ZERO);const pointPrecomputes$1=new WeakMap;class Point$1{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,pointPrecomputes$1.delete(this)}static fromHex(e,r=!0){const{d:n,P:o}=CURVE$1;e=ensureBytes$1(e,32);const s=e.slice();s[31]=e[31]&-129;const a=bytesToNumberLE(s);if(r&&a>=o)throw new Error("Expected 0 < hex < P");if(!r&&a>=POW_2_256$1)throw new Error("Expected 0 < hex < 2**256");const c=mod$1(a*a),m=mod$1(c-_1n$2),gr=mod$1(n*c+_1n$2);let{isValid:_r,value:wr}=uvRatio(m,gr);if(!_r)throw new Error("Point.fromHex: invalid y coordinate");const Or=(wr&_1n$2)===_1n$2;return(e[31]&128)!==0!==Or&&(wr=mod$1(-wr)),new Point$1(wr,a)}static async fromPrivateKey(e){return(await getExtendedPublicKey(e)).point}toRawBytes(){const e=numberTo32BytesLE(this.y);return e[31]|=this.x&_1n$2?128:0,e}toHex(){return bytesToHex$1(this.toRawBytes())}toX25519(){const{y:e}=this,r=mod$1((_1n$2+e)*invert$1(_1n$2-e));return numberTo32BytesLE(r)}isTorsionFree(){return ExtendedPoint.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Point$1(mod$1(-this.x),this.y)}add(e){return ExtendedPoint.fromAffine(this).add(ExtendedPoint.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ExtendedPoint.fromAffine(this).multiply(e,this).toAffine()}}Point$1.BASE=new Point$1(CURVE$1.Gx,CURVE$1.Gy);Point$1.ZERO=new Point$1(_0n$2,_1n$2);class Signature$1{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){const r=ensureBytes$1(e,64),n=Point$1.fromHex(r.slice(0,32),!1),o=bytesToNumberLE(r.slice(32,64));return new Signature$1(n,o)}assertValidity(){const{r:e,s:r}=this;if(!(e instanceof Point$1))throw new Error("Expected Point instance");return normalizeScalar$1(r,CURVE$1.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(numberTo32BytesLE(this.s),32),e}toHex(){return bytesToHex$1(this.toRawBytes())}}function concatBytes$1(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];const e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){const s=t[n];r.set(s,o),o+=s.length}return r}const hexes$1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex$1(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=hexes$1[t[r]];return e}function hexToBytes$1(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function numberTo32BytesBE(t){const r=t.toString(16).padStart(64,"0");return hexToBytes$1(r)}function numberTo32BytesLE(t){return numberTo32BytesBE(t).reverse()}function edIsNegative(t){return(mod$1(t)&_1n$2)===_1n$2}function bytesToNumberLE(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+bytesToHex$1(Uint8Array.from(t).reverse()))}const MAX_255B=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bytes255ToNumberLE(t){return mod$1(bytesToNumberLE(t)&MAX_255B)}function mod$1(t,e=CURVE$1.P){const r=t%e;return r>=_0n$2?r:e+r}function invert$1(t,e=CURVE$1.P){if(t===_0n$2||e<=_0n$2)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=mod$1(t,e),n=e,o=_0n$2,s=_1n$2;for(;r!==_0n$2;){const c=n/r,m=n%r,gr=o-s*c;n=r,r=m,o=s,s=gr}if(n!==_1n$2)throw new Error("invert: does not exist");return mod$1(o,e)}function invertBatch$1(t,e=CURVE$1.P){const r=new Array(t.length),n=t.reduce((s,a,c)=>a===_0n$2?s:(r[c]=s,mod$1(s*a,e)),_1n$2),o=invert$1(n,e);return t.reduceRight((s,a,c)=>a===_0n$2?s:(r[c]=mod$1(s*r[c],e),mod$1(s*a,e)),o),r}function pow2$1(t,e){const{P:r}=CURVE$1;let n=t;for(;e-- >_0n$2;)n*=n,n%=r;return n}function pow_2_252_3(t){const{P:e}=CURVE$1,r=BigInt(5),n=BigInt(10),o=BigInt(20),s=BigInt(40),a=BigInt(80),m=t*t%e*t%e,gr=pow2$1(m,_2n$2)*m%e,_r=pow2$1(gr,_1n$2)*t%e,wr=pow2$1(_r,r)*_r%e,Or=pow2$1(wr,n)*wr%e,Ir=pow2$1(Or,o)*Or%e,Pr=pow2$1(Ir,s)*Ir%e,kr=pow2$1(Pr,a)*Pr%e,xr=pow2$1(kr,a)*Pr%e,Cr=pow2$1(xr,n)*wr%e;return{pow_p_5_8:pow2$1(Cr,_2n$2)*t%e,b2:m}}function uvRatio(t,e){const r=mod$1(e*e*e),n=mod$1(r*r*e),o=pow_2_252_3(t*n).pow_p_5_8;let s=mod$1(t*r*o);const a=mod$1(e*s*s),c=s,m=mod$1(s*SQRT_M1),gr=a===t,_r=a===mod$1(-t),wr=a===mod$1(-t*SQRT_M1);return gr&&(s=c),(_r||wr)&&(s=m),edIsNegative(s)&&(s=mod$1(-s)),{isValid:gr||_r,value:s}}function invertSqrt(t){return uvRatio(_1n$2,t)}function modlLE(t){return mod$1(bytesToNumberLE(t),CURVE$1.l)}function equalBytes(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function ensureBytes$1(t,e){const r=t instanceof Uint8Array?Uint8Array.from(t):hexToBytes$1(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function normalizeScalar$1(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(_0n$2<t)return t}else if(_0n$2<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function adjustBytes25519(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function checkPrivateKey(t){if(t=typeof t=="bigint"||typeof t=="number"?numberTo32BytesBE(normalizeScalar$1(t,POW_2_256$1)):ensureBytes$1(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function getKeyFromHash(t){const e=adjustBytes25519(t.slice(0,32)),r=t.slice(32,64),n=modlLE(e),o=Point$1.BASE.multiply(n),s=o.toRawBytes();return{head:e,prefix:r,scalar:n,point:o,pointBytes:s}}let _sha512Sync;function sha512s(...t){if(typeof _sha512Sync!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return _sha512Sync(...t)}async function getExtendedPublicKey(t){return getKeyFromHash(await utils$3.sha512(checkPrivateKey(t)))}function getExtendedPublicKeySync(t){return getKeyFromHash(sha512s(checkPrivateKey(t)))}function getPublicKeySync(t){return getExtendedPublicKeySync(t).pointBytes}function signSync$1(t,e){t=ensureBytes$1(t);const{prefix:r,scalar:n,pointBytes:o}=getExtendedPublicKeySync(e),s=modlLE(sha512s(r,t)),a=Point$1.BASE.multiply(s),c=modlLE(sha512s(a.toRawBytes(),o,t)),m=mod$1(s+c*n,CURVE$1.l);return new Signature$1(a,m).toRawBytes()}function prepareVerification(t,e,r){e=ensureBytes$1(e),r instanceof Point$1||(r=Point$1.fromHex(r,!1));const{r:n,s:o}=t instanceof Signature$1?t.assertValidity():Signature$1.fromHex(t),s=ExtendedPoint.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:s,pub:r,msg:e}}function finishVerification(t,e,r,n){const o=modlLE(n),s=ExtendedPoint.fromAffine(t).multiplyUnsafe(o);return ExtendedPoint.fromAffine(e).add(s).subtract(r).multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}function verifySync(t,e,r){const{r:n,SB:o,msg:s,pub:a}=prepareVerification(t,e,r),c=sha512s(n.toRawBytes(),a.toRawBytes(),s);return finishVerification(a,n,o,c)}const sync={getExtendedPublicKey:getExtendedPublicKeySync,getPublicKey:getPublicKeySync,sign:signSync$1,verify:verifySync};Point$1.BASE._setWindowSize(8);const crypto$2={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},utils$3={bytesToHex:bytesToHex$1,hexToBytes:hexToBytes$1,concatBytes:concatBytes$1,getExtendedPublicKey,mod:mod$1,invert:invert$1,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=ensureBytes$1(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return mod$1(bytesToNumberLE(t),CURVE$1.l-_1n$2)+_1n$2},randomBytes:(t=32)=>{if(crypto$2.web)return crypto$2.web.getRandomValues(new Uint8Array(t));if(crypto$2.node){const{randomBytes:e}=crypto$2.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$3.randomBytes(32),sha512:async(...t)=>{const e=concatBytes$1(...t);if(crypto$2.web){const r=await crypto$2.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(crypto$2.node)return Uint8Array.from(crypto$2.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Point$1.BASE){const r=e.equals(Point$1.BASE)?e:new Point$1(e.x,e.y);return r._setWindowSize(t),r.multiply(_2n$2),r},sha512Sync:void 0};Object.defineProperties(utils$3,{sha512Sync:{configurable:!1,get(){return _sha512Sync},set(t){_sha512Sync||(_sha512Sync=t)}}});var bn={exports:{}};const require$$1$2=getAugmentedNamespace(nodeCrypto);(function(t){(function(e,r){function n(Rr,vr){if(!Rr)throw new Error(vr||"Assertion failed")}function o(Rr,vr){Rr.super_=vr;var Tr=function(){};Tr.prototype=vr.prototype,Rr.prototype=new Tr,Rr.prototype.constructor=Rr}function s(Rr,vr,Tr){if(s.isBN(Rr))return Rr;this.negative=0,this.words=null,this.length=0,this.red=null,Rr!==null&&((vr==="le"||vr==="be")&&(Tr=vr,vr=10),this._init(Rr||0,vr||10,Tr||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=require$$1$2.Buffer}catch{}s.isBN=function(vr){return vr instanceof s?!0:vr!==null&&typeof vr=="object"&&vr.constructor.wordSize===s.wordSize&&Array.isArray(vr.words)},s.max=function(vr,Tr){return vr.cmp(Tr)>0?vr:Tr},s.min=function(vr,Tr){return vr.cmp(Tr)<0?vr:Tr},s.prototype._init=function(vr,Tr,Lr){if(typeof vr=="number")return this._initNumber(vr,Tr,Lr);if(typeof vr=="object")return this._initArray(vr,Tr,Lr);Tr==="hex"&&(Tr=16),n(Tr===(Tr|0)&&Tr>=2&&Tr<=36),vr=vr.toString().replace(/\s+/g,"");var Ur=0;vr[0]==="-"&&(Ur++,this.negative=1),Ur<vr.length&&(Tr===16?this._parseHex(vr,Ur,Lr):(this._parseBase(vr,Tr,Ur),Lr==="le"&&this._initArray(this.toArray(),Tr,Lr)))},s.prototype._initNumber=function(vr,Tr,Lr){vr<0&&(this.negative=1,vr=-vr),vr<67108864?(this.words=[vr&67108863],this.length=1):vr<4503599627370496?(this.words=[vr&67108863,vr/67108864&67108863],this.length=2):(n(vr<9007199254740992),this.words=[vr&67108863,vr/67108864&67108863,1],this.length=3),Lr==="le"&&this._initArray(this.toArray(),Tr,Lr)},s.prototype._initArray=function(vr,Tr,Lr){if(n(typeof vr.length=="number"),vr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(vr.length/3),this.words=new Array(this.length);for(var Ur=0;Ur<this.length;Ur++)this.words[Ur]=0;var Hr,nn,pn=0;if(Lr==="be")for(Ur=vr.length-1,Hr=0;Ur>=0;Ur-=3)nn=vr[Ur]|vr[Ur-1]<<8|vr[Ur-2]<<16,this.words[Hr]|=nn<<pn&67108863,this.words[Hr+1]=nn>>>26-pn&67108863,pn+=24,pn>=26&&(pn-=26,Hr++);else if(Lr==="le")for(Ur=0,Hr=0;Ur<vr.length;Ur+=3)nn=vr[Ur]|vr[Ur+1]<<8|vr[Ur+2]<<16,this.words[Hr]|=nn<<pn&67108863,this.words[Hr+1]=nn>>>26-pn&67108863,pn+=24,pn>=26&&(pn-=26,Hr++);return this._strip()};function c(Rr,vr){var Tr=Rr.charCodeAt(vr);if(Tr>=48&&Tr<=57)return Tr-48;if(Tr>=65&&Tr<=70)return Tr-55;if(Tr>=97&&Tr<=102)return Tr-87;n(!1,"Invalid character in "+Rr)}function m(Rr,vr,Tr){var Lr=c(Rr,Tr);return Tr-1>=vr&&(Lr|=c(Rr,Tr-1)<<4),Lr}s.prototype._parseHex=function(vr,Tr,Lr){this.length=Math.ceil((vr.length-Tr)/6),this.words=new Array(this.length);for(var Ur=0;Ur<this.length;Ur++)this.words[Ur]=0;var Hr=0,nn=0,pn;if(Lr==="be")for(Ur=vr.length-1;Ur>=Tr;Ur-=2)pn=m(vr,Tr,Ur)<<Hr,this.words[nn]|=pn&67108863,Hr>=18?(Hr-=18,nn+=1,this.words[nn]|=pn>>>26):Hr+=8;else{var Nr=vr.length-Tr;for(Ur=Nr%2===0?Tr+1:Tr;Ur<vr.length;Ur+=2)pn=m(vr,Tr,Ur)<<Hr,this.words[nn]|=pn&67108863,Hr>=18?(Hr-=18,nn+=1,this.words[nn]|=pn>>>26):Hr+=8}this._strip()};function gr(Rr,vr,Tr,Lr){for(var Ur=0,Hr=0,nn=Math.min(Rr.length,Tr),pn=vr;pn<nn;pn++){var Nr=Rr.charCodeAt(pn)-48;Ur*=Lr,Nr>=49?Hr=Nr-49+10:Nr>=17?Hr=Nr-17+10:Hr=Nr,n(Nr>=0&&Hr<Lr,"Invalid character"),Ur+=Hr}return Ur}s.prototype._parseBase=function(vr,Tr,Lr){this.words=[0],this.length=1;for(var Ur=0,Hr=1;Hr<=67108863;Hr*=Tr)Ur++;Ur--,Hr=Hr/Tr|0;for(var nn=vr.length-Lr,pn=nn%Ur,Nr=Math.min(nn,nn-pn)+Lr,Er=0,Mr=Lr;Mr<Nr;Mr+=Ur)Er=gr(vr,Mr,Mr+Ur,Tr),this.imuln(Hr),this.words[0]+Er<67108864?this.words[0]+=Er:this._iaddn(Er);if(pn!==0){var cn=1;for(Er=gr(vr,Mr,vr.length,Tr),Mr=0;Mr<pn;Mr++)cn*=Tr;this.imuln(cn),this.words[0]+Er<67108864?this.words[0]+=Er:this._iaddn(Er)}this._strip()},s.prototype.copy=function(vr){vr.words=new Array(this.length);for(var Tr=0;Tr<this.length;Tr++)vr.words[Tr]=this.words[Tr];vr.length=this.length,vr.negative=this.negative,vr.red=this.red};function _r(Rr,vr){Rr.words=vr.words,Rr.length=vr.length,Rr.negative=vr.negative,Rr.red=vr.red}if(s.prototype._move=function(vr){_r(vr,this)},s.prototype.clone=function(){var vr=new s(null);return this.copy(vr),vr},s.prototype._expand=function(vr){for(;this.length<vr;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=wr}catch{s.prototype.inspect=wr}else s.prototype.inspect=wr;function wr(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Or=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ir=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Pr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(vr,Tr){vr=vr||10,Tr=Tr|0||1;var Lr;if(vr===16||vr==="hex"){Lr="";for(var Ur=0,Hr=0,nn=0;nn<this.length;nn++){var pn=this.words[nn],Nr=((pn<<Ur|Hr)&16777215).toString(16);Hr=pn>>>24-Ur&16777215,Ur+=2,Ur>=26&&(Ur-=26,nn--),Hr!==0||nn!==this.length-1?Lr=Or[6-Nr.length]+Nr+Lr:Lr=Nr+Lr}for(Hr!==0&&(Lr=Hr.toString(16)+Lr);Lr.length%Tr!==0;)Lr="0"+Lr;return this.negative!==0&&(Lr="-"+Lr),Lr}if(vr===(vr|0)&&vr>=2&&vr<=36){var Er=Ir[vr],Mr=Pr[vr];Lr="";var cn=this.clone();for(cn.negative=0;!cn.isZero();){var Yr=cn.modrn(Mr).toString(vr);cn=cn.idivn(Mr),cn.isZero()?Lr=Yr+Lr:Lr=Or[Er-Yr.length]+Yr+Lr}for(this.isZero()&&(Lr="0"+Lr);Lr.length%Tr!==0;)Lr="0"+Lr;return this.negative!==0&&(Lr="-"+Lr),Lr}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var vr=this.words[0];return this.length===2?vr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?vr+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-vr:vr},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(vr,Tr){return this.toArrayLike(a,vr,Tr)}),s.prototype.toArray=function(vr,Tr){return this.toArrayLike(Array,vr,Tr)};var kr=function(vr,Tr){return vr.allocUnsafe?vr.allocUnsafe(Tr):new vr(Tr)};s.prototype.toArrayLike=function(vr,Tr,Lr){this._strip();var Ur=this.byteLength(),Hr=Lr||Math.max(1,Ur);n(Ur<=Hr,"byte array longer than desired length"),n(Hr>0,"Requested array length <= 0");var nn=kr(vr,Hr),pn=Tr==="le"?"LE":"BE";return this["_toArrayLike"+pn](nn,Ur),nn},s.prototype._toArrayLikeLE=function(vr,Tr){for(var Lr=0,Ur=0,Hr=0,nn=0;Hr<this.length;Hr++){var pn=this.words[Hr]<<nn|Ur;vr[Lr++]=pn&255,Lr<vr.length&&(vr[Lr++]=pn>>8&255),Lr<vr.length&&(vr[Lr++]=pn>>16&255),nn===6?(Lr<vr.length&&(vr[Lr++]=pn>>24&255),Ur=0,nn=0):(Ur=pn>>>24,nn+=2)}if(Lr<vr.length)for(vr[Lr++]=Ur;Lr<vr.length;)vr[Lr++]=0},s.prototype._toArrayLikeBE=function(vr,Tr){for(var Lr=vr.length-1,Ur=0,Hr=0,nn=0;Hr<this.length;Hr++){var pn=this.words[Hr]<<nn|Ur;vr[Lr--]=pn&255,Lr>=0&&(vr[Lr--]=pn>>8&255),Lr>=0&&(vr[Lr--]=pn>>16&255),nn===6?(Lr>=0&&(vr[Lr--]=pn>>24&255),Ur=0,nn=0):(Ur=pn>>>24,nn+=2)}if(Lr>=0)for(vr[Lr--]=Ur;Lr>=0;)vr[Lr--]=0},Math.clz32?s.prototype._countBits=function(vr){return 32-Math.clz32(vr)}:s.prototype._countBits=function(vr){var Tr=vr,Lr=0;return Tr>=4096&&(Lr+=13,Tr>>>=13),Tr>=64&&(Lr+=7,Tr>>>=7),Tr>=8&&(Lr+=4,Tr>>>=4),Tr>=2&&(Lr+=2,Tr>>>=2),Lr+Tr},s.prototype._zeroBits=function(vr){if(vr===0)return 26;var Tr=vr,Lr=0;return(Tr&8191)===0&&(Lr+=13,Tr>>>=13),(Tr&127)===0&&(Lr+=7,Tr>>>=7),(Tr&15)===0&&(Lr+=4,Tr>>>=4),(Tr&3)===0&&(Lr+=2,Tr>>>=2),(Tr&1)===0&&Lr++,Lr},s.prototype.bitLength=function(){var vr=this.words[this.length-1],Tr=this._countBits(vr);return(this.length-1)*26+Tr};function xr(Rr){for(var vr=new Array(Rr.bitLength()),Tr=0;Tr<vr.length;Tr++){var Lr=Tr/26|0,Ur=Tr%26;vr[Tr]=Rr.words[Lr]>>>Ur&1}return vr}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var vr=0,Tr=0;Tr<this.length;Tr++){var Lr=this._zeroBits(this.words[Tr]);if(vr+=Lr,Lr!==26)break}return vr},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(vr){return this.negative!==0?this.abs().inotn(vr).iaddn(1):this.clone()},s.prototype.fromTwos=function(vr){return this.testn(vr-1)?this.notn(vr).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(vr){for(;this.length<vr.length;)this.words[this.length++]=0;for(var Tr=0;Tr<vr.length;Tr++)this.words[Tr]=this.words[Tr]|vr.words[Tr];return this._strip()},s.prototype.ior=function(vr){return n((this.negative|vr.negative)===0),this.iuor(vr)},s.prototype.or=function(vr){return this.length>vr.length?this.clone().ior(vr):vr.clone().ior(this)},s.prototype.uor=function(vr){return this.length>vr.length?this.clone().iuor(vr):vr.clone().iuor(this)},s.prototype.iuand=function(vr){var Tr;this.length>vr.length?Tr=vr:Tr=this;for(var Lr=0;Lr<Tr.length;Lr++)this.words[Lr]=this.words[Lr]&vr.words[Lr];return this.length=Tr.length,this._strip()},s.prototype.iand=function(vr){return n((this.negative|vr.negative)===0),this.iuand(vr)},s.prototype.and=function(vr){return this.length>vr.length?this.clone().iand(vr):vr.clone().iand(this)},s.prototype.uand=function(vr){return this.length>vr.length?this.clone().iuand(vr):vr.clone().iuand(this)},s.prototype.iuxor=function(vr){var Tr,Lr;this.length>vr.length?(Tr=this,Lr=vr):(Tr=vr,Lr=this);for(var Ur=0;Ur<Lr.length;Ur++)this.words[Ur]=Tr.words[Ur]^Lr.words[Ur];if(this!==Tr)for(;Ur<Tr.length;Ur++)this.words[Ur]=Tr.words[Ur];return this.length=Tr.length,this._strip()},s.prototype.ixor=function(vr){return n((this.negative|vr.negative)===0),this.iuxor(vr)},s.prototype.xor=function(vr){return this.length>vr.length?this.clone().ixor(vr):vr.clone().ixor(this)},s.prototype.uxor=function(vr){return this.length>vr.length?this.clone().iuxor(vr):vr.clone().iuxor(this)},s.prototype.inotn=function(vr){n(typeof vr=="number"&&vr>=0);var Tr=Math.ceil(vr/26)|0,Lr=vr%26;this._expand(Tr),Lr>0&&Tr--;for(var Ur=0;Ur<Tr;Ur++)this.words[Ur]=~this.words[Ur]&67108863;return Lr>0&&(this.words[Ur]=~this.words[Ur]&67108863>>26-Lr),this._strip()},s.prototype.notn=function(vr){return this.clone().inotn(vr)},s.prototype.setn=function(vr,Tr){n(typeof vr=="number"&&vr>=0);var Lr=vr/26|0,Ur=vr%26;return this._expand(Lr+1),Tr?this.words[Lr]=this.words[Lr]|1<<Ur:this.words[Lr]=this.words[Lr]&~(1<<Ur),this._strip()},s.prototype.iadd=function(vr){var Tr;if(this.negative!==0&&vr.negative===0)return this.negative=0,Tr=this.isub(vr),this.negative^=1,this._normSign();if(this.negative===0&&vr.negative!==0)return vr.negative=0,Tr=this.isub(vr),vr.negative=1,Tr._normSign();var Lr,Ur;this.length>vr.length?(Lr=this,Ur=vr):(Lr=vr,Ur=this);for(var Hr=0,nn=0;nn<Ur.length;nn++)Tr=(Lr.words[nn]|0)+(Ur.words[nn]|0)+Hr,this.words[nn]=Tr&67108863,Hr=Tr>>>26;for(;Hr!==0&&nn<Lr.length;nn++)Tr=(Lr.words[nn]|0)+Hr,this.words[nn]=Tr&67108863,Hr=Tr>>>26;if(this.length=Lr.length,Hr!==0)this.words[this.length]=Hr,this.length++;else if(Lr!==this)for(;nn<Lr.length;nn++)this.words[nn]=Lr.words[nn];return this},s.prototype.add=function(vr){var Tr;return vr.negative!==0&&this.negative===0?(vr.negative=0,Tr=this.sub(vr),vr.negative^=1,Tr):vr.negative===0&&this.negative!==0?(this.negative=0,Tr=vr.sub(this),this.negative=1,Tr):this.length>vr.length?this.clone().iadd(vr):vr.clone().iadd(this)},s.prototype.isub=function(vr){if(vr.negative!==0){vr.negative=0;var Tr=this.iadd(vr);return vr.negative=1,Tr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(vr),this.negative=1,this._normSign();var Lr=this.cmp(vr);if(Lr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ur,Hr;Lr>0?(Ur=this,Hr=vr):(Ur=vr,Hr=this);for(var nn=0,pn=0;pn<Hr.length;pn++)Tr=(Ur.words[pn]|0)-(Hr.words[pn]|0)+nn,nn=Tr>>26,this.words[pn]=Tr&67108863;for(;nn!==0&&pn<Ur.length;pn++)Tr=(Ur.words[pn]|0)+nn,nn=Tr>>26,this.words[pn]=Tr&67108863;if(nn===0&&pn<Ur.length&&Ur!==this)for(;pn<Ur.length;pn++)this.words[pn]=Ur.words[pn];return this.length=Math.max(this.length,pn),Ur!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(vr){return this.clone().isub(vr)};function Cr(Rr,vr,Tr){Tr.negative=vr.negative^Rr.negative;var Lr=Rr.length+vr.length|0;Tr.length=Lr,Lr=Lr-1|0;var Ur=Rr.words[0]|0,Hr=vr.words[0]|0,nn=Ur*Hr,pn=nn&67108863,Nr=nn/67108864|0;Tr.words[0]=pn;for(var Er=1;Er<Lr;Er++){for(var Mr=Nr>>>26,cn=Nr&67108863,Yr=Math.min(Er,vr.length-1),Zr=Math.max(0,Er-Rr.length+1);Zr<=Yr;Zr++){var an=Er-Zr|0;Ur=Rr.words[an]|0,Hr=vr.words[Zr]|0,nn=Ur*Hr+cn,Mr+=nn/67108864|0,cn=nn&67108863}Tr.words[Er]=cn|0,Nr=Mr|0}return Nr!==0?Tr.words[Er]=Nr|0:Tr.length--,Tr._strip()}var Kr=function(vr,Tr,Lr){var Ur=vr.words,Hr=Tr.words,nn=Lr.words,pn=0,Nr,Er,Mr,cn=Ur[0]|0,Yr=cn&8191,Zr=cn>>>13,an=Ur[1]|0,un=an&8191,yn=an>>>13,On=Ur[2]|0,Tn=On&8191,In=On>>>13,en=Ur[3]|0,on=en&8191,gn=en>>>13,xn=Ur[4]|0,wn=xn&8191,$n=xn>>>13,mn=Ur[5]|0,kn=mn&8191,Rn=mn>>>13,rn=Ur[6]|0,fn=rn&8191,vn=rn>>>13,En=Ur[7]|0,Bn=En&8191,br=En>>>13,l=Ur[8]|0,d=l&8191,Ar=l>>>13,$r=Ur[9]|0,Dr=$r&8191,Wr=$r>>>13,Pn=Hr[0]|0,Fn=Pn&8191,Cn=Pn>>>13,jn=Hr[1]|0,Un=jn&8191,mi=jn>>>13,Cs=Hr[2]|0,di=Cs&8191,hi=Cs>>>13,Ls=Hr[3]|0,_i=Ls&8191,bi=Ls>>>13,Ns=Hr[4]|0,pi=Ns&8191,wi=Ns>>>13,Ds=Hr[5]|0,vi=Ds&8191,ui=Ds>>>13,Us=Hr[6]|0,li=Us&8191,Si=Us>>>13,Fs=Hr[7]|0,Ai=Fs&8191,Ei=Fs>>>13,Ks=Hr[8]|0,Ii=Ks&8191,Oi=Ks>>>13,js=Hr[9]|0,yi=js&8191,Ti=js>>>13;Lr.negative=vr.negative^Tr.negative,Lr.length=19,Nr=Math.imul(Yr,Fn),Er=Math.imul(Yr,Cn),Er=Er+Math.imul(Zr,Fn)|0,Mr=Math.imul(Zr,Cn);var as=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(as>>>26)|0,as&=67108863,Nr=Math.imul(un,Fn),Er=Math.imul(un,Cn),Er=Er+Math.imul(yn,Fn)|0,Mr=Math.imul(yn,Cn),Nr=Nr+Math.imul(Yr,Un)|0,Er=Er+Math.imul(Yr,mi)|0,Er=Er+Math.imul(Zr,Un)|0,Mr=Mr+Math.imul(Zr,mi)|0;var cs=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(cs>>>26)|0,cs&=67108863,Nr=Math.imul(Tn,Fn),Er=Math.imul(Tn,Cn),Er=Er+Math.imul(In,Fn)|0,Mr=Math.imul(In,Cn),Nr=Nr+Math.imul(un,Un)|0,Er=Er+Math.imul(un,mi)|0,Er=Er+Math.imul(yn,Un)|0,Mr=Mr+Math.imul(yn,mi)|0,Nr=Nr+Math.imul(Yr,di)|0,Er=Er+Math.imul(Yr,hi)|0,Er=Er+Math.imul(Zr,di)|0,Mr=Mr+Math.imul(Zr,hi)|0;var us=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(us>>>26)|0,us&=67108863,Nr=Math.imul(on,Fn),Er=Math.imul(on,Cn),Er=Er+Math.imul(gn,Fn)|0,Mr=Math.imul(gn,Cn),Nr=Nr+Math.imul(Tn,Un)|0,Er=Er+Math.imul(Tn,mi)|0,Er=Er+Math.imul(In,Un)|0,Mr=Mr+Math.imul(In,mi)|0,Nr=Nr+Math.imul(un,di)|0,Er=Er+Math.imul(un,hi)|0,Er=Er+Math.imul(yn,di)|0,Mr=Mr+Math.imul(yn,hi)|0,Nr=Nr+Math.imul(Yr,_i)|0,Er=Er+Math.imul(Yr,bi)|0,Er=Er+Math.imul(Zr,_i)|0,Mr=Mr+Math.imul(Zr,bi)|0;var ls=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(ls>>>26)|0,ls&=67108863,Nr=Math.imul(wn,Fn),Er=Math.imul(wn,Cn),Er=Er+Math.imul($n,Fn)|0,Mr=Math.imul($n,Cn),Nr=Nr+Math.imul(on,Un)|0,Er=Er+Math.imul(on,mi)|0,Er=Er+Math.imul(gn,Un)|0,Mr=Mr+Math.imul(gn,mi)|0,Nr=Nr+Math.imul(Tn,di)|0,Er=Er+Math.imul(Tn,hi)|0,Er=Er+Math.imul(In,di)|0,Mr=Mr+Math.imul(In,hi)|0,Nr=Nr+Math.imul(un,_i)|0,Er=Er+Math.imul(un,bi)|0,Er=Er+Math.imul(yn,_i)|0,Mr=Mr+Math.imul(yn,bi)|0,Nr=Nr+Math.imul(Yr,pi)|0,Er=Er+Math.imul(Yr,wi)|0,Er=Er+Math.imul(Zr,pi)|0,Mr=Mr+Math.imul(Zr,wi)|0;var fs=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(fs>>>26)|0,fs&=67108863,Nr=Math.imul(kn,Fn),Er=Math.imul(kn,Cn),Er=Er+Math.imul(Rn,Fn)|0,Mr=Math.imul(Rn,Cn),Nr=Nr+Math.imul(wn,Un)|0,Er=Er+Math.imul(wn,mi)|0,Er=Er+Math.imul($n,Un)|0,Mr=Mr+Math.imul($n,mi)|0,Nr=Nr+Math.imul(on,di)|0,Er=Er+Math.imul(on,hi)|0,Er=Er+Math.imul(gn,di)|0,Mr=Mr+Math.imul(gn,hi)|0,Nr=Nr+Math.imul(Tn,_i)|0,Er=Er+Math.imul(Tn,bi)|0,Er=Er+Math.imul(In,_i)|0,Mr=Mr+Math.imul(In,bi)|0,Nr=Nr+Math.imul(un,pi)|0,Er=Er+Math.imul(un,wi)|0,Er=Er+Math.imul(yn,pi)|0,Mr=Mr+Math.imul(yn,wi)|0,Nr=Nr+Math.imul(Yr,vi)|0,Er=Er+Math.imul(Yr,ui)|0,Er=Er+Math.imul(Zr,vi)|0,Mr=Mr+Math.imul(Zr,ui)|0;var So=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(So>>>26)|0,So&=67108863,Nr=Math.imul(fn,Fn),Er=Math.imul(fn,Cn),Er=Er+Math.imul(vn,Fn)|0,Mr=Math.imul(vn,Cn),Nr=Nr+Math.imul(kn,Un)|0,Er=Er+Math.imul(kn,mi)|0,Er=Er+Math.imul(Rn,Un)|0,Mr=Mr+Math.imul(Rn,mi)|0,Nr=Nr+Math.imul(wn,di)|0,Er=Er+Math.imul(wn,hi)|0,Er=Er+Math.imul($n,di)|0,Mr=Mr+Math.imul($n,hi)|0,Nr=Nr+Math.imul(on,_i)|0,Er=Er+Math.imul(on,bi)|0,Er=Er+Math.imul(gn,_i)|0,Mr=Mr+Math.imul(gn,bi)|0,Nr=Nr+Math.imul(Tn,pi)|0,Er=Er+Math.imul(Tn,wi)|0,Er=Er+Math.imul(In,pi)|0,Mr=Mr+Math.imul(In,wi)|0,Nr=Nr+Math.imul(un,vi)|0,Er=Er+Math.imul(un,ui)|0,Er=Er+Math.imul(yn,vi)|0,Mr=Mr+Math.imul(yn,ui)|0,Nr=Nr+Math.imul(Yr,li)|0,Er=Er+Math.imul(Yr,Si)|0,Er=Er+Math.imul(Zr,li)|0,Mr=Mr+Math.imul(Zr,Si)|0;var ds=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(ds>>>26)|0,ds&=67108863,Nr=Math.imul(Bn,Fn),Er=Math.imul(Bn,Cn),Er=Er+Math.imul(br,Fn)|0,Mr=Math.imul(br,Cn),Nr=Nr+Math.imul(fn,Un)|0,Er=Er+Math.imul(fn,mi)|0,Er=Er+Math.imul(vn,Un)|0,Mr=Mr+Math.imul(vn,mi)|0,Nr=Nr+Math.imul(kn,di)|0,Er=Er+Math.imul(kn,hi)|0,Er=Er+Math.imul(Rn,di)|0,Mr=Mr+Math.imul(Rn,hi)|0,Nr=Nr+Math.imul(wn,_i)|0,Er=Er+Math.imul(wn,bi)|0,Er=Er+Math.imul($n,_i)|0,Mr=Mr+Math.imul($n,bi)|0,Nr=Nr+Math.imul(on,pi)|0,Er=Er+Math.imul(on,wi)|0,Er=Er+Math.imul(gn,pi)|0,Mr=Mr+Math.imul(gn,wi)|0,Nr=Nr+Math.imul(Tn,vi)|0,Er=Er+Math.imul(Tn,ui)|0,Er=Er+Math.imul(In,vi)|0,Mr=Mr+Math.imul(In,ui)|0,Nr=Nr+Math.imul(un,li)|0,Er=Er+Math.imul(un,Si)|0,Er=Er+Math.imul(yn,li)|0,Mr=Mr+Math.imul(yn,Si)|0,Nr=Nr+Math.imul(Yr,Ai)|0,Er=Er+Math.imul(Yr,Ei)|0,Er=Er+Math.imul(Zr,Ai)|0,Mr=Mr+Math.imul(Zr,Ei)|0;var Ao=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,Nr=Math.imul(d,Fn),Er=Math.imul(d,Cn),Er=Er+Math.imul(Ar,Fn)|0,Mr=Math.imul(Ar,Cn),Nr=Nr+Math.imul(Bn,Un)|0,Er=Er+Math.imul(Bn,mi)|0,Er=Er+Math.imul(br,Un)|0,Mr=Mr+Math.imul(br,mi)|0,Nr=Nr+Math.imul(fn,di)|0,Er=Er+Math.imul(fn,hi)|0,Er=Er+Math.imul(vn,di)|0,Mr=Mr+Math.imul(vn,hi)|0,Nr=Nr+Math.imul(kn,_i)|0,Er=Er+Math.imul(kn,bi)|0,Er=Er+Math.imul(Rn,_i)|0,Mr=Mr+Math.imul(Rn,bi)|0,Nr=Nr+Math.imul(wn,pi)|0,Er=Er+Math.imul(wn,wi)|0,Er=Er+Math.imul($n,pi)|0,Mr=Mr+Math.imul($n,wi)|0,Nr=Nr+Math.imul(on,vi)|0,Er=Er+Math.imul(on,ui)|0,Er=Er+Math.imul(gn,vi)|0,Mr=Mr+Math.imul(gn,ui)|0,Nr=Nr+Math.imul(Tn,li)|0,Er=Er+Math.imul(Tn,Si)|0,Er=Er+Math.imul(In,li)|0,Mr=Mr+Math.imul(In,Si)|0,Nr=Nr+Math.imul(un,Ai)|0,Er=Er+Math.imul(un,Ei)|0,Er=Er+Math.imul(yn,Ai)|0,Mr=Mr+Math.imul(yn,Ei)|0,Nr=Nr+Math.imul(Yr,Ii)|0,Er=Er+Math.imul(Yr,Oi)|0,Er=Er+Math.imul(Zr,Ii)|0,Mr=Mr+Math.imul(Zr,Oi)|0;var hs=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(hs>>>26)|0,hs&=67108863,Nr=Math.imul(Dr,Fn),Er=Math.imul(Dr,Cn),Er=Er+Math.imul(Wr,Fn)|0,Mr=Math.imul(Wr,Cn),Nr=Nr+Math.imul(d,Un)|0,Er=Er+Math.imul(d,mi)|0,Er=Er+Math.imul(Ar,Un)|0,Mr=Mr+Math.imul(Ar,mi)|0,Nr=Nr+Math.imul(Bn,di)|0,Er=Er+Math.imul(Bn,hi)|0,Er=Er+Math.imul(br,di)|0,Mr=Mr+Math.imul(br,hi)|0,Nr=Nr+Math.imul(fn,_i)|0,Er=Er+Math.imul(fn,bi)|0,Er=Er+Math.imul(vn,_i)|0,Mr=Mr+Math.imul(vn,bi)|0,Nr=Nr+Math.imul(kn,pi)|0,Er=Er+Math.imul(kn,wi)|0,Er=Er+Math.imul(Rn,pi)|0,Mr=Mr+Math.imul(Rn,wi)|0,Nr=Nr+Math.imul(wn,vi)|0,Er=Er+Math.imul(wn,ui)|0,Er=Er+Math.imul($n,vi)|0,Mr=Mr+Math.imul($n,ui)|0,Nr=Nr+Math.imul(on,li)|0,Er=Er+Math.imul(on,Si)|0,Er=Er+Math.imul(gn,li)|0,Mr=Mr+Math.imul(gn,Si)|0,Nr=Nr+Math.imul(Tn,Ai)|0,Er=Er+Math.imul(Tn,Ei)|0,Er=Er+Math.imul(In,Ai)|0,Mr=Mr+Math.imul(In,Ei)|0,Nr=Nr+Math.imul(un,Ii)|0,Er=Er+Math.imul(un,Oi)|0,Er=Er+Math.imul(yn,Ii)|0,Mr=Mr+Math.imul(yn,Oi)|0,Nr=Nr+Math.imul(Yr,yi)|0,Er=Er+Math.imul(Yr,Ti)|0,Er=Er+Math.imul(Zr,yi)|0,Mr=Mr+Math.imul(Zr,Ti)|0;var ps=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(ps>>>26)|0,ps&=67108863,Nr=Math.imul(Dr,Un),Er=Math.imul(Dr,mi),Er=Er+Math.imul(Wr,Un)|0,Mr=Math.imul(Wr,mi),Nr=Nr+Math.imul(d,di)|0,Er=Er+Math.imul(d,hi)|0,Er=Er+Math.imul(Ar,di)|0,Mr=Mr+Math.imul(Ar,hi)|0,Nr=Nr+Math.imul(Bn,_i)|0,Er=Er+Math.imul(Bn,bi)|0,Er=Er+Math.imul(br,_i)|0,Mr=Mr+Math.imul(br,bi)|0,Nr=Nr+Math.imul(fn,pi)|0,Er=Er+Math.imul(fn,wi)|0,Er=Er+Math.imul(vn,pi)|0,Mr=Mr+Math.imul(vn,wi)|0,Nr=Nr+Math.imul(kn,vi)|0,Er=Er+Math.imul(kn,ui)|0,Er=Er+Math.imul(Rn,vi)|0,Mr=Mr+Math.imul(Rn,ui)|0,Nr=Nr+Math.imul(wn,li)|0,Er=Er+Math.imul(wn,Si)|0,Er=Er+Math.imul($n,li)|0,Mr=Mr+Math.imul($n,Si)|0,Nr=Nr+Math.imul(on,Ai)|0,Er=Er+Math.imul(on,Ei)|0,Er=Er+Math.imul(gn,Ai)|0,Mr=Mr+Math.imul(gn,Ei)|0,Nr=Nr+Math.imul(Tn,Ii)|0,Er=Er+Math.imul(Tn,Oi)|0,Er=Er+Math.imul(In,Ii)|0,Mr=Mr+Math.imul(In,Oi)|0,Nr=Nr+Math.imul(un,yi)|0,Er=Er+Math.imul(un,Ti)|0,Er=Er+Math.imul(yn,yi)|0,Mr=Mr+Math.imul(yn,Ti)|0;var ys=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(ys>>>26)|0,ys&=67108863,Nr=Math.imul(Dr,di),Er=Math.imul(Dr,hi),Er=Er+Math.imul(Wr,di)|0,Mr=Math.imul(Wr,hi),Nr=Nr+Math.imul(d,_i)|0,Er=Er+Math.imul(d,bi)|0,Er=Er+Math.imul(Ar,_i)|0,Mr=Mr+Math.imul(Ar,bi)|0,Nr=Nr+Math.imul(Bn,pi)|0,Er=Er+Math.imul(Bn,wi)|0,Er=Er+Math.imul(br,pi)|0,Mr=Mr+Math.imul(br,wi)|0,Nr=Nr+Math.imul(fn,vi)|0,Er=Er+Math.imul(fn,ui)|0,Er=Er+Math.imul(vn,vi)|0,Mr=Mr+Math.imul(vn,ui)|0,Nr=Nr+Math.imul(kn,li)|0,Er=Er+Math.imul(kn,Si)|0,Er=Er+Math.imul(Rn,li)|0,Mr=Mr+Math.imul(Rn,Si)|0,Nr=Nr+Math.imul(wn,Ai)|0,Er=Er+Math.imul(wn,Ei)|0,Er=Er+Math.imul($n,Ai)|0,Mr=Mr+Math.imul($n,Ei)|0,Nr=Nr+Math.imul(on,Ii)|0,Er=Er+Math.imul(on,Oi)|0,Er=Er+Math.imul(gn,Ii)|0,Mr=Mr+Math.imul(gn,Oi)|0,Nr=Nr+Math.imul(Tn,yi)|0,Er=Er+Math.imul(Tn,Ti)|0,Er=Er+Math.imul(In,yi)|0,Mr=Mr+Math.imul(In,Ti)|0;var jo=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(jo>>>26)|0,jo&=67108863,Nr=Math.imul(Dr,_i),Er=Math.imul(Dr,bi),Er=Er+Math.imul(Wr,_i)|0,Mr=Math.imul(Wr,bi),Nr=Nr+Math.imul(d,pi)|0,Er=Er+Math.imul(d,wi)|0,Er=Er+Math.imul(Ar,pi)|0,Mr=Mr+Math.imul(Ar,wi)|0,Nr=Nr+Math.imul(Bn,vi)|0,Er=Er+Math.imul(Bn,ui)|0,Er=Er+Math.imul(br,vi)|0,Mr=Mr+Math.imul(br,ui)|0,Nr=Nr+Math.imul(fn,li)|0,Er=Er+Math.imul(fn,Si)|0,Er=Er+Math.imul(vn,li)|0,Mr=Mr+Math.imul(vn,Si)|0,Nr=Nr+Math.imul(kn,Ai)|0,Er=Er+Math.imul(kn,Ei)|0,Er=Er+Math.imul(Rn,Ai)|0,Mr=Mr+Math.imul(Rn,Ei)|0,Nr=Nr+Math.imul(wn,Ii)|0,Er=Er+Math.imul(wn,Oi)|0,Er=Er+Math.imul($n,Ii)|0,Mr=Mr+Math.imul($n,Oi)|0,Nr=Nr+Math.imul(on,yi)|0,Er=Er+Math.imul(on,Ti)|0,Er=Er+Math.imul(gn,yi)|0,Mr=Mr+Math.imul(gn,Ti)|0;var Ho=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,Nr=Math.imul(Dr,pi),Er=Math.imul(Dr,wi),Er=Er+Math.imul(Wr,pi)|0,Mr=Math.imul(Wr,wi),Nr=Nr+Math.imul(d,vi)|0,Er=Er+Math.imul(d,ui)|0,Er=Er+Math.imul(Ar,vi)|0,Mr=Mr+Math.imul(Ar,ui)|0,Nr=Nr+Math.imul(Bn,li)|0,Er=Er+Math.imul(Bn,Si)|0,Er=Er+Math.imul(br,li)|0,Mr=Mr+Math.imul(br,Si)|0,Nr=Nr+Math.imul(fn,Ai)|0,Er=Er+Math.imul(fn,Ei)|0,Er=Er+Math.imul(vn,Ai)|0,Mr=Mr+Math.imul(vn,Ei)|0,Nr=Nr+Math.imul(kn,Ii)|0,Er=Er+Math.imul(kn,Oi)|0,Er=Er+Math.imul(Rn,Ii)|0,Mr=Mr+Math.imul(Rn,Oi)|0,Nr=Nr+Math.imul(wn,yi)|0,Er=Er+Math.imul(wn,Ti)|0,Er=Er+Math.imul($n,yi)|0,Mr=Mr+Math.imul($n,Ti)|0;var zo=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(zo>>>26)|0,zo&=67108863,Nr=Math.imul(Dr,vi),Er=Math.imul(Dr,ui),Er=Er+Math.imul(Wr,vi)|0,Mr=Math.imul(Wr,ui),Nr=Nr+Math.imul(d,li)|0,Er=Er+Math.imul(d,Si)|0,Er=Er+Math.imul(Ar,li)|0,Mr=Mr+Math.imul(Ar,Si)|0,Nr=Nr+Math.imul(Bn,Ai)|0,Er=Er+Math.imul(Bn,Ei)|0,Er=Er+Math.imul(br,Ai)|0,Mr=Mr+Math.imul(br,Ei)|0,Nr=Nr+Math.imul(fn,Ii)|0,Er=Er+Math.imul(fn,Oi)|0,Er=Er+Math.imul(vn,Ii)|0,Mr=Mr+Math.imul(vn,Oi)|0,Nr=Nr+Math.imul(kn,yi)|0,Er=Er+Math.imul(kn,Ti)|0,Er=Er+Math.imul(Rn,yi)|0,Mr=Mr+Math.imul(Rn,Ti)|0;var gs=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(gs>>>26)|0,gs&=67108863,Nr=Math.imul(Dr,li),Er=Math.imul(Dr,Si),Er=Er+Math.imul(Wr,li)|0,Mr=Math.imul(Wr,Si),Nr=Nr+Math.imul(d,Ai)|0,Er=Er+Math.imul(d,Ei)|0,Er=Er+Math.imul(Ar,Ai)|0,Mr=Mr+Math.imul(Ar,Ei)|0,Nr=Nr+Math.imul(Bn,Ii)|0,Er=Er+Math.imul(Bn,Oi)|0,Er=Er+Math.imul(br,Ii)|0,Mr=Mr+Math.imul(br,Oi)|0,Nr=Nr+Math.imul(fn,yi)|0,Er=Er+Math.imul(fn,Ti)|0,Er=Er+Math.imul(vn,yi)|0,Mr=Mr+Math.imul(vn,Ti)|0;var ms=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(ms>>>26)|0,ms&=67108863,Nr=Math.imul(Dr,Ai),Er=Math.imul(Dr,Ei),Er=Er+Math.imul(Wr,Ai)|0,Mr=Math.imul(Wr,Ei),Nr=Nr+Math.imul(d,Ii)|0,Er=Er+Math.imul(d,Oi)|0,Er=Er+Math.imul(Ar,Ii)|0,Mr=Mr+Math.imul(Ar,Oi)|0,Nr=Nr+Math.imul(Bn,yi)|0,Er=Er+Math.imul(Bn,Ti)|0,Er=Er+Math.imul(br,yi)|0,Mr=Mr+Math.imul(br,Ti)|0;var _s=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(_s>>>26)|0,_s&=67108863,Nr=Math.imul(Dr,Ii),Er=Math.imul(Dr,Oi),Er=Er+Math.imul(Wr,Ii)|0,Mr=Math.imul(Wr,Oi),Nr=Nr+Math.imul(d,yi)|0,Er=Er+Math.imul(d,Ti)|0,Er=Er+Math.imul(Ar,yi)|0,Mr=Mr+Math.imul(Ar,Ti)|0;var bs=(pn+Nr|0)+((Er&8191)<<13)|0;pn=(Mr+(Er>>>13)|0)+(bs>>>26)|0,bs&=67108863,Nr=Math.imul(Dr,yi),Er=Math.imul(Dr,Ti),Er=Er+Math.imul(Wr,yi)|0,Mr=Math.imul(Wr,Ti);var Vo=(pn+Nr|0)+((Er&8191)<<13)|0;return pn=(Mr+(Er>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,nn[0]=as,nn[1]=cs,nn[2]=us,nn[3]=ls,nn[4]=fs,nn[5]=So,nn[6]=ds,nn[7]=Ao,nn[8]=hs,nn[9]=ps,nn[10]=ys,nn[11]=jo,nn[12]=Ho,nn[13]=zo,nn[14]=gs,nn[15]=ms,nn[16]=_s,nn[17]=bs,nn[18]=Vo,pn!==0&&(nn[19]=pn,Lr.length++),Lr};Math.imul||(Kr=Cr);function Fr(Rr,vr,Tr){Tr.negative=vr.negative^Rr.negative,Tr.length=Rr.length+vr.length;for(var Lr=0,Ur=0,Hr=0;Hr<Tr.length-1;Hr++){var nn=Ur;Ur=0;for(var pn=Lr&67108863,Nr=Math.min(Hr,vr.length-1),Er=Math.max(0,Hr-Rr.length+1);Er<=Nr;Er++){var Mr=Hr-Er,cn=Rr.words[Mr]|0,Yr=vr.words[Er]|0,Zr=cn*Yr,an=Zr&67108863;nn=nn+(Zr/67108864|0)|0,an=an+pn|0,pn=an&67108863,nn=nn+(an>>>26)|0,Ur+=nn>>>26,nn&=67108863}Tr.words[Hr]=pn,Lr=nn,nn=Ur}return Lr!==0?Tr.words[Hr]=Lr:Tr.length--,Tr._strip()}function qr(Rr,vr,Tr){return Fr(Rr,vr,Tr)}s.prototype.mulTo=function(vr,Tr){var Lr,Ur=this.length+vr.length;return this.length===10&&vr.length===10?Lr=Kr(this,vr,Tr):Ur<63?Lr=Cr(this,vr,Tr):Ur<1024?Lr=Fr(this,vr,Tr):Lr=qr(this,vr,Tr),Lr},s.prototype.mul=function(vr){var Tr=new s(null);return Tr.words=new Array(this.length+vr.length),this.mulTo(vr,Tr)},s.prototype.mulf=function(vr){var Tr=new s(null);return Tr.words=new Array(this.length+vr.length),qr(this,vr,Tr)},s.prototype.imul=function(vr){return this.clone().mulTo(vr,this)},s.prototype.imuln=function(vr){var Tr=vr<0;Tr&&(vr=-vr),n(typeof vr=="number"),n(vr<67108864);for(var Lr=0,Ur=0;Ur<this.length;Ur++){var Hr=(this.words[Ur]|0)*vr,nn=(Hr&67108863)+(Lr&67108863);Lr>>=26,Lr+=Hr/67108864|0,Lr+=nn>>>26,this.words[Ur]=nn&67108863}return Lr!==0&&(this.words[Ur]=Lr,this.length++),Tr?this.ineg():this},s.prototype.muln=function(vr){return this.clone().imuln(vr)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(vr){var Tr=xr(vr);if(Tr.length===0)return new s(1);for(var Lr=this,Ur=0;Ur<Tr.length&&Tr[Ur]===0;Ur++,Lr=Lr.sqr());if(++Ur<Tr.length)for(var Hr=Lr.sqr();Ur<Tr.length;Ur++,Hr=Hr.sqr())Tr[Ur]!==0&&(Lr=Lr.mul(Hr));return Lr},s.prototype.iushln=function(vr){n(typeof vr=="number"&&vr>=0);var Tr=vr%26,Lr=(vr-Tr)/26,Ur=67108863>>>26-Tr<<26-Tr,Hr;if(Tr!==0){var nn=0;for(Hr=0;Hr<this.length;Hr++){var pn=this.words[Hr]&Ur,Nr=(this.words[Hr]|0)-pn<<Tr;this.words[Hr]=Nr|nn,nn=pn>>>26-Tr}nn&&(this.words[Hr]=nn,this.length++)}if(Lr!==0){for(Hr=this.length-1;Hr>=0;Hr--)this.words[Hr+Lr]=this.words[Hr];for(Hr=0;Hr<Lr;Hr++)this.words[Hr]=0;this.length+=Lr}return this._strip()},s.prototype.ishln=function(vr){return n(this.negative===0),this.iushln(vr)},s.prototype.iushrn=function(vr,Tr,Lr){n(typeof vr=="number"&&vr>=0);var Ur;Tr?Ur=(Tr-Tr%26)/26:Ur=0;var Hr=vr%26,nn=Math.min((vr-Hr)/26,this.length),pn=67108863^67108863>>>Hr<<Hr,Nr=Lr;if(Ur-=nn,Ur=Math.max(0,Ur),Nr){for(var Er=0;Er<nn;Er++)Nr.words[Er]=this.words[Er];Nr.length=nn}if(nn!==0)if(this.length>nn)for(this.length-=nn,Er=0;Er<this.length;Er++)this.words[Er]=this.words[Er+nn];else this.words[0]=0,this.length=1;var Mr=0;for(Er=this.length-1;Er>=0&&(Mr!==0||Er>=Ur);Er--){var cn=this.words[Er]|0;this.words[Er]=Mr<<26-Hr|cn>>>Hr,Mr=cn&pn}return Nr&&Mr!==0&&(Nr.words[Nr.length++]=Mr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(vr,Tr,Lr){return n(this.negative===0),this.iushrn(vr,Tr,Lr)},s.prototype.shln=function(vr){return this.clone().ishln(vr)},s.prototype.ushln=function(vr){return this.clone().iushln(vr)},s.prototype.shrn=function(vr){return this.clone().ishrn(vr)},s.prototype.ushrn=function(vr){return this.clone().iushrn(vr)},s.prototype.testn=function(vr){n(typeof vr=="number"&&vr>=0);var Tr=vr%26,Lr=(vr-Tr)/26,Ur=1<<Tr;if(this.length<=Lr)return!1;var Hr=this.words[Lr];return!!(Hr&Ur)},s.prototype.imaskn=function(vr){n(typeof vr=="number"&&vr>=0);var Tr=vr%26,Lr=(vr-Tr)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=Lr)return this;if(Tr!==0&&Lr++,this.length=Math.min(Lr,this.length),Tr!==0){var Ur=67108863^67108863>>>Tr<<Tr;this.words[this.length-1]&=Ur}return this._strip()},s.prototype.maskn=function(vr){return this.clone().imaskn(vr)},s.prototype.iaddn=function(vr){return n(typeof vr=="number"),n(vr<67108864),vr<0?this.isubn(-vr):this.negative!==0?this.length===1&&(this.words[0]|0)<=vr?(this.words[0]=vr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(vr),this.negative=1,this):this._iaddn(vr)},s.prototype._iaddn=function(vr){this.words[0]+=vr;for(var Tr=0;Tr<this.length&&this.words[Tr]>=67108864;Tr++)this.words[Tr]-=67108864,Tr===this.length-1?this.words[Tr+1]=1:this.words[Tr+1]++;return this.length=Math.max(this.length,Tr+1),this},s.prototype.isubn=function(vr){if(n(typeof vr=="number"),n(vr<67108864),vr<0)return this.iaddn(-vr);if(this.negative!==0)return this.negative=0,this.iaddn(vr),this.negative=1,this;if(this.words[0]-=vr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Tr=0;Tr<this.length&&this.words[Tr]<0;Tr++)this.words[Tr]+=67108864,this.words[Tr+1]-=1;return this._strip()},s.prototype.addn=function(vr){return this.clone().iaddn(vr)},s.prototype.subn=function(vr){return this.clone().isubn(vr)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(vr,Tr,Lr){var Ur=vr.length+Lr,Hr;this._expand(Ur);var nn,pn=0;for(Hr=0;Hr<vr.length;Hr++){nn=(this.words[Hr+Lr]|0)+pn;var Nr=(vr.words[Hr]|0)*Tr;nn-=Nr&67108863,pn=(nn>>26)-(Nr/67108864|0),this.words[Hr+Lr]=nn&67108863}for(;Hr<this.length-Lr;Hr++)nn=(this.words[Hr+Lr]|0)+pn,pn=nn>>26,this.words[Hr+Lr]=nn&67108863;if(pn===0)return this._strip();for(n(pn===-1),pn=0,Hr=0;Hr<this.length;Hr++)nn=-(this.words[Hr]|0)+pn,pn=nn>>26,this.words[Hr]=nn&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(vr,Tr){var Lr=this.length-vr.length,Ur=this.clone(),Hr=vr,nn=Hr.words[Hr.length-1]|0,pn=this._countBits(nn);Lr=26-pn,Lr!==0&&(Hr=Hr.ushln(Lr),Ur.iushln(Lr),nn=Hr.words[Hr.length-1]|0);var Nr=Ur.length-Hr.length,Er;if(Tr!=="mod"){Er=new s(null),Er.length=Nr+1,Er.words=new Array(Er.length);for(var Mr=0;Mr<Er.length;Mr++)Er.words[Mr]=0}var cn=Ur.clone()._ishlnsubmul(Hr,1,Nr);cn.negative===0&&(Ur=cn,Er&&(Er.words[Nr]=1));for(var Yr=Nr-1;Yr>=0;Yr--){var Zr=(Ur.words[Hr.length+Yr]|0)*67108864+(Ur.words[Hr.length+Yr-1]|0);for(Zr=Math.min(Zr/nn|0,67108863),Ur._ishlnsubmul(Hr,Zr,Yr);Ur.negative!==0;)Zr--,Ur.negative=0,Ur._ishlnsubmul(Hr,1,Yr),Ur.isZero()||(Ur.negative^=1);Er&&(Er.words[Yr]=Zr)}return Er&&Er._strip(),Ur._strip(),Tr!=="div"&&Lr!==0&&Ur.iushrn(Lr),{div:Er||null,mod:Ur}},s.prototype.divmod=function(vr,Tr,Lr){if(n(!vr.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var Ur,Hr,nn;return this.negative!==0&&vr.negative===0?(nn=this.neg().divmod(vr,Tr),Tr!=="mod"&&(Ur=nn.div.neg()),Tr!=="div"&&(Hr=nn.mod.neg(),Lr&&Hr.negative!==0&&Hr.iadd(vr)),{div:Ur,mod:Hr}):this.negative===0&&vr.negative!==0?(nn=this.divmod(vr.neg(),Tr),Tr!=="mod"&&(Ur=nn.div.neg()),{div:Ur,mod:nn.mod}):(this.negative&vr.negative)!==0?(nn=this.neg().divmod(vr.neg(),Tr),Tr!=="div"&&(Hr=nn.mod.neg(),Lr&&Hr.negative!==0&&Hr.isub(vr)),{div:nn.div,mod:Hr}):vr.length>this.length||this.cmp(vr)<0?{div:new s(0),mod:this}:vr.length===1?Tr==="div"?{div:this.divn(vr.words[0]),mod:null}:Tr==="mod"?{div:null,mod:new s(this.modrn(vr.words[0]))}:{div:this.divn(vr.words[0]),mod:new s(this.modrn(vr.words[0]))}:this._wordDiv(vr,Tr)},s.prototype.div=function(vr){return this.divmod(vr,"div",!1).div},s.prototype.mod=function(vr){return this.divmod(vr,"mod",!1).mod},s.prototype.umod=function(vr){return this.divmod(vr,"mod",!0).mod},s.prototype.divRound=function(vr){var Tr=this.divmod(vr);if(Tr.mod.isZero())return Tr.div;var Lr=Tr.div.negative!==0?Tr.mod.isub(vr):Tr.mod,Ur=vr.ushrn(1),Hr=vr.andln(1),nn=Lr.cmp(Ur);return nn<0||Hr===1&&nn===0?Tr.div:Tr.div.negative!==0?Tr.div.isubn(1):Tr.div.iaddn(1)},s.prototype.modrn=function(vr){var Tr=vr<0;Tr&&(vr=-vr),n(vr<=67108863);for(var Lr=(1<<26)%vr,Ur=0,Hr=this.length-1;Hr>=0;Hr--)Ur=(Lr*Ur+(this.words[Hr]|0))%vr;return Tr?-Ur:Ur},s.prototype.modn=function(vr){return this.modrn(vr)},s.prototype.idivn=function(vr){var Tr=vr<0;Tr&&(vr=-vr),n(vr<=67108863);for(var Lr=0,Ur=this.length-1;Ur>=0;Ur--){var Hr=(this.words[Ur]|0)+Lr*67108864;this.words[Ur]=Hr/vr|0,Lr=Hr%vr}return this._strip(),Tr?this.ineg():this},s.prototype.divn=function(vr){return this.clone().idivn(vr)},s.prototype.egcd=function(vr){n(vr.negative===0),n(!vr.isZero());var Tr=this,Lr=vr.clone();Tr.negative!==0?Tr=Tr.umod(vr):Tr=Tr.clone();for(var Ur=new s(1),Hr=new s(0),nn=new s(0),pn=new s(1),Nr=0;Tr.isEven()&&Lr.isEven();)Tr.iushrn(1),Lr.iushrn(1),++Nr;for(var Er=Lr.clone(),Mr=Tr.clone();!Tr.isZero();){for(var cn=0,Yr=1;(Tr.words[0]&Yr)===0&&cn<26;++cn,Yr<<=1);if(cn>0)for(Tr.iushrn(cn);cn-- >0;)(Ur.isOdd()||Hr.isOdd())&&(Ur.iadd(Er),Hr.isub(Mr)),Ur.iushrn(1),Hr.iushrn(1);for(var Zr=0,an=1;(Lr.words[0]&an)===0&&Zr<26;++Zr,an<<=1);if(Zr>0)for(Lr.iushrn(Zr);Zr-- >0;)(nn.isOdd()||pn.isOdd())&&(nn.iadd(Er),pn.isub(Mr)),nn.iushrn(1),pn.iushrn(1);Tr.cmp(Lr)>=0?(Tr.isub(Lr),Ur.isub(nn),Hr.isub(pn)):(Lr.isub(Tr),nn.isub(Ur),pn.isub(Hr))}return{a:nn,b:pn,gcd:Lr.iushln(Nr)}},s.prototype._invmp=function(vr){n(vr.negative===0),n(!vr.isZero());var Tr=this,Lr=vr.clone();Tr.negative!==0?Tr=Tr.umod(vr):Tr=Tr.clone();for(var Ur=new s(1),Hr=new s(0),nn=Lr.clone();Tr.cmpn(1)>0&&Lr.cmpn(1)>0;){for(var pn=0,Nr=1;(Tr.words[0]&Nr)===0&&pn<26;++pn,Nr<<=1);if(pn>0)for(Tr.iushrn(pn);pn-- >0;)Ur.isOdd()&&Ur.iadd(nn),Ur.iushrn(1);for(var Er=0,Mr=1;(Lr.words[0]&Mr)===0&&Er<26;++Er,Mr<<=1);if(Er>0)for(Lr.iushrn(Er);Er-- >0;)Hr.isOdd()&&Hr.iadd(nn),Hr.iushrn(1);Tr.cmp(Lr)>=0?(Tr.isub(Lr),Ur.isub(Hr)):(Lr.isub(Tr),Hr.isub(Ur))}var cn;return Tr.cmpn(1)===0?cn=Ur:cn=Hr,cn.cmpn(0)<0&&cn.iadd(vr),cn},s.prototype.gcd=function(vr){if(this.isZero())return vr.abs();if(vr.isZero())return this.abs();var Tr=this.clone(),Lr=vr.clone();Tr.negative=0,Lr.negative=0;for(var Ur=0;Tr.isEven()&&Lr.isEven();Ur++)Tr.iushrn(1),Lr.iushrn(1);do{for(;Tr.isEven();)Tr.iushrn(1);for(;Lr.isEven();)Lr.iushrn(1);var Hr=Tr.cmp(Lr);if(Hr<0){var nn=Tr;Tr=Lr,Lr=nn}else if(Hr===0||Lr.cmpn(1)===0)break;Tr.isub(Lr)}while(!0);return Lr.iushln(Ur)},s.prototype.invm=function(vr){return this.egcd(vr).a.umod(vr)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(vr){return this.words[0]&vr},s.prototype.bincn=function(vr){n(typeof vr=="number");var Tr=vr%26,Lr=(vr-Tr)/26,Ur=1<<Tr;if(this.length<=Lr)return this._expand(Lr+1),this.words[Lr]|=Ur,this;for(var Hr=Ur,nn=Lr;Hr!==0&&nn<this.length;nn++){var pn=this.words[nn]|0;pn+=Hr,Hr=pn>>>26,pn&=67108863,this.words[nn]=pn}return Hr!==0&&(this.words[nn]=Hr,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(vr){var Tr=vr<0;if(this.negative!==0&&!Tr)return-1;if(this.negative===0&&Tr)return 1;this._strip();var Lr;if(this.length>1)Lr=1;else{Tr&&(vr=-vr),n(vr<=67108863,"Number is too big");var Ur=this.words[0]|0;Lr=Ur===vr?0:Ur<vr?-1:1}return this.negative!==0?-Lr|0:Lr},s.prototype.cmp=function(vr){if(this.negative!==0&&vr.negative===0)return-1;if(this.negative===0&&vr.negative!==0)return 1;var Tr=this.ucmp(vr);return this.negative!==0?-Tr|0:Tr},s.prototype.ucmp=function(vr){if(this.length>vr.length)return 1;if(this.length<vr.length)return-1;for(var Tr=0,Lr=this.length-1;Lr>=0;Lr--){var Ur=this.words[Lr]|0,Hr=vr.words[Lr]|0;if(Ur!==Hr){Ur<Hr?Tr=-1:Ur>Hr&&(Tr=1);break}}return Tr},s.prototype.gtn=function(vr){return this.cmpn(vr)===1},s.prototype.gt=function(vr){return this.cmp(vr)===1},s.prototype.gten=function(vr){return this.cmpn(vr)>=0},s.prototype.gte=function(vr){return this.cmp(vr)>=0},s.prototype.ltn=function(vr){return this.cmpn(vr)===-1},s.prototype.lt=function(vr){return this.cmp(vr)===-1},s.prototype.lten=function(vr){return this.cmpn(vr)<=0},s.prototype.lte=function(vr){return this.cmp(vr)<=0},s.prototype.eqn=function(vr){return this.cmpn(vr)===0},s.prototype.eq=function(vr){return this.cmp(vr)===0},s.red=function(vr){return new sn(vr)},s.prototype.toRed=function(vr){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),vr.convertTo(this)._forceRed(vr)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(vr){return this.red=vr,this},s.prototype.forceRed=function(vr){return n(!this.red,"Already a number in reduction context"),this._forceRed(vr)},s.prototype.redAdd=function(vr){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,vr)},s.prototype.redIAdd=function(vr){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,vr)},s.prototype.redSub=function(vr){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,vr)},s.prototype.redISub=function(vr){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,vr)},s.prototype.redShl=function(vr){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,vr)},s.prototype.redMul=function(vr){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,vr),this.red.mul(this,vr)},s.prototype.redIMul=function(vr){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,vr),this.red.imul(this,vr)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(vr){return n(this.red&&!vr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,vr)};var Gr={k256:null,p224:null,p192:null,p25519:null};function jr(Rr,vr){this.name=Rr,this.p=new s(vr,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}jr.prototype._tmp=function(){var vr=new s(null);return vr.words=new Array(Math.ceil(this.n/13)),vr},jr.prototype.ireduce=function(vr){var Tr=vr,Lr;do this.split(Tr,this.tmp),Tr=this.imulK(Tr),Tr=Tr.iadd(this.tmp),Lr=Tr.bitLength();while(Lr>this.n);var Ur=Lr<this.n?-1:Tr.ucmp(this.p);return Ur===0?(Tr.words[0]=0,Tr.length=1):Ur>0?Tr.isub(this.p):Tr.strip!==void 0?Tr.strip():Tr._strip(),Tr},jr.prototype.split=function(vr,Tr){vr.iushrn(this.n,0,Tr)},jr.prototype.imulK=function(vr){return vr.imul(this.k)};function Vr(){jr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(Vr,jr),Vr.prototype.split=function(vr,Tr){for(var Lr=4194303,Ur=Math.min(vr.length,9),Hr=0;Hr<Ur;Hr++)Tr.words[Hr]=vr.words[Hr];if(Tr.length=Ur,vr.length<=9){vr.words[0]=0,vr.length=1;return}var nn=vr.words[9];for(Tr.words[Tr.length++]=nn&Lr,Hr=10;Hr<vr.length;Hr++){var pn=vr.words[Hr]|0;vr.words[Hr-10]=(pn&Lr)<<4|nn>>>22,nn=pn}nn>>>=22,vr.words[Hr-10]=nn,nn===0&&vr.length>10?vr.length-=10:vr.length-=9},Vr.prototype.imulK=function(vr){vr.words[vr.length]=0,vr.words[vr.length+1]=0,vr.length+=2;for(var Tr=0,Lr=0;Lr<vr.length;Lr++){var Ur=vr.words[Lr]|0;Tr+=Ur*977,vr.words[Lr]=Tr&67108863,Tr=Ur*64+(Tr/67108864|0)}return vr.words[vr.length-1]===0&&(vr.length--,vr.words[vr.length-1]===0&&vr.length--),vr};function Jr(){jr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(Jr,jr);function ln(){jr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(ln,jr);function tn(){jr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(tn,jr),tn.prototype.imulK=function(vr){for(var Tr=0,Lr=0;Lr<vr.length;Lr++){var Ur=(vr.words[Lr]|0)*19+Tr,Hr=Ur&67108863;Ur>>>=26,vr.words[Lr]=Hr,Tr=Ur}return Tr!==0&&(vr.words[vr.length++]=Tr),vr},s._prime=function(vr){if(Gr[vr])return Gr[vr];var Tr;if(vr==="k256")Tr=new Vr;else if(vr==="p224")Tr=new Jr;else if(vr==="p192")Tr=new ln;else if(vr==="p25519")Tr=new tn;else throw new Error("Unknown prime "+vr);return Gr[vr]=Tr,Tr};function sn(Rr){if(typeof Rr=="string"){var vr=s._prime(Rr);this.m=vr.p,this.prime=vr}else n(Rr.gtn(1),"modulus must be greater than 1"),this.m=Rr,this.prime=null}sn.prototype._verify1=function(vr){n(vr.negative===0,"red works only with positives"),n(vr.red,"red works only with red numbers")},sn.prototype._verify2=function(vr,Tr){n((vr.negative|Tr.negative)===0,"red works only with positives"),n(vr.red&&vr.red===Tr.red,"red works only with red numbers")},sn.prototype.imod=function(vr){return this.prime?this.prime.ireduce(vr)._forceRed(this):(_r(vr,vr.umod(this.m)._forceRed(this)),vr)},sn.prototype.neg=function(vr){return vr.isZero()?vr.clone():this.m.sub(vr)._forceRed(this)},sn.prototype.add=function(vr,Tr){this._verify2(vr,Tr);var Lr=vr.add(Tr);return Lr.cmp(this.m)>=0&&Lr.isub(this.m),Lr._forceRed(this)},sn.prototype.iadd=function(vr,Tr){this._verify2(vr,Tr);var Lr=vr.iadd(Tr);return Lr.cmp(this.m)>=0&&Lr.isub(this.m),Lr},sn.prototype.sub=function(vr,Tr){this._verify2(vr,Tr);var Lr=vr.sub(Tr);return Lr.cmpn(0)<0&&Lr.iadd(this.m),Lr._forceRed(this)},sn.prototype.isub=function(vr,Tr){this._verify2(vr,Tr);var Lr=vr.isub(Tr);return Lr.cmpn(0)<0&&Lr.iadd(this.m),Lr},sn.prototype.shl=function(vr,Tr){return this._verify1(vr),this.imod(vr.ushln(Tr))},sn.prototype.imul=function(vr,Tr){return this._verify2(vr,Tr),this.imod(vr.imul(Tr))},sn.prototype.mul=function(vr,Tr){return this._verify2(vr,Tr),this.imod(vr.mul(Tr))},sn.prototype.isqr=function(vr){return this.imul(vr,vr.clone())},sn.prototype.sqr=function(vr){return this.mul(vr,vr)},sn.prototype.sqrt=function(vr){if(vr.isZero())return vr.clone();var Tr=this.m.andln(3);if(n(Tr%2===1),Tr===3){var Lr=this.m.add(new s(1)).iushrn(2);return this.pow(vr,Lr)}for(var Ur=this.m.subn(1),Hr=0;!Ur.isZero()&&Ur.andln(1)===0;)Hr++,Ur.iushrn(1);n(!Ur.isZero());var nn=new s(1).toRed(this),pn=nn.redNeg(),Nr=this.m.subn(1).iushrn(1),Er=this.m.bitLength();for(Er=new s(2*Er*Er).toRed(this);this.pow(Er,Nr).cmp(pn)!==0;)Er.redIAdd(pn);for(var Mr=this.pow(Er,Ur),cn=this.pow(vr,Ur.addn(1).iushrn(1)),Yr=this.pow(vr,Ur),Zr=Hr;Yr.cmp(nn)!==0;){for(var an=Yr,un=0;an.cmp(nn)!==0;un++)an=an.redSqr();n(un<Zr);var yn=this.pow(Mr,new s(1).iushln(Zr-un-1));cn=cn.redMul(yn),Mr=yn.redSqr(),Yr=Yr.redMul(Mr),Zr=un}return cn},sn.prototype.invm=function(vr){var Tr=vr._invmp(this.m);return Tr.negative!==0?(Tr.negative=0,this.imod(Tr).redNeg()):this.imod(Tr)},sn.prototype.pow=function(vr,Tr){if(Tr.isZero())return new s(1).toRed(this);if(Tr.cmpn(1)===0)return vr.clone();var Lr=4,Ur=new Array(1<<Lr);Ur[0]=new s(1).toRed(this),Ur[1]=vr;for(var Hr=2;Hr<Ur.length;Hr++)Ur[Hr]=this.mul(Ur[Hr-1],vr);var nn=Ur[0],pn=0,Nr=0,Er=Tr.bitLength()%26;for(Er===0&&(Er=26),Hr=Tr.length-1;Hr>=0;Hr--){for(var Mr=Tr.words[Hr],cn=Er-1;cn>=0;cn--){var Yr=Mr>>cn&1;if(nn!==Ur[0]&&(nn=this.sqr(nn)),Yr===0&&pn===0){Nr=0;continue}pn<<=1,pn|=Yr,Nr++,!(Nr!==Lr&&(Hr!==0||cn!==0))&&(nn=this.mul(nn,Ur[pn]),Nr=0,pn=0)}Er=26}return nn},sn.prototype.convertTo=function(vr){var Tr=vr.umod(this.m);return Tr===vr?Tr.clone():Tr},sn.prototype.convertFrom=function(vr){var Tr=vr.clone();return Tr.red=null,Tr},s.mont=function(vr){return new dn(vr)};function dn(Rr){sn.call(this,Rr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(dn,sn),dn.prototype.convertTo=function(vr){return this.imod(vr.ushln(this.shift))},dn.prototype.convertFrom=function(vr){var Tr=this.imod(vr.mul(this.rinv));return Tr.red=null,Tr},dn.prototype.imul=function(vr,Tr){if(vr.isZero()||Tr.isZero())return vr.words[0]=0,vr.length=1,vr;var Lr=vr.imul(Tr),Ur=Lr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Hr=Lr.isub(Ur).iushrn(this.shift),nn=Hr;return Hr.cmp(this.m)>=0?nn=Hr.isub(this.m):Hr.cmpn(0)<0&&(nn=Hr.iadd(this.m)),nn._forceRed(this)},dn.prototype.mul=function(vr,Tr){if(vr.isZero()||Tr.isZero())return new s(0)._forceRed(this);var Lr=vr.mul(Tr),Ur=Lr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Hr=Lr.isub(Ur).iushrn(this.shift),nn=Hr;return Hr.cmp(this.m)>=0?nn=Hr.isub(this.m):Hr.cmpn(0)<0&&(nn=Hr.iadd(this.m)),nn._forceRed(this)},dn.prototype.invm=function(vr){var Tr=this.imod(vr._invmp(this.m).mul(this.r2));return Tr._forceRed(this)}})(t,commonjsGlobal)})(bn);const BN=bn.exports;var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=buffer$2,n=r.Buffer;function o(a,c){for(var m in a)c[m]=a[m]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s);function s(a,c,m){return n(a,c,m)}s.prototype=Object.create(n.prototype),o(n,s),s.from=function(a,c,m){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,c,m)},s.alloc=function(a,c,m){if(typeof a!="number")throw new TypeError("Argument must be a number");var gr=n(a);return c!==void 0?typeof m=="string"?gr.fill(c,m):gr.fill(c):gr.fill(0),gr},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(safeBuffer,safeBuffer.exports);var _Buffer=safeBuffer.exports.Buffer;function base(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=n}var a=t.length,c=t.charAt(0),m=Math.log(a)/Math.log(256),gr=Math.log(256)/Math.log(a);function _r(Ir){if((Array.isArray(Ir)||Ir instanceof Uint8Array)&&(Ir=_Buffer.from(Ir)),!_Buffer.isBuffer(Ir))throw new TypeError("Expected Buffer");if(Ir.length===0)return"";for(var Pr=0,kr=0,xr=0,Cr=Ir.length;xr!==Cr&&Ir[xr]===0;)xr++,Pr++;for(var Kr=(Cr-xr)*gr+1>>>0,Fr=new Uint8Array(Kr);xr!==Cr;){for(var qr=Ir[xr],Gr=0,jr=Kr-1;(qr!==0||Gr<kr)&&jr!==-1;jr--,Gr++)qr+=256*Fr[jr]>>>0,Fr[jr]=qr%a>>>0,qr=qr/a>>>0;if(qr!==0)throw new Error("Non-zero carry");kr=Gr,xr++}for(var Vr=Kr-kr;Vr!==Kr&&Fr[Vr]===0;)Vr++;for(var Jr=c.repeat(Pr);Vr<Kr;++Vr)Jr+=t.charAt(Fr[Vr]);return Jr}function wr(Ir){if(typeof Ir!="string")throw new TypeError("Expected String");if(Ir.length===0)return _Buffer.alloc(0);for(var Pr=0,kr=0,xr=0;Ir[Pr]===c;)kr++,Pr++;for(var Cr=(Ir.length-Pr)*m+1>>>0,Kr=new Uint8Array(Cr);Ir[Pr];){var Fr=e[Ir.charCodeAt(Pr)];if(Fr===255)return;for(var qr=0,Gr=Cr-1;(Fr!==0||qr<xr)&&Gr!==-1;Gr--,qr++)Fr+=a*Kr[Gr]>>>0,Kr[Gr]=Fr%256>>>0,Fr=Fr/256>>>0;if(Fr!==0)throw new Error("Non-zero carry");xr=qr,Pr++}for(var jr=Cr-xr;jr!==Cr&&Kr[jr]===0;)jr++;var Vr=_Buffer.allocUnsafe(kr+(Cr-jr));Vr.fill(0,0,kr);for(var Jr=kr;jr!==Cr;)Vr[Jr++]=Kr[jr++];return Vr}function Or(Ir){var Pr=wr(Ir);if(Pr)return Pr;throw new Error("Non-base"+a+" character")}return{encode:_r,decodeUnsafe:wr,decode:Or}}var src$1=base,basex=src$1,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);const Chi=(t,e,r)=>t&e^~t&r,Maj=(t,e,r)=>t&e^t&r^e&r,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:e,B:r,C:n,D:o,E:s,F:a,G:c,H:m}=this;return[e,r,n,o,s,a,c,m]}set(e,r,n,o,s,a,c,m){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=m|0}process(e,r){for(let wr=0;wr<16;wr++,r+=4)SHA256_W[wr]=e.getUint32(r,!1);for(let wr=16;wr<64;wr++){const Or=SHA256_W[wr-15],Ir=SHA256_W[wr-2],Pr=rotr(Or,7)^rotr(Or,18)^Or>>>3,kr=rotr(Ir,17)^rotr(Ir,19)^Ir>>>10;SHA256_W[wr]=kr+SHA256_W[wr-7]+Pr+SHA256_W[wr-16]|0}let{A:n,B:o,C:s,D:a,E:c,F:m,G:gr,H:_r}=this;for(let wr=0;wr<64;wr++){const Or=rotr(c,6)^rotr(c,11)^rotr(c,25),Ir=_r+Or+Chi(c,m,gr)+SHA256_K[wr]+SHA256_W[wr]|0,kr=(rotr(n,2)^rotr(n,13)^rotr(n,22))+Maj(n,o,s)|0;_r=gr,gr=m,m=c,c=a+Ir|0,a=s,s=o,o=n,n=Ir+kr|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,m=m+this.F|0,gr=gr+this.G|0,_r=_r+this.H|0,this.set(n,o,s,a,c,m,gr,_r)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);var lib$1={};function inRange(t,e,r){return e<=t&&t<=r}function ToDictionary(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(t){for(var e=String(t),r=e.length,n=0,o=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)o.push(s);else if(56320<=s&&s<=57343)o.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)o.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var c=s&1023,m=a&1023;o.push(65536+(c<<10)+m),n+=1}else o.push(65533)}n+=1}return o}function codePointsToString(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var end_of_stream=-1;function Stream(t){this.tokens=[].slice.call(t)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var finished=-1;function decoderError(t,e){if(t)throw TypeError("Decoder error");return e||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(t,e){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=ToDictionary(r),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(r.stream);for(var o=new Stream(n),s=[],a;!o.endOfStream()&&(a=this._decoder.handler(o,o.read()),a!==finished);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(o,o.read()),a===finished)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!o.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),codePointsToString(s)}};function TextEncoder$1(t,e){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(e,r){e=e?String(e):"",r=ToDictionary(r),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(r.stream);for(var n=[],o=new Stream(stringToCodePoints(e)),s;!o.endOfStream()&&(s=this._encoder.handler(o,o.read()),s!==finished);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(o,o.read()),s!==finished;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function UTF8Decoder(t){var e=t.fatal,r=0,n=0,o=0,s=128,a=191;this.handler=function(c,m){if(m===end_of_stream&&o!==0)return o=0,decoderError(e);if(m===end_of_stream)return finished;if(o===0){if(inRange(m,0,127))return m;if(inRange(m,194,223))o=1,r=m-192;else if(inRange(m,224,239))m===224&&(s=160),m===237&&(a=159),o=2,r=m-224;else if(inRange(m,240,244))m===240&&(s=144),m===244&&(a=143),o=3,r=m-240;else return decoderError(e);return r=r<<6*o,null}if(!inRange(m,s,a))return r=o=n=0,s=128,a=191,c.prepend(m),decoderError(e);if(s=128,a=191,n+=1,r+=m-128<<6*(o-n),n!==o)return null;var gr=r;return r=o=n=0,gr}}function UTF8Encoder(t){t.fatal,this.handler=function(e,r){if(r===end_of_stream)return finished;if(inRange(r,0,127))return r;var n,o;inRange(r,128,2047)?(n=1,o=192):inRange(r,2048,65535)?(n=2,o=224):inRange(r,65536,1114111)&&(n=3,o=240);for(var s=[(r>>6*n)+o];n>0;){var a=r>>6*(n-1);s.push(128|a&63),n-=1}return s}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(encoding$1);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,r,s):a(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&__createBinding$2(e,t,r);return __setModuleDefault$2(e,t),e},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lib$1,"__esModule",{value:!0});var deserializeUnchecked_1=lib$1.deserializeUnchecked=deserialize_1=lib$1.deserialize=serialize_1=lib$1.serialize=lib$1.BinaryReader=lib$1.BinaryWriter=lib$1.BorshError=lib$1.baseDecode=lib$1.baseEncode=void 0;const bn_js_1=__importDefault(bn.exports),bs58_1=__importDefault(bs58),encoding=__importStar$2(require$$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),bs58_1.default.encode(Buffer.from(t))}lib$1.baseEncode=baseEncode;function baseDecode(t){return Buffer.from(bs58_1.default.decode(t))}lib$1.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$1.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(INITIAL_LENGTH)]),this.length+=e.length}writeString(e){this.maybeResize();const r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}lib$1.BinaryWriter=BinaryWriter;function handlingRangeError(t,e,r){const n=r.value;r.value=function(...o){try{return n.apply(this,o)}catch(s){if(s instanceof RangeError){const a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw s}}}class BinaryReader{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bn_js_1.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bn_js_1.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bn_js_1.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bn_js_1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new BorshError(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return textDecoder.decode(r)}catch(n){throw new BorshError(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let o=0;o<r;++o)n.push(e());return n}}__decorate$2([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$1.BinaryReader=BinaryReader;function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function serializeField(t,e,r,n,o){try{if(typeof n=="string")o[`write${capitalizeFirstLetter(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new BorshError(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new BorshError(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)serializeField(t,null,r[s],n[0],o)}else o.writeArray(r,s=>{serializeField(t,e,s,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?o.writeU8(0):(o.writeU8(1),serializeField(t,e,r,n.type,o));break}case"map":{o.writeU32(r.size),r.forEach((s,a)=>{serializeField(t,e,a,n.key,o),serializeField(t,e,s,n.value,o)});break}default:throw new BorshError(`FieldType ${n} unrecognized`)}else serializeStruct(t,r,o)}catch(s){throw s instanceof BorshError&&s.addToFieldPath(e),s}}function serializeStruct(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,s])=>{serializeField(t,o,e[o],s,r)});else if(n.kind==="enum"){const o=e[n.field];for(let s=0;s<n.values.length;++s){const[a,c]=n.values[s];if(a===o){r.writeU8(s),serializeField(t,a,e[a],c,r);break}}}else throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function serialize(t,e,r=BinaryWriter){const n=new r;return serializeStruct(t,e,n),n.toArray()}var serialize_1=lib$1.serialize=serialize;function deserializeField(t,e,r,n){try{if(typeof r=="string")return n[`read${capitalizeFirstLetter(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const o=[];for(let s=0;s<r[1];s++)o.push(deserializeField(t,null,r[0],n));return o}else return n.readArray(()=>deserializeField(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?deserializeField(t,e,r.type,n):void 0;if(r.kind==="map"){let o=new Map;const s=n.readU32();for(let a=0;a<s;a++){const c=deserializeField(t,e,r.key,n),m=deserializeField(t,e,r.value,n);o.set(c,m)}return o}return deserializeStruct(t,r,n)}catch(o){throw o instanceof BorshError&&o.addToFieldPath(e),o}}function deserializeStruct(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new BorshError(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const o={};for(const[s,a]of t.get(e).fields)o[s]=deserializeField(t,s,a,r);return new e(o)}if(n.kind==="enum"){const o=r.readU8();if(o>=n.values.length)throw new BorshError(`Enum index: ${o} is out of range`);const[s,a]=n.values[o],c=deserializeField(t,s,a,r);return new e({[s]:c})}throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function deserialize(t,e,r,n=BinaryReader){const o=new n(r),s=deserializeStruct(t,e,o);if(o.offset<r.length)throw new BorshError(`Unexpected ${r.length-o.offset} bytes after deserialized data`);return s}var deserialize_1=lib$1.deserialize=deserialize;function deserializeUnchecked(t,e,r,n=BinaryReader){const o=new n(r);return deserializeStruct(t,e,o)}deserializeUnchecked_1=lib$1.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$1=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$1=Layout$4.u8=offset=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$1=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$1=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=buffer$2;function checkUint8Array(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(t){return checkUint8Array(t),buffer_1.Buffer.from(t.buffer,t.byteOffset,t.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$3{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}Layout$4.Layout=Layout$3;function nameWithProperty$2(t,e){return e.property?t+"["+e.property+"]":t}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$2 extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$4.ExternalLayout=ExternalLayout$2;class GreedyCount$1 extends ExternalLayout$2{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){checkUint8Array(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}Layout$4.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$2{constructor(e,r=0,n){if(!(e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$1}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}}Layout$4.OffsetLayout=OffsetLayout$1;class UInt$2 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readUIntLE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeUIntLE(e,n,this.span),this.span}}Layout$4.UInt=UInt$2;class UIntBE$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readUIntBE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeUIntBE(e,n,this.span),this.span}}Layout$4.UIntBE=UIntBE$1;class Int$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readIntLE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeIntLE(e,n,this.span),this.span}}Layout$4.Int=Int$1;class IntBE$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readIntBE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeIntBE(e,n,this.span),this.span}}Layout$4.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(t){const e=Math.floor(t/V2E32$1),r=t-e*V2E32$1;return{hi32:e,lo32:r}}function roundedInt64$1(t,e){return t*V2E32$1+e}class NearUInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return roundedInt64$1(s,o)}encode(e,r,n=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(r);return s.writeUInt32LE(o.lo32,n),s.writeUInt32LE(o.hi32,n+4),8}}Layout$4.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return roundedInt64$1(o,s)}encode(e,r,n=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(r);return s.writeUInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}}Layout$4.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32LE(r),s=n.readInt32LE(r+4);return roundedInt64$1(s,o)}encode(e,r,n=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(r);return s.writeUInt32LE(o.lo32,n),s.writeInt32LE(o.hi32,n+4),8}}Layout$4.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readInt32BE(r),s=n.readUInt32BE(r+4);return roundedInt64$1(o,s)}encode(e,r,n=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(r);return s.writeInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}}Layout$4.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$3{constructor(e){super(4,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readFloatLE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeFloatLE(e,n),4}}Layout$4.Float=Float$1;class FloatBE$1 extends Layout$3{constructor(e){super(4,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readFloatBE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeFloatBE(e,n),4}}Layout$4.FloatBE=FloatBE$1;class Double$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readDoubleLE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeDoubleLE(e,n),8}}Layout$4.Double=Double$1;class DoubleBE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readDoubleBE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeDoubleBE(e,n),8}}Layout$4.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$3{constructor(e,r,n){if(!(e instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ExternalLayout$2&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof ExternalLayout$2)&&0<e.span&&(o=r*e.span),super(o,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof ExternalLayout$2&&(o=o.decode(e,r)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let s=0;for(;s<o;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){const n=[];let o=0,s=this.count;for(s instanceof ExternalLayout$2&&(s=s.decode(e,r));o<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),o+=1;return n}encode(e,r,n=0){const o=this.elementLayout,s=e.reduce((a,c)=>a+o.encode(c,r,n+a),0);return this.count instanceof ExternalLayout$2&&this.count.encode(e.length,r,n),s}}Layout$4.Sequence=Sequence$1;class Structure$2 extends Layout$3{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,s)=>{const a=s.getSpan(e,r);return r+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){checkUint8Array(e);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const o=n;let s=0,a=0;for(const c of this.fields){let m=c.span;if(a=0<m?m:0,c.property!==void 0){const gr=e[c.property];gr!==void 0&&(a=c.encode(gr,r,n),0>m&&(m=c.getSpan(r,n)))}s=n,n+=m}return s+a-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}Layout$4.Structure=Structure$2;class UnionDiscriminator$1{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}}Layout$4.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(e,r){if(!(e instanceof ExternalLayout$2&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$3{constructor(e,r,n){let o;if(e instanceof UInt$2||e instanceof UIntBE$1)o=new UnionLayoutDiscriminator$1(new OffsetLayout$1(e));else if(e instanceof ExternalLayout$2&&e.isCount())o=new UnionLayoutDiscriminator$1(e);else if(e instanceof UnionDiscriminator$1)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof UInt$2||e instanceof UIntBE$1)&&(s+=o.layout.span)),super(s,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof UInt$2||e instanceof UIntBE$1,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const o=this.discriminator,s=o.decode(e,r),a=this.registry[s];if(a===void 0){const c=this.defaultLayout;let m=0;this.usesPrefixDiscriminator&&(m=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[c.property]=c.decode(e,r+m)}else n=a.decode(e,r);return n}encode(e,r,n=0){const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new VariantLayout$1(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}}Layout$4.Union=Union$1;class VariantLayout$1 extends Layout$3{constructor(e,r,n,o){if(!(e instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Layout$3))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,r+n)),n+o}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),s+=this.layout.getSpan(r,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Layout$4.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(t){return 0>t&&(t+=4294967296),t}class BitStructure$1 extends Layout$3{constructor(e,r,n){if(!(e instanceof UInt$2||e instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let o=0;this._packedSetValue=function(s){return o=fixBitwiseResult$1(s),this},this._packedGetValue=function(){return o}}decode(e,r=0){const n=this.makeDestinationObject(),o=this.word.decode(e,r);this._packedSetValue(o);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){const o=this.word.decode(r,n);this._packedSetValue(o);for(const s of this.fields)if(s.property!==void 0){const a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new BitField$1(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new Boolean$2(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}Layout$4.BitStructure=BitStructure$1;class BitField$1{constructor(e,r,n){if(!(e instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const o=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-r),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return fixBitwiseResult$1(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fixBitwiseResult$1(e&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=fixBitwiseResult$1(e<<this.start);this.container._packedSetValue(fixBitwiseResult$1(r&~this.wordMask)|n)}}Layout$4.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}}Layout$4.Boolean=Boolean$2;class Blob$3 extends Layout$3{constructor(e,r){if(!(e instanceof ExternalLayout$2&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout$2||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),uint8ArrayToBuffer(e).slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout$2&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>r.length)throw new RangeError("encoding overruns Uint8Array");const s=uint8ArrayToBuffer(e);return uint8ArrayToBuffer(r).write(s.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(o,r,n),o}}Layout$4.Blob=Blob$3;class CString$1 extends Layout$3{constructor(e){super(-1,e)}getSpan(e,r=0){checkUint8Array(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return uint8ArrayToBuffer(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),s=o.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const a=uint8ArrayToBuffer(r);return o.copy(a,n),a[n+s]=0,s+1}}Layout$4.CString=CString$1;class UTF8$1 extends Layout$3{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return checkUint8Array(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(uint8ArrayToBuffer(r),n),s}}Layout$4.UTF8=UTF8$1;class Constant$1 extends Layout$3{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}}Layout$4.Constant=Constant$1;Layout$4.greedy=(t,e)=>new GreedyCount$1(t,e);var offset=Layout$4.offset=(t,e,r)=>new OffsetLayout$1(t,e,r),u8$1=Layout$4.u8=t=>new UInt$2(1,t),u16=Layout$4.u16=t=>new UInt$2(2,t);Layout$4.u24=t=>new UInt$2(3,t);var u32$1=Layout$4.u32=t=>new UInt$2(4,t);Layout$4.u40=t=>new UInt$2(5,t);Layout$4.u48=t=>new UInt$2(6,t);var nu64=Layout$4.nu64=t=>new NearUInt64$1(t);Layout$4.u16be=t=>new UIntBE$1(2,t);Layout$4.u24be=t=>new UIntBE$1(3,t);Layout$4.u32be=t=>new UIntBE$1(4,t);Layout$4.u40be=t=>new UIntBE$1(5,t);Layout$4.u48be=t=>new UIntBE$1(6,t);Layout$4.nu64be=t=>new NearUInt64BE$1(t);Layout$4.s8=t=>new Int$1(1,t);Layout$4.s16=t=>new Int$1(2,t);Layout$4.s24=t=>new Int$1(3,t);Layout$4.s32=t=>new Int$1(4,t);Layout$4.s40=t=>new Int$1(5,t);Layout$4.s48=t=>new Int$1(6,t);var ns64=Layout$4.ns64=t=>new NearInt64$1(t);Layout$4.s16be=t=>new IntBE$1(2,t);Layout$4.s24be=t=>new IntBE$1(3,t);Layout$4.s32be=t=>new IntBE$1(4,t);Layout$4.s40be=t=>new IntBE$1(5,t);Layout$4.s48be=t=>new IntBE$1(6,t);Layout$4.ns64be=t=>new NearInt64BE$1(t);Layout$4.f32=t=>new Float$1(t);Layout$4.f32be=t=>new FloatBE$1(t);Layout$4.f64=t=>new Double$1(t);Layout$4.f64be=t=>new DoubleBE$1(t);var struct$1=Layout$4.struct=(t,e,r)=>new Structure$2(t,e,r);Layout$4.bits=(t,e,r)=>new BitStructure$1(t,e,r);var seq=Layout$4.seq=(t,e,r)=>new Sequence$1(t,e,r);Layout$4.union=(t,e,r)=>new Union$1(t,e,r);Layout$4.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator$1(t,e);var blob$1=Layout$4.blob=(t,e)=>new Blob$3(t,e);Layout$4.cstr=t=>new CString$1(t);Layout$4.utf8=(t,e)=>new UTF8$1(t,e);Layout$4.constant=(t,e)=>new Constant$1(t,e);var browser$2={};Object.defineProperty(browser$2,"__esModule",{value:!0});function toBigIntLE(t){{const e=Buffer.from(t);e.reverse();const r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var toBigIntLE_1=browser$2.toBigIntLE=toBigIntLE;function toBigIntBE(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}browser$2.toBigIntBE=toBigIntBE;function toBufferLE(t,e){{const r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var toBufferLE_1=browser$2.toBufferLE=toBufferLE;function toBufferBE(t,e){{const r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}}browser$2.toBufferBE=toBufferBE;class StructError extends TypeError{constructor(e,r){let n;const{message:o,...s}=e,{path:a}=e,c=a.length===0?o:"At path: "+a.join(".")+" -- "+o;super(c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var m;return(m=n)!=null?m:n=[e,...r()]}}}function isIterable(t){return isObject$2(t)&&typeof t[Symbol.iterator]=="function"}function isObject$2(t){return typeof t=="object"&&t!=null}function print(t){return typeof t=="string"?JSON.stringify(t):""+t}function shiftIterator(t){const{done:e,value:r}=t.next();return e?void 0:r}function toFailure(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:s}=e,{type:a}=r,{refinement:c,message:m="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+print(n)+"`"}=t;return{value:n,type:a,refinement:c,key:o[o.length-1],path:o,branch:s,...t,message:m}}function*toFailures(t,e,r,n){isIterable(t)||(t=[t]);for(const o of t){const s=toFailure(o,e,r,n);s&&(yield s)}}function*run$1(t,e,r={}){const{path:n=[],branch:o=[t],coerce:s=!1,mask:a=!1}=r,c={path:n,branch:o};if(s&&(t=e.coercer(t,c),a&&e.type!=="type"&&isObject$2(e.schema)&&isObject$2(t)&&!Array.isArray(t)))for(const gr in t)e.schema[gr]===void 0&&delete t[gr];let m=!0;for(const gr of e.validator(t,c))m=!1,yield[gr,void 0];for(let[gr,_r,wr]of e.entries(t,c)){const Or=run$1(_r,wr,{path:gr===void 0?n:[...n,gr],branch:gr===void 0?o:[...o,_r],coerce:s,mask:a});for(const Ir of Or)Ir[0]?(m=!1,yield[Ir[0],void 0]):s&&(_r=Ir[1],gr===void 0?t=_r:t instanceof Map?t.set(gr,_r):t instanceof Set?t.add(_r):isObject$2(t)&&(t[gr]=_r))}if(m)for(const gr of e.refiner(t,c))m=!1,yield[gr,void 0];m&&(yield[void 0,t])}class Struct$1{constructor(e){const{type:r,schema:n,validator:o,refiner:s,coercer:a=m=>m,entries:c=function*(){}}=e;this.type=r,this.schema=n,this.entries=c,this.coercer=a,o?this.validator=(m,gr)=>{const _r=o(m,gr);return toFailures(_r,gr,this,m)}:this.validator=()=>[],s?this.refiner=(m,gr)=>{const _r=s(m,gr);return toFailures(_r,gr,this,m)}:this.refiner=()=>[]}assert(e){return assert$3(e,this)}create(e){return create(e,this)}is(e){return is(e,this)}mask(e){return mask(e,this)}validate(e,r={}){return validate$1(e,this,r)}}function assert$3(t,e){const r=validate$1(t,e);if(r[0])throw r[0]}function create(t,e){const r=validate$1(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function mask(t,e){const r=validate$1(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function is(t,e){return!validate$1(t,e)[0]}function validate$1(t,e,r={}){const n=run$1(t,e,r),o=shiftIterator(n);if(o[0])return[new StructError(o[0],function*(){for(const a of n)a[0]&&(yield a[0])}),void 0];{const s=o[1];return[void 0,s]}}function define(t,e){return new Struct$1({type:t,schema:null,validator:e})}function any(){return define("any",()=>!0)}function array(t){return new Struct$1({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print(e)}})}function boolean(){return define("boolean",t=>typeof t=="boolean")}function instance(t){return define("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+print(e))}function literal(t){const e=print(t),r=typeof t;return new Struct$1({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+print(n)}})}function never(){return define("never",()=>!1)}function nullable(t){return new Struct$1({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function number(){return define("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+print(t))}function optional(t){return new Struct$1({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function record(t,e){return new Struct$1({type:"record",schema:null,*entries(r){if(isObject$2(r))for(const n in r){const o=r[n];yield[n,n,t],yield[n,o,e]}},validator(r){return isObject$2(r)||"Expected an object, but received: "+print(r)}})}function string(){return define("string",t=>typeof t=="string"||"Expected a string, but received: "+print(t))}function tuple(t){const e=never();return new Struct$1({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],t[o]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+print(r)}})}function type(t){const e=Object.keys(t);return new Struct$1({type:"type",schema:t,*entries(r){if(isObject$2(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return isObject$2(r)||"Expected an object, but received: "+print(r)}})}function union(t){const e=t.map(r=>r.type).join(" | ");return new Struct$1({type:"union",schema:null,validator(r,n){const o=[];for(const s of t){const[...a]=run$1(r,s,n),[c]=a;if(c[0])for(const[m]of a)m&&o.push(m);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print(r),...o]}})}function unknown(){return define("unknown",()=>!0)}function coerce(t,e,r){return new Struct$1({...t,coercer:(n,o)=>is(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}var index_browser={},interopRequireDefault={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(interopRequireDefault);var createClass={exports:{}},hasRequiredCreateClass;function requireCreateClass(){return hasRequiredCreateClass||(hasRequiredCreateClass=1,function(t){function e(n,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function r(n,o,s){return o&&e(n.prototype,o),s&&e(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(createClass)),createClass.exports}var classCallCheck={exports:{}},hasRequiredClassCallCheck;function requireClassCallCheck(){return hasRequiredClassCallCheck||(hasRequiredClassCallCheck=1,function(t){function e(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(classCallCheck)),classCallCheck.exports}var inherits$2={exports:{}},setPrototypeOf={exports:{}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(setPrototypeOf)),setPrototypeOf.exports}var hasRequiredInherits;function requireInherits(){return hasRequiredInherits||(hasRequiredInherits=1,function(t){var e=requireSetPrototypeOf();function r(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&e(n,o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(inherits$2)),inherits$2.exports}var possibleConstructorReturn={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(t){function e(r){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(_typeof)),_typeof.exports}var assertThisInitialized={exports:{}},hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){return hasRequiredAssertThisInitialized||(hasRequiredAssertThisInitialized=1,function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(assertThisInitialized)),assertThisInitialized.exports}var hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){return hasRequiredPossibleConstructorReturn||(hasRequiredPossibleConstructorReturn=1,function(t){var e=require_typeof().default,r=requireAssertThisInitialized();function n(o,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(possibleConstructorReturn)),possibleConstructorReturn.exports}var getPrototypeOf$2={exports:{}},hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){return hasRequiredGetPrototypeOf||(hasRequiredGetPrototypeOf=1,function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(getPrototypeOf$2)),getPrototypeOf$2.exports}var websocket_browser={},hasRequiredWebsocket_browser;function requireWebsocket_browser(){return hasRequiredWebsocket_browser||(hasRequiredWebsocket_browser=1,function(t){var e=interopRequireDefault.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=wr;var r=e(requireClassCallCheck()),n=e(requireCreateClass()),o=e(requireInherits()),s=e(requirePossibleConstructorReturn()),a=e(requireGetPrototypeOf()),c=eventemitter3.exports;function m(Or){var Ir=gr();return function(){var kr=(0,a.default)(Or),xr;if(Ir){var Cr=(0,a.default)(this).constructor;xr=Reflect.construct(kr,arguments,Cr)}else xr=kr.apply(this,arguments);return(0,s.default)(this,xr)}}function gr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _r=function(Or){(0,o.default)(Pr,Or);var Ir=m(Pr);function Pr(kr,xr,Cr){var Kr;return(0,r.default)(this,Pr),Kr=Ir.call(this),Kr.socket=new window.WebSocket(kr,Cr),Kr.socket.onopen=function(){return Kr.emit("open")},Kr.socket.onmessage=function(Fr){return Kr.emit("message",Fr.data)},Kr.socket.onerror=function(Fr){return Kr.emit("error",Fr)},Kr.socket.onclose=function(Fr){Kr.emit("close",Fr.code,Fr.reason)},Kr}return(0,n.default)(Pr,[{key:"send",value:function(xr,Cr,Kr){var Fr=Kr||Cr;try{this.socket.send(xr),Fr()}catch(qr){Fr(qr)}}},{key:"close",value:function(xr,Cr){this.socket.close(xr,Cr)}},{key:"addEventListener",value:function(xr,Cr,Kr){this.socket.addEventListener(xr,Cr,Kr)}}]),Pr}(c.EventEmitter);function wr(Or,Ir){return new _r(Or,Ir)}}(websocket_browser)),websocket_browser}var client={},regeneratorRuntime$1={exports:{}},hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(t){var e=require_typeof().default;function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,s=o.hasOwnProperty,a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",m=a.asyncIterator||"@@asyncIterator",gr=a.toStringTag||"@@toStringTag";function _r(Rr,vr,Tr){return Object.defineProperty(Rr,vr,{value:Tr,enumerable:!0,configurable:!0,writable:!0}),Rr[vr]}try{_r({},"")}catch{_r=function(Tr,Lr,Ur){return Tr[Lr]=Ur}}function wr(Rr,vr,Tr,Lr){var Ur=vr&&vr.prototype instanceof Pr?vr:Pr,Hr=Object.create(Ur.prototype),nn=new tn(Lr||[]);return Hr._invoke=function(pn,Nr,Er){var Mr="suspendedStart";return function(cn,Yr){if(Mr==="executing")throw new Error("Generator is already running");if(Mr==="completed"){if(cn==="throw")throw Yr;return dn()}for(Er.method=cn,Er.arg=Yr;;){var Zr=Er.delegate;if(Zr){var an=Vr(Zr,Er);if(an){if(an===Ir)continue;return an}}if(Er.method==="next")Er.sent=Er._sent=Er.arg;else if(Er.method==="throw"){if(Mr==="suspendedStart")throw Mr="completed",Er.arg;Er.dispatchException(Er.arg)}else Er.method==="return"&&Er.abrupt("return",Er.arg);Mr="executing";var un=Or(pn,Nr,Er);if(un.type==="normal"){if(Mr=Er.done?"completed":"suspendedYield",un.arg===Ir)continue;return{value:un.arg,done:Er.done}}un.type==="throw"&&(Mr="completed",Er.method="throw",Er.arg=un.arg)}}}(Rr,Tr,nn),Hr}function Or(Rr,vr,Tr){try{return{type:"normal",arg:Rr.call(vr,Tr)}}catch(Lr){return{type:"throw",arg:Lr}}}n.wrap=wr;var Ir={};function Pr(){}function kr(){}function xr(){}var Cr={};_r(Cr,c,function(){return this});var Kr=Object.getPrototypeOf,Fr=Kr&&Kr(Kr(sn([])));Fr&&Fr!==o&&s.call(Fr,c)&&(Cr=Fr);var qr=xr.prototype=Pr.prototype=Object.create(Cr);function Gr(Rr){["next","throw","return"].forEach(function(vr){_r(Rr,vr,function(Tr){return this._invoke(vr,Tr)})})}function jr(Rr,vr){function Tr(Ur,Hr,nn,pn){var Nr=Or(Rr[Ur],Rr,Hr);if(Nr.type!=="throw"){var Er=Nr.arg,Mr=Er.value;return Mr&&e(Mr)=="object"&&s.call(Mr,"__await")?vr.resolve(Mr.__await).then(function(cn){Tr("next",cn,nn,pn)},function(cn){Tr("throw",cn,nn,pn)}):vr.resolve(Mr).then(function(cn){Er.value=cn,nn(Er)},function(cn){return Tr("throw",cn,nn,pn)})}pn(Nr.arg)}var Lr;this._invoke=function(Ur,Hr){function nn(){return new vr(function(pn,Nr){Tr(Ur,Hr,pn,Nr)})}return Lr=Lr?Lr.then(nn,nn):nn()}}function Vr(Rr,vr){var Tr=Rr.iterator[vr.method];if(Tr===void 0){if(vr.delegate=null,vr.method==="throw"){if(Rr.iterator.return&&(vr.method="return",vr.arg=void 0,Vr(Rr,vr),vr.method==="throw"))return Ir;vr.method="throw",vr.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ir}var Lr=Or(Tr,Rr.iterator,vr.arg);if(Lr.type==="throw")return vr.method="throw",vr.arg=Lr.arg,vr.delegate=null,Ir;var Ur=Lr.arg;return Ur?Ur.done?(vr[Rr.resultName]=Ur.value,vr.next=Rr.nextLoc,vr.method!=="return"&&(vr.method="next",vr.arg=void 0),vr.delegate=null,Ir):Ur:(vr.method="throw",vr.arg=new TypeError("iterator result is not an object"),vr.delegate=null,Ir)}function Jr(Rr){var vr={tryLoc:Rr[0]};1 in Rr&&(vr.catchLoc=Rr[1]),2 in Rr&&(vr.finallyLoc=Rr[2],vr.afterLoc=Rr[3]),this.tryEntries.push(vr)}function ln(Rr){var vr=Rr.completion||{};vr.type="normal",delete vr.arg,Rr.completion=vr}function tn(Rr){this.tryEntries=[{tryLoc:"root"}],Rr.forEach(Jr,this),this.reset(!0)}function sn(Rr){if(Rr){var vr=Rr[c];if(vr)return vr.call(Rr);if(typeof Rr.next=="function")return Rr;if(!isNaN(Rr.length)){var Tr=-1,Lr=function Ur(){for(;++Tr<Rr.length;)if(s.call(Rr,Tr))return Ur.value=Rr[Tr],Ur.done=!1,Ur;return Ur.value=void 0,Ur.done=!0,Ur};return Lr.next=Lr}}return{next:dn}}function dn(){return{value:void 0,done:!0}}return kr.prototype=xr,_r(qr,"constructor",xr),_r(xr,"constructor",kr),kr.displayName=_r(xr,gr,"GeneratorFunction"),n.isGeneratorFunction=function(Rr){var vr=typeof Rr=="function"&&Rr.constructor;return!!vr&&(vr===kr||(vr.displayName||vr.name)==="GeneratorFunction")},n.mark=function(Rr){return Object.setPrototypeOf?Object.setPrototypeOf(Rr,xr):(Rr.__proto__=xr,_r(Rr,gr,"GeneratorFunction")),Rr.prototype=Object.create(qr),Rr},n.awrap=function(Rr){return{__await:Rr}},Gr(jr.prototype),_r(jr.prototype,m,function(){return this}),n.AsyncIterator=jr,n.async=function(Rr,vr,Tr,Lr,Ur){Ur===void 0&&(Ur=Promise);var Hr=new jr(wr(Rr,vr,Tr,Lr),Ur);return n.isGeneratorFunction(vr)?Hr:Hr.next().then(function(nn){return nn.done?nn.value:Hr.next()})},Gr(qr),_r(qr,gr,"Generator"),_r(qr,c,function(){return this}),_r(qr,"toString",function(){return"[object Generator]"}),n.keys=function(Rr){var vr=[];for(var Tr in Rr)vr.push(Tr);return vr.reverse(),function Lr(){for(;vr.length;){var Ur=vr.pop();if(Ur in Rr)return Lr.value=Ur,Lr.done=!1,Lr}return Lr.done=!0,Lr}},n.values=sn,tn.prototype={constructor:tn,reset:function(vr){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ln),!vr)for(var Tr in this)Tr.charAt(0)==="t"&&s.call(this,Tr)&&!isNaN(+Tr.slice(1))&&(this[Tr]=void 0)},stop:function(){this.done=!0;var vr=this.tryEntries[0].completion;if(vr.type==="throw")throw vr.arg;return this.rval},dispatchException:function(vr){if(this.done)throw vr;var Tr=this;function Lr(Er,Mr){return nn.type="throw",nn.arg=vr,Tr.next=Er,Mr&&(Tr.method="next",Tr.arg=void 0),!!Mr}for(var Ur=this.tryEntries.length-1;Ur>=0;--Ur){var Hr=this.tryEntries[Ur],nn=Hr.completion;if(Hr.tryLoc==="root")return Lr("end");if(Hr.tryLoc<=this.prev){var pn=s.call(Hr,"catchLoc"),Nr=s.call(Hr,"finallyLoc");if(pn&&Nr){if(this.prev<Hr.catchLoc)return Lr(Hr.catchLoc,!0);if(this.prev<Hr.finallyLoc)return Lr(Hr.finallyLoc)}else if(pn){if(this.prev<Hr.catchLoc)return Lr(Hr.catchLoc,!0)}else{if(!Nr)throw new Error("try statement without catch or finally");if(this.prev<Hr.finallyLoc)return Lr(Hr.finallyLoc)}}}},abrupt:function(vr,Tr){for(var Lr=this.tryEntries.length-1;Lr>=0;--Lr){var Ur=this.tryEntries[Lr];if(Ur.tryLoc<=this.prev&&s.call(Ur,"finallyLoc")&&this.prev<Ur.finallyLoc){var Hr=Ur;break}}Hr&&(vr==="break"||vr==="continue")&&Hr.tryLoc<=Tr&&Tr<=Hr.finallyLoc&&(Hr=null);var nn=Hr?Hr.completion:{};return nn.type=vr,nn.arg=Tr,Hr?(this.method="next",this.next=Hr.finallyLoc,Ir):this.complete(nn)},complete:function(vr,Tr){if(vr.type==="throw")throw vr.arg;return vr.type==="break"||vr.type==="continue"?this.next=vr.arg:vr.type==="return"?(this.rval=this.arg=vr.arg,this.method="return",this.next="end"):vr.type==="normal"&&Tr&&(this.next=Tr),Ir},finish:function(vr){for(var Tr=this.tryEntries.length-1;Tr>=0;--Tr){var Lr=this.tryEntries[Tr];if(Lr.finallyLoc===vr)return this.complete(Lr.completion,Lr.afterLoc),ln(Lr),Ir}},catch:function(vr){for(var Tr=this.tryEntries.length-1;Tr>=0;--Tr){var Lr=this.tryEntries[Tr];if(Lr.tryLoc===vr){var Ur=Lr.completion;if(Ur.type==="throw"){var Hr=Ur.arg;ln(Lr)}return Hr}}throw new Error("illegal catch attempt")},delegateYield:function(vr,Tr,Lr){return this.delegate={iterator:sn(vr),resultName:Tr,nextLoc:Lr},this.method==="next"&&(this.arg=void 0),Ir}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var t=requireRegeneratorRuntime()();regenerator=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(t){function e(n,o,s,a,c,m,gr){try{var _r=n[m](gr),wr=_r.value}catch(Or){s(Or);return}_r.done?o(wr):Promise.resolve(wr).then(a,c)}function r(n){return function(){var o=this,s=arguments;return new Promise(function(a,c){var m=n.apply(o,s);function gr(wr){e(m,a,c,gr,_r,"next",wr)}function _r(wr){e(m,a,c,gr,_r,"throw",wr)}gr(void 0)})}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(asyncToGenerator)),asyncToGenerator.exports}var hasRequiredClient;function requireClient(){return hasRequiredClient||(hasRequiredClient=1,function(t){var e=interopRequireDefault.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=e(requireRegenerator()),n=e(requireAsyncToGenerator()),o=e(require_typeof()),s=e(requireClassCallCheck()),a=e(requireCreateClass()),c=e(requireInherits()),m=e(requirePossibleConstructorReturn()),gr=e(requireGetPrototypeOf()),_r=eventemitter3.exports;function wr(kr){var xr=Or();return function(){var Kr=(0,gr.default)(kr),Fr;if(xr){var qr=(0,gr.default)(this).constructor;Fr=Reflect.construct(Kr,arguments,qr)}else Fr=Kr.apply(this,arguments);return(0,m.default)(this,Fr)}}function Or(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ir=function(kr,xr){var Cr={};for(var Kr in kr)Object.prototype.hasOwnProperty.call(kr,Kr)&&xr.indexOf(Kr)<0&&(Cr[Kr]=kr[Kr]);if(kr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fr=0,Kr=Object.getOwnPropertySymbols(kr);Fr<Kr.length;Fr++)xr.indexOf(Kr[Fr])<0&&Object.prototype.propertyIsEnumerable.call(kr,Kr[Fr])&&(Cr[Kr[Fr]]=kr[Kr[Fr]]);return Cr},Pr=function(kr){(0,c.default)(Cr,kr);var xr=wr(Cr);function Cr(Kr){var Fr,qr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",Gr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},jr=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,Cr);var Vr=Gr.autoconnect,Jr=Vr===void 0?!0:Vr,ln=Gr.reconnect,tn=ln===void 0?!0:ln,sn=Gr.reconnect_interval,dn=sn===void 0?1e3:sn,Rr=Gr.max_reconnects,vr=Rr===void 0?5:Rr,Tr=Ir(Gr,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return Fr=xr.call(this),Fr.webSocketFactory=Kr,Fr.queue={},Fr.rpc_id=0,Fr.address=qr,Fr.autoconnect=Jr,Fr.ready=!1,Fr.reconnect=tn,Fr.reconnect_interval=dn,Fr.max_reconnects=vr,Fr.rest_options=Tr,Fr.current_reconnects=0,Fr.generate_request_id=jr||function(){return++Fr.rpc_id},Fr.autoconnect&&Fr._connect(Fr.address,Object.assign({autoconnect:Fr.autoconnect,reconnect:Fr.reconnect,reconnect_interval:Fr.reconnect_interval,max_reconnects:Fr.max_reconnects},Fr.rest_options)),Fr}return(0,a.default)(Cr,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(Fr,qr,Gr,jr){var Vr=this;return!jr&&(0,o.default)(Gr)==="object"&&(jr=Gr,Gr=null),new Promise(function(Jr,ln){if(!Vr.ready)return ln(new Error("socket not ready"));var tn=Vr.generate_request_id(Fr,qr),sn={jsonrpc:"2.0",method:Fr,params:qr||null,id:tn};Vr.socket.send(JSON.stringify(sn),jr,function(dn){if(dn)return ln(dn);Vr.queue[tn]={promise:[Jr,ln]},Gr&&(Vr.queue[tn].timeout=setTimeout(function(){delete Vr.queue[tn],ln(new Error("reply timeout"))},Gr))})})}},{key:"login",value:function(){var Kr=(0,n.default)(r.default.mark(function qr(Gr){var jr;return r.default.wrap(function(Jr){for(;;)switch(Jr.prev=Jr.next){case 0:return Jr.next=2,this.call("rpc.login",Gr);case 2:if(jr=Jr.sent,jr){Jr.next=5;break}throw new Error("authentication failed");case 5:return Jr.abrupt("return",jr);case 6:case"end":return Jr.stop()}},qr,this)}));function Fr(qr){return Kr.apply(this,arguments)}return Fr}()},{key:"listMethods",value:function(){var Kr=(0,n.default)(r.default.mark(function qr(){return r.default.wrap(function(jr){for(;;)switch(jr.prev=jr.next){case 0:return jr.next=2,this.call("__listMethods");case 2:return jr.abrupt("return",jr.sent);case 3:case"end":return jr.stop()}},qr,this)}));function Fr(){return Kr.apply(this,arguments)}return Fr}()},{key:"notify",value:function(Fr,qr){var Gr=this;return new Promise(function(jr,Vr){if(!Gr.ready)return Vr(new Error("socket not ready"));var Jr={jsonrpc:"2.0",method:Fr,params:qr||null};Gr.socket.send(JSON.stringify(Jr),function(ln){if(ln)return Vr(ln);jr()})})}},{key:"subscribe",value:function(){var Kr=(0,n.default)(r.default.mark(function qr(Gr){var jr;return r.default.wrap(function(Jr){for(;;)switch(Jr.prev=Jr.next){case 0:return typeof Gr=="string"&&(Gr=[Gr]),Jr.next=3,this.call("rpc.on",Gr);case 3:if(jr=Jr.sent,!(typeof Gr=="string"&&jr[Gr]!=="ok")){Jr.next=6;break}throw new Error("Failed subscribing to an event '"+Gr+"' with: "+jr[Gr]);case 6:return Jr.abrupt("return",jr);case 7:case"end":return Jr.stop()}},qr,this)}));function Fr(qr){return Kr.apply(this,arguments)}return Fr}()},{key:"unsubscribe",value:function(){var Kr=(0,n.default)(r.default.mark(function qr(Gr){var jr;return r.default.wrap(function(Jr){for(;;)switch(Jr.prev=Jr.next){case 0:return typeof Gr=="string"&&(Gr=[Gr]),Jr.next=3,this.call("rpc.off",Gr);case 3:if(jr=Jr.sent,!(typeof Gr=="string"&&jr[Gr]!=="ok")){Jr.next=6;break}throw new Error("Failed unsubscribing from an event with: "+jr);case 6:return Jr.abrupt("return",jr);case 7:case"end":return Jr.stop()}},qr,this)}));function Fr(qr){return Kr.apply(this,arguments)}return Fr}()},{key:"close",value:function(Fr,qr){this.socket.close(Fr||1e3,qr)}},{key:"_connect",value:function(Fr,qr){var Gr=this;this.socket=this.webSocketFactory(Fr,qr),this.socket.addEventListener("open",function(){Gr.ready=!0,Gr.emit("open"),Gr.current_reconnects=0}),this.socket.addEventListener("message",function(jr){var Vr=jr.data;Vr instanceof ArrayBuffer&&(Vr=Buffer.from(Vr).toString());try{Vr=JSON.parse(Vr)}catch{return}if(Vr.notification&&Gr.listeners(Vr.notification).length){if(!Object.keys(Vr.params).length)return Gr.emit(Vr.notification);var Jr=[Vr.notification];if(Vr.params.constructor===Object)Jr.push(Vr.params);else for(var ln=0;ln<Vr.params.length;ln++)Jr.push(Vr.params[ln]);return Promise.resolve().then(function(){Gr.emit.apply(Gr,Jr)})}if(!Gr.queue[Vr.id])return Vr.method&&Vr.params?Promise.resolve().then(function(){Gr.emit(Vr.method,Vr.params)}):void 0;"error"in Vr=="result"in Vr&&Gr.queue[Vr.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),Gr.queue[Vr.id].timeout&&clearTimeout(Gr.queue[Vr.id].timeout),Vr.error?Gr.queue[Vr.id].promise[1](Vr.error):Gr.queue[Vr.id].promise[0](Vr.result),delete Gr.queue[Vr.id]}),this.socket.addEventListener("error",function(jr){return Gr.emit("error",jr)}),this.socket.addEventListener("close",function(jr){var Vr=jr.code,Jr=jr.reason;Gr.ready&&setTimeout(function(){return Gr.emit("close",Vr,Jr)},0),Gr.ready=!1,Gr.socket=void 0,Vr!==1e3&&(Gr.current_reconnects++,Gr.reconnect&&(Gr.max_reconnects>Gr.current_reconnects||Gr.max_reconnects===0)&&setTimeout(function(){return Gr._connect(Fr,qr)},Gr.reconnect_interval))})}}]),Cr}(_r.EventEmitter);t.default=Pr}(client)),client}var _interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(index_browser,"__esModule",{value:!0});var Client_1=index_browser.Client=void 0,_createClass2=_interopRequireDefault(requireCreateClass()),_classCallCheck2=_interopRequireDefault(requireClassCallCheck()),_inherits2=_interopRequireDefault(requireInherits()),_possibleConstructorReturn2=_interopRequireDefault(requirePossibleConstructorReturn()),_getPrototypeOf2=_interopRequireDefault(requireGetPrototypeOf()),_websocket=_interopRequireDefault(requireWebsocket_browser()),_client=_interopRequireDefault(requireClient());function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n=(0,_getPrototypeOf2.default)(t),o;if(e){var s=(0,_getPrototypeOf2.default)(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,o)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Client=function(t){(0,_inherits2.default)(r,t);var e=_createSuper(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.autoconnect,a=s===void 0?!0:s,c=o.reconnect,m=c===void 0?!0:c,gr=o.reconnect_interval,_r=gr===void 0?1e3:gr,wr=o.max_reconnects,Or=wr===void 0?5:wr,Ir=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,r),e.call(this,_websocket.default,n,{autoconnect:a,reconnect:m,reconnect_interval:_r,max_reconnects:Or},Ir)}return(0,_createClass2.default)(r)}(_client.default);Client_1=index_browser.Client=Client;var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return typeof t=="string"&&REGEX.test(t)}var byteToHex=[];for(var i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).substr(1));function stringify$1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate(r))throw TypeError("Stringified UUID is invalid");return r}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(t,e,r){var n=e&&r||0,o=e||new Array(16);t=t||{};var s=t.node||_nodeId,a=t.clockseq!==void 0?t.clockseq:_clockseq;if(s==null||a==null){var c=t.random||(t.rng||rng)();s==null&&(s=_nodeId=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),a==null&&(a=_clockseq=(c[6]<<8|c[7])&16383)}var m=t.msecs!==void 0?t.msecs:Date.now(),gr=t.nsecs!==void 0?t.nsecs:_lastNSecs+1,_r=m-_lastMSecs+(gr-_lastNSecs)/1e4;if(_r<0&&t.clockseq===void 0&&(a=a+1&16383),(_r<0||m>_lastMSecs)&&t.nsecs===void 0&&(gr=0),gr>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=m,_lastNSecs=gr,_clockseq=a,m+=122192928e5;var wr=((m&268435455)*1e4+gr)%4294967296;o[n++]=wr>>>24&255,o[n++]=wr>>>16&255,o[n++]=wr>>>8&255,o[n++]=wr&255;var Or=m/4294967296*1e4&268435455;o[n++]=Or>>>8&255,o[n++]=Or&255,o[n++]=Or>>>24&15|16,o[n++]=Or>>>16&255,o[n++]=a>>>8|128,o[n++]=a&255;for(var Ir=0;Ir<6;++Ir)o[n+Ir]=s[Ir];return e||stringify$1(o)}function parse(t){if(!validate(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function stringToBytes(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(t,e,r){function n(o,s,a,c){if(typeof o=="string"&&(o=stringToBytes(o)),typeof s=="string"&&(s=parse(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var m=new Uint8Array(16+o.length);if(m.set(s),m.set(o,s.length),m=r(m),m[6]=m[6]&15|e,m[8]=m[8]&63|128,a){c=c||0;for(var gr=0;gr<16;++gr)a[c+gr]=m[gr];return a}return stringify$1(m)}try{n.name=t}catch{}return n.DNS=DNS,n.URL=URL$1,n}function md5(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(t),t.length*8))}function md5ToHexEncodedArray(t){for(var e=[],r=t.length*32,n="0123456789abcdef",o=0;o<r;o+=8){var s=t[o>>5]>>>o%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}function getOutputLength(t){return(t+64>>>9<<4)+14+1}function wordsToMd5(t,e){t[e>>5]|=128<<e%32,t[getOutputLength(e)-1]=e;for(var r=1732584193,n=-271733879,o=-1732584194,s=271733878,a=0;a<t.length;a+=16){var c=r,m=n,gr=o,_r=s;r=md5ff(r,n,o,s,t[a],7,-680876936),s=md5ff(s,r,n,o,t[a+1],12,-389564586),o=md5ff(o,s,r,n,t[a+2],17,606105819),n=md5ff(n,o,s,r,t[a+3],22,-1044525330),r=md5ff(r,n,o,s,t[a+4],7,-176418897),s=md5ff(s,r,n,o,t[a+5],12,1200080426),o=md5ff(o,s,r,n,t[a+6],17,-1473231341),n=md5ff(n,o,s,r,t[a+7],22,-45705983),r=md5ff(r,n,o,s,t[a+8],7,1770035416),s=md5ff(s,r,n,o,t[a+9],12,-1958414417),o=md5ff(o,s,r,n,t[a+10],17,-42063),n=md5ff(n,o,s,r,t[a+11],22,-1990404162),r=md5ff(r,n,o,s,t[a+12],7,1804603682),s=md5ff(s,r,n,o,t[a+13],12,-40341101),o=md5ff(o,s,r,n,t[a+14],17,-1502002290),n=md5ff(n,o,s,r,t[a+15],22,1236535329),r=md5gg(r,n,o,s,t[a+1],5,-165796510),s=md5gg(s,r,n,o,t[a+6],9,-1069501632),o=md5gg(o,s,r,n,t[a+11],14,643717713),n=md5gg(n,o,s,r,t[a],20,-373897302),r=md5gg(r,n,o,s,t[a+5],5,-701558691),s=md5gg(s,r,n,o,t[a+10],9,38016083),o=md5gg(o,s,r,n,t[a+15],14,-660478335),n=md5gg(n,o,s,r,t[a+4],20,-405537848),r=md5gg(r,n,o,s,t[a+9],5,568446438),s=md5gg(s,r,n,o,t[a+14],9,-1019803690),o=md5gg(o,s,r,n,t[a+3],14,-187363961),n=md5gg(n,o,s,r,t[a+8],20,1163531501),r=md5gg(r,n,o,s,t[a+13],5,-1444681467),s=md5gg(s,r,n,o,t[a+2],9,-51403784),o=md5gg(o,s,r,n,t[a+7],14,1735328473),n=md5gg(n,o,s,r,t[a+12],20,-1926607734),r=md5hh(r,n,o,s,t[a+5],4,-378558),s=md5hh(s,r,n,o,t[a+8],11,-2022574463),o=md5hh(o,s,r,n,t[a+11],16,1839030562),n=md5hh(n,o,s,r,t[a+14],23,-35309556),r=md5hh(r,n,o,s,t[a+1],4,-1530992060),s=md5hh(s,r,n,o,t[a+4],11,1272893353),o=md5hh(o,s,r,n,t[a+7],16,-155497632),n=md5hh(n,o,s,r,t[a+10],23,-1094730640),r=md5hh(r,n,o,s,t[a+13],4,681279174),s=md5hh(s,r,n,o,t[a],11,-358537222),o=md5hh(o,s,r,n,t[a+3],16,-722521979),n=md5hh(n,o,s,r,t[a+6],23,76029189),r=md5hh(r,n,o,s,t[a+9],4,-640364487),s=md5hh(s,r,n,o,t[a+12],11,-421815835),o=md5hh(o,s,r,n,t[a+15],16,530742520),n=md5hh(n,o,s,r,t[a+2],23,-995338651),r=md5ii(r,n,o,s,t[a],6,-198630844),s=md5ii(s,r,n,o,t[a+7],10,1126891415),o=md5ii(o,s,r,n,t[a+14],15,-1416354905),n=md5ii(n,o,s,r,t[a+5],21,-57434055),r=md5ii(r,n,o,s,t[a+12],6,1700485571),s=md5ii(s,r,n,o,t[a+3],10,-1894986606),o=md5ii(o,s,r,n,t[a+10],15,-1051523),n=md5ii(n,o,s,r,t[a+1],21,-2054922799),r=md5ii(r,n,o,s,t[a+8],6,1873313359),s=md5ii(s,r,n,o,t[a+15],10,-30611744),o=md5ii(o,s,r,n,t[a+6],15,-1560198380),n=md5ii(n,o,s,r,t[a+13],21,1309151649),r=md5ii(r,n,o,s,t[a+4],6,-145523070),s=md5ii(s,r,n,o,t[a+11],10,-1120210379),o=md5ii(o,s,r,n,t[a+2],15,718787259),n=md5ii(n,o,s,r,t[a+9],21,-343485551),r=safeAdd(r,c),n=safeAdd(n,m),o=safeAdd(o,gr),s=safeAdd(s,_r)}return[r,n,o,s]}function bytesToWords(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(getOutputLength(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function safeAdd(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function bitRotateLeft(t,e){return t<<e|t>>>32-e}function md5cmn(t,e,r,n,o,s){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,t),safeAdd(n,s)),o),r)}function md5ff(t,e,r,n,o,s,a){return md5cmn(e&r|~e&n,t,e,o,s,a)}function md5gg(t,e,r,n,o,s,a){return md5cmn(e&n|r&~n,t,e,o,s,a)}function md5hh(t,e,r,n,o,s,a){return md5cmn(e^r^n,t,e,o,s,a)}function md5ii(t,e,r,n,o,s,a){return md5cmn(r^(e|~n),t,e,o,s,a)}var v3=v35("v3",48,md5);const v3$1=v3;function v4(t,e,r){t=t||{};var n=t.random||(t.rng||rng)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return stringify$1(n)}function f(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function ROTL(t,e){return t<<e|t>>>32-e}function sha1(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,a=Math.ceil(s/16),c=new Array(a),m=0;m<a;++m){for(var gr=new Uint32Array(16),_r=0;_r<16;++_r)gr[_r]=t[m*64+_r*4]<<24|t[m*64+_r*4+1]<<16|t[m*64+_r*4+2]<<8|t[m*64+_r*4+3];c[m]=gr}c[a-1][14]=(t.length-1)*8/Math.pow(2,32),c[a-1][14]=Math.floor(c[a-1][14]),c[a-1][15]=(t.length-1)*8&4294967295;for(var wr=0;wr<a;++wr){for(var Or=new Uint32Array(80),Ir=0;Ir<16;++Ir)Or[Ir]=c[wr][Ir];for(var Pr=16;Pr<80;++Pr)Or[Pr]=ROTL(Or[Pr-3]^Or[Pr-8]^Or[Pr-14]^Or[Pr-16],1);for(var kr=r[0],xr=r[1],Cr=r[2],Kr=r[3],Fr=r[4],qr=0;qr<80;++qr){var Gr=Math.floor(qr/20),jr=ROTL(kr,5)+f(Gr,xr,Cr,Kr)+Fr+e[Gr]+Or[qr]>>>0;Fr=Kr,Kr=Cr,Cr=ROTL(xr,30)>>>0,xr=kr,kr=jr}r[0]=r[0]+kr>>>0,r[1]=r[1]+xr>>>0,r[2]=r[2]+Cr>>>0,r[3]=r[3]+Kr>>>0,r[4]=r[4]+Fr>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var v5=v35("v5",80,sha1);const v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(t){if(!validate(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version,validate,stringify:stringify$1,parse},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(esmBrowser),uuid$1=require$$0$3.v4,generateRequest$1=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(o===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){const a=typeof n.generator=="function"?n.generator:function(){return uuid$1()};s.id=a(s,n)}else o===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var generateRequest_1=generateRequest$1;const uuid=require$$0$3.v4,generateRequest=generateRequest_1,ClientBrowser=function(t,e){if(!(this instanceof ClientBrowser))return new ClientBrowser(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var browser$1=ClientBrowser;ClientBrowser.prototype.request=function(t,e,r,n){const o=this;let s=null;const a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);const gr=typeof n=="function";try{s=generateRequest(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_r){if(gr)return n(_r);throw _r}if(!gr)return s}let m;try{m=JSON.stringify(s,this.options.replacer)}catch(gr){return n(gr)}return this.callServer(m,function(gr,_r){o._parseResponse(gr,_r,n)}),s};ClientBrowser.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return r(o)}if(r.length===3)if(Array.isArray(n)){const o=function(a){return typeof a.error<"u"},s=function(a){return!o(a)};return r(null,n.filter(o),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let t=0,e=_1n$1,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],SHA3_PI.push(2*(5*n+r)),SHA3_ROTL.push((t+1)*(t+2)/2%64);let o=_0n$1;for(let s=0;s<7;s++)e=(e<<_1n$1^(e>>_7n)*_0x71n)%_256n,e&_2n$1&&(o^=_1n$1<<(_1n$1<<BigInt(s))-_1n$1);_SHA3_IOTA.push(o)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64$2.split(_SHA3_IOTA,!0),rotlH=(t,e,r)=>r>32?u64$2.rotlBH(t,e,r):u64$2.rotlSH(t,e,r),rotlL=(t,e,r)=>r>32?u64$2.rotlBL(t,e,r):u64$2.rotlSL(t,e,r);function keccakP(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,m=(a+2)%10,gr=r[m],_r=r[m+1],wr=rotlH(gr,_r,1)^r[c],Or=rotlL(gr,_r,1)^r[c+1];for(let Ir=0;Ir<50;Ir+=10)t[a+Ir]^=wr,t[a+Ir+1]^=Or}let o=t[2],s=t[3];for(let a=0;a<24;a++){const c=SHA3_ROTL[a],m=rotlH(o,s,c),gr=rotlL(o,s,c),_r=SHA3_PI[a];o=t[_r],s=t[_r+1],t[_r]=m,t[_r+1]=gr}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)r[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~r[(c+2)%10]&r[(c+4)%10]}t[0]^=SHA3_IOTA_H[n],t[1]^=SHA3_IOTA_L[n]}r.fill(0)}class Keccak extends Hash{constructor(e,r,n,o=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert$4.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){assert$4.exists(this);const{blockLen:r,state:n}=this;e=toBytes(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(r-this.pos,o-s);for(let c=0;c<a;c++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:o}=this;e[n]^=r,(r&128)!==0&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){assert$4.exists(this,!1),assert$4.bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let o=0,s=e.length;o<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-o);e.set(r.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return assert$4.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(assert$4.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:o,rounds:s,enableXOF:a}=this;return e||(e=new Keccak(r,n,o,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=o,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gen=(t,e,r)=>wrapConstructor(()=>new Keccak(e,t,r));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(t,e,r)=>wrapConstructorWithOpts((n={})=>new Keccak(e,t,n.dkLen===void 0?r:n.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);class HMAC extends Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,assert$4.hash(e);const n=toBytes(r);if(this.iHash=e.create(),!(this.iHash instanceof Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const o=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(o);s.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return assert$4.exists(this),this.iHash.update(e),this}digestInto(e){assert$4.exists(this),assert$4.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:o,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(t,e,r)=>new HMAC(t,e).update(r).digest();hmac.create=(t,e)=>new HMAC(t,e);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function weistrass(t){const{a:e,b:r}=CURVE,n=mod(t*t),o=mod(n*t);return mod(o+e*t+r)}const USE_ENDOMORPHISM=CURVE.a===_0n;class ShaError extends Error{constructor(e){super(e)}}class JacobianPoint{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new JacobianPoint(e.x,e.y,_1n)}static toAffineBatch(e){const r=invertBatch(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return JacobianPoint.toAffineBatch(e).map(JacobianPoint.fromAffine)}equals(e){if(!(e instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:r,y:n,z:o}=this,{x:s,y:a,z:c}=e,m=mod(o*o),gr=mod(c*c),_r=mod(r*gr),wr=mod(s*m),Or=mod(mod(n*c)*gr),Ir=mod(mod(a*o)*m);return _r===wr&&Or===Ir}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:e,y:r,z:n}=this,o=mod(e*e),s=mod(r*r),a=mod(s*s),c=e+s,m=mod(_2n*(mod(c*c)-o-a)),gr=mod(_3n*o),_r=mod(gr*gr),wr=mod(_r-_2n*m),Or=mod(gr*(m-wr)-_8n*a),Ir=mod(_2n*r*n);return new JacobianPoint(wr,Or,Ir)}add(e){if(!(e instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:r,y:n,z:o}=this,{x:s,y:a,z:c}=e;if(s===_0n||a===_0n)return this;if(r===_0n||n===_0n)return e;const m=mod(o*o),gr=mod(c*c),_r=mod(r*gr),wr=mod(s*m),Or=mod(mod(n*c)*gr),Ir=mod(mod(a*o)*m),Pr=mod(wr-_r),kr=mod(Ir-Or);if(Pr===_0n)return kr===_0n?this.double():JacobianPoint.ZERO;const xr=mod(Pr*Pr),Cr=mod(Pr*xr),Kr=mod(_r*xr),Fr=mod(kr*kr-Cr-_2n*Kr),qr=mod(kr*(Kr-Fr)-Or*Cr),Gr=mod(o*c*Pr);return new JacobianPoint(Fr,qr,Gr)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const r=JacobianPoint.ZERO;if(typeof e=="bigint"&&e===_0n)return r;let n=normalizeScalar(e);if(n===_1n)return this;if(!USE_ENDOMORPHISM){let wr=r,Or=this;for(;n>_0n;)n&_1n&&(wr=wr.add(Or)),Or=Or.double(),n>>=_1n;return wr}let{k1neg:o,k1:s,k2neg:a,k2:c}=splitScalarEndo(n),m=r,gr=r,_r=this;for(;s>_0n||c>_0n;)s&_1n&&(m=m.add(_r)),c&_1n&&(gr=gr.add(_r)),_r=_r.double(),s>>=_1n,c>>=_1n;return o&&(m=m.negate()),a&&(gr=gr.negate()),gr=new JacobianPoint(mod(gr.x*CURVE.beta),gr.y,gr.z),m.add(gr)}precomputeWindow(e){const r=USE_ENDOMORPHISM?128/e+1:256/e+1,n=[];let o=this,s=o;for(let a=0;a<r;a++){s=o,n.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,r){!r&&this.equals(JacobianPoint.BASE)&&(r=Point.BASE);const n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&pointPrecomputes.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=JacobianPoint.normalizeZ(o),pointPrecomputes.set(r,o)));let s=JacobianPoint.ZERO,a=JacobianPoint.ZERO;const c=1+(USE_ENDOMORPHISM?128/n:256/n),m=2**(n-1),gr=BigInt(2**n-1),_r=2**n,wr=BigInt(n);for(let Or=0;Or<c;Or++){const Ir=Or*m;let Pr=Number(e&gr);if(e>>=wr,Pr>m&&(Pr-=_r,e+=_1n),Pr===0){let kr=o[Ir];Or%2&&(kr=kr.negate()),a=a.add(kr)}else{let kr=o[Ir+Math.abs(Pr)-1];Pr<0&&(kr=kr.negate()),s=s.add(kr)}}return{p:s,f:a}}multiply(e,r){let n=normalizeScalar(e),o,s;if(USE_ENDOMORPHISM){const{k1neg:a,k1:c,k2neg:m,k2:gr}=splitScalarEndo(n);let{p:_r,f:wr}=this.wNAF(c,r),{p:Or,f:Ir}=this.wNAF(gr,r);a&&(_r=_r.negate()),m&&(Or=Or.negate()),Or=new JacobianPoint(mod(Or.x*CURVE.beta),Or.y,Or.z),o=_r.add(Or),s=wr.add(Ir)}else{const{p:a,f:c}=this.wNAF(n,r);o=a,s=c}return JacobianPoint.normalizeZ([o,s])[0]}toAffine(e=invert(this.z)){const{x:r,y:n,z:o}=this,s=e,a=mod(s*s),c=mod(a*s),m=mod(r*a),gr=mod(n*c);if(mod(o*s)!==_1n)throw new Error("invZ was invalid");return new Point(m,gr)}}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n);JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);const pointPrecomputes=new WeakMap;class Point{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n===_0n}static fromCompressedHex(e){const r=e.length===32,n=bytesToNumber(r?e:e.subarray(1));if(!isValidFieldElement(n))throw new Error("Point is not on curve");const o=weistrass(n);let s=sqrtMod(o);const a=(s&_1n)===_1n;r?a&&(s=mod(-s)):(e[0]&1)===1!==a&&(s=mod(-s));const c=new Point(n,s);return c.assertValidity(),c}static fromUncompressedHex(e){const r=bytesToNumber(e.subarray(1,33)),n=bytesToNumber(e.subarray(33,65)),o=new Point(r,n);return o.assertValidity(),o}static fromHex(e){const r=ensureBytes(e),n=r.length,o=r[0];if(n===32||n===33&&(o===2||o===3))return this.fromCompressedHex(r);if(n===65&&o===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Point.BASE.multiply(normalizePrivateKey(e))}static fromSignature(e,r,n){e=ensureBytes(e);const o=truncateHash(e),{r:s,s:a}=normalizeSignature(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");const c=n&1?"03":"02",m=Point.fromHex(c+numTo32bStr(s)),{n:gr}=CURVE,_r=invert(s,gr),wr=mod(-o*_r,gr),Or=mod(a*_r,gr),Ir=Point.BASE.multiplyAndAddUnsafe(m,wr,Or);if(!Ir)throw new Error("Cannot recover signature: point at infinify");return Ir.assertValidity(),Ir}toRawBytes(e=!1){return hexToBytes(this.toHex(e))}toHex(e=!1){const r=numTo32bStr(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:r,y:n}=this;if(!isValidFieldElement(r)||!isValidFieldElement(n))throw new Error(e);const o=mod(n*n),s=weistrass(r);if(mod(o-s)!==_0n)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(e){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return JacobianPoint.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){const o=JacobianPoint.fromAffine(this),s=r===_0n||r===_1n||this!==Point.BASE?o.multiplyUnsafe(r):o.multiply(r),a=JacobianPoint.fromAffine(e).multiplyUnsafe(n),c=s.add(a);return c.equals(JacobianPoint.ZERO)?void 0:c.toAffine()}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy);Point.ZERO=new Point(_0n,_0n);function sliceDER(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function parseDERInt(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${bytesToHex(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(r),left:t.subarray(e+2)}}function parseDERSignature(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${bytesToHex(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=parseDERInt(t.subarray(2)),{data:n,left:o}=parseDERInt(r);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(o)}`);return{r:e,s:n}}class Signature{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){const r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);const o=r?bytesToHex(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Signature(hexToNumber(o.slice(0,64)),hexToNumber(o.slice(64,128)))}static fromDER(e){const r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:o}=parseDERSignature(r?e:hexToBytes(e));return new Signature(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:r}=this;if(!isWithinCurveOrder(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=CURVE.n>>_1n;return this.s>e}normalizeS(){return this.hasHighS()?new Signature(this.r,CURVE.n-this.s):this}toDERRawBytes(e=!1){return hexToBytes(this.toDERHex(e))}toDERHex(e=!1){const r=sliceDER(numberToHexUnpadded(this.s));if(e)return r;const n=sliceDER(numberToHexUnpadded(this.r)),o=numberToHexUnpadded(n.length/2),s=numberToHexUnpadded(r.length/2);return`30${numberToHexUnpadded(n.length/2+r.length/2+4)}02${o}${n}02${s}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){const s=t[n];r.set(s,o),o+=s.length}return r}const hexes=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=hexes[t[r]];return e}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(_0n<=t&&t<POW_2_256))throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function numTo32b(t){const e=hexToBytes(numTo32bStr(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function numberToHexUnpadded(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hexToNumber(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function hexToBytes(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,o=t.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function bytesToNumber(t){return hexToNumber(bytesToHex(t))}function ensureBytes(t){return t instanceof Uint8Array?Uint8Array.from(t):hexToBytes(t)}function normalizeScalar(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&isWithinCurveOrder(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(t,e=CURVE.P){const r=t%e;return r>=_0n?r:e+r}function pow2(t,e){const{P:r}=CURVE;let n=t;for(;e-- >_0n;)n*=n,n%=r;return n}function sqrtMod(t){const{P:e}=CURVE,r=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),m=t*t*t%e,gr=m*m*t%e,_r=pow2(gr,_3n)*gr%e,wr=pow2(_r,_3n)*gr%e,Or=pow2(wr,_2n)*m%e,Ir=pow2(Or,n)*Or%e,Pr=pow2(Ir,o)*Ir%e,kr=pow2(Pr,a)*Pr%e,xr=pow2(kr,c)*kr%e,Cr=pow2(xr,a)*Pr%e,Kr=pow2(Cr,_3n)*gr%e,Fr=pow2(Kr,s)*Ir%e,qr=pow2(Fr,r)*m%e;return pow2(qr,_2n)}function invert(t,e=CURVE.P){if(t===_0n||e<=_0n)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=mod(t,e),n=e,o=_0n,s=_1n;for(;r!==_0n;){const c=n/r,m=n%r,gr=o-s*c;n=r,r=m,o=s,s=gr}if(n!==_1n)throw new Error("invert: does not exist");return mod(o,e)}function invertBatch(t,e=CURVE.P){const r=new Array(t.length),n=t.reduce((s,a,c)=>a===_0n?s:(r[c]=s,mod(s*a,e)),_1n),o=invert(n,e);return t.reduceRight((s,a,c)=>a===_0n?s:(r[c]=mod(s*r[c],e),mod(s*a,e)),o),r}const divNearest=(t,e)=>(t+e/_2n)/e,ENDO={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function splitScalarEndo(t){const{n:e}=CURVE,{a1:r,b1:n,a2:o,b2:s,POW_2_128:a}=ENDO,c=divNearest(s*t,e),m=divNearest(-n*t,e);let gr=mod(t-c*r-m*o,e),_r=mod(-c*n-m*s,e);const wr=gr>a,Or=_r>a;if(wr&&(gr=e-gr),Or&&(_r=e-_r),gr>a||_r>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:wr,k1:gr,k2neg:Or,k2:_r}}function truncateHash(t){const{n:e}=CURVE,n=t.length*8-256;let o=bytesToNumber(t);return n>0&&(o=o>>BigInt(n)),o>=e&&(o-=e),o}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return utils$2.hmacSha256(this.k,...e)}hmacSync(...e){return _hmacSha256Sync(this.k,...e)}checkSync(){if(typeof _hmacSha256Sync!="function")throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function isWithinCurveOrder(t){return _0n<t&&t<CURVE.n}function isValidFieldElement(t){return _0n<t&&t<CURVE.P}function kmdToSig(t,e,r){const n=bytesToNumber(t);if(!isWithinCurveOrder(n))return;const{n:o}=CURVE,s=Point.BASE.multiply(n),a=mod(s.x,o);if(a===_0n)return;const c=mod(invert(n,o)*mod(e+r*a,o),o);if(c===_0n)return;const m=new Signature(a,c),gr=(s.x===m.r?0:2)|Number(s.y&_1n);return{sig:m,recovery:gr}}function normalizePrivateKey(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=hexToNumber(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=bytesToNumber(t)}else throw new TypeError("Expected valid private key");if(!isWithinCurveOrder(e))throw new Error("Expected private key: 0 < key < n");return e}function normalizeSignature(t){if(t instanceof Signature)return t.assertValidity(),t;try{return Signature.fromDER(t)}catch{return Signature.fromCompact(t)}}function getPublicKey$1(t,e=!1){return Point.fromPrivateKey(t).toRawBytes(e)}function bits2int(t){const e=t.length>32?t.slice(0,32):t;return bytesToNumber(e)}function bits2octets(t){const e=bits2int(t),r=mod(e,CURVE.n);return int2octets(r<_0n?e:r)}function int2octets(t){return numTo32b(t)}function initSigArgs(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);const n=ensureBytes(t),o=normalizePrivateKey(e),s=[int2octets(o),bits2octets(n)];if(r!=null){r===!0&&(r=utils$2.randomBytes(32));const m=ensureBytes(r);if(m.length!==32)throw new Error("sign: Expected 32 bytes of extra data");s.push(m)}const a=concatBytes(...s),c=bits2int(n);return{seed:a,m:c,d:o}}function finalizeSig(t,e){let{sig:r,recovery:n}=t;const{canonical:o,der:s,recovered:a}=Object.assign({canonical:!0,der:!0},e);o&&r.hasHighS()&&(r=r.normalizeS(),n^=1);const c=s?r.toDERRawBytes():r.toCompactRawBytes();return a?[c,n]:c}function signSync(t,e,r={}){const{seed:n,m:o,d:s}=initSigArgs(t,e,r.extraEntropy);let a;const c=new HmacDrbg;for(c.reseedSync(n);!(a=kmdToSig(c.generateSync(),o,s));)c.reseedSync();return finalizeSig(a,r)}Point.BASE._setWindowSize(8);const crypto$1={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils$2={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(t){try{return normalizePrivateKey(t),!0}catch{return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:t=>{if(t=ensureBytes(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=mod(bytesToNumber(t),CURVE.n-_1n)+_1n;return numTo32b(e)},randomBytes:(t=32)=>{if(crypto$1.web)return crypto$1.web.getRandomValues(new Uint8Array(t));if(crypto$1.node){const{randomBytes:e}=crypto$1.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$2.hashToPrivateKey(utils$2.randomBytes(40)),sha256:async(...t)=>{if(crypto$1.web){const e=await crypto$1.web.subtle.digest("SHA-256",concatBytes(...t));return new Uint8Array(e)}else if(crypto$1.node){const{createHash:e}=crypto$1.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(crypto$1.web){const r=await crypto$1.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=concatBytes(...e),o=await crypto$1.web.subtle.sign("HMAC",r,n);return new Uint8Array(o)}else if(crypto$1.node){const{createHmac:r}=crypto$1.node,n=r("sha256",t);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=TAGGED_HASH_PREFIXES[t];if(r===void 0){const n=await utils$2.sha256(Uint8Array.from(t,o=>o.charCodeAt(0)));r=concatBytes(n,n),TAGGED_HASH_PREFIXES[t]=r}return utils$2.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof _sha256Sync!="function")throw new ShaError("sha256Sync is undefined, you need to set it");let r=TAGGED_HASH_PREFIXES[t];if(r===void 0){const n=_sha256Sync(Uint8Array.from(t,o=>o.charCodeAt(0)));r=concatBytes(n,n),TAGGED_HASH_PREFIXES[t]=r}return _sha256Sync(r,...e)},precompute(t=8,e=Point.BASE){const r=e===Point.BASE?e:new Point(e.x,e.y);return r._setWindowSize(t),r.multiply(_3n),r}};Object.defineProperties(utils$2,{sha256Sync:{configurable:!1,get(){return _sha256Sync},set(t){_sha256Sync||(_sha256Sync=t)}},hmacSha256Sync:{configurable:!1,get(){return _hmacSha256Sync},set(t){_hmacSha256Sync||(_hmacSha256Sync=t)}}});utils$3.sha512Sync=(...t)=>sha512(utils$3.concatBytes(...t));const generatePrivateKey=utils$3.randomPrivateKey,generateKeypair=()=>{const t=utils$3.randomPrivateKey(),e=getPublicKey(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},getPublicKey=sync.getPublicKey;function isOnCurve(t){try{return Point$1.fromHex(t,!0),!0}catch{return!1}}const sign=(t,e)=>sync.sign(t,e.slice(0,32)),verify=sync.verify,toBuffer=t=>buffer$1.Buffer.isBuffer(t)?t:t instanceof Uint8Array?buffer$1.Buffer.from(t.buffer,t.byteOffset,t.byteLength):buffer$1.Buffer.from(t);class Struct{constructor(e){Object.assign(this,e)}encode(){return buffer$1.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA,this,e)}}class Enum extends Struct{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const SOLANA_SCHEMA=new Map,MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(t){return t._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData(e))this._bn=e._bn;else{if(typeof e=="string"){const r=bs58.decode(e);if(r.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(r)}else this._bn=new BN(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(buffer$1.Buffer);if(e.length===PUBLIC_KEY_LENGTH)return e;const r=buffer$1.Buffer.alloc(32);return e.copy(r,32-e.length),r}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const o=buffer$1.Buffer.concat([e.toBuffer(),buffer$1.Buffer.from(r),n.toBuffer()]),s=sha256$1(o);return new PublicKey(s)}static createProgramAddressSync(e,r){let n=buffer$1.Buffer.alloc(0);e.forEach(function(s){if(s.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=buffer$1.Buffer.concat([n,toBuffer(s)])}),n=buffer$1.Buffer.concat([n,r.toBuffer(),buffer$1.Buffer.from("ProgramDerivedAddress")]);const o=sha256$1(n);if(isOnCurve(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(o)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,o;for(;n!=0;){try{const s=e.concat(buffer$1.Buffer.from([n]));o=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new PublicKey(e);return isOnCurve(r.toBytes())}}PublicKey.default=new PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=toBuffer(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=toBuffer(generatePrivateKey()),this._publicKey=toBuffer(getPublicKey(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return buffer$1.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class MessageAccountKeys{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,a)=>{n.set(s.toBase58(),a)});const o=s=>{const a=n.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(s=>({programIdIndex:o(s.programId),accountKeyIndexes:s.keys.map(a=>o(a.pubkey)),data:s.data}))}}const publicKey$1=(t="publicKey")=>blob$1(32,t),signature=(t="signature")=>blob$1(64,t),rustString=(t="string")=>{const e=struct$1([u32$1("length"),u32$1("lengthPadding"),blob$1(offset(u32$1(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(s,a)=>r(s,a).chars.toString(),o.encode=(s,a,c)=>{const m={chars:buffer$1.Buffer.from(s,"utf8")};return n(m,a,c)},o.alloc=s=>u32$1().span+u32$1().span+buffer$1.Buffer.from(s,"utf8").length,o},authorized=(t="authorized")=>struct$1([publicKey$1("staker"),publicKey$1("withdrawer")],t),lockup=(t="lockup")=>struct$1([ns64("unixTimestamp"),ns64("epoch"),publicKey$1("custodian")],t),voteInit=(t="voteInit")=>struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedVoter"),publicKey$1("authorizedWithdrawer"),u8$1("commission")],t),voteAuthorizeWithSeedArgs=(t="voteAuthorizeWithSeedArgs")=>struct$1([u32$1("voteAuthorizationType"),publicKey$1("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$1("newAuthorized")],t);function getAlloc(t,e){const r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const s=e[o.property];if(Array.isArray(s))return s.length*r(o.elementLayout)}else if("fields"in o)return getAlloc({layout:o},e[o.property]);return 0};let n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function decodeLength(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function encodeLength(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function assert$2(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,o=a=>{const c=a.toBase58();let m=n.get(c);return m===void 0&&(m={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,m)),m},s=o(r);s.isSigner=!0,s.isWritable=!0;for(const a of e){o(a.programId).isInvoked=!0;for(const c of a.keys){const m=o(c.pubkey);m.isSigner||(m.isSigner=c.isSigner),m.isWritable||(m.isWritable=c.isWritable)}}return new CompiledKeys(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$2(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,m])=>m.isSigner&&m.isWritable),n=e.filter(([,m])=>m.isSigner&&!m.isWritable),o=e.filter(([,m])=>!m.isSigner&&m.isWritable),s=e.filter(([,m])=>!m.isSigner&&!m.isWritable),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{assert$2(r.length>0,"Expected at least one writable signer key");const[m]=r[0];assert$2(m===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...r.map(([m])=>new PublicKey(m)),...n.map(([m])=>new PublicKey(m)),...o.map(([m])=>new PublicKey(m)),...s.map(([m])=>new PublicKey(m))];return[a,c]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[o,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,o=new Array;for(const[s,a]of this.keyMetaMap.entries())if(r(a)){const c=new PublicKey(s),m=e.findIndex(gr=>gr.equals(c));m>=0&&(assert$2(m<256,"Max lookup table index exceeded"),n.push(m),o.push(c),this.keyMetaMap.delete(s))}return[n,o]}}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new PublicKey(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),[n,o]=r.getMessageComponents(),a=new MessageAccountKeys(o).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:bs58.encode(c.data)}));return new Message({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength(r,e);const n=this.instructions.map(wr=>{const{accounts:Or,programIdIndex:Ir}=wr,Pr=Array.from(bs58.decode(wr.data));let kr=[];encodeLength(kr,Or.length);let xr=[];return encodeLength(xr,Pr.length),{programIdIndex:Ir,keyIndicesCount:buffer$1.Buffer.from(kr),keyIndices:Or,dataLength:buffer$1.Buffer.from(xr),data:Pr}});let o=[];encodeLength(o,n.length);let s=buffer$1.Buffer.alloc(PACKET_DATA_SIZE);buffer$1.Buffer.from(o).copy(s);let a=o.length;n.forEach(wr=>{a+=struct$1([u8$1("programIdIndex"),blob$1(wr.keyIndicesCount.length,"keyIndicesCount"),seq(u8$1("keyIndex"),wr.keyIndices.length,"keyIndices"),blob$1(wr.dataLength.length,"dataLength"),seq(u8$1("userdatum"),wr.data.length,"data")]).encode(wr,s,a)}),s=s.slice(0,a);const c=struct$1([blob$1(1,"numRequiredSignatures"),blob$1(1,"numReadonlySignedAccounts"),blob$1(1,"numReadonlyUnsignedAccounts"),blob$1(r.length,"keyCount"),seq(publicKey$1("key"),e,"keys"),publicKey$1("recentBlockhash")]),m={numRequiredSignatures:buffer$1.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:buffer$1.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:buffer$1.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:buffer$1.Buffer.from(r),keys:this.accountKeys.map(wr=>toBuffer(wr.toBytes())),recentBlockhash:bs58.decode(this.recentBlockhash)};let gr=buffer$1.Buffer.alloc(2048);const _r=c.encode(m,gr);return s.copy(gr,_r),gr.slice(0,_r+s.length)}static from(e){let r=[...e];const n=r.shift();if(n!==(n&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=r.shift(),s=r.shift(),a=decodeLength(r);let c=[];for(let Or=0;Or<a;Or++){const Ir=r.slice(0,PUBLIC_KEY_LENGTH);r=r.slice(PUBLIC_KEY_LENGTH),c.push(new PublicKey(buffer$1.Buffer.from(Ir)))}const m=r.slice(0,PUBLIC_KEY_LENGTH);r=r.slice(PUBLIC_KEY_LENGTH);const gr=decodeLength(r);let _r=[];for(let Or=0;Or<gr;Or++){const Ir=r.shift(),Pr=decodeLength(r),kr=r.slice(0,Pr);r=r.slice(Pr);const xr=decodeLength(r),Cr=r.slice(0,xr),Kr=bs58.encode(buffer$1.Buffer.from(Cr));r=r.slice(xr),_r.push({programIdIndex:Ir,accounts:kr,data:Kr})}const wr={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:s},recentBlockhash:bs58.encode(buffer$1.Buffer.from(m)),accountKeys:c,instructions:_r};return new Message(wr)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,r)}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const o=e.find(s=>s.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<o.state.addresses.length)r.writable.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<o.state.addresses.length)r.readonly.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const _r of s){const wr=r.extractTableLookup(_r);if(wr!==void 0){const[Or,{writable:Ir,readonly:Pr}]=wr;n.push(Or),o.writable.push(...Ir),o.readonly.push(...Pr)}}const[a,c]=r.getMessageComponents(),gr=new MessageAccountKeys(c,o).compileInstructions(e.instructions);return new MessageV0({header:a,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:gr,addressTableLookups:n})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength(n,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),s=Array();encodeLength(s,this.addressTableLookups.length);const a=struct$1([u8$1("prefix"),struct$1([u8$1("numRequiredSignatures"),u8$1("numReadonlySignedAccounts"),u8$1("numReadonlyUnsignedAccounts")],"header"),blob$1(e.length,"staticAccountKeysLength"),seq(publicKey$1(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$1("recentBlockhash"),blob$1(n.length,"instructionsLength"),blob$1(r.length,"serializedInstructions"),blob$1(s.length,"addressTableLookupsLength"),blob$1(o.length,"serializedAddressTableLookups")]),c=new Uint8Array(PACKET_DATA_SIZE),m=1<<7,gr=a.encode({prefix:m,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_r=>_r.toBytes()),recentBlockhash:bs58.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:o},c);return c.slice(0,gr)}serializeInstructions(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE);for(const n of this.compiledInstructions){const o=Array();encodeLength(o,n.accountKeyIndexes.length);const s=Array();encodeLength(s,n.data.length),e+=struct$1([u8$1("programIdIndex"),blob$1(o.length,"encodedAccountKeyIndexesLength"),seq(u8$1(),n.accountKeyIndexes.length,"accountKeyIndexes"),blob$1(s.length,"encodedDataLength"),blob$1(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE);for(const n of this.addressTableLookups){const o=Array();encodeLength(o,n.writableIndexes.length);const s=Array();encodeLength(s,n.readonlyIndexes.length),e+=struct$1([publicKey$1("accountKey"),blob$1(o.length,"encodedWritableIndexesLength"),seq(u8$1(),n.writableIndexes.length,"writableIndexes"),blob$1(s.length,"encodedReadonlyIndexesLength"),seq(u8$1(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=r.shift(),o=n&VERSION_PREFIX_MASK;assert$2(n!==o,"Expected versioned message but received legacy message");const s=o;assert$2(s===0,`Expected versioned message with version 0 but found version ${s}`);const a={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},c=[],m=decodeLength(r);for(let Pr=0;Pr<m;Pr++)c.push(new PublicKey(r.splice(0,PUBLIC_KEY_LENGTH)));const gr=bs58.encode(r.splice(0,PUBLIC_KEY_LENGTH)),_r=decodeLength(r),wr=[];for(let Pr=0;Pr<_r;Pr++){const kr=r.shift(),xr=decodeLength(r),Cr=r.splice(0,xr),Kr=decodeLength(r),Fr=new Uint8Array(r.splice(0,Kr));wr.push({programIdIndex:kr,accountKeyIndexes:Cr,data:Fr})}const Or=decodeLength(r),Ir=[];for(let Pr=0;Pr<Or;Pr++){const kr=new PublicKey(r.splice(0,PUBLIC_KEY_LENGTH)),xr=decodeLength(r),Cr=r.splice(0,xr),Kr=decodeLength(r),Fr=r.splice(0,Kr);Ir.push({accountKey:kr,writableIndexes:Cr,readonlyIndexes:Fr})}return new MessageV0({header:a,staticAccountKeys:c,recentBlockhash:gr,compiledInstructions:wr,addressTableLookups:Ir})}}const VersionedMessage={deserializeMessageVersion(t){const e=t[0],r=e&VERSION_PREFIX_MASK;return r===e?"legacy":r},deserialize:t=>{const e=VersionedMessage.deserializeMessageVersion(t);if(e==="legacy")return Message.from(t);if(e===0)return MessageV0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT"})(TransactionStatus||(TransactionStatus={}));const DEFAULT_SIGNATURE=buffer$1.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=buffer$1.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new TransactionInstruction(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let kr=0;kr<r.length;kr++)if(r[kr].programId===void 0)throw new Error(`Transaction instruction index ${kr} has undefined program id`);const o=[],s=[];r.forEach(kr=>{kr.keys.forEach(Cr=>{s.push({...Cr})});const xr=kr.programId.toString();o.includes(xr)||o.push(xr)}),o.forEach(kr=>{s.push({pubkey:new PublicKey(kr),isSigner:!1,isWritable:!1})});const a=[];s.forEach(kr=>{const xr=kr.pubkey.toString(),Cr=a.findIndex(Kr=>Kr.pubkey.toString()===xr);Cr>-1?(a[Cr].isWritable=a[Cr].isWritable||kr.isWritable,a[Cr].isSigner=a[Cr].isSigner||kr.isSigner):a.push(kr)}),a.sort(function(kr,xr){return kr.isSigner!==xr.isSigner?kr.isSigner?-1:1:kr.isWritable!==xr.isWritable?kr.isWritable?-1:1:kr.pubkey.toBase58().localeCompare(xr.pubkey.toBase58())});const c=a.findIndex(kr=>kr.pubkey.equals(n));if(c>-1){const[kr]=a.splice(c,1);kr.isSigner=!0,kr.isWritable=!0,a.unshift(kr)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const kr of this.signatures){const xr=a.findIndex(Cr=>Cr.pubkey.equals(kr.publicKey));if(xr>-1)a[xr].isSigner||(a[xr].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${kr.publicKey.toString()}`)}let m=0,gr=0,_r=0;const wr=[],Or=[];a.forEach(({pubkey:kr,isSigner:xr,isWritable:Cr})=>{xr?(wr.push(kr.toString()),m+=1,Cr||(gr+=1)):(Or.push(kr.toString()),Cr||(_r+=1))});const Ir=wr.concat(Or),Pr=r.map(kr=>{const{data:xr,programId:Cr}=kr;return{programIdIndex:Ir.indexOf(Cr.toString()),accounts:kr.keys.map(Kr=>Ir.indexOf(Kr.pubkey.toString())),data:bs58.encode(xr)}});return Pr.forEach(kr=>{assert$2(kr.programIdIndex>=0),kr.accounts.forEach(xr=>assert$2(xr>=0))}),new Message({header:{numRequiredSignatures:m,numReadonlySignedAccounts:gr,numReadonlyUnsignedAccounts:_r},accountKeys:Ir,recentBlockhash:e,instructions:Pr})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((o,s)=>r[s].equals(o.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const o=n.toString();return r.has(o)?!1:(r.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const a=s.publicKey.toString();r.has(a)||(r.add(a),n.push(s))}const o=this._compile();this._partialSign(o,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(o=>{const s=sign(n,o.secretKey);this._addSignature(o.publicKey,toBuffer(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){assert$2(r.length===64);const n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=buffer$1.Buffer.from(r)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,r){for(const{signature:n,publicKey:o}of this.signatures)if(n===null){if(r)return!1}else if(!verify(n,e,o.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,r))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:r}=this,n=[];encodeLength(n,r.length);const o=n.length+r.length*64+e.length,s=buffer$1.Buffer.alloc(o);return assert$2(r.length<256),buffer$1.Buffer.from(n).copy(s,0),r.forEach(({signature:a},c)=>{a!==null&&(assert$2(a.length===64,"signature has invalid length"),buffer$1.Buffer.from(a).copy(s,n.length+c*64))}),e.copy(s,n.length+r.length*64),assert$2(s.length<=PACKET_DATA_SIZE,`Transaction too large: ${s.length} > ${PACKET_DATA_SIZE}`),s}get keys(){return assert$2(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$2(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$2(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength(r);let o=[];for(let s=0;s<n;s++){const a=r.slice(0,SIGNATURE_LENGTH_IN_BYTES);r=r.slice(SIGNATURE_LENGTH_IN_BYTES),o.push(bs58.encode(buffer$1.Buffer.from(a)))}return Transaction.populate(Message.from(r),o)}static populate(e,r=[]){const n=new Transaction;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((o,s)=>{const a={signature:o==bs58.encode(DEFAULT_SIGNATURE)?null:bs58.decode(o),publicKey:e.accountKeys[s]};n.signatures.push(a)}),e.instructions.forEach(o=>{const s=o.accounts.map(a=>{const c=e.accountKeys[a];return{pubkey:c,isSigner:n.signatures.some(m=>m.publicKey.toString()===c.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});n.instructions.push(new TransactionInstruction({keys:s,programId:e.accountKeys[o.programIdIndex],data:bs58.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:o,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:m}=n,gr=a-c;assert$2(gr>0,"Message header is invalid");const _r=e.staticAccountKeys.length-m;assert$2(_r>=0,"Message header is invalid");const wr=e.getAccountKeys(r),Or=wr.get(0);if(Or===void 0)throw new Error("Failed to decompile message because no account keys were found");const Ir=[];for(const Pr of o){const kr=[];for(const Cr of Pr.accountKeyIndexes){const Kr=wr.get(Cr);if(Kr===void 0)throw new Error(`Failed to find key for account key index ${Cr}`);const Fr=Cr<a;let qr;Fr?qr=Cr<gr:Cr<wr.staticAccountKeys.length?qr=Cr-a<_r:qr=Cr-wr.staticAccountKeys.length<wr.accountKeysFromLookups.writable.length,kr.push({pubkey:Kr,isSigner:Cr<n.numRequiredSignatures,isWritable:qr})}const xr=wr.get(Pr.programIdIndex);if(xr===void 0)throw new Error(`Failed to find program id for program id index ${Pr.programIdIndex}`);Ir.push(new TransactionInstruction({programId:xr,data:toBuffer(Pr.data),keys:kr}))}return new TransactionMessage({payerKey:Or,instructions:Ir,recentBlockhash:s})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)assert$2(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();encodeLength(r,this.signatures.length);const n=struct$1([blob$1(r.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$1(e.length,"serializedMessage")]),o=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,s)}static deserialize(e){let r=[...e];const n=[],o=decodeLength(r);for(let a=0;a<o;a++)n.push(new Uint8Array(r.splice(0,SIGNATURE_LENGTH_IN_BYTES)));const s=VersionedMessage.deserialize(new Uint8Array(r));return new VersionedTransaction(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const s=n.findIndex(a=>a.equals(o.publicKey));assert$2(s>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[s]=sign(r,o.secretKey)}}}const SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$2(t,e,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,o),a=e.recentBlockhash!=null&&e.lastValidBlockHeight!=null?(await t.confirmTransaction({signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value:(await t.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}function sleep(t){return new Promise(e=>setTimeout(e,t))}function encodeData(t,e){const r=t.layout.span>=0?t.layout.span:getAlloc(t,e),n=buffer$1.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}function decodeData$1(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct$1([u32$1("version"),u32$1("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct$1([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=NonceAccountLayout.decode(toBuffer(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(r.authorizedPubkey),nonce:new PublicKey(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const encodeDecode=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},bigInt=t=>e=>{const r=blob$1(t,e),{encode:n,decode:o}=encodeDecode(r),s=r;return s.decode=(a,c)=>{const m=o(a,c);return toBigIntLE_1(buffer$1.Buffer.from(m))},s.encode=(a,c,m)=>{const gr=toBufferLE_1(a,t);return n(gr,c,m)},s},u64$1=bigInt(8);class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new PublicKey(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new PublicKey(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:o,programId:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,space:o,programId:new PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,programId:new PublicKey(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:o,space:s,programId:a}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(r),seed:n,lamports:o,space:s,programId:new PublicKey(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(r)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$1([u32$1("instruction"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},Assign:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:struct$1([u32$1("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:struct$1([u32$1("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$1([u32$1("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:struct$1([u32$1("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:struct$1([u32$1("instruction"),u64$1("lamports"),rustString("seed"),publicKey$1("programId")])},UpgradeNonceAccount:{index:12,layout:struct$1([u32$1("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.Create,n=encodeData(r,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;r=encodeData(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;r=encodeData(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;r=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Assign;r=encodeData(o,{programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=encodeData(r,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){const r=new Transaction;"basePubkey"in e&&"seed"in e?r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=encodeData(r,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction(o)}static nonceAdvance(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=encodeData(r),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction(o)}static nonceWithdraw(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=encodeData(r,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=encodeData(r,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;r=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;r=encodeData(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,r,n,o,s){{const wr=await e.getMinimumBalanceForRentExemption(s.length),Or=await e.getAccountInfo(n.publicKey,"confirmed");let Ir=null;if(Or!==null){if(Or.executable)return console.error("Program load failed, account is already executable"),!1;Or.data.length!==s.length&&(Ir=Ir||new Transaction,Ir.add(SystemProgram.allocate({accountPubkey:n.publicKey,space:s.length}))),Or.owner.equals(o)||(Ir=Ir||new Transaction,Ir.add(SystemProgram.assign({accountPubkey:n.publicKey,programId:o}))),Or.lamports<wr&&(Ir=Ir||new Transaction,Ir.add(SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:wr-Or.lamports})))}else Ir=new Transaction().add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:wr>0?wr:1,space:s.length,programId:o}));Ir!==null&&await sendAndConfirmTransaction$2(e,Ir,[r,n],{commitment:"confirmed"})}const a=struct$1([u32$1("instruction"),u32$1("offset"),u32$1("bytesLength"),u32$1("bytesLengthPadding"),seq(u8$1("byte"),offset(u32$1(),-8),"bytes")]),c=Loader.chunkSize;let m=0,gr=s,_r=[];for(;gr.length>0;){const wr=gr.slice(0,c),Or=buffer$1.Buffer.alloc(c+16);a.encode({instruction:0,offset:m,bytes:wr,bytesLength:0,bytesLengthPadding:0},Or);const Ir=new Transaction().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:Or});_r.push(sendAndConfirmTransaction$2(e,Ir,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),m+=c,gr=gr.slice(c)}await Promise.all(_r);{const wr=struct$1([u32$1("instruction")]),Or=buffer$1.Buffer.alloc(wr.span);wr.encode({instruction:1},Or);const Ir=new Transaction().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:o,data:Or});await sendAndConfirmTransaction$2(e,Ir,[r,n],{commitment:"confirmed"})}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,r,n,o,s){return Loader.load(e,r,n,s,o)}}var objToString=Object.prototype.toString,objKeys=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function stringify(t,e){var r,n,o,s,a,c,m;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return stringify(t.toJSON(),e);if(m=objToString.call(t),m==="[object Array]"){for(o="[",n=t.length-1,r=0;r<n;r++)o+=stringify(t[r],!0)+",";return n>-1&&(o+=stringify(t[r],!0)),o+"]"}else if(m==="[object Object]"){for(s=objKeys(t).sort(),n=s.length,o="",r=0;r<n;)a=s[r],c=stringify(t[a],!1),c!==void 0&&(o&&(o+=","),o+=JSON.stringify(a)+":"+c),r++;return"{"+o+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var fastStableStringify=function(t){var e=stringify(t,!1);if(e!==void 0)return""+e},fastStableStringify$1=fastStableStringify;const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(t){let e=0;for(;t>1;)t/=2,e++;return e}function nextPowerOfTwo(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class EpochSchedule{constructor(e,r,n,o,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=trailingZeros(nextPowerOfTwo(e+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,n=this.getSlotsInEpoch(r),o=e-(n-MINIMUM_SLOT_PER_EPOCH);return[r,o]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),o=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[o,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:r,data:n},o){super(o!=null?`${o}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;function decodeData(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=18446744073709551615n;return this.state.deactivationSlot===e}static deserialize(e){const r=decodeData(LookupTableMetaLayout,e),n=e.length-LOOKUP_TABLE_META_SIZE;assert$2(n>=0,"lookup table is invalid"),assert$2(n%32===0,"lookup table is invalid");const o=n/32,{addresses:s}=struct$1([seq(publicKey$1(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new PublicKey(r.authority[0]):void 0,addresses:s.map(a=>new PublicKey(a))}}}const LookupTableMetaLayout={index:1,layout:struct$1([u32$1("typeIndex"),u64$1("deactivationSlot"),nu64("lastExtendedSlot"),u8$1("lastExtendedStartIndex"),u8$1(),seq(publicKey$1(),offset(u8$1(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(t){const e=t.match(URL_RE);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,o,s]=e,a=t.startsWith("https:")?"wss:":"ws:",c=o==null?null:parseInt(o.slice(1),10),m=c==null?"":`:${c+1}`;return`${a}//${n}${m}${s}`}var _process$env$npm_pack;const PublicKeyFromString=coerce(instance(PublicKey),string(),t=>new PublicKey(t)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(buffer$1.Buffer),RawAccountDataResult,t=>buffer$1.Buffer.from(t[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function extractCommitmentFromConfig(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...o}=t;e=n,r=o}return{commitment:e,config:r}}function createRpcResult(t){return union([type({jsonrpc:literal("2.0"),id:string(),result:t}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(t){return coerce(createRpcResult(t),UnknownRpcResult,e=>"error"in e?e:{...e,result:create(e.result,t)})}function jsonRpcResultAndContext(t){return jsonRpcResult(type({context:type({slot:number()}),value:t}))}function notificationResultAndContext(t){return type({context:type({slot:number()}),value:t})}function versionedMessageFromResponse(t,e){return t===0?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new PublicKey(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:bs58.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Message(e)}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number()})))),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));function createRpcClient(t,e,r,n,o){const s=r||fetchImpl;let a;return n&&(a=async(m,gr)=>{const _r=await new Promise((wr,Or)=>{try{n(m,gr,(Ir,Pr)=>wr([Ir,Pr]))}catch(Ir){Or(Ir)}});return await s(..._r)}),new browser$1(async(m,gr)=>{const wr={method:"POST",body:m,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS)};try{let Or=5,Ir,Pr=500;for(;a?Ir=await a(t,wr):Ir=await s(t,wr),!(Ir.status!==429||o===!0||(Or-=1,Or===0));)console.log(`Server responded with ${Ir.status} ${Ir.statusText}.  Retrying after ${Pr}ms delay...`),await sleep(Pr),Pr*=2;const kr=await Ir.text();Ir.ok?gr(null,kr):gr(new Error(`${Ir.status} ${Ir.statusText}: ${kr}`))}catch(Or){Or instanceof Error&&gr(Or)}finally{}},{})}function createRpcRequest(t){return(e,r)=>new Promise((n,o)=>{t.request(e,r,(s,a)=>{if(s){o(s);return}n(a)})})}function createRpcBatchRequest(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const o=e.map(s=>t.request(s.methodName,s.args));t.request(o,(s,a)=>{if(s){n(s);return}r(a)})})}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)})),TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})}))),ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union([instance(buffer$1.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),t=>Array.isArray(t)?create(t,BufferFromRawAccountData):t),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult}),SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)})),ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number()),AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,t=>"accounts"in t?create(t,RawInstructionResult):create(t,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))})),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),GetBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number())}))),GetBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()})),PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult(string()),SendTransactionRpcResult=jsonRpcResult(string()),LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number()}),COMMON_HTTP_HEADERS={"solana-client":`js/${(_process$env$npm_pack="0.0.0-development")!==null&&_process$env$npm_pack!==void 0?_process$env$npm_pack:"UNKNOWN"}`};class Connection{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,o,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,o=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,c=r.disableRetryOnRateLimit),this._rpcEndpoint=assertEndpointUrl(e),this._rpcWsEndpoint=n||makeWebsocketUrl(e),this._rpcClient=createRpcClient(e,o,s,a,c),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new Client_1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,void 0,o),a=await this._rpcRequest("getBalance",s),c=create(a,jsonRpcResultAndContext(number()));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=create(r,jsonRpcResult(nullable(number())));if("error"in n)throw new SolanaJSONRPCError(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=create(e,jsonRpcResult(number()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=create(e,SlotRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),o=create(n,GetSupplyRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get supply");return o.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenSupply",n),s=create(o,jsonRpcResultAndContext(TokenAmountResult));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenAccountBalance",n),s=create(o,jsonRpcResultAndContext(TokenAmountResult));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:o,config:s}=extractCommitmentFromConfig(n);let a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});const c=this._buildArgs(a,o,"base64",s),m=await this._rpcRequest("getTokenAccountsByOwner",c),gr=create(m,GetTokenAccountsByOwner);if("error"in gr)throw new SolanaJSONRPCError(gr.error,`failed to get token accounts owned by account ${e.toBase58()}`);return gr.result}async getParsedTokenAccountsByOwner(e,r,n){let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const s=this._buildArgs(o,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=create(a,GetParsedTokenAccountsByOwner);if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],o=await this._rpcRequest("getLargestAccounts",n),s=create(o,GetLargestAccountsRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenLargestAccounts",n),s=create(o,GetTokenLargestAccountsResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"base64",o),a=await this._rpcRequest("getAccountInfo",s),c=create(a,jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",o),a=await this._rpcRequest("getAccountInfo",s),c=create(a,jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=e.map(gr=>gr.toBase58()),a=this._buildArgs([s],n,"base64",o),c=await this._rpcRequest("getMultipleAccounts",a),m=create(c,jsonRpcResultAndContext(array(nullable(AccountInfoResult))));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get info for accounts ${s}`);return m.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:o,config:s}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],o,void 0,{...s,epoch:n??s?.epoch}),c=await this._rpcRequest("getStakeActivation",a),m=create(c,jsonRpcResult(StakeActivationResult));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get Stake Activation ${e.toBase58()}`);return m.result}async getProgramAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),{encoding:s,...a}=o||{},c=this._buildArgs([e.toBase58()],n,s||"base64",a),m=await this._rpcRequest("getProgramAccounts",c),gr=create(m,jsonRpcResult(array(KeyedAccountInfoResult)));if("error"in gr)throw new SolanaJSONRPCError(gr.error,`failed to get accounts owned by program ${e.toBase58()}`);return gr.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",o),a=await this._rpcRequest("getProgramAccounts",s),c=create(a,jsonRpcResult(array(KeyedParsedAccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,r){let n;typeof e=="string"?n=e:n=e.signature;let o;try{o=bs58.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}assert$2(o.length===64,"signature has invalid length");const s=r||this.commitment;let a,c,m=!1;const gr=new Promise((Or,Ir)=>{try{c=this.onSignature(n,(Pr,kr)=>{c=void 0;const xr={context:kr,value:Pr};m=!0,Or({__type:TransactionStatus.PROCESSED,response:xr})},s)}catch(Pr){Ir(Pr)}}),_r=new Promise(Or=>{if(typeof e=="string"){let Ir=this._confirmTransactionInitialTimeout||6e4;switch(s){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{Ir=this._confirmTransactionInitialTimeout||30*1e3;break}}a=setTimeout(()=>Or({__type:TransactionStatus.TIMED_OUT,timeoutMs:Ir}),Ir)}else{let Ir=e;const Pr=async()=>{try{return await this.getBlockHeight(r)}catch{return-1}};(async()=>{let kr=await Pr();if(!m){for(;kr<=Ir.lastValidBlockHeight;)if(await sleep(1e3),m||(kr=await Pr(),m))return;Or({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}});let wr;try{const Or=await Promise.race([gr,_r]);switch(Or.__type){case TransactionStatus.BLOCKHEIGHT_EXCEEDED:throw new TransactionExpiredBlockheightExceededError(n);case TransactionStatus.PROCESSED:wr=Or.response;break;case TransactionStatus.TIMED_OUT:throw new TransactionExpiredTimeoutError(n,Or.timeoutMs/1e3)}}finally{clearTimeout(a),c&&this.removeSignatureListener(c)}return wr}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=create(e,jsonRpcResult(array(ContactInfoResult)));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),o=create(n,GetVoteAccounts);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",o),a=create(s,jsonRpcResult(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",o),a=create(s,jsonRpcResult(string()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){const n=[e,r],o=await this._rpcRequest("getSlotLeaders",n),s=create(o,jsonRpcResult(array(PublicKeyFromString)));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:o}=await this.getSignatureStatuses([e],r);assert$2(o.length===1);const s=o[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const o=await this._rpcRequest("getSignatureStatuses",n),s=create(o,GetSignatureStatusesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",o),a=create(s,jsonRpcResult(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),o=create(n,GetInflationGovernorRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get inflation");return o.result}async getInflationReward(e,r,n){const{commitment:o,config:s}=extractCommitmentFromConfig(n),a=this._buildArgs([e.map(gr=>gr.toBase58())],o,void 0,{...s,epoch:r??s?.epoch}),c=await this._rpcRequest("getInflationReward",a),m=create(c,GetInflationRewardResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get inflation reward");return m.result}async getEpochInfo(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",o),a=create(s,GetEpochInfoRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=create(e,GetEpochScheduleRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get epoch schedule");const n=r.result;return new EpochSchedule(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=create(e,GetLeaderScheduleRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=create(o,GetMinimumBalanceForRentExemptionRpcResult);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),o=create(n,GetRecentBlockhashAndContextRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=create(r,GetRecentPerformanceSamplesRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=create(o,GetFeeCalculatorRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get fee calculator");const{context:a,value:c}=s.result;return{context:a,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,r){const n=e.serialize().toString("base64"),o=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",o),a=create(s,jsonRpcResultAndContext(nullable(number())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",o),a=create(s,GetLatestBlockhashRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get latest blockhash");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=create(e,jsonRpcResult(VersionResult));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=create(e,jsonRpcResult(string()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,o),a=await this._rpcRequest("getBlock",s),c=create(a,GetBlockRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get confirmed block");const m=c.result;return m&&{...m,transactions:m.transactions.map(({transaction:gr,meta:_r,version:wr})=>({meta:_r,transaction:{...gr,message:versionedMessageFromResponse(wr,gr.message)},version:wr}))}}async getBlockHeight(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getBlockHeight",o),a=create(s,jsonRpcResult(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block height information");return a.result}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:c,...m}=e;n=c,r=m}const o=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",o),a=create(s,BlockProductionResponseStruct);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,o),a=await this._rpcRequest("getTransaction",s),c=create(a,GetTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get transaction");const m=c.result;return m&&{...m,transaction:{...m.transaction,message:versionedMessageFromResponse(m.version,m.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),a=await this._rpcRequest("getTransaction",s),c=create(a,GetParsedTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=e.map(m=>{const gr=this._buildArgsAtLeastConfirmed([m],n,"jsonParsed",o);return{methodName:"getTransaction",args:gr}});return(await this._rpcBatchRequest(s)).map(m=>{const gr=create(m,GetParsedTransactionRpcResult);if("error"in gr)throw new SolanaJSONRPCError(gr.error,"failed to get transactions");return gr.result})}async getTransactions(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),s=e.map(m=>{const gr=this._buildArgsAtLeastConfirmed([m],n,void 0,o);return{methodName:"getTransaction",args:gr}});return(await this._rpcBatchRequest(s)).map(m=>{const gr=create(m,GetTransactionRpcResult);if("error"in gr)throw new SolanaJSONRPCError(gr.error,"failed to get transactions");const _r=gr.result;return _r&&{..._r,transaction:{..._r.transaction,message:versionedMessageFromResponse(_r.version,_r.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedBlock",n),s=create(o,GetConfirmedBlockRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");const c={...a,transactions:a.transactions.map(({transaction:m,meta:gr})=>{const _r=new Message(m.message);return{meta:gr,transaction:{...m,message:_r}}})};return{...c,transactions:c.transactions.map(({transaction:m,meta:gr})=>({meta:gr,transaction:Transaction.populate(m.message,m.signatures)}))}}async getBlocks(e,r,n){const o=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",o),a=create(s,jsonRpcResult(array(number())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),s=create(o,GetBlockSignaturesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get block");const a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),s=create(o,GetBlockSignaturesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedTransaction",n),s=create(o,GetTransactionRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const a=s.result;if(!a)return a;const c=new Message(a.transaction.message),m=a.transaction.signatures;return{...a,transaction:Transaction.populate(c,m)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),s=create(o,GetParsedTransactionRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(a=>{const c=this._buildArgsAtLeastConfirmed([a],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:c}});return(await this._rpcBatchRequest(n)).map(a=>{const c=create(a,GetParsedTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,r,n){let o={},s=await this.getFirstAvailableBlock();for(;!("until"in o)&&(r--,!(r<=0||r<s));)try{const m=await this.getConfirmedBlockSignatures(r,"finalized");m.signatures.length>0&&(o.until=m.signatures[m.signatures.length-1].toString())}catch(m){if(m instanceof Error&&m.message.includes("skipped"))continue;throw m}let a=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>a));)try{const m=await this.getConfirmedBlockSignatures(n);m.signatures.length>0&&(o.before=m.signatures[m.signatures.length-1].toString())}catch(m){if(m instanceof Error&&m.message.includes("skipped"))continue;throw m}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(m=>m.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),a=create(s,GetConfirmedSignaturesForAddress2RpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",o),a=create(s,GetSignaturesForAddressRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){const{context:n,value:o}=await this.getAccountInfoAndContext(e,r);let s=null;return o!==null&&(s=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(o.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:o}=await this.getAccountInfoAndContext(e,r);let s=null;return o!==null&&(s=NonceAccount.fromAccountData(o.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),o=create(n,RequestAirdropRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const n=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let o=0;o<50;o++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",o),a=create(s,jsonRpcResultAndContext(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){const kr=e.serialize(),xr=buffer$1.Buffer.from(kr).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const Cr=r||{};Cr.encoding="base64","commitment"in Cr||(Cr.commitment=this.commitment);const Kr=[xr,Cr],Fr=await this._rpcRequest("simulateTransaction",Kr),qr=create(Fr,SimulatedTransactionResponseStruct);if("error"in qr)throw new Error("failed to simulate transaction: "+qr.error.message);return qr.result}let o;if(e instanceof Transaction){let Pr=e;o=new Transaction,o.feePayer=Pr.feePayer,o.instructions=e.instructions,o.nonceInfo=Pr.nonceInfo,o.signatures=Pr.signatures}else o=Transaction.populate(e),o._message=o._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(o.nonceInfo&&s)o.sign(...s);else{let Pr=this._disableBlockhashCaching;for(;;){const kr=await this._blockhashWithExpiryBlockHeight(Pr);if(o.lastValidBlockHeight=kr.lastValidBlockHeight,o.recentBlockhash=kr.blockhash,!s)break;if(o.sign(...s),!o.signature)throw new Error("!signature");const xr=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(xr)&&!this._blockhashInfo.transactionSignatures.includes(xr)){this._blockhashInfo.simulatedSignatures.push(xr);break}else Pr=!0}}const a=o._compile(),c=a.serialize(),gr=o._serialize(c).toString("base64"),_r={encoding:"base64",commitment:this.commitment};if(n){const Pr=(Array.isArray(n)?n:a.nonProgramIds()).map(kr=>kr.toBase58());_r.accounts={encoding:"base64",addresses:Pr}}s&&(_r.sigVerify=!0);const wr=[gr,_r],Or=await this._rpcRequest("simulateTransaction",wr),Ir=create(Or,SimulatedTransactionResponseStruct);if("error"in Ir){let Pr;if("data"in Ir.error&&(Pr=Ir.error.data.logs,Pr&&Array.isArray(Pr))){const kr=`
    `,xr=kr+Pr.join(kr);console.error(Ir.error.message,xr)}throw new SendTransactionError("failed to simulate transaction: "+Ir.error.message,Pr)}return Ir.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const a=e.serialize();return await this.sendRawTransaction(a,n)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const o=r;if(e.nonceInfo)e.sign(...o);else{let a=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const m=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(m))a=!0;else{this._blockhashInfo.transactionSignatures.push(m);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=toBuffer(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},o=r&&r.skipPreflight,s=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),o&&(n.skipPreflight=o),s&&(n.preflightCommitment=s);const a=[e,n],c=await this._rpcRequest("sendTransaction",a),m=create(c,SendTransactionRpcResult);if("error"in m){let gr;throw"data"in m.error&&(gr=m.error.data.logs),new SendTransactionError("failed to send transaction: "+m.error.message,gr)}return m.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._subscriptionsByHash[r]={...n,state:"pending"}})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:a}=o;try{this._subscriptionsByHash[n]={...o,state:"subscribing"};const c=await this._rpcWebSocket.call(a,s);this._subscriptionsByHash[n]={...o,serverSubscriptionId:c,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[c]=o.callbacks,await this._updateSubscriptions()}catch(c){if(c instanceof Error&&console.error(`${a} error for argument`,s,c.message),!r())return;this._subscriptionsByHash[n]={...o,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:a}=o;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._subscriptionsByHash[n]={...o,state:"unsubscribing"};try{await this._rpcWebSocket.call(a,[s])}catch(c){if(c instanceof Error&&console.error(`${a} error:`,c.message),!r())return;this._subscriptionsByHash[n]={...o,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[n]={...o,state:"unsubscribed"},await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(o=>{try{o(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=create(e,AccountNotificationResult);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,o=fastStableStringify$1([e.method,r]),s=this._subscriptionsByHash[o];return s===void 0?this._subscriptionsByHash[o]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n];const a=this._subscriptionsByHash[o];assert$2(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=create(e,ProgramAccountNotificationResult);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,o){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=create(e,LogsNotificationResult);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=create(e,SlotNotificationResult);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=create(e,SlotUpdateNotificationResult);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,o){const s=r||this._commitment;if(s||n||o){let a={};n&&(a.encoding=n),s&&(a.commitment=s),o&&(a=Object.assign(a,o)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,r,n,o){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,o)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=create(e,SignatureNotificationResult);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const o=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(a,c)=>{if(a.type==="status"){r(a.result,c);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}onSignatureWithOptions(e,r,n){const{commitment:o,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],o,void 0,s),c=this._makeSubscription({callback:(m,gr)=>{r(m,gr);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=create(e,RootNotificationResult);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const o=e.slice(0,32),s=getPublicKey(o);for(let a=0;a<32;a++)if(n[a]!==s[a])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:n,secretKey:e})}static fromSeed(e){const r=getPublicKey(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$1([u32$1("instruction"),u64$1("recentSlot"),u8$1("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$1([u32$1("instruction")])},ExtendLookupTable:{index:2,layout:struct$1([u32$1("instruction"),u64$1(),seq(publicKey$1(),offset(u32$1(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$1([u32$1("instruction")])},CloseLookupTable:{index:4,layout:struct$1([u32$1("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new PublicKey(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[r,n]=PublicKey.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,s=encodeData(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:a,data:s}),r]}static freezeLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=encodeData(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=encodeData(r,{addresses:e.addresses.map(s=>s.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=encodeData(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=encodeData(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:o,data:n})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u8$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$1([u8$1("instruction"),u32$1("units"),u32$1("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$1([u8$1("instruction"),u32$1("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$1([u8$1("instruction"),u32$1("units")])},SetComputeUnitPrice:{index:3,layout:struct$1([u8$1("instruction"),u64$1("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,n=encodeData(r,e);return new TransactionInstruction({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,n=encodeData(r,e);return new TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,n=encodeData(r,e);return new TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,n=encodeData(r,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:n})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u8$1("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:o,instructionIndex:s}=e;assert$2(r.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${r.length} bytes`),assert$2(o.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${o.length} bytes`);const a=ED25519_INSTRUCTION_LAYOUT.span,c=a+r.length,m=c+o.length,gr=1,_r=buffer$1.Buffer.alloc(m+n.length),wr=s??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:gr,padding:0,signatureOffset:c,signatureInstructionIndex:wr,publicKeyOffset:a,publicKeyInstructionIndex:wr,messageDataOffset:m,messageDataSize:n.length,messageInstructionIndex:wr},_r),_r.fill(r,a),_r.fill(o,c),_r.fill(n,m),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:_r})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:o}=e;assert$2(r.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${r.length} bytes`);try{const s=Keypair.fromSecretKey(r),a=s.publicKey.toBytes(),c=sign(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:c,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");utils$2.hmacSha256Sync=(t,...e)=>{const r=hmac.create(sha256$1,t);return e.forEach(n=>r.update(n)),r.digest()};const ecdsaSign=(t,e)=>signSync(t,e,{der:!1,recovered:!0});utils$2.isValidPrivateKey;const publicKeyCreate=getPublicKey$1,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u16("signatureOffset"),u8$1("signatureInstructionIndex"),u16("ethAddressOffset"),u8$1("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$1("messageInstructionIndex"),blob$1(20,"ethAddress"),blob$1(64,"signature"),u8$1("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){assert$2(e.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${e.length} bytes`);try{return buffer$1.Buffer.from(keccak_256(toBuffer(e))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:o,recoveryId:s,instructionIndex:a}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(r),message:n,signature:o,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:o,recoveryId:s,instructionIndex:a=0}=e;let c;typeof r=="string"?r.startsWith("0x")?c=buffer$1.Buffer.from(r.substr(2),"hex"):c=buffer$1.Buffer.from(r,"hex"):c=r,assert$2(c.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${c.length} bytes`);const m=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,gr=m,_r=m+c.length,wr=_r+o.length+1,Or=1,Ir=buffer$1.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+n.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:Or,signatureOffset:_r,signatureInstructionIndex:a,ethAddressOffset:gr,ethAddressInstructionIndex:a,messageDataOffset:wr,messageDataSize:n.length,messageInstructionIndex:a,signature:toBuffer(o),ethAddress:toBuffer(c),recoveryId:s},Ir),Ir.fill(toBuffer(n),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:Ir})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:o}=e;assert$2(r.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${r.length} bytes`);try{const s=toBuffer(r),a=publicKeyCreate(s,!1).slice(1),c=buffer$1.Buffer.from(keccak_256(toBuffer(n))),[m,gr]=ecdsaSign(c,s);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:m,recoveryId:gr,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class Lockup{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}Lockup.default=new Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(r.staker),new PublicKey(r.withdrawer)),lockup:new Lockup(n.unixTimestamp,n.epoch,new PublicKey(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:o,authorityOwner:s}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey(s),newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$1([u32$1("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$1([u32$1("instruction")])},Split:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct$1([u32$1("instruction")])},Merge:{index:7,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:o}=e,s=o||Lockup.default,a=STAKE_INSTRUCTION_LAYOUTS.Initialize,c=encodeData(a,{authorized:{staker:toBuffer(n.staker.toBuffer()),withdrawer:toBuffer(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:toBuffer(s.custodian.toBuffer())}}),m={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction(m)}static createAccountWithSeed(e){const r=new Transaction;r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:o,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static createAccount(e){const r=new Transaction;r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:o,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:o}=e,s=STAKE_INSTRUCTION_LAYOUTS.Delegate,a=encodeData(s);return new Transaction().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Authorize,m=encodeData(c,{newAuthorized:toBuffer(o.toBuffer()),stakeAuthorizationType:s.index}),gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&gr.push({pubkey:a,isSigner:!1,isWritable:!1}),new Transaction().add({keys:gr,programId:this.programId,data:m})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:o,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:m}=e,gr=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,_r=encodeData(gr,{newAuthorized:toBuffer(a.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:o,authorityOwner:toBuffer(s.toBuffer())}),wr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return m&&wr.push({pubkey:m,isSigner:!1,isWritable:!1}),new Transaction().add({keys:wr,programId:this.programId,data:_r})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:s}=e,a=STAKE_INSTRUCTION_LAYOUTS.Split,c=encodeData(a,{lamports:s});return new TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,basePubkey:s,seed:a,lamports:c}=e,m=new Transaction;return m.add(SystemProgram.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),m.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:c}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:o}=e,s=STAKE_INSTRUCTION_LAYOUTS.Merge,a=encodeData(s);return new Transaction().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:o,lamports:s,custodianPubkey:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Withdraw,m=encodeData(c,{lamports:s}),gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&gr.push({pubkey:a,isSigner:!1,isWritable:!1}),new Transaction().add({keys:gr,programId:this.programId,data:m})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,o=STAKE_INSTRUCTION_LAYOUTS.Deactivate,s=encodeData(o);return new Transaction().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(e,r,n,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=o}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(a.index==n){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(r.nodePubkey),new PublicKey(r.authorizedVoter),new PublicKey(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:o,voteAuthorizationType:s}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey(o),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$1([u32$1("instruction"),voteInit()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$1([u32$1("instruction"),voteAuthorizeWithSeedArgs()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:o}=e,s=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,a=encodeData(s,{voteInit:{nodePubkey:toBuffer(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(c)}static createAccount(e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:s}=e,a=VOTE_INSTRUCTION_LAYOUTS.Authorize,c=encodeData(a,{newAuthorized:toBuffer(o.toBuffer()),voteAuthorizationType:s.index}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:m,programId:this.programId,data:c})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:c}=e,m=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,gr=encodeData(m,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer(s.toBuffer()),voteAuthorizationType:a.index}}),_r=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:_r,programId:this.programId,data:gr})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:s}=e,a=VOTE_INSTRUCTION_LAYOUTS.Withdraw,c=encodeData(a,{lamports:o}),m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:m,programId:this.programId,data:c})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram.withdraw(e)}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(decodeLength(r)!==2)return null;const o=[];for(let s=0;s<2;s++){const a=new PublicKey(r.slice(0,PUBLIC_KEY_LENGTH));r=r.slice(PUBLIC_KEY_LENGTH);const c=r.slice(0,1)[0]===1;r=r.slice(1),o.push({publicKey:a,isSigner:c})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY)&&o[1].isSigner){const s=rustString().decode(buffer$1.Buffer.from(r)),a=JSON.parse(s);return assert$3(a,InfoString),new ValidatorInfo(o[1].publicKey,a)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedWithdrawer"),u8$1("commission"),nu64(),seq(struct$1([nu64("slot"),u32$1("confirmationCount")]),offset(u32$1(),-8),"votes"),u8$1("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct$1([nu64("epoch"),publicKey$1("authorizedVoter")]),offset(u32$1(),-8),"authorizedVoters"),struct$1([seq(struct$1([publicKey$1("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8$1("isEmpty")],"priorVoters"),nu64(),seq(struct$1([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32$1(),-8),"epochCredits"),struct$1([nu64("slot"),nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=VoteAccountLayout.decode(toBuffer(e),4);let o=n.rootSlot;return n.rootSlotValid||(o=null),new VoteAccount({nodePubkey:new PublicKey(n.nodePubkey),authorizedWithdrawer:new PublicKey(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:o,authorizedVoters:n.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey(t)}}function parsePriorVoters({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new PublicKey(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function getPriorVoters({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(parsePriorVoters),...t.slice(0,e).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(t,e){const r=e===!1?"http":"https";if(!t)return endpoint[r].devnet;const n=endpoint[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function sendAndConfirmRawTransaction(t,e,r,n){let o,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")?(o=r,s=n):s=r;const a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},c=await t.sendRawTransaction(e,a),m=s&&s.commitment,_r=(await(o?t.confirmTransaction(o,m):t.confirmTransaction(c,m))).value;if(_r.err)throw new Error(`Raw transaction ${c} failed (${JSON.stringify(_r)})`);return c}const LAMPORTS_PER_SOL=1e9,index_browser_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,MessageAccountKeys,MessageV0,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PUBLIC_KEY_LENGTH,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredTimeoutError,TransactionInstruction,TransactionMessage,get TransactionStatus(){return TransactionStatus},VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction,sendAndConfirmTransaction:sendAndConfirmTransaction$2},Symbol.toStringTag,{value:"Module"})),SOLANARPC="https://api.mainnet-beta.solana.com",useSolanaNetworkStore=defineStore("solanaNetwork",{state:()=>({ws:{},connection:{},transactions_per_second:ref(0)}),actions:{init(){this.connection=new Connection(SOLANARPC,"confirmed")},async run_tps(){for(;;){let t=await this.connection.getRecentPerformanceSamples(5);this.transactions_per_second=0,t.forEach(e=>{this.transactions_per_second+=e.numTransactions/e.samplePeriodSecs}),this.transactions_per_second=this.transactions_per_second/t.length,await new Promise(e=>setTimeout(e,5e3))}}}}),_hoisted_1$4={class:"flex flex-row space-x-2"},_hoisted_2$4={class:"flex flex-row space-x-1"},_hoisted_3$1=createBaseVNode("h2",null,"BTC/USDC",-1),_hoisted_4$1={class:"flex flex-row space-x-1"},_hoisted_5$1=createBaseVNode("h2",null,"SOL/USDC",-1),_hoisted_6$1={class:"flex flex-row space-x-1"},_hoisted_7$1=createBaseVNode("h2",null,"ATLAS/USDC",-1),_hoisted_8$1={class:"flex flex-row space-x-1"},_hoisted_9=createBaseVNode("h2",null,"POLIS/USDC",-1),_hoisted_10={class:"flex w-full justify-end flex-row space-x-1"},_hoisted_11=createBaseVNode("i",{class:"bi bi-speedometer"},null,-1),_sfc_main$5=defineComponent({__name:"InfoFeed",setup(t){const e=useTokenPriceStore(),r=useSolanaNetworkStore();return onMounted(async()=>{}),(n,o)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[_hoisted_3$1,createBaseVNode("h3",null,toDisplayString(unref(e).btc),1)]),createBaseVNode("div",_hoisted_4$1,[_hoisted_5$1,createBaseVNode("h3",null,toDisplayString(unref(e).sol),1)]),createBaseVNode("div",_hoisted_6$1,[_hoisted_7$1,createBaseVNode("h3",null,toDisplayString(unref(e).atlas),1)]),createBaseVNode("div",_hoisted_8$1,[_hoisted_9,createBaseVNode("h3",null,toDisplayString(unref(e).polis),1)]),createBaseVNode("div",_hoisted_10,[_hoisted_11,createBaseVNode("h3",null,toDisplayString(unref(r).transactions_per_second.toFixed(0))+" TPS",1)])]))}}),_sfc_main$4={},_hoisted_1$3=createBaseVNode("h1",null,"Order Setter",-1),_hoisted_2$3=createBaseVNode("div",null,null,-1);function _sfc_render$1(t,e){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$3,_hoisted_2$3],64)}const OrderSetter=_export_sfc(_sfc_main$4,[["render",_sfc_render$1]]),NFTS_URL="https://galaxy.staratlas.com/nfts",TRADE_PROGRAM=new PublicKey("traderDnaR5w6Tcoi3NFm53i48FTDNbGjBSZwWXDRrg"),useAssetsStore=defineStore({id:"assetsStore",state:()=>({allAssets:[]}),actions:{async init(){this.allAssets=await fetch(NFTS_URL).then(t=>t.json()),console.log(this.allAssets)}}});var dist={},atlasStaking={},instruction_builders$1={},baseParams={};Object.defineProperty(baseParams,"__esModule",{value:!0});var cancelUnstake={},utils$1={},getStakingProgram$1={},camelcase={exports:{}};const preserveCamelCase=t=>{let e=!1,r=!1,n=!1;for(let o=0;o<t.length;o++){const s=t[o];e&&/[a-zA-Z]/.test(s)&&s.toUpperCase()===s?(t=t.slice(0,o)+"-"+t.slice(o),e=!1,n=r,r=!0,o++):r&&n&&/[a-zA-Z]/.test(s)&&s.toLowerCase()===s?(t=t.slice(0,o-1)+"-"+t.slice(o-1),n=r,r=!1,e=!0):(e=s.toLowerCase()===s&&s.toUpperCase()!==s,n=r,r=s.toUpperCase()===s&&s.toLowerCase()!==s)}return t},camelCase=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");e=Object.assign({pascalCase:!1},e);const r=o=>e.pascalCase?o.charAt(0).toUpperCase()+o.slice(1):o;return Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0?"":t.length===1?e.pascalCase?t.toUpperCase():t.toLowerCase():(t!==t.toLowerCase()&&(t=preserveCamelCase(t)),t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(o,s)=>s.toUpperCase()).replace(/\d+(\w|$)/g,o=>o.toUpperCase()),r(t))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(o){return e.create().update(o)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(o){return new HmacSha256(o,t)},e.update=function(o,s){return e.create(o).update(s)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if(r!=="string"){if(r==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,o=0,s,a=t.length,c=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),e)for(s=this.start;o<a&&s<64;++o)c[s>>2]|=t[o]<<SHIFT[s++&3];else for(s=this.start;o<a&&s<64;++o)n=t.charCodeAt(o),n<128?c[s>>2]|=n<<SHIFT[s++&3]:n<2048?(c[s>>2]|=(192|n>>6)<<SHIFT[s++&3],c[s>>2]|=(128|n&63)<<SHIFT[s++&3]):n<55296||n>=57344?(c[s>>2]|=(224|n>>12)<<SHIFT[s++&3],c[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],c[s>>2]|=(128|n&63)<<SHIFT[s++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++o)&1023),c[s>>2]|=(240|n>>18)<<SHIFT[s++&3],c[s>>2]|=(128|n>>12&63)<<SHIFT[s++&3],c[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],c[s>>2]|=(128|n&63)<<SHIFT[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=c[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,m=this.blocks,gr,_r,wr,Or,Ir,Pr,kr,xr,Cr,Kr,Fr;for(gr=16;gr<64;++gr)Ir=m[gr-15],_r=(Ir>>>7|Ir<<25)^(Ir>>>18|Ir<<14)^Ir>>>3,Ir=m[gr-2],wr=(Ir>>>17|Ir<<15)^(Ir>>>19|Ir<<13)^Ir>>>10,m[gr]=m[gr-16]+_r+m[gr-7]+wr<<0;for(Fr=e&r,gr=0;gr<64;gr+=4)this.first?(this.is224?(xr=300032,Ir=m[0]-1413257819,c=Ir-150054599<<0,n=Ir+24177077<<0):(xr=704751109,Ir=m[0]-210244248,c=Ir-1521486534<<0,n=Ir+143694565<<0),this.first=!1):(_r=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),wr=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),xr=t&e,Or=xr^t&r^Fr,kr=o&s^~o&a,Ir=c+wr+kr+K[gr]+m[gr],Pr=_r+Or,c=n+Ir<<0,n=Ir+Pr<<0),_r=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),wr=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),Cr=n&t,Or=Cr^n&e^xr,kr=c&o^~c&s,Ir=a+wr+kr+K[gr+1]+m[gr+1],Pr=_r+Or,a=r+Ir<<0,r=Ir+Pr<<0,_r=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),wr=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),Kr=r&n,Or=Kr^r&t^Cr,kr=a&c^~a&o,Ir=s+wr+kr+K[gr+2]+m[gr+2],Pr=_r+Or,s=e+Ir<<0,e=Ir+Pr<<0,_r=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),wr=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),Fr=e&r,Or=Fr^e&n^Kr,kr=s&a^~s&c,Ir=o+wr+kr+K[gr+3]+m[gr+3],Pr=_r+Or,o=t+Ir<<0,t=Ir+Pr<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+o<<0,this.h5=this.h5+s<<0,this.h6=this.h6+a<<0,this.h7=this.h7+c<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,m=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15];return this.is224||(m+=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]),m},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,m=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,o>>24&255,o>>16&255,o>>8&255,o&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255];return this.is224||m.push(c>>24&255,c>>16&255,c>>8&255,c&255),m},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,r){var n,o=typeof t;if(o==="string"){var s=[],a=t.length,c=0,m;for(n=0;n<a;++n)m=t.charCodeAt(n),m<128?s[c++]=m:m<2048?(s[c++]=192|m>>6,s[c++]=128|m&63):m<55296||m>=57344?(s[c++]=224|m>>12,s[c++]=128|m>>6&63,s[c++]=128|m&63):(m=65536+((m&1023)<<10|t.charCodeAt(++n)&1023),s[c++]=240|m>>18,s[c++]=128|m>>12&63,s[c++]=128|m>>6&63,s[c++]=128|m&63);t=s}else if(o==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var gr=[],_r=[];for(n=0;n<64;++n){var wr=t[n]||0;gr[n]=92^wr,_r[n]=54^wr}Sha256.call(this,e,r),this.update(_r),this.oKeyPad=gr,this.inner=!0,this.sharedMemory=r}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var lib={},Layout$2={};class Layout$1{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}Layout$2.Layout=Layout$1;function nameWithProperty$1(t,e){return e.property?t+"["+e.property+"]":t}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(e,r,n){if(!(e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class UInt$1 extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class UIntBE extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}class Int extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}}class IntBE extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(t){const e=Math.floor(t/V2E32),r=t-e*V2E32;return{hi32:e,lo32:r}}function roundedInt64(t,e){return t*V2E32+e}class NearUInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),o=e.readUInt32LE(r+4);return roundedInt64(o,n)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32LE(o.lo32,n),r.writeUInt32LE(o.hi32,n+4),8}}class NearUInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32BE(r),o=e.readUInt32BE(r+4);return roundedInt64(n,o)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32BE(o.hi32,n),r.writeUInt32BE(o.lo32,n+4),8}}class NearInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),o=e.readInt32LE(r+4);return roundedInt64(o,n)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32LE(o.lo32,n),r.writeInt32LE(o.hi32,n+4),8}}class NearInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readInt32BE(r),o=e.readUInt32BE(r+4);return roundedInt64(n,o)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeInt32BE(o.hi32,n),r.writeUInt32BE(o.lo32,n+4),8}}class Float extends Layout$1{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}}class FloatBE extends Layout$1{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}}class Double extends Layout$1{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}}class DoubleBE extends Layout$1{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}}class Sequence extends Layout$1{constructor(e,r,n){if(!(e instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ExternalLayout$1&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof ExternalLayout$1)&&0<e.span&&(o=r*e.span),super(o,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,o=this.count;if(o instanceof ExternalLayout$1&&(o=o.decode(e,r)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let s=0;for(;s<o;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r){r===void 0&&(r=0);const n=[];let o=0,s=this.count;for(s instanceof ExternalLayout$1&&(s=s.decode(e,r));o<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),o+=1;return n}encode(e,r,n){n===void 0&&(n=0);const o=this.elementLayout,s=e.reduce((a,c)=>a+o.encode(c,r,n+a),0);return this.count instanceof ExternalLayout$1&&this.count.encode(e.length,r,n),s}}class Structure$1 extends Layout$1{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,s)=>{const a=s.getSpan(e,r);return r+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let s=0,a=0;for(const c of this.fields){let m=c.span;if(a=0<m?m:0,c.property!==void 0){const gr=e[c.property];gr!==void 0&&(a=c.encode(gr,r,n),0>m&&(m=c.getSpan(r,n)))}s=n,n+=m}return s+a-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class UnionDiscriminator{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(e,r){if(!(e instanceof ExternalLayout$1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class Union extends Layout$1{constructor(e,r,n){const o=e instanceof UInt$1||e instanceof UIntBE;if(o)e=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout$1&&e.isCount())e=new UnionLayoutDiscriminator(e);else if(!(e instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&o&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const o=this.discriminator,s=o.decode(e,r);let a=this.registry[s];if(a===void 0){let c=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[a.property]=this.defaultLayout.decode(e,r+c)}else n=a.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new VariantLayout(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r){let n=e;return Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class VariantLayout extends Layout$1{constructor(e,r,n,o){if(!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),s+=this.layout.getSpan(r,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function fixBitwiseResult(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout$1{constructor(e,r,n){if(!(e instanceof UInt$1||e instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let o=0;this._packedSetValue=function(s){return o=fixBitwiseResult(s),this},this._packedGetValue=function(){return o}}decode(e,r){const n=this.makeDestinationObject();r===void 0&&(r=0);const o=this.word.decode(e,r);this._packedSetValue(o);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(o));return n}encode(e,r,n){n===void 0&&(n=0);const o=this.word.decode(r,n);this._packedSetValue(o);for(const s of this.fields)if(s.property!==void 0){const a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new BitField(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new Boolean$1(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}class BitField{constructor(e,r,n){if(!(e instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const o=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(r+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-r),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=n}decode(){const e=this.container._packedGetValue();return fixBitwiseResult(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(r&~this.wordMask)|n)}}class Boolean$1 extends BitField{constructor(e,r){super(e,1,r)}decode(e,r){return!!BitField.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),BitField.prototype.encode.call(this,e)}}class Blob$2 extends Layout$1{constructor(e,r){if(!(e instanceof ExternalLayout$1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout$1||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout$1&&(o=e.length),!(Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(o,r,n),o}}class CString extends Layout$1{constructor(e){super(-1,e)}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let o=this.getSpan(e,r);return e.slice(r,r+o-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const o=new Buffer(e,"utf8"),s=o.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(r,n),r[n+s]=0,s+1}}class UTF8 extends Layout$1{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let o=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+o).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const o=new Buffer(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(r,n),s}}class Constant extends Layout$1{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$2.Union=Union;Layout$2.VariantLayout=VariantLayout;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(t,e)=>new GreedyCount(t,e);Layout$2.offset=(t,e,r)=>new OffsetLayout(t,e,r);Layout$2.u8=t=>new UInt$1(1,t);Layout$2.u16=t=>new UInt$1(2,t);Layout$2.u24=t=>new UInt$1(3,t);Layout$2.u32=t=>new UInt$1(4,t);Layout$2.u40=t=>new UInt$1(5,t);Layout$2.u48=t=>new UInt$1(6,t);Layout$2.nu64=t=>new NearUInt64(t);Layout$2.u16be=t=>new UIntBE(2,t);Layout$2.u24be=t=>new UIntBE(3,t);Layout$2.u32be=t=>new UIntBE(4,t);Layout$2.u40be=t=>new UIntBE(5,t);Layout$2.u48be=t=>new UIntBE(6,t);Layout$2.nu64be=t=>new NearUInt64BE(t);Layout$2.s8=t=>new Int(1,t);Layout$2.s16=t=>new Int(2,t);Layout$2.s24=t=>new Int(3,t);Layout$2.s32=t=>new Int(4,t);Layout$2.s40=t=>new Int(5,t);Layout$2.s48=t=>new Int(6,t);Layout$2.ns64=t=>new NearInt64(t);Layout$2.s16be=t=>new IntBE(2,t);Layout$2.s24be=t=>new IntBE(3,t);Layout$2.s32be=t=>new IntBE(4,t);Layout$2.s40be=t=>new IntBE(5,t);Layout$2.s48be=t=>new IntBE(6,t);Layout$2.ns64be=t=>new NearInt64BE(t);Layout$2.f32=t=>new Float(t);Layout$2.f32be=t=>new FloatBE(t);Layout$2.f64=t=>new Double(t);Layout$2.f64be=t=>new DoubleBE(t);Layout$2.struct=(t,e,r)=>new Structure$1(t,e,r);Layout$2.bits=(t,e,r)=>new BitStructure(t,e,r);Layout$2.seq=(t,e,r)=>new Sequence(t,e,r);Layout$2.union=(t,e,r)=>new Union(t,e,r);Layout$2.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator(t,e);Layout$2.blob=(t,e)=>new Blob$2(t,e);Layout$2.cstr=t=>new CString(t);Layout$2.utf8=(t,e)=>new UTF8(t,e);Layout$2.const=(t,e)=>new Constant(t,e);const require$$0$2=getAugmentedNamespace(index_browser_esm$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const r=Layout$2,n=require$$0$2,o=e(bn.exports);var s=Layout$2;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return s.struct}});class a extends r.Layout{constructor(sn,dn,Rr){super(sn,Rr),this.blob=r.blob(sn),this.signed=dn}decode(sn,dn=0){const Rr=new o.default(this.blob.decode(sn,dn),10,"le");return this.signed?Rr.fromTwos(this.span*8).clone():Rr}encode(sn,dn,Rr=0){return this.signed&&(sn=sn.toTwos(this.span*8)),this.blob.encode(sn.toArrayLike(Buffer,"le",this.span),dn,Rr)}}function c(tn){return new a(8,!1,tn)}t.u64=c;function m(tn){return new a(8,!0,tn)}t.i64=m;function gr(tn){return new a(16,!1,tn)}t.u128=gr;function _r(tn){return new a(16,!0,tn)}t.i128=_r;class wr extends r.Layout{constructor(sn,dn,Rr,vr){super(sn.span,vr),this.layout=sn,this.decoder=dn,this.encoder=Rr}decode(sn,dn){return this.decoder(this.layout.decode(sn,dn))}encode(sn,dn,Rr){return this.layout.encode(this.encoder(sn),dn,Rr)}getSpan(sn,dn){return this.layout.getSpan(sn,dn)}}function Or(tn){return new wr(r.blob(32),sn=>new n.PublicKey(sn),sn=>sn.toBuffer(),tn)}t.publicKey=Or;class Ir extends r.Layout{constructor(sn,dn){super(-1,dn),this.layout=sn,this.discriminator=r.u8()}encode(sn,dn,Rr=0){return sn==null?this.discriminator.encode(0,dn,Rr):(this.discriminator.encode(1,dn,Rr),this.layout.encode(sn,dn,Rr+1)+1)}decode(sn,dn=0){const Rr=this.discriminator.decode(sn,dn);if(Rr===0)return null;if(Rr===1)return this.layout.decode(sn,dn+1);throw new Error("Invalid option "+this.property)}getSpan(sn,dn=0){const Rr=this.discriminator.decode(sn,dn);if(Rr===0)return 1;if(Rr===1)return this.layout.getSpan(sn,dn+1)+1;throw new Error("Invalid option "+this.property)}}function Pr(tn,sn){return new Ir(tn,sn)}t.option=Pr;function kr(tn){return new wr(r.u8(),xr,Cr,tn)}t.bool=kr;function xr(tn){if(tn===0)return!1;if(tn===1)return!0;throw new Error("Invalid bool: "+tn)}function Cr(tn){return tn?1:0}function Kr(tn,sn){const dn=r.u32("length"),Rr=r.struct([dn,r.seq(tn,r.offset(dn,-dn.span),"values")]);return new wr(Rr,({values:vr})=>vr,vr=>({values:vr}),sn)}t.vec=Kr;function Fr(tn,sn,dn){const Rr=r.struct([c("tag"),sn.replicate("data")]);function vr({tag:Tr,data:Lr}){if(!Tr.eq(tn))throw new Error("Invalid tag, expected: "+tn.toString("hex")+", got: "+Tr.toString("hex"));return Lr}return new wr(Rr,vr,Tr=>({tag:tn,data:Tr}),dn)}t.tagged=Fr;function qr(tn){const sn=r.u32("length"),dn=r.struct([sn,r.blob(r.offset(sn,-sn.span),"data")]);return new wr(dn,({data:Rr})=>Rr,Rr=>({data:Rr}),tn)}t.vecU8=qr;function Gr(tn){return new wr(qr(),sn=>sn.toString("utf-8"),sn=>Buffer.from(sn,"utf-8"),tn)}t.str=Gr;function jr(tn,sn,dn){const Rr=r.union(dn??r.u8(),sn);return tn.forEach((vr,Tr)=>Rr.addVariant(Tr,vr,vr.property)),Rr}t.rustEnum=jr;function Vr(tn,sn,dn){const Rr=r.struct([r.seq(tn,sn,"values")]);return new wr(Rr,({values:vr})=>vr,vr=>({values:vr}),dn)}t.array=Vr;class Jr extends r.Layout{constructor(sn,dn,Rr){super(sn.span+dn.span,Rr),this.keyLayout=sn,this.valueLayout=dn}decode(sn,dn){dn=dn||0;const Rr=this.keyLayout.decode(sn,dn),vr=this.valueLayout.decode(sn,dn+this.keyLayout.getSpan(sn,dn));return[Rr,vr]}encode(sn,dn,Rr){Rr=Rr||0;const vr=this.keyLayout.encode(sn[0],dn,Rr),Tr=this.valueLayout.encode(sn[1],dn,Rr+vr);return vr+Tr}getSpan(sn,dn){return this.keyLayout.getSpan(sn,dn)+this.valueLayout.getSpan(sn,dn)}}function ln(tn,sn,dn){const Rr=r.u32("length"),vr=r.struct([Rr,r.seq(new Jr(tn,sn),r.offset(Rr,-Rr.span),"values")]);return new wr(vr,({values:Tr})=>new Map(Tr),Tr=>({values:Array.from(Tr.entries())}),dn)}t.map=ln})(lib);/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(t){let e=t.length;for(;--e>=0;)t[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(t,e,r,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const d_code=t=>t<256?_dist_code[t]:_dist_code[256+(t>>>7)],put_short=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},send_bits=(t,e,r)=>{t.bi_valid>Buf_size-r?(t.bi_buf|=e<<t.bi_valid&65535,put_short(t,t.bi_buf),t.bi_buf=e>>Buf_size-t.bi_valid,t.bi_valid+=r-Buf_size):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},send_code=(t,e,r)=>{send_bits(t,r[e*2],r[e*2+1])},bi_reverse=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},bi_flush=t=>{t.bi_valid===16?(put_short(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},gen_bitlen=(t,e)=>{const r=e.dyn_tree,n=e.max_code,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,m=e.stat_desc.max_length;let gr,_r,wr,Or,Ir,Pr,kr=0;for(Or=0;Or<=MAX_BITS$1;Or++)t.bl_count[Or]=0;for(r[t.heap[t.heap_max]*2+1]=0,gr=t.heap_max+1;gr<HEAP_SIZE$1;gr++)_r=t.heap[gr],Or=r[r[_r*2+1]*2+1]+1,Or>m&&(Or=m,kr++),r[_r*2+1]=Or,!(_r>n)&&(t.bl_count[Or]++,Ir=0,_r>=c&&(Ir=a[_r-c]),Pr=r[_r*2],t.opt_len+=Pr*(Or+Ir),s&&(t.static_len+=Pr*(o[_r*2+1]+Ir)));if(kr!==0){do{for(Or=m-1;t.bl_count[Or]===0;)Or--;t.bl_count[Or]--,t.bl_count[Or+1]+=2,t.bl_count[m]--,kr-=2}while(kr>0);for(Or=m;Or!==0;Or--)for(_r=t.bl_count[Or];_r!==0;)wr=t.heap[--gr],!(wr>n)&&(r[wr*2+1]!==Or&&(t.opt_len+=(Or-r[wr*2+1])*r[wr*2],r[wr*2+1]=Or),_r--)}},gen_codes=(t,e,r)=>{const n=new Array(MAX_BITS$1+1);let o=0,s,a;for(s=1;s<=MAX_BITS$1;s++)n[s]=o=o+r[s-1]<<1;for(a=0;a<=e;a++){let c=t[a*2+1];c!==0&&(t[a*2]=bi_reverse(n[c]++,c))}},tr_static_init=()=>{let t,e,r,n,o;const s=new Array(MAX_BITS$1+1);for(r=0,n=0;n<LENGTH_CODES$1-1;n++)for(base_length[n]=r,t=0;t<1<<extra_lbits[n];t++)_length_code[r++]=n;for(_length_code[r-1]=n,o=0,n=0;n<16;n++)for(base_dist[n]=o,t=0;t<1<<extra_dbits[n];t++)_dist_code[o++]=n;for(o>>=7;n<D_CODES$1;n++)for(base_dist[n]=o<<7,t=0;t<1<<extra_dbits[n]-7;t++)_dist_code[256+o++]=n;for(e=0;e<=MAX_BITS$1;e++)s[e]=0;for(t=0;t<=143;)static_ltree[t*2+1]=8,t++,s[8]++;for(;t<=255;)static_ltree[t*2+1]=9,t++,s[9]++;for(;t<=279;)static_ltree[t*2+1]=7,t++,s[7]++;for(;t<=287;)static_ltree[t*2+1]=8,t++,s[8]++;for(gen_codes(static_ltree,L_CODES$1+1,s),t=0;t<D_CODES$1;t++)static_dtree[t*2+1]=5,static_dtree[t*2]=bi_reverse(t,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=t=>{let e;for(e=0;e<L_CODES$1;e++)t.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)t.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)t.bl_tree[e*2]=0;t.dyn_ltree[END_BLOCK*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},bi_windup=t=>{t.bi_valid>8?put_short(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},copy_block=(t,e,r,n)=>{bi_windup(t),n&&(put_short(t,r),put_short(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},smaller=(t,e,r,n)=>{const o=e*2,s=r*2;return t[o]<t[s]||t[o]===t[s]&&n[e]<=n[r]},pqdownheap=(t,e,r)=>{const n=t.heap[r];let o=r<<1;for(;o<=t.heap_len&&(o<t.heap_len&&smaller(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!smaller(e,n,t.heap[o],t.depth));)t.heap[r]=t.heap[o],r=o,o<<=1;t.heap[r]=n},compress_block=(t,e,r)=>{let n,o,s=0,a,c;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+s*2]<<8|t.pending_buf[t.d_buf+s*2+1],o=t.pending_buf[t.l_buf+s],s++,n===0?send_code(t,o,e):(a=_length_code[o],send_code(t,a+LITERALS$1+1,e),c=extra_lbits[a],c!==0&&(o-=base_length[a],send_bits(t,o,c)),n--,a=d_code(n),send_code(t,a,r),c=extra_dbits[a],c!==0&&(n-=base_dist[a],send_bits(t,n,c)));while(s<t.last_lit);send_code(t,END_BLOCK,e)},build_tree=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,c,m=-1,gr;for(t.heap_len=0,t.heap_max=HEAP_SIZE$1,a=0;a<s;a++)r[a*2]!==0?(t.heap[++t.heap_len]=m=a,t.depth[a]=0):r[a*2+1]=0;for(;t.heap_len<2;)gr=t.heap[++t.heap_len]=m<2?++m:0,r[gr*2]=1,t.depth[gr]=0,t.opt_len--,o&&(t.static_len-=n[gr*2+1]);for(e.max_code=m,a=t.heap_len>>1;a>=1;a--)pqdownheap(t,r,a);gr=s;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pqdownheap(t,r,1),c=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=c,r[gr*2]=r[a*2]+r[c*2],t.depth[gr]=(t.depth[a]>=t.depth[c]?t.depth[a]:t.depth[c])+1,r[a*2+1]=r[c*2+1]=gr,t.heap[1]=gr++,pqdownheap(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gen_bitlen(t,e),gen_codes(r,m,t.bl_count)},scan_tree=(t,e,r)=>{let n,o=-1,s,a=e[0*2+1],c=0,m=7,gr=4;for(a===0&&(m=138,gr=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)s=a,a=e[(n+1)*2+1],!(++c<m&&s===a)&&(c<gr?t.bl_tree[s*2]+=c:s!==0?(s!==o&&t.bl_tree[s*2]++,t.bl_tree[REP_3_6*2]++):c<=10?t.bl_tree[REPZ_3_10*2]++:t.bl_tree[REPZ_11_138*2]++,c=0,o=s,a===0?(m=138,gr=3):s===a?(m=6,gr=3):(m=7,gr=4))},send_tree=(t,e,r)=>{let n,o=-1,s,a=e[0*2+1],c=0,m=7,gr=4;for(a===0&&(m=138,gr=3),n=0;n<=r;n++)if(s=a,a=e[(n+1)*2+1],!(++c<m&&s===a)){if(c<gr)do send_code(t,s,t.bl_tree);while(--c!==0);else s!==0?(s!==o&&(send_code(t,s,t.bl_tree),c--),send_code(t,REP_3_6,t.bl_tree),send_bits(t,c-3,2)):c<=10?(send_code(t,REPZ_3_10,t.bl_tree),send_bits(t,c-3,3)):(send_code(t,REPZ_11_138,t.bl_tree),send_bits(t,c-11,7));c=0,o=s,a===0?(m=138,gr=3):s===a?(m=6,gr=3):(m=7,gr=4)}},build_bl_tree=t=>{let e;for(scan_tree(t,t.dyn_ltree,t.l_desc.max_code),scan_tree(t,t.dyn_dtree,t.d_desc.max_code),build_tree(t,t.bl_desc),e=BL_CODES$1-1;e>=3&&t.bl_tree[bl_order[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(t,e,r,n)=>{let o;for(send_bits(t,e-257,5),send_bits(t,r-1,5),send_bits(t,n-4,4),o=0;o<n;o++)send_bits(t,t.bl_tree[bl_order[o]*2+1],3);send_tree(t,t.dyn_ltree,e-1),send_tree(t,t.dyn_dtree,r-1)},detect_data_type=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return Z_BINARY;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(t.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=t=>{static_init_done||(tr_static_init(),static_init_done=!0),t.l_desc=new TreeDesc(t.dyn_ltree,static_l_desc),t.d_desc=new TreeDesc(t.dyn_dtree,static_d_desc),t.bl_desc=new TreeDesc(t.bl_tree,static_bl_desc),t.bi_buf=0,t.bi_valid=0,init_block(t)},_tr_stored_block$1=(t,e,r,n)=>{send_bits(t,(STORED_BLOCK<<1)+(n?1:0),3),copy_block(t,e,r,!0)},_tr_align$1=t=>{send_bits(t,STATIC_TREES<<1,3),send_code(t,END_BLOCK,static_ltree),bi_flush(t)},_tr_flush_block$1=(t,e,r,n)=>{let o,s,a=0;t.level>0?(t.strm.data_type===Z_UNKNOWN$1&&(t.strm.data_type=detect_data_type(t)),build_tree(t,t.l_desc),build_tree(t,t.d_desc),a=build_bl_tree(t),o=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=o&&(o=s)):o=s=r+5,r+4<=o&&e!==-1?_tr_stored_block$1(t,e,r,n):t.strategy===Z_FIXED$1||s===o?(send_bits(t,(STATIC_TREES<<1)+(n?1:0),3),compress_block(t,static_ltree,static_dtree)):(send_bits(t,(DYN_TREES<<1)+(n?1:0),3),send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),compress_block(t,t.dyn_ltree,t.dyn_dtree)),init_block(t),n&&bi_windup(t)},_tr_tally$1=(t,e,r)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,t.dyn_dtree[d_code(e)*2]++),t.last_lit===t.lit_bufsize-1);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(t,e,r,n)=>{let o=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do o=o+e[n++]|0,s=s+o|0;while(--a);o%=65521,s%=65521}return o|s<<16|0};var adler32_1=adler32;const makeTable=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},crcTable=new Uint32Array(makeTable()),crc32=(t,e,r,n)=>{const o=crcTable,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^o[(t^e[a])&255];return t^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(t,e)=>(t.msg=messages[e],e),rank=t=>(t<<1)-(t>4?9:0),zero=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let HASH_ZLIB=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,HASH=HASH_ZLIB;const flush_pending=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},flush_block_only=(t,e)=>{_tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,flush_pending(t.strm)},put_byte=(t,e)=>{t.pending_buf[t.pending++]=e},putShortMSB=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},read_buf=(t,e,r,n)=>{let o=t.avail_in;return o>n&&(o=n),o===0?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),r),t.state.wrap===1?t.adler=adler32_1(t.adler,e,o,r):t.state.wrap===2&&(t.adler=crc32_1(t.adler,e,o,r)),t.next_in+=o,t.total_in+=o,o)},longest_match=(t,e)=>{let r=t.max_chain_length,n=t.strstart,o,s,a=t.prev_length,c=t.nice_match;const m=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,gr=t.window,_r=t.w_mask,wr=t.prev,Or=t.strstart+MAX_MATCH;let Ir=gr[n+a-1],Pr=gr[n+a];t.prev_length>=t.good_match&&(r>>=2),c>t.lookahead&&(c=t.lookahead);do if(o=e,!(gr[o+a]!==Pr||gr[o+a-1]!==Ir||gr[o]!==gr[n]||gr[++o]!==gr[n+1])){n+=2,o++;do;while(gr[++n]===gr[++o]&&gr[++n]===gr[++o]&&gr[++n]===gr[++o]&&gr[++n]===gr[++o]&&gr[++n]===gr[++o]&&gr[++n]===gr[++o]&&gr[++n]===gr[++o]&&gr[++n]===gr[++o]&&n<Or);if(s=MAX_MATCH-(Or-n),n=Or-MAX_MATCH,s>a){if(t.match_start=e,a=s,s>=c)break;Ir=gr[n+a-1],Pr=gr[n+a]}}while((e=wr[e&_r])>m&&--r!==0);return a<=t.lookahead?a:t.lookahead},fill_window=t=>{const e=t.w_size;let r,n,o,s,a;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-MIN_LOOKAHEAD)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do o=t.head[--r],t.head[r]=o>=e?o-e:0;while(--n);n=e,r=n;do o=t.prev[--r],t.prev[r]=o>=e?o-e:0;while(--n);s+=e}if(t.strm.avail_in===0)break;if(n=read_buf(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=MIN_MATCH)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=HASH(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=HASH(t,t.ins_h,t.window[a+MIN_MATCH-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&t.strm.avail_in!==0)},deflate_stored=(t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(fill_window(t),t.lookahead===0&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,flush_block_only(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-MIN_LOOKAHEAD&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(t.strstart>t.block_start&&(flush_block_only(t,!1),t.strm.avail_out===0),BS_NEED_MORE)},deflate_fast=(t,e)=>{let r,n;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r)),t.match_length>=MIN_MATCH)if(n=_tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do t.strstart++,t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+1]);else n=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(t,e)=>{let r,n,o;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-MIN_MATCH,n=_tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}else if(t.match_available){if(n=_tr_tally(t,0,t.window[t.strstart-1]),n&&flush_block_only(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=_tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(t,e)=>{let r,n,o,s;const a=t.window;for(;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(o=t.strstart-1,n=a[o],n===a[++o]&&n===a[++o]&&n===a[++o])){s=t.strstart+MAX_MATCH;do;while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<s);t.match_length=MAX_MATCH-(s-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(r=_tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(fill_window(t),t.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(t.match_length=0,r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(t,e,r,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=o}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=t=>{t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateResetKeep=t=>{if(!t||!t.state)return err(t,Z_STREAM_ERROR$2);t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE:BUSY_STATE,t.adler=e.wrap===2?0:1,e.last_flush=Z_NO_FLUSH$2,_tr_init(e),Z_OK$3},deflateReset=t=>{const e=deflateResetKeep(t);return e===Z_OK$3&&lm_init(t.state),e},deflateSetHeader=(t,e)=>!t||!t.state||t.state.wrap!==2?Z_STREAM_ERROR$2:(t.state.gzhead=e,Z_OK$3),deflateInit2=(t,e,r,n,o,s)=>{if(!t)return Z_STREAM_ERROR$2;let a=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||n<8||n>15||e<0||e>9||s<0||s>Z_FIXED)return err(t,Z_STREAM_ERROR$2);n===8&&(n=9);const c=new DeflateState;return t.state=c,c.strm=t,c.wrap=a,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+MIN_MATCH-1)/MIN_MATCH),c.window=new Uint8Array(c.w_size*2),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new Uint8Array(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=(1+2)*c.lit_bufsize,c.level=e,c.strategy=s,c.method=r,deflateReset(t)},deflateInit=(t,e)=>deflateInit2(t,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(t,e)=>{let r,n;if(!t||!t.state||e>Z_BLOCK$1||e<0)return t?err(t,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const o=t.state;if(!t.output||!t.input&&t.avail_in!==0||o.status===FINISH_STATE&&e!==Z_FINISH$3)return err(t,t.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);o.strm=t;const s=o.last_flush;if(o.last_flush=e,o.status===INIT_STATE)if(o.wrap===2)t.adler=0,put_byte(o,31),put_byte(o,139),put_byte(o,8),o.gzhead?(put_byte(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),put_byte(o,o.gzhead.time&255),put_byte(o,o.gzhead.time>>8&255),put_byte(o,o.gzhead.time>>16&255),put_byte(o,o.gzhead.time>>24&255),put_byte(o,o.level===9?2:o.strategy>=Z_HUFFMAN_ONLY||o.level<2?4:0),put_byte(o,o.gzhead.os&255),o.gzhead.extra&&o.gzhead.extra.length&&(put_byte(o,o.gzhead.extra.length&255),put_byte(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=EXTRA_STATE):(put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,o.level===9?2:o.strategy>=Z_HUFFMAN_ONLY||o.level<2?4:0),put_byte(o,OS_CODE),o.status=BUSY_STATE);else{let a=Z_DEFLATED$2+(o.w_bits-8<<4)<<8,c=-1;o.strategy>=Z_HUFFMAN_ONLY||o.level<2?c=0:o.level<6?c=1:o.level===6?c=2:c=3,a|=c<<6,o.strstart!==0&&(a|=PRESET_DICT),a+=31-a%31,o.status=BUSY_STATE,putShortMSB(o,a),o.strstart!==0&&(putShortMSB(o,t.adler>>>16),putShortMSB(o,t.adler&65535)),t.adler=1}if(o.status===EXTRA_STATE)if(o.gzhead.extra){for(r=o.pending;o.gzindex<(o.gzhead.extra.length&65535)&&!(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>r&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-r,r)),flush_pending(t),r=o.pending,o.pending===o.pending_buf_size));)put_byte(o,o.gzhead.extra[o.gzindex]&255),o.gzindex++;o.gzhead.hcrc&&o.pending>r&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-r,r)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=NAME_STATE)}else o.status=NAME_STATE;if(o.status===NAME_STATE)if(o.gzhead.name){r=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>r&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-r,r)),flush_pending(t),r=o.pending,o.pending===o.pending_buf_size)){n=1;break}o.gzindex<o.gzhead.name.length?n=o.gzhead.name.charCodeAt(o.gzindex++)&255:n=0,put_byte(o,n)}while(n!==0);o.gzhead.hcrc&&o.pending>r&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-r,r)),n===0&&(o.gzindex=0,o.status=COMMENT_STATE)}else o.status=COMMENT_STATE;if(o.status===COMMENT_STATE)if(o.gzhead.comment){r=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>r&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-r,r)),flush_pending(t),r=o.pending,o.pending===o.pending_buf_size)){n=1;break}o.gzindex<o.gzhead.comment.length?n=o.gzhead.comment.charCodeAt(o.gzindex++)&255:n=0,put_byte(o,n)}while(n!==0);o.gzhead.hcrc&&o.pending>r&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-r,r)),n===0&&(o.status=HCRC_STATE)}else o.status=HCRC_STATE;if(o.status===HCRC_STATE&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&flush_pending(t),o.pending+2<=o.pending_buf_size&&(put_byte(o,t.adler&255),put_byte(o,t.adler>>8&255),t.adler=0,o.status=BUSY_STATE)):o.status=BUSY_STATE),o.pending!==0){if(flush_pending(t),t.avail_out===0)return o.last_flush=-1,Z_OK$3}else if(t.avail_in===0&&rank(e)<=rank(s)&&e!==Z_FINISH$3)return err(t,Z_BUF_ERROR$1);if(o.status===FINISH_STATE&&t.avail_in!==0)return err(t,Z_BUF_ERROR$1);if(t.avail_in!==0||o.lookahead!==0||e!==Z_NO_FLUSH$2&&o.status!==FINISH_STATE){let a=o.strategy===Z_HUFFMAN_ONLY?deflate_huff(o,e):o.strategy===Z_RLE?deflate_rle(o,e):configuration_table[o.level].func(o,e);if((a===BS_FINISH_STARTED||a===BS_FINISH_DONE)&&(o.status=FINISH_STATE),a===BS_NEED_MORE||a===BS_FINISH_STARTED)return t.avail_out===0&&(o.last_flush=-1),Z_OK$3;if(a===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(o):e!==Z_BLOCK$1&&(_tr_stored_block(o,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),flush_pending(t),t.avail_out===0))return o.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:o.wrap<=0?Z_STREAM_END$3:(o.wrap===2?(put_byte(o,t.adler&255),put_byte(o,t.adler>>8&255),put_byte(o,t.adler>>16&255),put_byte(o,t.adler>>24&255),put_byte(o,t.total_in&255),put_byte(o,t.total_in>>8&255),put_byte(o,t.total_in>>16&255),put_byte(o,t.total_in>>24&255)):(putShortMSB(o,t.adler>>>16),putShortMSB(o,t.adler&65535)),flush_pending(t),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=t=>{if(!t||!t.state)return Z_STREAM_ERROR$2;const e=t.state.status;return e!==INIT_STATE&&e!==EXTRA_STATE&&e!==NAME_STATE&&e!==COMMENT_STATE&&e!==HCRC_STATE&&e!==BUSY_STATE&&e!==FINISH_STATE?err(t,Z_STREAM_ERROR$2):(t.state=null,e===BUSY_STATE?err(t,Z_DATA_ERROR$2):Z_OK$3)},deflateSetDictionary=(t,e)=>{let r=e.length;if(!t||!t.state)return Z_STREAM_ERROR$2;const n=t.state,o=n.wrap;if(o===2||o===1&&n.status!==INIT_STATE||n.lookahead)return Z_STREAM_ERROR$2;if(o===1&&(t.adler=adler32_1(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){o===0&&(zero(n.head),n.strstart=0,n.block_start=0,n.insert=0);let m=new Uint8Array(n.w_size);m.set(e.subarray(r-n.w_size,r),0),e=m,r=n.w_size}const s=t.avail_in,a=t.next_in,c=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,fill_window(n);n.lookahead>=MIN_MATCH;){let m=n.strstart,gr=n.lookahead-(MIN_MATCH-1);do n.ins_h=HASH(n,n.ins_h,n.window[m+MIN_MATCH-1]),n.prev[m&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=m,m++;while(--gr);n.strstart=m,n.lookahead=MIN_MATCH-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,t.next_in=a,t.input=c,t.avail_in=s,n.wrap=o,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var assign$1=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(!!r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)_has(r,n)&&(t[n]=r[n])}}return t},flattenChunks=t=>{let e=0;for(let n=0,o=t.length;n<o;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,o=0,s=t.length;n<s;n++){let a=t[n];r.set(a,o),o+=a.length}return r},common={assign:assign$1,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let t=0;t<256;t++)_utf8len[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,o,s,a=t.length,c=0;for(o=0;o<a;o++)r=t.charCodeAt(o),(r&64512)===55296&&o+1<a&&(n=t.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(c),s=0,o=0;s<c;o++)r=t.charCodeAt(o),(r&64512)===55296&&o+1<a&&(n=t.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const buf2binstring=(t,e)=>{if(e<65534&&t.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var buf2string=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,o;const s=new Array(r*2);for(o=0,n=0;n<r;){let a=t[n++];if(a<128){s[o++]=a;continue}let c=_utf8len[a];if(c>4){s[o++]=65533,n+=c-1;continue}for(a&=c===2?31:c===3?15:7;c>1&&n<r;)a=a<<6|t[n++]&63,c--;if(c>1){s[o++]=65533;continue}a<65536?s[o++]=a:(a-=65536,s[o++]=55296|a>>10&1023,s[o++]=56320|a&1023)}return buf2binstring(s,o)},utf8border=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+_utf8len[t[r]]>e?r:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(t){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Z_OK$2)throw new Error(messages[r]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=strings.string2buf(e.dictionary):toString$1.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=deflate_1$2.deflateSetDictionary(this.strm,n),r!==Z_OK$2)throw new Error(messages[r]);this._dict_set=!0}}Deflate$1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let o,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof t=="string"?r.input=strings.string2buf(t):toString$1.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===Z_SYNC_FLUSH||s===Z_FULL_FLUSH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(o=deflate_1$2.deflate(r,s),o===Z_STREAM_END$2)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),o=deflate_1$2.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Z_OK$2;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(t){this.chunks.push(t)};Deflate$1.prototype.onEnd=function(t){t===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const BAD$1=30,TYPE$1=12;var inffast=function t(e,r){let n,o,s,a,c,m,gr,_r,wr,Or,Ir,Pr,kr,xr,Cr,Kr,Fr,qr,Gr,jr,Vr,Jr,ln,tn;const sn=e.state;n=e.next_in,ln=e.input,o=n+(e.avail_in-5),s=e.next_out,tn=e.output,a=s-(r-e.avail_out),c=s+(e.avail_out-257),m=sn.dmax,gr=sn.wsize,_r=sn.whave,wr=sn.wnext,Or=sn.window,Ir=sn.hold,Pr=sn.bits,kr=sn.lencode,xr=sn.distcode,Cr=(1<<sn.lenbits)-1,Kr=(1<<sn.distbits)-1;e:do{Pr<15&&(Ir+=ln[n++]<<Pr,Pr+=8,Ir+=ln[n++]<<Pr,Pr+=8),Fr=kr[Ir&Cr];t:for(;;){if(qr=Fr>>>24,Ir>>>=qr,Pr-=qr,qr=Fr>>>16&255,qr===0)tn[s++]=Fr&65535;else if(qr&16){Gr=Fr&65535,qr&=15,qr&&(Pr<qr&&(Ir+=ln[n++]<<Pr,Pr+=8),Gr+=Ir&(1<<qr)-1,Ir>>>=qr,Pr-=qr),Pr<15&&(Ir+=ln[n++]<<Pr,Pr+=8,Ir+=ln[n++]<<Pr,Pr+=8),Fr=xr[Ir&Kr];r:for(;;){if(qr=Fr>>>24,Ir>>>=qr,Pr-=qr,qr=Fr>>>16&255,qr&16){if(jr=Fr&65535,qr&=15,Pr<qr&&(Ir+=ln[n++]<<Pr,Pr+=8,Pr<qr&&(Ir+=ln[n++]<<Pr,Pr+=8)),jr+=Ir&(1<<qr)-1,jr>m){e.msg="invalid distance too far back",sn.mode=BAD$1;break e}if(Ir>>>=qr,Pr-=qr,qr=s-a,jr>qr){if(qr=jr-qr,qr>_r&&sn.sane){e.msg="invalid distance too far back",sn.mode=BAD$1;break e}if(Vr=0,Jr=Or,wr===0){if(Vr+=gr-qr,qr<Gr){Gr-=qr;do tn[s++]=Or[Vr++];while(--qr);Vr=s-jr,Jr=tn}}else if(wr<qr){if(Vr+=gr+wr-qr,qr-=wr,qr<Gr){Gr-=qr;do tn[s++]=Or[Vr++];while(--qr);if(Vr=0,wr<Gr){qr=wr,Gr-=qr;do tn[s++]=Or[Vr++];while(--qr);Vr=s-jr,Jr=tn}}}else if(Vr+=wr-qr,qr<Gr){Gr-=qr;do tn[s++]=Or[Vr++];while(--qr);Vr=s-jr,Jr=tn}for(;Gr>2;)tn[s++]=Jr[Vr++],tn[s++]=Jr[Vr++],tn[s++]=Jr[Vr++],Gr-=3;Gr&&(tn[s++]=Jr[Vr++],Gr>1&&(tn[s++]=Jr[Vr++]))}else{Vr=s-jr;do tn[s++]=tn[Vr++],tn[s++]=tn[Vr++],tn[s++]=tn[Vr++],Gr-=3;while(Gr>2);Gr&&(tn[s++]=tn[Vr++],Gr>1&&(tn[s++]=tn[Vr++]))}}else if((qr&64)===0){Fr=xr[(Fr&65535)+(Ir&(1<<qr)-1)];continue r}else{e.msg="invalid distance code",sn.mode=BAD$1;break e}break}}else if((qr&64)===0){Fr=kr[(Fr&65535)+(Ir&(1<<qr)-1)];continue t}else if(qr&32){sn.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",sn.mode=BAD$1;break e}break}}while(n<o&&s<c);Gr=Pr>>3,n-=Gr,Pr-=Gr<<3,Ir&=(1<<Pr)-1,e.next_in=n,e.next_out=s,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=s<c?257+(c-s):257-(s-c),sn.hold=Ir,sn.bits=Pr};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(t,e,r,n,o,s,a,c)=>{const m=c.bits;let gr=0,_r=0,wr=0,Or=0,Ir=0,Pr=0,kr=0,xr=0,Cr=0,Kr=0,Fr,qr,Gr,jr,Vr,Jr=null,ln=0,tn;const sn=new Uint16Array(MAXBITS+1),dn=new Uint16Array(MAXBITS+1);let Rr=null,vr=0,Tr,Lr,Ur;for(gr=0;gr<=MAXBITS;gr++)sn[gr]=0;for(_r=0;_r<n;_r++)sn[e[r+_r]]++;for(Ir=m,Or=MAXBITS;Or>=1&&sn[Or]===0;Or--);if(Ir>Or&&(Ir=Or),Or===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,c.bits=1,0;for(wr=1;wr<Or&&sn[wr]===0;wr++);for(Ir<wr&&(Ir=wr),xr=1,gr=1;gr<=MAXBITS;gr++)if(xr<<=1,xr-=sn[gr],xr<0)return-1;if(xr>0&&(t===CODES$1||Or!==1))return-1;for(dn[1]=0,gr=1;gr<MAXBITS;gr++)dn[gr+1]=dn[gr]+sn[gr];for(_r=0;_r<n;_r++)e[r+_r]!==0&&(a[dn[e[r+_r]]++]=_r);if(t===CODES$1?(Jr=Rr=a,tn=19):t===LENS$1?(Jr=lbase,ln-=257,Rr=lext,vr-=257,tn=256):(Jr=dbase,Rr=dext,tn=-1),Kr=0,_r=0,gr=wr,Vr=s,Pr=Ir,kr=0,Gr=-1,Cr=1<<Ir,jr=Cr-1,t===LENS$1&&Cr>ENOUGH_LENS$1||t===DISTS$1&&Cr>ENOUGH_DISTS$1)return 1;for(;;){Tr=gr-kr,a[_r]<tn?(Lr=0,Ur=a[_r]):a[_r]>tn?(Lr=Rr[vr+a[_r]],Ur=Jr[ln+a[_r]]):(Lr=32+64,Ur=0),Fr=1<<gr-kr,qr=1<<Pr,wr=qr;do qr-=Fr,o[Vr+(Kr>>kr)+qr]=Tr<<24|Lr<<16|Ur|0;while(qr!==0);for(Fr=1<<gr-1;Kr&Fr;)Fr>>=1;if(Fr!==0?(Kr&=Fr-1,Kr+=Fr):Kr=0,_r++,--sn[gr]===0){if(gr===Or)break;gr=e[r+a[_r]]}if(gr>Ir&&(Kr&jr)!==Gr){for(kr===0&&(kr=Ir),Vr+=wr,Pr=gr-kr,xr=1<<Pr;Pr+kr<Or&&(xr-=sn[Pr+kr],!(xr<=0));)Pr++,xr<<=1;if(Cr+=1<<Pr,t===LENS$1&&Cr>ENOUGH_LENS$1||t===DISTS$1&&Cr>ENOUGH_DISTS$1)return 1;Gr=Kr&jr,o[Gr]=Ir<<24|Pr<<16|Vr-s|0}}return Kr!==0&&(o[Vr+Kr]=gr-kr<<24|64<<16|0),c.bits=Ir,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateResetKeep=t=>{if(!t||!t.state)return Z_STREAM_ERROR$1;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=t=>{if(!t||!t.state)return Z_STREAM_ERROR$1;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(t)},inflateReset2=(t,e)=>{let r;if(!t||!t.state)return Z_STREAM_ERROR$1;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,inflateReset(t))},inflateInit2=(t,e)=>{if(!t)return Z_STREAM_ERROR$1;const r=new InflateState;t.state=r,r.window=null;const n=inflateReset2(t,e);return n!==Z_OK$1&&(t.state=null),n},inflateInit=t=>inflateInit2(t,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=t=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(inftrees(LENS,t.lens,0,288,lenfix,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;inftrees(DISTS,t.lens,0,32,distfix,0,t.work,{bits:5}),virgin=!1}t.lencode=lenfix,t.lenbits=9,t.distcode=distfix,t.distbits=5},updatewindow=(t,e,r,n)=>{let o;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>n&&(o=n),s.window.set(e.subarray(r-n,r-n+o),s.wnext),n-=o,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0},inflate$2=(t,e)=>{let r,n,o,s,a,c,m,gr,_r,wr,Or,Ir,Pr,kr,xr=0,Cr,Kr,Fr,qr,Gr,jr,Vr,Jr;const ln=new Uint8Array(4);let tn,sn;const dn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Z_STREAM_ERROR$1;r=t.state,r.mode===TYPE&&(r.mode=TYPEDO),a=t.next_out,o=t.output,m=t.avail_out,s=t.next_in,n=t.input,c=t.avail_in,gr=r.hold,_r=r.bits,wr=c,Or=m,Jr=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;_r<16;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if(r.wrap&2&&gr===35615){r.check=0,ln[0]=gr&255,ln[1]=gr>>>8&255,r.check=crc32_1(r.check,ln,2,0),gr=0,_r=0,r.mode=FLAGS;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((gr&255)<<8)+(gr>>8))%31){t.msg="incorrect header check",r.mode=BAD;break}if((gr&15)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(gr>>>=4,_r-=4,Vr=(gr&15)+8,r.wbits===0)r.wbits=Vr;else if(Vr>r.wbits){t.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=gr&512?DICTID:TYPE,gr=0,_r=0;break;case FLAGS:for(;_r<16;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if(r.flags=gr,(r.flags&255)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=gr>>8&1),r.flags&512&&(ln[0]=gr&255,ln[1]=gr>>>8&255,r.check=crc32_1(r.check,ln,2,0)),gr=0,_r=0,r.mode=TIME;case TIME:for(;_r<32;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}r.head&&(r.head.time=gr),r.flags&512&&(ln[0]=gr&255,ln[1]=gr>>>8&255,ln[2]=gr>>>16&255,ln[3]=gr>>>24&255,r.check=crc32_1(r.check,ln,4,0)),gr=0,_r=0,r.mode=OS;case OS:for(;_r<16;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}r.head&&(r.head.xflags=gr&255,r.head.os=gr>>8),r.flags&512&&(ln[0]=gr&255,ln[1]=gr>>>8&255,r.check=crc32_1(r.check,ln,2,0)),gr=0,_r=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;_r<16;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}r.length=gr,r.head&&(r.head.extra_len=gr),r.flags&512&&(ln[0]=gr&255,ln[1]=gr>>>8&255,r.check=crc32_1(r.check,ln,2,0)),gr=0,_r=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(Ir=r.length,Ir>c&&(Ir=c),Ir&&(r.head&&(Vr=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+Ir),Vr)),r.flags&512&&(r.check=crc32_1(r.check,n,Ir,s)),c-=Ir,s+=Ir,r.length-=Ir),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(c===0)break e;Ir=0;do Vr=n[s+Ir++],r.head&&Vr&&r.length<65536&&(r.head.name+=String.fromCharCode(Vr));while(Vr&&Ir<c);if(r.flags&512&&(r.check=crc32_1(r.check,n,Ir,s)),c-=Ir,s+=Ir,Vr)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(c===0)break e;Ir=0;do Vr=n[s+Ir++],r.head&&Vr&&r.length<65536&&(r.head.comment+=String.fromCharCode(Vr));while(Vr&&Ir<c);if(r.flags&512&&(r.check=crc32_1(r.check,n,Ir,s)),c-=Ir,s+=Ir,Vr)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;_r<16;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if(gr!==(r.check&65535)){t.msg="header crc mismatch",r.mode=BAD;break}gr=0,_r=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;_r<32;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}t.adler=r.check=zswap32(gr),gr=0,_r=0,r.mode=DICT;case DICT:if(r.havedict===0)return t.next_out=a,t.avail_out=m,t.next_in=s,t.avail_in=c,r.hold=gr,r.bits=_r,Z_NEED_DICT$1;t.adler=r.check=1,r.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(r.last){gr>>>=_r&7,_r-=_r&7,r.mode=CHECK;break}for(;_r<3;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}switch(r.last=gr&1,gr>>>=1,_r-=1,gr&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,e===Z_TREES){gr>>>=2,_r-=2;break e}break;case 2:r.mode=TABLE;break;case 3:t.msg="invalid block type",r.mode=BAD}gr>>>=2,_r-=2;break;case STORED:for(gr>>>=_r&7,_r-=_r&7;_r<32;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if((gr&65535)!==(gr>>>16^65535)){t.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=gr&65535,gr=0,_r=0,r.mode=COPY_,e===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(Ir=r.length,Ir){if(Ir>c&&(Ir=c),Ir>m&&(Ir=m),Ir===0)break e;o.set(n.subarray(s,s+Ir),a),c-=Ir,s+=Ir,m-=Ir,a+=Ir,r.length-=Ir;break}r.mode=TYPE;break;case TABLE:for(;_r<14;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if(r.nlen=(gr&31)+257,gr>>>=5,_r-=5,r.ndist=(gr&31)+1,gr>>>=5,_r-=5,r.ncode=(gr&15)+4,gr>>>=4,_r-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;_r<3;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}r.lens[dn[r.have++]]=gr&7,gr>>>=3,_r-=3}for(;r.have<19;)r.lens[dn[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,tn={bits:r.lenbits},Jr=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,tn),r.lenbits=tn.bits,Jr){t.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;xr=r.lencode[gr&(1<<r.lenbits)-1],Cr=xr>>>24,Kr=xr>>>16&255,Fr=xr&65535,!(Cr<=_r);){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if(Fr<16)gr>>>=Cr,_r-=Cr,r.lens[r.have++]=Fr;else{if(Fr===16){for(sn=Cr+2;_r<sn;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if(gr>>>=Cr,_r-=Cr,r.have===0){t.msg="invalid bit length repeat",r.mode=BAD;break}Vr=r.lens[r.have-1],Ir=3+(gr&3),gr>>>=2,_r-=2}else if(Fr===17){for(sn=Cr+3;_r<sn;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}gr>>>=Cr,_r-=Cr,Vr=0,Ir=3+(gr&7),gr>>>=3,_r-=3}else{for(sn=Cr+7;_r<sn;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}gr>>>=Cr,_r-=Cr,Vr=0,Ir=11+(gr&127),gr>>>=7,_r-=7}if(r.have+Ir>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=BAD;break}for(;Ir--;)r.lens[r.have++]=Vr}}if(r.mode===BAD)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,tn={bits:r.lenbits},Jr=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,tn),r.lenbits=tn.bits,Jr){t.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,tn={bits:r.distbits},Jr=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,tn),r.distbits=tn.bits,Jr){t.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,e===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(c>=6&&m>=258){t.next_out=a,t.avail_out=m,t.next_in=s,t.avail_in=c,r.hold=gr,r.bits=_r,inffast(t,Or),a=t.next_out,o=t.output,m=t.avail_out,s=t.next_in,n=t.input,c=t.avail_in,gr=r.hold,_r=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;xr=r.lencode[gr&(1<<r.lenbits)-1],Cr=xr>>>24,Kr=xr>>>16&255,Fr=xr&65535,!(Cr<=_r);){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if(Kr&&(Kr&240)===0){for(qr=Cr,Gr=Kr,jr=Fr;xr=r.lencode[jr+((gr&(1<<qr+Gr)-1)>>qr)],Cr=xr>>>24,Kr=xr>>>16&255,Fr=xr&65535,!(qr+Cr<=_r);){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}gr>>>=qr,_r-=qr,r.back+=qr}if(gr>>>=Cr,_r-=Cr,r.back+=Cr,r.length=Fr,Kr===0){r.mode=LIT;break}if(Kr&32){r.back=-1,r.mode=TYPE;break}if(Kr&64){t.msg="invalid literal/length code",r.mode=BAD;break}r.extra=Kr&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(sn=r.extra;_r<sn;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}r.length+=gr&(1<<r.extra)-1,gr>>>=r.extra,_r-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;xr=r.distcode[gr&(1<<r.distbits)-1],Cr=xr>>>24,Kr=xr>>>16&255,Fr=xr&65535,!(Cr<=_r);){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if((Kr&240)===0){for(qr=Cr,Gr=Kr,jr=Fr;xr=r.distcode[jr+((gr&(1<<qr+Gr)-1)>>qr)],Cr=xr>>>24,Kr=xr>>>16&255,Fr=xr&65535,!(qr+Cr<=_r);){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}gr>>>=qr,_r-=qr,r.back+=qr}if(gr>>>=Cr,_r-=Cr,r.back+=Cr,Kr&64){t.msg="invalid distance code",r.mode=BAD;break}r.offset=Fr,r.extra=Kr&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(sn=r.extra;_r<sn;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}r.offset+=gr&(1<<r.extra)-1,gr>>>=r.extra,_r-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(m===0)break e;if(Ir=Or-m,r.offset>Ir){if(Ir=r.offset-Ir,Ir>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=BAD;break}Ir>r.wnext?(Ir-=r.wnext,Pr=r.wsize-Ir):Pr=r.wnext-Ir,Ir>r.length&&(Ir=r.length),kr=r.window}else kr=o,Pr=a-r.offset,Ir=r.length;Ir>m&&(Ir=m),m-=Ir,r.length-=Ir;do o[a++]=kr[Pr++];while(--Ir);r.length===0&&(r.mode=LEN);break;case LIT:if(m===0)break e;o[a++]=r.length,m--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;_r<32;){if(c===0)break e;c--,gr|=n[s++]<<_r,_r+=8}if(Or-=m,t.total_out+=Or,r.total+=Or,Or&&(t.adler=r.check=r.flags?crc32_1(r.check,o,Or,a-Or):adler32_1(r.check,o,Or,a-Or)),Or=m,(r.flags?gr:zswap32(gr))!==r.check){t.msg="incorrect data check",r.mode=BAD;break}gr=0,_r=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;_r<32;){if(c===0)break e;c--,gr+=n[s++]<<_r,_r+=8}if(gr!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=BAD;break}gr=0,_r=0}r.mode=DONE;case DONE:Jr=Z_STREAM_END$1;break e;case BAD:Jr=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return t.next_out=a,t.avail_out=m,t.next_in=s,t.avail_in=c,r.hold=gr,r.bits=_r,(r.wsize||Or!==t.avail_out&&r.mode<BAD&&(r.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(t,t.output,t.next_out,Or-t.avail_out),wr-=t.avail_in,Or-=t.avail_out,t.total_in+=wr,t.total_out+=Or,r.total+=Or,r.wrap&&Or&&(t.adler=r.check=r.flags?crc32_1(r.check,o,Or,t.next_out-Or):adler32_1(r.check,o,Or,t.next_out-Or)),t.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(wr===0&&Or===0||e===Z_FINISH$1)&&Jr===Z_OK$1&&(Jr=Z_BUF_ERROR),Jr},inflateEnd=t=>{if(!t||!t.state)return Z_STREAM_ERROR$1;let e=t.state;return e.window&&(e.window=null),t.state=null,Z_OK$1},inflateGetHeader=(t,e)=>{if(!t||!t.state)return Z_STREAM_ERROR$1;const r=t.state;return(r.wrap&2)===0?Z_STREAM_ERROR$1:(r.head=e,e.done=!1,Z_OK$1)},inflateSetDictionary=(t,e)=>{const r=e.length;let n,o,s;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==DICT)?Z_STREAM_ERROR$1:n.mode===DICT&&(o=1,o=adler32_1(o,e,r,0),o!==n.check)?Z_DATA_ERROR$1:(s=updatewindow(t,e,r,r),s?(n.mode=MEM,Z_MEM_ERROR$1):(n.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(t){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(r!==Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString$2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),r!==Z_OK)))throw new Error(messages[r])}Inflate$1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let s,a,c;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=inflate_1$2.inflate(r,a),s===Z_NEED_DICT&&o&&(s=inflate_1$2.inflateSetDictionary(r,o),s===Z_OK?s=inflate_1$2.inflate(r,a):s===Z_DATA_ERROR&&(s=Z_NEED_DICT));r.avail_in>0&&s===Z_STREAM_END&&r.state.wrap>0&&t[r.next_in]!==0;)inflate_1$2.inflateReset(r),s=inflate_1$2.inflate(r,a);switch(s){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(s),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||s===Z_STREAM_END))if(this.options.to==="string"){let m=strings.utf8border(r.output,r.next_out),gr=r.next_out-m,_r=strings.buf2string(r.output,m);r.next_out=gr,r.avail_out=n-gr,gr&&r.output.set(r.output.subarray(m,m+gr),0),this.onData(_r)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Z_OK&&c===0)){if(s===Z_STREAM_END)return s=inflate_1$2.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(t){this.chunks.push(t)};Inflate$1.prototype.onEnd=function(t){t===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function inflate$1(t,e){const r=new Inflate$1(e);if(r.push(t),r.err)throw r.msg||messages[r.err];return r.result}function inflateRaw$1(t,e){return e=e||{},e.raw=!0,inflate$1(t,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate,assert$1={exports:{}},errors={},util$1={},types$3={},shams$1=function t(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0},hasSymbols$1=shams$1,shams=function t(){return hasSymbols$1()&&!!Symbol.toStringTag},hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var t=typeof Symbol<"u"&&Symbol,e=shams$1;return hasSymbols=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols}var implementation$3,hasRequiredImplementation$3;function requireImplementation$3(){if(hasRequiredImplementation$3)return implementation$3;hasRequiredImplementation$3=1;var t="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,r=Object.prototype.toString,n="[object Function]";return implementation$3=function(s){var a=this;if(typeof a!="function"||r.call(a)!==n)throw new TypeError(t+a);for(var c=e.call(arguments,1),m,gr=function(){if(this instanceof m){var Pr=a.apply(this,c.concat(e.call(arguments)));return Object(Pr)===Pr?Pr:this}else return a.apply(s,c.concat(e.call(arguments)))},_r=Math.max(0,a.length-c.length),wr=[],Or=0;Or<_r;Or++)wr.push("$"+Or);if(m=Function("binder","return function ("+wr.join(",")+"){ return binder.apply(this,arguments); }")(gr),a.prototype){var Ir=function(){};Ir.prototype=a.prototype,m.prototype=new Ir,Ir.prototype=null}return m},implementation$3}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var t=requireImplementation$3();return functionBind=Function.prototype.bind||t,functionBind}var src,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;var t=requireFunctionBind();return src=t.call(Function.call,Object.prototype.hasOwnProperty),src}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var t,e=SyntaxError,r=Function,n=TypeError,o=function(tn){try{return r('"use strict"; return ('+tn+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var a=function(){throw new n},c=s?function(){try{return arguments.callee,a}catch{try{return s(arguments,"callee").get}catch{return a}}}():a,m=requireHasSymbols()(),gr=Object.getPrototypeOf||function(tn){return tn.__proto__},_r={},wr=typeof Uint8Array>"u"?t:gr(Uint8Array),Or={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":m?gr([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":_r,"%AsyncGenerator%":_r,"%AsyncGeneratorFunction%":_r,"%AsyncIteratorPrototype%":_r,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":_r,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m?gr(gr([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m?t:gr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m?t:gr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m?gr(""[Symbol.iterator]()):t,"%Symbol%":m?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":c,"%TypedArray%":wr,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet},Ir=function tn(sn){var dn;if(sn==="%AsyncFunction%")dn=o("async function () {}");else if(sn==="%GeneratorFunction%")dn=o("function* () {}");else if(sn==="%AsyncGeneratorFunction%")dn=o("async function* () {}");else if(sn==="%AsyncGenerator%"){var Rr=tn("%AsyncGeneratorFunction%");Rr&&(dn=Rr.prototype)}else if(sn==="%AsyncIteratorPrototype%"){var vr=tn("%AsyncGenerator%");vr&&(dn=gr(vr.prototype))}return Or[sn]=dn,dn},Pr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},kr=requireFunctionBind(),xr=requireSrc(),Cr=kr.call(Function.call,Array.prototype.concat),Kr=kr.call(Function.apply,Array.prototype.splice),Fr=kr.call(Function.call,String.prototype.replace),qr=kr.call(Function.call,String.prototype.slice),Gr=kr.call(Function.call,RegExp.prototype.exec),jr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Vr=/\\(\\)?/g,Jr=function(sn){var dn=qr(sn,0,1),Rr=qr(sn,-1);if(dn==="%"&&Rr!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(Rr==="%"&&dn!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var vr=[];return Fr(sn,jr,function(Tr,Lr,Ur,Hr){vr[vr.length]=Ur?Fr(Hr,Vr,"$1"):Lr||Tr}),vr},ln=function(sn,dn){var Rr=sn,vr;if(xr(Pr,Rr)&&(vr=Pr[Rr],Rr="%"+vr[0]+"%"),xr(Or,Rr)){var Tr=Or[Rr];if(Tr===_r&&(Tr=Ir(Rr)),typeof Tr>"u"&&!dn)throw new n("intrinsic "+sn+" exists, but is not available. Please file an issue!");return{alias:vr,name:Rr,value:Tr}}throw new e("intrinsic "+sn+" does not exist!")};return getIntrinsic=function(sn,dn){if(typeof sn!="string"||sn.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof dn!="boolean")throw new n('"allowMissing" argument must be a boolean');if(Gr(/^%?[^%]*%?$/,sn)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Rr=Jr(sn),vr=Rr.length>0?Rr[0]:"",Tr=ln("%"+vr+"%",dn),Lr=Tr.name,Ur=Tr.value,Hr=!1,nn=Tr.alias;nn&&(vr=nn[0],Kr(Rr,Cr([0,1],nn)));for(var pn=1,Nr=!0;pn<Rr.length;pn+=1){var Er=Rr[pn],Mr=qr(Er,0,1),cn=qr(Er,-1);if((Mr==='"'||Mr==="'"||Mr==="`"||cn==='"'||cn==="'"||cn==="`")&&Mr!==cn)throw new e("property names with quotes must have matching quotes");if((Er==="constructor"||!Nr)&&(Hr=!0),vr+="."+Er,Lr="%"+vr+"%",xr(Or,Lr))Ur=Or[Lr];else if(Ur!=null){if(!(Er in Ur)){if(!dn)throw new n("base intrinsic for "+sn+" exists, but the property is not available.");return}if(s&&pn+1>=Rr.length){var Yr=s(Ur,Er);Nr=!!Yr,Nr&&"get"in Yr&&!("originalValue"in Yr.get)?Ur=Yr.get:Ur=Ur[Er]}else Nr=xr(Ur,Er),Ur=Ur[Er];Nr&&!Hr&&(Or[Lr]=Ur)}}return Ur},getIntrinsic}var callBind$1={exports:{}},hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(t){var e=requireFunctionBind(),r=requireGetIntrinsic(),n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),m=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(wr){var Or=s(e,o,arguments);if(a&&c){var Ir=a(Or,"length");Ir.configurable&&c(Or,"length",{value:1+m(0,wr.length-(arguments.length-1))})}return Or};var gr=function(){return s(e,n,arguments)};c?c(t.exports,"apply",{value:gr}):t.exports.apply=gr}(callBind$1)),callBind$1.exports}var GetIntrinsic=requireGetIntrinsic(),callBind=requireCallBind(),$indexOf$1=callBind(GetIntrinsic("String.prototype.indexOf")),callBound$3=function t(e,r){var n=GetIntrinsic(e,!!r);return typeof n=="function"&&$indexOf$1(e,".prototype.")>-1?callBind(n):n},hasToStringTag$4=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function t(e){return hasToStringTag$4&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$2(e)==="[object Arguments]"},isLegacyArguments=function t(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$2(e)!=="[object Array]"&&$toString$2(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$2=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function t(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$3){var r=toStr$2.call(e);return r==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var n=getGeneratorFunc();GeneratorFunction=n?getProto(n):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(t){t!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function t(e){try{var r=fnToStr.call(e);return constructorRegex.test(r)}catch{return!1}},tryFunctionObject=function t(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$1=Object.prototype.toString,fnClass="[object Function]",genClass="[object GeneratorFunction]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,isDDA=typeof document=="object"?function t(e){if(typeof e>"u"||typeof e=="object")try{return e("")===null}catch{}return!1}:function(){return!1},isCallable$1=reflectApply?function t(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{reflectApply(e,null,badArrayLike)}catch(r){if(r!==isCallableMarker)return!1}return!isES6ClassFn(e)}:function t(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(hasToStringTag$2)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var r=toStr$1.call(e);return r===fnClass||r===genClass||tryFunctionObject(e)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function t(e,r,n){for(var o=0,s=e.length;o<s;o++)hasOwnProperty$1.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},forEachString=function t(e,r,n){for(var o=0,s=e.length;o<s;o++)n==null?r(e.charAt(o),o,e):r.call(n,e.charAt(o),o,e)},forEachObject=function t(e,r,n){for(var o in e)hasOwnProperty$1.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},forEach$2=function t(e,r,n){if(!isCallable(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),toStr.call(e)==="[object Array]"?forEachArray(e,r,o):typeof e=="string"?forEachString(e,r,o):forEachObject(e,r,o)},forEach_1=forEach$2,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$3=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$2=function t(){for(var e=[],r=0;r<possibleNames.length;r++)typeof g$3[possibleNames[r]]=="function"&&(e[e.length]=possibleNames[r]);return e},getOwnPropertyDescriptor,hasRequiredGetOwnPropertyDescriptor;function requireGetOwnPropertyDescriptor(){if(hasRequiredGetOwnPropertyDescriptor)return getOwnPropertyDescriptor;hasRequiredGetOwnPropertyDescriptor=1;var t=requireGetIntrinsic(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return getOwnPropertyDescriptor=e,getOwnPropertyDescriptor}var forEach$1=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function t(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=requireGetOwnPropertyDescriptor(),getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(t){var e=new g$2[t];if(Symbol.toStringTag in e){var r=getPrototypeOf$1(e),n=gOPD$1(r,Symbol.toStringTag);if(!n){var o=getPrototypeOf$1(r);n=gOPD$1(o,Symbol.toStringTag)}toStrTags$1[t]=n.get}});var tryTypedArrays$1=function t(e){var r=!1;return forEach$1(toStrTags$1,function(n,o){if(!r)try{r=n.call(e)===o}catch{}}),r},isTypedArray$1=function t(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in e)){var r=$slice$1($toString$1(e),8,-1);return $indexOf(typedArrays$1,r)>-1}return gOPD$1?tryTypedArrays$1(e):!1},forEach=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=requireGetOwnPropertyDescriptor(),getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(t){if(typeof g$1[t]=="function"){var e=new g$1[t];if(Symbol.toStringTag in e){var r=getPrototypeOf(e),n=gOPD(r,Symbol.toStringTag);if(!n){var o=getPrototypeOf(r);n=gOPD(o,Symbol.toStringTag)}toStrTags[t]=n.get}}});var tryTypedArrays=function t(e){var r=!1;return forEach(toStrTags,function(n,o){if(!r)try{var s=n.call(e);s===o&&(r=s)}catch{}}),r},isTypedArray=isTypedArray$1,whichTypedArray=function t(e){return isTypedArray(e)?!hasToStringTag||!(Symbol.toStringTag in e)?$slice($toString(e),8,-1):tryTypedArrays(e):!1};(function(t){var e=isArguments$2,r=isGeneratorFunction,n=whichTypedArray,o=isTypedArray$1;function s(mn){return mn.call.bind(mn)}var a=typeof BigInt<"u",c=typeof Symbol<"u",m=s(Object.prototype.toString),gr=s(Number.prototype.valueOf),_r=s(String.prototype.valueOf),wr=s(Boolean.prototype.valueOf);if(a)var Or=s(BigInt.prototype.valueOf);if(c)var Ir=s(Symbol.prototype.valueOf);function Pr(mn,kn){if(typeof mn!="object")return!1;try{return kn(mn),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=o;function kr(mn){return typeof Promise<"u"&&mn instanceof Promise||mn!==null&&typeof mn=="object"&&typeof mn.then=="function"&&typeof mn.catch=="function"}t.isPromise=kr;function xr(mn){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(mn):o(mn)||Mr(mn)}t.isArrayBufferView=xr;function Cr(mn){return n(mn)==="Uint8Array"}t.isUint8Array=Cr;function Kr(mn){return n(mn)==="Uint8ClampedArray"}t.isUint8ClampedArray=Kr;function Fr(mn){return n(mn)==="Uint16Array"}t.isUint16Array=Fr;function qr(mn){return n(mn)==="Uint32Array"}t.isUint32Array=qr;function Gr(mn){return n(mn)==="Int8Array"}t.isInt8Array=Gr;function jr(mn){return n(mn)==="Int16Array"}t.isInt16Array=jr;function Vr(mn){return n(mn)==="Int32Array"}t.isInt32Array=Vr;function Jr(mn){return n(mn)==="Float32Array"}t.isFloat32Array=Jr;function ln(mn){return n(mn)==="Float64Array"}t.isFloat64Array=ln;function tn(mn){return n(mn)==="BigInt64Array"}t.isBigInt64Array=tn;function sn(mn){return n(mn)==="BigUint64Array"}t.isBigUint64Array=sn;function dn(mn){return m(mn)==="[object Map]"}dn.working=typeof Map<"u"&&dn(new Map);function Rr(mn){return typeof Map>"u"?!1:dn.working?dn(mn):mn instanceof Map}t.isMap=Rr;function vr(mn){return m(mn)==="[object Set]"}vr.working=typeof Set<"u"&&vr(new Set);function Tr(mn){return typeof Set>"u"?!1:vr.working?vr(mn):mn instanceof Set}t.isSet=Tr;function Lr(mn){return m(mn)==="[object WeakMap]"}Lr.working=typeof WeakMap<"u"&&Lr(new WeakMap);function Ur(mn){return typeof WeakMap>"u"?!1:Lr.working?Lr(mn):mn instanceof WeakMap}t.isWeakMap=Ur;function Hr(mn){return m(mn)==="[object WeakSet]"}Hr.working=typeof WeakSet<"u"&&Hr(new WeakSet);function nn(mn){return Hr(mn)}t.isWeakSet=nn;function pn(mn){return m(mn)==="[object ArrayBuffer]"}pn.working=typeof ArrayBuffer<"u"&&pn(new ArrayBuffer);function Nr(mn){return typeof ArrayBuffer>"u"?!1:pn.working?pn(mn):mn instanceof ArrayBuffer}t.isArrayBuffer=Nr;function Er(mn){return m(mn)==="[object DataView]"}Er.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Er(new DataView(new ArrayBuffer(1),0,1));function Mr(mn){return typeof DataView>"u"?!1:Er.working?Er(mn):mn instanceof DataView}t.isDataView=Mr;var cn=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Yr(mn){return m(mn)==="[object SharedArrayBuffer]"}function Zr(mn){return typeof cn>"u"?!1:(typeof Yr.working>"u"&&(Yr.working=Yr(new cn)),Yr.working?Yr(mn):mn instanceof cn)}t.isSharedArrayBuffer=Zr;function an(mn){return m(mn)==="[object AsyncFunction]"}t.isAsyncFunction=an;function un(mn){return m(mn)==="[object Map Iterator]"}t.isMapIterator=un;function yn(mn){return m(mn)==="[object Set Iterator]"}t.isSetIterator=yn;function On(mn){return m(mn)==="[object Generator]"}t.isGeneratorObject=On;function Tn(mn){return m(mn)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Tn;function In(mn){return Pr(mn,gr)}t.isNumberObject=In;function en(mn){return Pr(mn,_r)}t.isStringObject=en;function on(mn){return Pr(mn,wr)}t.isBooleanObject=on;function gn(mn){return a&&Pr(mn,Or)}t.isBigIntObject=gn;function xn(mn){return c&&Pr(mn,Ir)}t.isSymbolObject=xn;function wn(mn){return In(mn)||en(mn)||on(mn)||gn(mn)||xn(mn)}t.isBoxedPrimitive=wn;function $n(mn){return typeof Uint8Array<"u"&&(Nr(mn)||Zr(mn))}t.isAnyArrayBuffer=$n,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(mn){Object.defineProperty(t,mn,{enumerable:!1,value:function(){throw new Error(mn+" is not supported in userland")}})})})(types$3);var isBufferBrowser=function t(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};(function(t){var e=Object.getOwnPropertyDescriptors||function(Mr){for(var cn=Object.keys(Mr),Yr={},Zr=0;Zr<cn.length;Zr++)Yr[cn[Zr]]=Object.getOwnPropertyDescriptor(Mr,cn[Zr]);return Yr},r=/%[sdj%]/g;t.format=function(Er){if(!Gr(Er)){for(var Mr=[],cn=0;cn<arguments.length;cn++)Mr.push(a(arguments[cn]));return Mr.join(" ")}for(var cn=1,Yr=arguments,Zr=Yr.length,an=String(Er).replace(r,function(yn){if(yn==="%%")return"%";if(cn>=Zr)return yn;switch(yn){case"%s":return String(Yr[cn++]);case"%d":return Number(Yr[cn++]);case"%j":try{return JSON.stringify(Yr[cn++])}catch{return"[Circular]"}default:return yn}}),un=Yr[cn];cn<Zr;un=Yr[++cn])Kr(un)||!ln(un)?an+=" "+un:an+=" "+a(un);return an},t.deprecate=function(Er,Mr){if(typeof process<"u"&&process.noDeprecation===!0)return Er;if(typeof process>"u")return function(){return t.deprecate(Er,Mr).apply(this,arguments)};var cn=!1;function Yr(){if(!cn){if(process.throwDeprecation)throw new Error(Mr);process.traceDeprecation?console.trace(Mr):console.error(Mr),cn=!0}return Er.apply(this,arguments)}return Yr};var n={},o=/^$/;if(process.env.NODE_DEBUG){var s=process.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}t.debuglog=function(Er){if(Er=Er.toUpperCase(),!n[Er])if(o.test(Er)){var Mr=process.pid;n[Er]=function(){var cn=t.format.apply(t,arguments);console.error("%s %d: %s",Er,Mr,cn)}}else n[Er]=function(){};return n[Er]};function a(Er,Mr){var cn={seen:[],stylize:m};return arguments.length>=3&&(cn.depth=arguments[2]),arguments.length>=4&&(cn.colors=arguments[3]),Cr(Mr)?cn.showHidden=Mr:Mr&&t._extend(cn,Mr),Vr(cn.showHidden)&&(cn.showHidden=!1),Vr(cn.depth)&&(cn.depth=2),Vr(cn.colors)&&(cn.colors=!1),Vr(cn.customInspect)&&(cn.customInspect=!0),cn.colors&&(cn.stylize=c),_r(cn,Er,cn.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(Er,Mr){var cn=a.styles[Mr];return cn?"\x1B["+a.colors[cn][0]+"m"+Er+"\x1B["+a.colors[cn][1]+"m":Er}function m(Er,Mr){return Er}function gr(Er){var Mr={};return Er.forEach(function(cn,Yr){Mr[cn]=!0}),Mr}function _r(Er,Mr,cn){if(Er.customInspect&&Mr&&dn(Mr.inspect)&&Mr.inspect!==t.inspect&&!(Mr.constructor&&Mr.constructor.prototype===Mr)){var Yr=Mr.inspect(cn,Er);return Gr(Yr)||(Yr=_r(Er,Yr,cn)),Yr}var Zr=wr(Er,Mr);if(Zr)return Zr;var an=Object.keys(Mr),un=gr(an);if(Er.showHidden&&(an=Object.getOwnPropertyNames(Mr)),sn(Mr)&&(an.indexOf("message")>=0||an.indexOf("description")>=0))return Or(Mr);if(an.length===0){if(dn(Mr)){var yn=Mr.name?": "+Mr.name:"";return Er.stylize("[Function"+yn+"]","special")}if(Jr(Mr))return Er.stylize(RegExp.prototype.toString.call(Mr),"regexp");if(tn(Mr))return Er.stylize(Date.prototype.toString.call(Mr),"date");if(sn(Mr))return Or(Mr)}var On="",Tn=!1,In=["{","}"];if(xr(Mr)&&(Tn=!0,In=["[","]"]),dn(Mr)){var en=Mr.name?": "+Mr.name:"";On=" [Function"+en+"]"}if(Jr(Mr)&&(On=" "+RegExp.prototype.toString.call(Mr)),tn(Mr)&&(On=" "+Date.prototype.toUTCString.call(Mr)),sn(Mr)&&(On=" "+Or(Mr)),an.length===0&&(!Tn||Mr.length==0))return In[0]+On+In[1];if(cn<0)return Jr(Mr)?Er.stylize(RegExp.prototype.toString.call(Mr),"regexp"):Er.stylize("[Object]","special");Er.seen.push(Mr);var on;return Tn?on=Ir(Er,Mr,cn,un,an):on=an.map(function(gn){return Pr(Er,Mr,cn,un,gn,Tn)}),Er.seen.pop(),kr(on,On,In)}function wr(Er,Mr){if(Vr(Mr))return Er.stylize("undefined","undefined");if(Gr(Mr)){var cn="'"+JSON.stringify(Mr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Er.stylize(cn,"string")}if(qr(Mr))return Er.stylize(""+Mr,"number");if(Cr(Mr))return Er.stylize(""+Mr,"boolean");if(Kr(Mr))return Er.stylize("null","null")}function Or(Er){return"["+Error.prototype.toString.call(Er)+"]"}function Ir(Er,Mr,cn,Yr,Zr){for(var an=[],un=0,yn=Mr.length;un<yn;++un)Hr(Mr,String(un))?an.push(Pr(Er,Mr,cn,Yr,String(un),!0)):an.push("");return Zr.forEach(function(On){On.match(/^\d+$/)||an.push(Pr(Er,Mr,cn,Yr,On,!0))}),an}function Pr(Er,Mr,cn,Yr,Zr,an){var un,yn,On;if(On=Object.getOwnPropertyDescriptor(Mr,Zr)||{value:Mr[Zr]},On.get?On.set?yn=Er.stylize("[Getter/Setter]","special"):yn=Er.stylize("[Getter]","special"):On.set&&(yn=Er.stylize("[Setter]","special")),Hr(Yr,Zr)||(un="["+Zr+"]"),yn||(Er.seen.indexOf(On.value)<0?(Kr(cn)?yn=_r(Er,On.value,null):yn=_r(Er,On.value,cn-1),yn.indexOf(`
`)>-1&&(an?yn=yn.split(`
`).map(function(Tn){return"  "+Tn}).join(`
`).substr(2):yn=`
`+yn.split(`
`).map(function(Tn){return"   "+Tn}).join(`
`))):yn=Er.stylize("[Circular]","special")),Vr(un)){if(an&&Zr.match(/^\d+$/))return yn;un=JSON.stringify(""+Zr),un.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(un=un.substr(1,un.length-2),un=Er.stylize(un,"name")):(un=un.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),un=Er.stylize(un,"string"))}return un+": "+yn}function kr(Er,Mr,cn){var Yr=Er.reduce(function(Zr,an){return an.indexOf(`
`)>=0,Zr+an.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Yr>60?cn[0]+(Mr===""?"":Mr+`
 `)+" "+Er.join(`,
  `)+" "+cn[1]:cn[0]+Mr+" "+Er.join(", ")+" "+cn[1]}t.types=types$3;function xr(Er){return Array.isArray(Er)}t.isArray=xr;function Cr(Er){return typeof Er=="boolean"}t.isBoolean=Cr;function Kr(Er){return Er===null}t.isNull=Kr;function Fr(Er){return Er==null}t.isNullOrUndefined=Fr;function qr(Er){return typeof Er=="number"}t.isNumber=qr;function Gr(Er){return typeof Er=="string"}t.isString=Gr;function jr(Er){return typeof Er=="symbol"}t.isSymbol=jr;function Vr(Er){return Er===void 0}t.isUndefined=Vr;function Jr(Er){return ln(Er)&&vr(Er)==="[object RegExp]"}t.isRegExp=Jr,t.types.isRegExp=Jr;function ln(Er){return typeof Er=="object"&&Er!==null}t.isObject=ln;function tn(Er){return ln(Er)&&vr(Er)==="[object Date]"}t.isDate=tn,t.types.isDate=tn;function sn(Er){return ln(Er)&&(vr(Er)==="[object Error]"||Er instanceof Error)}t.isError=sn,t.types.isNativeError=sn;function dn(Er){return typeof Er=="function"}t.isFunction=dn;function Rr(Er){return Er===null||typeof Er=="boolean"||typeof Er=="number"||typeof Er=="string"||typeof Er=="symbol"||typeof Er>"u"}t.isPrimitive=Rr,t.isBuffer=isBufferBrowser;function vr(Er){return Object.prototype.toString.call(Er)}function Tr(Er){return Er<10?"0"+Er.toString(10):Er.toString(10)}var Lr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ur(){var Er=new Date,Mr=[Tr(Er.getHours()),Tr(Er.getMinutes()),Tr(Er.getSeconds())].join(":");return[Er.getDate(),Lr[Er.getMonth()],Mr].join(" ")}t.log=function(){console.log("%s - %s",Ur(),t.format.apply(t,arguments))},t.inherits=inherits_browser.exports,t._extend=function(Er,Mr){if(!Mr||!ln(Mr))return Er;for(var cn=Object.keys(Mr),Yr=cn.length;Yr--;)Er[cn[Yr]]=Mr[cn[Yr]];return Er};function Hr(Er,Mr){return Object.prototype.hasOwnProperty.call(Er,Mr)}var nn=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Mr){if(typeof Mr!="function")throw new TypeError('The "original" argument must be of type Function');if(nn&&Mr[nn]){var cn=Mr[nn];if(typeof cn!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(cn,nn,{value:cn,enumerable:!1,writable:!1,configurable:!0}),cn}function cn(){for(var Yr,Zr,an=new Promise(function(On,Tn){Yr=On,Zr=Tn}),un=[],yn=0;yn<arguments.length;yn++)un.push(arguments[yn]);un.push(function(On,Tn){On?Zr(On):Yr(Tn)});try{Mr.apply(this,un)}catch(On){Zr(On)}return an}return Object.setPrototypeOf(cn,Object.getPrototypeOf(Mr)),nn&&Object.defineProperty(cn,nn,{value:cn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(cn,e(Mr))},t.promisify.custom=nn;function pn(Er,Mr){if(!Er){var cn=new Error("Promise was rejected with a falsy value");cn.reason=Er,Er=cn}return Mr(Er)}function Nr(Er){if(typeof Er!="function")throw new TypeError('The "original" argument must be of type Function');function Mr(){for(var cn=[],Yr=0;Yr<arguments.length;Yr++)cn.push(arguments[Yr]);var Zr=cn.pop();if(typeof Zr!="function")throw new TypeError("The last argument must be of type Function");var an=this,un=function(){return Zr.apply(an,arguments)};Er.apply(this,cn).then(function(yn){process.nextTick(un.bind(null,null,yn))},function(yn){process.nextTick(pn.bind(null,yn,un))})}return Object.setPrototypeOf(Mr,Object.getPrototypeOf(Er)),Object.defineProperties(Mr,e(Er)),Mr}t.callbackify=Nr})(util$1);var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function t(kr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(Cr){return typeof Cr}:t=function(Cr){return Cr&&typeof Symbol=="function"&&Cr.constructor===Symbol&&Cr!==Symbol.prototype?"symbol":typeof Cr},t(kr)}function e(kr,xr){if(!(kr instanceof xr))throw new TypeError("Cannot call a class as a function")}function r(kr,xr){return xr&&(t(xr)==="object"||typeof xr=="function")?xr:n(kr)}function n(kr){if(kr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kr}function o(kr){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(Cr){return Cr.__proto__||Object.getPrototypeOf(Cr)},o(kr)}function s(kr,xr){if(typeof xr!="function"&&xr!==null)throw new TypeError("Super expression must either be null or a function");kr.prototype=Object.create(xr&&xr.prototype,{constructor:{value:kr,writable:!0,configurable:!0}}),xr&&a(kr,xr)}function a(kr,xr){return a=Object.setPrototypeOf||function(Kr,Fr){return Kr.__proto__=Fr,Kr},a(kr,xr)}var c={},m,gr;function _r(kr,xr,Cr){Cr||(Cr=Error);function Kr(qr,Gr,jr){return typeof xr=="string"?xr:xr(qr,Gr,jr)}var Fr=function(qr){s(Gr,qr);function Gr(jr,Vr,Jr){var ln;return e(this,Gr),ln=r(this,o(Gr).call(this,Kr(jr,Vr,Jr))),ln.code=kr,ln}return Gr}(Cr);c[kr]=Fr}function wr(kr,xr){if(Array.isArray(kr)){var Cr=kr.length;return kr=kr.map(function(Kr){return String(Kr)}),Cr>2?"one of ".concat(xr," ").concat(kr.slice(0,Cr-1).join(", "),", or ")+kr[Cr-1]:Cr===2?"one of ".concat(xr," ").concat(kr[0]," or ").concat(kr[1]):"of ".concat(xr," ").concat(kr[0])}else return"of ".concat(xr," ").concat(String(kr))}function Or(kr,xr,Cr){return kr.substr(!Cr||Cr<0?0:+Cr,xr.length)===xr}function Ir(kr,xr,Cr){return(Cr===void 0||Cr>kr.length)&&(Cr=kr.length),kr.substring(Cr-xr.length,Cr)===xr}function Pr(kr,xr,Cr){return typeof Cr!="number"&&(Cr=0),Cr+xr.length>kr.length?!1:kr.indexOf(xr,Cr)!==-1}return _r("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),_r("ERR_INVALID_ARG_TYPE",function(kr,xr,Cr){m===void 0&&(m=requireAssert()),m(typeof kr=="string","'name' must be a string");var Kr;typeof xr=="string"&&Or(xr,"not ")?(Kr="must not be",xr=xr.replace(/^not /,"")):Kr="must be";var Fr;if(Ir(kr," argument"))Fr="The ".concat(kr," ").concat(Kr," ").concat(wr(xr,"type"));else{var qr=Pr(kr,".")?"property":"argument";Fr='The "'.concat(kr,'" ').concat(qr," ").concat(Kr," ").concat(wr(xr,"type"))}return Fr+=". Received type ".concat(t(Cr)),Fr},TypeError),_r("ERR_INVALID_ARG_VALUE",function(kr,xr){var Cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";gr===void 0&&(gr=util$1);var Kr=gr.inspect(xr);return Kr.length>128&&(Kr="".concat(Kr.slice(0,128),"...")),"The argument '".concat(kr,"' ").concat(Cr,". Received ").concat(Kr)},TypeError),_r("ERR_INVALID_RETURN_VALUE",function(kr,xr,Cr){var Kr;return Cr&&Cr.constructor&&Cr.constructor.name?Kr="instance of ".concat(Cr.constructor.name):Kr="type ".concat(t(Cr)),"Expected ".concat(kr,' to be returned from the "').concat(xr,'"')+" function but got ".concat(Kr,".")},TypeError),_r("ERR_MISSING_ARGS",function(){for(var kr=arguments.length,xr=new Array(kr),Cr=0;Cr<kr;Cr++)xr[Cr]=arguments[Cr];m===void 0&&(m=requireAssert()),m(xr.length>0,"At least one arg needs to be specified");var Kr="The ",Fr=xr.length;switch(xr=xr.map(function(qr){return'"'.concat(qr,'"')}),Fr){case 1:Kr+="".concat(xr[0]," argument");break;case 2:Kr+="".concat(xr[0]," and ").concat(xr[1]," arguments");break;default:Kr+=xr.slice(0,Fr-1).join(", "),Kr+=", and ".concat(xr[Fr-1]," arguments");break}return"".concat(Kr," must be specified")},TypeError),errors.codes=c,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function t(Tr){for(var Lr=1;Lr<arguments.length;Lr++){var Ur=arguments[Lr]!=null?arguments[Lr]:{},Hr=Object.keys(Ur);typeof Object.getOwnPropertySymbols=="function"&&(Hr=Hr.concat(Object.getOwnPropertySymbols(Ur).filter(function(nn){return Object.getOwnPropertyDescriptor(Ur,nn).enumerable}))),Hr.forEach(function(nn){e(Tr,nn,Ur[nn])})}return Tr}function e(Tr,Lr,Ur){return Lr in Tr?Object.defineProperty(Tr,Lr,{value:Ur,enumerable:!0,configurable:!0,writable:!0}):Tr[Lr]=Ur,Tr}function r(Tr,Lr){if(!(Tr instanceof Lr))throw new TypeError("Cannot call a class as a function")}function n(Tr,Lr){for(var Ur=0;Ur<Lr.length;Ur++){var Hr=Lr[Ur];Hr.enumerable=Hr.enumerable||!1,Hr.configurable=!0,"value"in Hr&&(Hr.writable=!0),Object.defineProperty(Tr,Hr.key,Hr)}}function o(Tr,Lr,Ur){return Lr&&n(Tr.prototype,Lr),Ur&&n(Tr,Ur),Tr}function s(Tr,Lr){return Lr&&(Pr(Lr)==="object"||typeof Lr=="function")?Lr:a(Tr)}function a(Tr){if(Tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tr}function c(Tr,Lr){if(typeof Lr!="function"&&Lr!==null)throw new TypeError("Super expression must either be null or a function");Tr.prototype=Object.create(Lr&&Lr.prototype,{constructor:{value:Tr,writable:!0,configurable:!0}}),Lr&&Or(Tr,Lr)}function m(Tr){var Lr=typeof Map=="function"?new Map:void 0;return m=function(Hr){if(Hr===null||!wr(Hr))return Hr;if(typeof Hr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Lr<"u"){if(Lr.has(Hr))return Lr.get(Hr);Lr.set(Hr,nn)}function nn(){return _r(Hr,arguments,Ir(this).constructor)}return nn.prototype=Object.create(Hr.prototype,{constructor:{value:nn,enumerable:!1,writable:!0,configurable:!0}}),Or(nn,Hr)},m(Tr)}function gr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _r(Tr,Lr,Ur){return gr()?_r=Reflect.construct:_r=function(nn,pn,Nr){var Er=[null];Er.push.apply(Er,pn);var Mr=Function.bind.apply(nn,Er),cn=new Mr;return Nr&&Or(cn,Nr.prototype),cn},_r.apply(null,arguments)}function wr(Tr){return Function.toString.call(Tr).indexOf("[native code]")!==-1}function Or(Tr,Lr){return Or=Object.setPrototypeOf||function(Hr,nn){return Hr.__proto__=nn,Hr},Or(Tr,Lr)}function Ir(Tr){return Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(Ur){return Ur.__proto__||Object.getPrototypeOf(Ur)},Ir(Tr)}function Pr(Tr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pr=function(Ur){return typeof Ur}:Pr=function(Ur){return Ur&&typeof Symbol=="function"&&Ur.constructor===Symbol&&Ur!==Symbol.prototype?"symbol":typeof Ur},Pr(Tr)}var kr=util$1,xr=kr.inspect,Cr=requireErrors(),Kr=Cr.codes.ERR_INVALID_ARG_TYPE;function Fr(Tr,Lr,Ur){return(Ur===void 0||Ur>Tr.length)&&(Ur=Tr.length),Tr.substring(Ur-Lr.length,Ur)===Lr}function qr(Tr,Lr){if(Lr=Math.floor(Lr),Tr.length==0||Lr==0)return"";var Ur=Tr.length*Lr;for(Lr=Math.floor(Math.log(Lr)/Math.log(2));Lr;)Tr+=Tr,Lr--;return Tr+=Tr.substring(0,Ur-Tr.length),Tr}var Gr="",jr="",Vr="",Jr="",ln={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},tn=10;function sn(Tr){var Lr=Object.keys(Tr),Ur=Object.create(Object.getPrototypeOf(Tr));return Lr.forEach(function(Hr){Ur[Hr]=Tr[Hr]}),Object.defineProperty(Ur,"message",{value:Tr.message}),Ur}function dn(Tr){return xr(Tr,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Rr(Tr,Lr,Ur){var Hr="",nn="",pn=0,Nr="",Er=!1,Mr=dn(Tr),cn=Mr.split(`
`),Yr=dn(Lr).split(`
`),Zr=0,an="";if(Ur==="strictEqual"&&Pr(Tr)==="object"&&Pr(Lr)==="object"&&Tr!==null&&Lr!==null&&(Ur="strictEqualObject"),cn.length===1&&Yr.length===1&&cn[0]!==Yr[0]){var un=cn[0].length+Yr[0].length;if(un<=tn){if((Pr(Tr)!=="object"||Tr===null)&&(Pr(Lr)!=="object"||Lr===null)&&(Tr!==0||Lr!==0))return"".concat(ln[Ur],`

`)+"".concat(cn[0]," !== ").concat(Yr[0],`
`)}else if(Ur!=="strictEqualObject"){var yn=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(un<yn){for(;cn[0][Zr]===Yr[0][Zr];)Zr++;Zr>2&&(an=`
  `.concat(qr(" ",Zr),"^"),Zr=0)}}}for(var On=cn[cn.length-1],Tn=Yr[Yr.length-1];On===Tn&&(Zr++<2?Nr=`
  `.concat(On).concat(Nr):Hr=On,cn.pop(),Yr.pop(),!(cn.length===0||Yr.length===0));)On=cn[cn.length-1],Tn=Yr[Yr.length-1];var In=Math.max(cn.length,Yr.length);if(In===0){var en=Mr.split(`
`);if(en.length>30)for(en[26]="".concat(Gr,"...").concat(Jr);en.length>27;)en.pop();return"".concat(ln.notIdentical,`

`).concat(en.join(`
`),`
`)}Zr>3&&(Nr=`
`.concat(Gr,"...").concat(Jr).concat(Nr),Er=!0),Hr!==""&&(Nr=`
  `.concat(Hr).concat(Nr),Hr="");var on=0,gn=ln[Ur]+`
`.concat(jr,"+ actual").concat(Jr," ").concat(Vr,"- expected").concat(Jr),xn=" ".concat(Gr,"...").concat(Jr," Lines skipped");for(Zr=0;Zr<In;Zr++){var wn=Zr-pn;if(cn.length<Zr+1)wn>1&&Zr>2&&(wn>4?(nn+=`
`.concat(Gr,"...").concat(Jr),Er=!0):wn>3&&(nn+=`
  `.concat(Yr[Zr-2]),on++),nn+=`
  `.concat(Yr[Zr-1]),on++),pn=Zr,Hr+=`
`.concat(Vr,"-").concat(Jr," ").concat(Yr[Zr]),on++;else if(Yr.length<Zr+1)wn>1&&Zr>2&&(wn>4?(nn+=`
`.concat(Gr,"...").concat(Jr),Er=!0):wn>3&&(nn+=`
  `.concat(cn[Zr-2]),on++),nn+=`
  `.concat(cn[Zr-1]),on++),pn=Zr,nn+=`
`.concat(jr,"+").concat(Jr," ").concat(cn[Zr]),on++;else{var $n=Yr[Zr],mn=cn[Zr],kn=mn!==$n&&(!Fr(mn,",")||mn.slice(0,-1)!==$n);kn&&Fr($n,",")&&$n.slice(0,-1)===mn&&(kn=!1,mn+=","),kn?(wn>1&&Zr>2&&(wn>4?(nn+=`
`.concat(Gr,"...").concat(Jr),Er=!0):wn>3&&(nn+=`
  `.concat(cn[Zr-2]),on++),nn+=`
  `.concat(cn[Zr-1]),on++),pn=Zr,nn+=`
`.concat(jr,"+").concat(Jr," ").concat(mn),Hr+=`
`.concat(Vr,"-").concat(Jr," ").concat($n),on+=2):(nn+=Hr,Hr="",(wn===1||Zr===0)&&(nn+=`
  `.concat(mn),on++))}if(on>20&&Zr<In-2)return"".concat(gn).concat(xn,`
`).concat(nn,`
`).concat(Gr,"...").concat(Jr).concat(Hr,`
`)+"".concat(Gr,"...").concat(Jr)}return"".concat(gn).concat(Er?xn:"",`
`).concat(nn).concat(Hr).concat(Nr).concat(an)}var vr=function(Tr){c(Lr,Tr);function Lr(Ur){var Hr;if(r(this,Lr),Pr(Ur)!=="object"||Ur===null)throw new Kr("options","Object",Ur);var nn=Ur.message,pn=Ur.operator,Nr=Ur.stackStartFn,Er=Ur.actual,Mr=Ur.expected,cn=Error.stackTraceLimit;if(Error.stackTraceLimit=0,nn!=null)Hr=s(this,Ir(Lr).call(this,String(nn)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Gr="\x1B[34m",jr="\x1B[32m",Jr="\x1B[39m",Vr="\x1B[31m"):(Gr="",jr="",Jr="",Vr="")),Pr(Er)==="object"&&Er!==null&&Pr(Mr)==="object"&&Mr!==null&&"stack"in Er&&Er instanceof Error&&"stack"in Mr&&Mr instanceof Error&&(Er=sn(Er),Mr=sn(Mr)),pn==="deepStrictEqual"||pn==="strictEqual")Hr=s(this,Ir(Lr).call(this,Rr(Er,Mr,pn)));else if(pn==="notDeepStrictEqual"||pn==="notStrictEqual"){var Yr=ln[pn],Zr=dn(Er).split(`
`);if(pn==="notStrictEqual"&&Pr(Er)==="object"&&Er!==null&&(Yr=ln.notStrictEqualObject),Zr.length>30)for(Zr[26]="".concat(Gr,"...").concat(Jr);Zr.length>27;)Zr.pop();Zr.length===1?Hr=s(this,Ir(Lr).call(this,"".concat(Yr," ").concat(Zr[0]))):Hr=s(this,Ir(Lr).call(this,"".concat(Yr,`

`).concat(Zr.join(`
`),`
`)))}else{var an=dn(Er),un="",yn=ln[pn];pn==="notDeepEqual"||pn==="notEqual"?(an="".concat(ln[pn],`

`).concat(an),an.length>1024&&(an="".concat(an.slice(0,1021),"..."))):(un="".concat(dn(Mr)),an.length>512&&(an="".concat(an.slice(0,509),"...")),un.length>512&&(un="".concat(un.slice(0,509),"...")),pn==="deepEqual"||pn==="equal"?an="".concat(yn,`

`).concat(an,`

should equal

`):un=" ".concat(pn," ").concat(un)),Hr=s(this,Ir(Lr).call(this,"".concat(an).concat(un)))}return Error.stackTraceLimit=cn,Hr.generatedMessage=!nn,Object.defineProperty(a(Hr),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Hr.code="ERR_ASSERTION",Hr.actual=Er,Hr.expected=Mr,Hr.operator=pn,Error.captureStackTrace&&Error.captureStackTrace(a(Hr),Nr),Hr.stack,Hr.name="AssertionError",s(Hr)}return o(Lr,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:xr.custom,value:function(Hr,nn){return xr(this,t({},nn,{customInspect:!1,depth:0}))}}]),Lr}(m(Error));return assertion_error=vr,assertion_error}var es6ObjectAssign,hasRequiredEs6ObjectAssign;function requireEs6ObjectAssign(){if(hasRequiredEs6ObjectAssign)return es6ObjectAssign;hasRequiredEs6ObjectAssign=1;function t(r,n){if(r==null)throw new TypeError("Cannot convert first argument to object");for(var o=Object(r),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var c=Object.keys(Object(a)),m=0,gr=c.length;m<gr;m++){var _r=c[m],wr=Object.getOwnPropertyDescriptor(a,_r);wr!==void 0&&wr.enumerable&&(o[_r]=a[_r])}}return o}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}return es6ObjectAssign={assign:t,polyfill:e},es6ObjectAssign}var isArguments$1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments$1;hasRequiredIsArguments=1;var t=Object.prototype.toString;return isArguments$1=function(r){var n=t.call(r),o=n==="[object Arguments]";return o||(o=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&t.call(r.callee)==="[object Function]"),o},isArguments$1}var implementation$2,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$2;hasRequiredImplementation$2=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=requireIsArguments(),o=Object.prototype.propertyIsEnumerable,s=!o.call({toString:null},"toString"),a=o.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=function(Or){var Ir=Or.constructor;return Ir&&Ir.prototype===Or},gr={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},_r=function(){if(typeof window>"u")return!1;for(var Or in window)try{if(!gr["$"+Or]&&e.call(window,Or)&&window[Or]!==null&&typeof window[Or]=="object")try{m(window[Or])}catch{return!0}}catch{return!0}return!1}(),wr=function(Or){if(typeof window>"u"||!_r)return m(Or);try{return m(Or)}catch{return!1}};t=function(Ir){var Pr=Ir!==null&&typeof Ir=="object",kr=r.call(Ir)==="[object Function]",xr=n(Ir),Cr=Pr&&r.call(Ir)==="[object String]",Kr=[];if(!Pr&&!kr&&!xr)throw new TypeError("Object.keys called on a non-object");var Fr=a&&kr;if(Cr&&Ir.length>0&&!e.call(Ir,0))for(var qr=0;qr<Ir.length;++qr)Kr.push(String(qr));if(xr&&Ir.length>0)for(var Gr=0;Gr<Ir.length;++Gr)Kr.push(String(Gr));else for(var jr in Ir)!(Fr&&jr==="prototype")&&e.call(Ir,jr)&&Kr.push(String(jr));if(s)for(var Vr=wr(Ir),Jr=0;Jr<c.length;++Jr)!(Vr&&c[Jr]==="constructor")&&e.call(Ir,c[Jr])&&Kr.push(c[Jr]);return Kr}}return implementation$2=t,implementation$2}var objectKeys$1,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys$1;hasRequiredObjectKeys=1;var t=Array.prototype.slice,e=requireIsArguments(),r=Object.keys,n=r?function(a){return r(a)}:requireImplementation$2(),o=Object.keys;return n.shim=function(){if(Object.keys){var a=function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2);a||(Object.keys=function(m){return e(m)?o(t.call(m)):o(m)})}else Object.keys=n;return Object.keys||n},objectKeys$1=n,objectKeys$1}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var t=requireGetIntrinsic(),e=t("%Object.defineProperty%",!0),r=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return r.hasArrayLengthDefineBug=function(){if(!r())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=r,hasPropertyDescriptors_1}var defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var t=requireObjectKeys(),e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,o=Object.defineProperty,s=function(_r){return typeof _r=="function"&&r.call(_r)==="[object Function]"},a=requireHasPropertyDescriptors()(),c=o&&a,m=function(_r,wr,Or,Ir){wr in _r&&(!s(Ir)||!Ir())||(c?o(_r,wr,{configurable:!0,enumerable:!1,value:Or,writable:!0}):_r[wr]=Or)},gr=function(_r,wr){var Or=arguments.length>2?arguments[2]:{},Ir=t(wr);e&&(Ir=n.call(Ir,Object.getOwnPropertySymbols(wr)));for(var Pr=0;Pr<Ir.length;Pr+=1)m(_r,Ir[Pr],wr[Ir[Pr]],Or[Ir[Pr]])};return gr.supportsDescriptors=!!c,defineProperties_1=gr,defineProperties_1}var implementation$1,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$1;hasRequiredImplementation$1=1;var t=function(e){return e!==e};return implementation$1=function(r,n){return r===0&&n===0?1/r===1/n:!!(r===n||t(r)&&t(n))},implementation$1}var polyfill$1,hasRequiredPolyfill$1;function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$1;hasRequiredPolyfill$1=1;var t=requireImplementation$1();return polyfill$1=function(){return typeof Object.is=="function"?Object.is:t},polyfill$1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var t=requirePolyfill$1(),e=requireDefineProperties();return shim$1=function(){var n=t();return e(Object,{is:n},{is:function(){return Object.is!==n}}),n},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var t=requireDefineProperties(),e=requireCallBind(),r=requireImplementation$1(),n=requirePolyfill$1(),o=requireShim$1(),s=e(n(),Object);return t(s,{getPolyfill:n,implementation:r,shim:o}),objectIs=s,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(e){return e!==e}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var t=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:t},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var t=requireDefineProperties(),e=requirePolyfill();return shim=function(){var n=e();return t(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var t=requireCallBind(),e=requireDefineProperties(),r=requireImplementation(),n=requirePolyfill(),o=requireShim(),s=t(n(),Number);return e(s,{getPolyfill:n,implementation:r,shim:o}),isNan=s,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function t(rn,fn){return n(rn)||r(rn,fn)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(rn,fn){var vn=[],En=!0,Bn=!1,br=void 0;try{for(var l=rn[Symbol.iterator](),d;!(En=(d=l.next()).done)&&(vn.push(d.value),!(fn&&vn.length===fn));En=!0);}catch(Ar){Bn=!0,br=Ar}finally{try{!En&&l.return!=null&&l.return()}finally{if(Bn)throw br}}return vn}function n(rn){if(Array.isArray(rn))return rn}function o(rn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(vn){return typeof vn}:o=function(vn){return vn&&typeof Symbol=="function"&&vn.constructor===Symbol&&vn!==Symbol.prototype?"symbol":typeof vn},o(rn)}var s=/a/g.flags!==void 0,a=function(fn){var vn=[];return fn.forEach(function(En){return vn.push(En)}),vn},c=function(fn){var vn=[];return fn.forEach(function(En,Bn){return vn.push([Bn,En])}),vn},m=Object.is?Object.is:requireObjectIs(),gr=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},_r=Number.isNaN?Number.isNaN:requireIsNan();function wr(rn){return rn.call.bind(rn)}var Or=wr(Object.prototype.hasOwnProperty),Ir=wr(Object.prototype.propertyIsEnumerable),Pr=wr(Object.prototype.toString),kr=util$1.types,xr=kr.isAnyArrayBuffer,Cr=kr.isArrayBufferView,Kr=kr.isDate,Fr=kr.isMap,qr=kr.isRegExp,Gr=kr.isSet,jr=kr.isNativeError,Vr=kr.isBoxedPrimitive,Jr=kr.isNumberObject,ln=kr.isStringObject,tn=kr.isBooleanObject,sn=kr.isBigIntObject,dn=kr.isSymbolObject,Rr=kr.isFloat32Array,vr=kr.isFloat64Array;function Tr(rn){if(rn.length===0||rn.length>10)return!0;for(var fn=0;fn<rn.length;fn++){var vn=rn.charCodeAt(fn);if(vn<48||vn>57)return!0}return rn.length===10&&rn>=Math.pow(2,32)}function Lr(rn){return Object.keys(rn).filter(Tr).concat(gr(rn).filter(Object.prototype.propertyIsEnumerable.bind(rn)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function Ur(rn,fn){if(rn===fn)return 0;for(var vn=rn.length,En=fn.length,Bn=0,br=Math.min(vn,En);Bn<br;++Bn)if(rn[Bn]!==fn[Bn]){vn=rn[Bn],En=fn[Bn];break}return vn<En?-1:En<vn?1:0}var Hr=!0,nn=!1,pn=0,Nr=1,Er=2,Mr=3;function cn(rn,fn){return s?rn.source===fn.source&&rn.flags===fn.flags:RegExp.prototype.toString.call(rn)===RegExp.prototype.toString.call(fn)}function Yr(rn,fn){if(rn.byteLength!==fn.byteLength)return!1;for(var vn=0;vn<rn.byteLength;vn++)if(rn[vn]!==fn[vn])return!1;return!0}function Zr(rn,fn){return rn.byteLength!==fn.byteLength?!1:Ur(new Uint8Array(rn.buffer,rn.byteOffset,rn.byteLength),new Uint8Array(fn.buffer,fn.byteOffset,fn.byteLength))===0}function an(rn,fn){return rn.byteLength===fn.byteLength&&Ur(new Uint8Array(rn),new Uint8Array(fn))===0}function un(rn,fn){return Jr(rn)?Jr(fn)&&m(Number.prototype.valueOf.call(rn),Number.prototype.valueOf.call(fn)):ln(rn)?ln(fn)&&String.prototype.valueOf.call(rn)===String.prototype.valueOf.call(fn):tn(rn)?tn(fn)&&Boolean.prototype.valueOf.call(rn)===Boolean.prototype.valueOf.call(fn):sn(rn)?sn(fn)&&BigInt.prototype.valueOf.call(rn)===BigInt.prototype.valueOf.call(fn):dn(fn)&&Symbol.prototype.valueOf.call(rn)===Symbol.prototype.valueOf.call(fn)}function yn(rn,fn,vn,En){if(rn===fn)return rn!==0?!0:vn?m(rn,fn):!0;if(vn){if(o(rn)!=="object")return typeof rn=="number"&&_r(rn)&&_r(fn);if(o(fn)!=="object"||rn===null||fn===null||Object.getPrototypeOf(rn)!==Object.getPrototypeOf(fn))return!1}else{if(rn===null||o(rn)!=="object")return fn===null||o(fn)!=="object"?rn==fn:!1;if(fn===null||o(fn)!=="object")return!1}var Bn=Pr(rn),br=Pr(fn);if(Bn!==br)return!1;if(Array.isArray(rn)){if(rn.length!==fn.length)return!1;var l=Lr(rn),d=Lr(fn);return l.length!==d.length?!1:Tn(rn,fn,vn,En,Nr,l)}if(Bn==="[object Object]"&&(!Fr(rn)&&Fr(fn)||!Gr(rn)&&Gr(fn)))return!1;if(Kr(rn)){if(!Kr(fn)||Date.prototype.getTime.call(rn)!==Date.prototype.getTime.call(fn))return!1}else if(qr(rn)){if(!qr(fn)||!cn(rn,fn))return!1}else if(jr(rn)||rn instanceof Error){if(rn.message!==fn.message||rn.name!==fn.name)return!1}else if(Cr(rn)){if(!vn&&(Rr(rn)||vr(rn))){if(!Yr(rn,fn))return!1}else if(!Zr(rn,fn))return!1;var Ar=Lr(rn),$r=Lr(fn);return Ar.length!==$r.length?!1:Tn(rn,fn,vn,En,pn,Ar)}else{if(Gr(rn))return!Gr(fn)||rn.size!==fn.size?!1:Tn(rn,fn,vn,En,Er);if(Fr(rn))return!Fr(fn)||rn.size!==fn.size?!1:Tn(rn,fn,vn,En,Mr);if(xr(rn)){if(!an(rn,fn))return!1}else if(Vr(rn)&&!un(rn,fn))return!1}return Tn(rn,fn,vn,En,pn)}function On(rn,fn){return fn.filter(function(vn){return Ir(rn,vn)})}function Tn(rn,fn,vn,En,Bn,br){if(arguments.length===5){br=Object.keys(rn);var l=Object.keys(fn);if(br.length!==l.length)return!1}for(var d=0;d<br.length;d++)if(!Or(fn,br[d]))return!1;if(vn&&arguments.length===5){var Ar=gr(rn);if(Ar.length!==0){var $r=0;for(d=0;d<Ar.length;d++){var Dr=Ar[d];if(Ir(rn,Dr)){if(!Ir(fn,Dr))return!1;br.push(Dr),$r++}else if(Ir(fn,Dr))return!1}var Wr=gr(fn);if(Ar.length!==Wr.length&&On(fn,Wr).length!==$r)return!1}else{var Pn=gr(fn);if(Pn.length!==0&&On(fn,Pn).length!==0)return!1}}if(br.length===0&&(Bn===pn||Bn===Nr&&rn.length===0||rn.size===0))return!0;if(En===void 0)En={val1:new Map,val2:new Map,position:0};else{var Fn=En.val1.get(rn);if(Fn!==void 0){var Cn=En.val2.get(fn);if(Cn!==void 0)return Fn===Cn}En.position++}En.val1.set(rn,En.position),En.val2.set(fn,En.position);var jn=mn(rn,fn,vn,br,En,Bn);return En.val1.delete(rn),En.val2.delete(fn),jn}function In(rn,fn,vn,En){for(var Bn=a(rn),br=0;br<Bn.length;br++){var l=Bn[br];if(yn(fn,l,vn,En))return rn.delete(l),!0}return!1}function en(rn){switch(o(rn)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":rn=+rn;case"number":if(_r(rn))return!1}return!0}function on(rn,fn,vn){var En=en(vn);return En??(fn.has(En)&&!rn.has(En))}function gn(rn,fn,vn,En,Bn){var br=en(vn);if(br!=null)return br;var l=fn.get(br);return l===void 0&&!fn.has(br)||!yn(En,l,!1,Bn)?!1:!rn.has(br)&&yn(En,l,!1,Bn)}function xn(rn,fn,vn,En){for(var Bn=null,br=a(rn),l=0;l<br.length;l++){var d=br[l];if(o(d)==="object"&&d!==null)Bn===null&&(Bn=new Set),Bn.add(d);else if(!fn.has(d)){if(vn||!on(rn,fn,d))return!1;Bn===null&&(Bn=new Set),Bn.add(d)}}if(Bn!==null){for(var Ar=a(fn),$r=0;$r<Ar.length;$r++){var Dr=Ar[$r];if(o(Dr)==="object"&&Dr!==null){if(!In(Bn,Dr,vn,En))return!1}else if(!vn&&!rn.has(Dr)&&!In(Bn,Dr,vn,En))return!1}return Bn.size===0}return!0}function wn(rn,fn,vn,En,Bn,br){for(var l=a(rn),d=0;d<l.length;d++){var Ar=l[d];if(yn(vn,Ar,Bn,br)&&yn(En,fn.get(Ar),Bn,br))return rn.delete(Ar),!0}return!1}function $n(rn,fn,vn,En){for(var Bn=null,br=c(rn),l=0;l<br.length;l++){var d=t(br[l],2),Ar=d[0],$r=d[1];if(o(Ar)==="object"&&Ar!==null)Bn===null&&(Bn=new Set),Bn.add(Ar);else{var Dr=fn.get(Ar);if(Dr===void 0&&!fn.has(Ar)||!yn($r,Dr,vn,En)){if(vn||!gn(rn,fn,Ar,$r,En))return!1;Bn===null&&(Bn=new Set),Bn.add(Ar)}}}if(Bn!==null){for(var Wr=c(fn),Pn=0;Pn<Wr.length;Pn++){var Fn=t(Wr[Pn],2),Ar=Fn[0],Cn=Fn[1];if(o(Ar)==="object"&&Ar!==null){if(!wn(Bn,rn,Ar,Cn,vn,En))return!1}else if(!vn&&(!rn.has(Ar)||!yn(rn.get(Ar),Cn,!1,En))&&!wn(Bn,rn,Ar,Cn,!1,En))return!1}return Bn.size===0}return!0}function mn(rn,fn,vn,En,Bn,br){var l=0;if(br===Er){if(!xn(rn,fn,vn,Bn))return!1}else if(br===Mr){if(!$n(rn,fn,vn,Bn))return!1}else if(br===Nr)for(;l<rn.length;l++)if(Or(rn,l)){if(!Or(fn,l)||!yn(rn[l],fn[l],vn,Bn))return!1}else{if(Or(fn,l))return!1;for(var d=Object.keys(rn);l<d.length;l++){var Ar=d[l];if(!Or(fn,Ar)||!yn(rn[Ar],fn[Ar],vn,Bn))return!1}return d.length===Object.keys(fn).length}for(l=0;l<En.length;l++){var $r=En[l];if(!yn(rn[$r],fn[$r],vn,Bn))return!1}return!0}function kn(rn,fn){return yn(rn,fn,nn)}function Rn(rn,fn){return yn(rn,fn,Hr)}return comparisons={isDeepEqual:kn,isDeepStrictEqual:Rn},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$1.exports;hasRequiredAssert=1;function t(Nr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(Mr){return typeof Mr}:t=function(Mr){return Mr&&typeof Symbol=="function"&&Mr.constructor===Symbol&&Mr!==Symbol.prototype?"symbol":typeof Mr},t(Nr)}function e(Nr,Er){if(!(Nr instanceof Er))throw new TypeError("Cannot call a class as a function")}var r=requireErrors(),n=r.codes,o=n.ERR_AMBIGUOUS_ARGUMENT,s=n.ERR_INVALID_ARG_TYPE,a=n.ERR_INVALID_ARG_VALUE,c=n.ERR_INVALID_RETURN_VALUE,m=n.ERR_MISSING_ARGS,gr=requireAssertion_error(),_r=util$1,wr=_r.inspect,Or=util$1.types,Ir=Or.isPromise,Pr=Or.isRegExp,kr=Object.assign?Object.assign:requireEs6ObjectAssign().assign,xr=Object.is?Object.is:requireObjectIs(),Cr,Kr;function Fr(){var Nr=requireComparisons();Cr=Nr.isDeepEqual,Kr=Nr.isDeepStrictEqual}var qr=!1,Gr=assert$1.exports=tn,jr={};function Vr(Nr){throw Nr.message instanceof Error?Nr.message:new gr(Nr)}function Jr(Nr,Er,Mr,cn,Yr){var Zr=arguments.length,an;if(Zr===0)an="Failed";else if(Zr===1)Mr=Nr,Nr=void 0;else{if(qr===!1){qr=!0;var un=process.emitWarning?process.emitWarning:console.warn.bind(console);un("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Zr===2&&(cn="!=")}if(Mr instanceof Error)throw Mr;var yn={actual:Nr,expected:Er,operator:cn===void 0?"fail":cn,stackStartFn:Yr||Jr};Mr!==void 0&&(yn.message=Mr);var On=new gr(yn);throw an&&(On.message=an,On.generatedMessage=!0),On}Gr.fail=Jr,Gr.AssertionError=gr;function ln(Nr,Er,Mr,cn){if(!Mr){var Yr=!1;if(Er===0)Yr=!0,cn="No value argument passed to `assert.ok()`";else if(cn instanceof Error)throw cn;var Zr=new gr({actual:Mr,expected:!0,message:cn,operator:"==",stackStartFn:Nr});throw Zr.generatedMessage=Yr,Zr}}function tn(){for(var Nr=arguments.length,Er=new Array(Nr),Mr=0;Mr<Nr;Mr++)Er[Mr]=arguments[Mr];ln.apply(void 0,[tn,Er.length].concat(Er))}Gr.ok=tn,Gr.equal=function Nr(Er,Mr,cn){if(arguments.length<2)throw new m("actual","expected");Er!=Mr&&Vr({actual:Er,expected:Mr,message:cn,operator:"==",stackStartFn:Nr})},Gr.notEqual=function Nr(Er,Mr,cn){if(arguments.length<2)throw new m("actual","expected");Er==Mr&&Vr({actual:Er,expected:Mr,message:cn,operator:"!=",stackStartFn:Nr})},Gr.deepEqual=function Nr(Er,Mr,cn){if(arguments.length<2)throw new m("actual","expected");Cr===void 0&&Fr(),Cr(Er,Mr)||Vr({actual:Er,expected:Mr,message:cn,operator:"deepEqual",stackStartFn:Nr})},Gr.notDeepEqual=function Nr(Er,Mr,cn){if(arguments.length<2)throw new m("actual","expected");Cr===void 0&&Fr(),Cr(Er,Mr)&&Vr({actual:Er,expected:Mr,message:cn,operator:"notDeepEqual",stackStartFn:Nr})},Gr.deepStrictEqual=function Nr(Er,Mr,cn){if(arguments.length<2)throw new m("actual","expected");Cr===void 0&&Fr(),Kr(Er,Mr)||Vr({actual:Er,expected:Mr,message:cn,operator:"deepStrictEqual",stackStartFn:Nr})},Gr.notDeepStrictEqual=sn;function sn(Nr,Er,Mr){if(arguments.length<2)throw new m("actual","expected");Cr===void 0&&Fr(),Kr(Nr,Er)&&Vr({actual:Nr,expected:Er,message:Mr,operator:"notDeepStrictEqual",stackStartFn:sn})}Gr.strictEqual=function Nr(Er,Mr,cn){if(arguments.length<2)throw new m("actual","expected");xr(Er,Mr)||Vr({actual:Er,expected:Mr,message:cn,operator:"strictEqual",stackStartFn:Nr})},Gr.notStrictEqual=function Nr(Er,Mr,cn){if(arguments.length<2)throw new m("actual","expected");xr(Er,Mr)&&Vr({actual:Er,expected:Mr,message:cn,operator:"notStrictEqual",stackStartFn:Nr})};var dn=function Nr(Er,Mr,cn){var Yr=this;e(this,Nr),Mr.forEach(function(Zr){Zr in Er&&(cn!==void 0&&typeof cn[Zr]=="string"&&Pr(Er[Zr])&&Er[Zr].test(cn[Zr])?Yr[Zr]=cn[Zr]:Yr[Zr]=Er[Zr])})};function Rr(Nr,Er,Mr,cn,Yr,Zr){if(!(Mr in Nr)||!Kr(Nr[Mr],Er[Mr])){if(!cn){var an=new dn(Nr,Yr),un=new dn(Er,Yr,Nr),yn=new gr({actual:an,expected:un,operator:"deepStrictEqual",stackStartFn:Zr});throw yn.actual=Nr,yn.expected=Er,yn.operator=Zr.name,yn}Vr({actual:Nr,expected:Er,message:cn,operator:Zr.name,stackStartFn:Zr})}}function vr(Nr,Er,Mr,cn){if(typeof Er!="function"){if(Pr(Er))return Er.test(Nr);if(arguments.length===2)throw new s("expected",["Function","RegExp"],Er);if(t(Nr)!=="object"||Nr===null){var Yr=new gr({actual:Nr,expected:Er,message:Mr,operator:"deepStrictEqual",stackStartFn:cn});throw Yr.operator=cn.name,Yr}var Zr=Object.keys(Er);if(Er instanceof Error)Zr.push("name","message");else if(Zr.length===0)throw new a("error",Er,"may not be an empty object");return Cr===void 0&&Fr(),Zr.forEach(function(an){typeof Nr[an]=="string"&&Pr(Er[an])&&Er[an].test(Nr[an])||Rr(Nr,Er,an,Mr,Zr,cn)}),!0}return Er.prototype!==void 0&&Nr instanceof Er?!0:Error.isPrototypeOf(Er)?!1:Er.call({},Nr)===!0}function Tr(Nr){if(typeof Nr!="function")throw new s("fn","Function",Nr);try{Nr()}catch(Er){return Er}return jr}function Lr(Nr){return Ir(Nr)||Nr!==null&&t(Nr)==="object"&&typeof Nr.then=="function"&&typeof Nr.catch=="function"}function Ur(Nr){return Promise.resolve().then(function(){var Er;if(typeof Nr=="function"){if(Er=Nr(),!Lr(Er))throw new c("instance of Promise","promiseFn",Er)}else if(Lr(Nr))Er=Nr;else throw new s("promiseFn",["Function","Promise"],Nr);return Promise.resolve().then(function(){return Er}).then(function(){return jr}).catch(function(Mr){return Mr})})}function Hr(Nr,Er,Mr,cn){if(typeof Mr=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],Mr);if(t(Er)==="object"&&Er!==null){if(Er.message===Mr)throw new o("error/message",'The error message "'.concat(Er.message,'" is identical to the message.'))}else if(Er===Mr)throw new o("error/message",'The error "'.concat(Er,'" is identical to the message.'));cn=Mr,Mr=void 0}else if(Mr!=null&&t(Mr)!=="object"&&typeof Mr!="function")throw new s("error",["Object","Error","Function","RegExp"],Mr);if(Er===jr){var Yr="";Mr&&Mr.name&&(Yr+=" (".concat(Mr.name,")")),Yr+=cn?": ".concat(cn):".";var Zr=Nr.name==="rejects"?"rejection":"exception";Vr({actual:void 0,expected:Mr,operator:Nr.name,message:"Missing expected ".concat(Zr).concat(Yr),stackStartFn:Nr})}if(Mr&&!vr(Er,Mr,cn,Nr))throw Er}function nn(Nr,Er,Mr,cn){if(Er!==jr){if(typeof Mr=="string"&&(cn=Mr,Mr=void 0),!Mr||vr(Er,Mr)){var Yr=cn?": ".concat(cn):".",Zr=Nr.name==="doesNotReject"?"rejection":"exception";Vr({actual:Er,expected:Mr,operator:Nr.name,message:"Got unwanted ".concat(Zr).concat(Yr,`
`)+'Actual message: "'.concat(Er&&Er.message,'"'),stackStartFn:Nr})}throw Er}}Gr.throws=function Nr(Er){for(var Mr=arguments.length,cn=new Array(Mr>1?Mr-1:0),Yr=1;Yr<Mr;Yr++)cn[Yr-1]=arguments[Yr];Hr.apply(void 0,[Nr,Tr(Er)].concat(cn))},Gr.rejects=function Nr(Er){for(var Mr=arguments.length,cn=new Array(Mr>1?Mr-1:0),Yr=1;Yr<Mr;Yr++)cn[Yr-1]=arguments[Yr];return Ur(Er).then(function(Zr){return Hr.apply(void 0,[Nr,Zr].concat(cn))})},Gr.doesNotThrow=function Nr(Er){for(var Mr=arguments.length,cn=new Array(Mr>1?Mr-1:0),Yr=1;Yr<Mr;Yr++)cn[Yr-1]=arguments[Yr];nn.apply(void 0,[Nr,Tr(Er)].concat(cn))},Gr.doesNotReject=function Nr(Er){for(var Mr=arguments.length,cn=new Array(Mr>1?Mr-1:0),Yr=1;Yr<Mr;Yr++)cn[Yr-1]=arguments[Yr];return Ur(Er).then(function(Zr){return nn.apply(void 0,[Nr,Zr].concat(cn))})},Gr.ifError=function Nr(Er){if(Er!=null){var Mr="ifError got unwanted exception: ";t(Er)==="object"&&typeof Er.message=="string"?Er.message.length===0&&Er.constructor?Mr+=Er.constructor.name:Mr+=Er.message:Mr+=wr(Er);var cn=new gr({actual:Er,expected:null,operator:"ifError",message:Mr,stackStartFn:Nr}),Yr=Er.stack;if(typeof Yr=="string"){var Zr=Yr.split(`
`);Zr.shift();for(var an=cn.stack.split(`
`),un=0;un<Zr.length;un++){var yn=an.indexOf(Zr[un]);if(yn!==-1){an=an.slice(0,yn);break}}cn.stack="".concat(an.join(`
`),`
`).concat(Zr.join(`
`))}throw cn}};function pn(){for(var Nr=arguments.length,Er=new Array(Nr),Mr=0;Mr<Nr;Mr++)Er[Mr]=arguments[Mr];ln.apply(void 0,[pn,Er.length].concat(Er))}return Gr.strict=kr(pn,Gr,{equal:Gr.strictEqual,deepEqual:Gr.deepStrictEqual,notEqual:Gr.notStrictEqual,notDeepEqual:Gr.notDeepStrictEqual}),Gr.strict.strict=Gr.strict,assert$1.exports}var assertExports=requireAssert(),g=Object.freeze({__proto__:null,encode:function(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"0x")},decode:function(t){t.indexOf("0x")===0&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return e===null?buffer$2.Buffer.from([]):buffer$2.Buffer.from(e.map(r=>parseInt(r,16)))}});function w(t){return new TextDecoder("utf-8").decode(t)}function v(t){return new TextEncoder().encode(t)}var b=Object.freeze({__proto__:null,decode:w,encode:v});function A(t){return bs58.encode(t)}var _=Object.freeze({__proto__:null,encode:A,decode:function(t){return bs58.decode(t)}});function E(t){return buffer$2.Buffer.from(toByteArray_1(t))}var S=Object.freeze({__proto__:null,encode:function(t){return fromByteArray_1(t)},decode:E}),I=Object.freeze({__proto__:null,hex:g,utf8:b,bs58:_,base64:S});function k(t){const e=new Map;return t.errors&&t.errors.forEach(r=>{var n;let o=(n=r.msg)!==null&&n!==void 0?n:r.name;e.set(r.code,o)}),e}function x(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach(o=>{r[o.name]=e[n],n+=1}),r}function M(t,e={}){t.forEach(r=>{if("accounts"in r)M(r.accounts,e[r.name]);else if(e[r.name]===void 0)throw new Error(`Invalid arguments: ${r.name} not provided.`)})}function P(t){return t instanceof PublicKey?t:new PublicKey(t)}class T extends TypeError{constructor(e,r){let n;const{message:o,...s}=e,{path:a}=e;super(a.length===0?o:"At path: "+a.join(".")+" -- "+o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[e,...r()]}}}function C(t){return typeof t=="object"&&t!=null}function L(t){return typeof t=="string"?JSON.stringify(t):""+t}function O(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:s}=e,{type:a}=r,{refinement:c,message:m="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+L(n)+"`"}=t;return{value:n,type:a,refinement:c,key:o[o.length-1],path:o,branch:s,...t,message:m}}function*B(t,e,r,n){var o;C(o=t)&&typeof o[Symbol.iterator]=="function"||(t=[t]);for(const s of t){const a=O(s,e,r,n);a&&(yield a)}}function*D(t,e,r={}){const{path:n=[],branch:o=[t],coerce:s=!1,mask:a=!1}=r,c={path:n,branch:o};if(s&&(t=e.coercer(t,c),a&&e.type!=="type"&&C(e.schema)&&C(t)&&!Array.isArray(t)))for(const gr in t)e.schema[gr]===void 0&&delete t[gr];let m=!0;for(const gr of e.validator(t,c))m=!1,yield[gr,void 0];for(let[gr,_r,wr]of e.entries(t,c)){const Or=D(_r,wr,{path:gr===void 0?n:[...n,gr],branch:gr===void 0?o:[...o,_r],coerce:s,mask:a});for(const Ir of Or)Ir[0]?(m=!1,yield[Ir[0],void 0]):s&&(_r=Ir[1],gr===void 0?t=_r:t instanceof Map?t.set(gr,_r):t instanceof Set?t.add(_r):C(t)&&(t[gr]=_r))}if(m)for(const gr of e.refiner(t,c))m=!1,yield[gr,void 0];m&&(yield[void 0,t])}class z{constructor(e){const{type:r,schema:n,validator:o,refiner:s,coercer:a=m=>m,entries:c=function*(){}}=e;this.type=r,this.schema=n,this.entries=c,this.coercer=a,this.validator=o?(m,gr)=>B(o(m,gr),gr,this,m):()=>[],this.refiner=s?(m,gr)=>B(s(m,gr),gr,this,m):()=>[]}assert(e){return function(r,n){const o=R(r,n);if(o[0])throw o[0]}(e,this)}create(e){return N(e,this)}is(e){return j(e,this)}mask(e){return function(r,n){const o=R(r,n,{coerce:!0,mask:!0});if(o[0])throw o[0];return o[1]}(e,this)}validate(e,r={}){return R(e,this,r)}}function N(t,e){const r=R(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function j(t,e){return!R(t,e)[0]}function R(t,e,r={}){const n=D(t,e,r),o=function(s){const{done:a,value:c}=s.next();return a?void 0:c}(n);return o[0]?[new T(o[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function U(t,e){return new z({type:t,schema:null,validator:e})}function V(t){return new z({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+L(e)})}function $(t){const e=L(t),r=typeof t;return new z({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+L(n)})}function q(t){return new z({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function K(){return U("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+L(t))}function F(t){return new z({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function W(){return U("string",t=>typeof t=="string"||"Expected a string, but received: "+L(t))}function G(t){const e=Object.keys(t);return new z({type:"type",schema:t,*entries(r){if(C(r))for(const n of e)yield[n,r[n],t[n]]},validator:r=>C(r)||"Expected an object, but received: "+L(r)})}function H(t){const e=t.map(r=>r.type).join(" | ");return new z({type:"union",schema:null,validator(r,n){const o=[];for(const s of t){const[...a]=D(r,s,n),[c]=a;if(!c[0])return[];for(const[m]of a)m&&o.push(m)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+L(r),...o]}})}function J(){return U("unknown",()=>!0)}async function Z(t,e,r){if(e.length<=99)return await Q(t,e,r);{const n=function(o,s){return Array.apply(0,new Array(Math.ceil(o.length/s))).map((a,c)=>o.slice(c*s,(c+1)*s))}(e,99);return(await Promise.all(n.map(o=>Q(t,o,r)))).flat()}}async function Q(t,e,r){const n=r??t.commitment;return(await t.getMultipleAccountsInfo(e,n)).map((o,s)=>o===null?null:{publicKey:e[s],account:o})}async function X(t,e,r,n,o){r&&r.length>0&&e.sign(...r);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),m={encoding:"base64",commitment:n??t.commitment};if(o){const wr=(Array.isArray(o)?o:s.nonProgramIds()).map(Or=>Or.toBase58());m.accounts={encoding:"base64",addresses:wr}}r&&(m.sigVerify=!0);const gr=[c,m],_r=N(await t._rpcRequest("simulateTransaction",gr),rt);if("error"in _r){let wr;if("data"in _r.error&&(wr=_r.error.data.logs,wr&&Array.isArray(wr))){const Or=`
    `,Ir=Or+wr.join(Or);console.error(_r.error.message,Ir)}throw new SendTransactionError("failed to simulate transaction: "+_r.error.message,wr)}return _r.result}function Y(t){return function(e,r,n){return new z({...e,coercer:(o,s)=>j(o,r)?e.coercer(n(o,s),s):e.coercer(o,s)})}(et(t),tt,e=>"error"in e?e:{...e,result:N(e.result,t)})}const tt=et(J());function et(t){return H([G({jsonrpc:$("2.0"),id:W(),result:t}),G({jsonrpc:$("2.0"),id:W(),error:G({code:J(),message:W(),data:F(U("any",()=>!0))})})])}const rt=(nt=G({err:q(H([G({}),W()])),logs:q(V(W())),accounts:F(q(V(q(G({executable:U("boolean",t=>typeof t=="boolean"),owner:W(),lamports:K(),data:V(W()),rentEpoch:F(K())}))))),unitsConsumed:F(K())}),Y(G({context:G({slot:K()}),value:nt})));var nt,it=Object.freeze({__proto__:null,invoke:async function(t,e,r,n){t=P(t),n||(n=dt());const o=new Transaction;if(o.add(new TransactionInstruction({programId:t,keys:e??[],data:r})),n.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(o,[])},getMultipleAccounts:Z,simulateTransaction:X});class ot{constructor(e,r,n){this.connection=e,this.wallet=r,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,r){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,r,n){var o;n===void 0&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(r??[]).forEach(a=>{e.partialSign(a)});const s=e.serialize();try{return await at(this.connection,s,n)}catch(a){if(a instanceof ct){const c=await this.connection.getTransaction(A(e.signature),{commitment:"confirmed"});if(c){const m=(o=c.meta)===null||o===void 0?void 0:o.logMessages;throw m?new SendTransactionError(a.message,m):a}throw a}throw a}}async sendAll(e,r){r===void 0&&(r=this.opts);const n=await this.connection.getRecentBlockhash(r.preflightCommitment);let o=e.map(c=>{var m;let gr=c.tx,_r=(m=c.signers)!==null&&m!==void 0?m:[];return gr.feePayer=this.wallet.publicKey,gr.recentBlockhash=n.blockhash,_r.forEach(wr=>{gr.partialSign(wr)}),gr});const s=await this.wallet.signAllTransactions(o),a=[];for(let c=0;c<o.length;c+=1){const m=s[c].serialize();a.push(await at(this.connection,m,r))}return a}async simulate(e,r,n,o){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const s=await X(this.connection,e,r,n,o);if(s.value.err)throw new st(s.value);return s.value}}class st extends Error{constructor(e,r){super(r),this.simulationResponse=e}}async function at(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},o=await t.sendRawTransaction(e,n),s=(await t.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new ct(`Raw transaction ${o} failed (${JSON.stringify(s)})`);return o}class ct extends Error{constructor(e){super(e)}}function ut(t){lt=t}function dt(){return lt===null?ot.local():lt}let lt=null;const ht=new Set(["anchor-deprecated-state","debug-logs"]),ft=new Map;function pt(t){return ft.get(t)!==void 0}var mt=Object.freeze({__proto__:null,set:function(t){if(!ht.has(t))throw new Error("Invalid feature");ft.set(t,!0)},isSet:pt});class yt extends Error{constructor(e){super(e),this.name="IdlError"}}class gt{constructor(e){this.stack=e}static parse(e){var r;const n=/^Program (\w*) invoke/,o=/^Program \w* success/,s=[];for(let a=0;a<e.length;a++){if(o.exec(e[a])){s.pop();continue}const c=(r=n.exec(e[a]))===null||r===void 0?void 0:r[1];c&&s.push(new PublicKey(c))}return new gt(s)}}class wt extends Error{constructor(e,r,n,o,s,a){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=o,this.error={errorCode:e,errorMessage:r,comparedValues:a,origin:s},this._programErrorStack=gt.parse(o)}static parse(e){if(!e)return null;const r=e.findIndex(gr=>gr.startsWith("Program log: AnchorError"));if(r===-1)return null;const n=e[r],o=[n];let s;if(r+1<e.length){if(e[r+1]==="Program log: Left:"){const gr=/^Program log: (.*)$/,_r=gr.exec(e[r+2])[1],wr=gr.exec(e[r+4])[1];s=[new PublicKey(_r),new PublicKey(wr)],o.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){const gr=/^Program log: (Left|Right): (.*)$/,_r=gr.exec(e[r+1])[2],wr=gr.exec(e[r+2])[2];o.push(...e.slice(r+1,r+3)),s=[_r,wr]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),m=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[gr,_r,wr]=a.slice(1,4),Or={code:gr,number:parseInt(_r)};return new wt(Or,wr,o,e,void 0,s)}if(c){const[gr,_r,wr,Or,Ir]=c.slice(1,6),Pr={code:wr,number:parseInt(Or)},kr={file:gr,line:parseInt(_r)};return new wt(Pr,Ir,o,e,kr,s)}if(m){const[gr,_r,wr,Or]=m.slice(1,5),Ir=gr,Pr={code:_r,number:parseInt(wr)};return new wt(Pr,Or,o,e,Ir,s)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class vt extends Error{constructor(e,r,n){super(),this.code=e,this.msg=r,this.logs=n,n&&(this._programErrorStack=gt.parse(n))}static parse(e,r){const n=e.toString();let o,s;if(n.includes("custom program error:")){let c=n.split("custom program error: ");if(c.length!==2)return null;o=c[1]}else{const c=n.match(/"Custom":([0-9]+)}/g);if(!c||c.length>1)return null;o=c[0].match(/([0-9]+)/g)[0]}try{s=parseInt(o)}catch{return null}let a=r.get(s);return a!==void 0?new vt(s,a,e.logs):(a=_t.get(s),a!==void 0?new vt(s,a,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function bt(t,e){pt("debug-logs")&&console.log("Translating error:",t);const r=wt.parse(t.logs);if(r)return r;const n=vt.parse(t,e);if(n)return n;if(t.logs){const o={get:function(s,a){return a==="programErrorStack"?s.programErrorStack.stack:a==="program"?s.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=gt.parse(t.logs),new Proxy(t,o)}return t}const At={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},_t=new Map([[At.InstructionMissing,"8 byte instruction identifier not provided"],[At.InstructionFallbackNotFound,"Fallback functions are not supported"],[At.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[At.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[At.IdlInstructionStub,"The program was compiled without idl instructions"],[At.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[At.ConstraintMut,"A mut constraint was violated"],[At.ConstraintHasOne,"A has_one constraint was violated"],[At.ConstraintSigner,"A signer constraint was violated"],[At.ConstraintRaw,"A raw constraint was violated"],[At.ConstraintOwner,"An owner constraint was violated"],[At.ConstraintRentExempt,"A rent exemption constraint was violated"],[At.ConstraintSeeds,"A seeds constraint was violated"],[At.ConstraintExecutable,"An executable constraint was violated"],[At.ConstraintState,"A state constraint was violated"],[At.ConstraintAssociated,"An associated constraint was violated"],[At.ConstraintAssociatedInit,"An associated init constraint was violated"],[At.ConstraintClose,"A close constraint was violated"],[At.ConstraintAddress,"An address constraint was violated"],[At.ConstraintZero,"Expected zero account discriminant"],[At.ConstraintTokenMint,"A token mint constraint was violated"],[At.ConstraintTokenOwner,"A token owner constraint was violated"],[At.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[At.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[At.ConstraintMintDecimals,"A mint decimals constraint was violated"],[At.ConstraintSpace,"A space constraint was violated"],[At.RequireViolated,"A require expression was violated"],[At.RequireEqViolated,"A require_eq expression was violated"],[At.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[At.RequireNeqViolated,"A require_neq expression was violated"],[At.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[At.RequireGtViolated,"A require_gt expression was violated"],[At.RequireGteViolated,"A require_gte expression was violated"],[At.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[At.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[At.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[At.AccountDidNotDeserialize,"Failed to deserialize the account"],[At.AccountDidNotSerialize,"Failed to serialize the account"],[At.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[At.AccountNotMutable,"The given account is not mutable"],[At.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[At.InvalidProgramId,"Program ID was not as expected"],[At.InvalidProgramExecutable,"Program account is not executable"],[At.AccountNotSigner,"The given account did not sign"],[At.AccountNotSystemOwned,"The given account is not owned by the system program"],[At.AccountNotInitialized,"The program expected this account to be already initialized"],[At.AccountNotProgramData,"The given account is not a program data account"],[At.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[At.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[At.StateInvalidAddress,"The given state account does not have the correct address"],[At.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[At.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Et=function(){return Et=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Et.apply(this,arguments)};function St(t){return t.toLowerCase()}var It=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],kt=/[^A-Z0-9]+/gi;function xt(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce(function(n,o){return n.replace(o,r)},t)}function Mt(t,e){return e===void 0&&(e={}),function(r,n){n===void 0&&(n={});for(var o=n.splitRegexp,s=o===void 0?It:o,a=n.stripRegexp,c=a===void 0?kt:a,m=n.transform,gr=m===void 0?St:m,_r=n.delimiter,wr=_r===void 0?" ":_r,Or=xt(xt(r,s,"$1\0$2"),c,"\0"),Ir=0,Pr=Or.length;Or.charAt(Ir)==="\0";)Ir++;for(;Or.charAt(Pr-1)==="\0";)Pr--;return Or.slice(Ir,Pr).split("\0").map(gr).join(wr)}(t,Et({delimiter:"."},e))}class Pt{static fieldLayout(e,r){const n=e.name!==void 0?camelcase.exports(e.name):void 0;switch(e.type){case"bool":return lib.bool(n);case"u8":return lib.u8(n);case"i8":return lib.i8(n);case"u16":return lib.u16(n);case"i16":return lib.i16(n);case"u32":return lib.u32(n);case"i32":return lib.i32(n);case"f32":return lib.f32(n);case"u64":return lib.u64(n);case"i64":return lib.i64(n);case"f64":return lib.f64(n);case"u128":return lib.u128(n);case"i128":return lib.i128(n);case"bytes":return lib.vecU8(n);case"string":return lib.str(n);case"publicKey":return lib.publicKey(n);default:if("vec"in e.type)return lib.vec(Pt.fieldLayout({name:void 0,type:e.type.vec},r),n);if("option"in e.type)return lib.option(Pt.fieldLayout({name:void 0,type:e.type.option},r),n);if("defined"in e.type){const o=e.type.defined;if(r===void 0)throw new yt("User defined types not provided");const s=r.filter(a=>a.name===o);if(s.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Pt.typeDefLayout(s[0],r,n)}if("array"in e.type){let o=e.type.array[0],s=e.type.array[1],a=Pt.fieldLayout({name:void 0,type:o},r);return lib.array(a,s,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,r=[],n){if(e.type.kind==="struct"){const o=e.type.fields.map(s=>Pt.fieldLayout(s,r));return lib.struct(o,n)}if(e.type.kind==="enum"){let o=e.type.variants.map(s=>{const a=camelcase.exports(s.name);if(s.fields===void 0)return lib.struct([],a);const c=s.fields.map(m=>{if(!m.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Pt.fieldLayout(m,r)});return lib.struct(c,a)});return n!==void 0?lib.rustEnum(o).replicate(n):lib.rustEnum(o,n)}throw new Error(`Unknown type kint: ${e}`)}}class Tt{constructor(e){this.idl=e,this.ixLayout=Tt.parseIxLayout(e);const r=new Map;e.instructions.forEach(n=>{const o=Lt("global",n.name);r.set(bs58.encode(o),{layout:this.ixLayout.get(n.name),name:n.name})}),e.state&&e.state.methods.map(n=>{const o=Lt("state",n.name);r.set(bs58.encode(o),{layout:this.ixLayout.get(n.name),name:n.name})}),this.sighashLayouts=r}encode(e,r){return this._encode("global",e,r)}encodeState(e,r){return this._encode("state",e,r)}_encode(e,r,n){const o=buffer$2.Buffer.alloc(1e3),s=camelcase.exports(r),a=this.ixLayout.get(s);if(!a)throw new Error(`Unknown method: ${s}`);const c=a.encode(n,o),m=o.slice(0,c);return buffer$2.Buffer.concat([Lt(e,r),m])}static parseIxLayout(e){const r=(e.state?e.state.methods:[]).map(n=>{let o=n.args.map(a=>{var c,m;return Pt.fieldLayout(a,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(m=e.types)!==null&&m!==void 0?m:[]]))});const s=camelcase.exports(n.name);return[s,lib.struct(o,s)]}).concat(e.instructions.map(n=>{let o=n.args.map(a=>{var c,m;return Pt.fieldLayout(a,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(m=e.types)!==null&&m!==void 0?m:[]]))});const s=camelcase.exports(n.name);return[s,lib.struct(o,s)]}));return new Map(r)}decode(e,r="hex"){typeof e=="string"&&(e=r==="hex"?buffer$2.Buffer.from(e,"hex"):bs58.decode(e));let n=bs58.encode(e.slice(0,8)),o=e.slice(8);const s=this.sighashLayouts.get(n);return s?{data:s.layout.decode(o),name:s.name}:null}format(e,r){return Ct.format(e,r,this.idl)}}class Ct{static format(e,r,n){const o=n.instructions.filter(c=>e.name===c.name)[0];if(o===void 0)return console.error("Invalid instruction given"),null;const s=o.args.map(c=>({name:c.name,type:Ct.formatIdlType(c.type),data:Ct.formatIdlData(c,e.data[c.name],n.types)})),a=Ct.flattenIdlAccounts(o.accounts);return{args:s,accounts:r.map((c,m)=>m<a.length?{name:a[m].name,...c}:{name:void 0,...c})}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,r,n){if(typeof e.type=="string")return r.toString();if(e.type.hasOwnProperty("vec"))return"["+r.map(o=>this.formatIdlData({name:"",type:e.type.vec},o)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return r===null?"null":this.formatIdlData({name:"",type:e.type.option},r,n);if(e.type.hasOwnProperty("defined")){if(n===void 0)throw new Error("User defined types not provided");const o=n.filter(s=>s.name===e.type.defined);if(o.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Ct.formatIdlDataDefined(o[0],r,n)}return"unknown"}static formatIdlDataDefined(e,r,n){if(e.type.kind==="struct"){const o=e.type;return"{ "+Object.keys(r).map(s=>{const a=o.fields.filter(c=>c.name===s)[0];if(a===void 0)throw new Error("Unable to find type");return s+": "+Ct.formatIdlData(a,r[s],n)}).join(", ")+" }"}if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const o=e.type.variants,s=Object.keys(r)[0],a=r[s],c=Object.keys(a).map(gr=>{var _r;const wr=a[gr],Or=(_r=o[s])===null||_r===void 0?void 0:_r.filter(Ir=>Ir.name===gr)[0];if(Or===void 0)throw new Error("Unable to find variant");return gr+": "+Ct.formatIdlData(Or,wr,n)}).join(", "),m=camelcase.exports(s,{pascalCase:!0});return c.length===0?m:`${m} { ${c} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,r){return e.map(n=>{const o=function(s){const a=s.replace(/([A-Z])/g," $1");return a.charAt(0).toUpperCase()+a.slice(1)}(n.name);if(n.hasOwnProperty("accounts")){const s=r?`${r} > ${o}`:o;return Ct.flattenIdlAccounts(n.accounts,s)}return{...n,name:r?`${r} > ${o}`:o}}).flat()}}function Lt(t,e){var r;let n=`${t}:${r===void 0&&(r={}),Mt(e,Et({delimiter:"_"},r))}`;return buffer$2.Buffer.from(sha256.exports.sha256.digest(n)).slice(0,8)}function Ot(t,e){if(e.type.kind==="enum"){let r=e.type.variants.map(n=>n.fields===void 0?0:n.fields.map(o=>{if(typeof o!="object"||!("name"in o))throw new Error("Tuple enum variants not yet implemented.");return Bt(t,o.type)}).reduce((o,s)=>o+s));return Math.max(...r)+1}return e.type.fields===void 0?0:e.type.fields.map(r=>Bt(t,r.type)).reduce((r,n)=>r+n,0)}function Bt(t,e){var r,n;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Bt(t,e.option);if("coption"in e)return 4+Bt(t,e.coption);if("defined"in e){const o=(n=(r=t.types)===null||r===void 0?void 0:r.filter(s=>s.name===e.defined))!==null&&n!==void 0?n:[];if(o.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Ot(t,o[0])}if("array"in e){let o=e.array[0],s=e.array[1];return Bt(t,o)*s}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Dt=8;class zt{constructor(e){if(e.accounts===void 0)return void(this.accountLayouts=new Map);const r=e.accounts.map(n=>[n.name,Pt.typeDefLayout(n,e.types)]);this.accountLayouts=new Map(r),this.idl=e}async encode(e,r){const n=buffer$2.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const s=o.encode(r,n);let a=n.slice(0,s),c=zt.accountDiscriminator(e);return buffer$2.Buffer.concat([c,a])}decode(e,r){if(zt.accountDiscriminator(e).compare(r.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){const n=r.slice(8),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.decode(n)}memcmp(e,r){const n=zt.accountDiscriminator(e);return{offset:0,bytes:bs58.encode(r?buffer$2.Buffer.concat([n,r]):n)}}size(e){var r;return 8+((r=Ot(this.idl,e))!==null&&r!==void 0?r:0)}static accountDiscriminator(e){return buffer$2.Buffer.from(sha256.exports.sha256.digest(`account:${camelcase.exports(e,{pascalCase:!0})}`)).slice(0,8)}}class Nt{constructor(e){if(e.events===void 0)return void(this.layouts=new Map);const r=e.events.map(n=>{let o={name:n.name,type:{kind:"struct",fields:n.fields.map(s=>({name:s.name,type:s.type}))}};return[n.name,Pt.typeDefLayout(o,e.types)]});this.layouts=new Map(r),this.discriminators=new Map(e.events===void 0?[]:e.events.map(n=>[fromByteArray_1(jt(n.name)),n.name]))}decode(e){let r;try{r=buffer$2.Buffer.from(toByteArray_1(e))}catch{return null}const n=fromByteArray_1(r.slice(0,8)),o=this.discriminators.get(n);if(o===void 0)return null;const s=this.layouts.get(o);if(!s)throw new Error(`Unknown event: ${o}`);return{data:s.decode(r.slice(8)),name:o}}}function jt(t){return buffer$2.Buffer.from(sha256.exports.sha256.digest(`event:${t}`)).slice(0,8)}class Rt{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=Pt.typeDefLayout(e.state.struct,e.types)}async encode(e,r){const n=buffer$2.Buffer.alloc(1e3),o=this.layout.encode(r,n),s=await Ut(e),a=n.slice(0,o);return buffer$2.Buffer.concat([s,a])}decode(e){const r=e.slice(8);return this.layout.decode(r)}}async function Ut(t){let e=pt("anchor-deprecated-state")?"account":"state";return buffer$2.Buffer.from(sha256.exports.sha256.digest(`${e}:${t}`)).slice(0,8)}class Vt{constructor(e){this.instruction=new Tt(e),this.accounts=new zt(e),this.events=new Nt(e),e.state&&(this.state=new Rt(e))}}var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class Kt{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}var Ft=Kt;class Wt extends Kt{isCount(){throw new Error("ExternalLayout is abstract")}}class Gt extends Wt{constructor(e,r,n){if(!(e instanceof Kt))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Ht||this.layout instanceof Jt}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class Ht extends Kt{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class Jt extends Kt{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}const Zt=Math.pow(2,32);class Qt extends Kt{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r);return function(o,s){return o*Zt+s}(e.readUInt32LE(r+4),n)}encode(e,r,n){n===void 0&&(n=0);const o=function(s){const a=Math.floor(s/Zt);return{hi32:a,lo32:s-a*Zt}}(e);return r.writeUInt32LE(o.lo32,n),r.writeUInt32LE(o.hi32,n+4),8}}class Xt extends Kt{constructor(e,r,n){if(!Array.isArray(e)||!e.reduce((s,a)=>s&&a instanceof Kt,!0))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,s)=>{const a=s.getSpan(e,r);return r+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let s=0,a=0;for(const c of this.fields){let m=c.span;if(a=0<m?m:0,c.property!==void 0){const gr=e[c.property];gr!==void 0&&(a=c.encode(gr,r,n),0>m&&(m=c.getSpan(r,n)))}s=n,n+=m}return s+a-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class Yt{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class te extends Yt{constructor(e,r){if(!(e instanceof Wt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class ee extends Kt{constructor(e,r,n){const o=e instanceof Ht||e instanceof Jt;if(o)e=new te(new Gt(e));else if(e instanceof Wt&&e.isCount())e=new te(e);else if(!(e instanceof Yt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Kt))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&o&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){let n;r===void 0&&(r=0);const o=this.discriminator,s=o.decode(e,r);let a=this.registry[s];if(a===void 0){let c=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[a.property]=this.defaultLayout.decode(e,r+c)}else n=a.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],r,n),c+a.encode(e[a.property],r,n+c)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new re(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r){let n=e;return Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class re extends Kt{constructor(e,r,n,o){if(!(e instanceof ee))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Kt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),s+=this.layout.getSpan(r,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class ne extends Kt{constructor(e,r){if(!(e instanceof Wt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Wt||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof Wt&&(o=e.length),!Buffer.isBuffer(e)||o!==e.length)throw new TypeError((s="Blob.encode",((a=this).property?s+"["+a.property+"]":s)+" requires (length "+o+") Buffer as src"));var s,a;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof Wt&&this.length.encode(o,r,n),o}}var ie=t=>new Ht(1,t),oe=t=>new Qt(t),se=(t,e,r)=>new Xt(t,e,r),ae=(t,e)=>new ne(t,e);class ce{constructor(e){}encode(e,r){switch(camelcase.exports(e)){case"initializeMint":return function({decimals:n,mintAuthority:o,freezeAuthority:s}){return pe({initializeMint:{decimals:n,mintAuthority:o.toBuffer(),freezeAuthorityOption:!!s,freezeAuthority:(s||PublicKey.default).toBuffer()}})}(r);case"initializeAccount":return pe({initializeAccount:{}});case"initializeMultisig":return function({m:n}){return pe({initializeMultisig:{m:n}})}(r);case"transfer":return function({amount:n}){return pe({transfer:{amount:n}})}(r);case"approve":return function({amount:n}){return pe({approve:{amount:n}})}(r);case"revoke":return pe({revoke:{}});case"setAuthority":return function({authorityType:n,newAuthority:o}){return pe({setAuthority:{authorityType:n,newAuthority:o}})}(r);case"mintTo":return function({amount:n}){return pe({mintTo:{amount:n}})}(r);case"burn":return function({amount:n}){return pe({burn:{amount:n}})}(r);case"closeAccount":return pe({closeAccount:{}});case"freezeAccount":return pe({freezeAccount:{}});case"thawAccount":return pe({thawAccount:{}});case"transferChecked":return function({amount:n,decimals:o}){return pe({transferChecked:{amount:n,decimals:o}})}(r);case"approvedChecked":return function({amount:n,decimals:o}){return pe({approveChecked:{amount:n,decimals:o}})}(r);case"mintToChecked":return function({amount:n,decimals:o}){return pe({mintToChecked:{amount:n,decimals:o}})}(r);case"burnChecked":return function({amount:n,decimals:o}){return pe({burnChecked:{amount:n,decimals:o}})}(r);case"intializeAccount2":return function({authority:n}){return pe({initilaizeAccount2:{authority:n}})}(r);case"syncNative":return pe({syncNative:{}});case"initializeAccount3":return function({authority:n}){return pe({initializeAccount3:{authority:n}})}(r);case"initializeMultisig2":return function({m:n}){return pe({initializeMultisig2:{m:n}})}(r);case"initializeMint2":return function({decimals:n,mintAuthority:o,freezeAuthority:s}){return pe({encodeInitializeMint2:{decimals:n,mintAuthority:o,freezeAuthority:s}})}(r);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,r){throw new Error("SPL token does not have state")}}const ue=(de=ie("instruction"),new ee(de,le,he));var de,le,he;function fe(t){return ae(32,t)}function pe(t){let e=Buffer.alloc(me),r=ue.encode(t,e);return e.slice(0,r)}ue.addVariant(0,se([ie("decimals"),ae(32,"mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint"),ue.addVariant(1,se([]),"initializeAccount"),ue.addVariant(2,se([ie("m")]),"initializeMultisig"),ue.addVariant(3,se([oe("amount")]),"transfer"),ue.addVariant(4,se([oe("amount")]),"approve"),ue.addVariant(5,se([]),"revoke"),ue.addVariant(6,se([ie("authorityType"),ie("newAuthorityOption"),fe("newAuthority")]),"setAuthority"),ue.addVariant(7,se([oe("amount")]),"mintTo"),ue.addVariant(8,se([oe("amount")]),"burn"),ue.addVariant(9,se([]),"closeAccount"),ue.addVariant(10,se([]),"freezeAccount"),ue.addVariant(11,se([]),"thawAccount"),ue.addVariant(12,se([oe("amount"),ie("decimals")]),"transferChecked"),ue.addVariant(13,se([oe("amount"),ie("decimals")]),"approvedChecked"),ue.addVariant(14,se([oe("amount"),ie("decimals")]),"mintToChecked"),ue.addVariant(15,se([oe("amount"),ie("decimals")]),"burnedChecked"),ue.addVariant(16,se([fe("authority")]),"InitializeAccount2"),ue.addVariant(17,se([]),"syncNative"),ue.addVariant(18,se([fe("authority")]),"initializeAccount3"),ue.addVariant(19,se([ie("m")]),"initializeMultisig2"),ue.addVariant(20,se([ie("decimals"),fe("mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint2");const me=Math.max(...Object.values(ue.registry).map(t=>t.span));class ye{constructor(e){}encode(e,r){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function ge(t){return new be(ae(8),e=>Se.fromBuffer(e),e=>e.toBuffer(),t)}function we(t){return new be(ae(32),e=>new PublicKey(e),e=>e.toBuffer(),t)}function ve(t,e){return new Ae(t,e)}class be extends Ft{constructor(e,r,n,o){super(e.span,o),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}class Ae extends Ft{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=(n=>new Ht(4,n))()}encode(e,r,n=0){return e==null?this.layout.span+this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+4)+4)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,r=0){return this.layout.getSpan(e,r+4)+4}}function _e(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function Ee(t){return t?1:0}class Se extends BN{toBuffer(){const e=super.toArray().reverse(),r=Buffer.from(e);if(r.length===8)return r;if(r.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new Se([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}class Ie{constructor(e){this.idl=e}async encode(e,r){switch(e){case"token":{const n=Buffer.alloc(165),o=xe.encode(r,n);return n.slice(0,o)}case"mint":{const n=Buffer.alloc(82),o=ke.encode(r,n);return n.slice(0,o)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,r){return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){switch(e){case"token":return function(n){return xe.decode(n)}(r);case"mint":return function(n){return ke.decode(n)}(r);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,r){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var r;return(r=Ot(this.idl,e))!==null&&r!==void 0?r:0}}const ke=se([ve(we(),"mintAuthority"),ge("supply"),ie("decimals"),function(t){return new be(ie(),_e,Ee,t)}("isInitialized"),ve(we(),"freezeAuthority")]),xe=se([we("mint"),we("authority"),ge("amount"),ve(we(),"delegate"),ie("state"),ve(ge(),"isNative"),ge("delegatedAmount"),ve(we(),"closeAuthority")]);class Me{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Pe{constructor(e){this.instruction=new ce(e),this.accounts=new Ie(e),this.events=new Me(e),this.state=new ye(e)}}var Te=Object.freeze({__proto__:null,hash:function(t){return sha256.exports.sha256(t)}});function Ce(t,e,r){const n=buffer$2.Buffer.concat([t.toBuffer(),buffer$2.Buffer.from(e),r.toBuffer()]),o=sha256.exports.sha256.digest(n);return new PublicKey(buffer$2.Buffer.from(o))}function Le(t,e){let r=buffer$2.Buffer.alloc(0);t.forEach(function(s){if(s.length>32)throw new TypeError("Max seed length exceeded");r=buffer$2.Buffer.concat([r,Be(s)])}),r=buffer$2.Buffer.concat([r,e.toBuffer(),buffer$2.Buffer.from("ProgramDerivedAddress")]);let n=sha256.exports.sha256(new Uint8Array(r)),o=new BN(n,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(o)}function Oe(t,e){let r,n=255;for(;n!=0;){try{r=Le(t.concat(buffer$2.Buffer.from([n])),e)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const Be=t=>t instanceof buffer$2.Buffer?t:t instanceof Uint8Array?buffer$2.Buffer.from(t.buffer,t.byteOffset,t.byteLength):buffer$2.Buffer.from(t);async function De(t,...e){let r=[buffer$2.Buffer.from([97,110,99,104,111,114])];e.forEach(o=>{r.push(o instanceof buffer$2.Buffer?o:P(o).toBuffer())});const[n]=await PublicKey.findProgramAddress(r,P(t));return n}var ze=Object.freeze({__proto__:null,createWithSeedSync:Ce,createProgramAddressSync:Le,findProgramAddressSync:Oe,associated:De});const Ne=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),je=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Re=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:je,associatedAddress:async function({mint:t,owner:e}){return(await PublicKey.findProgramAddress([e.toBuffer(),Ne.toBuffer(),t.toBuffer()],je))[0]}}),Ue={exports:{}};(function(t,e){var r=typeof self<"u"?self:$t,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(a){var c="URLSearchParams"in s,m="Symbol"in s&&"iterator"in Symbol,gr="FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),_r="FormData"in s,wr="ArrayBuffer"in s;if(wr)var Or=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ir=ArrayBuffer.isView||function(Rr){return Rr&&Or.indexOf(Object.prototype.toString.call(Rr))>-1};function Pr(Rr){if(typeof Rr!="string"&&(Rr=String(Rr)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Rr))throw new TypeError("Invalid character in header field name");return Rr.toLowerCase()}function kr(Rr){return typeof Rr!="string"&&(Rr=String(Rr)),Rr}function xr(Rr){var vr={next:function(){var Tr=Rr.shift();return{done:Tr===void 0,value:Tr}}};return m&&(vr[Symbol.iterator]=function(){return vr}),vr}function Cr(Rr){this.map={},Rr instanceof Cr?Rr.forEach(function(vr,Tr){this.append(Tr,vr)},this):Array.isArray(Rr)?Rr.forEach(function(vr){this.append(vr[0],vr[1])},this):Rr&&Object.getOwnPropertyNames(Rr).forEach(function(vr){this.append(vr,Rr[vr])},this)}function Kr(Rr){if(Rr.bodyUsed)return Promise.reject(new TypeError("Already read"));Rr.bodyUsed=!0}function Fr(Rr){return new Promise(function(vr,Tr){Rr.onload=function(){vr(Rr.result)},Rr.onerror=function(){Tr(Rr.error)}})}function qr(Rr){var vr=new FileReader,Tr=Fr(vr);return vr.readAsArrayBuffer(Rr),Tr}function Gr(Rr){if(Rr.slice)return Rr.slice(0);var vr=new Uint8Array(Rr.byteLength);return vr.set(new Uint8Array(Rr)),vr.buffer}function jr(){return this.bodyUsed=!1,this._initBody=function(Rr){var vr;this._bodyInit=Rr,Rr?typeof Rr=="string"?this._bodyText=Rr:gr&&Blob.prototype.isPrototypeOf(Rr)?this._bodyBlob=Rr:_r&&FormData.prototype.isPrototypeOf(Rr)?this._bodyFormData=Rr:c&&URLSearchParams.prototype.isPrototypeOf(Rr)?this._bodyText=Rr.toString():wr&&gr&&(vr=Rr)&&DataView.prototype.isPrototypeOf(vr)?(this._bodyArrayBuffer=Gr(Rr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):wr&&(ArrayBuffer.prototype.isPrototypeOf(Rr)||Ir(Rr))?this._bodyArrayBuffer=Gr(Rr):this._bodyText=Rr=Object.prototype.toString.call(Rr):this._bodyText="",this.headers.get("content-type")||(typeof Rr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c&&URLSearchParams.prototype.isPrototypeOf(Rr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},gr&&(this.blob=function(){var Rr=Kr(this);if(Rr)return Rr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Kr(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(qr)}),this.text=function(){var Rr=Kr(this);if(Rr)return Rr;if(this._bodyBlob)return function(vr){var Tr=new FileReader,Lr=Fr(Tr);return Tr.readAsText(vr),Lr}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(vr){for(var Tr=new Uint8Array(vr),Lr=new Array(Tr.length),Ur=0;Ur<Tr.length;Ur++)Lr[Ur]=String.fromCharCode(Tr[Ur]);return Lr.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_r&&(this.formData=function(){return this.text().then(ln)}),this.json=function(){return this.text().then(JSON.parse)},this}Cr.prototype.append=function(Rr,vr){Rr=Pr(Rr),vr=kr(vr);var Tr=this.map[Rr];this.map[Rr]=Tr?Tr+", "+vr:vr},Cr.prototype.delete=function(Rr){delete this.map[Pr(Rr)]},Cr.prototype.get=function(Rr){return Rr=Pr(Rr),this.has(Rr)?this.map[Rr]:null},Cr.prototype.has=function(Rr){return this.map.hasOwnProperty(Pr(Rr))},Cr.prototype.set=function(Rr,vr){this.map[Pr(Rr)]=kr(vr)},Cr.prototype.forEach=function(Rr,vr){for(var Tr in this.map)this.map.hasOwnProperty(Tr)&&Rr.call(vr,this.map[Tr],Tr,this)},Cr.prototype.keys=function(){var Rr=[];return this.forEach(function(vr,Tr){Rr.push(Tr)}),xr(Rr)},Cr.prototype.values=function(){var Rr=[];return this.forEach(function(vr){Rr.push(vr)}),xr(Rr)},Cr.prototype.entries=function(){var Rr=[];return this.forEach(function(vr,Tr){Rr.push([Tr,vr])}),xr(Rr)},m&&(Cr.prototype[Symbol.iterator]=Cr.prototype.entries);var Vr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Jr(Rr,vr){var Tr,Lr,Ur=(vr=vr||{}).body;if(Rr instanceof Jr){if(Rr.bodyUsed)throw new TypeError("Already read");this.url=Rr.url,this.credentials=Rr.credentials,vr.headers||(this.headers=new Cr(Rr.headers)),this.method=Rr.method,this.mode=Rr.mode,this.signal=Rr.signal,Ur||Rr._bodyInit==null||(Ur=Rr._bodyInit,Rr.bodyUsed=!0)}else this.url=String(Rr);if(this.credentials=vr.credentials||this.credentials||"same-origin",!vr.headers&&this.headers||(this.headers=new Cr(vr.headers)),this.method=(Tr=vr.method||this.method||"GET",Lr=Tr.toUpperCase(),Vr.indexOf(Lr)>-1?Lr:Tr),this.mode=vr.mode||this.mode||null,this.signal=vr.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Ur)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Ur)}function ln(Rr){var vr=new FormData;return Rr.trim().split("&").forEach(function(Tr){if(Tr){var Lr=Tr.split("="),Ur=Lr.shift().replace(/\+/g," "),Hr=Lr.join("=").replace(/\+/g," ");vr.append(decodeURIComponent(Ur),decodeURIComponent(Hr))}}),vr}function tn(Rr,vr){vr||(vr={}),this.type="default",this.status=vr.status===void 0?200:vr.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in vr?vr.statusText:"OK",this.headers=new Cr(vr.headers),this.url=vr.url||"",this._initBody(Rr)}Jr.prototype.clone=function(){return new Jr(this,{body:this._bodyInit})},jr.call(Jr.prototype),jr.call(tn.prototype),tn.prototype.clone=function(){return new tn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Cr(this.headers),url:this.url})},tn.error=function(){var Rr=new tn(null,{status:0,statusText:""});return Rr.type="error",Rr};var sn=[301,302,303,307,308];tn.redirect=function(Rr,vr){if(sn.indexOf(vr)===-1)throw new RangeError("Invalid status code");return new tn(null,{status:vr,headers:{location:Rr}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(vr,Tr){this.message=vr,this.name=Tr;var Lr=Error(vr);this.stack=Lr.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function dn(Rr,vr){return new Promise(function(Tr,Lr){var Ur=new Jr(Rr,vr);if(Ur.signal&&Ur.signal.aborted)return Lr(new a.DOMException("Aborted","AbortError"));var Hr=new XMLHttpRequest;function nn(){Hr.abort()}Hr.onload=function(){var pn,Nr,Er={status:Hr.status,statusText:Hr.statusText,headers:(pn=Hr.getAllResponseHeaders()||"",Nr=new Cr,pn.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(cn){var Yr=cn.split(":"),Zr=Yr.shift().trim();if(Zr){var an=Yr.join(":").trim();Nr.append(Zr,an)}}),Nr)};Er.url="responseURL"in Hr?Hr.responseURL:Er.headers.get("X-Request-URL");var Mr="response"in Hr?Hr.response:Hr.responseText;Tr(new tn(Mr,Er))},Hr.onerror=function(){Lr(new TypeError("Network request failed"))},Hr.ontimeout=function(){Lr(new TypeError("Network request failed"))},Hr.onabort=function(){Lr(new a.DOMException("Aborted","AbortError"))},Hr.open(Ur.method,Ur.url,!0),Ur.credentials==="include"?Hr.withCredentials=!0:Ur.credentials==="omit"&&(Hr.withCredentials=!1),"responseType"in Hr&&gr&&(Hr.responseType="blob"),Ur.headers.forEach(function(pn,Nr){Hr.setRequestHeader(Nr,pn)}),Ur.signal&&(Ur.signal.addEventListener("abort",nn),Hr.onreadystatechange=function(){Hr.readyState===4&&Ur.signal.removeEventListener("abort",nn)}),Hr.send(Ur._bodyInit===void 0?null:Ur._bodyInit)})}dn.polyfill=!0,s.fetch||(s.fetch=dn,s.Headers=Cr,s.Request=Jr,s.Response=tn),a.Headers=Cr,a.Request=Jr,a.Response=tn,a.fetch=dn,Object.defineProperty(a,"__esModule",{value:!0})})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(Ue,Ue.exports);var Ve=qt(Ue.exports);async function $e(t,e){const r=await t.getAccountInfo(e);if(r===null)throw new Error("program account not found");const{program:n}=Ke(r.data),o=await t.getAccountInfo(n.programdataAddress);if(o===null)throw new Error("program data account not found");const{programData:s}=Ke(o.data);return s}const qe=lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());function Ke(t){return qe.decode(t)}var Fe=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,r=5){const n=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${r}`,[o,s]=await Promise.all([$e(t,e),Ve(n)]),a=(await s.json()).filter(m=>!m.aborted&&m.state==="Built"&&m.verified==="Verified");if(a.length===0)return null;const c=a[0];return o.slot.toNumber()!==c.verified_slot?null:c},fetchData:$e,decodeUpgradeableLoaderState:Ke}),We=Object.freeze({__proto__:null,sha256:Te,rpc:it,publicKey:ze,bytes:I,token:Re,features:mt,registry:Fe});const Ge=lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);function He(t,e){var r,n;let o={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${t?.name} expecting: ${(n=(r=t.args)===null||r===void 0?void 0:r.map(a=>a.name))!==null&&n!==void 0?n:[]}`);o=e.pop()}return[e,o]}class Je{static build(e,r,n){if(e.name==="_inner")throw new yt("the _inner name is reserved");const o=(...s)=>{const[a,c]=He(e,[...s]);M(e.accounts,c.accounts);const m=o.accounts(c.accounts);return c.remainingAccounts!==void 0&&m.push(...c.remainingAccounts),pt("debug-logs")&&console.log("Outgoing account metas:",m),new TransactionInstruction({keys:m,programId:n,data:r(e.name,x(e,...a))})};return o.accounts=s=>Je.accountsArray(s,e.accounts,e.name),o}static accountsArray(e,r,n){return e?r.map(o=>{if(("accounts"in o?o.accounts:void 0)!==void 0){const s=e[o.name];return Je.accountsArray(s,o.accounts,n).flat()}{const s=o;let a;try{a=P(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${n!==void 0?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:a,isWritable:s.isMut,isSigner:s.isSigner}}}).flat():[]}}class Ze{static build(e,r,n,o){return async(...s)=>{var a;const c=r(...s),[,m]=He(e,[...s]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(c,(a=m.signers)!==null&&a!==void 0?a:[],m.options)}catch(gr){throw bt(gr,n)}}}}class Qe{static build(e,r){return(...n)=>{var o,s,a;const[,c]=He(e,[...n]),m=new Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=c.preInstructions)===null||o===void 0||o.forEach(gr=>m.add(gr)),(s=c.instructions)===null||s===void 0||s.forEach(gr=>m.add(gr)),m.add(r(...n)),(a=c.postInstructions)===null||a===void 0||a.forEach(gr=>m.add(gr)),m}}}class Xe{constructor(e,r,n=dt(),o=new Vt(e)){this.provider=n,this.coder=o,this._idl=e,this._programId=r,this._address=Ye(r),this._sub=null;const[s,a,c]=(()=>{var m;let gr={},_r={},wr={};return(m=e.state)===null||m===void 0||m.methods.forEach(Or=>{const Ir=Je.build(Or,(Cr,Kr)=>o.instruction.encodeState(Cr,Kr),r);Ir.accounts=Cr=>function(Fr,qr,Gr,jr){if(Gr.name==="new"){const[Vr]=Oe([],Fr);if(qr.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:qr.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Ye(Fr),isWritable:!0,isSigner:!1},{pubkey:Vr,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:Fr,isWritable:!1,isSigner:!1}]}return M(Gr.accounts,jr),[{pubkey:Ye(Fr),isWritable:!0,isSigner:!1}]}(r,n,Or,Cr).concat(Je.accountsArray(Cr,Or.accounts,Or.name));const Pr=Qe.build(Or,Ir),kr=Ze.build(Or,Pr,k(e),n),xr=camelcase.exports(Or.name);gr[xr]=Ir,_r[xr]=Pr,wr[xr]=kr}),[gr,_r,wr]})();this.instruction=s,this.transaction=a,this.rpc=c}get programId(){return this._programId}async fetch(){const e=this.address(),r=await this.provider.connection.getAccountInfo(e);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await Ut(n.struct.name)).compare(r.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(r.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const r=new EventEmitter,n=this.provider.connection.onAccountChange(this.address(),o=>{const s=this.coder.state.decode(o.data);r.emit("change",s)},e);return this._sub={ee:r,listener:n},r}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function Ye(t){let[e]=Oe([],t);return Ce(e,"unversioned",t)}class tr{constructor(e,r,n,o,s){this._idlAccount=r,this._programId=n,this._provider=o??dt(),this._coder=s??new Vt(e),this._size=this._coder.accounts.size(r)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,r){const n=await this.getAccountInfo(e,r);return n===null?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,r){const n=await this.fetchNullable(e,r);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,r){return(await Z(this._provider.connection,e.map(n=>P(n)),r)).map(n=>n==null?null:this._coder.accounts.decode(this._idlAccount.name,n?.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:r,account:n})=>({publicKey:r,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}))}subscribe(e,r){const n=er.get(e.toString());if(n)return n.ee;const o=new EventEmitter;e=P(e);const s=this._provider.connection.onAccountChange(e,a=>{const c=this._coder.accounts.decode(this._idlAccount.name,a.data);o.emit("change",c)},r);return er.set(e.toString(),{ee:o,listener:s}),o}async unsubscribe(e){let r=er.get(e.toString());r?er&&await this._provider.connection.removeAccountChangeListener(r.listener).then(()=>{er.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,r){const n=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:r??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(r??n),programId:this._programId})}async associated(...e){const r=await this.associatedAddress(...e);return await this.fetch(r)}async associatedAddress(...e){return await De(this._programId,...e)}async getAccountInfo(e,r){return await this._provider.connection.getAccountInfo(P(e),r)}}const er=new Map,rr=13,nr=14;class ir{constructor(e,r,n){this._programId=e,this._provider=r,this._eventParser=new or(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,r){var n;let o=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((n=this._eventListeners.get(e))!==null&&n!==void 0?n:[]).concat(o)),this._eventCallbacks.set(o,[e,r]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,a)=>{s.err||this._eventParser.parseLogs(s.logs,c=>{const m=this._eventListeners.get(c.name);m&&m.forEach(gr=>{const _r=this._eventCallbacks.get(gr);if(_r){const[,wr]=_r;wr(c.data,a.slot)}})})})),o}async removeEventListener(e){const r=this._eventCallbacks.get(e);if(!r)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=r;let o=this._eventListeners.get(n);if(!o)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),o=o.filter(s=>s!==e),o.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size==0&&(assertExports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class or{constructor(e,r){this.coder=r,this.programId=e}parseLogs(e,r){const n=new ar(e),o=new sr;let s=n.next();for(;s!==null;){let[a,c,m]=this.handleLog(o,s);a&&r(a),c&&o.push(c),m&&o.pop(),s=n.next()}}handleLog(e,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(r):[null,...this.handleSystemLog(r)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const r=e.startsWith("Program log: ")?e.slice(rr):e.slice(nr);return[this.coder.events.decode(r),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const r=e.split(":")[0];return r.match(/^Program (.*) success/g)!==null?[null,!0]:r.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:r.includes("invoke")?["cpi",!1]:[null,!1]}}class sr{constructor(){this.stack=[]}program(){return assertExports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){assertExports.ok(this.stack.length>0),this.stack.pop()}}class ar{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const cr=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function ur(){return new Pe(dr)}const dr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class lr{constructor(e,r,n,o,s,a){this._args=e,this._accounts=r,this._provider=n,this._programId=o,this._idlIx=s,this._accountStore=new hr(n,a)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const r=this._idlIx.accounts[e],n=camelcase.exports(r.name);if(r.pda&&r.pda.seeds.length>0&&!this._accounts[n])await this.autoPopulatePda(r);else if(!r.isSigner||this._accounts[n])Reflect.has(lr.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=lr.CONST_ACCOUNTS[n]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const r=await Promise.all(e.pda.seeds.map(s=>this.toBuffer(s))),n=await this.parseProgramId(e),[o]=await PublicKey.findProgramAddress(r,n);this._accounts[camelcase.exports(e.name)]=o}async parseProgramId(e){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const r=this.argValue(e);return this.toBufferValue(e.type,r)}argValue(e){const r=camelcase.exports(e.path.split(".")[0]),n=this._idlIx.args.findIndex(o=>o.name===r);if(n===-1)throw new Error(`Unable to find argument for seed: ${r}`);return this._args[n]}async toBufferAccount(e){const r=await this.accountValue(e);return this.toBufferValue(e.type,r)}async accountValue(e){const r=e.path.split("."),n=r[0],o=this._accounts[camelcase.exports(n)];if(r.length===1)return o;const s=await this._accountStore.fetchAccount(e.account,o);return this.parseAccountValue(s,r.slice(1))}parseAccountValue(e,r){let n;for(;r.length>0;)n=e[camelcase.exports(r[0])],r=r.slice(1);return n}toBufferValue(e,r){switch(e){case"u8":return Buffer.from([r]);case"u16":let n=Buffer.alloc(2);return n.writeUInt16LE(r),n;case"u32":let o=Buffer.alloc(4);return o.writeUInt32LE(r),o;case"u64":let s=Buffer.alloc(8);return s.writeBigUInt64LE(BigInt(r)),s;case"string":return Buffer.from(v(r));case"publicKey":return r.toBuffer();default:if(e.array)return Buffer.from(r);throw new Error(`Unexpected seed type: ${e}`)}}}lr.CONST_ACCOUNTS={systemProgram:SystemProgram.programId,tokenProgram:Ne,associatedTokenProgram:je,rent:SYSVAR_RENT_PUBKEY};class hr{constructor(e,r){this._provider=e,this._accounts=r,this._cache=new Map}async fetchAccount(e,r){const n=r.toString();if(!this._cache.has(n))if(e==="TokenAccount"){const o=await this._provider.connection.getAccountInfo(r);if(o===null)throw new Error(`invalid account info for ${n}`);const s=ur().accounts.decode("token",o.data);this._cache.set(n,s)}else{const o=this._accounts[camelcase.exports(e)].fetch(r);this._cache.set(n,o)}return this._cache.get(n)}}class fr{static build(e,r,n,o,s,a,c,m,gr){return(..._r)=>new pr(_r,o,s,a,c,m,e,r,n,gr)}}class pr{constructor(e,r,n,o,s,a,c,m,gr,_r){this._args=e,this._ixFn=r,this._txFn=n,this._rpcFn=o,this._simulateFn=s,this._viewFn=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new lr(e,this._accounts,c,m,gr,_r)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class mr{constructor(e,r,n,o){r=P(r),n||(n=dt()),this._idl=e,this._provider=n,this._programId=r,this._coder=o??new Vt(e),this._events=new ir(this._programId,n,this._coder);const[s,a,c,m,gr,_r,wr,Or]=class{static build(Ir,Pr,kr,xr){const Cr={},Kr={},Fr={},qr={},Gr={},jr={},Vr=k(Ir),Jr=Ir.accounts?class{static build(tn,sn,dn,Rr){var vr;const Tr={};return(vr=tn.accounts)===null||vr===void 0||vr.forEach(Lr=>{const Ur=camelcase.exports(Lr.name);Tr[Ur]=new tr(tn,Lr,dn,Rr,sn)}),Tr}}.build(Ir,Pr,kr,xr):{},ln=class{static build(tn,sn,dn,Rr){if(tn.state!==void 0)return new Xe(tn,dn,Rr,sn)}}.build(Ir,Pr,kr,xr);return Ir.instructions.forEach(tn=>{const sn=Je.build(tn,(Hr,nn)=>Pr.instruction.encode(Hr,nn),kr),dn=Qe.build(tn,sn),Rr=Ze.build(tn,dn,Vr,xr),vr=class{static build(Hr,nn,pn,Nr,Er,Mr,cn){return async(...Yr)=>{var Zr;const an=nn(...Yr),[,un]=He(Hr,[...Yr]);let yn;if(Nr.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{yn=await Nr.simulate(an,un.signers,(Zr=un.options)===null||Zr===void 0?void 0:Zr.commitment)}catch(In){throw bt(In,pn)}if(yn===void 0)throw new Error("Unable to simulate transaction");const On=yn.logs;if(!On)throw new Error("Simulated logs not found");const Tn=[];return cn.events&&new or(Mr,Er).parseLogs(On,In=>{Tn.push(In)}),{events:Tn,raw:On}}}}.build(tn,dn,Vr,xr,Pr,kr,Ir),Tr=class{static build(Hr,nn,pn,Nr){const Er=nn.accounts.find(cn=>cn.isMut),Mr=!!nn.returns;if(!Er&&Mr)return async(...cn)=>{var Yr,Zr;let an=await pn(...cn);const un=`Program return: ${Hr} `;let yn=an.raw.find(In=>In.startsWith(un));if(!yn)throw new Error("View expected return log");let On=E(yn.slice(un.length)),Tn=nn.returns;if(!Tn)throw new Error("View expected return type");return Pt.fieldLayout({type:Tn},Array.from([...(Yr=Nr.accounts)!==null&&Yr!==void 0?Yr:[],...(Zr=Nr.types)!==null&&Zr!==void 0?Zr:[]])).decode(On)}}}.build(kr,tn,vr,Ir),Lr=fr.build(xr,kr,tn,sn,dn,Rr,vr,Tr,Jr),Ur=camelcase.exports(tn.name);Kr[Ur]=sn,Fr[Ur]=dn,Cr[Ur]=Rr,qr[Ur]=vr,Gr[Ur]=Lr,Tr&&(jr[Ur]=Tr)}),[Cr,Kr,Fr,Jr,qr,Gr,ln,jr]}}.build(e,this._coder,r,n);this.rpc=s,this.instruction=a,this.transaction=c,this.account=m,this.simulate=gr,this.methods=_r,this.state=wr,this.views=Or}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,r){const n=P(e),o=await mr.fetchIdl(n,r);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new mr(o,n,r)}static async fetchIdl(e,r){r=r??dt();const n=P(e),o=await async function(gr){const _r=(await PublicKey.findProgramAddress([],gr))[0];return await PublicKey.createWithSeed(_r,"anchor:idl",gr)}(n),s=await r.connection.getAccountInfo(o);if(!s)return null;let a=(c=s.data.slice(8),Ge.decode(c));var c;const m=inflate_1(a.data);return JSON.parse(w(m))}addEventListener(e,r){return this._events.addEventListener(e,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class yr{static token(e){return function(r){return new mr(dr,cr,r,ur())}(e)}}const browser=Object.freeze(Object.defineProperty({__proto__:null,web3:index_browser_esm$1,ACCOUNT_DISCRIMINATOR_SIZE:Dt,AccountClient:tr,AnchorError:wt,AnchorProvider:ot,BorshAccountsCoder:zt,BorshCoder:Vt,BorshEventCoder:Nt,BorshInstructionCoder:Tt,BorshStateCoder:Rt,EventManager:ir,EventParser:or,IdlError:yt,LangErrorCode:At,LangErrorMessage:_t,MethodsBuilderFactory:fr,Program:mr,ProgramError:vt,ProgramErrorStack:gt,Spl:yr,SplTokenCoder:Pe,StateClient:Xe,eventDiscriminator:jt,getProvider:dt,parseIdlErrors:k,setProvider:ut,splitArgsAndCtx:He,stateDiscriminator:Ut,toInstruction:x,translateAddress:P,translateError:bt,utils:We,validateAccounts:M,BN},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser);var stakingIdl={};Object.defineProperty(stakingIdl,"__esModule",{value:!0});stakingIdl.stakingIdl=void 0;stakingIdl.stakingIdl={version:"0.1.0",name:"atlas_staking",instructions:[{name:"cancelUnstake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[]},{name:"createStakingAccount",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"harvest",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStaking",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerStake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"Mint",path:"stake_mint"},{kind:"account",type:"publicKey",account:"Mint",path:"reward_mint"}]}},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"}]},{name:"settle",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[{name:"updatedStakingPeriod",type:"u16"}]},{name:"stakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeAmount",type:"u64"}]},{name:"unstakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateRewardMultiplier",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"rewardMultiplier",type:"u64"},{name:"newStakingPeriod",type:"u16"}]},{name:"withdrawTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"RegisteredStake",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"rewardMint",type:"publicKey"},{name:"currentPeriod",type:"u16"},{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"},{name:"bump",type:"u8"}]}},{name:"StakingAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"totalStake",type:"u64"},{name:"activeStake",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"paidRewards",type:"u64"},{name:"currentPeriod",type:"u16"},{name:"stakedAtTs",type:"i64"},{name:"lastPendingRewardCalcTs",type:"i64"},{name:"lastHarvestTs",type:"i64"},{name:"unstakedTs",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StakingVars",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"bump",type:"u8"}]}}],errors:[{code:6e3,name:"InvalidMint",msg:"Invalid Token Mint"},{code:6001,name:"InvalidOwner",msg:"Account now owned by user"},{code:6002,name:"InsufficientFunds",msg:"Insufficient token balance"},{code:6003,name:"InvalidAuthority",msg:"Invalid authority for this account"},{code:6004,name:"InvalidDepositQty",msg:"Invalid deposit quantity"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"StakeOnCooldown",msg:"Cannot stake while account is on cooldown"},{code:6007,name:"InvalidEscrowAuth",msg:"Invalid escrow authority"},{code:6008,name:"WithdrawOnCooldown",msg:"Cannot withdraw before cooldown period has elapsed"},{code:6009,name:"InvalidPeriod",msg:"Staking account must be in the same period as the Registered Stake"},{code:6010,name:"NotOnCooldown",msg:"Staking account is not on cooldown"}],metadata:{}};Object.defineProperty(getStakingProgram$1,"__esModule",{value:!0});getStakingProgram$1.getStakingProgram=getStakingProgram$1.getStakingIdl=void 0;const anchor_1$a=require$$0$1,stakingIdl_1=stakingIdl;function getStakingIdl(t){const e=stakingIdl_1.stakingIdl;return e.metadata.address=t.toBase58(),e}getStakingProgram$1.getStakingIdl=getStakingIdl;function getStakingProgram({connection:t,programId:e}){const r=getStakingIdl(e),n=new anchor_1$a.AnchorProvider(t,null,null);return new anchor_1$a.Program(r,e,n)}getStakingProgram$1.getStakingProgram=getStakingProgram;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(getStakingProgram$1,t)})(utils$1);var __awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(cancelUnstake,"__esModule",{value:!0});cancelUnstake.cancelUnstakeInstruction=void 0;const utils_1$c=utils$1;function cancelUnstakeInstruction({connection:t,user:e,registeredStake:r,programId:n}){return __awaiter$i(this,void 0,void 0,function*(){const o=(0,utils_1$c.getStakingProgram)({connection:t,programId:n}),s={instructions:[],signers:[]},a=yield o.methods.cancelUnstake().accounts({user:e,registeredStake:r}).instruction();return s.instructions.push(a),s})}cancelUnstake.cancelUnstakeInstruction=cancelUnstakeInstruction;var createStakeAccount={},__awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(createStakeAccount,"__esModule",{value:!0});createStakeAccount.createStakingAccountInstruction=void 0;const utils_1$b=utils$1;function createStakingAccountInstruction({connection:t,user:e,registeredStake:r,programId:n}){return __awaiter$h(this,void 0,void 0,function*(){const o=(0,utils_1$b.getStakingProgram)({connection:t,programId:n}),s={instructions:[],signers:[]},a=yield o.methods.createStakingAccount().accounts({user:e,registeredStake:r}).instruction();return s.instructions.push(a),s})}createStakeAccount.createStakingAccountInstruction=createStakingAccountInstruction;var harvestRewards={},token={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.associatedAddress=t.ASSOCIATED_PROGRAM_ID=t.TOKEN_PROGRAM_ID=void 0;const e=require$$0$2;t.TOKEN_PROGRAM_ID=new e.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.ASSOCIATED_PROGRAM_ID=new e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function r({mint:n,owner:o}){return(await e.PublicKey.findProgramAddress([o.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_PROGRAM_ID))[0]}t.associatedAddress=r})(token);var util={},helpers$1={};function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength(t){var e=getLens(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength(t,e,r){return(e+r)*3/4-r}function toByteArray(t){var e,r=getLens(t),n=r[0],o=r[1],s=new Arr(_byteLength(t,n,o)),a=0,c=o>0?n-4:n,m;for(m=0;m<c;m+=4)e=revLookup[t.charCodeAt(m)]<<18|revLookup[t.charCodeAt(m+1)]<<12|revLookup[t.charCodeAt(m+2)]<<6|revLookup[t.charCodeAt(m+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=revLookup[t.charCodeAt(m)]<<2|revLookup[t.charCodeAt(m+1)]>>4,s[a++]=e&255),o===1&&(e=revLookup[t.charCodeAt(m)]<<10|revLookup[t.charCodeAt(m+1)]<<4|revLookup[t.charCodeAt(m+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,r){for(var n,o=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(t){for(var e,r=t.length,n=r%3,o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(encodeChunk(t,a,a+s>c?c:a+s));return n===1?(e=t[r-1],o.push(lookup[e>>2]+lookup[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(t,e,r,n,o){var s,a,c=o*8-n-1,m=(1<<c)-1,gr=m>>1,_r=-7,wr=r?o-1:0,Or=r?-1:1,Ir=t[e+wr];for(wr+=Or,s=Ir&(1<<-_r)-1,Ir>>=-_r,_r+=c;_r>0;s=s*256+t[e+wr],wr+=Or,_r-=8);for(a=s&(1<<-_r)-1,s>>=-_r,_r+=n;_r>0;a=a*256+t[e+wr],wr+=Or,_r-=8);if(s===0)s=1-gr;else{if(s===m)return a?NaN:(Ir?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-gr}return(Ir?-1:1)*a*Math.pow(2,s-n)};ieee754.write=function(t,e,r,n,o,s){var a,c,m,gr=s*8-o-1,_r=(1<<gr)-1,wr=_r>>1,Or=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ir=n?0:s-1,Pr=n?1:-1,kr=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=_r):(a=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-a))<1&&(a--,m*=2),a+wr>=1?e+=Or/m:e+=Or*Math.pow(2,1-wr),e*m>=2&&(a++,m/=2),a+wr>=_r?(c=0,a=_r):a+wr>=1?(c=(e*m-1)*Math.pow(2,o),a=a+wr):(c=e*Math.pow(2,wr-1)*Math.pow(2,o),a=0));o>=8;t[r+Ir]=c&255,Ir+=Pr,c/=256,o-=8);for(a=a<<o|c,gr+=o;gr>0;t[r+Ir]=a&255,Ir+=Pr,a/=256,gr-=8);t[r+Ir-Pr]|=kr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js,r=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=Kr,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const br=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(br,l),br.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(br){if(br>o)throw new RangeError('The value "'+br+'" is invalid for option "size"');const l=new Uint8Array(br);return Object.setPrototypeOf(l,c.prototype),l}function c(br,l,d){if(typeof br=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wr(br)}return m(br,l,d)}c.poolSize=8192;function m(br,l,d){if(typeof br=="string")return Or(br,l);if(ArrayBuffer.isView(br))return Pr(br);if(br==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof br);if(rn(br,ArrayBuffer)||br&&rn(br.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rn(br,SharedArrayBuffer)||br&&rn(br.buffer,SharedArrayBuffer)))return kr(br,l,d);if(typeof br=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ar=br.valueOf&&br.valueOf();if(Ar!=null&&Ar!==br)return c.from(Ar,l,d);const $r=xr(br);if($r)return $r;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof br[Symbol.toPrimitive]=="function")return c.from(br[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof br)}c.from=function(br,l,d){return m(br,l,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function gr(br){if(typeof br!="number")throw new TypeError('"size" argument must be of type number');if(br<0)throw new RangeError('The value "'+br+'" is invalid for option "size"')}function _r(br,l,d){return gr(br),br<=0?a(br):l!==void 0?typeof d=="string"?a(br).fill(l,d):a(br).fill(l):a(br)}c.alloc=function(br,l,d){return _r(br,l,d)};function wr(br){return gr(br),a(br<0?0:Cr(br)|0)}c.allocUnsafe=function(br){return wr(br)},c.allocUnsafeSlow=function(br){return wr(br)};function Or(br,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=Fr(br,l)|0;let Ar=a(d);const $r=Ar.write(br,l);return $r!==d&&(Ar=Ar.slice(0,$r)),Ar}function Ir(br){const l=br.length<0?0:Cr(br.length)|0,d=a(l);for(let Ar=0;Ar<l;Ar+=1)d[Ar]=br[Ar]&255;return d}function Pr(br){if(rn(br,Uint8Array)){const l=new Uint8Array(br);return kr(l.buffer,l.byteOffset,l.byteLength)}return Ir(br)}function kr(br,l,d){if(l<0||br.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(br.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let Ar;return l===void 0&&d===void 0?Ar=new Uint8Array(br):d===void 0?Ar=new Uint8Array(br,l):Ar=new Uint8Array(br,l,d),Object.setPrototypeOf(Ar,c.prototype),Ar}function xr(br){if(c.isBuffer(br)){const l=Cr(br.length)|0,d=a(l);return d.length===0||br.copy(d,0,0,l),d}if(br.length!==void 0)return typeof br.length!="number"||fn(br.length)?a(0):Ir(br);if(br.type==="Buffer"&&Array.isArray(br.data))return Ir(br.data)}function Cr(br){if(br>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return br|0}function Kr(br){return+br!=br&&(br=0),c.alloc(+br)}c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,d){if(rn(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),rn(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),!c.isBuffer(l)||!c.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let Ar=l.length,$r=d.length;for(let Dr=0,Wr=Math.min(Ar,$r);Dr<Wr;++Dr)if(l[Dr]!==d[Dr]){Ar=l[Dr],$r=d[Dr];break}return Ar<$r?-1:$r<Ar?1:0},c.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);let Ar;if(d===void 0)for(d=0,Ar=0;Ar<l.length;++Ar)d+=l[Ar].length;const $r=c.allocUnsafe(d);let Dr=0;for(Ar=0;Ar<l.length;++Ar){let Wr=l[Ar];if(rn(Wr,Uint8Array))Dr+Wr.length>$r.length?(c.isBuffer(Wr)||(Wr=c.from(Wr)),Wr.copy($r,Dr)):Uint8Array.prototype.set.call($r,Wr,Dr);else if(c.isBuffer(Wr))Wr.copy($r,Dr);else throw new TypeError('"list" argument must be an Array of Buffers');Dr+=Wr.length}return $r};function Fr(br,l){if(c.isBuffer(br))return br.length;if(ArrayBuffer.isView(br)||rn(br,ArrayBuffer))return br.byteLength;if(typeof br!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof br);const d=br.length,Ar=arguments.length>2&&arguments[2]===!0;if(!Ar&&d===0)return 0;let $r=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return wn(br).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return kn(br).length;default:if($r)return Ar?-1:wn(br).length;l=(""+l).toLowerCase(),$r=!0}}c.byteLength=Fr;function qr(br,l,d){let Ar=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(br||(br="utf8");;)switch(br){case"hex":return nn(this,l,d);case"utf8":case"utf-8":return vr(this,l,d);case"ascii":return Ur(this,l,d);case"latin1":case"binary":return Hr(this,l,d);case"base64":return Rr(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pn(this,l,d);default:if(Ar)throw new TypeError("Unknown encoding: "+br);br=(br+"").toLowerCase(),Ar=!0}}c.prototype._isBuffer=!0;function Gr(br,l,d){const Ar=br[l];br[l]=br[d],br[d]=Ar}c.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)Gr(this,d,d+1);return this},c.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)Gr(this,d,d+3),Gr(this,d+1,d+2);return this},c.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)Gr(this,d,d+7),Gr(this,d+1,d+6),Gr(this,d+2,d+5),Gr(this,d+3,d+4);return this},c.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?vr(this,0,l):qr.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:c.compare(this,l)===0},c.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(l,d,Ar,$r,Dr){if(rn(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),Ar===void 0&&(Ar=l?l.length:0),$r===void 0&&($r=0),Dr===void 0&&(Dr=this.length),d<0||Ar>l.length||$r<0||Dr>this.length)throw new RangeError("out of range index");if($r>=Dr&&d>=Ar)return 0;if($r>=Dr)return-1;if(d>=Ar)return 1;if(d>>>=0,Ar>>>=0,$r>>>=0,Dr>>>=0,this===l)return 0;let Wr=Dr-$r,Pn=Ar-d;const Fn=Math.min(Wr,Pn),Cn=this.slice($r,Dr),jn=l.slice(d,Ar);for(let Un=0;Un<Fn;++Un)if(Cn[Un]!==jn[Un]){Wr=Cn[Un],Pn=jn[Un];break}return Wr<Pn?-1:Pn<Wr?1:0};function jr(br,l,d,Ar,$r){if(br.length===0)return-1;if(typeof d=="string"?(Ar=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,fn(d)&&(d=$r?0:br.length-1),d<0&&(d=br.length+d),d>=br.length){if($r)return-1;d=br.length-1}else if(d<0)if($r)d=0;else return-1;if(typeof l=="string"&&(l=c.from(l,Ar)),c.isBuffer(l))return l.length===0?-1:Vr(br,l,d,Ar,$r);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?$r?Uint8Array.prototype.indexOf.call(br,l,d):Uint8Array.prototype.lastIndexOf.call(br,l,d):Vr(br,[l],d,Ar,$r);throw new TypeError("val must be string, number or Buffer")}function Vr(br,l,d,Ar,$r){let Dr=1,Wr=br.length,Pn=l.length;if(Ar!==void 0&&(Ar=String(Ar).toLowerCase(),Ar==="ucs2"||Ar==="ucs-2"||Ar==="utf16le"||Ar==="utf-16le")){if(br.length<2||l.length<2)return-1;Dr=2,Wr/=2,Pn/=2,d/=2}function Fn(jn,Un){return Dr===1?jn[Un]:jn.readUInt16BE(Un*Dr)}let Cn;if($r){let jn=-1;for(Cn=d;Cn<Wr;Cn++)if(Fn(br,Cn)===Fn(l,jn===-1?0:Cn-jn)){if(jn===-1&&(jn=Cn),Cn-jn+1===Pn)return jn*Dr}else jn!==-1&&(Cn-=Cn-jn),jn=-1}else for(d+Pn>Wr&&(d=Wr-Pn),Cn=d;Cn>=0;Cn--){let jn=!0;for(let Un=0;Un<Pn;Un++)if(Fn(br,Cn+Un)!==Fn(l,Un)){jn=!1;break}if(jn)return Cn}return-1}c.prototype.includes=function(l,d,Ar){return this.indexOf(l,d,Ar)!==-1},c.prototype.indexOf=function(l,d,Ar){return jr(this,l,d,Ar,!0)},c.prototype.lastIndexOf=function(l,d,Ar){return jr(this,l,d,Ar,!1)};function Jr(br,l,d,Ar){d=Number(d)||0;const $r=br.length-d;Ar?(Ar=Number(Ar),Ar>$r&&(Ar=$r)):Ar=$r;const Dr=l.length;Ar>Dr/2&&(Ar=Dr/2);let Wr;for(Wr=0;Wr<Ar;++Wr){const Pn=parseInt(l.substr(Wr*2,2),16);if(fn(Pn))return Wr;br[d+Wr]=Pn}return Wr}function ln(br,l,d,Ar){return Rn(wn(l,br.length-d),br,d,Ar)}function tn(br,l,d,Ar){return Rn($n(l),br,d,Ar)}function sn(br,l,d,Ar){return Rn(kn(l),br,d,Ar)}function dn(br,l,d,Ar){return Rn(mn(l,br.length-d),br,d,Ar)}c.prototype.write=function(l,d,Ar,$r){if(d===void 0)$r="utf8",Ar=this.length,d=0;else if(Ar===void 0&&typeof d=="string")$r=d,Ar=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(Ar)?(Ar=Ar>>>0,$r===void 0&&($r="utf8")):($r=Ar,Ar=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Dr=this.length-d;if((Ar===void 0||Ar>Dr)&&(Ar=Dr),l.length>0&&(Ar<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");$r||($r="utf8");let Wr=!1;for(;;)switch($r){case"hex":return Jr(this,l,d,Ar);case"utf8":case"utf-8":return ln(this,l,d,Ar);case"ascii":case"latin1":case"binary":return tn(this,l,d,Ar);case"base64":return sn(this,l,d,Ar);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dn(this,l,d,Ar);default:if(Wr)throw new TypeError("Unknown encoding: "+$r);$r=(""+$r).toLowerCase(),Wr=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Rr(br,l,d){return l===0&&d===br.length?e.fromByteArray(br):e.fromByteArray(br.slice(l,d))}function vr(br,l,d){d=Math.min(br.length,d);const Ar=[];let $r=l;for(;$r<d;){const Dr=br[$r];let Wr=null,Pn=Dr>239?4:Dr>223?3:Dr>191?2:1;if($r+Pn<=d){let Fn,Cn,jn,Un;switch(Pn){case 1:Dr<128&&(Wr=Dr);break;case 2:Fn=br[$r+1],(Fn&192)===128&&(Un=(Dr&31)<<6|Fn&63,Un>127&&(Wr=Un));break;case 3:Fn=br[$r+1],Cn=br[$r+2],(Fn&192)===128&&(Cn&192)===128&&(Un=(Dr&15)<<12|(Fn&63)<<6|Cn&63,Un>2047&&(Un<55296||Un>57343)&&(Wr=Un));break;case 4:Fn=br[$r+1],Cn=br[$r+2],jn=br[$r+3],(Fn&192)===128&&(Cn&192)===128&&(jn&192)===128&&(Un=(Dr&15)<<18|(Fn&63)<<12|(Cn&63)<<6|jn&63,Un>65535&&Un<1114112&&(Wr=Un))}}Wr===null?(Wr=65533,Pn=1):Wr>65535&&(Wr-=65536,Ar.push(Wr>>>10&1023|55296),Wr=56320|Wr&1023),Ar.push(Wr),$r+=Pn}return Lr(Ar)}const Tr=4096;function Lr(br){const l=br.length;if(l<=Tr)return String.fromCharCode.apply(String,br);let d="",Ar=0;for(;Ar<l;)d+=String.fromCharCode.apply(String,br.slice(Ar,Ar+=Tr));return d}function Ur(br,l,d){let Ar="";d=Math.min(br.length,d);for(let $r=l;$r<d;++$r)Ar+=String.fromCharCode(br[$r]&127);return Ar}function Hr(br,l,d){let Ar="";d=Math.min(br.length,d);for(let $r=l;$r<d;++$r)Ar+=String.fromCharCode(br[$r]);return Ar}function nn(br,l,d){const Ar=br.length;(!l||l<0)&&(l=0),(!d||d<0||d>Ar)&&(d=Ar);let $r="";for(let Dr=l;Dr<d;++Dr)$r+=vn[br[Dr]];return $r}function pn(br,l,d){const Ar=br.slice(l,d);let $r="";for(let Dr=0;Dr<Ar.length-1;Dr+=2)$r+=String.fromCharCode(Ar[Dr]+Ar[Dr+1]*256);return $r}c.prototype.slice=function(l,d){const Ar=this.length;l=~~l,d=d===void 0?Ar:~~d,l<0?(l+=Ar,l<0&&(l=0)):l>Ar&&(l=Ar),d<0?(d+=Ar,d<0&&(d=0)):d>Ar&&(d=Ar),d<l&&(d=l);const $r=this.subarray(l,d);return Object.setPrototypeOf($r,c.prototype),$r};function Nr(br,l,d){if(br%1!==0||br<0)throw new RangeError("offset is not uint");if(br+l>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l],Dr=1,Wr=0;for(;++Wr<d&&(Dr*=256);)$r+=this[l+Wr]*Dr;return $r},c.prototype.readUintBE=c.prototype.readUIntBE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l+--d],Dr=1;for(;d>0&&(Dr*=256);)$r+=this[l+--d]*Dr;return $r},c.prototype.readUint8=c.prototype.readUInt8=function(l,d){return l=l>>>0,d||Nr(l,1,this.length),this[l]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||Nr(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||Nr(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readBigUInt64LE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,Dr=this[++l]+this[++l]*2**8+this[++l]*2**16+Ar*2**24;return BigInt($r)+(BigInt(Dr)<<BigInt(32))}),c.prototype.readBigUInt64BE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],Dr=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+Ar;return(BigInt($r)<<BigInt(32))+BigInt(Dr)}),c.prototype.readIntLE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=this[l],Dr=1,Wr=0;for(;++Wr<d&&(Dr*=256);)$r+=this[l+Wr]*Dr;return Dr*=128,$r>=Dr&&($r-=Math.pow(2,8*d)),$r},c.prototype.readIntBE=function(l,d,Ar){l=l>>>0,d=d>>>0,Ar||Nr(l,d,this.length);let $r=d,Dr=1,Wr=this[l+--$r];for(;$r>0&&(Dr*=256);)Wr+=this[l+--$r]*Dr;return Dr*=128,Wr>=Dr&&(Wr-=Math.pow(2,8*d)),Wr},c.prototype.readInt8=function(l,d){return l=l>>>0,d||Nr(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},c.prototype.readInt16LE=function(l,d){l=l>>>0,d||Nr(l,2,this.length);const Ar=this[l]|this[l+1]<<8;return Ar&32768?Ar|4294901760:Ar},c.prototype.readInt16BE=function(l,d){l=l>>>0,d||Nr(l,2,this.length);const Ar=this[l+1]|this[l]<<8;return Ar&32768?Ar|4294901760:Ar},c.prototype.readInt32LE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readBigInt64LE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(Ar<<24);return(BigInt($r)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),c.prototype.readBigInt64BE=En(function(l){l=l>>>0,en(l,"offset");const d=this[l],Ar=this[l+7];(d===void 0||Ar===void 0)&&on(l,this.length-8);const $r=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt($r)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+Ar)}),c.prototype.readFloatLE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),r.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,d){return l=l>>>0,d||Nr(l,4,this.length),r.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||Nr(l,8,this.length),r.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||Nr(l,8,this.length),r.read(this,l,!1,52,8)};function Er(br,l,d,Ar,$r,Dr){if(!c.isBuffer(br))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>$r||l<Dr)throw new RangeError('"value" argument is out of bounds');if(d+Ar>br.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,Ar=Ar>>>0,!$r){const Pn=Math.pow(2,8*Ar)-1;Er(this,l,d,Ar,Pn,0)}let Dr=1,Wr=0;for(this[d]=l&255;++Wr<Ar&&(Dr*=256);)this[d+Wr]=l/Dr&255;return d+Ar},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,Ar=Ar>>>0,!$r){const Pn=Math.pow(2,8*Ar)-1;Er(this,l,d,Ar,Pn,0)}let Dr=Ar-1,Wr=1;for(this[d+Dr]=l&255;--Dr>=0&&(Wr*=256);)this[d+Dr]=l/Wr&255;return d+Ar},c.prototype.writeUint8=c.prototype.writeUInt8=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,1,255,0),this[d]=l&255,d+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function Mr(br,l,d,Ar,$r){In(l,Ar,$r,br,d,7);let Dr=Number(l&BigInt(4294967295));br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr,Dr=Dr>>8,br[d++]=Dr;let Wr=Number(l>>BigInt(32)&BigInt(4294967295));return br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,Wr=Wr>>8,br[d++]=Wr,d}function cn(br,l,d,Ar,$r){In(l,Ar,$r,br,d,7);let Dr=Number(l&BigInt(4294967295));br[d+7]=Dr,Dr=Dr>>8,br[d+6]=Dr,Dr=Dr>>8,br[d+5]=Dr,Dr=Dr>>8,br[d+4]=Dr;let Wr=Number(l>>BigInt(32)&BigInt(4294967295));return br[d+3]=Wr,Wr=Wr>>8,br[d+2]=Wr,Wr=Wr>>8,br[d+1]=Wr,Wr=Wr>>8,br[d]=Wr,d+8}c.prototype.writeBigUInt64LE=En(function(l,d=0){return Mr(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=En(function(l,d=0){return cn(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,!$r){const Fn=Math.pow(2,8*Ar-1);Er(this,l,d,Ar,Fn-1,-Fn)}let Dr=0,Wr=1,Pn=0;for(this[d]=l&255;++Dr<Ar&&(Wr*=256);)l<0&&Pn===0&&this[d+Dr-1]!==0&&(Pn=1),this[d+Dr]=(l/Wr>>0)-Pn&255;return d+Ar},c.prototype.writeIntBE=function(l,d,Ar,$r){if(l=+l,d=d>>>0,!$r){const Fn=Math.pow(2,8*Ar-1);Er(this,l,d,Ar,Fn-1,-Fn)}let Dr=Ar-1,Wr=1,Pn=0;for(this[d+Dr]=l&255;--Dr>=0&&(Wr*=256);)l<0&&Pn===0&&this[d+Dr+1]!==0&&(Pn=1),this[d+Dr]=(l/Wr>>0)-Pn&255;return d+Ar},c.prototype.writeInt8=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},c.prototype.writeInt16LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeInt16BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeInt32LE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},c.prototype.writeInt32BE=function(l,d,Ar){return l=+l,d=d>>>0,Ar||Er(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},c.prototype.writeBigInt64LE=En(function(l,d=0){return Mr(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=En(function(l,d=0){return cn(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Yr(br,l,d,Ar,$r,Dr){if(d+Ar>br.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Zr(br,l,d,Ar,$r){return l=+l,d=d>>>0,$r||Yr(br,l,d,4),r.write(br,l,d,Ar,23,4),d+4}c.prototype.writeFloatLE=function(l,d,Ar){return Zr(this,l,d,!0,Ar)},c.prototype.writeFloatBE=function(l,d,Ar){return Zr(this,l,d,!1,Ar)};function an(br,l,d,Ar,$r){return l=+l,d=d>>>0,$r||Yr(br,l,d,8),r.write(br,l,d,Ar,52,8),d+8}c.prototype.writeDoubleLE=function(l,d,Ar){return an(this,l,d,!0,Ar)},c.prototype.writeDoubleBE=function(l,d,Ar){return an(this,l,d,!1,Ar)},c.prototype.copy=function(l,d,Ar,$r){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(Ar||(Ar=0),!$r&&$r!==0&&($r=this.length),d>=l.length&&(d=l.length),d||(d=0),$r>0&&$r<Ar&&($r=Ar),$r===Ar||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(Ar<0||Ar>=this.length)throw new RangeError("Index out of range");if($r<0)throw new RangeError("sourceEnd out of bounds");$r>this.length&&($r=this.length),l.length-d<$r-Ar&&($r=l.length-d+Ar);const Dr=$r-Ar;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,Ar,$r):Uint8Array.prototype.set.call(l,this.subarray(Ar,$r),d),Dr},c.prototype.fill=function(l,d,Ar,$r){if(typeof l=="string"){if(typeof d=="string"?($r=d,d=0,Ar=this.length):typeof Ar=="string"&&($r=Ar,Ar=this.length),$r!==void 0&&typeof $r!="string")throw new TypeError("encoding must be a string");if(typeof $r=="string"&&!c.isEncoding($r))throw new TypeError("Unknown encoding: "+$r);if(l.length===1){const Wr=l.charCodeAt(0);($r==="utf8"&&Wr<128||$r==="latin1")&&(l=Wr)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<Ar)throw new RangeError("Out of range index");if(Ar<=d)return this;d=d>>>0,Ar=Ar===void 0?this.length:Ar>>>0,l||(l=0);let Dr;if(typeof l=="number")for(Dr=d;Dr<Ar;++Dr)this[Dr]=l;else{const Wr=c.isBuffer(l)?l:c.from(l,$r),Pn=Wr.length;if(Pn===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(Dr=0;Dr<Ar-d;++Dr)this[Dr+d]=Wr[Dr%Pn]}return this};const un={};function yn(br,l,d){un[br]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${br}]`,this.stack,delete this.name}get code(){return br}set code($r){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$r,writable:!0})}toString(){return`${this.name} [${br}]: ${this.message}`}}}yn("ERR_BUFFER_OUT_OF_BOUNDS",function(br){return br?`${br} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yn("ERR_INVALID_ARG_TYPE",function(br,l){return`The "${br}" argument must be of type number. Received type ${typeof l}`},TypeError),yn("ERR_OUT_OF_RANGE",function(br,l,d){let Ar=`The value of "${br}" is out of range.`,$r=d;return Number.isInteger(d)&&Math.abs(d)>2**32?$r=On(String(d)):typeof d=="bigint"&&($r=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&($r=On($r)),$r+="n"),Ar+=` It must be ${l}. Received ${$r}`,Ar},RangeError);function On(br){let l="",d=br.length;const Ar=br[0]==="-"?1:0;for(;d>=Ar+4;d-=3)l=`_${br.slice(d-3,d)}${l}`;return`${br.slice(0,d)}${l}`}function Tn(br,l,d){en(l,"offset"),(br[l]===void 0||br[l+d]===void 0)&&on(l,br.length-(d+1))}function In(br,l,d,Ar,$r,Dr){if(br>d||br<l){const Wr=typeof l=="bigint"?"n":"";let Pn;throw Dr>3?l===0||l===BigInt(0)?Pn=`>= 0${Wr} and < 2${Wr} ** ${(Dr+1)*8}${Wr}`:Pn=`>= -(2${Wr} ** ${(Dr+1)*8-1}${Wr}) and < 2 ** ${(Dr+1)*8-1}${Wr}`:Pn=`>= ${l}${Wr} and <= ${d}${Wr}`,new un.ERR_OUT_OF_RANGE("value",Pn,br)}Tn(Ar,$r,Dr)}function en(br,l){if(typeof br!="number")throw new un.ERR_INVALID_ARG_TYPE(l,"number",br)}function on(br,l,d){throw Math.floor(br)!==br?(en(br,d),new un.ERR_OUT_OF_RANGE(d||"offset","an integer",br)):l<0?new un.ERR_BUFFER_OUT_OF_BOUNDS:new un.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${l}`,br)}const gn=/[^+/0-9A-Za-z-_]/g;function xn(br){if(br=br.split("=")[0],br=br.trim().replace(gn,""),br.length<2)return"";for(;br.length%4!==0;)br=br+"=";return br}function wn(br,l){l=l||1/0;let d;const Ar=br.length;let $r=null;const Dr=[];for(let Wr=0;Wr<Ar;++Wr){if(d=br.charCodeAt(Wr),d>55295&&d<57344){if(!$r){if(d>56319){(l-=3)>-1&&Dr.push(239,191,189);continue}else if(Wr+1===Ar){(l-=3)>-1&&Dr.push(239,191,189);continue}$r=d;continue}if(d<56320){(l-=3)>-1&&Dr.push(239,191,189),$r=d;continue}d=($r-55296<<10|d-56320)+65536}else $r&&(l-=3)>-1&&Dr.push(239,191,189);if($r=null,d<128){if((l-=1)<0)break;Dr.push(d)}else if(d<2048){if((l-=2)<0)break;Dr.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;Dr.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;Dr.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return Dr}function $n(br){const l=[];for(let d=0;d<br.length;++d)l.push(br.charCodeAt(d)&255);return l}function mn(br,l){let d,Ar,$r;const Dr=[];for(let Wr=0;Wr<br.length&&!((l-=2)<0);++Wr)d=br.charCodeAt(Wr),Ar=d>>8,$r=d%256,Dr.push($r),Dr.push(Ar);return Dr}function kn(br){return e.toByteArray(xn(br))}function Rn(br,l,d,Ar){let $r;for($r=0;$r<Ar&&!($r+d>=l.length||$r>=br.length);++$r)l[$r+d]=br[$r];return $r}function rn(br,l){return br instanceof l||br!=null&&br.constructor!=null&&br.constructor.name!=null&&br.constructor.name===l.name}function fn(br){return br!==br}const vn=function(){const br="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const Ar=d*16;for(let $r=0;$r<16;++$r)l[Ar+$r]=br[d]+br[$r]}return l}();function En(br){return typeof BigInt>"u"?Bn:br}function Bn(){throw new Error("BigInt not supported")}})(buffer);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},inherits;typeof Object.create=="function"?inherits=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits;function inspect$1(t,e){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(e)?r.showHidden=e:e&&_extend(r,e),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,t,r.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(t,e){var r=inspect$1.styles[e];return r?"\x1B["+inspect$1.colors[r][0]+"m"+t+"\x1B["+inspect$1.colors[r][1]+"m":t}function stylizeNoColor(t,e){return t}function arrayToHash(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function formatValue(t,e,r){if(t.customInspect&&e&&isFunction$1(e.inspect)&&e.inspect!==inspect$1&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return isString(n)||(n=formatValue(t,n,r)),n}var o=formatPrimitive(t,e);if(o)return o;var s=Object.keys(e),a=arrayToHash(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),isError(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return formatError(e);if(s.length===0){if(isFunction$1(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(isRegExp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(isDate(e))return t.stylize(Date.prototype.toString.call(e),"date");if(isError(e))return formatError(e)}var m="",gr=!1,_r=["{","}"];if(isArray(e)&&(gr=!0,_r=["[","]"]),isFunction$1(e)){var wr=e.name?": "+e.name:"";m=" [Function"+wr+"]"}if(isRegExp(e)&&(m=" "+RegExp.prototype.toString.call(e)),isDate(e)&&(m=" "+Date.prototype.toUTCString.call(e)),isError(e)&&(m=" "+formatError(e)),s.length===0&&(!gr||e.length==0))return _r[0]+m+_r[1];if(r<0)return isRegExp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var Or;return gr?Or=formatArray(t,e,r,a,s):Or=s.map(function(Ir){return formatProperty(t,e,r,a,Ir,gr)}),t.seen.pop(),reduceToSingleString(Or,m,_r)}function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(isNumber(e))return t.stylize(""+e,"number");if(isBoolean(e))return t.stylize(""+e,"boolean");if(isNull(e))return t.stylize("null","null")}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatArray(t,e,r,n,o){for(var s=[],a=0,c=e.length;a<c;++a)hasOwnProperty(e,String(a))?s.push(formatProperty(t,e,r,n,String(a),!0)):s.push("");return o.forEach(function(m){m.match(/^\d+$/)||s.push(formatProperty(t,e,r,n,m,!0))}),s}function formatProperty(t,e,r,n,o,s){var a,c,m;if(m=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},m.get?m.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):m.set&&(c=t.stylize("[Setter]","special")),hasOwnProperty(n,o)||(a="["+o+"]"),c||(t.seen.indexOf(m.value)<0?(isNull(r)?c=formatValue(t,m.value,null):c=formatValue(t,m.value,r-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(gr){return"  "+gr}).join(`
`).substr(2):c=`
`+c.split(`
`).map(function(gr){return"   "+gr}).join(`
`))):c=t.stylize("[Circular]","special")),isUndefined(a)){if(s&&o.match(/^\d+$/))return c;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function reduceToSingleString(t,e,r){var n=t.reduce(function(o,s){return s.indexOf(`
`)>=0,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function isArray(t){return Array.isArray(t)}function isBoolean(t){return typeof t=="boolean"}function isNull(t){return t===null}function isNumber(t){return typeof t=="number"}function isString(t){return typeof t=="string"}function isUndefined(t){return t===void 0}function isRegExp(t){return isObject$1(t)&&objectToString(t)==="[object RegExp]"}function isObject$1(t){return typeof t=="object"&&t!==null}function isDate(t){return isObject$1(t)&&objectToString(t)==="[object Date]"}function isError(t){return isObject$1(t)&&(objectToString(t)==="[object Error]"||t instanceof Error)}function isFunction$1(t){return typeof t=="function"}function isPrimitive(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function objectToString(t){return Object.prototype.toString.call(t)}function _extend(t,e){if(!e||!isObject$1(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function compare(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,s=Math.min(r,n);o<s;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(t){var e=[];for(var r in t)hasOwn.call(t,r)&&e.push(r);return e},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return typeof _functionsHaveNames<"u"?_functionsHaveNames:_functionsHaveNames=function(){return function(){}.name==="foo"}()}function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return buffer.isBuffer(t)||typeof global$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t?!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer):!1}function assert(t,e){t||fail$1(t,!0,e,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(t){if(!!isFunction$1(t)){if(functionsHaveNames())return t.name;var e=t.toString(),r=e.match(regex);return r&&r[1]}}assert.AssertionError=AssertionError;function AssertionError(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail$1;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=getName(e),s=n.indexOf(`
`+o);if(s>=0){var a=n.indexOf(`
`,s+1);n=n.substring(a+1)}this.stack=n}}}inherits$1(AssertionError,Error);function truncate(t,e){return typeof t=="string"?t.length<e?t:t.slice(0,e):t}function inspect(t){if(functionsHaveNames()||!isFunction$1(t))return inspect$1(t);var e=getName(t),r=e?": "+e:"";return"[Function"+r+"]"}function getMessage(t){return truncate(inspect(t.actual),128)+" "+t.operator+" "+truncate(inspect(t.expected),128)}function fail$1(t,e,r,n,o){throw new AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}assert.fail=fail$1;function ok(t,e){t||fail$1(t,!0,e,"==",ok)}assert.ok=ok;assert.equal=equal;function equal(t,e,r){t!=e&&fail$1(t,e,r,"==",equal)}assert.notEqual=notEqual;function notEqual(t,e,r){t==e&&fail$1(t,e,r,"!=",notEqual)}assert.deepEqual=deepEqual$1;function deepEqual$1(t,e,r){_deepEqual(t,e,!1)||fail$1(t,e,r,"deepEqual",deepEqual$1)}assert.deepStrictEqual=deepStrictEqual;function deepStrictEqual(t,e,r){_deepEqual(t,e,!0)||fail$1(t,e,r,"deepStrictEqual",deepStrictEqual)}function _deepEqual(t,e,r,n){if(t===e)return!0;if(buffer.isBuffer(t)&&buffer.isBuffer(e))return compare(t,e)===0;if(isDate(t)&&isDate(e))return t.getTime()===e.getTime();if(isRegExp(t)&&isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if((t===null||typeof t!="object")&&(e===null||typeof e!="object"))return r?t===e:t==e;if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0;if(buffer.isBuffer(t)!==buffer.isBuffer(e))return!1;n=n||{actual:[],expected:[]};var o=n.actual.indexOf(t);return o!==-1&&o===n.expected.indexOf(e)?!0:(n.actual.push(t),n.expected.push(e),objEquiv(t,e,r,n))}function isArguments(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function objEquiv(t,e,r,n){if(t==null||e===null||e===void 0)return!1;if(isPrimitive(t)||isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=isArguments(t),s=isArguments(e);if(o&&!s||!o&&s)return!1;if(o)return t=pSlice.call(t),e=pSlice.call(e),_deepEqual(t,e,r);var a=objectKeys(t),c=objectKeys(e),m,gr;if(a.length!==c.length)return!1;for(a.sort(),c.sort(),gr=a.length-1;gr>=0;gr--)if(a[gr]!==c[gr])return!1;for(gr=a.length-1;gr>=0;gr--)if(m=a[gr],!_deepEqual(t[m],e[m],r,n))return!1;return!0}assert.notDeepEqual=notDeepEqual;function notDeepEqual(t,e,r){_deepEqual(t,e,!1)&&fail$1(t,e,r,"notDeepEqual",notDeepEqual)}assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(t,e,r){_deepEqual(t,e,!0)&&fail$1(t,e,r,"notDeepStrictEqual",notDeepStrictEqual)}assert.strictEqual=strictEqual;function strictEqual(t,e,r){t!==e&&fail$1(t,e,r,"===",strictEqual)}assert.notStrictEqual=notStrictEqual;function notStrictEqual(t,e,r){t===e&&fail$1(t,e,r,"!==",notStrictEqual)}function expectedException(t,e){if(!t||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(t);try{if(t instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function _tryBlock(t){var e;try{t()}catch(r){e=r}return e}function _throws(t,e,r,n){var o;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(n=r,r=null),o=_tryBlock(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&fail$1(o,r,"Missing expected exception"+n);var s=typeof n=="string",a=!t&&isError(o),c=!t&&o&&!r;if((a&&s&&expectedException(o,r)||c)&&fail$1(o,r,"Got unwanted exception"+n),t&&o&&r&&!expectedException(o,r)||!t&&o)throw o}assert.throws=throws;function throws(t,e,r){_throws(!0,t,e,r)}assert.doesNotThrow=doesNotThrow;function doesNotThrow(t,e,r){_throws(!1,t,e,r)}assert.ifError=ifError;function ifError(t){if(t)throw t}class Layout{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}function nameWithProperty(t,e){return e.property?t+"["+e.property+"]":t}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class Structure extends Layout{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,s)=>{const a=s.getSpan(e,r);return r+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let s=0,a=0;for(const c of this.fields){let m=c.span;if(a=0<m?m:0,c.property!==void 0){const gr=e[c.property];gr!==void 0&&(a=c.encode(gr,r,n),0>m&&(m=c.getSpan(r,n)))}s=n,n+=m}return s+a-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class Blob$1 extends Layout{constructor(e,r){if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout&&(o=e.length),!(buffer.Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout&&this.length.encode(o,r,n),o}}var u8=t=>new UInt(1,t),u32=t=>new UInt(4,t),struct=(t,e,r)=>new Structure(t,e,r),blob=(t,e)=>new Blob$1(t,e);const publicKey=(t="publicKey")=>blob(32,t),uint64=(t="uint64")=>blob(8,t);function sendAndConfirmTransaction$1(t,e,r,...n){return sendAndConfirmTransaction$2(e,r,n,{skipPreflight:!1})}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(t){return buffer.Buffer.from(t.toBuffer())}class u64 extends BN{toBuffer(){const e=super.toArray().reverse(),r=buffer.Buffer.from(e);if(r.length===8)return r;assert(r.length<8,"u64 too large");const n=buffer.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){return assert(e.length===8,`Invalid buffer length: ${e.length}`),new u64([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}function isAccount(t){return"publicKey"in t}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(e,r,n,o){_defineProperty(this,"connection",void 0),_defineProperty(this,"publicKey",void 0),_defineProperty(this,"programId",void 0),_defineProperty(this,"associatedProgramId",void 0),_defineProperty(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:r,programId:n,payer:o,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(e,r,n,o,s,a){const c=Keypair.generate(),m=new Token(e,c.publicKey,a,r),gr=await Token.getMinBalanceRentForExemptMint(e),_r=new Transaction;return _r.add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:c.publicKey,lamports:gr,space:MintLayout.span,programId:a})),_r.add(Token.createInitMintInstruction(a,c.publicKey,s,n,o)),await sendAndConfirmTransaction$1("createAccount and InitializeMint",e,_r,r,c),m}async createAccount(e){const r=await Token.getMinBalanceRentForExemptAccount(this.connection),n=Keypair.generate(),o=new Transaction;o.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:r,space:AccountLayout.span,programId:this.programId}));const s=this.publicKey;return o.add(Token.createInitAccountInstruction(this.programId,s,n.publicKey,e)),await sendAndConfirmTransaction$1("createAccount and InitializeAccount",this.connection,o,this.payer,n),n.publicKey}async createAssociatedTokenAccount(e){const r=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,r)}async createAssociatedTokenAccountInternal(e,r){return await sendAndConfirmTransaction$1("CreateAssociatedTokenAccount",this.connection,new Transaction().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,r,e,this.payer.publicKey)),this.payer),r}async getOrCreateAssociatedAccountInfo(e){const r=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(r)}catch(n){if(n.message===FAILED_TO_FIND_ACCOUNT||n.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(e,r)}catch{}return await this.getAccountInfo(r)}else throw n}}static async createWrappedNativeAccount(e,r,n,o,s){const a=await Token.getMinBalanceRentForExemptAccount(e),c=Keypair.generate(),m=new Transaction;return m.add(SystemProgram.createAccount({fromPubkey:o.publicKey,newAccountPubkey:c.publicKey,lamports:a,space:AccountLayout.span,programId:r})),m.add(SystemProgram.transfer({fromPubkey:o.publicKey,toPubkey:c.publicKey,lamports:s})),m.add(Token.createInitAccountInstruction(r,NATIVE_MINT,c.publicKey,n)),await sendAndConfirmTransaction$1("createAccount, transfer, and initializeAccount",e,m,o,c),c.publicKey}async createMultisig(e,r){const n=Keypair.generate(),o=await Token.getMinBalanceRentForExemptMultisig(this.connection),s=new Transaction;s.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:o,space:MultisigLayout.span,programId:this.programId}));let a=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];r.forEach(gr=>a.push({pubkey:gr,isSigner:!1,isWritable:!1}));const c=struct([u8("instruction"),u8("m")]),m=buffer.Buffer.alloc(c.span);return c.encode({instruction:2,m:e},m),s.add({keys:a,programId:this.programId,data:m}),await sendAndConfirmTransaction$1("createAccount and InitializeMultisig",this.connection,s,this.payer,n),n.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=MintLayout.span)throw new Error("Invalid mint size");const r=buffer.Buffer.from(e.data),n=MintLayout.decode(r);return n.mintAuthorityOption===0?n.mintAuthority=null:n.mintAuthority=new PublicKey(n.mintAuthority),n.supply=u64.fromBuffer(n.supply),n.isInitialized=n.isInitialized!=0,n.freezeAuthorityOption===0?n.freezeAuthority=null:n.freezeAuthority=new PublicKey(n.freezeAuthority),n}async getAccountInfo(e,r){const n=await this.connection.getAccountInfo(e,r);if(n===null)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!n.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(n.data.length!=AccountLayout.span)throw new Error("Invalid account size");const o=buffer.Buffer.from(n.data),s=AccountLayout.decode(o);if(s.address=e,s.mint=new PublicKey(s.mint),s.owner=new PublicKey(s.owner),s.amount=u64.fromBuffer(s.amount),s.delegateOption===0?(s.delegate=null,s.delegatedAmount=new u64):(s.delegate=new PublicKey(s.delegate),s.delegatedAmount=u64.fromBuffer(s.delegatedAmount)),s.isInitialized=s.state!==0,s.isFrozen=s.state===2,s.isNativeOption===1?(s.rentExemptReserve=u64.fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),s.closeAuthorityOption===0?s.closeAuthority=null:s.closeAuthority=new PublicKey(s.closeAuthority),!s.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(s.mint)} !== ${JSON.stringify(this.publicKey)}`);return s}async getMultisigInfo(e){const r=await this.connection.getAccountInfo(e);if(r===null)throw new Error("Failed to find multisig");if(!r.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(r.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const n=buffer.Buffer.from(r.data),o=MultisigLayout.decode(n);return o.signer1=new PublicKey(o.signer1),o.signer2=new PublicKey(o.signer2),o.signer3=new PublicKey(o.signer3),o.signer4=new PublicKey(o.signer4),o.signer5=new PublicKey(o.signer5),o.signer6=new PublicKey(o.signer6),o.signer7=new PublicKey(o.signer7),o.signer8=new PublicKey(o.signer8),o.signer9=new PublicKey(o.signer9),o.signer10=new PublicKey(o.signer10),o.signer11=new PublicKey(o.signer11),o}async transfer(e,r,n,o,s){let a,c;return isAccount(n)?(a=n.publicKey,c=[n]):(a=n,c=o),await sendAndConfirmTransaction$1("Transfer",this.connection,new Transaction().add(Token.createTransferInstruction(this.programId,e,r,a,o,s)),this.payer,...c)}async approve(e,r,n,o,s){let a,c;isAccount(n)?(a=n.publicKey,c=[n]):(a=n,c=o),await sendAndConfirmTransaction$1("Approve",this.connection,new Transaction().add(Token.createApproveInstruction(this.programId,e,r,a,o,s)),this.payer,...c)}async revoke(e,r,n){let o,s;isAccount(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await sendAndConfirmTransaction$1("Revoke",this.connection,new Transaction().add(Token.createRevokeInstruction(this.programId,e,o,n)),this.payer,...s)}async setAuthority(e,r,n,o,s){let a,c;isAccount(o)?(a=o.publicKey,c=[o]):(a=o,c=s),await sendAndConfirmTransaction$1("SetAuthority",this.connection,new Transaction().add(Token.createSetAuthorityInstruction(this.programId,e,r,n,a,s)),this.payer,...c)}async mintTo(e,r,n,o){let s,a;isAccount(r)?(s=r.publicKey,a=[r]):(s=r,a=n),await sendAndConfirmTransaction$1("MintTo",this.connection,new Transaction().add(Token.createMintToInstruction(this.programId,this.publicKey,e,s,n,o)),this.payer,...a)}async burn(e,r,n,o){let s,a;isAccount(r)?(s=r.publicKey,a=[r]):(s=r,a=n),await sendAndConfirmTransaction$1("Burn",this.connection,new Transaction().add(Token.createBurnInstruction(this.programId,this.publicKey,e,s,n,o)),this.payer,...a)}async closeAccount(e,r,n,o){let s,a;isAccount(n)?(s=n.publicKey,a=[n]):(s=n,a=o),await sendAndConfirmTransaction$1("CloseAccount",this.connection,new Transaction().add(Token.createCloseAccountInstruction(this.programId,e,r,s,o)),this.payer,...a)}async freezeAccount(e,r,n){let o,s;isAccount(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await sendAndConfirmTransaction$1("FreezeAccount",this.connection,new Transaction().add(Token.createFreezeAccountInstruction(this.programId,e,this.publicKey,o,n)),this.payer,...s)}async thawAccount(e,r,n){let o,s;isAccount(r)?(o=r.publicKey,s=[r]):(o=r,s=n),await sendAndConfirmTransaction$1("ThawAccount",this.connection,new Transaction().add(Token.createThawAccountInstruction(this.programId,e,this.publicKey,o,n)),this.payer,...s)}async transferChecked(e,r,n,o,s,a){let c,m;return isAccount(n)?(c=n.publicKey,m=[n]):(c=n,m=o),await sendAndConfirmTransaction$1("TransferChecked",this.connection,new Transaction().add(Token.createTransferCheckedInstruction(this.programId,e,this.publicKey,r,c,o,s,a)),this.payer,...m)}async approveChecked(e,r,n,o,s,a){let c,m;isAccount(n)?(c=n.publicKey,m=[n]):(c=n,m=o),await sendAndConfirmTransaction$1("ApproveChecked",this.connection,new Transaction().add(Token.createApproveCheckedInstruction(this.programId,e,this.publicKey,r,c,o,s,a)),this.payer,...m)}async mintToChecked(e,r,n,o,s){let a,c;isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=n),await sendAndConfirmTransaction$1("MintToChecked",this.connection,new Transaction().add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,e,a,n,o,s)),this.payer,...c)}async burnChecked(e,r,n,o,s){let a,c;isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=n),await sendAndConfirmTransaction$1("BurnChecked",this.connection,new Transaction().add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,e,a,n,o,s)),this.payer,...c)}async syncNative(e){await sendAndConfirmTransaction$1("SyncNative",this.connection,new Transaction().add(Token.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,r,n,o,s){let a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const c=struct([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let m=buffer.Buffer.alloc(1024);{const gr=c.encode({instruction:0,decimals:n,mintAuthority:pubkeyToBuffer(o),option:s===null?0:1,freezeAuthority:pubkeyToBuffer(s||new PublicKey(0))},m);m=m.slice(0,gr)}return new TransactionInstruction({keys:a,programId:e,data:m})}static createInitAccountInstruction(e,r,n,o){const s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);return a.encode({instruction:1},c),new TransactionInstruction({keys:s,programId:e,data:c})}static createTransferInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),m=buffer.Buffer.alloc(c.span);c.encode({instruction:3,amount:new u64(a).toBuffer()},m);let gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(_r=>gr.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:m})}static createApproveInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),m=buffer.Buffer.alloc(c.span);c.encode({instruction:4,amount:new u64(a).toBuffer()},m);let gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return s.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(_r=>gr.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:m})}static createRevokeInstruction(e,r,n,o){const s=struct([u8("instruction")]),a=buffer.Buffer.alloc(s.span);s.encode({instruction:5},a);let c=[{pubkey:r,isSigner:!1,isWritable:!0}];return o.length===0?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),o.forEach(m=>c.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:c,programId:e,data:a})}static createSetAuthorityInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let m=buffer.Buffer.alloc(1024);{const _r=c.encode({instruction:6,authorityType:AuthorityTypeCodes[o],option:n===null?0:1,newAuthority:pubkeyToBuffer(n||new PublicKey(0))},m);m=m.slice(0,_r)}let gr=[{pubkey:r,isSigner:!1,isWritable:!0}];return a.length===0?gr.push({pubkey:s,isSigner:!0,isWritable:!1}):(gr.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(_r=>gr.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:m})}static createMintToInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),m=buffer.Buffer.alloc(c.span);c.encode({instruction:7,amount:new u64(a).toBuffer()},m);let gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(_r=>gr.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:m})}static createBurnInstruction(e,r,n,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),m=buffer.Buffer.alloc(c.span);c.encode({instruction:8,amount:new u64(a).toBuffer()},m);let gr=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(_r=>gr.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:m})}static createCloseAccountInstruction(e,r,n,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:9},c);let m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(gr=>m.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:c})}static createFreezeAccountInstruction(e,r,n,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:10},c);let m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(gr=>m.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:c})}static createThawAccountInstruction(e,r,n,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:11},c);let m=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(gr=>m.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:c})}static createTransferCheckedInstruction(e,r,n,o,s,a,c,m){const gr=struct([u8("instruction"),uint64("amount"),u8("decimals")]),_r=buffer.Buffer.alloc(gr.span);gr.encode({instruction:12,amount:new u64(c).toBuffer(),decimals:m},_r);let wr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}];return a.length===0?wr.push({pubkey:s,isSigner:!0,isWritable:!1}):(wr.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(Or=>wr.push({pubkey:Or.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:wr,programId:e,data:_r})}static createApproveCheckedInstruction(e,r,n,o,s,a,c,m){const gr=struct([u8("instruction"),uint64("amount"),u8("decimals")]),_r=buffer.Buffer.alloc(gr.span);gr.encode({instruction:13,amount:new u64(c).toBuffer(),decimals:m},_r);let wr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return a.length===0?wr.push({pubkey:s,isSigner:!0,isWritable:!1}):(wr.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(Or=>wr.push({pubkey:Or.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:wr,programId:e,data:_r})}static createMintToCheckedInstruction(e,r,n,o,s,a,c){const m=struct([u8("instruction"),uint64("amount"),u8("decimals")]),gr=buffer.Buffer.alloc(m.span);m.encode({instruction:14,amount:new u64(a).toBuffer(),decimals:c},gr);let _r=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?_r.push({pubkey:o,isSigner:!0,isWritable:!1}):(_r.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(wr=>_r.push({pubkey:wr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:_r,programId:e,data:gr})}static createBurnCheckedInstruction(e,r,n,o,s,a,c){const m=struct([u8("instruction"),uint64("amount"),u8("decimals")]),gr=buffer.Buffer.alloc(m.span);m.encode({instruction:15,amount:new u64(a).toBuffer(),decimals:c},gr);let _r=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?_r.push({pubkey:o,isSigner:!0,isWritable:!1}):(_r.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(wr=>_r.push({pubkey:wr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:_r,programId:e,data:gr})}static createSyncNativeInstruction(e,r){const n=struct([u8("instruction")]),o=buffer.Buffer.alloc(n.span);n.encode({instruction:17},o);let s=[{pubkey:r,isSigner:!1,isWritable:!0}];return new TransactionInstruction({keys:s,programId:e,data:o})}static async getAssociatedTokenAddress(e,r,n,o,s=!1){if(!s&&!PublicKey.isOnCurve(o.toBuffer()))throw new Error(`Owner cannot sign: ${o.toString()}`);return(await PublicKey.findProgramAddress([o.toBuffer(),r.toBuffer(),n.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,r,n,o,s,a){const c=buffer.Buffer.alloc(0);let m=[{pubkey:a,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:m,programId:e,data:c})}}const index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID,AccountLayout,MintLayout,NATIVE_MINT,TOKEN_PROGRAM_ID,Token,u64},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_browser_esm);var hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers$1;hasRequiredHelpers=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ir,Pr,kr,xr){function Cr(Kr){return Kr instanceof kr?Kr:new kr(function(Fr){Fr(Kr)})}return new(kr||(kr=Promise))(function(Kr,Fr){function qr(Vr){try{jr(xr.next(Vr))}catch(Jr){Fr(Jr)}}function Gr(Vr){try{jr(xr.throw(Vr))}catch(Jr){Fr(Jr)}}function jr(Vr){Vr.done?Kr(Vr.value):Cr(Vr.value).then(qr,Gr)}jr((xr=xr.apply(Ir,Pr||[])).next())})};Object.defineProperty(helpers$1,"__esModule",{value:!0}),helpers$1.getAccountInfo=helpers$1.getTokenAccount=helpers$1.getAssociatedTokenAddress=helpers$1.convertFactionStringToNum=helpers$1.longToByteArray=helpers$1.byteArrayToLong=helpers$1.stringToByteArray=helpers$1.byteArrayToString=void 0;const e=requireDist(),r=require$$0$1,n=require$$0$2,o=require$$1$1;function s(Ir){return String.fromCharCode(...Ir)}helpers$1.byteArrayToString=s;function a(Ir,Pr){if(Ir.length>Pr)return null;let kr=[];for(let xr=0;xr<Pr;xr+=1){let Cr=32;xr<Ir.length&&(Cr=Ir.charCodeAt(xr)),kr=kr.concat([Cr])}return kr}helpers$1.stringToByteArray=a;function c(Ir){let Pr=0;for(let kr=Ir.length-1;kr>=0;kr-=1)Pr=Pr*256+Ir[kr];return Pr}helpers$1.byteArrayToLong=c;function m(Ir){const Pr=[0,0,0,0,0,0,0,0];for(let kr=0;kr<Pr.length;kr+=1){const xr=Ir&255;Pr[kr]=xr,Ir=(Ir-xr)/256}return Pr}helpers$1.longToByteArray=m;function gr(Ir){return t(this,void 0,void 0,function*(){switch(Ir.toLowerCase()){case"mud":return e.FactionType.MUD;case"oni":return e.FactionType.ONI;case"ustur":return e.FactionType.Ustur;default:return e.FactionType.Unenlisted}})}helpers$1.convertFactionStringToNum=gr;function _r(Ir,Pr){return t(this,void 0,void 0,function*(){const[kr]=yield n.PublicKey.findProgramAddress([Ir.toBuffer(),o.TOKEN_PROGRAM_ID.toBuffer(),Pr.toBuffer()],o.ASSOCIATED_TOKEN_PROGRAM_ID);return kr})}helpers$1.getAssociatedTokenAddress=_r;function wr(Ir,Pr,kr,xr=Pr,Cr){return t(this,void 0,void 0,function*(){const{value:Kr}=yield Ir.getParsedTokenAccountsByOwner(Pr,{mint:kr});let Fr=null;if(Cr===void 0){let qr=null;for(const Gr of Kr)if(Gr.account.data.parsed.type==="account"){const jr=Gr.account.data.parsed,Vr=new r.BN(jr.info.tokenAmount.amount);(qr===null||Vr.gt(qr))&&(Fr=Gr.pubkey,qr=Vr)}}else{let qr=null;for(const Gr of Kr)if(Gr.account.data.parsed.type==="account"){const jr=Gr.account.data.parsed,Vr=new r.BN(jr.info.tokenAmount.amount);Vr.gt(new r.BN(Cr))&&(qr===null||Vr.lt(qr))&&(Fr=Gr.pubkey,qr=Vr)}}if(Fr===null){const qr=yield _r(Pr,kr),{value:Gr}=yield Ir.getParsedAccountInfo(qr,"confirmed");if(Gr===null||Gr.owner.equals(n.SystemProgram.programId))return{tokenAccount:qr,createInstruction:o.Token.createAssociatedTokenAccountInstruction(o.ASSOCIATED_TOKEN_PROGRAM_ID,o.TOKEN_PROGRAM_ID,kr,qr,Pr,xr)};if("program"in Gr.data&&Gr.data.parsed.type==="account"&&new n.PublicKey(Gr.data.parsed.info.owner).equals(Pr))return{tokenAccount:qr};{const jr=r.web3.Keypair.generate();return{tokenAccount:jr,createInstruction:o.Token.createInitAccountInstruction(o.TOKEN_PROGRAM_ID,kr,jr.publicKey,Pr)}}}else return{tokenAccount:Fr}})}helpers$1.getTokenAccount=wr;function Or(Ir,Pr){return t(this,void 0,void 0,function*(){const{value:kr}=yield Ir.getParsedAccountInfo(Pr);return kr.data})}return helpers$1.getAccountInfo=Or,helpers$1}var wallet={},__awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(wallet,"__esModule",{value:!0});wallet.sendAndConfirmTransaction=void 0;const web3_js_1$3=require$$0$2;function sendAndConfirmTransaction(t,e,...r){return __awaiter$g(this,void 0,void 0,function*(){let n="";try{n=yield(0,web3_js_1$3.sendAndConfirmTransaction)(t,e,r,{skipPreflight:!0,commitment:"singleGossip",preflightCommitment:null})}catch(o){console.log(o)}return n})}wallet.sendAndConfirmTransaction=sendAndConfirmTransaction;var gmHelper$1={},marketplace={},instruction_builders={},BaseParams={};Object.defineProperty(BaseParams,"__esModule",{value:!0});var cancelOrder={},pda_getters$3={},order_getters={},getMarketplaceProgram$1={},gmIdl={};Object.defineProperty(gmIdl,"__esModule",{value:!0});gmIdl.baseIdl=void 0;gmIdl.baseIdl={version:"0.1.0",name:"marketplace",instructions:[{name:"addRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"deleteRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"}]},{name:"deregisterCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMarketplace",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateCurrencyVault",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCurrencyRoyalty",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"processInitializeBuy",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processInitializeSell",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!1,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"receive_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processExchange",accounts:[{name:"orderTaker",isMut:!0,isSigner:!0},{name:"orderTakerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderTakerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"assetMint",isMut:!1,isSigner:!1},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",account:"OrderAccount",path:"order_account.order_initializer_pubkey"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"saVault",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"atlasStaking",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1},{name:"stakingAccount",isMut:!1,isSigner:!1}],args:[{name:"purchaseQuantity",type:"u64"},{name:"expectedPrice",type:"u64"},{name:"seller",type:"publicKey"}]},{name:"processCancel",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeOpenOrdersCounter",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!1,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"MarketVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"bump",type:"u8"}]}},{name:"OpenOrdersCounter",type:{kind:"struct",fields:[{name:"openOrderCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"OrderAccount",type:{kind:"struct",fields:[{name:"orderInitializerPubkey",type:"publicKey"},{name:"currencyMint",type:"publicKey"},{name:"assetMint",type:"publicKey"},{name:"initializerCurrencyTokenAccount",type:"publicKey"},{name:"initializerAssetTokenAccount",type:"publicKey"},{name:"orderSide",type:{defined:"OrderSide"}},{name:"price",type:"u64"},{name:"orderOriginationQty",type:"u64"},{name:"orderRemainingQty",type:"u64"},{name:"createdAtTimestamp",type:"i64"}]}},{name:"RegisteredCurrency",type:{kind:"struct",fields:[{name:"tokenMint",type:"publicKey"},{name:"saCurrencyVault",type:"publicKey"},{name:"royalty",type:"u64"},{name:"bump",type:"u8"},{name:"royaltyTiers",type:{vec:{defined:"RoyaltyTier"}}}]}}],types:[{name:"RoyaltyTier",type:{kind:"struct",fields:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]}},{name:"OrderSide",type:{kind:"enum",variants:[{name:"Buy"},{name:"Sell"}]}},{name:"TokenType",type:{kind:"enum",variants:[{name:"Asset"},{name:"Currency"}]}}],errors:[{code:6e3,name:"InvalidDestinationAccount",msg:"Invalid Destination Token Account"},{code:6001,name:"InvalidInstruction",msg:"Invalid instruction."},{code:6002,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6003,name:"InvalidOfferAccountOwner",msg:"Invalid Offer Account Owner"},{code:6004,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"InvalidUpdateAuthorityAccount",msg:"Invalid Update Authority account"},{code:6007,name:"InvalidOrderVaultAuthorityAccount",msg:"Invalid Order Vault Authority account"},{code:6008,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6009,name:"InsufficientBalance",msg:"Insufficient Balance"},{code:6010,name:"InvalidOrderDuration",msg:"Invalid Order Duration"},{code:6011,name:"InvalidOriginationQty",msg:"Origination quantity must be greater than 0"},{code:6012,name:"InsufficientOrderQty",msg:"Insufficient Order Quantity Remaining"},{code:6013,name:"InvalidRoyalty",msg:"Invalid Royalty Value"},{code:6014,name:"InvalidCounter",msg:"Invalid Open Order Counter"},{code:6015,name:"MintDecimalError",msg:"Mint must be zero decimal"},{code:6016,name:"InvalidOrderAccountError",msg:"Order Account does not match provided account"},{code:6017,name:"InvalidRoyaltyTier",msg:"No royalty tier exists with provided stake amount"},{code:6018,name:"RoyaltyTierLength",msg:"Royalty Tier vector cannot hold any additional tiers"},{code:6019,name:"InvalidOrderPrice",msg:"Order price did not match expected price"},{code:6020,name:"DuplicateRoyaltyTier",msg:"Royalty tier already exists"},{code:6021,name:"InvalidSeller",msg:"Order seller did not match expected seller"}],metadata:{}};var gmLogsIdl$1={};Object.defineProperty(gmLogsIdl$1,"__esModule",{value:!0});gmLogsIdl$1.baseIdl=void 0;gmLogsIdl$1.baseIdl={version:"0.1.0",name:"gm_logs",instructions:[],events:[{name:"RegisterCurrencyMemo",fields:[{name:"updateAuthorityAccount",type:"publicKey",index:!1},{name:"registeredCurrency",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"saCurrencyVault",type:"publicKey",index:!1},{name:"royalty",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"InitializeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"ExchangeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"CancelOrderMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]}],metadata:{}};var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$1(e,t,r);return __setModuleDefault$1(e,t),e};Object.defineProperty(getMarketplaceProgram$1,"__esModule",{value:!0});getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram$1.getGmLogsIDL=getMarketplaceProgram$1.getGmIDL=void 0;const anchor_1$9=require$$0$1,gmIdl_1=gmIdl,gmLogsIdl=__importStar$1(gmLogsIdl$1);function getGmIDL(t){const e=gmIdl_1.baseIdl;return e.metadata.address=t.toBase58(),e}getMarketplaceProgram$1.getGmIDL=getGmIDL;function getGmLogsIDL(t){const e=gmLogsIdl.baseIdl;return e.metadata.address=t.toBase58(),e}getMarketplaceProgram$1.getGmLogsIDL=getGmLogsIDL;function getMarketplaceProgram({connection:t,programId:e}){const r=getGmIDL(e),n=new anchor_1$9.AnchorProvider(t,null,null);return new anchor_1$9.Program(r,e,n)}getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram;var __awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(order_getters,"__esModule",{value:!0});order_getters.getSingleOrder=order_getters.getOpenOrdersForPlayerAndAsset=order_getters.getOpenOrdersForPlayerAndCurrency=order_getters.getOpenOrdersForAsset=order_getters.getOpenOrdersForCurrency=order_getters.getOpenOrdersForPlayer=order_getters.getAllOpenOrders=void 0;const anchor_1$8=require$$0$1,getMarketplaceProgram_1$1=getMarketplaceProgram$1;function getAllOpenOrders(t,e){return __awaiter$f(this,void 0,void 0,function*(){const r=new anchor_1$8.AnchorProvider(t,null,null),n=(0,getMarketplaceProgram_1$1.getGmIDL)(e),o=new anchor_1$8.Program(n,e,r),s=[{dataSize:201}];return yield o.account.orderAccount.all(s)})}order_getters.getAllOpenOrders=getAllOpenOrders;function getOpenOrdersForPlayer(t,e,r){return __awaiter$f(this,void 0,void 0,function*(){const n=new anchor_1$8.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$1.getGmIDL)(r),s=new anchor_1$8.Program(o,r,n),a=[{dataSize:201},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForPlayer=getOpenOrdersForPlayer;function getOpenOrdersForCurrency(t,e,r){return __awaiter$f(this,void 0,void 0,function*(){const n=new anchor_1$8.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$1.getGmIDL)(r),s=new anchor_1$8.Program(o,r,n),a=[{dataSize:201},{memcmp:{offset:40,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForCurrency=getOpenOrdersForCurrency;function getOpenOrdersForAsset(t,e,r){return __awaiter$f(this,void 0,void 0,function*(){const n=new anchor_1$8.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$1.getGmIDL)(r),s=new anchor_1$8.Program(o,r,n),a=[{dataSize:201},{memcmp:{offset:72,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForAsset=getOpenOrdersForAsset;function getOpenOrdersForPlayerAndCurrency(t,e,r,n){return __awaiter$f(this,void 0,void 0,function*(){const o=new anchor_1$8.AnchorProvider(t,null,null),s=(0,getMarketplaceProgram_1$1.getGmIDL)(n),a=new anchor_1$8.Program(s,n,o),c=[{dataSize:201},{memcmp:{offset:40,bytes:r.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForPlayerAndCurrency=getOpenOrdersForPlayerAndCurrency;function getOpenOrdersForPlayerAndAsset(t,e,r,n){return __awaiter$f(this,void 0,void 0,function*(){const o=new anchor_1$8.AnchorProvider(t,null,null),s=(0,getMarketplaceProgram_1$1.getGmIDL)(n),a=new anchor_1$8.Program(s,n,o),c=[{dataSize:201},{memcmp:{offset:72,bytes:r.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForPlayerAndAsset=getOpenOrdersForPlayerAndAsset;function getSingleOrder(t,e,r){return __awaiter$f(this,void 0,void 0,function*(){const n=new anchor_1$8.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$1.getGmIDL)(r);return yield new anchor_1$8.Program(o,r,n).account.orderAccount.fetch(e)})}order_getters.getSingleOrder=getSingleOrder;var pda_getters$2={},seeds$1={};Object.defineProperty(seeds$1,"__esModule",{value:!0});seeds$1.OPEN_ORDERS_COUNTER=seeds$1.REGISTERED_CURRENCY_SEED=seeds$1.ORDER_VAULT_AUTH_SEED=seeds$1.ORDER_VAULT_SEED=seeds$1.MARKET_VARS_SEED=void 0;seeds$1.MARKET_VARS_SEED=Buffer.from("market-vars");seeds$1.ORDER_VAULT_SEED=Buffer.from("order-vault-account");seeds$1.ORDER_VAULT_AUTH_SEED=Buffer.from("order-vault-auth");seeds$1.REGISTERED_CURRENCY_SEED=Buffer.from("registered-currency");seeds$1.OPEN_ORDERS_COUNTER=Buffer.from("open-orders-counter");var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding(e,t,r);return __setModuleDefault(e,t),e},__awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_getters$2,"__esModule",{value:!0});pda_getters$2.getOpenOrdersCounter=pda_getters$2.getAllRegisteredCurrencies=pda_getters$2.getRegisteredCurrencyAccount=pda_getters$2.getOrderVaultAuth=pda_getters$2.getOrderVault=pda_getters$2.getMarketVarsAccount=void 0;const anchor_1$7=require$$0$1,web3_js_1$2=require$$0$2,Seeds=__importStar(seeds$1),getMarketplaceProgram_1=getMarketplaceProgram$1;function getMarketVarsAccount(t){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.MARKET_VARS_SEED],t)})}pda_getters$2.getMarketVarsAccount=getMarketVarsAccount;function getOrderVault(t,e,r){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_SEED,t.toBuffer(),e.toBuffer()],r)})}pda_getters$2.getOrderVault=getOrderVault;function getOrderVaultAuth(t,e){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_AUTH_SEED,t.toBuffer()],e)})}pda_getters$2.getOrderVaultAuth=getOrderVaultAuth;function getRegisteredCurrencyAccount(t,e){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.REGISTERED_CURRENCY_SEED,e.toBuffer()],t)})}pda_getters$2.getRegisteredCurrencyAccount=getRegisteredCurrencyAccount;function getAllRegisteredCurrencies(t,e){return __awaiter$e(this,void 0,void 0,function*(){const r=new anchor_1$7.AnchorProvider(t,null,null),n=(0,getMarketplaceProgram_1.getGmIDL)(e),o=new anchor_1$7.Program(n,e,r),s=[{dataSize:1686}],a=yield o.account.registeredCurrency.all(s),c=[];for(const m of a){const gr={mint:m.account.tokenMint,royalty:m.account.royalty,saVault:m.account.saCurrencyVault};c.push(gr)}return c})}pda_getters$2.getAllRegisteredCurrencies=getAllRegisteredCurrencies;function getOpenOrdersCounter(t,e,r){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.OPEN_ORDERS_COUNTER,t.toBuffer(),e.toBuffer()],r)})}pda_getters$2.getOpenOrdersCounter=getOpenOrdersCounter;var pda_info_getters$1={},hasRequiredPda_info_getters;function requirePda_info_getters(){if(hasRequiredPda_info_getters)return pda_info_getters$1;hasRequiredPda_info_getters=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(_r,wr,Or,Ir){function Pr(kr){return kr instanceof Or?kr:new Or(function(xr){xr(kr)})}return new(Or||(Or=Promise))(function(kr,xr){function Cr(qr){try{Fr(Ir.next(qr))}catch(Gr){xr(Gr)}}function Kr(qr){try{Fr(Ir.throw(qr))}catch(Gr){xr(Gr)}}function Fr(qr){qr.done?kr(qr.value):Pr(qr.value).then(Cr,Kr)}Fr((Ir=Ir.apply(_r,wr||[])).next())})};Object.defineProperty(pda_info_getters$1,"__esModule",{value:!0}),pda_info_getters$1.getRoyaltyReductionForStakingAccount=pda_info_getters$1.getRoyaltyReductionForUserAndMint=pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=pda_info_getters$1.getRegisteredCurrencyAccountInfo=pda_info_getters$1.getMarketVarsAccountInfo=void 0;const e=require$$0$1,r=pda_getters$2,n=getMarketplaceProgram$1,o=requireAtlasStaking();function s(_r,wr){return t(this,void 0,void 0,function*(){const Or=(0,n.getMarketplaceProgram)({connection:_r,programId:wr}),[Ir]=yield(0,r.getMarketVarsAccount)(wr);return yield Or.account.marketVars.fetch(Ir)})}pda_info_getters$1.getMarketVarsAccountInfo=s;function a(_r,wr,Or){return t(this,void 0,void 0,function*(){const Ir=(0,n.getMarketplaceProgram)({connection:_r,programId:wr}),[Pr]=yield(0,r.getRegisteredCurrencyAccount)(wr,Or);return yield Ir.account.registeredCurrency.fetch(Pr)})}pda_info_getters$1.getRegisteredCurrencyAccountInfo=a;function c(_r,wr,Or){return t(this,void 0,void 0,function*(){return yield(0,n.getMarketplaceProgram)({connection:_r,programId:wr}).account.registeredCurrency.fetch(Or)})}pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=c;function m(_r,wr,Or,Ir,Pr,kr){return t(this,void 0,void 0,function*(){let xr=0;const Cr=yield c(_r,wr,Pr),[Kr]=yield(0,o.getStakingAccount)(Or,Ir,kr),Fr=yield(0,o.getStakingAccountInfo)(_r,Kr,Or);if(Fr.unstakedTs.eq(new e.BN(0))){const qr=Cr.royaltyTiers;let Gr=new e.BN(0);for(const jr of qr)Fr.totalStake.gte(jr.stakeAmount)&&(Gr=jr.discount);xr=Gr.toNumber()/1e4}return xr})}pda_info_getters$1.getRoyaltyReductionForUserAndMint=m;function gr(_r,wr,Or,Ir,Pr){return t(this,void 0,void 0,function*(){let kr=0;const xr=yield c(_r,wr,Pr),Cr=yield(0,o.getStakingAccountInfo)(_r,Ir,Or);if(Cr.unstakedTs.eq(new e.BN(0))){const Kr=xr.royaltyTiers;let Fr=new e.BN(0);for(const qr of Kr)Cr.totalStake.gte(qr.stakeAmount)&&(Fr=qr.discount);kr=Fr.toNumber()/1e4}return kr})}return pda_info_getters$1.getRoyaltyReductionForStakingAccount=gr,pda_info_getters$1}var hasRequiredPda_getters;function requirePda_getters(){return hasRequiredPda_getters||(hasRequiredPda_getters=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(order_getters,t),r(pda_getters$2,t),r(requirePda_info_getters(),t),r(seeds$1,t)}(pda_getters$3)),pda_getters$3}var createOrderCounter={},utils={},gmHelper={},__awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(gmHelper,"__esModule",{value:!0});gmHelper.convertDecimalPriceToBn=gmHelper.initializeAtaForMint=gmHelper.getOrderSide=void 0;const anchor_1$6=require$$0$1,token_1$2=token,spl_token_1=require$$1$1,getOrderSide=t=>JSON.stringify(t.orderSide)===JSON.stringify({buy:{}})?"BuySide":"SellSide";gmHelper.getOrderSide=getOrderSide;function initializeAtaForMint({mint:t,owner:e,connection:r}){return __awaiter$d(this,void 0,void 0,function*(){const n=[],o=yield(0,token_1$2.associatedAddress)({mint:t,owner:e});return(yield r.getAccountInfo(o))===null&&n.push(spl_token_1.Token.createAssociatedTokenAccountInstruction(spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1.TOKEN_PROGRAM_ID,t,o,e,e)),{account:o,instructions:n}})}gmHelper.initializeAtaForMint=initializeAtaForMint;const convertDecimalPriceToBn=(t,e)=>new anchor_1$6.BN(t*Math.pow(10,e));gmHelper.convertDecimalPriceToBn=convertDecimalPriceToBn;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(getMarketplaceProgram$1,t),r(gmHelper,t)})(utils);var __awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(createOrderCounter,"__esModule",{value:!0});createOrderCounter.createOrderCounterInstruction=void 0;const utils_1$a=utils;function createOrderCounterInstruction({connection:t,payer:e,initializerMainAccount:r,depositMint:n,programId:o}){return __awaiter$c(this,void 0,void 0,function*(){return yield(0,utils_1$a.getMarketplaceProgram)({connection:t,programId:o}).methods.initializeOpenOrdersCounter().accounts({payer:e,user:r,depositMint:n}).instruction()})}createOrderCounter.createOrderCounterInstruction=createOrderCounterInstruction;var hasRequiredCancelOrder;function requireCancelOrder(){if(hasRequiredCancelOrder)return cancelOrder;hasRequiredCancelOrder=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(c,m,gr,_r){function wr(Or){return Or instanceof gr?Or:new gr(function(Ir){Ir(Or)})}return new(gr||(gr=Promise))(function(Or,Ir){function Pr(Cr){try{xr(_r.next(Cr))}catch(Kr){Ir(Kr)}}function kr(Cr){try{xr(_r.throw(Cr))}catch(Kr){Ir(Kr)}}function xr(Cr){Cr.done?Or(Cr.value):wr(Cr.value).then(Pr,kr)}xr((_r=_r.apply(c,m||[])).next())})};Object.defineProperty(cancelOrder,"__esModule",{value:!0}),cancelOrder.createCancelOrderInstruction=void 0;const e=require$$0$1,r=requirePda_getters(),n=createOrderCounter,o=utils,s=requireUtil();function a({connection:c,orderInitializer:m,orderAccount:gr,programId:_r,payer:wr=m}){return t(this,void 0,void 0,function*(){const Or=(0,o.getMarketplaceProgram)({connection:c,programId:_r}),Ir={signers:[],instructions:[]},Pr=yield Or.account.orderAccount.fetch(gr),xr=(0,o.getOrderSide)(Pr)==="SellSide"?Pr.assetMint:Pr.currencyMint;let Cr=null,Kr=null;const Fr=yield(0,s.getTokenAccount)(c,m,xr);Cr=Fr.tokenAccount,"createInstruction"in Fr&&Ir.instructions.push(Fr.createInstruction),Cr instanceof e.web3.Keypair?(Kr=Cr.publicKey,Ir.signers.push(Cr)):Kr=Cr;const[qr]=yield(0,r.getOpenOrdersCounter)(m,xr,_r);if((yield c.getAccountInfo(qr))===null){const Vr=yield(0,n.createOrderCounterInstruction)({connection:c,payer:wr,initializerMainAccount:m,depositMint:xr,programId:_r});Ir.instructions.push(Vr)}const jr=yield Or.methods.processCancel().accounts({signer:wr,depositMint:xr,orderInitializer:m,initializerDepositTokenAccount:Kr,orderAccount:gr}).instruction();return Ir.instructions.push(jr),Ir})}return cancelOrder.createCancelOrderInstruction=a,cancelOrder}var createOrder={},hasRequiredCreateOrder;function requireCreateOrder(){if(hasRequiredCreateOrder)return createOrder;hasRequiredCreateOrder=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(gr,_r,wr,Or){function Ir(Pr){return Pr instanceof wr?Pr:new wr(function(kr){kr(Pr)})}return new(wr||(wr=Promise))(function(Pr,kr){function xr(Fr){try{Kr(Or.next(Fr))}catch(qr){kr(qr)}}function Cr(Fr){try{Kr(Or.throw(Fr))}catch(qr){kr(qr)}}function Kr(Fr){Fr.done?Pr(Fr.value):Ir(Fr.value).then(xr,Cr)}Kr((Or=Or.apply(gr,_r||[])).next())})};Object.defineProperty(createOrder,"__esModule",{value:!0}),createOrder.createInitializeSellOrderInstruction=createOrder.createInitializeBuyOrderInstruction=void 0;const e=require$$0$1,r=utils,n=requireUtil(),o=requirePda_getters(),s=createOrderCounter,a=requireUtil();function c({connection:gr,initializerMainAccount:_r,initializerDepositTokenAccount:wr,price:Or,originationQty:Ir,depositMint:Pr,receiveMint:kr,programId:xr}){return t(this,void 0,void 0,function*(){const Cr=(0,r.getMarketplaceProgram)({connection:gr,programId:xr}),Kr={signers:[],instructions:[]};let Fr=null,qr=null;const Gr=yield(0,n.getTokenAccount)(gr,_r,kr);Fr=Gr.tokenAccount,"createInstruction"in Gr&&Kr.instructions.push(Gr.createInstruction),Fr instanceof e.web3.Keypair?(qr=Fr.publicKey,Kr.signers.push(Fr)):qr=Fr;const[jr]=yield(0,o.getOpenOrdersCounter)(_r,Pr,xr);if((yield gr.getAccountInfo(jr))===null){const sn=yield(0,s.createOrderCounterInstruction)({connection:gr,payer:_r,initializerMainAccount:_r,depositMint:Pr,programId:xr});Kr.instructions.push(sn)}const Jr=e.web3.Keypair.generate();Kr.signers.push(Jr);const ln=yield(0,a.createAccountInstruction)(gr,_r,Jr,xr);Kr.instructions.push(ln);const tn=yield Cr.methods.processInitializeBuy(Or,new e.BN(Ir)).accounts({orderInitializer:_r,initializerDepositTokenAccount:wr,initializerReceiveTokenAccount:qr,orderAccount:Jr.publicKey,depositMint:Pr,receiveMint:kr}).signers([Jr]).instruction();return Kr.instructions.push(tn),{orderAccount:Jr.publicKey,ixSet:Kr}})}createOrder.createInitializeBuyOrderInstruction=c;function m({connection:gr,initializerMainAccount:_r,initializerDepositTokenAccount:wr,price:Or,originationQty:Ir,depositMint:Pr,receiveMint:kr,programId:xr}){return t(this,void 0,void 0,function*(){const Cr=(0,r.getMarketplaceProgram)({connection:gr,programId:xr}),Kr={signers:[],instructions:[]};let Fr=null,qr=null;const Gr=yield(0,n.getTokenAccount)(gr,_r,kr);Fr=Gr.tokenAccount,"createInstruction"in Gr&&Kr.instructions.push(Gr.createInstruction),Fr instanceof e.web3.Keypair?(qr=Fr.publicKey,Kr.signers.push(Fr)):qr=Fr;const[jr]=yield(0,o.getOpenOrdersCounter)(_r,Pr,xr);if((yield gr.getAccountInfo(jr))===null){const sn=yield(0,s.createOrderCounterInstruction)({connection:gr,payer:_r,initializerMainAccount:_r,depositMint:Pr,programId:xr});Kr.instructions.push(sn)}const Jr=e.web3.Keypair.generate();Kr.signers.push(Jr);const ln=yield(0,a.createAccountInstruction)(gr,_r,Jr,xr);Kr.instructions.push(ln);const tn=yield Cr.methods.processInitializeSell(Or,new e.BN(Ir)).accounts({orderInitializer:_r,initializerDepositTokenAccount:wr,initializerReceiveTokenAccount:qr,orderAccount:Jr.publicKey,depositMint:Pr,receiveMint:kr}).signers([Jr]).instruction();return Kr.instructions.push(tn),{orderAccount:Jr.publicKey,ixSet:Kr}})}return createOrder.createInitializeSellOrderInstruction=m,createOrder}var deregisterCurrency={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(deregisterCurrency,"__esModule",{value:!0});deregisterCurrency.createDeregisterCurrencyInstruction=void 0;const utils_1$9=utils;function createDeregisterCurrencyInstruction({connection:t,updateAuthorityAccount:e,currencyMint:r,programId:n}){return __awaiter$b(this,void 0,void 0,function*(){const s=[yield(0,utils_1$9.getMarketplaceProgram)({connection:t,programId:n}).methods.deregisterCurrency().accounts({updateAuthorityAccount:e,currencyMint:r}).instruction()];return{accounts:[],instructions:s}})}deregisterCurrency.createDeregisterCurrencyInstruction=createDeregisterCurrencyInstruction;var exchangeOrder={},models={},Order={},big={exports:{}};(function(t){(function(e){var r,n=20,o=1,s=1e6,a=1e6,c=-7,m=21,gr=!1,_r="[big.js] ",wr=_r+"Invalid ",Or=wr+"decimal places",Ir=wr+"rounding mode",Pr=_r+"Division by zero",kr={},xr=void 0,Cr=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Kr(){function jr(Vr){var Jr=this;if(!(Jr instanceof jr))return Vr===xr?Kr():new jr(Vr);if(Vr instanceof jr)Jr.s=Vr.s,Jr.e=Vr.e,Jr.c=Vr.c.slice();else{if(typeof Vr!="string"){if(jr.strict===!0&&typeof Vr!="bigint")throw TypeError(wr+"value");Vr=Vr===0&&1/Vr<0?"-0":String(Vr)}Fr(Jr,Vr)}Jr.constructor=jr}return jr.prototype=kr,jr.DP=n,jr.RM=o,jr.NE=c,jr.PE=m,jr.strict=gr,jr.roundDown=0,jr.roundHalfUp=1,jr.roundHalfEven=2,jr.roundUp=3,jr}function Fr(jr,Vr){var Jr,ln,tn;if(!Cr.test(Vr))throw Error(wr+"number");for(jr.s=Vr.charAt(0)=="-"?(Vr=Vr.slice(1),-1):1,(Jr=Vr.indexOf("."))>-1&&(Vr=Vr.replace(".","")),(ln=Vr.search(/e/i))>0?(Jr<0&&(Jr=ln),Jr+=+Vr.slice(ln+1),Vr=Vr.substring(0,ln)):Jr<0&&(Jr=Vr.length),tn=Vr.length,ln=0;ln<tn&&Vr.charAt(ln)=="0";)++ln;if(ln==tn)jr.c=[jr.e=0];else{for(;tn>0&&Vr.charAt(--tn)=="0";);for(jr.e=Jr-ln-1,jr.c=[],Jr=0;ln<=tn;)jr.c[Jr++]=+Vr.charAt(ln++)}return jr}function qr(jr,Vr,Jr,ln){var tn=jr.c;if(Jr===xr&&(Jr=jr.constructor.RM),Jr!==0&&Jr!==1&&Jr!==2&&Jr!==3)throw Error(Ir);if(Vr<1)ln=Jr===3&&(ln||!!tn[0])||Vr===0&&(Jr===1&&tn[0]>=5||Jr===2&&(tn[0]>5||tn[0]===5&&(ln||tn[1]!==xr))),tn.length=1,ln?(jr.e=jr.e-Vr+1,tn[0]=1):tn[0]=jr.e=0;else if(Vr<tn.length){if(ln=Jr===1&&tn[Vr]>=5||Jr===2&&(tn[Vr]>5||tn[Vr]===5&&(ln||tn[Vr+1]!==xr||tn[Vr-1]&1))||Jr===3&&(ln||!!tn[0]),tn.length=Vr,ln){for(;++tn[--Vr]>9;)if(tn[Vr]=0,Vr===0){++jr.e,tn.unshift(1);break}}for(Vr=tn.length;!tn[--Vr];)tn.pop()}return jr}function Gr(jr,Vr,Jr){var ln=jr.e,tn=jr.c.join(""),sn=tn.length;if(Vr)tn=tn.charAt(0)+(sn>1?"."+tn.slice(1):"")+(ln<0?"e":"e+")+ln;else if(ln<0){for(;++ln;)tn="0"+tn;tn="0."+tn}else if(ln>0)if(++ln>sn)for(ln-=sn;ln--;)tn+="0";else ln<sn&&(tn=tn.slice(0,ln)+"."+tn.slice(ln));else sn>1&&(tn=tn.charAt(0)+"."+tn.slice(1));return jr.s<0&&Jr?"-"+tn:tn}kr.abs=function(){var jr=new this.constructor(this);return jr.s=1,jr},kr.cmp=function(jr){var Vr,Jr=this,ln=Jr.c,tn=(jr=new Jr.constructor(jr)).c,sn=Jr.s,dn=jr.s,Rr=Jr.e,vr=jr.e;if(!ln[0]||!tn[0])return ln[0]?sn:tn[0]?-dn:0;if(sn!=dn)return sn;if(Vr=sn<0,Rr!=vr)return Rr>vr^Vr?1:-1;for(dn=(Rr=ln.length)<(vr=tn.length)?Rr:vr,sn=-1;++sn<dn;)if(ln[sn]!=tn[sn])return ln[sn]>tn[sn]^Vr?1:-1;return Rr==vr?0:Rr>vr^Vr?1:-1},kr.div=function(jr){var Vr=this,Jr=Vr.constructor,ln=Vr.c,tn=(jr=new Jr(jr)).c,sn=Vr.s==jr.s?1:-1,dn=Jr.DP;if(dn!==~~dn||dn<0||dn>s)throw Error(Or);if(!tn[0])throw Error(Pr);if(!ln[0])return jr.s=sn,jr.c=[jr.e=0],jr;var Rr,vr,Tr,Lr,Ur,Hr=tn.slice(),nn=Rr=tn.length,pn=ln.length,Nr=ln.slice(0,Rr),Er=Nr.length,Mr=jr,cn=Mr.c=[],Yr=0,Zr=dn+(Mr.e=Vr.e-jr.e)+1;for(Mr.s=sn,sn=Zr<0?0:Zr,Hr.unshift(0);Er++<Rr;)Nr.push(0);do{for(Tr=0;Tr<10;Tr++){if(Rr!=(Er=Nr.length))Lr=Rr>Er?1:-1;else for(Ur=-1,Lr=0;++Ur<Rr;)if(tn[Ur]!=Nr[Ur]){Lr=tn[Ur]>Nr[Ur]?1:-1;break}if(Lr<0){for(vr=Er==Rr?tn:Hr;Er;){if(Nr[--Er]<vr[Er]){for(Ur=Er;Ur&&!Nr[--Ur];)Nr[Ur]=9;--Nr[Ur],Nr[Er]+=10}Nr[Er]-=vr[Er]}for(;!Nr[0];)Nr.shift()}else break}cn[Yr++]=Lr?Tr:++Tr,Nr[0]&&Lr?Nr[Er]=ln[nn]||0:Nr=[ln[nn]]}while((nn++<pn||Nr[0]!==xr)&&sn--);return!cn[0]&&Yr!=1&&(cn.shift(),Mr.e--,Zr--),Yr>Zr&&qr(Mr,Zr,Jr.RM,Nr[0]!==xr),Mr},kr.eq=function(jr){return this.cmp(jr)===0},kr.gt=function(jr){return this.cmp(jr)>0},kr.gte=function(jr){return this.cmp(jr)>-1},kr.lt=function(jr){return this.cmp(jr)<0},kr.lte=function(jr){return this.cmp(jr)<1},kr.minus=kr.sub=function(jr){var Vr,Jr,ln,tn,sn=this,dn=sn.constructor,Rr=sn.s,vr=(jr=new dn(jr)).s;if(Rr!=vr)return jr.s=-vr,sn.plus(jr);var Tr=sn.c.slice(),Lr=sn.e,Ur=jr.c,Hr=jr.e;if(!Tr[0]||!Ur[0])return Ur[0]?jr.s=-vr:Tr[0]?jr=new dn(sn):jr.s=1,jr;if(Rr=Lr-Hr){for((tn=Rr<0)?(Rr=-Rr,ln=Tr):(Hr=Lr,ln=Ur),ln.reverse(),vr=Rr;vr--;)ln.push(0);ln.reverse()}else for(Jr=((tn=Tr.length<Ur.length)?Tr:Ur).length,Rr=vr=0;vr<Jr;vr++)if(Tr[vr]!=Ur[vr]){tn=Tr[vr]<Ur[vr];break}if(tn&&(ln=Tr,Tr=Ur,Ur=ln,jr.s=-jr.s),(vr=(Jr=Ur.length)-(Vr=Tr.length))>0)for(;vr--;)Tr[Vr++]=0;for(vr=Vr;Jr>Rr;){if(Tr[--Jr]<Ur[Jr]){for(Vr=Jr;Vr&&!Tr[--Vr];)Tr[Vr]=9;--Tr[Vr],Tr[Jr]+=10}Tr[Jr]-=Ur[Jr]}for(;Tr[--vr]===0;)Tr.pop();for(;Tr[0]===0;)Tr.shift(),--Hr;return Tr[0]||(jr.s=1,Tr=[Hr=0]),jr.c=Tr,jr.e=Hr,jr},kr.mod=function(jr){var Vr,Jr=this,ln=Jr.constructor,tn=Jr.s,sn=(jr=new ln(jr)).s;if(!jr.c[0])throw Error(Pr);return Jr.s=jr.s=1,Vr=jr.cmp(Jr)==1,Jr.s=tn,jr.s=sn,Vr?new ln(Jr):(tn=ln.DP,sn=ln.RM,ln.DP=ln.RM=0,Jr=Jr.div(jr),ln.DP=tn,ln.RM=sn,this.minus(Jr.times(jr)))},kr.neg=function(){var jr=new this.constructor(this);return jr.s=-jr.s,jr},kr.plus=kr.add=function(jr){var Vr,Jr,ln,tn=this,sn=tn.constructor;if(jr=new sn(jr),tn.s!=jr.s)return jr.s=-jr.s,tn.minus(jr);var dn=tn.e,Rr=tn.c,vr=jr.e,Tr=jr.c;if(!Rr[0]||!Tr[0])return Tr[0]||(Rr[0]?jr=new sn(tn):jr.s=tn.s),jr;if(Rr=Rr.slice(),Vr=dn-vr){for(Vr>0?(vr=dn,ln=Tr):(Vr=-Vr,ln=Rr),ln.reverse();Vr--;)ln.push(0);ln.reverse()}for(Rr.length-Tr.length<0&&(ln=Tr,Tr=Rr,Rr=ln),Vr=Tr.length,Jr=0;Vr;Rr[Vr]%=10)Jr=(Rr[--Vr]=Rr[Vr]+Tr[Vr]+Jr)/10|0;for(Jr&&(Rr.unshift(Jr),++vr),Vr=Rr.length;Rr[--Vr]===0;)Rr.pop();return jr.c=Rr,jr.e=vr,jr},kr.pow=function(jr){var Vr=this,Jr=new Vr.constructor("1"),ln=Jr,tn=jr<0;if(jr!==~~jr||jr<-a||jr>a)throw Error(wr+"exponent");for(tn&&(jr=-jr);jr&1&&(ln=ln.times(Vr)),jr>>=1,!!jr;)Vr=Vr.times(Vr);return tn?Jr.div(ln):ln},kr.prec=function(jr,Vr){if(jr!==~~jr||jr<1||jr>s)throw Error(wr+"precision");return qr(new this.constructor(this),jr,Vr)},kr.round=function(jr,Vr){if(jr===xr)jr=0;else if(jr!==~~jr||jr<-s||jr>s)throw Error(Or);return qr(new this.constructor(this),jr+this.e+1,Vr)},kr.sqrt=function(){var jr,Vr,Jr,ln=this,tn=ln.constructor,sn=ln.s,dn=ln.e,Rr=new tn("0.5");if(!ln.c[0])return new tn(ln);if(sn<0)throw Error(_r+"No square root");sn=Math.sqrt(ln+""),sn===0||sn===1/0?(Vr=ln.c.join(""),Vr.length+dn&1||(Vr+="0"),sn=Math.sqrt(Vr),dn=((dn+1)/2|0)-(dn<0||dn&1),jr=new tn((sn==1/0?"5e":(sn=sn.toExponential()).slice(0,sn.indexOf("e")+1))+dn)):jr=new tn(sn+""),dn=jr.e+(tn.DP+=4);do Jr=jr,jr=Rr.times(Jr.plus(ln.div(Jr)));while(Jr.c.slice(0,dn).join("")!==jr.c.slice(0,dn).join(""));return qr(jr,(tn.DP-=4)+jr.e+1,tn.RM)},kr.times=kr.mul=function(jr){var Vr,Jr=this,ln=Jr.constructor,tn=Jr.c,sn=(jr=new ln(jr)).c,dn=tn.length,Rr=sn.length,vr=Jr.e,Tr=jr.e;if(jr.s=Jr.s==jr.s?1:-1,!tn[0]||!sn[0])return jr.c=[jr.e=0],jr;for(jr.e=vr+Tr,dn<Rr&&(Vr=tn,tn=sn,sn=Vr,Tr=dn,dn=Rr,Rr=Tr),Vr=new Array(Tr=dn+Rr);Tr--;)Vr[Tr]=0;for(vr=Rr;vr--;){for(Rr=0,Tr=dn+vr;Tr>vr;)Rr=Vr[Tr]+sn[vr]*tn[Tr-vr-1]+Rr,Vr[Tr--]=Rr%10,Rr=Rr/10|0;Vr[Tr]=Rr}for(Rr?++jr.e:Vr.shift(),vr=Vr.length;!Vr[--vr];)Vr.pop();return jr.c=Vr,jr},kr.toExponential=function(jr,Vr){var Jr=this,ln=Jr.c[0];if(jr!==xr){if(jr!==~~jr||jr<0||jr>s)throw Error(Or);for(Jr=qr(new Jr.constructor(Jr),++jr,Vr);Jr.c.length<jr;)Jr.c.push(0)}return Gr(Jr,!0,!!ln)},kr.toFixed=function(jr,Vr){var Jr=this,ln=Jr.c[0];if(jr!==xr){if(jr!==~~jr||jr<0||jr>s)throw Error(Or);for(Jr=qr(new Jr.constructor(Jr),jr+Jr.e+1,Vr),jr=jr+Jr.e+1;Jr.c.length<jr;)Jr.c.push(0)}return Gr(Jr,!1,!!ln)},kr.toJSON=kr.toString=function(){var jr=this,Vr=jr.constructor;return Gr(jr,jr.e<=Vr.NE||jr.e>=Vr.PE,!!jr.c[0])},kr.toNumber=function(){var jr=Number(Gr(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(jr.toString()))throw Error(_r+"Imprecise conversion");return jr},kr.toPrecision=function(jr,Vr){var Jr=this,ln=Jr.constructor,tn=Jr.c[0];if(jr!==xr){if(jr!==~~jr||jr<1||jr>s)throw Error(wr+"precision");for(Jr=qr(new ln(Jr),jr,Vr);Jr.c.length<jr;)Jr.c.push(0)}return Gr(Jr,jr<=Jr.e||Jr.e<=ln.NE||Jr.e>=ln.PE,!!tn)},kr.valueOf=function(){var jr=this,Vr=jr.constructor;if(Vr.strict===!0)throw Error(_r+"valueOf disallowed");return Gr(jr,jr.e<=Vr.NE||jr.e>=Vr.PE,!0)},r=Kr(),r.default=r.Big=r,t.exports?t.exports=r:e.Big=r})(commonjsGlobal)})(big);function die(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:mockGlobal}var assign=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var noop=function t(){};function isFunction(t){return typeof t=="function"}function isStringish(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function isObject(t){return t!==null&&typeof t=="object"}function isPlainObject(t){if(!isObject(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r.toString()===plainObjectString}function isGenerator(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function addHiddenProp$1(t,e,r){defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function addHiddenFinalProp(t,e,r){defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function createInstanceofPredicate(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return isObject(n)&&n[r]===!0}}function isES6Map(t){return t instanceof Map}function isES6Set(t){return t instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(t){var e=Object.keys(t);if(!hasGetOwnPropertySymbols)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter(function(n){return objectPrototype.propertyIsEnumerable.call(t,n)})):e}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function toPrimitive(t){return t===null?null:typeof t=="object"?""+t:t}function hasProp(t,e){return objectPrototype.hasOwnProperty.call(t,e)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function t(e){var r={};return ownKeys(e).forEach(function(n){r[n]=getDescriptor(e,n)}),r};function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _extends(){return _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_setPrototypeOf(t,e)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _unsupportedIterableToArray(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _createForOfIteratorHelperLoose(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(t){function e(r,n){storeAnnotation(r,n,t)}return Object.assign(e,t)}function storeAnnotation(t,e,r){hasProp(t,storedAnnotationsSymbol)||addHiddenProp$1(t,storedAnnotationsSymbol,_extends({},t[storedAnnotationsSymbol])),isOverride(r)||(t[storedAnnotationsSymbol][e]=r)}function collectStoredAnnotations(t){return hasProp(t,storedAnnotationsSymbol)||addHiddenProp$1(t,storedAnnotationsSymbol,_extends({},t[storedAnnotationsSymbol])),t[storedAnnotationsSymbol]}var $mobx=Symbol("mobx administration"),Atom=function(){function t(r){r===void 0&&(r="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.reportObserved=function(){return reportObserved(this)},e.reportChanged=function(){startBatch(),propagateChanged(this),endBatch()},e.toString=function(){return this.name_},t}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(t,e,r){e===void 0&&(e=noop),r===void 0&&(r=noop);var n=new Atom(t);return e!==noop&&onBecomeObserved(n,e),r!==noop&&onBecomeUnobserved(n,r),n}function identityComparer(t,e){return t===e}function structuralComparer(t,e){return deepEqual(t,e)}function shallowComparer(t,e){return deepEqual(t,e,1)}function defaultComparer(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(t,e,r){return isObservable(t)?t:Array.isArray(t)?observable.array(t,{name:r}):isPlainObject(t)?observable.object(t,void 0,{name:r}):isES6Map(t)?observable.map(t,{name:r}):isES6Set(t)?observable.set(t,{name:r}):typeof t=="function"&&!isAction(t)&&!isFlow(t)?isGenerator(t)?flow(t):autoAction(r,t):t}function shallowEnhancer(t,e,r){if(t==null||isObservableObject(t)||isObservableArray(t)||isObservableMap(t)||isObservableSet(t))return t;if(Array.isArray(t))return observable.array(t,{name:r,deep:!1});if(isPlainObject(t))return observable.object(t,void 0,{name:r,deep:!1});if(isES6Map(t))return observable.map(t,{name:r,deep:!1});if(isES6Set(t))return observable.set(t,{name:r,deep:!1})}function referenceEnhancer(t){return t}function refStructEnhancer(t,e){return deepEqual(t,e)?e:t}var OVERRIDE="override",override=createDecoratorAnnotation({annotationType_:OVERRIDE,make_,extend_});function isOverride(t){return t.annotationType_===OVERRIDE}function make_(t,e){return 0}function extend_(t,e,r,n){die("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function createActionAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$1,extend_:extend_$1}}function make_$1(t,e,r,n){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(t,e,r,!1)===null?0:1;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if(isAction(r.value))return 1;var s=createActionDescriptor(t,this,e,r,!1);return defineProperty(n,e,s),2}function extend_$1(t,e,r,n){var o=createActionDescriptor(t,this,e,r);return t.defineProperty_(e,o,n)}function assertActionDescriptor(t,e,r,n){e.annotationType_,n.value}function createActionDescriptor(t,e,r,n,o){var s,a,c,m,gr,_r,wr;o===void 0&&(o=globalState.safeDescriptors),assertActionDescriptor(t,e,r,n);var Or=n.value;if((s=e.options_)!=null&&s.bound){var Ir;Or=Or.bind((Ir=t.proxy_)!=null?Ir:t.target_)}return{value:createAction((a=(c=e.options_)==null?void 0:c.name)!=null?a:r.toString(),Or,(m=(gr=e.options_)==null?void 0:gr.autoAction)!=null?m:!1,(_r=e.options_)!=null&&_r.bound?(wr=t.proxy_)!=null?wr:t.target_:void 0),configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function createFlowAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$2,extend_:extend_$2}}function make_$2(t,e,r,n){var o;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!hasProp(t.target_,e)||!isFlow(t.target_[e]))&&this.extend_(t,e,r,!1)===null)return 0;if(isFlow(r.value))return 1;var s=createFlowDescriptor(t,this,e,r,!1,!1);return defineProperty(n,e,s),2}function extend_$2(t,e,r,n){var o,s=createFlowDescriptor(t,this,e,r,(o=this.options_)==null?void 0:o.bound);return t.defineProperty_(e,s,n)}function assertFlowDescriptor(t,e,r,n){e.annotationType_,n.value}function createFlowDescriptor(t,e,r,n,o,s){s===void 0&&(s=globalState.safeDescriptors),assertFlowDescriptor(t,e,r,n);var a=n.value;if(isFlow(a)||(a=flow(a)),o){var c;a=a.bind((c=t.proxy_)!=null?c:t.target_),a.isMobXFlow=!0}return{value:a,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function createComputedAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$3,extend_:extend_$3}}function make_$3(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function extend_$3(t,e,r,n){return assertComputedDescriptor(t,this,e,r),t.defineComputedProperty_(e,_extends({},this.options_,{get:r.get,set:r.set}),n)}function assertComputedDescriptor(t,e,r,n){e.annotationType_,n.get}function createObservableAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$4,extend_:extend_$4}}function make_$4(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function extend_$4(t,e,r,n){var o,s;return assertObservableDescriptor(t,this),t.defineObservableProperty_(e,r.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:deepEnhancer,n)}function assertObservableDescriptor(t,e,r,n){e.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(t){return{annotationType_:AUTO,options_:t,make_:make_$5,extend_:extend_$5}}function make_$5(t,e,r,n){var o,s;if(r.get)return computed.make_(t,e,r,n);if(r.set){var a=createAction(e.toString(),r.set);return n===t.target_?t.defineProperty_(e,{configurable:globalState.safeDescriptors?t.isPlainObject_:!0,set:a})===null?0:2:(defineProperty(n,e,{configurable:!0,set:a}),2)}if(n!==t.target_&&typeof r.value=="function"){var c;if(isGenerator(r.value)){var m,gr=(m=this.options_)!=null&&m.autoBind?flow.bound:flow;return gr.make_(t,e,r,n)}var _r=(c=this.options_)!=null&&c.autoBind?autoAction.bound:autoAction;return _r.make_(t,e,r,n)}var wr=((o=this.options_)==null?void 0:o.deep)===!1?observable.ref:observable;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var Or;r.value=r.value.bind((Or=t.proxy_)!=null?Or:t.target_)}return wr.make_(t,e,r,n)}function extend_$5(t,e,r,n){var o,s;if(r.get)return computed.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:globalState.safeDescriptors?t.isPlainObject_:!0,set:createAction(e.toString(),r.set)},n);if(typeof r.value=="function"&&(o=this.options_)!=null&&o.autoBind){var a;r.value=r.value.bind((a=t.proxy_)!=null?a:t.target_)}var c=((s=this.options_)==null?void 0:s.deep)===!1?observable.ref:observable;return c.extend_(t,e,r,n)}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(t){return t||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(t){return t.deep===!0?deepEnhancer:t.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(t.defaultDecorator)}function getAnnotationFromOptions(t){var e;return t?(e=t.defaultDecorator)!=null?e:createAutoAnnotation(t):void 0}function getEnhancerFromAnnotation(t){var e,r;return t&&(e=(r=t.options_)==null?void 0:r.enhancer)!=null?e:deepEnhancer}function createObservable(t,e,r){if(isStringish(e)){storeAnnotation(t,e,observableAnnotation);return}return isObservable(t)?t:isPlainObject(t)?observable.object(t,e,r):Array.isArray(t)?observable.array(t,e):isES6Map(t)?observable.map(t,e):isES6Set(t)?observable.set(t,e):typeof t=="object"&&t!==null?t:observable.box(t,e)}Object.assign(createObservable,observableDecoratorAnnotation);var observableFactories={box:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableValue(e,getEnhancerFromOptions(n),n.name,!0,n.equals)},array:function t(e,r){var n=asCreateObservableOptions(r);return(globalState.useProxies===!1||n.proxy===!1?createLegacyArray:createObservableArray)(e,getEnhancerFromOptions(n),n.name)},map:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableMap(e,getEnhancerFromOptions(n),n.name)},set:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableSet(e,getEnhancerFromOptions(n),n.name)},object:function t(e,r,n){return extendObservable(globalState.useProxies===!1||n?.proxy===!1?asObservableObject({},n):asDynamicObservableObject({},n),e,r)},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable=assign(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function t(e,r){if(isStringish(r))return storeAnnotation(e,r,computedAnnotation);if(isPlainObject(e))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,e));var n=isPlainObject(r)?r:{};return n.get=e,n.name||(n.name=e.name||""),new ComputedValue(n)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(t,e,r,n){r===void 0&&(r=!1);function o(){return executeAction(t,r,e,n||this,arguments)}return o.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=t,Object.defineProperty(o,"name",tmpNameDescriptor)),o}function executeAction(t,e,r,n,o){var s=_startAction(t,e);try{return r.apply(n,o)}catch(a){throw s.error_=a,a}finally{_endAction(s)}}function _startAction(t,e,r,n){var o=!1,s=0,a=globalState.trackingDerivation,c=!e||!a;startBatch();var m=globalState.allowStateChanges;c&&(untrackedStart(),m=allowStateChangesStart(!0));var gr=allowStateReadsStart(!0),_r={runAsAction_:c,prevDerivation_:a,prevAllowStateChanges_:m,prevAllowStateReads_:gr,notifySpy_:o,startTime_:s,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=_r.actionId_,_r}function _endAction(t){currentActionId!==t.actionId_&&die(30),currentActionId=t.parentActionId_,t.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(t.prevAllowStateChanges_),allowStateReadsEnd(t.prevAllowStateReads_),endBatch(),t.runAsAction_&&untrackedEnd(t.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(t,e){var r=allowStateChangesStart(t);try{return e()}finally{allowStateChangesEnd(r)}}function allowStateChangesStart(t){var e=globalState.allowStateChanges;return globalState.allowStateChanges=t,e}function allowStateChangesEnd(t){globalState.allowStateChanges=t}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(t){_inheritsLoose(e,t);function e(n,o,s,a,c){var m;return s===void 0&&(s="ObservableValue"),c===void 0&&(c=comparer.default),m=t.call(this,s)||this,m.enhancer=void 0,m.name_=void 0,m.equals=void 0,m.hasUnreportedChange_=!1,m.interceptors_=void 0,m.changeListeners_=void 0,m.value_=void 0,m.dehancer=void 0,m.enhancer=o,m.name_=s,m.equals=c,m.value_=o(n,void 0,s),m}var r=e.prototype;return r.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},r.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==globalState.UNCHANGED&&this.setNewValue_(o)},r.prepareNewValue_=function(o){if(hasInterceptors(this)){var s=interceptChange(this,{object:this,type:UPDATE,newValue:o});if(!s)return globalState.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?globalState.UNCHANGED:o},r.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:o,oldValue:s})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(o){return registerInterceptor(this,o)},r.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,o)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return toPrimitive(this.get())},r[_Symbol$toPrimitive]=function(){return this.valueOf()},e}(Atom),isObservableValue=createInstanceofPredicate("ObservableValue",ObservableValue),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function t(r){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||die(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=createAction("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?comparer.structural:comparer.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){propagateMaybeChanged(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var n=globalState.trackingContext;this.keepAlive_&&!n&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=n}var o=this.value_;if(isCaughtException(o))throw o.cause;return o},e.set=function(n){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},e.trackAndCompute=function(){var n=this.value_,o=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,s=this.computeValue_(!0),a=o||isCaughtException(n)||isCaughtException(s)||!this.equals_(n,s);return a&&(this.value_=s),a},e.computeValue_=function(n){this.isComputing_=!0;var o=allowStateChangesStart(!1),s;if(n)s=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(a){s=new CaughtException(a)}return allowStateChangesEnd(o),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},e.observe_=function(n,o){var s=this,a=!0,c=void 0;return autorun(function(){var m=s.get();if(!a||o){var gr=untrackedStart();n({observableKind:"computed",debugObjectName:s.name_,type:UPDATE,object:s,newValue:m,oldValue:c}),untrackedEnd(gr)}a=!1,c=m})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return toPrimitive(this.get())},e[_Symbol$toPrimitive$1]=function(){return this.valueOf()},t}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function t(e){this.cause=void 0,this.cause=e};function isCaughtException(t){return t instanceof CaughtException}function shouldCompute(t){switch(t.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var e=allowStateReadsStart(!0),r=untrackedStart(),n=t.observing_,o=n.length,s=0;s<o;s++){var a=n[s];if(isComputedValue(a)){if(globalState.disableErrorBoundaries)a.get();else try{a.get()}catch{return untrackedEnd(r),allowStateReadsEnd(e),!0}if(t.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(r),allowStateReadsEnd(e),!0}}return changeDependenciesStateTo0(t),untrackedEnd(r),allowStateReadsEnd(e),!1}}}function isComputingDerivation(){return globalState.trackingDerivation!==null}function checkIfStateModificationsAreAllowed(t){}function trackDerivedFunction(t,e,r){var n=allowStateReadsStart(!0);changeDependenciesStateTo0(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++globalState.runId;var o=globalState.trackingDerivation;globalState.trackingDerivation=t,globalState.inBatch++;var s;if(globalState.disableErrorBoundaries===!0)s=e.call(r);else try{s=e.call(r)}catch(a){s=new CaughtException(a)}return globalState.inBatch--,globalState.trackingDerivation=o,bindDependencies(t),allowStateReadsEnd(n),s}function bindDependencies(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=IDerivationState_.UP_TO_DATE_,o=0,s=t.unboundDepsCount_,a=0;a<s;a++){var c=r[a];c.diffValue_===0&&(c.diffValue_=1,o!==a&&(r[o]=c),o++),c.dependenciesState_>n&&(n=c.dependenciesState_)}for(r.length=o,t.newObserving_=null,s=e.length;s--;){var m=e[s];m.diffValue_===0&&removeObserver(m,t),m.diffValue_=0}for(;o--;){var gr=r[o];gr.diffValue_===1&&(gr.diffValue_=0,addObserver(gr,t))}n!==IDerivationState_.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}function clearObserving(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)removeObserver(e[r],t);t.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(t){var e=untrackedStart();try{return t()}finally{untrackedEnd(e)}}function untrackedStart(){var t=globalState.trackingDerivation;return globalState.trackingDerivation=null,t}function untrackedEnd(t){globalState.trackingDerivation=t}function allowStateReadsStart(t){var e=globalState.allowStateReads;return globalState.allowStateReads=t,e}function allowStateReadsEnd(t){globalState.allowStateReads=t}function changeDependenciesStateTo0(t){if(t.dependenciesState_!==IDerivationState_.UP_TO_DATE_){t.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var persistentKeys=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],MobXGlobals=function t(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){var t=getGlobal();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(canMergeGlobalState=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){if((globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState){var t=getGlobal();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),globalState=new MobXGlobals}}function getGlobalState(){return globalState}function resetGlobalState(){var t=new MobXGlobals;for(var e in t)persistentKeys.indexOf(e)===-1&&(globalState[e]=t[e]);globalState.allowStateChanges=!globalState.enforceActions}function hasObservers(t){return t.observers_&&t.observers_.size>0}function getObservers(t){return t.observers_}function addObserver(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function removeObserver(t,e){t.observers_.delete(e),t.observers_.size===0&&queueForUnobservation(t)}function queueForUnobservation(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(t))}function startBatch(){globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var t=globalState.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation_=!1,r.observers_.size===0&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof ComputedValue&&r.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(t){var e=globalState.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&globalState.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(t.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(t),!1)}function propagateChanged(t){t.lowestObserverState_!==IDerivationState_.STALE_&&(t.lowestObserverState_=IDerivationState_.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(t){t.lowestObserverState_!==IDerivationState_.STALE_&&(t.lowestObserverState_=IDerivationState_.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?e.dependenciesState_=IDerivationState_.STALE_:e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(t.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(t){t.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(t.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(e.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Reaction=function(){function t(r,n,o,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=o,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var n=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}globalState.trackingContext=n,endBatch()}},e.track=function(n){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var o=globalState.trackingContext;globalState.trackingContext=this;var s=trackDerivedFunction(this,n,void 0);globalState.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(s)&&this.reportExceptionInDerivation_(s.cause),endBatch()}},e.reportExceptionInDerivation_=function(n){var o=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(globalState.disableErrorBoundaries)throw n;var s="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(s,n),globalState.globalReactionErrorHandlers.forEach(function(a){return a(n,o)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},e.getDisposer_=function(){var n=this.dispose.bind(this);return n[$mobx]=this,n},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(n){n===void 0&&(n=!1),trace(this,n)},t}();function onReactionError(t){return globalState.globalReactionErrorHandlers.push(t),function(){var e=globalState.globalReactionErrorHandlers.indexOf(t);e>=0&&globalState.globalReactionErrorHandlers.splice(e,1)}}var MAX_REACTION_ITERATIONS=100,reactionScheduler=function t(e){return e()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var t=globalState.pendingReactions,e=0;t.length>0;){++e===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(t){var e=reactionScheduler;reactionScheduler=function(n){return t(function(){return e(n)})}}function isSpyEnabled(){return!1}function spyReport(t){}function spyReportStart(t){}function spyReportEnd(t){}function spy(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(t){var e=function(n,o){if(isFunction(n))return createAction(n.name||DEFAULT_ACTION_NAME,n,t);if(isFunction(o))return createAction(n,o,t);if(isStringish(o))return storeAnnotation(n,o,t?autoActionAnnotation:actionAnnotation);if(isStringish(n))return createDecoratorAnnotation(createActionAnnotation(t?AUTOACTION:ACTION,{name:n,autoAction:t}))};return e}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(t){return executeAction(t.name||DEFAULT_ACTION_NAME,!1,t,this,void 0)}function isAction(t){return isFunction(t)&&t.isMobxAction===!0}function autorun(t,e){var r,n;e===void 0&&(e=EMPTY_OBJECT);var o=(r=(n=e)==null?void 0:n.name)!=null?r:"Autorun",s=!e.scheduler&&!e.delay,a;if(s)a=new Reaction(o,function(){this.track(gr)},e.onError,e.requiresObservable);else{var c=createSchedulerFromOptions(e),m=!1;a=new Reaction(o,function(){m||(m=!0,c(function(){m=!1,a.isDisposed_||a.track(gr)}))},e.onError,e.requiresObservable)}function gr(){t(a)}return a.schedule_(),a.getDisposer_()}var run=function t(e){return e()};function createSchedulerFromOptions(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:run}function reaction(t,e,r){var n;r===void 0&&(r=EMPTY_OBJECT);var o=(n=r.name)!=null?n:"Reaction",s=action(o,r.onError?wrapErrorHandler(r.onError,e):e),a=!r.scheduler&&!r.delay,c=createSchedulerFromOptions(r),m=!0,gr=!1,_r,wr,Or=r.compareStructural?comparer.structural:r.equals||comparer.default,Ir=new Reaction(o,function(){m||a?Pr():gr||(gr=!0,c(Pr))},r.onError,r.requiresObservable);function Pr(){if(gr=!1,!Ir.isDisposed_){var kr=!1;Ir.track(function(){var xr=allowStateChanges(!1,function(){return t(Ir)});kr=m||!Or(_r,xr),wr=_r,_r=xr}),(m&&r.fireImmediately||!m&&kr)&&s(_r,wr,Ir),m=!1}}return Ir.schedule_(),Ir.getDisposer_()}function wrapErrorHandler(t,e){return function(){try{return e.apply(this,arguments)}catch(r){t.call(this,r)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(t,e,r){return interceptHook(ON_BECOME_OBSERVED,t,e,r)}function onBecomeUnobserved(t,e,r){return interceptHook(ON_BECOME_UNOBSERVED,t,e,r)}function interceptHook(t,e,r,n){var o=typeof n=="function"?getAtom(e,r):getAtom(e),s=isFunction(n)?n:r,a=t+"L";return o[a]?o[a].add(s):o[a]=new Set([s]),function(){var c=o[a];c&&(c.delete(s),c.size===0&&delete o[a])}}var NEVER="never",ALWAYS="always",OBSERVED="observed";function configure(t){t.isolateGlobalState===!0&&isolateGlobalState();var e=t.useProxies,r=t.enforceActions;if(e!==void 0&&(globalState.useProxies=e===ALWAYS?!0:e===NEVER?!1:typeof Proxy<"u"),e==="ifavailable"&&(globalState.verifyProxies=!0),r!==void 0){var n=r===ALWAYS?ALWAYS:r===OBSERVED;globalState.enforceActions=n,globalState.allowStateChanges=!(n===!0||n===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in t&&(globalState[o]=!!t[o])}),globalState.allowStateReads=!globalState.observableRequiresReaction,t.reactionScheduler&&setReactionScheduler(t.reactionScheduler)}function extendObservable(t,e,r,n){var o=getOwnPropertyDescriptors(e),s=asObservableObject(t,n)[$mobx];startBatch();try{ownKeys(o).forEach(function(a){s.extend_(a,o[a],r&&a in r?r[a]:!0)})}finally{endBatch()}return t}function getDependencyTree(t,e){return nodeToDependencyTree(getAtom(t,e))}function nodeToDependencyTree(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=unique(t.observing_).map(nodeToDependencyTree)),e}function getObserverTree(t,e){return nodeToObserverTree(getAtom(t,e))}function nodeToObserverTree(t){var e={name:t.name_};return hasObservers(t)&&(e.observers=Array.from(getObservers(t)).map(nodeToObserverTree)),e}function unique(t){return Array.from(new Set(t))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);function isFlowCancellationError(t){return t instanceof FlowCancellationError}var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function t(e,r){if(isStringish(r))return storeAnnotation(e,r,flowAnnotation);var n=e,o=n.name||"<unnamed flow>",s=function(){var c=this,m=arguments,gr=++generatorId,_r=action(o+" - runid: "+gr+" - init",n).apply(c,m),wr,Or=void 0,Ir=new Promise(function(Pr,kr){var xr=0;wr=kr;function Cr(qr){Or=void 0;var Gr;try{Gr=action(o+" - runid: "+gr+" - yield "+xr++,_r.next).call(_r,qr)}catch(jr){return kr(jr)}Fr(Gr)}function Kr(qr){Or=void 0;var Gr;try{Gr=action(o+" - runid: "+gr+" - yield "+xr++,_r.throw).call(_r,qr)}catch(jr){return kr(jr)}Fr(Gr)}function Fr(qr){if(isFunction(qr?.then)){qr.then(Fr,kr);return}return qr.done?Pr(qr.value):(Or=Promise.resolve(qr.value),Or.then(Cr,Kr))}Cr(void 0)});return Ir.cancel=action(o+" - runid: "+gr+" - cancel",function(){try{Or&&cancelPromise(Or);var Pr=_r.return(void 0),kr=Promise.resolve(Pr.value);kr.then(noop,noop),cancelPromise(kr),wr(new FlowCancellationError)}catch(xr){wr(xr)}}),Ir};return s.isMobXFlow=!0,s},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(t){isFunction(t.cancel)&&t.cancel()}function flowResult(t){return t}function isFlow(t){return t?.isMobXFlow===!0}function interceptReads(t,e,r){var n;return isObservableMap(t)||isObservableArray(t)||isObservableValue(t)?n=getAdministration(t):isObservableObject(t)&&(n=getAdministration(t,e)),n.dehancer=typeof e=="function"?e:r,function(){n.dehancer=void 0}}function intercept(t,e,r){return isFunction(r)?interceptProperty(t,e,r):interceptInterceptable(t,e)}function interceptInterceptable(t,e){return getAdministration(t).intercept_(e)}function interceptProperty(t,e,r){return getAdministration(t,e).intercept_(r)}function _isComputed(t,e){if(e===void 0)return isComputedValue(t);if(isObservableObject(t)===!1||!t[$mobx].values_.has(e))return!1;var r=getAtom(t,e);return isComputedValue(r)}function isComputed(t){return _isComputed(t)}function isComputedProp(t,e){return _isComputed(t,e)}function _isObservable(t,e){return t?e!==void 0?isObservableObject(t)?t[$mobx].values_.has(e):!1:isObservableObject(t)||!!t[$mobx]||isAtom(t)||isReaction(t)||isComputedValue(t):!1}function isObservable(t){return _isObservable(t)}function isObservableProp(t,e){return _isObservable(t,e)}function keys(t){if(isObservableObject(t))return t[$mobx].keys_();if(isObservableMap(t)||isObservableSet(t))return Array.from(t.keys());if(isObservableArray(t))return t.map(function(e,r){return r});die(5)}function values(t){if(isObservableObject(t))return keys(t).map(function(e){return t[e]});if(isObservableMap(t))return keys(t).map(function(e){return t.get(e)});if(isObservableSet(t))return Array.from(t.values());if(isObservableArray(t))return t.slice();die(6)}function entries(t){if(isObservableObject(t))return keys(t).map(function(e){return[e,t[e]]});if(isObservableMap(t))return keys(t).map(function(e){return[e,t.get(e)]});if(isObservableSet(t))return Array.from(t.entries());if(isObservableArray(t))return t.map(function(e,r){return[r,e]});die(7)}function set(t,e,r){if(arguments.length===2&&!isObservableSet(t)){startBatch();var n=e;try{for(var o in n)set(t,o,n[o])}finally{endBatch()}return}isObservableObject(t)?t[$mobx].set_(e,r):isObservableMap(t)?t.set(e,r):isObservableSet(t)?t.add(e):isObservableArray(t)?(typeof e!="number"&&(e=parseInt(e,10)),e<0&&die("Invalid index: '"+e+"'"),startBatch(),e>=t.length&&(t.length=e+1),t[e]=r,endBatch()):die(8)}function remove(t,e){isObservableObject(t)?t[$mobx].delete_(e):isObservableMap(t)||isObservableSet(t)?t.delete(e):isObservableArray(t)?(typeof e!="number"&&(e=parseInt(e,10)),t.splice(e,1)):die(9)}function has(t,e){if(isObservableObject(t))return t[$mobx].has_(e);if(isObservableMap(t))return t.has(e);if(isObservableSet(t))return t.has(e);if(isObservableArray(t))return e>=0&&e<t.length;die(10)}function get(t,e){if(!!has(t,e)){if(isObservableObject(t))return t[$mobx].get_(e);if(isObservableMap(t))return t.get(e);if(isObservableArray(t))return t[e];die(11)}}function apiDefineProperty(t,e,r){if(isObservableObject(t))return t[$mobx].defineProperty_(e,r);die(39)}function apiOwnKeys(t){if(isObservableObject(t))return t[$mobx].ownKeys_();die(38)}function observe(t,e,r,n){return isFunction(r)?observeObservableProperty(t,e,r,n):observeObservable(t,e,r)}function observeObservable(t,e,r){return getAdministration(t).observe_(e,r)}function observeObservableProperty(t,e,r,n){return getAdministration(t,e).observe_(r,n)}function cache(t,e,r){return t.set(e,r),r}function toJSHelper(t,e){if(t==null||typeof t!="object"||t instanceof Date||!isObservable(t))return t;if(isObservableValue(t)||isComputedValue(t))return toJSHelper(t.get(),e);if(e.has(t))return e.get(t);if(isObservableArray(t)){var r=cache(e,t,new Array(t.length));return t.forEach(function(a,c){r[c]=toJSHelper(a,e)}),r}if(isObservableSet(t)){var n=cache(e,t,new Set);return t.forEach(function(a){n.add(toJSHelper(a,e))}),n}if(isObservableMap(t)){var o=cache(e,t,new Map);return t.forEach(function(a,c){o.set(c,toJSHelper(a,e))}),o}else{var s=cache(e,t,{});return apiOwnKeys(t).forEach(function(a){objectPrototype.propertyIsEnumerable.call(t,a)&&(s[a]=toJSHelper(t[a],e))}),s}}function toJS(t,e){return toJSHelper(t,new Map)}function trace(){die("trace() is not available in production builds");for(var t=!1,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[r.length-1]=="boolean"&&(t=r.pop());var o=getAtomFromArgs(r);if(!o)return die("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===TraceMode.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=t?TraceMode.BREAK:TraceMode.LOG}function getAtomFromArgs(t){switch(t.length){case 0:return globalState.trackingDerivation;case 1:return getAtom(t[0]);case 2:return getAtom(t[0],t[1])}}function transaction(t,e){e===void 0&&(e=void 0),startBatch();try{return t.apply(e)}finally{endBatch()}}function when(t,e,r){return arguments.length===1||e&&typeof e=="object"?whenPromise(t,e):_when(t,e,r||{})}function _when(t,e,r){var n;if(typeof r.timeout=="number"){var o=new Error("WHEN_TIMEOUT");n=setTimeout(function(){if(!a[$mobx].isDisposed_)if(a(),r.onError)r.onError(o);else throw o},r.timeout)}r.name="When";var s=createAction("When-effect",e),a=autorun(function(c){var m=allowStateChanges(!1,t);m&&(c.dispose(),n&&clearTimeout(n),s())},r);return a}function whenPromise(t,e){var r,n=new Promise(function(o,s){var a=_when(t,o,_extends({},e,{onError:s}));r=function(){a(),s(new Error("WHEN_CANCELLED"))}});return n.cancel=r,n}function getAdm(t){return t[$mobx]}var objectProxyTraps={has:function t(e,r){return getAdm(e).has_(r)},get:function t(e,r){return getAdm(e).get_(r)},set:function t(e,r,n){var o;return isStringish(r)?(o=getAdm(e).set_(r,n,!0))!=null?o:!0:!1},deleteProperty:function t(e,r){var n;return isStringish(r)?(n=getAdm(e).delete_(r,!0))!=null?n:!0:!1},defineProperty:function t(e,r,n){var o;return(o=getAdm(e).defineProperty_(r,n))!=null?o:!0},ownKeys:function t(e){return getAdm(e).ownKeys_()},preventExtensions:function t(e){die(13)}};function asDynamicObservableObject(t,e){var r,n;return assertProxies(),t=asObservableObject(t,e),(n=(r=t[$mobx]).proxy_)!=null?n:r.proxy_=new Proxy(t,objectProxyTraps)}function hasInterceptors(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function registerInterceptor(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),once(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function interceptChange(t,e){var r=untrackedStart();try{for(var n=[].concat(t.interceptors_||[]),o=0,s=n.length;o<s&&(e=n[o](e),e&&!e.type&&die(14),!!e);o++);return e}finally{untrackedEnd(r)}}function hasListeners(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function registerListener(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),once(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function notifyListeners(t,e){var r=untrackedStart(),n=t.changeListeners_;if(!!n){n=n.slice();for(var o=0,s=n.length;o<s;o++)n[o](e);untrackedEnd(r)}}function makeObservable(t,e,r){var n=asObservableObject(t,r)[$mobx];startBatch();try{var o;(o=e)!=null||(e=collectStoredAnnotations(t)),ownKeys(e).forEach(function(s){return n.make_(s,e[s])})}finally{endBatch()}return t}var keysSymbol=Symbol("mobx-keys");function makeAutoObservable(t,e,r){if(isPlainObject(t))return extendObservable(t,t,e,r);var n=asObservableObject(t,r)[$mobx];if(!t[keysSymbol]){var o=Object.getPrototypeOf(t),s=new Set([].concat(ownKeys(t),ownKeys(o)));s.delete("constructor"),s.delete($mobx),addHiddenProp$1(o,keysSymbol,s)}startBatch();try{t[keysSymbol].forEach(function(a){return n.make_(a,e&&a in e?e[a]:!0)})}finally{endBatch()}return t}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function t(e,r){var n=e[$mobx];return r===$mobx?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):hasProp(arrayExtensions,r)?arrayExtensions[r]:e[r]},set:function t(e,r,n){var o=e[$mobx];return r==="length"&&o.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?e[r]=n:o.set_(parseInt(r),n),!0},preventExtensions:function t(){die(15)}},ObservableArrayAdministration=function(){function t(r,n,o,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new Atom(r),this.enhancer_=function(a,c){return n(a,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},e.intercept_=function(n){return registerInterceptor(this,n)},e.observe_=function(n,o){return o===void 0&&(o=!1),o&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,n)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&die("Out of range: "+n);var o=this.values_.length;if(n!==o)if(n>o){for(var s=new Array(n-o),a=0;a<n-o;a++)s[a]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(n,o-n)},e.updateArrayLength_=function(n,o){n!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&reserveArrayBuffer(n+o+1)},e.spliceWithArray_=function(n,o,s){var a=this;this.atom_;var c=this.values_.length;if(n===void 0?n=0:n>c?n=c:n<0&&(n=Math.max(0,c+n)),arguments.length===1?o=c-n:o==null?o=0:o=Math.max(0,Math.min(o,c-n)),s===void 0&&(s=EMPTY_ARRAY),hasInterceptors(this)){var m=interceptChange(this,{object:this.proxy_,type:SPLICE,index:n,removedCount:o,added:s});if(!m)return EMPTY_ARRAY;o=m.removedCount,s=m.added}if(s=s.length===0?s:s.map(function(wr){return a.enhancer_(wr,void 0)}),this.legacyMode_){var gr=s.length-o;this.updateArrayLength_(c,gr)}var _r=this.spliceItemsIntoValues_(n,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(n,s,_r),this.dehanceValues_(_r)},e.spliceItemsIntoValues_=function(n,o,s){if(s.length<MAX_SPLICE_SIZE){var a;return(a=this.values_).splice.apply(a,[n,o].concat(s))}else{var c=this.values_.slice(n,n+o),m=this.values_.slice(n+o);this.values_.length+=s.length-o;for(var gr=0;gr<s.length;gr++)this.values_[n+gr]=s[gr];for(var _r=0;_r<m.length;_r++)this.values_[n+s.length+_r]=m[_r];return c}},e.notifyArrayChildUpdate_=function(n,o,s){var a=!this.owned_&&isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:n,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),c&&notifyListeners(this,m)},e.notifyArraySplice_=function(n,o,s){var a=!this.owned_&&isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:n,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),c&&notifyListeners(this,m)},e.get_=function(n){if(n<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n]);console.warn("[mobx.array] Attempt to read an array index ("+n+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(n,o){var s=this.values_;if(n<s.length){this.atom_;var a=s[n];if(hasInterceptors(this)){var c=interceptChange(this,{type:UPDATE,object:this.proxy_,index:n,newValue:o});if(!c)return;o=c.newValue}o=this.enhancer_(o,a);var m=o!==a;m&&(s[n]=o,this.notifyArrayChildUpdate_(n,o,a))}else n===s.length?this.spliceWithArray_(n,0,[o]):die(17,n,s.length)},t}();function createObservableArray(t,e,r,n){r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),assertProxies();var o=new ObservableArrayAdministration(r,e,n,!1);addHiddenFinalProp(o.values_,$mobx,o);var s=new Proxy(o.values_,arrayTraps);if(o.proxy_=s,t&&t.length){var a=allowStateChangesStart(!0);o.spliceWithArray_(0,0,t),allowStateChangesEnd(a)}return s}var arrayExtensions={clear:function t(){return this.splice(0)},replace:function t(e){var r=this[$mobx];return r.spliceWithArray_(0,r.values_.length,e)},toJSON:function t(){return this.slice()},splice:function t(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];var a=this[$mobx];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,r)}return a.spliceWithArray_(e,r,o)},spliceWithArray:function t(e,r,n){return this[$mobx].spliceWithArray_(e,r,n)},push:function t(){for(var e=this[$mobx],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function t(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function t(){return this.splice(0,1)[0]},unshift:function t(){for(var e=this[$mobx],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function t(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function t(){globalState.trackingDerivation&&die(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function t(e){var r=this[$mobx],n=r.dehanceValues_(r.values_).indexOf(e);return n>-1?(this.splice(n,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(t,e){typeof Array.prototype[t]=="function"&&(arrayExtensions[t]=e(t))}function simpleFunc(t){return function(){var e=this[$mobx];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function mapLikeFunc(t){return function(e,r){var n=this,o=this[$mobx];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[t](function(a,c){return e.call(r,a,c,n)})}}function reduceLikeFunc(t){return function(){var e=this,r=this[$mobx];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),o=arguments[0];return arguments[0]=function(s,a,c){return o(s,a,c,e)},n[t].apply(n,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(t){return isObject(t)&&isObservableArrayAdministration(t[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function t(r,n,o){var s=this;n===void 0&&(n=deepEnhancer),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=o,isFunction(Map)||die(18),this.keysAtom_=createAtom("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,allowStateChanges(!0,function(){s.merge(r)})}var e=t.prototype;return e.has_=function(n){return this.data_.has(n)},e.has=function(n){var o=this;if(!globalState.trackingDerivation)return this.has_(n);var s=this.hasMap_.get(n);if(!s){var a=s=new ObservableValue(this.has_(n),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(n,a),onBecomeUnobserved(a,function(){return o.hasMap_.delete(n)})}return s.get()},e.set=function(n,o){var s=this.has_(n);if(hasInterceptors(this)){var a=interceptChange(this,{type:s?UPDATE:ADD,object:this,newValue:o,name:n});if(!a)return this;o=a.newValue}return s?this.updateValue_(n,o):this.addValue_(n,o),this},e.delete=function(n){var o=this;if(this.keysAtom_,hasInterceptors(this)){var s=interceptChange(this,{type:DELETE,object:this,name:n});if(!s)return!1}if(this.has_(n)){var a=isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return transaction(function(){var gr;o.keysAtom_.reportChanged(),(gr=o.hasMap_.get(n))==null||gr.setNewValue_(!1);var _r=o.data_.get(n);_r.setNewValue_(void 0),o.data_.delete(n)}),c&&notifyListeners(this,m),!0}return!1},e.updateValue_=function(n,o){var s=this.data_.get(n);if(o=s.prepareNewValue_(o),o!==globalState.UNCHANGED){var a=isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:s.value_,name:n,newValue:o}:null;s.setNewValue_(o),c&&notifyListeners(this,m)}},e.addValue_=function(n,o){var s=this;this.keysAtom_,transaction(function(){var gr,_r=new ObservableValue(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(n,_r),o=_r.value_,(gr=s.hasMap_.get(n))==null||gr.setNewValue_(!0),s.keysAtom_.reportChanged()});var a=isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:n,newValue:o}:null;c&&notifyListeners(this,m)},e.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var n=this,o=this.keys();return makeIterable({next:function(){var a=o.next(),c=a.done,m=a.value;return{done:c,value:c?void 0:n.get(m)}}})},e.entries=function(){var n=this,o=this.keys();return makeIterable({next:function(){var a=o.next(),c=a.done,m=a.value;return{done:c,value:c?void 0:[m,n.get(m)]}}})},e[_Symbol$iterator]=function(){return this.entries()},e.forEach=function(n,o){for(var s=_createForOfIteratorHelperLoose(this),a;!(a=s()).done;){var c=a.value,m=c[0],gr=c[1];n.call(o,gr,m,this)}},e.merge=function(n){var o=this;return isObservableMap(n)&&(n=new Map(n)),transaction(function(){isPlainObject(n)?getPlainObjectKeys(n).forEach(function(s){return o.set(s,n[s])}):Array.isArray(n)?n.forEach(function(s){var a=s[0],c=s[1];return o.set(a,c)}):isES6Map(n)?(n.constructor!==Map&&die(19,n),n.forEach(function(s,a){return o.set(a,s)})):n!=null&&die(20,n)}),this},e.clear=function(){var n=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(n.keys()),s;!(s=o()).done;){var a=s.value;n.delete(a)}})})},e.replace=function(n){var o=this;return transaction(function(){for(var s=convertToMap(n),a=new Map,c=!1,m=_createForOfIteratorHelperLoose(o.data_.keys()),gr;!(gr=m()).done;){var _r=gr.value;if(!s.has(_r)){var wr=o.delete(_r);if(wr)c=!0;else{var Or=o.data_.get(_r);a.set(_r,Or)}}}for(var Ir=_createForOfIteratorHelperLoose(s.entries()),Pr;!(Pr=Ir()).done;){var kr=Pr.value,xr=kr[0],Cr=kr[1],Kr=o.data_.has(xr);if(o.set(xr,Cr),o.data_.has(xr)){var Fr=o.data_.get(xr);a.set(xr,Fr),Kr||(c=!0)}}if(!c)if(o.data_.size!==a.size)o.keysAtom_.reportChanged();else for(var qr=o.data_.keys(),Gr=a.keys(),jr=qr.next(),Vr=Gr.next();!jr.done;){if(jr.value!==Vr.value){o.keysAtom_.reportChanged();break}jr=qr.next(),Vr=Gr.next()}o.data_=a}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},_createClass(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),t}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(t){if(isES6Map(t)||isObservableMap(t))return t;if(Array.isArray(t))return new Map(t);if(isPlainObject(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}else return die(21,t)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function t(r,n,o){n===void 0&&(n=deepEnhancer),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,isFunction(Set)||die(22),this.atom_=createAtom(this.name_),this.enhancer_=function(s,a){return n(s,a,o)},r&&this.replace(r)}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.clear=function(){var n=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(n.data_.values()),s;!(s=o()).done;){var a=s.value;n.delete(a)}})})},e.forEach=function(n,o){for(var s=_createForOfIteratorHelperLoose(this),a;!(a=s()).done;){var c=a.value;n.call(o,c,c,this)}},e.add=function(n){var o=this;if(this.atom_,hasInterceptors(this)){var s=interceptChange(this,{type:ADD,object:this,newValue:n});if(!s)return this}if(!this.has(n)){transaction(function(){o.data_.add(o.enhancer_(n,void 0)),o.atom_.reportChanged()});var a=!1,c=hasListeners(this),m=c||a?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:n}:null;c&&notifyListeners(this,m)}return this},e.delete=function(n){var o=this;if(hasInterceptors(this)){var s=interceptChange(this,{type:DELETE,object:this,oldValue:n});if(!s)return!1}if(this.has(n)){var a=!1,c=hasListeners(this),m=c||a?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:n}:null;return transaction(function(){o.atom_.reportChanged(),o.data_.delete(n)}),c&&notifyListeners(this,m),!0}return!1},e.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},e.entries=function(){var n=0,o=Array.from(this.keys()),s=Array.from(this.values());return makeIterable({next:function(){var c=n;return n+=1,c<s.length?{value:[o[c],s[c]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var n=this,o=0,s=Array.from(this.data_.values());return makeIterable({next:function(){return o<s.length?{value:n.dehanceValue_(s[o++]),done:!1}:{done:!0}}})},e.replace=function(n){var o=this;return isObservableSet(n)&&(n=new Set(n)),transaction(function(){Array.isArray(n)?(o.clear(),n.forEach(function(s){return o.add(s)})):isES6Set(n)?(o.clear(),n.forEach(function(s){return o.add(s)})):n!=null&&die("Cannot initialize set from "+n)}),this},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[_Symbol$iterator$1]=function(){return this.values()},_createClass(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),t}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function t(r,n,o,s){n===void 0&&(n=new Map),s===void 0&&(s=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(n){return this.values_.get(n).get()},e.setObservablePropValue_=function(n,o){var s=this.values_.get(n);if(s instanceof ComputedValue)return s.set(o),!0;if(hasInterceptors(this)){var a=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:n,newValue:o});if(!a)return null;o=a.newValue}if(o=s.prepareNewValue_(o),o!==globalState.UNCHANGED){var c=hasListeners(this),m=!1,gr=c||m?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:n,newValue:o}:null;s.setNewValue_(o),c&&notifyListeners(this,gr)}return!0},e.get_=function(n){return globalState.trackingDerivation&&!hasProp(this.target_,n)&&this.has_(n),this.target_[n]},e.set_=function(n,o,s){return s===void 0&&(s=!1),hasProp(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,o):s?Reflect.set(this.target_,n,o):(this.target_[n]=o,!0):this.extend_(n,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(n){if(!globalState.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(n);return o||(o=new ObservableValue(n in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(n,o)),o.get()},e.make_=function(n,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(n in this.target_)){var s;if((s=this.target_[storedAnnotationsSymbol])!=null&&s[n])return;die(1,o.annotationType_,this.name_+"."+n.toString())}for(var a=this.target_;a&&a!==objectPrototype;){var c=getDescriptor(a,n);if(c){var m=o.make_(this,n,c,a);if(m===0)return;if(m===1)break}a=Object.getPrototypeOf(a)}recordAnnotationApplied(this,o,n)}},e.extend_=function(n,o,s,a){if(a===void 0&&(a=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(n,o,a);var c=s.extend_(this,n,o,a);return c&&recordAnnotationApplied(this,s,n),c},e.defineProperty_=function(n,o,s){s===void 0&&(s=!1);try{startBatch();var a=this.delete_(n);if(!a)return a;if(hasInterceptors(this)){var c=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:o.value});if(!c)return null;var m=c.newValue;o.value!==m&&(o=_extends({},o,{value:m}))}if(s){if(!Reflect.defineProperty(this.target_,n,o))return!1}else defineProperty(this.target_,n,o);this.notifyPropertyAddition_(n,o.value)}finally{endBatch()}return!0},e.defineObservableProperty_=function(n,o,s,a){a===void 0&&(a=!1);try{startBatch();var c=this.delete_(n);if(!c)return c;if(hasInterceptors(this)){var m=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:o});if(!m)return null;o=m.newValue}var gr=getCachedObservablePropDescriptor(n),_r={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:gr.get,set:gr.set};if(a){if(!Reflect.defineProperty(this.target_,n,_r))return!1}else defineProperty(this.target_,n,_r);var wr=new ObservableValue(o,s,"ObservableObject.key",!1);this.values_.set(n,wr),this.notifyPropertyAddition_(n,wr.value_)}finally{endBatch()}return!0},e.defineComputedProperty_=function(n,o,s){s===void 0&&(s=!1);try{startBatch();var a=this.delete_(n);if(!a)return a;if(hasInterceptors(this)){var c=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:void 0});if(!c)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var m=getCachedObservablePropDescriptor(n),gr={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:m.get,set:m.set};if(s){if(!Reflect.defineProperty(this.target_,n,gr))return!1}else defineProperty(this.target_,n,gr);this.values_.set(n,new ComputedValue(o)),this.notifyPropertyAddition_(n,void 0)}finally{endBatch()}return!0},e.delete_=function(n,o){if(o===void 0&&(o=!1),!hasProp(this.target_,n))return!0;if(hasInterceptors(this)){var s=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:REMOVE});if(!s)return null}try{var a,c;startBatch();var m=hasListeners(this),gr=!1,_r=this.values_.get(n),wr=void 0;if(!_r&&(m||gr)){var Or;wr=(Or=getDescriptor(this.target_,n))==null?void 0:Or.value}if(o){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(_r&&(this.values_.delete(n),_r instanceof ObservableValue&&(wr=_r.value_),propagateChanged(_r)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(c=a.get(n))==null||c.set(n in this.target_),m||gr){var Ir={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:wr,name:n};m&&notifyListeners(this,Ir)}}finally{endBatch()}return!0},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},e.notifyPropertyAddition_=function(n,o){var s,a,c=hasListeners(this),m=!1;if(c||m){var gr=c||m?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:o}:null;c&&notifyListeners(this,gr)}(s=this.pendingKeys_)==null||(a=s.get(n))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function asObservableObject(t,e){var r;if(hasProp(t,$mobx))return t;var n=(r=e?.name)!=null?r:"ObservableObject",o=new ObservableObjectAdministration(t,new Map,String(n),getAnnotationFromOptions(e));return addHiddenProp$1(t,$mobx,o),t}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(t){return descriptorCache[t]||(descriptorCache[t]={get:function(){return this[$mobx].getObservablePropValue_(t)},set:function(r){return this[$mobx].setObservablePropValue_(t,r)}})}function isObservableObject(t){return isObject(t)?isObservableObjectAdministration(t[$mobx]):!1}function recordAnnotationApplied(t,e,r){var n;(n=t.target_[storedAnnotationsSymbol])==null||delete n[r]}var ENTRY_0=createArrayEntryDescriptor(0),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function t(){};function inherit(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(t,e,r){_inheritsLoose(n,t);function n(s,a,c,m){var gr;c===void 0&&(c="ObservableArray"),m===void 0&&(m=!1),gr=t.call(this)||this;var _r=new ObservableArrayAdministration(c,a,m,!0);if(_r.proxy_=_assertThisInitialized(gr),addHiddenFinalProp(_assertThisInitialized(gr),$mobx,_r),s&&s.length){var wr=allowStateChangesStart(!0);gr.spliceWithArray(0,0,s),allowStateChangesEnd(wr)}return Object.defineProperty(_assertThisInitialized(gr),"0",ENTRY_0),gr}var o=n.prototype;return o.concat=function(){this[$mobx].atom_.reportObserved();for(var a=arguments.length,c=new Array(a),m=0;m<a;m++)c[m]=arguments[m];return Array.prototype.concat.apply(this.slice(),c.map(function(gr){return isObservableArray(gr)?gr.slice():gr}))},o[r]=function(){var s=this,a=0;return makeIterable({next:function(){return a<s.length?{value:s[a++],done:!1}:{done:!0,value:void 0}}})},_createClass(n,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(a){this[$mobx].setArrayLength_(a)}},{key:e,get:function(){return"Array"}}]),n}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(t){var e=t[0],r=t[1];e!=="concat"&&addHiddenProp$1(LegacyObservableArray.prototype,e,r)});function createArrayEntryDescriptor(t){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(t)},set:function(r){this[$mobx].set_(t,r)}}}function createArrayBufferItem(t){defineProperty(LegacyObservableArray.prototype,""+t,createArrayEntryDescriptor(t))}function reserveArrayBuffer(t){if(t>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var e=OBSERVABLE_ARRAY_BUFFER_SIZE;e<t+100;e++)createArrayBufferItem(e);OBSERVABLE_ARRAY_BUFFER_SIZE=t}}reserveArrayBuffer(1e3);function createLegacyArray(t,e,r){return new LegacyObservableArray(t,e,r)}function getAtom(t,e){if(typeof t=="object"&&t!==null){if(isObservableArray(t))return e!==void 0&&die(23),t[$mobx].atom_;if(isObservableSet(t))return t[$mobx];if(isObservableMap(t)){if(e===void 0)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||die(25,e,getDebugName(t)),r}if(isObservableObject(t)){if(!e)return die(26);var n=t[$mobx].values_.get(e);return n||die(27,e,getDebugName(t)),n}if(isAtom(t)||isComputedValue(t)||isReaction(t))return t}else if(isFunction(t)&&isReaction(t[$mobx]))return t[$mobx];die(28)}function getAdministration(t,e){if(t||die(29),e!==void 0)return getAdministration(getAtom(t,e));if(isAtom(t)||isComputedValue(t)||isReaction(t)||isObservableMap(t)||isObservableSet(t))return t;if(t[$mobx])return t[$mobx];die(24,t)}function getDebugName(t,e){var r;if(e!==void 0)r=getAtom(t,e);else{if(isAction(t))return t.name;isObservableObject(t)||isObservableMap(t)||isObservableSet(t)?r=getAdministration(t):r=getAtom(t)}return r.name_}var toString=objectPrototype.toString;function deepEqual(t,e,r){return r===void 0&&(r=-1),eq(t,e,r)}function eq(t,e,r,n,o){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var a=toString.call(t);if(a!==toString.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++;break}t=unwrap(t),e=unwrap(e);var c=a==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var m=t.constructor,gr=e.constructor;if(m!==gr&&!(isFunction(m)&&m instanceof m&&isFunction(gr)&&gr instanceof gr)&&"constructor"in t&&"constructor"in e)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],o=o||[];for(var _r=n.length;_r--;)if(n[_r]===t)return o[_r]===e;if(n.push(t),o.push(e),c){if(_r=t.length,_r!==e.length)return!1;for(;_r--;)if(!eq(t[_r],e[_r],r-1,n,o))return!1}else{var wr=Object.keys(t),Or;if(_r=wr.length,Object.keys(e).length!==_r)return!1;for(;_r--;)if(Or=wr[_r],!(hasProp(e,Or)&&eq(t[Or],e[Or],r-1,n,o)))return!1}return n.pop(),o.pop(),!0}function unwrap(t){return isObservableArray(t)?t.slice():isES6Map(t)||isObservableMap(t)||isES6Set(t)||isObservableSet(t)?Array.from(t.entries()):t}function makeIterable(t){return t[Symbol.iterator]=getSelf,t}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(t){var e=getGlobal();typeof e[t]>"u"&&die("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});const mobx_esm=Object.freeze(Object.defineProperty({__proto__:null,$mobx,FlowCancellationError,ObservableMap,ObservableSet,Reaction,_allowStateChanges:allowStateChanges,_allowStateChangesInsideComputed:runInAction,_allowStateReadsEnd:allowStateReadsEnd,_allowStateReadsStart:allowStateReadsStart,_autoAction:autoAction,_endAction,_getAdministration:getAdministration,_getGlobalState:getGlobalState,_interceptReads:interceptReads,_isComputingDerivation:isComputingDerivation,_resetGlobalState:resetGlobalState,_startAction,action,autorun,comparer,computed,configure,createAtom,defineProperty:apiDefineProperty,entries,extendObservable,flow,flowResult,get,getAtom,getDebugName,getDependencyTree,getObserverTree,has,intercept,isAction,isBoxedObservable:isObservableValue,isComputed,isComputedProp,isFlow,isFlowCancellationError,isObservable,isObservableArray,isObservableMap,isObservableObject,isObservableProp,isObservableSet,keys,makeAutoObservable,makeObservable,observable,observe,onBecomeObserved,onBecomeUnobserved,onReactionError,override,ownKeys:apiOwnKeys,reaction,remove,runInAction,set,spy,toJS,trace,transaction,untracked,values,when},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(mobx_esm);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.Order=t.OrderSide=void 0;const r=require$$0$1,n=e(big.exports),o=require$$1;var s;(function(c){c.Buy="buy",c.Sell="sell"})(s=t.OrderSide||(t.OrderSide={}));class a{constructor(m){this.id="",this.orderType=s.Buy,this.orderMint="",this.currencyMint="",this.currencyDecimals=0,this.price=new r.BN(0),this.orderQtyRemaining=0,this.orderOriginationQty=0,this.owner="",this.ownerAssetTokenAccount="",this.ownerCurrencyTokenAccount="",this.createdAt=0,this.slotContext=0,m&&(this.id=m.id,this.orderType=m.orderType,this.orderMint=m.orderMint,this.currencyMint=m.currencyMint,this.currencyDecimals=m.currencyDecimals,this.price=m.price,this.orderQtyRemaining=m.orderQtyRemaining,this.orderOriginationQty=m.orderOriginationQty,this.owner=m.owner,this.ownerAssetTokenAccount=m.ownerAssetTokenAccount,this.ownerCurrencyTokenAccount=m.ownerCurrencyTokenAccount,this.createdAt=m.createdAt,this.slotContext=m.slotContext),(0,o.makeObservable)(this,{orderQtyRemaining:o.observable})}get decimalDivisor(){return new n.default(10).pow(this.currencyDecimals)}get bigNumberPrice(){return new n.default(this.price.toString())}get uiPrice(){return this.bigNumberPrice.div(this.decimalDivisor).toNumber()}priceForQuantity(m=1){return this.bigNumberPrice.mul(m).div(this.decimalDivisor).toNumber()}}t.Order=a})(Order);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Order,t)})(models);var hasRequiredExchangeOrder;function requireExchangeOrder(){if(hasRequiredExchangeOrder)return exchangeOrder;hasRequiredExchangeOrder=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(gr,_r,wr,Or){function Ir(Pr){return Pr instanceof wr?Pr:new wr(function(kr){kr(Pr)})}return new(wr||(wr=Promise))(function(Pr,kr){function xr(Fr){try{Kr(Or.next(Fr))}catch(qr){kr(qr)}}function Cr(Fr){try{Kr(Or.throw(Fr))}catch(qr){kr(qr)}}function Kr(Fr){Fr.done?Pr(Fr.value):Ir(Fr.value).then(xr,Cr)}Kr((Or=Or.apply(gr,_r||[])).next())})};Object.defineProperty(exchangeOrder,"__esModule",{value:!0}),exchangeOrder.createExchangeInstruction=void 0;const e=require$$0$1,r=require$$0$2,n=utils,o=requirePda_getters(),s=requirePda_getters(),a=requireUtil(),c=models;function m({connection:gr,orderAccount:_r,purchaseQty:wr,orderTaker:Or,orderTakerDepositTokenAccount:Ir,programId:Pr,expectedPrice:kr,orderType:xr,assetMint:Cr,currencyMint:Kr,orderInitializer:Fr,saVault:qr,stakingProgramId:Gr,registeredStake:jr,stakingAccount:Vr}){return t(this,void 0,void 0,function*(){const Jr=(0,n.getMarketplaceProgram)({connection:gr,programId:Pr}),ln={signers:[],instructions:[]};Gr=e.web3.Keypair.generate().publicKey,jr=e.web3.Keypair.generate().publicKey,Vr=e.web3.Keypair.generate().publicKey;const tn=xr===c.OrderSide.Sell?new r.PublicKey(Cr):new r.PublicKey(Kr),sn=xr===c.OrderSide.Sell?new r.PublicKey(Kr):new r.PublicKey(Cr);let dn=null,Rr=null,vr=null,Tr=yield(0,a.getTokenAccount)(gr,Fr,tn,Or);"createInstruction"in Tr?(ln.instructions.push(Tr.createInstruction),Tr.tokenAccount instanceof e.web3.Keypair?(dn=Tr.tokenAccount.publicKey,ln.signers.push(Tr.tokenAccount)):dn=Tr.tokenAccount):dn=Tr.tokenAccount,Tr=yield(0,a.getTokenAccount)(gr,Fr,sn,Or),"createInstruction"in Tr?(ln.instructions.push(Tr.createInstruction),Tr.tokenAccount instanceof e.web3.Keypair?(Rr=Tr.tokenAccount.publicKey,ln.signers.push(Tr.tokenAccount)):Rr=Tr.tokenAccount):Rr=Tr.tokenAccount;const[Lr]=yield(0,o.getOrderVault)(Fr,tn,Pr),[Ur]=yield(0,s.getOpenOrdersCounter)(Fr,tn,Pr);Tr=yield(0,a.getTokenAccount)(gr,Or,tn),"createInstruction"in Tr?(ln.instructions.push(Tr.createInstruction),Tr.tokenAccount instanceof e.web3.Keypair?(vr=Tr.tokenAccount.publicKey,ln.signers.push(Tr.tokenAccount)):vr=Tr.tokenAccount):vr=Tr.tokenAccount;const Hr=xr===c.OrderSide.Buy?Or:Fr,nn=yield Jr.methods.processExchange(new e.BN(wr),kr,Hr).accounts({orderTaker:Or,orderTakerDepositTokenAccount:Ir,orderTakerReceiveTokenAccount:vr,currencyMint:Kr,assetMint:Cr,orderInitializer:Fr,initializerDepositTokenAccount:dn,initializerReceiveTokenAccount:Rr,orderVaultAccount:Lr,orderAccount:_r,openOrdersCounter:Ur,saVault:qr,atlasStaking:Gr,registeredStake:jr,stakingAccount:Vr}).instruction();return ln.instructions.push(nn),ln})}return exchangeOrder.createExchangeInstruction=m,exchangeOrder}var initializeMarketplace={},__awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(initializeMarketplace,"__esModule",{value:!0});initializeMarketplace.createInitializeMarketInstruction=void 0;const utils_1$8=utils;function createInitializeMarketInstruction({connection:t,updateAuthorityAccount:e,programId:r}){return __awaiter$a(this,void 0,void 0,function*(){const o=[yield(0,utils_1$8.getMarketplaceProgram)({connection:t,programId:r}).methods.initializeMarketplace().accounts({updateAuthorityAccount:e}).instruction()];return{accounts:[],instructions:o}})}initializeMarketplace.createInitializeMarketInstruction=createInitializeMarketInstruction;var registerCurrency={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(registerCurrency,"__esModule",{value:!0});registerCurrency.createRegisterCurrencyInstruction=void 0;const anchor_1$5=require$$0$1,utils_1$7=utils;function createRegisterCurrencyInstruction({connection:t,updateAuthorityAccount:e,royalty:r,saCurrencyVault:n,currencyMint:o,programId:s}){return __awaiter$9(this,void 0,void 0,function*(){const c=[yield(0,utils_1$7.getMarketplaceProgram)({connection:t,programId:s}).methods.registerCurrency(new anchor_1$5.BN(r)).accounts({updateAuthorityAccount:e,saCurrencyVault:n,currencyMint:o}).instruction()];return{accounts:[],instructions:c}})}registerCurrency.createRegisterCurrencyInstruction=createRegisterCurrencyInstruction;var royaltyTiers={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(royaltyTiers,"__esModule",{value:!0});royaltyTiers.updateRoyaltyTier=royaltyTiers.deleteRoyaltyTier=royaltyTiers.addRoyaltyTier=void 0;const anchor_1$4=require$$0$1,utils_1$6=utils;function addRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,discount:o,programId:s}){return __awaiter$8(this,void 0,void 0,function*(){const a=(0,utils_1$6.getMarketplaceProgram)({connection:t,programId:s}),c={signers:[],instructions:[]},m=yield a.methods.addRoyaltyTier(new anchor_1$4.BN(n),new anchor_1$4.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return c.instructions.push(m),c})}royaltyTiers.addRoyaltyTier=addRoyaltyTier;function deleteRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,programId:o}){return __awaiter$8(this,void 0,void 0,function*(){const s=(0,utils_1$6.getMarketplaceProgram)({connection:t,programId:o}),a={signers:[],instructions:[]},c=yield s.methods.deleteRoyaltyTier(new anchor_1$4.BN(n)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return a.instructions.push(c),a})}royaltyTiers.deleteRoyaltyTier=deleteRoyaltyTier;function updateRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,discount:o,programId:s}){return __awaiter$8(this,void 0,void 0,function*(){const a=(0,utils_1$6.getMarketplaceProgram)({connection:t,programId:s}),c={signers:[],instructions:[]},m=yield a.methods.updateRoyaltyTier(new anchor_1$4.BN(n),new anchor_1$4.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return c.instructions.push(m),c})}royaltyTiers.updateRoyaltyTier=updateRoyaltyTier;var updateCurrency={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(updateCurrency,"__esModule",{value:!0});updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=void 0;const anchor_1$3=require$$0$1,utils_1$5=utils;function createUpdateRegisteredCurrencyRoyaltyInstruction({connection:t,updateAuthorityAccount:e,royalty:r,currencyMint:n,programId:o}){return __awaiter$7(this,void 0,void 0,function*(){const a=[yield(0,utils_1$5.getMarketplaceProgram)({connection:t,programId:o}).methods.updateCurrencyRoyalty(new anchor_1$3.BN(r)).accounts({updateAuthorityAccount:e,currencyMint:n}).instruction()];return{accounts:[],instructions:a}})}updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=createUpdateRegisteredCurrencyRoyaltyInstruction;function createUpdateRegisteredCurrencyVaultInstruction({connection:t,updateAuthorityAccount:e,saCurrencyVault:r,currencyMint:n,programId:o}){return __awaiter$7(this,void 0,void 0,function*(){const a=[yield(0,utils_1$5.getMarketplaceProgram)({connection:t,programId:o}).methods.updateCurrencyVault().accounts({updateAuthorityAccount:e,saCurrencyVault:r,currencyMint:n}).instruction()];return{accounts:[],instructions:a}})}updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=createUpdateRegisteredCurrencyVaultInstruction;var hasRequiredInstruction_builders$1;function requireInstruction_builders$1(){return hasRequiredInstruction_builders$1||(hasRequiredInstruction_builders$1=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(BaseParams,t),r(requireCancelOrder(),t),r(requireCreateOrder(),t),r(deregisterCurrency,t),r(requireExchangeOrder(),t),r(initializeMarketplace,t),r(registerCurrency,t),r(royaltyTiers,t),r(updateCurrency,t)}(instruction_builders)),instruction_builders}var types$2={},marketplace_accounts={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GmLogs=void 0,function(e){e.CancelOrderMemo="CancelOrderMemo",e.ExchangeMemo="ExchangeMemo",e.InitializeMemo="InitializeMemo",e.RegisterCurrencyMemo="RegisterCurrencyMemo"}(t.GmLogs||(t.GmLogs={}))})(marketplace_accounts);var services$1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GmEventType=void 0,function(e){e[e.orderAdded=0]="orderAdded",e[e.orderRemoved=1]="orderRemoved",e[e.orderModified=2]="orderModified"}(t.GmEventType||(t.GmEventType={}))})(services$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gmIdl,t),r(marketplace_accounts,t),r(services$1,t)})(types$2);var services={},GmOrderbookService={},NOOP=function(){},IDENTITY=function(t){return t};function fail(t){throw new Error("[mobx-utils] "+t)}function invariant(t,e){e===void 0&&(e="Illegal state"),t||fail(e)}function addHiddenProp(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}var deepFields=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(deepFields(Object.getPrototypeOf(t))||[])},distinctDeepFields=function(t){var e=deepFields(t),r=e.filter(function(n,o){return e.indexOf(n)===o});return r},getAllMethodsAndProperties=function(t){return distinctDeepFields(t).filter(function(e){return e!=="constructor"&&!~e.indexOf("__")})},PENDING="pending",FULFILLED="fulfilled",REJECTED="rejected";function caseImpl(t){switch(this.state){case PENDING:return t.pending&&t.pending(this.value);case REJECTED:return t.rejected&&t.rejected(this.value);case FULFILLED:return t.fulfilled?t.fulfilled(this.value):this.value}}function fromPromise(t,e){if(invariant(arguments.length<=2,"fromPromise expects up to two arguments"),invariant(typeof t=="function"||typeof t=="object"&&t&&typeof t.then=="function","Please pass a promise or function to fromPromise"),t.isPromiseBasedObservable===!0)return t;typeof t=="function"&&(t=new Promise(t));var r=t;t.then(action("observableFromPromise-resolve",function(o){r.value=o,r.state=FULFILLED}),action("observableFromPromise-reject",function(o){r.value=o,r.state=REJECTED})),r.isPromiseBasedObservable=!0,r.case=caseImpl;var n=e&&e.state===FULFILLED?e.value:void 0;return extendObservable(r,{value:n,state:PENDING},{},{deep:!1}),r}(function(t){t.reject=action("fromPromise.reject",function(r){var n=t(Promise.reject(r));return n.state=REJECTED,n.value=r,n});function e(r){r===void 0&&(r=void 0);var n=t(Promise.resolve(r));return n.state=FULFILLED,n.value=r,n}t.resolve=action("fromPromise.resolve",e)})(fromPromise||(fromPromise={}));function isPromiseBasedObservable(t){return t&&t.isPromiseBasedObservable===!0}var __spreadArrays=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,o++)n[o]=s[a];return n};function moveItem(t,e,r){if(checkIndex(t,e),checkIndex(t,r),e!==r){var n=t.slice(),o;return e<r?o=__spreadArrays(n.slice(0,e),n.slice(e+1,r+1),[n[e]],n.slice(r+1)):o=__spreadArrays(n.slice(0,r),[n[e]],n.slice(r,e),n.slice(e+1)),t.replace(o),t}}function checkIndex(t,e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var r=t.length;if(e>=r)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+r)}function lazyObservable(t,e){e===void 0&&(e=void 0);var r=!1,n=observable.box(e,{deep:!1}),o=observable.box(!1),s=function(){return r||(r=!0,allowStateChanges(!0,function(){o.set(!0)}),t(function(c){allowStateChanges(!0,function(){n.set(c),o.set(!1)})})),n.get()},a=action("lazyObservable-reset",function(){return r=!1,n.set(e),n.get()});return{current:s,refresh:function(){return r?(r=!1,s()):n.get()},reset:function(){return a()},get pending(){return o.get()}}}function fromResource(t,e,r){e===void 0&&(e=NOOP),r===void 0&&(r=void 0);var n=!1,o=!1,s=r,a=function(){n&&(n=!1,e())},c=createAtom("ResourceBasedObservable",function(){invariant(!n&&!o),n=!0,t(function(m){allowStateChanges(!0,function(){s=m,c.reportChanged()})})},a);return{current:function(){invariant(!o,"subscribingObservable has already been disposed");var m=c.reportObserved();return!m&&!n&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),s},dispose:function(){o=!0,a()},isAlive:function(){return n}}}var __decorate=function(t,e,r,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,r,s):a(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};function observableSymbol(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function toStream(t,e){var r;e===void 0&&(e=!1);var n=computed(t);return r={subscribe:function(o){return typeof o=="function"?{unsubscribe:observe(n,function(s){var a=s.newValue;return o(a)},e)}:o&&typeof o=="object"&&o.next?{unsubscribe:observe(n,function(s){var a=s.newValue;return o.next(a)},e)}:{unsubscribe:function(){}}}},r[observableSymbol()]=function(){return this},r}var StreamListener=function(){function t(e,r){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),makeObservable(this),runInAction(function(){n.current=r,n.subscription=e.subscribe(n)})}return Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(t.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(t.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(t.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),__decorate([observable.ref],t.prototype,"current",void 0),__decorate([action.bound],t.prototype,"next",null),__decorate([action.bound],t.prototype,"complete",null),__decorate([action.bound],t.prototype,"error",null),t}();function fromStream(t,e){return e===void 0&&(e=void 0),new StreamListener(t,e)}var __assign=function(){return __assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign.apply(this,arguments)},__decorate$1=function(t,e,r,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,r,s):a(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s},RESERVED_NAMES=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],ViewModel=function(){function t(e){var r=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(o){return r.localValues.has(o)}}),makeObservable(this),invariant(isObservableObject(e),"createViewModel expects an observable object");var n=getAllMethodsAndProperties(this);getAllMethodsAndProperties(e).forEach(function(o){var s;if(!n.includes(o)&&!(o===$mobx||o==="__mobxDidRunLazyInitializers")){if(invariant(RESERVED_NAMES.indexOf(o)===-1,"The propertyname "+o+" is reserved and cannot be used with viewModels"),isComputedProp(e,o)){var a=getAdministration(e,o),c=a.derivation.bind(r),m=(s=a.setter_)===null||s===void 0?void 0:s.bind(r);r.localComputedValues.set(o,computed(c,{set:m}))}var gr=Object.getOwnPropertyDescriptor(e,o),_r=gr?{enumerable:gr.enumerable}:{};Object.defineProperty(r,o,__assign(__assign({},_r),{configurable:!0,get:function(){return isComputedProp(e,o)?r.localComputedValues.get(o).get():r.isPropertyDirty(o)?r.localValues.get(o):r.model[o]},set:action(function(wr){isComputedProp(e,o)?r.localComputedValues.get(o).set(wr):wr!==r.model[o]?r.localValues.set(o,wr):r.localValues.delete(o)})}))}})}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;keys(this.localValues).forEach(function(r){var n=e.localValues.get(r),o=e.model[r];isObservableArray(o)?o.replace(n):isObservableMap(o)?(o.clear(),o.merge(n)):isComputed(n)||(e.model[r]=n)}),this.localValues.clear()}}),Object.defineProperty(t.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(t.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),__decorate$1([computed],t.prototype,"isDirty",null),__decorate$1([computed],t.prototype,"changedValues",null),__decorate$1([action.bound],t.prototype,"submit",null),__decorate$1([action.bound],t.prototype,"reset",null),__decorate$1([action.bound],t.prototype,"resetProperty",null),t}();function createViewModel(t){return new ViewModel(t)}function keepAlive(t,e){var r=getAtom(t,e);if(!r)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return observe(r,function(){})}function queueProcessor(t,e,r){if(r===void 0&&(r=0),!isObservableArray(t))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("queueProcessor",e));var n=function(){var o=t.slice(0);runInAction(function(){return t.splice(0)}),o.forEach(e)};return r>0?autorun(n,{delay:r}):autorun(n)}function chunkProcessor(t,e,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),!isObservableArray(t))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("chunkProcessor",e));var o=function(){for(var s=function(){var a=n===0?t.length:Math.min(t.length,n),c=t.slice(0,a);runInAction(function(){return t.splice(0,a)}),e(c)};t.length>0;)s()};return r>0?autorun(o,{delay:r}):autorun(o)}var tickers={};function now(t){return t===void 0&&(t=1e3),isComputingDerivation()?(tickers[t]||(typeof t=="number"?tickers[t]=createIntervalTicker(t):tickers[t]=createAnimationFrameTicker()),tickers[t].current()):Date.now()}function createIntervalTicker(t){var e;return fromResource(function(r){r(Date.now()),e=setInterval(function(){return r(Date.now())},t)},function(){clearInterval(e)},Date.now())}function createAnimationFrameTicker(){var t=fromResource(function(e){e(Date.now());function r(){window.requestAnimationFrame(function(){e(Date.now()),t.isAlive()&&r()})}r()},function(){},Date.now());return t}function expr(t){return isComputingDerivation()||console.warn("'expr' should only be used inside other reactive functions."),computed(t).get()}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$1.apply(this,arguments)},memoizationId=0;function createTransformer(t,e){invariant(typeof t=="function"&&t.length<2,"createTransformer expects a function that accepts one argument");var r={},n=void 0,o=!1,s=void 0;typeof e=="object"?(n=e.onCleanup,o=e.keepAlive!==void 0?e.keepAlive:!1,s=e.debugNameGenerator):typeof e=="function"&&(n=e);function a(m,gr){var _r,wr={};typeof e=="object"?(n=e.onCleanup,s=e.debugNameGenerator,wr=e):typeof e=="function"?n=e:(n=void 0,s=void 0);var Or=s?s(gr):"Transformer-"+t.name+"-"+m,Ir=computed(function(){return _r=t(gr)},__assign$1(__assign$1({},wr),{name:Or}));if(!o)var Pr=onBecomeUnobserved(Ir,function(){delete r[m],Pr(),n&&n(_r,gr)});return Ir}var c=!1;return function(m){var gr=getMemoizationId(m),_r=r[gr];if(_r)return _r.get();if(!o&&!isComputingDerivation()){c||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),c=!0);var wr=t(m);return n&&n(wr,m),wr}return _r=r[gr]=a(gr,m),_r.get()}}function getMemoizationId(t){var e=typeof t;if(e==="string")return"string:"+t;if(e==="number")return"number:"+t;if(t===null||e!=="object"&&e!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(t));var r=t.$transformId;return r===void 0&&(r="memoizationId:"+ ++memoizationId,addHiddenProp(t,"$transformId",r)),r}function buildPath(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function isRecursivelyObservable(t){return isObservableObject(t)||isObservableArray(t)||isObservableMap(t)}function deepObserve(t,e){var r=new WeakMap;function n(c){var m=r.get(c.object);o(c,m),e(c,buildPath(m),t)}function o(c,m){switch(c.type){case"add":s(c.newValue,m,c.name);break;case"update":a(c.oldValue),s(c.newValue,m,c.name||""+c.index);break;case"remove":case"delete":a(c.oldValue);break;case"splice":c.removed.map(a),c.added.forEach(function(wr,Or){return s(wr,m,""+(c.index+Or))});for(var gr=c.index+c.addedCount;gr<c.object.length;gr++)if(isRecursivelyObservable(c.object[gr])){var _r=r.get(c.object[gr]);_r&&(_r.path=""+gr)}break}}function s(c,m,gr){if(isRecursivelyObservable(c)){var _r=r.get(c);if(_r){if(_r.parent!==m||_r.path!==gr)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+buildPath(m)+"/"+gr+"',")+(" but it already exists at '"+buildPath(_r.parent)+"/"+_r.path+"'"))}else{var wr={parent:m,path:gr,dispose:observe(c,n)};r.set(c,wr),entries(c).forEach(function(Or){var Ir=Or[0],Pr=Or[1];return s(Pr,wr,Ir)})}}}function a(c){if(isRecursivelyObservable(c)){var m=r.get(c);if(!m)return;r.delete(c),m.dispose(),values(c).forEach(a)}}return s(t,void 0,""),function(){a(t)}}var __extends=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ObservableGroupMap=function(t){__extends(e,t);function e(r,n,o){var s=o===void 0?{}:o,a=s.name,c=a===void 0?"ogm"+(Math.random()*1e3|0):a,m=s.keyToName,gr=m===void 0?function(Or){return""+Or}:m,_r=t.call(this)||this;Object.defineProperty(_r,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_r,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_r,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_r,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_r,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),_r._keyToName=gr,_r._groupBy=n,_r._ogmInfoKey=Symbol("ogmInfo"+c),_r._base=r;for(var wr=0;wr<r.length;wr++)_r._addItem(r[wr]);return _r._disposeBaseObserver=observe(_r._base,function(Or){if(Or.type==="splice")transaction(function(){for(var Ir=0,Pr=Or.removed;Ir<Pr.length;Ir++){var kr=Pr[Ir];_r._removeItem(kr)}for(var xr=0,Cr=Or.added;xr<Cr.length;xr++){var Kr=Cr[xr];_r._addItem(Kr)}});else if(Or.type==="update")transaction(function(){_r._removeItem(Or.oldValue),_r._addItem(Or.newValue)});else throw new Error("illegal state")}),_r}return Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(r){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var r=0;r<this._base.length;r++){var n=this._base[r],o=n[this._ogmInfoKey];o.reaction(),delete n[this._ogmInfoKey]}}}),Object.defineProperty(e.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=t.prototype.get.call(this,r);return n===void 0&&(n=observable([],{name:"GroupArray["+this._keyToName(r)+"]",deep:!1}),t.prototype.set.call(this,r,n)),n}}),Object.defineProperty(e.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){var o=t.prototype.get.call(this,r);o.length===1?t.prototype.delete.call(this,r):(n===o.length-1||(o[n]=o[o.length-1],o[n][this._ogmInfoKey].groupArrIndex=n),o.length--)}}),Object.defineProperty(e.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=this,o=this._groupBy(r),s=this._getGroupArr(o),a={groupByValue:o,groupArrIndex:s.length,reaction:reaction(function(){return n._groupBy(r)},function(c,m){var gr=r[n._ogmInfoKey];n._removeFromGroupArr(gr.groupByValue,gr.groupArrIndex);var _r=n._getGroupArr(c),wr=_r.length;_r.push(r),gr.groupByValue=c,gr.groupArrIndex=wr})};Object.defineProperty(r,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:a}),s.push(r)}}),Object.defineProperty(e.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=r[this._ogmInfoKey];this._removeFromGroupArr(n.groupByValue,n.groupArrIndex),n.reaction(),delete r[this._ogmInfoKey]}}),e}(ObservableMap),DeepMapEntry=function(){function t(e,r){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=e,o=0;o<this.args.length-1&&(n=n.get(r[o]),n);o++)this.closest=n;this.closestIdx=o}return Object.defineProperty(t.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var r=this.args.length,n=this.closest,o=this.closestIdx;o<r-1;o++){var s=new Map;n.set(this.args[o],s),n=s}this.closestIdx=r-1,this.closest=n,n.set(this.args[r-1],e)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var r=this.root,n=[r],o=0;o<e-1;o++)r=r.get(this.args[o]),n.push(r);for(var o=n.length-1;o>0;o--)n[o].size===0&&n[o-1].delete(this.args[o-1]);this.isDisposed=!0}}),Object.defineProperty(t.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),t}(),DeepMap=function(){function t(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(t.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.argsLength===-1)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new DeepMapEntry(this.store,e)}}),t}(),__assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$2.apply(this,arguments)},__spreadArrays$1=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,o++)n[o]=s[a];return n};function computedFn(t,e){if(e===void 0&&(e=!1),isAction(t))throw new Error("computedFn shouldn't be used on actions");var r=!1,n=0,o=typeof e=="boolean"?{keepAlive:e}:e,s=new DeepMap;return function(){for(var a=this,c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];var gr=s.entry(c);if(gr.exists())return gr.get().get();if(!o.keepAlive&&!isComputingDerivation())return r||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),r=!0),t.apply(this,c);var _r,wr=computed(function(){return _r=t.apply(a,c)},__assign$2(__assign$2({},o),{name:"computedFn("+(o.name||t.name)+"#"+ ++n+")"}));return gr.set(wr),o.keepAlive||onBecomeUnobserved(wr,function(){s.entry(c).delete(),o.onCleanup&&o.onCleanup.apply(o,__spreadArrays$1([_r],c)),_r=void 0}),wr.get()}}const mobxUtils_module=Object.freeze(Object.defineProperty({__proto__:null,FULFILLED,IDENTITY,NOOP,ObservableGroupMap,PENDING,REJECTED,ViewModel,addHiddenProp,chunkProcessor,computedFn,createTransformer,createViewModel,deepObserve,expr,fail,get fromPromise(){return fromPromise},fromResource,fromStream,getAllMethodsAndProperties,invariant,isPromiseBasedObservable,keepAlive,lazyObservable,moveItem,now,queueProcessor,toStream},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(mobxUtils_module);var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var r,n="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",gr=500,_r="__lodash_placeholder__",wr=1,Or=2,Ir=4,Pr=1,kr=2,xr=1,Cr=2,Kr=4,Fr=8,qr=16,Gr=32,jr=64,Vr=128,Jr=256,ln=512,tn=30,sn="...",dn=800,Rr=16,vr=1,Tr=2,Lr=3,Ur=1/0,Hr=9007199254740991,nn=17976931348623157e292,pn=0/0,Nr=4294967295,Er=Nr-1,Mr=Nr>>>1,cn=[["ary",Vr],["bind",xr],["bindKey",Cr],["curry",Fr],["curryRight",qr],["flip",ln],["partial",Gr],["partialRight",jr],["rearg",Jr]],Yr="[object Arguments]",Zr="[object Array]",an="[object AsyncFunction]",un="[object Boolean]",yn="[object Date]",On="[object DOMException]",Tn="[object Error]",In="[object Function]",en="[object GeneratorFunction]",on="[object Map]",gn="[object Number]",xn="[object Null]",wn="[object Object]",$n="[object Promise]",mn="[object Proxy]",kn="[object RegExp]",Rn="[object Set]",rn="[object String]",fn="[object Symbol]",vn="[object Undefined]",En="[object WeakMap]",Bn="[object WeakSet]",br="[object ArrayBuffer]",l="[object DataView]",d="[object Float32Array]",Ar="[object Float64Array]",$r="[object Int8Array]",Dr="[object Int16Array]",Wr="[object Int32Array]",Pn="[object Uint8Array]",Fn="[object Uint8ClampedArray]",Cn="[object Uint16Array]",jn="[object Uint32Array]",Un=/\b__p \+= '';/g,mi=/\b(__p \+=) '' \+/g,Cs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,di=/&(?:amp|lt|gt|quot|#39);/g,hi=/[&<>"']/g,Ls=RegExp(di.source),_i=RegExp(hi.source),bi=/<%-([\s\S]+?)%>/g,Ns=/<%([\s\S]+?)%>/g,pi=/<%=([\s\S]+?)%>/g,wi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ds=/^\w*$/,vi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ui=/[\\^$.*+?()[\]{}|]/g,Us=RegExp(ui.source),li=/^\s+/,Si=/\s/,Fs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ai=/\{\n\/\* \[wrapped with (.+)\] \*/,Ei=/,? & /,Ks=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ii=/[()=,{}\[\]\/\s]/,Oi=/\\(\\)?/g,js=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yi=/\w*$/,Ti=/^[-+]0x[0-9a-f]+$/i,as=/^0b[01]+$/i,cs=/^\[object .+?Constructor\]$/,us=/^0o[0-7]+$/i,ls=/^(?:0|[1-9]\d*)$/,fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,So=/($^)/,ds=/['\n\r\u2028\u2029\\]/g,Ao="\\ud800-\\udfff",hs="\\u0300-\\u036f",ps="\\ufe20-\\ufe2f",ys="\\u20d0-\\u20ff",jo=hs+ps+ys,Ho="\\u2700-\\u27bf",zo="a-z\\xdf-\\xf6\\xf8-\\xff",gs="\\xac\\xb1\\xd7\\xf7",ms="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_s="\\u2000-\\u206f",bs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vo="A-Z\\xc0-\\xd6\\xd8-\\xde",Fc="\\ufe0e\\ufe0f",Kc=gs+ms+_s+bs,ka="['\u2019]",cf="["+Ao+"]",jc="["+Kc+"]",Hs="["+jo+"]",Hc="\\d+",uf="["+Ho+"]",zc="["+zo+"]",Vc="[^"+Ao+Kc+Hc+Ho+zo+Vo+"]",$a="\\ud83c[\\udffb-\\udfff]",lf="(?:"+Hs+"|"+$a+")",qc="[^"+Ao+"]",Ba="(?:\\ud83c[\\udde6-\\uddff]){2}",Pa="[\\ud800-\\udbff][\\udc00-\\udfff]",qo="["+Vo+"]",Wc="\\u200d",Gc="(?:"+zc+"|"+Vc+")",ff="(?:"+qo+"|"+Vc+")",Yc="(?:"+ka+"(?:d|ll|m|re|s|t|ve))?",Zc="(?:"+ka+"(?:D|LL|M|RE|S|T|VE))?",Jc=lf+"?",Xc="["+Fc+"]?",df="(?:"+Wc+"(?:"+[qc,Ba,Pa].join("|")+")"+Xc+Jc+")*",hf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qc=Xc+Jc+df,yf="(?:"+[uf,Ba,Pa].join("|")+")"+Qc,gf="(?:"+[qc+Hs+"?",Hs,Ba,Pa,cf].join("|")+")",mf=RegExp(ka,"g"),_f=RegExp(Hs,"g"),Ma=RegExp($a+"(?="+$a+")|"+gf+Qc,"g"),bf=RegExp([qo+"?"+zc+"+"+Yc+"(?="+[jc,qo,"$"].join("|")+")",ff+"+"+Zc+"(?="+[jc,qo+Gc,"$"].join("|")+")",qo+"?"+Gc+"+"+Yc,qo+"+"+Zc,pf,hf,Hc,yf].join("|"),"g"),wf=RegExp("["+Wc+Ao+jo+Fc+"]"),vf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Af=-1,ci={};ci[d]=ci[Ar]=ci[$r]=ci[Dr]=ci[Wr]=ci[Pn]=ci[Fn]=ci[Cn]=ci[jn]=!0,ci[Yr]=ci[Zr]=ci[br]=ci[un]=ci[l]=ci[yn]=ci[Tn]=ci[In]=ci[on]=ci[gn]=ci[wn]=ci[kn]=ci[Rn]=ci[rn]=ci[En]=!1;var ai={};ai[Yr]=ai[Zr]=ai[br]=ai[l]=ai[un]=ai[yn]=ai[d]=ai[Ar]=ai[$r]=ai[Dr]=ai[Wr]=ai[on]=ai[gn]=ai[wn]=ai[kn]=ai[Rn]=ai[rn]=ai[fn]=ai[Pn]=ai[Fn]=ai[Cn]=ai[jn]=!0,ai[Tn]=ai[In]=ai[En]=!1;var Ef={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},If={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Of={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xf=parseFloat,Rf=parseInt,eu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,kf=typeof self=="object"&&self&&self.Object===Object&&self,Mi=eu||kf||Function("return this")(),Ca=e&&!e.nodeType&&e,Po=Ca&&!0&&t&&!t.nodeType&&t,tu=Po&&Po.exports===Ca,La=tu&&eu.process,Ji=function(){try{var Sn=Po&&Po.require&&Po.require("util").types;return Sn||La&&La.binding&&La.binding("util")}catch{}}(),ru=Ji&&Ji.isArrayBuffer,nu=Ji&&Ji.isDate,iu=Ji&&Ji.isMap,ou=Ji&&Ji.isRegExp,su=Ji&&Ji.isSet,au=Ji&&Ji.isTypedArray;function Vi(Sn,Ln,Mn){switch(Mn.length){case 0:return Sn.call(Ln);case 1:return Sn.call(Ln,Mn[0]);case 2:return Sn.call(Ln,Mn[0],Mn[1]);case 3:return Sn.call(Ln,Mn[0],Mn[1],Mn[2])}return Sn.apply(Ln,Mn)}function $f(Sn,Ln,Mn,zn){for(var Yn=-1,ni=Sn==null?0:Sn.length;++Yn<ni;){var $i=Sn[Yn];Ln(zn,$i,Mn($i),Sn)}return zn}function Xi(Sn,Ln){for(var Mn=-1,zn=Sn==null?0:Sn.length;++Mn<zn&&Ln(Sn[Mn],Mn,Sn)!==!1;);return Sn}function Bf(Sn,Ln){for(var Mn=Sn==null?0:Sn.length;Mn--&&Ln(Sn[Mn],Mn,Sn)!==!1;);return Sn}function cu(Sn,Ln){for(var Mn=-1,zn=Sn==null?0:Sn.length;++Mn<zn;)if(!Ln(Sn[Mn],Mn,Sn))return!1;return!0}function Eo(Sn,Ln){for(var Mn=-1,zn=Sn==null?0:Sn.length,Yn=0,ni=[];++Mn<zn;){var $i=Sn[Mn];Ln($i,Mn,Sn)&&(ni[Yn++]=$i)}return ni}function zs(Sn,Ln){var Mn=Sn==null?0:Sn.length;return!!Mn&&Wo(Sn,Ln,0)>-1}function Na(Sn,Ln,Mn){for(var zn=-1,Yn=Sn==null?0:Sn.length;++zn<Yn;)if(Mn(Ln,Sn[zn]))return!0;return!1}function fi(Sn,Ln){for(var Mn=-1,zn=Sn==null?0:Sn.length,Yn=Array(zn);++Mn<zn;)Yn[Mn]=Ln(Sn[Mn],Mn,Sn);return Yn}function Io(Sn,Ln){for(var Mn=-1,zn=Ln.length,Yn=Sn.length;++Mn<zn;)Sn[Yn+Mn]=Ln[Mn];return Sn}function Da(Sn,Ln,Mn,zn){var Yn=-1,ni=Sn==null?0:Sn.length;for(zn&&ni&&(Mn=Sn[++Yn]);++Yn<ni;)Mn=Ln(Mn,Sn[Yn],Yn,Sn);return Mn}function Pf(Sn,Ln,Mn,zn){var Yn=Sn==null?0:Sn.length;for(zn&&Yn&&(Mn=Sn[--Yn]);Yn--;)Mn=Ln(Mn,Sn[Yn],Yn,Sn);return Mn}function Ua(Sn,Ln){for(var Mn=-1,zn=Sn==null?0:Sn.length;++Mn<zn;)if(Ln(Sn[Mn],Mn,Sn))return!0;return!1}var Mf=Fa("length");function Cf(Sn){return Sn.split("")}function Lf(Sn){return Sn.match(Ks)||[]}function uu(Sn,Ln,Mn){var zn;return Mn(Sn,function(Yn,ni,$i){if(Ln(Yn,ni,$i))return zn=ni,!1}),zn}function Vs(Sn,Ln,Mn,zn){for(var Yn=Sn.length,ni=Mn+(zn?1:-1);zn?ni--:++ni<Yn;)if(Ln(Sn[ni],ni,Sn))return ni;return-1}function Wo(Sn,Ln,Mn){return Ln===Ln?Gf(Sn,Ln,Mn):Vs(Sn,lu,Mn)}function Nf(Sn,Ln,Mn,zn){for(var Yn=Mn-1,ni=Sn.length;++Yn<ni;)if(zn(Sn[Yn],Ln))return Yn;return-1}function lu(Sn){return Sn!==Sn}function fu(Sn,Ln){var Mn=Sn==null?0:Sn.length;return Mn?ja(Sn,Ln)/Mn:pn}function Fa(Sn){return function(Ln){return Ln==null?r:Ln[Sn]}}function Ka(Sn){return function(Ln){return Sn==null?r:Sn[Ln]}}function du(Sn,Ln,Mn,zn,Yn){return Yn(Sn,function(ni,$i,si){Mn=zn?(zn=!1,ni):Ln(Mn,ni,$i,si)}),Mn}function Df(Sn,Ln){var Mn=Sn.length;for(Sn.sort(Ln);Mn--;)Sn[Mn]=Sn[Mn].value;return Sn}function ja(Sn,Ln){for(var Mn,zn=-1,Yn=Sn.length;++zn<Yn;){var ni=Ln(Sn[zn]);ni!==r&&(Mn=Mn===r?ni:Mn+ni)}return Mn}function Ha(Sn,Ln){for(var Mn=-1,zn=Array(Sn);++Mn<Sn;)zn[Mn]=Ln(Mn);return zn}function Uf(Sn,Ln){return fi(Ln,function(Mn){return[Mn,Sn[Mn]]})}function hu(Sn){return Sn&&Sn.slice(0,mu(Sn)+1).replace(li,"")}function qi(Sn){return function(Ln){return Sn(Ln)}}function za(Sn,Ln){return fi(Ln,function(Mn){return Sn[Mn]})}function ws(Sn,Ln){return Sn.has(Ln)}function pu(Sn,Ln){for(var Mn=-1,zn=Sn.length;++Mn<zn&&Wo(Ln,Sn[Mn],0)>-1;);return Mn}function yu(Sn,Ln){for(var Mn=Sn.length;Mn--&&Wo(Ln,Sn[Mn],0)>-1;);return Mn}function Ff(Sn,Ln){for(var Mn=Sn.length,zn=0;Mn--;)Sn[Mn]===Ln&&++zn;return zn}var Kf=Ka(Ef),jf=Ka(If);function Hf(Sn){return"\\"+Tf[Sn]}function zf(Sn,Ln){return Sn==null?r:Sn[Ln]}function Go(Sn){return wf.test(Sn)}function Vf(Sn){return vf.test(Sn)}function qf(Sn){for(var Ln,Mn=[];!(Ln=Sn.next()).done;)Mn.push(Ln.value);return Mn}function Va(Sn){var Ln=-1,Mn=Array(Sn.size);return Sn.forEach(function(zn,Yn){Mn[++Ln]=[Yn,zn]}),Mn}function gu(Sn,Ln){return function(Mn){return Sn(Ln(Mn))}}function Oo(Sn,Ln){for(var Mn=-1,zn=Sn.length,Yn=0,ni=[];++Mn<zn;){var $i=Sn[Mn];($i===Ln||$i===_r)&&(Sn[Mn]=_r,ni[Yn++]=Mn)}return ni}function qs(Sn){var Ln=-1,Mn=Array(Sn.size);return Sn.forEach(function(zn){Mn[++Ln]=zn}),Mn}function Wf(Sn){var Ln=-1,Mn=Array(Sn.size);return Sn.forEach(function(zn){Mn[++Ln]=[zn,zn]}),Mn}function Gf(Sn,Ln,Mn){for(var zn=Mn-1,Yn=Sn.length;++zn<Yn;)if(Sn[zn]===Ln)return zn;return-1}function Yf(Sn,Ln,Mn){for(var zn=Mn+1;zn--;)if(Sn[zn]===Ln)return zn;return zn}function Yo(Sn){return Go(Sn)?Jf(Sn):Mf(Sn)}function oo(Sn){return Go(Sn)?Xf(Sn):Cf(Sn)}function mu(Sn){for(var Ln=Sn.length;Ln--&&Si.test(Sn.charAt(Ln)););return Ln}var Zf=Ka(Of);function Jf(Sn){for(var Ln=Ma.lastIndex=0;Ma.test(Sn);)++Ln;return Ln}function Xf(Sn){return Sn.match(Ma)||[]}function Qf(Sn){return Sn.match(bf)||[]}var ed=function Sn(Ln){Ln=Ln==null?Mi:Zo.defaults(Mi.Object(),Ln,Zo.pick(Mi,Sf));var Mn=Ln.Array,zn=Ln.Date,Yn=Ln.Error,ni=Ln.Function,$i=Ln.Math,si=Ln.Object,qa=Ln.RegExp,td=Ln.String,Qi=Ln.TypeError,Ws=Mn.prototype,rd=ni.prototype,Jo=si.prototype,Gs=Ln["__core-js_shared__"],Ys=rd.toString,oi=Jo.hasOwnProperty,nd=0,_u=function(){var u=/[^.]+$/.exec(Gs&&Gs.keys&&Gs.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Zs=Jo.toString,id=Ys.call(si),od=Mi._,sd=qa("^"+Ys.call(oi).replace(ui,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Js=tu?Ln.Buffer:r,To=Ln.Symbol,Xs=Ln.Uint8Array,bu=Js?Js.allocUnsafe:r,Qs=gu(si.getPrototypeOf,si),wu=si.create,vu=Jo.propertyIsEnumerable,ea=Ws.splice,Su=To?To.isConcatSpreadable:r,vs=To?To.iterator:r,Mo=To?To.toStringTag:r,ta=function(){try{var u=Uo(si,"defineProperty");return u({},"",{}),u}catch{}}(),ad=Ln.clearTimeout!==Mi.clearTimeout&&Ln.clearTimeout,cd=zn&&zn.now!==Mi.Date.now&&zn.now,ud=Ln.setTimeout!==Mi.setTimeout&&Ln.setTimeout,ra=$i.ceil,na=$i.floor,Wa=si.getOwnPropertySymbols,ld=Js?Js.isBuffer:r,Au=Ln.isFinite,fd=Ws.join,dd=gu(si.keys,si),Bi=$i.max,Li=$i.min,hd=zn.now,pd=Ln.parseInt,Eu=$i.random,yd=Ws.reverse,Ga=Uo(Ln,"DataView"),Ss=Uo(Ln,"Map"),Ya=Uo(Ln,"Promise"),Xo=Uo(Ln,"Set"),As=Uo(Ln,"WeakMap"),Es=Uo(si,"create"),ia=As&&new As,Qo={},gd=Fo(Ga),md=Fo(Ss),_d=Fo(Ya),bd=Fo(Xo),wd=Fo(As),oa=To?To.prototype:r,Is=oa?oa.valueOf:r,Iu=oa?oa.toString:r;function Xr(u){if(xi(u)&&!Zn(u)&&!(u instanceof ti)){if(u instanceof eo)return u;if(oi.call(u,"__wrapped__"))return Ol(u)}return new eo(u)}var es=function(){function u(){}return function(y){if(!gi(y))return{};if(wu)return wu(y);u.prototype=y;var Sr=new u;return u.prototype=r,Sr}}();function sa(){}function eo(u,y){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=r}Xr.templateSettings={escape:bi,evaluate:Ns,interpolate:pi,variable:"",imports:{_:Xr}},Xr.prototype=sa.prototype,Xr.prototype.constructor=Xr,eo.prototype=es(sa.prototype),eo.prototype.constructor=eo;function ti(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nr,this.__views__=[]}function vd(){var u=new ti(this.__wrapped__);return u.__actions__=Ki(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ki(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ki(this.__views__),u}function Sd(){if(this.__filtered__){var u=new ti(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Ad(){var u=this.__wrapped__.value(),y=this.__dir__,Sr=Zn(u),Br=y<0,zr=Sr?u.length:0,Qr=Ch(0,zr,this.__views__),hn=Qr.start,_n=Qr.end,An=_n-hn,Nn=Br?_n:hn-1,Dn=this.__iteratees__,Kn=Dn.length,Hn=0,Vn=Li(An,this.__takeCount__);if(!Sr||!Br&&zr==An&&Vn==An)return Yu(u,this.__actions__);var Wn=[];e:for(;An--&&Hn<Vn;){Nn+=y;for(var Xn=-1,Gn=u[Nn];++Xn<Kn;){var ei=Dn[Xn],ri=ei.iteratee,Yi=ei.type,Fi=ri(Gn);if(Yi==Tr)Gn=Fi;else if(!Fi){if(Yi==vr)continue e;break e}}Wn[Hn++]=Gn}return Wn}ti.prototype=es(sa.prototype),ti.prototype.constructor=ti;function Co(u){var y=-1,Sr=u==null?0:u.length;for(this.clear();++y<Sr;){var Br=u[y];this.set(Br[0],Br[1])}}function Ed(){this.__data__=Es?Es(null):{},this.size=0}function Id(u){var y=this.has(u)&&delete this.__data__[u];return this.size-=y?1:0,y}function Od(u){var y=this.__data__;if(Es){var Sr=y[u];return Sr===m?r:Sr}return oi.call(y,u)?y[u]:r}function Td(u){var y=this.__data__;return Es?y[u]!==r:oi.call(y,u)}function xd(u,y){var Sr=this.__data__;return this.size+=this.has(u)?0:1,Sr[u]=Es&&y===r?m:y,this}Co.prototype.clear=Ed,Co.prototype.delete=Id,Co.prototype.get=Od,Co.prototype.has=Td,Co.prototype.set=xd;function ho(u){var y=-1,Sr=u==null?0:u.length;for(this.clear();++y<Sr;){var Br=u[y];this.set(Br[0],Br[1])}}function Rd(){this.__data__=[],this.size=0}function kd(u){var y=this.__data__,Sr=aa(y,u);if(Sr<0)return!1;var Br=y.length-1;return Sr==Br?y.pop():ea.call(y,Sr,1),--this.size,!0}function $d(u){var y=this.__data__,Sr=aa(y,u);return Sr<0?r:y[Sr][1]}function Bd(u){return aa(this.__data__,u)>-1}function Pd(u,y){var Sr=this.__data__,Br=aa(Sr,u);return Br<0?(++this.size,Sr.push([u,y])):Sr[Br][1]=y,this}ho.prototype.clear=Rd,ho.prototype.delete=kd,ho.prototype.get=$d,ho.prototype.has=Bd,ho.prototype.set=Pd;function po(u){var y=-1,Sr=u==null?0:u.length;for(this.clear();++y<Sr;){var Br=u[y];this.set(Br[0],Br[1])}}function Md(){this.size=0,this.__data__={hash:new Co,map:new(Ss||ho),string:new Co}}function Cd(u){var y=wa(this,u).delete(u);return this.size-=y?1:0,y}function Ld(u){return wa(this,u).get(u)}function Nd(u){return wa(this,u).has(u)}function Dd(u,y){var Sr=wa(this,u),Br=Sr.size;return Sr.set(u,y),this.size+=Sr.size==Br?0:1,this}po.prototype.clear=Md,po.prototype.delete=Cd,po.prototype.get=Ld,po.prototype.has=Nd,po.prototype.set=Dd;function Lo(u){var y=-1,Sr=u==null?0:u.length;for(this.__data__=new po;++y<Sr;)this.add(u[y])}function Ud(u){return this.__data__.set(u,m),this}function Fd(u){return this.__data__.has(u)}Lo.prototype.add=Lo.prototype.push=Ud,Lo.prototype.has=Fd;function so(u){var y=this.__data__=new ho(u);this.size=y.size}function Kd(){this.__data__=new ho,this.size=0}function jd(u){var y=this.__data__,Sr=y.delete(u);return this.size=y.size,Sr}function Hd(u){return this.__data__.get(u)}function zd(u){return this.__data__.has(u)}function Vd(u,y){var Sr=this.__data__;if(Sr instanceof ho){var Br=Sr.__data__;if(!Ss||Br.length<o-1)return Br.push([u,y]),this.size=++Sr.size,this;Sr=this.__data__=new po(Br)}return Sr.set(u,y),this.size=Sr.size,this}so.prototype.clear=Kd,so.prototype.delete=jd,so.prototype.get=Hd,so.prototype.has=zd,so.prototype.set=Vd;function Ou(u,y){var Sr=Zn(u),Br=!Sr&&Ko(u),zr=!Sr&&!Br&&Bo(u),Qr=!Sr&&!Br&&!zr&&os(u),hn=Sr||Br||zr||Qr,_n=hn?Ha(u.length,td):[],An=_n.length;for(var Nn in u)(y||oi.call(u,Nn))&&!(hn&&(Nn=="length"||zr&&(Nn=="offset"||Nn=="parent")||Qr&&(Nn=="buffer"||Nn=="byteLength"||Nn=="byteOffset")||_o(Nn,An)))&&_n.push(Nn);return _n}function Tu(u){var y=u.length;return y?u[sc(0,y-1)]:r}function qd(u,y){return va(Ki(u),No(y,0,u.length))}function Wd(u){return va(Ki(u))}function Za(u,y,Sr){(Sr!==r&&!ao(u[y],Sr)||Sr===r&&!(y in u))&&yo(u,y,Sr)}function Os(u,y,Sr){var Br=u[y];(!(oi.call(u,y)&&ao(Br,Sr))||Sr===r&&!(y in u))&&yo(u,y,Sr)}function aa(u,y){for(var Sr=u.length;Sr--;)if(ao(u[Sr][0],y))return Sr;return-1}function Gd(u,y,Sr,Br){return xo(u,function(zr,Qr,hn){y(Br,zr,Sr(zr),hn)}),Br}function xu(u,y){return u&&lo(y,Pi(y),u)}function Yd(u,y){return u&&lo(y,Hi(y),u)}function yo(u,y,Sr){y=="__proto__"&&ta?ta(u,y,{configurable:!0,enumerable:!0,value:Sr,writable:!0}):u[y]=Sr}function Ja(u,y){for(var Sr=-1,Br=y.length,zr=Mn(Br),Qr=u==null;++Sr<Br;)zr[Sr]=Qr?r:$c(u,y[Sr]);return zr}function No(u,y,Sr){return u===u&&(Sr!==r&&(u=u<=Sr?u:Sr),y!==r&&(u=u>=y?u:y)),u}function to(u,y,Sr,Br,zr,Qr){var hn,_n=y&wr,An=y&Or,Nn=y&Ir;if(Sr&&(hn=zr?Sr(u,Br,zr,Qr):Sr(u)),hn!==r)return hn;if(!gi(u))return u;var Dn=Zn(u);if(Dn){if(hn=Nh(u),!_n)return Ki(u,hn)}else{var Kn=Ni(u),Hn=Kn==In||Kn==en;if(Bo(u))return Xu(u,_n);if(Kn==wn||Kn==Yr||Hn&&!zr){if(hn=An||Hn?{}:ml(u),!_n)return An?Oh(u,Yd(hn,u)):Ih(u,xu(hn,u))}else{if(!ai[Kn])return zr?u:{};hn=Dh(u,Kn,_n)}}Qr||(Qr=new so);var Vn=Qr.get(u);if(Vn)return Vn;Qr.set(u,hn),ql(u)?u.forEach(function(Gn){hn.add(to(Gn,y,Sr,Gn,u,Qr))}):zl(u)&&u.forEach(function(Gn,ei){hn.set(ei,to(Gn,y,Sr,ei,u,Qr))});var Wn=Nn?An?mc:gc:An?Hi:Pi,Xn=Dn?r:Wn(u);return Xi(Xn||u,function(Gn,ei){Xn&&(ei=Gn,Gn=u[ei]),Os(hn,ei,to(Gn,y,Sr,ei,u,Qr))}),hn}function Zd(u){var y=Pi(u);return function(Sr){return Ru(Sr,u,y)}}function Ru(u,y,Sr){var Br=Sr.length;if(u==null)return!Br;for(u=si(u);Br--;){var zr=Sr[Br],Qr=y[zr],hn=u[zr];if(hn===r&&!(zr in u)||!Qr(hn))return!1}return!0}function ku(u,y,Sr){if(typeof u!="function")throw new Qi(a);return Ps(function(){u.apply(r,Sr)},y)}function Ts(u,y,Sr,Br){var zr=-1,Qr=zs,hn=!0,_n=u.length,An=[],Nn=y.length;if(!_n)return An;Sr&&(y=fi(y,qi(Sr))),Br?(Qr=Na,hn=!1):y.length>=o&&(Qr=ws,hn=!1,y=new Lo(y));e:for(;++zr<_n;){var Dn=u[zr],Kn=Sr==null?Dn:Sr(Dn);if(Dn=Br||Dn!==0?Dn:0,hn&&Kn===Kn){for(var Hn=Nn;Hn--;)if(y[Hn]===Kn)continue e;An.push(Dn)}else Qr(y,Kn,Br)||An.push(Dn)}return An}var xo=nl(uo),$u=nl(Qa,!0);function Jd(u,y){var Sr=!0;return xo(u,function(Br,zr,Qr){return Sr=!!y(Br,zr,Qr),Sr}),Sr}function ca(u,y,Sr){for(var Br=-1,zr=u.length;++Br<zr;){var Qr=u[Br],hn=y(Qr);if(hn!=null&&(_n===r?hn===hn&&!Gi(hn):Sr(hn,_n)))var _n=hn,An=Qr}return An}function Xd(u,y,Sr,Br){var zr=u.length;for(Sr=Jn(Sr),Sr<0&&(Sr=-Sr>zr?0:zr+Sr),Br=Br===r||Br>zr?zr:Jn(Br),Br<0&&(Br+=zr),Br=Sr>Br?0:Gl(Br);Sr<Br;)u[Sr++]=y;return u}function Bu(u,y){var Sr=[];return xo(u,function(Br,zr,Qr){y(Br,zr,Qr)&&Sr.push(Br)}),Sr}function Ci(u,y,Sr,Br,zr){var Qr=-1,hn=u.length;for(Sr||(Sr=Fh),zr||(zr=[]);++Qr<hn;){var _n=u[Qr];y>0&&Sr(_n)?y>1?Ci(_n,y-1,Sr,Br,zr):Io(zr,_n):Br||(zr[zr.length]=_n)}return zr}var Xa=il(),Pu=il(!0);function uo(u,y){return u&&Xa(u,y,Pi)}function Qa(u,y){return u&&Pu(u,y,Pi)}function ua(u,y){return Eo(y,function(Sr){return bo(u[Sr])})}function Do(u,y){y=ko(y,u);for(var Sr=0,Br=y.length;u!=null&&Sr<Br;)u=u[fo(y[Sr++])];return Sr&&Sr==Br?u:r}function Mu(u,y,Sr){var Br=y(u);return Zn(u)?Br:Io(Br,Sr(u))}function Di(u){return u==null?u===r?vn:xn:Mo&&Mo in si(u)?Mh(u):Wh(u)}function ec(u,y){return u>y}function Qd(u,y){return u!=null&&oi.call(u,y)}function eh(u,y){return u!=null&&y in si(u)}function th(u,y,Sr){return u>=Li(y,Sr)&&u<Bi(y,Sr)}function tc(u,y,Sr){for(var Br=Sr?Na:zs,zr=u[0].length,Qr=u.length,hn=Qr,_n=Mn(Qr),An=1/0,Nn=[];hn--;){var Dn=u[hn];hn&&y&&(Dn=fi(Dn,qi(y))),An=Li(Dn.length,An),_n[hn]=!Sr&&(y||zr>=120&&Dn.length>=120)?new Lo(hn&&Dn):r}Dn=u[0];var Kn=-1,Hn=_n[0];e:for(;++Kn<zr&&Nn.length<An;){var Vn=Dn[Kn],Wn=y?y(Vn):Vn;if(Vn=Sr||Vn!==0?Vn:0,!(Hn?ws(Hn,Wn):Br(Nn,Wn,Sr))){for(hn=Qr;--hn;){var Xn=_n[hn];if(!(Xn?ws(Xn,Wn):Br(u[hn],Wn,Sr)))continue e}Hn&&Hn.push(Wn),Nn.push(Vn)}}return Nn}function rh(u,y,Sr,Br){return uo(u,function(zr,Qr,hn){y(Br,Sr(zr),Qr,hn)}),Br}function xs(u,y,Sr){y=ko(y,u),u=vl(u,y);var Br=u==null?u:u[fo(no(y))];return Br==null?r:Vi(Br,u,Sr)}function Cu(u){return xi(u)&&Di(u)==Yr}function nh(u){return xi(u)&&Di(u)==br}function ih(u){return xi(u)&&Di(u)==yn}function Rs(u,y,Sr,Br,zr){return u===y?!0:u==null||y==null||!xi(u)&&!xi(y)?u!==u&&y!==y:oh(u,y,Sr,Br,Rs,zr)}function oh(u,y,Sr,Br,zr,Qr){var hn=Zn(u),_n=Zn(y),An=hn?Zr:Ni(u),Nn=_n?Zr:Ni(y);An=An==Yr?wn:An,Nn=Nn==Yr?wn:Nn;var Dn=An==wn,Kn=Nn==wn,Hn=An==Nn;if(Hn&&Bo(u)){if(!Bo(y))return!1;hn=!0,Dn=!1}if(Hn&&!Dn)return Qr||(Qr=new so),hn||os(u)?pl(u,y,Sr,Br,zr,Qr):Bh(u,y,An,Sr,Br,zr,Qr);if(!(Sr&Pr)){var Vn=Dn&&oi.call(u,"__wrapped__"),Wn=Kn&&oi.call(y,"__wrapped__");if(Vn||Wn){var Xn=Vn?u.value():u,Gn=Wn?y.value():y;return Qr||(Qr=new so),zr(Xn,Gn,Sr,Br,Qr)}}return Hn?(Qr||(Qr=new so),Ph(u,y,Sr,Br,zr,Qr)):!1}function sh(u){return xi(u)&&Ni(u)==on}function rc(u,y,Sr,Br){var zr=Sr.length,Qr=zr,hn=!Br;if(u==null)return!Qr;for(u=si(u);zr--;){var _n=Sr[zr];if(hn&&_n[2]?_n[1]!==u[_n[0]]:!(_n[0]in u))return!1}for(;++zr<Qr;){_n=Sr[zr];var An=_n[0],Nn=u[An],Dn=_n[1];if(hn&&_n[2]){if(Nn===r&&!(An in u))return!1}else{var Kn=new so;if(Br)var Hn=Br(Nn,Dn,An,u,y,Kn);if(!(Hn===r?Rs(Dn,Nn,Pr|kr,Br,Kn):Hn))return!1}}return!0}function Lu(u){if(!gi(u)||jh(u))return!1;var y=bo(u)?sd:cs;return y.test(Fo(u))}function ah(u){return xi(u)&&Di(u)==kn}function ch(u){return xi(u)&&Ni(u)==Rn}function uh(u){return xi(u)&&Ta(u.length)&&!!ci[Di(u)]}function Nu(u){return typeof u=="function"?u:u==null?zi:typeof u=="object"?Zn(u)?Fu(u[0],u[1]):Uu(u):sf(u)}function nc(u){if(!Bs(u))return dd(u);var y=[];for(var Sr in si(u))oi.call(u,Sr)&&Sr!="constructor"&&y.push(Sr);return y}function lh(u){if(!gi(u))return qh(u);var y=Bs(u),Sr=[];for(var Br in u)Br=="constructor"&&(y||!oi.call(u,Br))||Sr.push(Br);return Sr}function ic(u,y){return u<y}function Du(u,y){var Sr=-1,Br=ji(u)?Mn(u.length):[];return xo(u,function(zr,Qr,hn){Br[++Sr]=y(zr,Qr,hn)}),Br}function Uu(u){var y=bc(u);return y.length==1&&y[0][2]?bl(y[0][0],y[0][1]):function(Sr){return Sr===u||rc(Sr,u,y)}}function Fu(u,y){return vc(u)&&_l(y)?bl(fo(u),y):function(Sr){var Br=$c(Sr,u);return Br===r&&Br===y?Bc(Sr,u):Rs(y,Br,Pr|kr)}}function la(u,y,Sr,Br,zr){u!==y&&Xa(y,function(Qr,hn){if(zr||(zr=new so),gi(Qr))fh(u,y,hn,Sr,la,Br,zr);else{var _n=Br?Br(Ac(u,hn),Qr,hn+"",u,y,zr):r;_n===r&&(_n=Qr),Za(u,hn,_n)}},Hi)}function fh(u,y,Sr,Br,zr,Qr,hn){var _n=Ac(u,Sr),An=Ac(y,Sr),Nn=hn.get(An);if(Nn){Za(u,Sr,Nn);return}var Dn=Qr?Qr(_n,An,Sr+"",u,y,hn):r,Kn=Dn===r;if(Kn){var Hn=Zn(An),Vn=!Hn&&Bo(An),Wn=!Hn&&!Vn&&os(An);Dn=An,Hn||Vn||Wn?Zn(_n)?Dn=_n:Ri(_n)?Dn=Ki(_n):Vn?(Kn=!1,Dn=Xu(An,!0)):Wn?(Kn=!1,Dn=Qu(An,!0)):Dn=[]:Ms(An)||Ko(An)?(Dn=_n,Ko(_n)?Dn=Yl(_n):(!gi(_n)||bo(_n))&&(Dn=ml(An))):Kn=!1}Kn&&(hn.set(An,Dn),zr(Dn,An,Br,Qr,hn),hn.delete(An)),Za(u,Sr,Dn)}function Ku(u,y){var Sr=u.length;if(!!Sr)return y+=y<0?Sr:0,_o(y,Sr)?u[y]:r}function ju(u,y,Sr){y.length?y=fi(y,function(Qr){return Zn(Qr)?function(hn){return Do(hn,Qr.length===1?Qr[0]:Qr)}:Qr}):y=[zi];var Br=-1;y=fi(y,qi(qn()));var zr=Du(u,function(Qr,hn,_n){var An=fi(y,function(Nn){return Nn(Qr)});return{criteria:An,index:++Br,value:Qr}});return Df(zr,function(Qr,hn){return Eh(Qr,hn,Sr)})}function dh(u,y){return Hu(u,y,function(Sr,Br){return Bc(u,Br)})}function Hu(u,y,Sr){for(var Br=-1,zr=y.length,Qr={};++Br<zr;){var hn=y[Br],_n=Do(u,hn);Sr(_n,hn)&&ks(Qr,ko(hn,u),_n)}return Qr}function hh(u){return function(y){return Do(y,u)}}function oc(u,y,Sr,Br){var zr=Br?Nf:Wo,Qr=-1,hn=y.length,_n=u;for(u===y&&(y=Ki(y)),Sr&&(_n=fi(u,qi(Sr)));++Qr<hn;)for(var An=0,Nn=y[Qr],Dn=Sr?Sr(Nn):Nn;(An=zr(_n,Dn,An,Br))>-1;)_n!==u&&ea.call(_n,An,1),ea.call(u,An,1);return u}function zu(u,y){for(var Sr=u?y.length:0,Br=Sr-1;Sr--;){var zr=y[Sr];if(Sr==Br||zr!==Qr){var Qr=zr;_o(zr)?ea.call(u,zr,1):uc(u,zr)}}return u}function sc(u,y){return u+na(Eu()*(y-u+1))}function ph(u,y,Sr,Br){for(var zr=-1,Qr=Bi(ra((y-u)/(Sr||1)),0),hn=Mn(Qr);Qr--;)hn[Br?Qr:++zr]=u,u+=Sr;return hn}function ac(u,y){var Sr="";if(!u||y<1||y>Hr)return Sr;do y%2&&(Sr+=u),y=na(y/2),y&&(u+=u);while(y);return Sr}function Qn(u,y){return Ec(wl(u,y,zi),u+"")}function yh(u){return Tu(ss(u))}function gh(u,y){var Sr=ss(u);return va(Sr,No(y,0,Sr.length))}function ks(u,y,Sr,Br){if(!gi(u))return u;y=ko(y,u);for(var zr=-1,Qr=y.length,hn=Qr-1,_n=u;_n!=null&&++zr<Qr;){var An=fo(y[zr]),Nn=Sr;if(An==="__proto__"||An==="constructor"||An==="prototype")return u;if(zr!=hn){var Dn=_n[An];Nn=Br?Br(Dn,An,_n):r,Nn===r&&(Nn=gi(Dn)?Dn:_o(y[zr+1])?[]:{})}Os(_n,An,Nn),_n=_n[An]}return u}var Vu=ia?function(u,y){return ia.set(u,y),u}:zi,mh=ta?function(u,y){return ta(u,"toString",{configurable:!0,enumerable:!1,value:Mc(y),writable:!0})}:zi;function _h(u){return va(ss(u))}function ro(u,y,Sr){var Br=-1,zr=u.length;y<0&&(y=-y>zr?0:zr+y),Sr=Sr>zr?zr:Sr,Sr<0&&(Sr+=zr),zr=y>Sr?0:Sr-y>>>0,y>>>=0;for(var Qr=Mn(zr);++Br<zr;)Qr[Br]=u[Br+y];return Qr}function bh(u,y){var Sr;return xo(u,function(Br,zr,Qr){return Sr=y(Br,zr,Qr),!Sr}),!!Sr}function fa(u,y,Sr){var Br=0,zr=u==null?Br:u.length;if(typeof y=="number"&&y===y&&zr<=Mr){for(;Br<zr;){var Qr=Br+zr>>>1,hn=u[Qr];hn!==null&&!Gi(hn)&&(Sr?hn<=y:hn<y)?Br=Qr+1:zr=Qr}return zr}return cc(u,y,zi,Sr)}function cc(u,y,Sr,Br){var zr=0,Qr=u==null?0:u.length;if(Qr===0)return 0;y=Sr(y);for(var hn=y!==y,_n=y===null,An=Gi(y),Nn=y===r;zr<Qr;){var Dn=na((zr+Qr)/2),Kn=Sr(u[Dn]),Hn=Kn!==r,Vn=Kn===null,Wn=Kn===Kn,Xn=Gi(Kn);if(hn)var Gn=Br||Wn;else Nn?Gn=Wn&&(Br||Hn):_n?Gn=Wn&&Hn&&(Br||!Vn):An?Gn=Wn&&Hn&&!Vn&&(Br||!Xn):Vn||Xn?Gn=!1:Gn=Br?Kn<=y:Kn<y;Gn?zr=Dn+1:Qr=Dn}return Li(Qr,Er)}function qu(u,y){for(var Sr=-1,Br=u.length,zr=0,Qr=[];++Sr<Br;){var hn=u[Sr],_n=y?y(hn):hn;if(!Sr||!ao(_n,An)){var An=_n;Qr[zr++]=hn===0?0:hn}}return Qr}function Wu(u){return typeof u=="number"?u:Gi(u)?pn:+u}function Wi(u){if(typeof u=="string")return u;if(Zn(u))return fi(u,Wi)+"";if(Gi(u))return Iu?Iu.call(u):"";var y=u+"";return y=="0"&&1/u==-Ur?"-0":y}function Ro(u,y,Sr){var Br=-1,zr=zs,Qr=u.length,hn=!0,_n=[],An=_n;if(Sr)hn=!1,zr=Na;else if(Qr>=o){var Nn=y?null:kh(u);if(Nn)return qs(Nn);hn=!1,zr=ws,An=new Lo}else An=y?[]:_n;e:for(;++Br<Qr;){var Dn=u[Br],Kn=y?y(Dn):Dn;if(Dn=Sr||Dn!==0?Dn:0,hn&&Kn===Kn){for(var Hn=An.length;Hn--;)if(An[Hn]===Kn)continue e;y&&An.push(Kn),_n.push(Dn)}else zr(An,Kn,Sr)||(An!==_n&&An.push(Kn),_n.push(Dn))}return _n}function uc(u,y){return y=ko(y,u),u=vl(u,y),u==null||delete u[fo(no(y))]}function Gu(u,y,Sr,Br){return ks(u,y,Sr(Do(u,y)),Br)}function da(u,y,Sr,Br){for(var zr=u.length,Qr=Br?zr:-1;(Br?Qr--:++Qr<zr)&&y(u[Qr],Qr,u););return Sr?ro(u,Br?0:Qr,Br?Qr+1:zr):ro(u,Br?Qr+1:0,Br?zr:Qr)}function Yu(u,y){var Sr=u;return Sr instanceof ti&&(Sr=Sr.value()),Da(y,function(Br,zr){return zr.func.apply(zr.thisArg,Io([Br],zr.args))},Sr)}function lc(u,y,Sr){var Br=u.length;if(Br<2)return Br?Ro(u[0]):[];for(var zr=-1,Qr=Mn(Br);++zr<Br;)for(var hn=u[zr],_n=-1;++_n<Br;)_n!=zr&&(Qr[zr]=Ts(Qr[zr]||hn,u[_n],y,Sr));return Ro(Ci(Qr,1),y,Sr)}function Zu(u,y,Sr){for(var Br=-1,zr=u.length,Qr=y.length,hn={};++Br<zr;){var _n=Br<Qr?y[Br]:r;Sr(hn,u[Br],_n)}return hn}function fc(u){return Ri(u)?u:[]}function dc(u){return typeof u=="function"?u:zi}function ko(u,y){return Zn(u)?u:vc(u,y)?[u]:Il(ii(u))}var wh=Qn;function $o(u,y,Sr){var Br=u.length;return Sr=Sr===r?Br:Sr,!y&&Sr>=Br?u:ro(u,y,Sr)}var Ju=ad||function(u){return Mi.clearTimeout(u)};function Xu(u,y){if(y)return u.slice();var Sr=u.length,Br=bu?bu(Sr):new u.constructor(Sr);return u.copy(Br),Br}function hc(u){var y=new u.constructor(u.byteLength);return new Xs(y).set(new Xs(u)),y}function vh(u,y){var Sr=y?hc(u.buffer):u.buffer;return new u.constructor(Sr,u.byteOffset,u.byteLength)}function Sh(u){var y=new u.constructor(u.source,yi.exec(u));return y.lastIndex=u.lastIndex,y}function Ah(u){return Is?si(Is.call(u)):{}}function Qu(u,y){var Sr=y?hc(u.buffer):u.buffer;return new u.constructor(Sr,u.byteOffset,u.length)}function el(u,y){if(u!==y){var Sr=u!==r,Br=u===null,zr=u===u,Qr=Gi(u),hn=y!==r,_n=y===null,An=y===y,Nn=Gi(y);if(!_n&&!Nn&&!Qr&&u>y||Qr&&hn&&An&&!_n&&!Nn||Br&&hn&&An||!Sr&&An||!zr)return 1;if(!Br&&!Qr&&!Nn&&u<y||Nn&&Sr&&zr&&!Br&&!Qr||_n&&Sr&&zr||!hn&&zr||!An)return-1}return 0}function Eh(u,y,Sr){for(var Br=-1,zr=u.criteria,Qr=y.criteria,hn=zr.length,_n=Sr.length;++Br<hn;){var An=el(zr[Br],Qr[Br]);if(An){if(Br>=_n)return An;var Nn=Sr[Br];return An*(Nn=="desc"?-1:1)}}return u.index-y.index}function tl(u,y,Sr,Br){for(var zr=-1,Qr=u.length,hn=Sr.length,_n=-1,An=y.length,Nn=Bi(Qr-hn,0),Dn=Mn(An+Nn),Kn=!Br;++_n<An;)Dn[_n]=y[_n];for(;++zr<hn;)(Kn||zr<Qr)&&(Dn[Sr[zr]]=u[zr]);for(;Nn--;)Dn[_n++]=u[zr++];return Dn}function rl(u,y,Sr,Br){for(var zr=-1,Qr=u.length,hn=-1,_n=Sr.length,An=-1,Nn=y.length,Dn=Bi(Qr-_n,0),Kn=Mn(Dn+Nn),Hn=!Br;++zr<Dn;)Kn[zr]=u[zr];for(var Vn=zr;++An<Nn;)Kn[Vn+An]=y[An];for(;++hn<_n;)(Hn||zr<Qr)&&(Kn[Vn+Sr[hn]]=u[zr++]);return Kn}function Ki(u,y){var Sr=-1,Br=u.length;for(y||(y=Mn(Br));++Sr<Br;)y[Sr]=u[Sr];return y}function lo(u,y,Sr,Br){var zr=!Sr;Sr||(Sr={});for(var Qr=-1,hn=y.length;++Qr<hn;){var _n=y[Qr],An=Br?Br(Sr[_n],u[_n],_n,Sr,u):r;An===r&&(An=u[_n]),zr?yo(Sr,_n,An):Os(Sr,_n,An)}return Sr}function Ih(u,y){return lo(u,wc(u),y)}function Oh(u,y){return lo(u,yl(u),y)}function ha(u,y){return function(Sr,Br){var zr=Zn(Sr)?$f:Gd,Qr=y?y():{};return zr(Sr,u,qn(Br,2),Qr)}}function ts(u){return Qn(function(y,Sr){var Br=-1,zr=Sr.length,Qr=zr>1?Sr[zr-1]:r,hn=zr>2?Sr[2]:r;for(Qr=u.length>3&&typeof Qr=="function"?(zr--,Qr):r,hn&&Ui(Sr[0],Sr[1],hn)&&(Qr=zr<3?r:Qr,zr=1),y=si(y);++Br<zr;){var _n=Sr[Br];_n&&u(y,_n,Br,Qr)}return y})}function nl(u,y){return function(Sr,Br){if(Sr==null)return Sr;if(!ji(Sr))return u(Sr,Br);for(var zr=Sr.length,Qr=y?zr:-1,hn=si(Sr);(y?Qr--:++Qr<zr)&&Br(hn[Qr],Qr,hn)!==!1;);return Sr}}function il(u){return function(y,Sr,Br){for(var zr=-1,Qr=si(y),hn=Br(y),_n=hn.length;_n--;){var An=hn[u?_n:++zr];if(Sr(Qr[An],An,Qr)===!1)break}return y}}function Th(u,y,Sr){var Br=y&xr,zr=$s(u);function Qr(){var hn=this&&this!==Mi&&this instanceof Qr?zr:u;return hn.apply(Br?Sr:this,arguments)}return Qr}function ol(u){return function(y){y=ii(y);var Sr=Go(y)?oo(y):r,Br=Sr?Sr[0]:y.charAt(0),zr=Sr?$o(Sr,1).join(""):y.slice(1);return Br[u]()+zr}}function rs(u){return function(y){return Da(nf(rf(y).replace(mf,"")),u,"")}}function $s(u){return function(){var y=arguments;switch(y.length){case 0:return new u;case 1:return new u(y[0]);case 2:return new u(y[0],y[1]);case 3:return new u(y[0],y[1],y[2]);case 4:return new u(y[0],y[1],y[2],y[3]);case 5:return new u(y[0],y[1],y[2],y[3],y[4]);case 6:return new u(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new u(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var Sr=es(u.prototype),Br=u.apply(Sr,y);return gi(Br)?Br:Sr}}function xh(u,y,Sr){var Br=$s(u);function zr(){for(var Qr=arguments.length,hn=Mn(Qr),_n=Qr,An=ns(zr);_n--;)hn[_n]=arguments[_n];var Nn=Qr<3&&hn[0]!==An&&hn[Qr-1]!==An?[]:Oo(hn,An);if(Qr-=Nn.length,Qr<Sr)return ll(u,y,pa,zr.placeholder,r,hn,Nn,r,r,Sr-Qr);var Dn=this&&this!==Mi&&this instanceof zr?Br:u;return Vi(Dn,this,hn)}return zr}function sl(u){return function(y,Sr,Br){var zr=si(y);if(!ji(y)){var Qr=qn(Sr,3);y=Pi(y),Sr=function(_n){return Qr(zr[_n],_n,zr)}}var hn=u(y,Sr,Br);return hn>-1?zr[Qr?y[hn]:hn]:r}}function al(u){return mo(function(y){var Sr=y.length,Br=Sr,zr=eo.prototype.thru;for(u&&y.reverse();Br--;){var Qr=y[Br];if(typeof Qr!="function")throw new Qi(a);if(zr&&!hn&&ba(Qr)=="wrapper")var hn=new eo([],!0)}for(Br=hn?Br:Sr;++Br<Sr;){Qr=y[Br];var _n=ba(Qr),An=_n=="wrapper"?_c(Qr):r;An&&Sc(An[0])&&An[1]==(Vr|Fr|Gr|Jr)&&!An[4].length&&An[9]==1?hn=hn[ba(An[0])].apply(hn,An[3]):hn=Qr.length==1&&Sc(Qr)?hn[_n]():hn.thru(Qr)}return function(){var Nn=arguments,Dn=Nn[0];if(hn&&Nn.length==1&&Zn(Dn))return hn.plant(Dn).value();for(var Kn=0,Hn=Sr?y[Kn].apply(this,Nn):Dn;++Kn<Sr;)Hn=y[Kn].call(this,Hn);return Hn}})}function pa(u,y,Sr,Br,zr,Qr,hn,_n,An,Nn){var Dn=y&Vr,Kn=y&xr,Hn=y&Cr,Vn=y&(Fr|qr),Wn=y&ln,Xn=Hn?r:$s(u);function Gn(){for(var ei=arguments.length,ri=Mn(ei),Yi=ei;Yi--;)ri[Yi]=arguments[Yi];if(Vn)var Fi=ns(Gn),Zi=Ff(ri,Fi);if(Br&&(ri=tl(ri,Br,zr,Vn)),Qr&&(ri=rl(ri,Qr,hn,Vn)),ei-=Zi,Vn&&ei<Nn){var ki=Oo(ri,Fi);return ll(u,y,pa,Gn.placeholder,Sr,ri,ki,_n,An,Nn-ei)}var co=Kn?Sr:this,vo=Hn?co[u]:u;return ei=ri.length,_n?ri=Gh(ri,_n):Wn&&ei>1&&ri.reverse(),Dn&&An<ei&&(ri.length=An),this&&this!==Mi&&this instanceof Gn&&(vo=Xn||$s(vo)),vo.apply(co,ri)}return Gn}function cl(u,y){return function(Sr,Br){return rh(Sr,u,y(Br),{})}}function ya(u,y){return function(Sr,Br){var zr;if(Sr===r&&Br===r)return y;if(Sr!==r&&(zr=Sr),Br!==r){if(zr===r)return Br;typeof Sr=="string"||typeof Br=="string"?(Sr=Wi(Sr),Br=Wi(Br)):(Sr=Wu(Sr),Br=Wu(Br)),zr=u(Sr,Br)}return zr}}function pc(u){return mo(function(y){return y=fi(y,qi(qn())),Qn(function(Sr){var Br=this;return u(y,function(zr){return Vi(zr,Br,Sr)})})})}function ga(u,y){y=y===r?" ":Wi(y);var Sr=y.length;if(Sr<2)return Sr?ac(y,u):y;var Br=ac(y,ra(u/Yo(y)));return Go(y)?$o(oo(Br),0,u).join(""):Br.slice(0,u)}function Rh(u,y,Sr,Br){var zr=y&xr,Qr=$s(u);function hn(){for(var _n=-1,An=arguments.length,Nn=-1,Dn=Br.length,Kn=Mn(Dn+An),Hn=this&&this!==Mi&&this instanceof hn?Qr:u;++Nn<Dn;)Kn[Nn]=Br[Nn];for(;An--;)Kn[Nn++]=arguments[++_n];return Vi(Hn,zr?Sr:this,Kn)}return hn}function ul(u){return function(y,Sr,Br){return Br&&typeof Br!="number"&&Ui(y,Sr,Br)&&(Sr=Br=r),y=wo(y),Sr===r?(Sr=y,y=0):Sr=wo(Sr),Br=Br===r?y<Sr?1:-1:wo(Br),ph(y,Sr,Br,u)}}function ma(u){return function(y,Sr){return typeof y=="string"&&typeof Sr=="string"||(y=io(y),Sr=io(Sr)),u(y,Sr)}}function ll(u,y,Sr,Br,zr,Qr,hn,_n,An,Nn){var Dn=y&Fr,Kn=Dn?hn:r,Hn=Dn?r:hn,Vn=Dn?Qr:r,Wn=Dn?r:Qr;y|=Dn?Gr:jr,y&=~(Dn?jr:Gr),y&Kr||(y&=~(xr|Cr));var Xn=[u,y,zr,Vn,Kn,Wn,Hn,_n,An,Nn],Gn=Sr.apply(r,Xn);return Sc(u)&&Sl(Gn,Xn),Gn.placeholder=Br,Al(Gn,u,y)}function yc(u){var y=$i[u];return function(Sr,Br){if(Sr=io(Sr),Br=Br==null?0:Li(Jn(Br),292),Br&&Au(Sr)){var zr=(ii(Sr)+"e").split("e"),Qr=y(zr[0]+"e"+(+zr[1]+Br));return zr=(ii(Qr)+"e").split("e"),+(zr[0]+"e"+(+zr[1]-Br))}return y(Sr)}}var kh=Xo&&1/qs(new Xo([,-0]))[1]==Ur?function(u){return new Xo(u)}:Nc;function fl(u){return function(y){var Sr=Ni(y);return Sr==on?Va(y):Sr==Rn?Wf(y):Uf(y,u(y))}}function go(u,y,Sr,Br,zr,Qr,hn,_n){var An=y&Cr;if(!An&&typeof u!="function")throw new Qi(a);var Nn=Br?Br.length:0;if(Nn||(y&=~(Gr|jr),Br=zr=r),hn=hn===r?hn:Bi(Jn(hn),0),_n=_n===r?_n:Jn(_n),Nn-=zr?zr.length:0,y&jr){var Dn=Br,Kn=zr;Br=zr=r}var Hn=An?r:_c(u),Vn=[u,y,Sr,Br,zr,Dn,Kn,Qr,hn,_n];if(Hn&&Vh(Vn,Hn),u=Vn[0],y=Vn[1],Sr=Vn[2],Br=Vn[3],zr=Vn[4],_n=Vn[9]=Vn[9]===r?An?0:u.length:Bi(Vn[9]-Nn,0),!_n&&y&(Fr|qr)&&(y&=~(Fr|qr)),!y||y==xr)var Wn=Th(u,y,Sr);else y==Fr||y==qr?Wn=xh(u,y,_n):(y==Gr||y==(xr|Gr))&&!zr.length?Wn=Rh(u,y,Sr,Br):Wn=pa.apply(r,Vn);var Xn=Hn?Vu:Sl;return Al(Xn(Wn,Vn),u,y)}function dl(u,y,Sr,Br){return u===r||ao(u,Jo[Sr])&&!oi.call(Br,Sr)?y:u}function hl(u,y,Sr,Br,zr,Qr){return gi(u)&&gi(y)&&(Qr.set(y,u),la(u,y,r,hl,Qr),Qr.delete(y)),u}function $h(u){return Ms(u)?r:u}function pl(u,y,Sr,Br,zr,Qr){var hn=Sr&Pr,_n=u.length,An=y.length;if(_n!=An&&!(hn&&An>_n))return!1;var Nn=Qr.get(u),Dn=Qr.get(y);if(Nn&&Dn)return Nn==y&&Dn==u;var Kn=-1,Hn=!0,Vn=Sr&kr?new Lo:r;for(Qr.set(u,y),Qr.set(y,u);++Kn<_n;){var Wn=u[Kn],Xn=y[Kn];if(Br)var Gn=hn?Br(Xn,Wn,Kn,y,u,Qr):Br(Wn,Xn,Kn,u,y,Qr);if(Gn!==r){if(Gn)continue;Hn=!1;break}if(Vn){if(!Ua(y,function(ei,ri){if(!ws(Vn,ri)&&(Wn===ei||zr(Wn,ei,Sr,Br,Qr)))return Vn.push(ri)})){Hn=!1;break}}else if(!(Wn===Xn||zr(Wn,Xn,Sr,Br,Qr))){Hn=!1;break}}return Qr.delete(u),Qr.delete(y),Hn}function Bh(u,y,Sr,Br,zr,Qr,hn){switch(Sr){case l:if(u.byteLength!=y.byteLength||u.byteOffset!=y.byteOffset)return!1;u=u.buffer,y=y.buffer;case br:return!(u.byteLength!=y.byteLength||!Qr(new Xs(u),new Xs(y)));case un:case yn:case gn:return ao(+u,+y);case Tn:return u.name==y.name&&u.message==y.message;case kn:case rn:return u==y+"";case on:var _n=Va;case Rn:var An=Br&Pr;if(_n||(_n=qs),u.size!=y.size&&!An)return!1;var Nn=hn.get(u);if(Nn)return Nn==y;Br|=kr,hn.set(u,y);var Dn=pl(_n(u),_n(y),Br,zr,Qr,hn);return hn.delete(u),Dn;case fn:if(Is)return Is.call(u)==Is.call(y)}return!1}function Ph(u,y,Sr,Br,zr,Qr){var hn=Sr&Pr,_n=gc(u),An=_n.length,Nn=gc(y),Dn=Nn.length;if(An!=Dn&&!hn)return!1;for(var Kn=An;Kn--;){var Hn=_n[Kn];if(!(hn?Hn in y:oi.call(y,Hn)))return!1}var Vn=Qr.get(u),Wn=Qr.get(y);if(Vn&&Wn)return Vn==y&&Wn==u;var Xn=!0;Qr.set(u,y),Qr.set(y,u);for(var Gn=hn;++Kn<An;){Hn=_n[Kn];var ei=u[Hn],ri=y[Hn];if(Br)var Yi=hn?Br(ri,ei,Hn,y,u,Qr):Br(ei,ri,Hn,u,y,Qr);if(!(Yi===r?ei===ri||zr(ei,ri,Sr,Br,Qr):Yi)){Xn=!1;break}Gn||(Gn=Hn=="constructor")}if(Xn&&!Gn){var Fi=u.constructor,Zi=y.constructor;Fi!=Zi&&"constructor"in u&&"constructor"in y&&!(typeof Fi=="function"&&Fi instanceof Fi&&typeof Zi=="function"&&Zi instanceof Zi)&&(Xn=!1)}return Qr.delete(u),Qr.delete(y),Xn}function mo(u){return Ec(wl(u,r,Rl),u+"")}function gc(u){return Mu(u,Pi,wc)}function mc(u){return Mu(u,Hi,yl)}var _c=ia?function(u){return ia.get(u)}:Nc;function ba(u){for(var y=u.name+"",Sr=Qo[y],Br=oi.call(Qo,y)?Sr.length:0;Br--;){var zr=Sr[Br],Qr=zr.func;if(Qr==null||Qr==u)return zr.name}return y}function ns(u){var y=oi.call(Xr,"placeholder")?Xr:u;return y.placeholder}function qn(){var u=Xr.iteratee||Cc;return u=u===Cc?Nu:u,arguments.length?u(arguments[0],arguments[1]):u}function wa(u,y){var Sr=u.__data__;return Kh(y)?Sr[typeof y=="string"?"string":"hash"]:Sr.map}function bc(u){for(var y=Pi(u),Sr=y.length;Sr--;){var Br=y[Sr],zr=u[Br];y[Sr]=[Br,zr,_l(zr)]}return y}function Uo(u,y){var Sr=zf(u,y);return Lu(Sr)?Sr:r}function Mh(u){var y=oi.call(u,Mo),Sr=u[Mo];try{u[Mo]=r;var Br=!0}catch{}var zr=Zs.call(u);return Br&&(y?u[Mo]=Sr:delete u[Mo]),zr}var wc=Wa?function(u){return u==null?[]:(u=si(u),Eo(Wa(u),function(y){return vu.call(u,y)}))}:Dc,yl=Wa?function(u){for(var y=[];u;)Io(y,wc(u)),u=Qs(u);return y}:Dc,Ni=Di;(Ga&&Ni(new Ga(new ArrayBuffer(1)))!=l||Ss&&Ni(new Ss)!=on||Ya&&Ni(Ya.resolve())!=$n||Xo&&Ni(new Xo)!=Rn||As&&Ni(new As)!=En)&&(Ni=function(u){var y=Di(u),Sr=y==wn?u.constructor:r,Br=Sr?Fo(Sr):"";if(Br)switch(Br){case gd:return l;case md:return on;case _d:return $n;case bd:return Rn;case wd:return En}return y});function Ch(u,y,Sr){for(var Br=-1,zr=Sr.length;++Br<zr;){var Qr=Sr[Br],hn=Qr.size;switch(Qr.type){case"drop":u+=hn;break;case"dropRight":y-=hn;break;case"take":y=Li(y,u+hn);break;case"takeRight":u=Bi(u,y-hn);break}}return{start:u,end:y}}function Lh(u){var y=u.match(Ai);return y?y[1].split(Ei):[]}function gl(u,y,Sr){y=ko(y,u);for(var Br=-1,zr=y.length,Qr=!1;++Br<zr;){var hn=fo(y[Br]);if(!(Qr=u!=null&&Sr(u,hn)))break;u=u[hn]}return Qr||++Br!=zr?Qr:(zr=u==null?0:u.length,!!zr&&Ta(zr)&&_o(hn,zr)&&(Zn(u)||Ko(u)))}function Nh(u){var y=u.length,Sr=new u.constructor(y);return y&&typeof u[0]=="string"&&oi.call(u,"index")&&(Sr.index=u.index,Sr.input=u.input),Sr}function ml(u){return typeof u.constructor=="function"&&!Bs(u)?es(Qs(u)):{}}function Dh(u,y,Sr){var Br=u.constructor;switch(y){case br:return hc(u);case un:case yn:return new Br(+u);case l:return vh(u,Sr);case d:case Ar:case $r:case Dr:case Wr:case Pn:case Fn:case Cn:case jn:return Qu(u,Sr);case on:return new Br;case gn:case rn:return new Br(u);case kn:return Sh(u);case Rn:return new Br;case fn:return Ah(u)}}function Uh(u,y){var Sr=y.length;if(!Sr)return u;var Br=Sr-1;return y[Br]=(Sr>1?"& ":"")+y[Br],y=y.join(Sr>2?", ":" "),u.replace(Fs,`{
/* [wrapped with `+y+`] */
`)}function Fh(u){return Zn(u)||Ko(u)||!!(Su&&u&&u[Su])}function _o(u,y){var Sr=typeof u;return y=y??Hr,!!y&&(Sr=="number"||Sr!="symbol"&&ls.test(u))&&u>-1&&u%1==0&&u<y}function Ui(u,y,Sr){if(!gi(Sr))return!1;var Br=typeof y;return(Br=="number"?ji(Sr)&&_o(y,Sr.length):Br=="string"&&y in Sr)?ao(Sr[y],u):!1}function vc(u,y){if(Zn(u))return!1;var Sr=typeof u;return Sr=="number"||Sr=="symbol"||Sr=="boolean"||u==null||Gi(u)?!0:Ds.test(u)||!wi.test(u)||y!=null&&u in si(y)}function Kh(u){var y=typeof u;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?u!=="__proto__":u===null}function Sc(u){var y=ba(u),Sr=Xr[y];if(typeof Sr!="function"||!(y in ti.prototype))return!1;if(u===Sr)return!0;var Br=_c(Sr);return!!Br&&u===Br[0]}function jh(u){return!!_u&&_u in u}var Hh=Gs?bo:Uc;function Bs(u){var y=u&&u.constructor,Sr=typeof y=="function"&&y.prototype||Jo;return u===Sr}function _l(u){return u===u&&!gi(u)}function bl(u,y){return function(Sr){return Sr==null?!1:Sr[u]===y&&(y!==r||u in si(Sr))}}function zh(u){var y=Ia(u,function(Br){return Sr.size===gr&&Sr.clear(),Br}),Sr=y.cache;return y}function Vh(u,y){var Sr=u[1],Br=y[1],zr=Sr|Br,Qr=zr<(xr|Cr|Vr),hn=Br==Vr&&Sr==Fr||Br==Vr&&Sr==Jr&&u[7].length<=y[8]||Br==(Vr|Jr)&&y[7].length<=y[8]&&Sr==Fr;if(!(Qr||hn))return u;Br&xr&&(u[2]=y[2],zr|=Sr&xr?0:Kr);var _n=y[3];if(_n){var An=u[3];u[3]=An?tl(An,_n,y[4]):_n,u[4]=An?Oo(u[3],_r):y[4]}return _n=y[5],_n&&(An=u[5],u[5]=An?rl(An,_n,y[6]):_n,u[6]=An?Oo(u[5],_r):y[6]),_n=y[7],_n&&(u[7]=_n),Br&Vr&&(u[8]=u[8]==null?y[8]:Li(u[8],y[8])),u[9]==null&&(u[9]=y[9]),u[0]=y[0],u[1]=zr,u}function qh(u){var y=[];if(u!=null)for(var Sr in si(u))y.push(Sr);return y}function Wh(u){return Zs.call(u)}function wl(u,y,Sr){return y=Bi(y===r?u.length-1:y,0),function(){for(var Br=arguments,zr=-1,Qr=Bi(Br.length-y,0),hn=Mn(Qr);++zr<Qr;)hn[zr]=Br[y+zr];zr=-1;for(var _n=Mn(y+1);++zr<y;)_n[zr]=Br[zr];return _n[y]=Sr(hn),Vi(u,this,_n)}}function vl(u,y){return y.length<2?u:Do(u,ro(y,0,-1))}function Gh(u,y){for(var Sr=u.length,Br=Li(y.length,Sr),zr=Ki(u);Br--;){var Qr=y[Br];u[Br]=_o(Qr,Sr)?zr[Qr]:r}return u}function Ac(u,y){if(!(y==="constructor"&&typeof u[y]=="function")&&y!="__proto__")return u[y]}var Sl=El(Vu),Ps=ud||function(u,y){return Mi.setTimeout(u,y)},Ec=El(mh);function Al(u,y,Sr){var Br=y+"";return Ec(u,Uh(Br,Yh(Lh(Br),Sr)))}function El(u){var y=0,Sr=0;return function(){var Br=hd(),zr=Rr-(Br-Sr);if(Sr=Br,zr>0){if(++y>=dn)return arguments[0]}else y=0;return u.apply(r,arguments)}}function va(u,y){var Sr=-1,Br=u.length,zr=Br-1;for(y=y===r?Br:y;++Sr<y;){var Qr=sc(Sr,zr),hn=u[Qr];u[Qr]=u[Sr],u[Sr]=hn}return u.length=y,u}var Il=zh(function(u){var y=[];return u.charCodeAt(0)===46&&y.push(""),u.replace(vi,function(Sr,Br,zr,Qr){y.push(zr?Qr.replace(Oi,"$1"):Br||Sr)}),y});function fo(u){if(typeof u=="string"||Gi(u))return u;var y=u+"";return y=="0"&&1/u==-Ur?"-0":y}function Fo(u){if(u!=null){try{return Ys.call(u)}catch{}try{return u+""}catch{}}return""}function Yh(u,y){return Xi(cn,function(Sr){var Br="_."+Sr[0];y&Sr[1]&&!zs(u,Br)&&u.push(Br)}),u.sort()}function Ol(u){if(u instanceof ti)return u.clone();var y=new eo(u.__wrapped__,u.__chain__);return y.__actions__=Ki(u.__actions__),y.__index__=u.__index__,y.__values__=u.__values__,y}function Zh(u,y,Sr){(Sr?Ui(u,y,Sr):y===r)?y=1:y=Bi(Jn(y),0);var Br=u==null?0:u.length;if(!Br||y<1)return[];for(var zr=0,Qr=0,hn=Mn(ra(Br/y));zr<Br;)hn[Qr++]=ro(u,zr,zr+=y);return hn}function Jh(u){for(var y=-1,Sr=u==null?0:u.length,Br=0,zr=[];++y<Sr;){var Qr=u[y];Qr&&(zr[Br++]=Qr)}return zr}function Xh(){var u=arguments.length;if(!u)return[];for(var y=Mn(u-1),Sr=arguments[0],Br=u;Br--;)y[Br-1]=arguments[Br];return Io(Zn(Sr)?Ki(Sr):[Sr],Ci(y,1))}var Qh=Qn(function(u,y){return Ri(u)?Ts(u,Ci(y,1,Ri,!0)):[]}),ep=Qn(function(u,y){var Sr=no(y);return Ri(Sr)&&(Sr=r),Ri(u)?Ts(u,Ci(y,1,Ri,!0),qn(Sr,2)):[]}),tp=Qn(function(u,y){var Sr=no(y);return Ri(Sr)&&(Sr=r),Ri(u)?Ts(u,Ci(y,1,Ri,!0),r,Sr):[]});function rp(u,y,Sr){var Br=u==null?0:u.length;return Br?(y=Sr||y===r?1:Jn(y),ro(u,y<0?0:y,Br)):[]}function np(u,y,Sr){var Br=u==null?0:u.length;return Br?(y=Sr||y===r?1:Jn(y),y=Br-y,ro(u,0,y<0?0:y)):[]}function ip(u,y){return u&&u.length?da(u,qn(y,3),!0,!0):[]}function op(u,y){return u&&u.length?da(u,qn(y,3),!0):[]}function sp(u,y,Sr,Br){var zr=u==null?0:u.length;return zr?(Sr&&typeof Sr!="number"&&Ui(u,y,Sr)&&(Sr=0,Br=zr),Xd(u,y,Sr,Br)):[]}function Tl(u,y,Sr){var Br=u==null?0:u.length;if(!Br)return-1;var zr=Sr==null?0:Jn(Sr);return zr<0&&(zr=Bi(Br+zr,0)),Vs(u,qn(y,3),zr)}function xl(u,y,Sr){var Br=u==null?0:u.length;if(!Br)return-1;var zr=Br-1;return Sr!==r&&(zr=Jn(Sr),zr=Sr<0?Bi(Br+zr,0):Li(zr,Br-1)),Vs(u,qn(y,3),zr,!0)}function Rl(u){var y=u==null?0:u.length;return y?Ci(u,1):[]}function ap(u){var y=u==null?0:u.length;return y?Ci(u,Ur):[]}function cp(u,y){var Sr=u==null?0:u.length;return Sr?(y=y===r?1:Jn(y),Ci(u,y)):[]}function up(u){for(var y=-1,Sr=u==null?0:u.length,Br={};++y<Sr;){var zr=u[y];Br[zr[0]]=zr[1]}return Br}function kl(u){return u&&u.length?u[0]:r}function lp(u,y,Sr){var Br=u==null?0:u.length;if(!Br)return-1;var zr=Sr==null?0:Jn(Sr);return zr<0&&(zr=Bi(Br+zr,0)),Wo(u,y,zr)}function fp(u){var y=u==null?0:u.length;return y?ro(u,0,-1):[]}var dp=Qn(function(u){var y=fi(u,fc);return y.length&&y[0]===u[0]?tc(y):[]}),hp=Qn(function(u){var y=no(u),Sr=fi(u,fc);return y===no(Sr)?y=r:Sr.pop(),Sr.length&&Sr[0]===u[0]?tc(Sr,qn(y,2)):[]}),pp=Qn(function(u){var y=no(u),Sr=fi(u,fc);return y=typeof y=="function"?y:r,y&&Sr.pop(),Sr.length&&Sr[0]===u[0]?tc(Sr,r,y):[]});function yp(u,y){return u==null?"":fd.call(u,y)}function no(u){var y=u==null?0:u.length;return y?u[y-1]:r}function gp(u,y,Sr){var Br=u==null?0:u.length;if(!Br)return-1;var zr=Br;return Sr!==r&&(zr=Jn(Sr),zr=zr<0?Bi(Br+zr,0):Li(zr,Br-1)),y===y?Yf(u,y,zr):Vs(u,lu,zr,!0)}function mp(u,y){return u&&u.length?Ku(u,Jn(y)):r}var _p=Qn($l);function $l(u,y){return u&&u.length&&y&&y.length?oc(u,y):u}function bp(u,y,Sr){return u&&u.length&&y&&y.length?oc(u,y,qn(Sr,2)):u}function wp(u,y,Sr){return u&&u.length&&y&&y.length?oc(u,y,r,Sr):u}var vp=mo(function(u,y){var Sr=u==null?0:u.length,Br=Ja(u,y);return zu(u,fi(y,function(zr){return _o(zr,Sr)?+zr:zr}).sort(el)),Br});function Sp(u,y){var Sr=[];if(!(u&&u.length))return Sr;var Br=-1,zr=[],Qr=u.length;for(y=qn(y,3);++Br<Qr;){var hn=u[Br];y(hn,Br,u)&&(Sr.push(hn),zr.push(Br))}return zu(u,zr),Sr}function Ic(u){return u==null?u:yd.call(u)}function Ap(u,y,Sr){var Br=u==null?0:u.length;return Br?(Sr&&typeof Sr!="number"&&Ui(u,y,Sr)?(y=0,Sr=Br):(y=y==null?0:Jn(y),Sr=Sr===r?Br:Jn(Sr)),ro(u,y,Sr)):[]}function Ep(u,y){return fa(u,y)}function Ip(u,y,Sr){return cc(u,y,qn(Sr,2))}function Op(u,y){var Sr=u==null?0:u.length;if(Sr){var Br=fa(u,y);if(Br<Sr&&ao(u[Br],y))return Br}return-1}function Tp(u,y){return fa(u,y,!0)}function xp(u,y,Sr){return cc(u,y,qn(Sr,2),!0)}function Rp(u,y){var Sr=u==null?0:u.length;if(Sr){var Br=fa(u,y,!0)-1;if(ao(u[Br],y))return Br}return-1}function kp(u){return u&&u.length?qu(u):[]}function $p(u,y){return u&&u.length?qu(u,qn(y,2)):[]}function Bp(u){var y=u==null?0:u.length;return y?ro(u,1,y):[]}function Pp(u,y,Sr){return u&&u.length?(y=Sr||y===r?1:Jn(y),ro(u,0,y<0?0:y)):[]}function Mp(u,y,Sr){var Br=u==null?0:u.length;return Br?(y=Sr||y===r?1:Jn(y),y=Br-y,ro(u,y<0?0:y,Br)):[]}function Cp(u,y){return u&&u.length?da(u,qn(y,3),!1,!0):[]}function Lp(u,y){return u&&u.length?da(u,qn(y,3)):[]}var Np=Qn(function(u){return Ro(Ci(u,1,Ri,!0))}),Dp=Qn(function(u){var y=no(u);return Ri(y)&&(y=r),Ro(Ci(u,1,Ri,!0),qn(y,2))}),Up=Qn(function(u){var y=no(u);return y=typeof y=="function"?y:r,Ro(Ci(u,1,Ri,!0),r,y)});function Fp(u){return u&&u.length?Ro(u):[]}function Kp(u,y){return u&&u.length?Ro(u,qn(y,2)):[]}function jp(u,y){return y=typeof y=="function"?y:r,u&&u.length?Ro(u,r,y):[]}function Oc(u){if(!(u&&u.length))return[];var y=0;return u=Eo(u,function(Sr){if(Ri(Sr))return y=Bi(Sr.length,y),!0}),Ha(y,function(Sr){return fi(u,Fa(Sr))})}function Bl(u,y){if(!(u&&u.length))return[];var Sr=Oc(u);return y==null?Sr:fi(Sr,function(Br){return Vi(y,r,Br)})}var Hp=Qn(function(u,y){return Ri(u)?Ts(u,y):[]}),zp=Qn(function(u){return lc(Eo(u,Ri))}),Vp=Qn(function(u){var y=no(u);return Ri(y)&&(y=r),lc(Eo(u,Ri),qn(y,2))}),qp=Qn(function(u){var y=no(u);return y=typeof y=="function"?y:r,lc(Eo(u,Ri),r,y)}),Wp=Qn(Oc);function Gp(u,y){return Zu(u||[],y||[],Os)}function Yp(u,y){return Zu(u||[],y||[],ks)}var Zp=Qn(function(u){var y=u.length,Sr=y>1?u[y-1]:r;return Sr=typeof Sr=="function"?(u.pop(),Sr):r,Bl(u,Sr)});function Pl(u){var y=Xr(u);return y.__chain__=!0,y}function Jp(u,y){return y(u),u}function Sa(u,y){return y(u)}var Xp=mo(function(u){var y=u.length,Sr=y?u[0]:0,Br=this.__wrapped__,zr=function(Qr){return Ja(Qr,u)};return y>1||this.__actions__.length||!(Br instanceof ti)||!_o(Sr)?this.thru(zr):(Br=Br.slice(Sr,+Sr+(y?1:0)),Br.__actions__.push({func:Sa,args:[zr],thisArg:r}),new eo(Br,this.__chain__).thru(function(Qr){return y&&!Qr.length&&Qr.push(r),Qr}))});function Qp(){return Pl(this)}function ey(){return new eo(this.value(),this.__chain__)}function ty(){this.__values__===r&&(this.__values__=Wl(this.value()));var u=this.__index__>=this.__values__.length,y=u?r:this.__values__[this.__index__++];return{done:u,value:y}}function ry(){return this}function ny(u){for(var y,Sr=this;Sr instanceof sa;){var Br=Ol(Sr);Br.__index__=0,Br.__values__=r,y?zr.__wrapped__=Br:y=Br;var zr=Br;Sr=Sr.__wrapped__}return zr.__wrapped__=u,y}function iy(){var u=this.__wrapped__;if(u instanceof ti){var y=u;return this.__actions__.length&&(y=new ti(this)),y=y.reverse(),y.__actions__.push({func:Sa,args:[Ic],thisArg:r}),new eo(y,this.__chain__)}return this.thru(Ic)}function oy(){return Yu(this.__wrapped__,this.__actions__)}var sy=ha(function(u,y,Sr){oi.call(u,Sr)?++u[Sr]:yo(u,Sr,1)});function ay(u,y,Sr){var Br=Zn(u)?cu:Jd;return Sr&&Ui(u,y,Sr)&&(y=r),Br(u,qn(y,3))}function cy(u,y){var Sr=Zn(u)?Eo:Bu;return Sr(u,qn(y,3))}var uy=sl(Tl),ly=sl(xl);function fy(u,y){return Ci(Aa(u,y),1)}function dy(u,y){return Ci(Aa(u,y),Ur)}function hy(u,y,Sr){return Sr=Sr===r?1:Jn(Sr),Ci(Aa(u,y),Sr)}function Ml(u,y){var Sr=Zn(u)?Xi:xo;return Sr(u,qn(y,3))}function Cl(u,y){var Sr=Zn(u)?Bf:$u;return Sr(u,qn(y,3))}var py=ha(function(u,y,Sr){oi.call(u,Sr)?u[Sr].push(y):yo(u,Sr,[y])});function yy(u,y,Sr,Br){u=ji(u)?u:ss(u),Sr=Sr&&!Br?Jn(Sr):0;var zr=u.length;return Sr<0&&(Sr=Bi(zr+Sr,0)),xa(u)?Sr<=zr&&u.indexOf(y,Sr)>-1:!!zr&&Wo(u,y,Sr)>-1}var gy=Qn(function(u,y,Sr){var Br=-1,zr=typeof y=="function",Qr=ji(u)?Mn(u.length):[];return xo(u,function(hn){Qr[++Br]=zr?Vi(y,hn,Sr):xs(hn,y,Sr)}),Qr}),my=ha(function(u,y,Sr){yo(u,Sr,y)});function Aa(u,y){var Sr=Zn(u)?fi:Du;return Sr(u,qn(y,3))}function _y(u,y,Sr,Br){return u==null?[]:(Zn(y)||(y=y==null?[]:[y]),Sr=Br?r:Sr,Zn(Sr)||(Sr=Sr==null?[]:[Sr]),ju(u,y,Sr))}var by=ha(function(u,y,Sr){u[Sr?0:1].push(y)},function(){return[[],[]]});function wy(u,y,Sr){var Br=Zn(u)?Da:du,zr=arguments.length<3;return Br(u,qn(y,4),Sr,zr,xo)}function vy(u,y,Sr){var Br=Zn(u)?Pf:du,zr=arguments.length<3;return Br(u,qn(y,4),Sr,zr,$u)}function Sy(u,y){var Sr=Zn(u)?Eo:Bu;return Sr(u,Oa(qn(y,3)))}function Ay(u){var y=Zn(u)?Tu:yh;return y(u)}function Ey(u,y,Sr){(Sr?Ui(u,y,Sr):y===r)?y=1:y=Jn(y);var Br=Zn(u)?qd:gh;return Br(u,y)}function Iy(u){var y=Zn(u)?Wd:_h;return y(u)}function Oy(u){if(u==null)return 0;if(ji(u))return xa(u)?Yo(u):u.length;var y=Ni(u);return y==on||y==Rn?u.size:nc(u).length}function Ty(u,y,Sr){var Br=Zn(u)?Ua:bh;return Sr&&Ui(u,y,Sr)&&(y=r),Br(u,qn(y,3))}var xy=Qn(function(u,y){if(u==null)return[];var Sr=y.length;return Sr>1&&Ui(u,y[0],y[1])?y=[]:Sr>2&&Ui(y[0],y[1],y[2])&&(y=[y[0]]),ju(u,Ci(y,1),[])}),Ea=cd||function(){return Mi.Date.now()};function Ry(u,y){if(typeof y!="function")throw new Qi(a);return u=Jn(u),function(){if(--u<1)return y.apply(this,arguments)}}function Ll(u,y,Sr){return y=Sr?r:y,y=u&&y==null?u.length:y,go(u,Vr,r,r,r,r,y)}function Nl(u,y){var Sr;if(typeof y!="function")throw new Qi(a);return u=Jn(u),function(){return--u>0&&(Sr=y.apply(this,arguments)),u<=1&&(y=r),Sr}}var Tc=Qn(function(u,y,Sr){var Br=xr;if(Sr.length){var zr=Oo(Sr,ns(Tc));Br|=Gr}return go(u,Br,y,Sr,zr)}),Dl=Qn(function(u,y,Sr){var Br=xr|Cr;if(Sr.length){var zr=Oo(Sr,ns(Dl));Br|=Gr}return go(y,Br,u,Sr,zr)});function Ul(u,y,Sr){y=Sr?r:y;var Br=go(u,Fr,r,r,r,r,r,y);return Br.placeholder=Ul.placeholder,Br}function Fl(u,y,Sr){y=Sr?r:y;var Br=go(u,qr,r,r,r,r,r,y);return Br.placeholder=Fl.placeholder,Br}function Kl(u,y,Sr){var Br,zr,Qr,hn,_n,An,Nn=0,Dn=!1,Kn=!1,Hn=!0;if(typeof u!="function")throw new Qi(a);y=io(y)||0,gi(Sr)&&(Dn=!!Sr.leading,Kn="maxWait"in Sr,Qr=Kn?Bi(io(Sr.maxWait)||0,y):Qr,Hn="trailing"in Sr?!!Sr.trailing:Hn);function Vn(ki){var co=Br,vo=zr;return Br=zr=r,Nn=ki,hn=u.apply(vo,co),hn}function Wn(ki){return Nn=ki,_n=Ps(ei,y),Dn?Vn(ki):hn}function Xn(ki){var co=ki-An,vo=ki-Nn,af=y-co;return Kn?Li(af,Qr-vo):af}function Gn(ki){var co=ki-An,vo=ki-Nn;return An===r||co>=y||co<0||Kn&&vo>=Qr}function ei(){var ki=Ea();if(Gn(ki))return ri(ki);_n=Ps(ei,Xn(ki))}function ri(ki){return _n=r,Hn&&Br?Vn(ki):(Br=zr=r,hn)}function Yi(){_n!==r&&Ju(_n),Nn=0,Br=An=zr=_n=r}function Fi(){return _n===r?hn:ri(Ea())}function Zi(){var ki=Ea(),co=Gn(ki);if(Br=arguments,zr=this,An=ki,co){if(_n===r)return Wn(An);if(Kn)return Ju(_n),_n=Ps(ei,y),Vn(An)}return _n===r&&(_n=Ps(ei,y)),hn}return Zi.cancel=Yi,Zi.flush=Fi,Zi}var ky=Qn(function(u,y){return ku(u,1,y)}),$y=Qn(function(u,y,Sr){return ku(u,io(y)||0,Sr)});function By(u){return go(u,ln)}function Ia(u,y){if(typeof u!="function"||y!=null&&typeof y!="function")throw new Qi(a);var Sr=function(){var Br=arguments,zr=y?y.apply(this,Br):Br[0],Qr=Sr.cache;if(Qr.has(zr))return Qr.get(zr);var hn=u.apply(this,Br);return Sr.cache=Qr.set(zr,hn)||Qr,hn};return Sr.cache=new(Ia.Cache||po),Sr}Ia.Cache=po;function Oa(u){if(typeof u!="function")throw new Qi(a);return function(){var y=arguments;switch(y.length){case 0:return!u.call(this);case 1:return!u.call(this,y[0]);case 2:return!u.call(this,y[0],y[1]);case 3:return!u.call(this,y[0],y[1],y[2])}return!u.apply(this,y)}}function Py(u){return Nl(2,u)}var My=wh(function(u,y){y=y.length==1&&Zn(y[0])?fi(y[0],qi(qn())):fi(Ci(y,1),qi(qn()));var Sr=y.length;return Qn(function(Br){for(var zr=-1,Qr=Li(Br.length,Sr);++zr<Qr;)Br[zr]=y[zr].call(this,Br[zr]);return Vi(u,this,Br)})}),xc=Qn(function(u,y){var Sr=Oo(y,ns(xc));return go(u,Gr,r,y,Sr)}),jl=Qn(function(u,y){var Sr=Oo(y,ns(jl));return go(u,jr,r,y,Sr)}),Cy=mo(function(u,y){return go(u,Jr,r,r,r,y)});function Ly(u,y){if(typeof u!="function")throw new Qi(a);return y=y===r?y:Jn(y),Qn(u,y)}function Ny(u,y){if(typeof u!="function")throw new Qi(a);return y=y==null?0:Bi(Jn(y),0),Qn(function(Sr){var Br=Sr[y],zr=$o(Sr,0,y);return Br&&Io(zr,Br),Vi(u,this,zr)})}function Dy(u,y,Sr){var Br=!0,zr=!0;if(typeof u!="function")throw new Qi(a);return gi(Sr)&&(Br="leading"in Sr?!!Sr.leading:Br,zr="trailing"in Sr?!!Sr.trailing:zr),Kl(u,y,{leading:Br,maxWait:y,trailing:zr})}function Uy(u){return Ll(u,1)}function Fy(u,y){return xc(dc(y),u)}function Ky(){if(!arguments.length)return[];var u=arguments[0];return Zn(u)?u:[u]}function jy(u){return to(u,Ir)}function Hy(u,y){return y=typeof y=="function"?y:r,to(u,Ir,y)}function zy(u){return to(u,wr|Ir)}function Vy(u,y){return y=typeof y=="function"?y:r,to(u,wr|Ir,y)}function qy(u,y){return y==null||Ru(u,y,Pi(y))}function ao(u,y){return u===y||u!==u&&y!==y}var Wy=ma(ec),Gy=ma(function(u,y){return u>=y}),Ko=Cu(function(){return arguments}())?Cu:function(u){return xi(u)&&oi.call(u,"callee")&&!vu.call(u,"callee")},Zn=Mn.isArray,Yy=ru?qi(ru):nh;function ji(u){return u!=null&&Ta(u.length)&&!bo(u)}function Ri(u){return xi(u)&&ji(u)}function Zy(u){return u===!0||u===!1||xi(u)&&Di(u)==un}var Bo=ld||Uc,Jy=nu?qi(nu):ih;function Xy(u){return xi(u)&&u.nodeType===1&&!Ms(u)}function Qy(u){if(u==null)return!0;if(ji(u)&&(Zn(u)||typeof u=="string"||typeof u.splice=="function"||Bo(u)||os(u)||Ko(u)))return!u.length;var y=Ni(u);if(y==on||y==Rn)return!u.size;if(Bs(u))return!nc(u).length;for(var Sr in u)if(oi.call(u,Sr))return!1;return!0}function eg(u,y){return Rs(u,y)}function tg(u,y,Sr){Sr=typeof Sr=="function"?Sr:r;var Br=Sr?Sr(u,y):r;return Br===r?Rs(u,y,r,Sr):!!Br}function Rc(u){if(!xi(u))return!1;var y=Di(u);return y==Tn||y==On||typeof u.message=="string"&&typeof u.name=="string"&&!Ms(u)}function rg(u){return typeof u=="number"&&Au(u)}function bo(u){if(!gi(u))return!1;var y=Di(u);return y==In||y==en||y==an||y==mn}function Hl(u){return typeof u=="number"&&u==Jn(u)}function Ta(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Hr}function gi(u){var y=typeof u;return u!=null&&(y=="object"||y=="function")}function xi(u){return u!=null&&typeof u=="object"}var zl=iu?qi(iu):sh;function ng(u,y){return u===y||rc(u,y,bc(y))}function ig(u,y,Sr){return Sr=typeof Sr=="function"?Sr:r,rc(u,y,bc(y),Sr)}function og(u){return Vl(u)&&u!=+u}function sg(u){if(Hh(u))throw new Yn(s);return Lu(u)}function ag(u){return u===null}function cg(u){return u==null}function Vl(u){return typeof u=="number"||xi(u)&&Di(u)==gn}function Ms(u){if(!xi(u)||Di(u)!=wn)return!1;var y=Qs(u);if(y===null)return!0;var Sr=oi.call(y,"constructor")&&y.constructor;return typeof Sr=="function"&&Sr instanceof Sr&&Ys.call(Sr)==id}var kc=ou?qi(ou):ah;function ug(u){return Hl(u)&&u>=-Hr&&u<=Hr}var ql=su?qi(su):ch;function xa(u){return typeof u=="string"||!Zn(u)&&xi(u)&&Di(u)==rn}function Gi(u){return typeof u=="symbol"||xi(u)&&Di(u)==fn}var os=au?qi(au):uh;function lg(u){return u===r}function fg(u){return xi(u)&&Ni(u)==En}function dg(u){return xi(u)&&Di(u)==Bn}var hg=ma(ic),pg=ma(function(u,y){return u<=y});function Wl(u){if(!u)return[];if(ji(u))return xa(u)?oo(u):Ki(u);if(vs&&u[vs])return qf(u[vs]());var y=Ni(u),Sr=y==on?Va:y==Rn?qs:ss;return Sr(u)}function wo(u){if(!u)return u===0?u:0;if(u=io(u),u===Ur||u===-Ur){var y=u<0?-1:1;return y*nn}return u===u?u:0}function Jn(u){var y=wo(u),Sr=y%1;return y===y?Sr?y-Sr:y:0}function Gl(u){return u?No(Jn(u),0,Nr):0}function io(u){if(typeof u=="number")return u;if(Gi(u))return pn;if(gi(u)){var y=typeof u.valueOf=="function"?u.valueOf():u;u=gi(y)?y+"":y}if(typeof u!="string")return u===0?u:+u;u=hu(u);var Sr=as.test(u);return Sr||us.test(u)?Rf(u.slice(2),Sr?2:8):Ti.test(u)?pn:+u}function Yl(u){return lo(u,Hi(u))}function yg(u){return u?No(Jn(u),-Hr,Hr):u===0?u:0}function ii(u){return u==null?"":Wi(u)}var gg=ts(function(u,y){if(Bs(y)||ji(y)){lo(y,Pi(y),u);return}for(var Sr in y)oi.call(y,Sr)&&Os(u,Sr,y[Sr])}),Zl=ts(function(u,y){lo(y,Hi(y),u)}),Ra=ts(function(u,y,Sr,Br){lo(y,Hi(y),u,Br)}),mg=ts(function(u,y,Sr,Br){lo(y,Pi(y),u,Br)}),_g=mo(Ja);function bg(u,y){var Sr=es(u);return y==null?Sr:xu(Sr,y)}var wg=Qn(function(u,y){u=si(u);var Sr=-1,Br=y.length,zr=Br>2?y[2]:r;for(zr&&Ui(y[0],y[1],zr)&&(Br=1);++Sr<Br;)for(var Qr=y[Sr],hn=Hi(Qr),_n=-1,An=hn.length;++_n<An;){var Nn=hn[_n],Dn=u[Nn];(Dn===r||ao(Dn,Jo[Nn])&&!oi.call(u,Nn))&&(u[Nn]=Qr[Nn])}return u}),vg=Qn(function(u){return u.push(r,hl),Vi(Jl,r,u)});function Sg(u,y){return uu(u,qn(y,3),uo)}function Ag(u,y){return uu(u,qn(y,3),Qa)}function Eg(u,y){return u==null?u:Xa(u,qn(y,3),Hi)}function Ig(u,y){return u==null?u:Pu(u,qn(y,3),Hi)}function Og(u,y){return u&&uo(u,qn(y,3))}function Tg(u,y){return u&&Qa(u,qn(y,3))}function xg(u){return u==null?[]:ua(u,Pi(u))}function Rg(u){return u==null?[]:ua(u,Hi(u))}function $c(u,y,Sr){var Br=u==null?r:Do(u,y);return Br===r?Sr:Br}function kg(u,y){return u!=null&&gl(u,y,Qd)}function Bc(u,y){return u!=null&&gl(u,y,eh)}var $g=cl(function(u,y,Sr){y!=null&&typeof y.toString!="function"&&(y=Zs.call(y)),u[y]=Sr},Mc(zi)),Bg=cl(function(u,y,Sr){y!=null&&typeof y.toString!="function"&&(y=Zs.call(y)),oi.call(u,y)?u[y].push(Sr):u[y]=[Sr]},qn),Pg=Qn(xs);function Pi(u){return ji(u)?Ou(u):nc(u)}function Hi(u){return ji(u)?Ou(u,!0):lh(u)}function Mg(u,y){var Sr={};return y=qn(y,3),uo(u,function(Br,zr,Qr){yo(Sr,y(Br,zr,Qr),Br)}),Sr}function Cg(u,y){var Sr={};return y=qn(y,3),uo(u,function(Br,zr,Qr){yo(Sr,zr,y(Br,zr,Qr))}),Sr}var Lg=ts(function(u,y,Sr){la(u,y,Sr)}),Jl=ts(function(u,y,Sr,Br){la(u,y,Sr,Br)}),Ng=mo(function(u,y){var Sr={};if(u==null)return Sr;var Br=!1;y=fi(y,function(Qr){return Qr=ko(Qr,u),Br||(Br=Qr.length>1),Qr}),lo(u,mc(u),Sr),Br&&(Sr=to(Sr,wr|Or|Ir,$h));for(var zr=y.length;zr--;)uc(Sr,y[zr]);return Sr});function Dg(u,y){return Xl(u,Oa(qn(y)))}var Ug=mo(function(u,y){return u==null?{}:dh(u,y)});function Xl(u,y){if(u==null)return{};var Sr=fi(mc(u),function(Br){return[Br]});return y=qn(y),Hu(u,Sr,function(Br,zr){return y(Br,zr[0])})}function Fg(u,y,Sr){y=ko(y,u);var Br=-1,zr=y.length;for(zr||(zr=1,u=r);++Br<zr;){var Qr=u==null?r:u[fo(y[Br])];Qr===r&&(Br=zr,Qr=Sr),u=bo(Qr)?Qr.call(u):Qr}return u}function Kg(u,y,Sr){return u==null?u:ks(u,y,Sr)}function jg(u,y,Sr,Br){return Br=typeof Br=="function"?Br:r,u==null?u:ks(u,y,Sr,Br)}var Ql=fl(Pi),ef=fl(Hi);function Hg(u,y,Sr){var Br=Zn(u),zr=Br||Bo(u)||os(u);if(y=qn(y,4),Sr==null){var Qr=u&&u.constructor;zr?Sr=Br?new Qr:[]:gi(u)?Sr=bo(Qr)?es(Qs(u)):{}:Sr={}}return(zr?Xi:uo)(u,function(hn,_n,An){return y(Sr,hn,_n,An)}),Sr}function zg(u,y){return u==null?!0:uc(u,y)}function Vg(u,y,Sr){return u==null?u:Gu(u,y,dc(Sr))}function qg(u,y,Sr,Br){return Br=typeof Br=="function"?Br:r,u==null?u:Gu(u,y,dc(Sr),Br)}function ss(u){return u==null?[]:za(u,Pi(u))}function Wg(u){return u==null?[]:za(u,Hi(u))}function Gg(u,y,Sr){return Sr===r&&(Sr=y,y=r),Sr!==r&&(Sr=io(Sr),Sr=Sr===Sr?Sr:0),y!==r&&(y=io(y),y=y===y?y:0),No(io(u),y,Sr)}function Yg(u,y,Sr){return y=wo(y),Sr===r?(Sr=y,y=0):Sr=wo(Sr),u=io(u),th(u,y,Sr)}function Zg(u,y,Sr){if(Sr&&typeof Sr!="boolean"&&Ui(u,y,Sr)&&(y=Sr=r),Sr===r&&(typeof y=="boolean"?(Sr=y,y=r):typeof u=="boolean"&&(Sr=u,u=r)),u===r&&y===r?(u=0,y=1):(u=wo(u),y===r?(y=u,u=0):y=wo(y)),u>y){var Br=u;u=y,y=Br}if(Sr||u%1||y%1){var zr=Eu();return Li(u+zr*(y-u+xf("1e-"+((zr+"").length-1))),y)}return sc(u,y)}var Jg=rs(function(u,y,Sr){return y=y.toLowerCase(),u+(Sr?tf(y):y)});function tf(u){return Pc(ii(u).toLowerCase())}function rf(u){return u=ii(u),u&&u.replace(fs,Kf).replace(_f,"")}function Xg(u,y,Sr){u=ii(u),y=Wi(y);var Br=u.length;Sr=Sr===r?Br:No(Jn(Sr),0,Br);var zr=Sr;return Sr-=y.length,Sr>=0&&u.slice(Sr,zr)==y}function Qg(u){return u=ii(u),u&&_i.test(u)?u.replace(hi,jf):u}function em(u){return u=ii(u),u&&Us.test(u)?u.replace(ui,"\\$&"):u}var tm=rs(function(u,y,Sr){return u+(Sr?"-":"")+y.toLowerCase()}),rm=rs(function(u,y,Sr){return u+(Sr?" ":"")+y.toLowerCase()}),nm=ol("toLowerCase");function im(u,y,Sr){u=ii(u),y=Jn(y);var Br=y?Yo(u):0;if(!y||Br>=y)return u;var zr=(y-Br)/2;return ga(na(zr),Sr)+u+ga(ra(zr),Sr)}function om(u,y,Sr){u=ii(u),y=Jn(y);var Br=y?Yo(u):0;return y&&Br<y?u+ga(y-Br,Sr):u}function sm(u,y,Sr){u=ii(u),y=Jn(y);var Br=y?Yo(u):0;return y&&Br<y?ga(y-Br,Sr)+u:u}function am(u,y,Sr){return Sr||y==null?y=0:y&&(y=+y),pd(ii(u).replace(li,""),y||0)}function cm(u,y,Sr){return(Sr?Ui(u,y,Sr):y===r)?y=1:y=Jn(y),ac(ii(u),y)}function um(){var u=arguments,y=ii(u[0]);return u.length<3?y:y.replace(u[1],u[2])}var lm=rs(function(u,y,Sr){return u+(Sr?"_":"")+y.toLowerCase()});function fm(u,y,Sr){return Sr&&typeof Sr!="number"&&Ui(u,y,Sr)&&(y=Sr=r),Sr=Sr===r?Nr:Sr>>>0,Sr?(u=ii(u),u&&(typeof y=="string"||y!=null&&!kc(y))&&(y=Wi(y),!y&&Go(u))?$o(oo(u),0,Sr):u.split(y,Sr)):[]}var dm=rs(function(u,y,Sr){return u+(Sr?" ":"")+Pc(y)});function hm(u,y,Sr){return u=ii(u),Sr=Sr==null?0:No(Jn(Sr),0,u.length),y=Wi(y),u.slice(Sr,Sr+y.length)==y}function pm(u,y,Sr){var Br=Xr.templateSettings;Sr&&Ui(u,y,Sr)&&(y=r),u=ii(u),y=Ra({},y,Br,dl);var zr=Ra({},y.imports,Br.imports,dl),Qr=Pi(zr),hn=za(zr,Qr),_n,An,Nn=0,Dn=y.interpolate||So,Kn="__p += '",Hn=qa((y.escape||So).source+"|"+Dn.source+"|"+(Dn===pi?js:So).source+"|"+(y.evaluate||So).source+"|$","g"),Vn="//# sourceURL="+(oi.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Af+"]")+`
`;u.replace(Hn,function(Gn,ei,ri,Yi,Fi,Zi){return ri||(ri=Yi),Kn+=u.slice(Nn,Zi).replace(ds,Hf),ei&&(_n=!0,Kn+=`' +
__e(`+ei+`) +
'`),Fi&&(An=!0,Kn+=`';
`+Fi+`;
__p += '`),ri&&(Kn+=`' +
((__t = (`+ri+`)) == null ? '' : __t) +
'`),Nn=Zi+Gn.length,Gn}),Kn+=`';
`;var Wn=oi.call(y,"variable")&&y.variable;if(!Wn)Kn=`with (obj) {
`+Kn+`
}
`;else if(Ii.test(Wn))throw new Yn(c);Kn=(An?Kn.replace(Un,""):Kn).replace(mi,"$1").replace(Cs,"$1;"),Kn="function("+(Wn||"obj")+`) {
`+(Wn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_n?", __e = _.escape":"")+(An?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Kn+`return __p
}`;var Xn=of(function(){return ni(Qr,Vn+"return "+Kn).apply(r,hn)});if(Xn.source=Kn,Rc(Xn))throw Xn;return Xn}function ym(u){return ii(u).toLowerCase()}function gm(u){return ii(u).toUpperCase()}function mm(u,y,Sr){if(u=ii(u),u&&(Sr||y===r))return hu(u);if(!u||!(y=Wi(y)))return u;var Br=oo(u),zr=oo(y),Qr=pu(Br,zr),hn=yu(Br,zr)+1;return $o(Br,Qr,hn).join("")}function _m(u,y,Sr){if(u=ii(u),u&&(Sr||y===r))return u.slice(0,mu(u)+1);if(!u||!(y=Wi(y)))return u;var Br=oo(u),zr=yu(Br,oo(y))+1;return $o(Br,0,zr).join("")}function bm(u,y,Sr){if(u=ii(u),u&&(Sr||y===r))return u.replace(li,"");if(!u||!(y=Wi(y)))return u;var Br=oo(u),zr=pu(Br,oo(y));return $o(Br,zr).join("")}function wm(u,y){var Sr=tn,Br=sn;if(gi(y)){var zr="separator"in y?y.separator:zr;Sr="length"in y?Jn(y.length):Sr,Br="omission"in y?Wi(y.omission):Br}u=ii(u);var Qr=u.length;if(Go(u)){var hn=oo(u);Qr=hn.length}if(Sr>=Qr)return u;var _n=Sr-Yo(Br);if(_n<1)return Br;var An=hn?$o(hn,0,_n).join(""):u.slice(0,_n);if(zr===r)return An+Br;if(hn&&(_n+=An.length-_n),kc(zr)){if(u.slice(_n).search(zr)){var Nn,Dn=An;for(zr.global||(zr=qa(zr.source,ii(yi.exec(zr))+"g")),zr.lastIndex=0;Nn=zr.exec(Dn);)var Kn=Nn.index;An=An.slice(0,Kn===r?_n:Kn)}}else if(u.indexOf(Wi(zr),_n)!=_n){var Hn=An.lastIndexOf(zr);Hn>-1&&(An=An.slice(0,Hn))}return An+Br}function vm(u){return u=ii(u),u&&Ls.test(u)?u.replace(di,Zf):u}var Sm=rs(function(u,y,Sr){return u+(Sr?" ":"")+y.toUpperCase()}),Pc=ol("toUpperCase");function nf(u,y,Sr){return u=ii(u),y=Sr?r:y,y===r?Vf(u)?Qf(u):Lf(u):u.match(y)||[]}var of=Qn(function(u,y){try{return Vi(u,r,y)}catch(Sr){return Rc(Sr)?Sr:new Yn(Sr)}}),Am=mo(function(u,y){return Xi(y,function(Sr){Sr=fo(Sr),yo(u,Sr,Tc(u[Sr],u))}),u});function Em(u){var y=u==null?0:u.length,Sr=qn();return u=y?fi(u,function(Br){if(typeof Br[1]!="function")throw new Qi(a);return[Sr(Br[0]),Br[1]]}):[],Qn(function(Br){for(var zr=-1;++zr<y;){var Qr=u[zr];if(Vi(Qr[0],this,Br))return Vi(Qr[1],this,Br)}})}function Im(u){return Zd(to(u,wr))}function Mc(u){return function(){return u}}function Om(u,y){return u==null||u!==u?y:u}var Tm=al(),xm=al(!0);function zi(u){return u}function Cc(u){return Nu(typeof u=="function"?u:to(u,wr))}function Rm(u){return Uu(to(u,wr))}function km(u,y){return Fu(u,to(y,wr))}var $m=Qn(function(u,y){return function(Sr){return xs(Sr,u,y)}}),Bm=Qn(function(u,y){return function(Sr){return xs(u,Sr,y)}});function Lc(u,y,Sr){var Br=Pi(y),zr=ua(y,Br);Sr==null&&!(gi(y)&&(zr.length||!Br.length))&&(Sr=y,y=u,u=this,zr=ua(y,Pi(y)));var Qr=!(gi(Sr)&&"chain"in Sr)||!!Sr.chain,hn=bo(u);return Xi(zr,function(_n){var An=y[_n];u[_n]=An,hn&&(u.prototype[_n]=function(){var Nn=this.__chain__;if(Qr||Nn){var Dn=u(this.__wrapped__),Kn=Dn.__actions__=Ki(this.__actions__);return Kn.push({func:An,args:arguments,thisArg:u}),Dn.__chain__=Nn,Dn}return An.apply(u,Io([this.value()],arguments))})}),u}function Pm(){return Mi._===this&&(Mi._=od),this}function Nc(){}function Mm(u){return u=Jn(u),Qn(function(y){return Ku(y,u)})}var Cm=pc(fi),Lm=pc(cu),Nm=pc(Ua);function sf(u){return vc(u)?Fa(fo(u)):hh(u)}function Dm(u){return function(y){return u==null?r:Do(u,y)}}var Um=ul(),Fm=ul(!0);function Dc(){return[]}function Uc(){return!1}function Km(){return{}}function jm(){return""}function Hm(){return!0}function zm(u,y){if(u=Jn(u),u<1||u>Hr)return[];var Sr=Nr,Br=Li(u,Nr);y=qn(y),u-=Nr;for(var zr=Ha(Br,y);++Sr<u;)y(Sr);return zr}function Vm(u){return Zn(u)?fi(u,fo):Gi(u)?[u]:Ki(Il(ii(u)))}function qm(u){var y=++nd;return ii(u)+y}var Wm=ya(function(u,y){return u+y},0),Gm=yc("ceil"),Ym=ya(function(u,y){return u/y},1),Zm=yc("floor");function Jm(u){return u&&u.length?ca(u,zi,ec):r}function Xm(u,y){return u&&u.length?ca(u,qn(y,2),ec):r}function Qm(u){return fu(u,zi)}function e0(u,y){return fu(u,qn(y,2))}function t0(u){return u&&u.length?ca(u,zi,ic):r}function r0(u,y){return u&&u.length?ca(u,qn(y,2),ic):r}var n0=ya(function(u,y){return u*y},1),i0=yc("round"),o0=ya(function(u,y){return u-y},0);function s0(u){return u&&u.length?ja(u,zi):0}function a0(u,y){return u&&u.length?ja(u,qn(y,2)):0}return Xr.after=Ry,Xr.ary=Ll,Xr.assign=gg,Xr.assignIn=Zl,Xr.assignInWith=Ra,Xr.assignWith=mg,Xr.at=_g,Xr.before=Nl,Xr.bind=Tc,Xr.bindAll=Am,Xr.bindKey=Dl,Xr.castArray=Ky,Xr.chain=Pl,Xr.chunk=Zh,Xr.compact=Jh,Xr.concat=Xh,Xr.cond=Em,Xr.conforms=Im,Xr.constant=Mc,Xr.countBy=sy,Xr.create=bg,Xr.curry=Ul,Xr.curryRight=Fl,Xr.debounce=Kl,Xr.defaults=wg,Xr.defaultsDeep=vg,Xr.defer=ky,Xr.delay=$y,Xr.difference=Qh,Xr.differenceBy=ep,Xr.differenceWith=tp,Xr.drop=rp,Xr.dropRight=np,Xr.dropRightWhile=ip,Xr.dropWhile=op,Xr.fill=sp,Xr.filter=cy,Xr.flatMap=fy,Xr.flatMapDeep=dy,Xr.flatMapDepth=hy,Xr.flatten=Rl,Xr.flattenDeep=ap,Xr.flattenDepth=cp,Xr.flip=By,Xr.flow=Tm,Xr.flowRight=xm,Xr.fromPairs=up,Xr.functions=xg,Xr.functionsIn=Rg,Xr.groupBy=py,Xr.initial=fp,Xr.intersection=dp,Xr.intersectionBy=hp,Xr.intersectionWith=pp,Xr.invert=$g,Xr.invertBy=Bg,Xr.invokeMap=gy,Xr.iteratee=Cc,Xr.keyBy=my,Xr.keys=Pi,Xr.keysIn=Hi,Xr.map=Aa,Xr.mapKeys=Mg,Xr.mapValues=Cg,Xr.matches=Rm,Xr.matchesProperty=km,Xr.memoize=Ia,Xr.merge=Lg,Xr.mergeWith=Jl,Xr.method=$m,Xr.methodOf=Bm,Xr.mixin=Lc,Xr.negate=Oa,Xr.nthArg=Mm,Xr.omit=Ng,Xr.omitBy=Dg,Xr.once=Py,Xr.orderBy=_y,Xr.over=Cm,Xr.overArgs=My,Xr.overEvery=Lm,Xr.overSome=Nm,Xr.partial=xc,Xr.partialRight=jl,Xr.partition=by,Xr.pick=Ug,Xr.pickBy=Xl,Xr.property=sf,Xr.propertyOf=Dm,Xr.pull=_p,Xr.pullAll=$l,Xr.pullAllBy=bp,Xr.pullAllWith=wp,Xr.pullAt=vp,Xr.range=Um,Xr.rangeRight=Fm,Xr.rearg=Cy,Xr.reject=Sy,Xr.remove=Sp,Xr.rest=Ly,Xr.reverse=Ic,Xr.sampleSize=Ey,Xr.set=Kg,Xr.setWith=jg,Xr.shuffle=Iy,Xr.slice=Ap,Xr.sortBy=xy,Xr.sortedUniq=kp,Xr.sortedUniqBy=$p,Xr.split=fm,Xr.spread=Ny,Xr.tail=Bp,Xr.take=Pp,Xr.takeRight=Mp,Xr.takeRightWhile=Cp,Xr.takeWhile=Lp,Xr.tap=Jp,Xr.throttle=Dy,Xr.thru=Sa,Xr.toArray=Wl,Xr.toPairs=Ql,Xr.toPairsIn=ef,Xr.toPath=Vm,Xr.toPlainObject=Yl,Xr.transform=Hg,Xr.unary=Uy,Xr.union=Np,Xr.unionBy=Dp,Xr.unionWith=Up,Xr.uniq=Fp,Xr.uniqBy=Kp,Xr.uniqWith=jp,Xr.unset=zg,Xr.unzip=Oc,Xr.unzipWith=Bl,Xr.update=Vg,Xr.updateWith=qg,Xr.values=ss,Xr.valuesIn=Wg,Xr.without=Hp,Xr.words=nf,Xr.wrap=Fy,Xr.xor=zp,Xr.xorBy=Vp,Xr.xorWith=qp,Xr.zip=Wp,Xr.zipObject=Gp,Xr.zipObjectDeep=Yp,Xr.zipWith=Zp,Xr.entries=Ql,Xr.entriesIn=ef,Xr.extend=Zl,Xr.extendWith=Ra,Lc(Xr,Xr),Xr.add=Wm,Xr.attempt=of,Xr.camelCase=Jg,Xr.capitalize=tf,Xr.ceil=Gm,Xr.clamp=Gg,Xr.clone=jy,Xr.cloneDeep=zy,Xr.cloneDeepWith=Vy,Xr.cloneWith=Hy,Xr.conformsTo=qy,Xr.deburr=rf,Xr.defaultTo=Om,Xr.divide=Ym,Xr.endsWith=Xg,Xr.eq=ao,Xr.escape=Qg,Xr.escapeRegExp=em,Xr.every=ay,Xr.find=uy,Xr.findIndex=Tl,Xr.findKey=Sg,Xr.findLast=ly,Xr.findLastIndex=xl,Xr.findLastKey=Ag,Xr.floor=Zm,Xr.forEach=Ml,Xr.forEachRight=Cl,Xr.forIn=Eg,Xr.forInRight=Ig,Xr.forOwn=Og,Xr.forOwnRight=Tg,Xr.get=$c,Xr.gt=Wy,Xr.gte=Gy,Xr.has=kg,Xr.hasIn=Bc,Xr.head=kl,Xr.identity=zi,Xr.includes=yy,Xr.indexOf=lp,Xr.inRange=Yg,Xr.invoke=Pg,Xr.isArguments=Ko,Xr.isArray=Zn,Xr.isArrayBuffer=Yy,Xr.isArrayLike=ji,Xr.isArrayLikeObject=Ri,Xr.isBoolean=Zy,Xr.isBuffer=Bo,Xr.isDate=Jy,Xr.isElement=Xy,Xr.isEmpty=Qy,Xr.isEqual=eg,Xr.isEqualWith=tg,Xr.isError=Rc,Xr.isFinite=rg,Xr.isFunction=bo,Xr.isInteger=Hl,Xr.isLength=Ta,Xr.isMap=zl,Xr.isMatch=ng,Xr.isMatchWith=ig,Xr.isNaN=og,Xr.isNative=sg,Xr.isNil=cg,Xr.isNull=ag,Xr.isNumber=Vl,Xr.isObject=gi,Xr.isObjectLike=xi,Xr.isPlainObject=Ms,Xr.isRegExp=kc,Xr.isSafeInteger=ug,Xr.isSet=ql,Xr.isString=xa,Xr.isSymbol=Gi,Xr.isTypedArray=os,Xr.isUndefined=lg,Xr.isWeakMap=fg,Xr.isWeakSet=dg,Xr.join=yp,Xr.kebabCase=tm,Xr.last=no,Xr.lastIndexOf=gp,Xr.lowerCase=rm,Xr.lowerFirst=nm,Xr.lt=hg,Xr.lte=pg,Xr.max=Jm,Xr.maxBy=Xm,Xr.mean=Qm,Xr.meanBy=e0,Xr.min=t0,Xr.minBy=r0,Xr.stubArray=Dc,Xr.stubFalse=Uc,Xr.stubObject=Km,Xr.stubString=jm,Xr.stubTrue=Hm,Xr.multiply=n0,Xr.nth=mp,Xr.noConflict=Pm,Xr.noop=Nc,Xr.now=Ea,Xr.pad=im,Xr.padEnd=om,Xr.padStart=sm,Xr.parseInt=am,Xr.random=Zg,Xr.reduce=wy,Xr.reduceRight=vy,Xr.repeat=cm,Xr.replace=um,Xr.result=Fg,Xr.round=i0,Xr.runInContext=Sn,Xr.sample=Ay,Xr.size=Oy,Xr.snakeCase=lm,Xr.some=Ty,Xr.sortedIndex=Ep,Xr.sortedIndexBy=Ip,Xr.sortedIndexOf=Op,Xr.sortedLastIndex=Tp,Xr.sortedLastIndexBy=xp,Xr.sortedLastIndexOf=Rp,Xr.startCase=dm,Xr.startsWith=hm,Xr.subtract=o0,Xr.sum=s0,Xr.sumBy=a0,Xr.template=pm,Xr.times=zm,Xr.toFinite=wo,Xr.toInteger=Jn,Xr.toLength=Gl,Xr.toLower=ym,Xr.toNumber=io,Xr.toSafeInteger=yg,Xr.toString=ii,Xr.toUpper=gm,Xr.trim=mm,Xr.trimEnd=_m,Xr.trimStart=bm,Xr.truncate=wm,Xr.unescape=vm,Xr.uniqueId=qm,Xr.upperCase=Sm,Xr.upperFirst=Pc,Xr.each=Ml,Xr.eachRight=Cl,Xr.first=kl,Lc(Xr,function(){var u={};return uo(Xr,function(y,Sr){oi.call(Xr.prototype,Sr)||(u[Sr]=y)}),u}(),{chain:!1}),Xr.VERSION=n,Xi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Xr[u].placeholder=Xr}),Xi(["drop","take"],function(u,y){ti.prototype[u]=function(Sr){Sr=Sr===r?1:Bi(Jn(Sr),0);var Br=this.__filtered__&&!y?new ti(this):this.clone();return Br.__filtered__?Br.__takeCount__=Li(Sr,Br.__takeCount__):Br.__views__.push({size:Li(Sr,Nr),type:u+(Br.__dir__<0?"Right":"")}),Br},ti.prototype[u+"Right"]=function(Sr){return this.reverse()[u](Sr).reverse()}}),Xi(["filter","map","takeWhile"],function(u,y){var Sr=y+1,Br=Sr==vr||Sr==Lr;ti.prototype[u]=function(zr){var Qr=this.clone();return Qr.__iteratees__.push({iteratee:qn(zr,3),type:Sr}),Qr.__filtered__=Qr.__filtered__||Br,Qr}}),Xi(["head","last"],function(u,y){var Sr="take"+(y?"Right":"");ti.prototype[u]=function(){return this[Sr](1).value()[0]}}),Xi(["initial","tail"],function(u,y){var Sr="drop"+(y?"":"Right");ti.prototype[u]=function(){return this.__filtered__?new ti(this):this[Sr](1)}}),ti.prototype.compact=function(){return this.filter(zi)},ti.prototype.find=function(u){return this.filter(u).head()},ti.prototype.findLast=function(u){return this.reverse().find(u)},ti.prototype.invokeMap=Qn(function(u,y){return typeof u=="function"?new ti(this):this.map(function(Sr){return xs(Sr,u,y)})}),ti.prototype.reject=function(u){return this.filter(Oa(qn(u)))},ti.prototype.slice=function(u,y){u=Jn(u);var Sr=this;return Sr.__filtered__&&(u>0||y<0)?new ti(Sr):(u<0?Sr=Sr.takeRight(-u):u&&(Sr=Sr.drop(u)),y!==r&&(y=Jn(y),Sr=y<0?Sr.dropRight(-y):Sr.take(y-u)),Sr)},ti.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},ti.prototype.toArray=function(){return this.take(Nr)},uo(ti.prototype,function(u,y){var Sr=/^(?:filter|find|map|reject)|While$/.test(y),Br=/^(?:head|last)$/.test(y),zr=Xr[Br?"take"+(y=="last"?"Right":""):y],Qr=Br||/^find/.test(y);!zr||(Xr.prototype[y]=function(){var hn=this.__wrapped__,_n=Br?[1]:arguments,An=hn instanceof ti,Nn=_n[0],Dn=An||Zn(hn),Kn=function(ei){var ri=zr.apply(Xr,Io([ei],_n));return Br&&Hn?ri[0]:ri};Dn&&Sr&&typeof Nn=="function"&&Nn.length!=1&&(An=Dn=!1);var Hn=this.__chain__,Vn=!!this.__actions__.length,Wn=Qr&&!Hn,Xn=An&&!Vn;if(!Qr&&Dn){hn=Xn?hn:new ti(this);var Gn=u.apply(hn,_n);return Gn.__actions__.push({func:Sa,args:[Kn],thisArg:r}),new eo(Gn,Hn)}return Wn&&Xn?u.apply(this,_n):(Gn=this.thru(Kn),Wn?Br?Gn.value()[0]:Gn.value():Gn)})}),Xi(["pop","push","shift","sort","splice","unshift"],function(u){var y=Ws[u],Sr=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",Br=/^(?:pop|shift)$/.test(u);Xr.prototype[u]=function(){var zr=arguments;if(Br&&!this.__chain__){var Qr=this.value();return y.apply(Zn(Qr)?Qr:[],zr)}return this[Sr](function(hn){return y.apply(Zn(hn)?hn:[],zr)})}}),uo(ti.prototype,function(u,y){var Sr=Xr[y];if(Sr){var Br=Sr.name+"";oi.call(Qo,Br)||(Qo[Br]=[]),Qo[Br].push({name:y,func:Sr})}}),Qo[pa(r,Cr).name]=[{name:"wrapper",func:r}],ti.prototype.clone=vd,ti.prototype.reverse=Sd,ti.prototype.value=Ad,Xr.prototype.at=Xp,Xr.prototype.chain=Qp,Xr.prototype.commit=ey,Xr.prototype.next=ty,Xr.prototype.plant=ny,Xr.prototype.reverse=iy,Xr.prototype.toJSON=Xr.prototype.valueOf=Xr.prototype.value=oy,Xr.prototype.first=Xr.prototype.head,vs&&(Xr.prototype[vs]=ry),Xr},Zo=ed();Po?((Po.exports=Zo)._=Zo,Ca._=Zo):Mi._=Zo}).call(commonjsGlobal)})(lodash,lodash.exports);var OrderCacheService$1={};Object.defineProperty(OrderCacheService$1,"__esModule",{value:!0});OrderCacheService$1.OrderCacheService=void 0;const lodash_1=lodash.exports,mobx_1=require$$1,Order_1=Order,types_1=types$2;class OrderCacheService{constructor(){this.endTriggered=!1,this.observableData={buyOrdersCache:new Map,sellOrdersCache:new Map},this.orderChanges=(0,mobx_1.observable)([]),this.observableData=(0,mobx_1.makeAutoObservable)(this.observableData),(0,mobx_1.makeObservable)(this,{buyOrdersCache:mobx_1.computed,sellOrdersCache:mobx_1.computed,allOrdersCache:mobx_1.computed})}get buyOrdersCache(){return this.observableData.buyOrdersCache}get sellOrdersCache(){return this.observableData.sellOrdersCache}get allOrdersCache(){const e=new Map;return this.buyOrdersCache.forEach(r=>{r.forEach((n,o)=>{e.set(o,n)})}),this.sellOrdersCache.forEach(r=>{r.forEach((n,o)=>{e.set(o,n)})}),e}get mints(){return(0,lodash_1.union)(Array.from(this.buyOrdersCache.keys()),Array.from(this.sellOrdersCache.keys()))}get orders(){return this.allOrdersCache}get buyOrders(){const e=new Map;return this.buyOrdersCache.forEach(r=>{r.forEach(n=>{e.set(n.id,n)})}),e}get sellOrders(){const e=new Map;return this.sellOrdersCache.forEach(r=>{r.forEach(n=>{e.set(n.id,n)})}),e}clearOrders(){const{allOrdersCache:e}=this;e.forEach(r=>{(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderRemoved,order:r})})}),this.buyOrdersCache.clear(),this.sellOrdersCache.clear()}getAllOrdersCache(){return this.allOrdersCache}getOrderCacheByType(e){return e===Order_1.OrderSide.Buy?this.getBuyOrderCache():this.getSellOrderCache()}getBuyOrderCache(){return new Map(this.buyOrdersCache)}getSellOrderCache(){return new Map(this.sellOrdersCache)}getOrderById(e){return this.allOrdersCache.get(e)}addOrder(e){const r=this.getOrdersForType(e.orderType);r.get(e.orderMint)||r.set(e.orderMint,new Map);const n=r.get(e.orderMint),o=n.get(e.id);return o&&o.slotContext>e.slotContext?o:(n.set(e.id,e),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderAdded,order:e})}),e)}updateOrder(e){const n=this.getOrdersForType(e.orderType).get(e.orderMint),o=n.get(e.id);if(!!o){if(o.orderQtyRemaining!==e.orderQtyRemaining&&e.slotContext>o.slotContext){const s=(0,lodash_1.clone)(o);s.orderQtyRemaining=e.orderQtyRemaining,n.set(e.id,s),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderModified,order:e})})}return e}}cancelOrder(e){return this.getOrdersForType(e.orderType).get(e.orderMint).delete(e.id)?((0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderRemoved,order:e})}),!0):!1}getOrdersForType(e){return e===Order_1.OrderSide.Buy?this.buyOrdersCache:this.sellOrdersCache}}OrderCacheService$1.OrderCacheService=OrderCacheService;var GmClientService={},helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.createTransactionFromInstructions=void 0;const web3_js_1$1=require$$0$2,createTransactionFromInstructions=t=>{const e=new web3_js_1$1.Transaction;return e.add(...t),e};helpers.createTransactionFromInstructions=createTransactionFromInstructions;var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.ONE_MILLION=void 0;constants.ONE_MILLION=1e6;var hasRequiredGmClientService;function requireGmClientService(){if(hasRequiredGmClientService)return GmClientService;hasRequiredGmClientService=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(_r,wr,Or,Ir){function Pr(kr){return kr instanceof Or?kr:new Or(function(xr){xr(kr)})}return new(Or||(Or=Promise))(function(kr,xr){function Cr(qr){try{Fr(Ir.next(qr))}catch(Gr){xr(Gr)}}function Kr(qr){try{Fr(Ir.throw(qr))}catch(Gr){xr(Gr)}}function Fr(qr){qr.done?kr(qr.value):Pr(qr.value).then(Cr,Kr)}Fr((Ir=Ir.apply(_r,wr||[])).next())})};Object.defineProperty(GmClientService,"__esModule",{value:!0}),GmClientService.GmClientService=void 0;const e=require$$0$2,r=requireInstruction_builders$1(),n=requirePda_getters(),o=helpers,s=requireUtil(),a=Order,c=constants,m=utils;class gr{constructor(){this.currencyInfo=[]}getRegisteredCurrencies(wr,Or,Ir=!1){var Pr;return t(this,void 0,void 0,function*(){if(((Pr=this.currencyInfo)===null||Pr===void 0?void 0:Pr.length)&&!Ir)return this.currencyInfo;const kr=[],xr=yield(0,n.getAllRegisteredCurrencies)(wr,Or);for(const Cr of xr){const{mint:Kr,royalty:Fr,saVault:qr}=Cr,Gr=yield wr.getTokenSupply(Kr,"recent"),{decimals:jr}=Gr.value;kr.push({decimals:jr,mint:Kr.toString(),royaltyPercentageAsDecimal:Fr.toNumber()/c.ONE_MILLION,saVault:qr.toString()})}return this.currencyInfo=kr,this.currencyInfo})}getAllOpenOrders(wr,Or){return t(this,void 0,void 0,function*(){const Ir=yield(0,n.getAllOpenOrders)(wr,Or),Pr=yield wr.getSlot();return this.accountItemsToOrders(wr,Or,Ir,Pr)})}getOpenOrdersForPlayer(wr,Or,Ir){return t(this,void 0,void 0,function*(){const Pr=yield(0,n.getOpenOrdersForPlayer)(wr,Or,Ir),kr=yield wr.getSlot();return this.accountItemsToOrders(wr,Ir,Pr,kr)})}getOpenOrdersForCurrency(wr,Or,Ir){return t(this,void 0,void 0,function*(){const Pr=yield(0,n.getOpenOrdersForCurrency)(wr,Or,Ir),kr=yield wr.getSlot();return this.accountItemsToOrders(wr,Ir,Pr,kr)})}getOpenOrdersForAsset(wr,Or,Ir){return t(this,void 0,void 0,function*(){const Pr=yield(0,n.getOpenOrdersForAsset)(wr,Or,Ir),kr=yield wr.getSlot();return this.accountItemsToOrders(wr,Ir,Pr,kr)})}getOpenOrdersForPlayerAndCurrency(wr,Or,Ir,Pr){return t(this,void 0,void 0,function*(){const kr=yield(0,n.getOpenOrdersForPlayerAndCurrency)(wr,Or,Ir,Pr),xr=yield wr.getSlot();return this.accountItemsToOrders(wr,Pr,kr,xr)})}getOpenOrdersForPlayerAndAsset(wr,Or,Ir,Pr){return t(this,void 0,void 0,function*(){const kr=yield(0,n.getOpenOrdersForPlayerAndAsset)(wr,Or,Ir,Pr),xr=yield wr.getSlot();return this.accountItemsToOrders(wr,Pr,kr,xr)})}getOpenOrder(wr,Or,Ir){return t(this,void 0,void 0,function*(){const Pr=yield(0,n.getSingleOrder)(wr,Or,Ir),kr={publicKey:Or,account:Pr},xr=yield wr.getSlot(),[Cr]=yield this.accountItemsToOrders(wr,Ir,[kr],xr);return Cr})}getInitializeOrderTransaction(wr,Or,Ir,Pr,kr,xr,Cr,Kr){return t(this,void 0,void 0,function*(){let Fr=r.createInitializeSellOrderInstruction,qr=Ir,Gr=Pr;Kr===a.OrderSide.Buy&&(Fr=r.createInitializeBuyOrderInstruction,qr=Pr,Gr=Ir);const jr=yield(0,s.getAssociatedTokenAddress)(Or,qr),{ixSet:Vr}=yield Fr({connection:wr,depositMint:qr,initializerDepositTokenAccount:jr,initializerMainAccount:Or,originationQty:kr,price:xr,programId:Cr,receiveMint:Gr}),{signers:Jr,instructions:ln}=Vr;return{transaction:(0,o.createTransactionFromInstructions)(ln),signers:Jr}})}getBnPriceForCurrency(wr,Or,Ir,Pr){return t(this,void 0,void 0,function*(){const kr=yield this.getRegisteredCurrencies(wr,Pr),{decimals:xr}=kr.find(Cr=>Cr.mint.toString()===Ir.toString());return(0,m.convertDecimalPriceToBn)(Or,xr)})}getCancelOrderTransaction(wr,Or,Ir,Pr){return t(this,void 0,void 0,function*(){const{instructions:kr,signers:xr}=yield(0,r.createCancelOrderInstruction)({connection:wr,orderAccount:Or,orderInitializer:Ir,programId:Pr});return{transaction:(0,o.createTransactionFromInstructions)(kr),signers:xr}})}getCreateExchangeTransaction(wr,Or,Ir,Pr,kr){return t(this,void 0,void 0,function*(){const xr=new e.PublicKey(Or.id),Cr=new e.PublicKey(Or.orderMint),Kr=new e.PublicKey(Or.currencyMint),Fr=new e.PublicKey(Or.owner),qr=yield(0,s.getAssociatedTokenAddress)(Ir,Or.orderType===a.OrderSide.Buy?Cr:Kr),Gr=yield this.getRegisteredCurrencies(wr,kr),{saVault:jr}=Gr.find(tn=>tn.mint===Or.currencyMint),{instructions:Vr,signers:Jr}=yield(0,r.createExchangeInstruction)({connection:wr,orderAccount:xr,purchaseQty:Pr,orderTaker:Ir,orderTakerDepositTokenAccount:qr,programId:kr,expectedPrice:Or.price,orderType:Or.orderType,assetMint:Cr,currencyMint:Kr,orderInitializer:Fr,saVault:new e.PublicKey(jr)});return{transaction:(0,o.createTransactionFromInstructions)(Vr),signers:Jr}})}accountItemsToOrders(wr,Or,Ir,Pr){return t(this,void 0,void 0,function*(){if(!Ir.length)return[];const kr=yield this.getRegisteredCurrencies(wr,Or);return Ir.map(xr=>{const Cr=xr.publicKey.toString(),Kr=Object.keys(xr.account.orderSide)[0]==="buy"?a.OrderSide.Buy:a.OrderSide.Sell,Fr=xr.account.assetMint.toString(),qr=xr.account.currencyMint.toString(),Gr=xr.account.price,jr=xr.account.orderRemainingQty.toNumber(),Vr=xr.account.orderOriginationQty.toNumber(),Jr=xr.account.orderInitializerPubkey.toString(),ln=xr.account.initializerAssetTokenAccount.toString(),tn=xr.account.initializerCurrencyTokenAccount.toString(),sn=xr.account.createdAtTimestamp.toNumber(),{decimals:dn}=kr.find(Rr=>Rr.mint.toString()===qr);return new a.Order({id:Cr,orderType:Kr,orderMint:Fr,currencyMint:qr,currencyDecimals:dn,price:Gr,orderQtyRemaining:jr,orderOriginationQty:Vr,owner:Jr,ownerAssetTokenAccount:ln,ownerCurrencyTokenAccount:tn,createdAt:sn,slotContext:Pr})})})}}return GmClientService.GmClientService=gr,GmClientService}var GmEventService={},hasRequiredGmEventService;function requireGmEventService(){if(hasRequiredGmEventService)return GmEventService;hasRequiredGmEventService=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(m,gr,_r,wr){function Or(Ir){return Ir instanceof _r?Ir:new _r(function(Pr){Pr(Ir)})}return new(_r||(_r=Promise))(function(Ir,Pr){function kr(Kr){try{Cr(wr.next(Kr))}catch(Fr){Pr(Fr)}}function xr(Kr){try{Cr(wr.throw(Kr))}catch(Fr){Pr(Fr)}}function Cr(Kr){Kr.done?Ir(Kr.value):Or(Kr.value).then(kr,xr)}Cr((wr=wr.apply(m,gr||[])).next())})};Object.defineProperty(GmEventService,"__esModule",{value:!0}),GmEventService.GmEventService=void 0;const e=require$$0$1,r=models,n=types$2,o=requireGmClientService(),s=utils,a=types$2;class c{constructor(gr,_r,wr){this.registeredCurrencyInfo={},this.eventListeners=[],this.queuedEvents=[],this.connection=gr,this.programId=_r,this.commitment=wr||gr.commitment,this.handleOrderCreated=this.handleOrderCreated.bind(this),this.handleOrderExchanged=this.handleOrderExchanged.bind(this),this.handleOrderCanceled=this.handleOrderCanceled.bind(this)}initialize(){return t(this,void 0,void 0,function*(){this.idl=(0,s.getGmLogsIDL)(this.programId),this.provider=new e.AnchorProvider(this.connection,null,{commitment:this.commitment}),this.program=new e.Program(this.idl,this.programId,this.provider,{instruction:new e.BorshInstructionCoder(this.idl),accounts:new e.BorshAccountsCoder(this.idl),state:null,events:new e.BorshEventCoder(this.idl)}),yield this.setCurrencyInfo();const gr=this.program.addEventListener(a.GmLogs.InitializeMemo,this.handleOrderCreated),_r=this.program.addEventListener(a.GmLogs.ExchangeMemo,this.handleOrderExchanged),wr=this.program.addEventListener(a.GmLogs.CancelOrderMemo,this.handleOrderCanceled),Or=this.program.addEventListener(a.GmLogs.RegisterCurrencyMemo,this.handleCurrencyRegistered);this.eventListeners.push(gr,_r,wr,Or)})}end(){return t(this,void 0,void 0,function*(){for(const gr of this.eventListeners)yield this.program.removeEventListener(gr);this.eventListeners=[],this.onEvent=null})}setEventHandler(gr){this.onEvent=gr;for(const _r of this.queuedEvents)this.onEvent(_r.eventType,_r.order,_r.slotContext)}setCurrencyInfo(){return t(this,void 0,void 0,function*(){const _r=yield new o.GmClientService().getRegisteredCurrencies(this.connection,this.programId,!0);for(const wr of _r)this.registeredCurrencyInfo[wr.mint]=wr})}getParsedOrderFromEvent(gr,_r){const wr=this.registeredCurrencyInfo[gr.currencyMint.toString()];if(!wr)return null;const{decimals:Or}=wr;return new r.Order({id:gr.orderId.toString(),orderType:gr.orderSide===0?r.OrderSide.Buy:r.OrderSide.Sell,orderMint:gr.assetMint.toString(),currencyMint:gr.currencyMint.toString(),currencyDecimals:Or,price:gr.price,orderQtyRemaining:gr.orderRemainingQty.toNumber(),orderOriginationQty:gr.orderOriginationQty.toNumber(),owner:gr.orderInitializerPubkey.toString(),ownerAssetTokenAccount:gr.initializerAssetTokenAccount.toString(),ownerCurrencyTokenAccount:gr.initializerCurrencyTokenAccount.toString(),createdAt:gr.createdAtTimestamp.toNumber(),slotContext:_r})}handleOrderCreated(gr,_r){this.processEvent(n.GmEventType.orderAdded,this.getParsedOrderFromEvent(gr,_r),_r)}handleOrderExchanged(gr,_r){this.processEvent(n.GmEventType.orderModified,this.getParsedOrderFromEvent(gr,_r),_r)}handleOrderCanceled(gr,_r){this.processEvent(n.GmEventType.orderRemoved,this.getParsedOrderFromEvent(gr,_r),_r)}processEvent(gr,_r,wr){if(!this.onEvent){this.queuedEvents.push({eventType:gr,order:_r,slotContext:wr});return}this.onEvent(gr,_r,wr)}handleCurrencyRegistered(){return t(this,void 0,void 0,function*(){yield this.setCurrencyInfo()})}}return GmEventService.GmEventService=c,GmEventService}var hasRequiredGmOrderbookService;function requireGmOrderbookService(){if(hasRequiredGmOrderbookService)return GmOrderbookService;hasRequiredGmOrderbookService=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(m,gr,_r,wr){function Or(Ir){return Ir instanceof _r?Ir:new _r(function(Pr){Pr(Ir)})}return new(_r||(_r=Promise))(function(Ir,Pr){function kr(Kr){try{Cr(wr.next(Kr))}catch(Fr){Pr(Fr)}}function xr(Kr){try{Cr(wr.throw(Kr))}catch(Fr){Pr(Fr)}}function Cr(Kr){Kr.done?Ir(Kr.value):Or(Kr.value).then(kr,xr)}Cr((wr=wr.apply(m,gr||[])).next())})};Object.defineProperty(GmOrderbookService,"__esModule",{value:!0}),GmOrderbookService.GmOrderbookService=void 0;const e=require$$0,r=lodash.exports,n=OrderCacheService$1,o=types$2,s=requireGmClientService(),a=requireGmEventService();class c{constructor(gr,_r,wr=60){this.gmClientService=new s.GmClientService,this.eventCallBacks=[],this.changeObserverDisposer=null,this.lastEventTimestamp=this.getNow(),this.isReloading=!1,this.connection=gr,this.marketplaceProgramId=_r,this.healthcheckThreshold=wr,this.orderCacheService=new n.OrderCacheService,this.gmClientService=new s.GmClientService,this.gmEventService=new a.GmEventService(this.connection,this.marketplaceProgramId),this.handleMarketplaceEvent=this.handleMarketplaceEvent.bind(this)}initialize(){return t(this,void 0,void 0,function*(){return yield this.gmEventService.initialize(),this.changeObserverDisposer=(0,e.queueProcessor)(this.orderCacheService.orderChanges,gr=>{this.eventCallBacks.forEach(_r=>_r.onEvent(gr))},250),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.loadInitialOrders(),this.healthcheckTimer=setInterval(()=>{!this.getIsServiceHealthy()&&!this.isReloading&&this.resetOrdersData()},c.HEALTH_CHECK_RATE),this.orderCacheService.mints.length})}end(){return t(this,void 0,void 0,function*(){return yield this.gmEventService.end(),this.eventCallBacks=[],this.changeObserverDisposer=null,!0})}getIsServiceHealthy(){return this.getNow()-this.lastEventTimestamp<=this.healthcheckThreshold}resetOrdersData(){return t(this,void 0,void 0,function*(){this.isReloading||(this.isReloading=!0,yield this.resetEventService(),yield this.refetchOrderData(),this.lastEventTimestamp=this.getNow(),this.isReloading=!1)})}resetEventService(){return t(this,void 0,void 0,function*(){yield this.gmEventService.end(),this.gmEventService=new a.GmEventService(this.connection,this.marketplaceProgramId),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.gmEventService.initialize()})}refetchOrderData(){return t(this,void 0,void 0,function*(){const gr=this.orderCacheService.getAllOrdersCache();try{const _r=yield this.connection.getSlot("confirmed"),wr=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId),Or=new Map;for(const Ir of wr){Or.set(Ir.id,Ir);const Pr=gr.get(Ir.id);Pr?Pr&&Pr.orderQtyRemaining!==Ir.orderQtyRemaining&&this.updateOrderInCache(Ir):this.addOrderToCache(Ir)}for(const Ir of Array.from(gr.values()))Ir.slotContext<_r&&!Or.get(Ir.id)&&this.removeOrderFromCache(Ir)}catch(_r){console.log("There was an error refreshing all marketplace data",_r)}})}addOnEventHandler(gr){this.eventCallBacks.push(gr)}removeOnEventHandler(gr){(0,r.pull)(this.eventCallBacks,gr)}loadInitialOrders(){return t(this,void 0,void 0,function*(){try{const gr=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId);for(const _r of gr)this.addOrderToCache(_r)}catch(gr){console.log(gr)}return this.orderCacheService.getAllOrdersCache().size})}addOrderToCache(gr){return this.orderCacheService.addOrder(gr)}removeOrderFromCache(gr){return this.orderCacheService.cancelOrder(gr)}updateOrderInCache(gr){return this.orderCacheService.updateOrder(gr)}getBuyOrders(){return this.orderCacheService.buyOrdersCache}getBuyOrdersForMint(gr){return this.orderCacheService.buyOrdersCache.get(gr)}getSellOrders(){return this.orderCacheService.sellOrdersCache}getSellOrdersForMint(gr){return this.orderCacheService.sellOrdersCache.get(gr)}getOrdersByType(gr){return gr==="buy"?this.getBuyOrders():this.getSellOrders()}getBuyOrdersByCurrencyAndItem(gr,_r){const wr=this.getBuyOrdersForMint(_r);if(!wr)return[];const Or=[...wr.values()];return Or.length?this.filterOrdersByCurrency(gr,Or):[]}getSellOrdersByCurrencyAndItem(gr,_r){const wr=this.getSellOrdersForMint(_r);if(!wr)return[];const Or=[...wr.values()];return Or.length?this.filterOrdersByCurrency(gr,Or):[]}filterOrdersByCurrency(gr,_r){return _r.length?_r.filter(wr=>wr.currencyMint===gr):[]}getOrderById(gr){return this.orderCacheService.getOrderById(gr)}getAllOrdersByItemMint(gr){const _r=new Map,wr=this.getSellOrdersForMint(gr),Or=this.getBuyOrdersForMint(gr);if(wr)for(const Ir of wr.values())_r.set(Ir.id,Ir);if(Or)for(const Ir of Or.values())_r.set(Ir.id,Ir);return _r}getAllMints(){return this.orderCacheService.mints}getAllOrdersForUserAddress(gr){const _r=this.orderCacheService.getAllOrdersCache();return Array.from(_r.values()).filter(Ir=>Ir.owner===gr)}handleOrderAddedEvent(gr){this.addOrderToCache(gr)}handleOrderModifiedEvent(gr){if(gr.orderQtyRemaining===0){this.removeOrderFromCache(gr);return}this.updateOrderInCache(gr)}handleOrderCanceledEvent(gr){this.removeOrderFromCache(gr)}handleMarketplaceEvent(gr,_r){if(!!_r)switch(this.lastEventTimestamp=this.getNow(),gr){case o.GmEventType.orderAdded:this.handleOrderAddedEvent(_r);break;case o.GmEventType.orderModified:this.handleOrderModifiedEvent(_r);break;case o.GmEventType.orderRemoved:this.handleOrderCanceledEvent(_r);break}}getNow(){return new Date().getTime()/1e3}}return GmOrderbookService.GmOrderbookService=c,c.HEALTH_CHECK_RATE=5e3,GmOrderbookService}var hasRequiredServices;function requireServices(){return hasRequiredServices||(hasRequiredServices=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(requireGmOrderbookService(),t),r(requireGmClientService(),t),r(requireGmEventService(),t)}(services)),services}var hasRequiredMarketplace;function requireMarketplace(){return hasRequiredMarketplace||(hasRequiredMarketplace=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(requireInstruction_builders$1(),t),r(requirePda_getters(),t),r(types$2,t),r(utils,t),r(models,t),r(requireServices(),t)}(marketplace)),marketplace}var hasRequiredGmHelper;function requireGmHelper(){if(hasRequiredGmHelper)return gmHelper$1;hasRequiredGmHelper=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,c,m,gr){function _r(wr){return wr instanceof m?wr:new m(function(Or){Or(wr)})}return new(m||(m=Promise))(function(wr,Or){function Ir(xr){try{kr(gr.next(xr))}catch(Cr){Or(Cr)}}function Pr(xr){try{kr(gr.throw(xr))}catch(Cr){Or(Cr)}}function kr(xr){xr.done?wr(xr.value):_r(xr.value).then(Ir,Pr)}kr((gr=gr.apply(a,c||[])).next())})};Object.defineProperty(gmHelper$1,"__esModule",{value:!0}),gmHelper$1.createAccountTransaction=gmHelper$1.createAccountInstruction=void 0;const e=require$$0$1,r=require$$0$2,n=requireMarketplace();function o(a,c,m,gr){return t(this,void 0,void 0,function*(){const _r=(0,n.getGmIDL)(gr),wr=new e.AnchorProvider(a,null,null),Or=new e.Program(_r,gr,wr);return r.SystemProgram.createAccount({fromPubkey:c,newAccountPubkey:m.publicKey,space:Or.account.orderAccount.size,lamports:yield a.getMinimumBalanceForRentExemption(Or.account.orderAccount.size),programId:gr})})}gmHelper$1.createAccountInstruction=o;function s(a,c,m,gr){return t(this,void 0,void 0,function*(){const _r=(0,n.getGmIDL)(gr),wr=new e.AnchorProvider(a,null,null),Or=new e.Program(_r,gr,wr),Ir=new r.Transaction({recentBlockhash:(yield a.getLatestBlockhash()).blockhash,feePayer:c});return Ir.add(r.SystemProgram.createAccount({fromPubkey:c,newAccountPubkey:m.publicKey,space:Or.account.orderAccount.size,lamports:yield a.getMinimumBalanceForRentExemption(Or.account.orderAccount.size),programId:gr})),Ir})}return gmHelper$1.createAccountTransaction=s,gmHelper$1}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(requireHelpers(),t),r(wallet,t),r(requireGmHelper(),t)}(util)),util}var hasRequiredHarvestRewards;function requireHarvestRewards(){if(hasRequiredHarvestRewards)return harvestRewards;hasRequiredHarvestRewards=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,c,m,gr){function _r(wr){return wr instanceof m?wr:new m(function(Or){Or(wr)})}return new(m||(m=Promise))(function(wr,Or){function Ir(xr){try{kr(gr.next(xr))}catch(Cr){Or(Cr)}}function Pr(xr){try{kr(gr.throw(xr))}catch(Cr){Or(Cr)}}function kr(xr){xr.done?wr(xr.value):_r(xr.value).then(Ir,Pr)}kr((gr=gr.apply(a,c||[])).next())})};Object.defineProperty(harvestRewards,"__esModule",{value:!0}),harvestRewards.harvestRewardsInstruction=void 0;const e=require$$0$1,r=token,n=requireUtil(),o=utils$1;function s({connection:a,user:c,rewardMint:m,registeredStake:gr,stakingAccount:_r,programId:wr}){return t(this,void 0,void 0,function*(){const Or=(0,o.getStakingProgram)({connection:a,programId:wr}),Ir={signers:[],instructions:[]};let Pr=null,kr=null;const xr=yield(0,n.getTokenAccount)(a,c,m);Pr=xr.tokenAccount,"createInstruction"in xr&&Ir.instructions.push(xr.createInstruction),Pr instanceof e.web3.Keypair?(kr=Pr.publicKey,Ir.signers.push(Pr)):kr=Pr;const Cr=yield(0,r.associatedAddress)({owner:gr,mint:m}),Kr=yield Or.methods.harvest().accounts({user:c,rewardMint:m,registeredStake:gr,stakingAccount:_r,userRewardAccount:kr,rewardAta:Cr}).instruction();return Ir.instructions.push(Kr),Ir})}return harvestRewards.harvestRewardsInstruction=s,harvestRewards}var initializeStaking={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(initializeStaking,"__esModule",{value:!0});initializeStaking.createInitializeStakingInstruction=void 0;const utils_1$4=utils$1;function createInitializeStakingInstruction({connection:t,updateAuthorityAccount:e,programId:r}){return __awaiter$6(this,void 0,void 0,function*(){const n=(0,utils_1$4.getStakingProgram)({connection:t,programId:r}),o={signers:[],instructions:[]},s=yield n.methods.initializeStaking().accounts({updateAuthorityAccount:e}).instruction();return o.instructions.push(s),o})}initializeStaking.createInitializeStakingInstruction=createInitializeStakingInstruction;var registerStake={},pda_getters$1={},pda_getters={},seeds={};Object.defineProperty(seeds,"__esModule",{value:!0});seeds.ESCROW_AUTH=seeds.STAKING_VARS=seeds.STAKING_ESCROW=seeds.STAKING_ACCOUNT=seeds.REWARD_AUTH=seeds.REWARD_ACCOUNT=seeds.REGISTERED_STAKE=void 0;seeds.REGISTERED_STAKE=Buffer.from("registered-stake");seeds.REWARD_ACCOUNT=Buffer.from("reward-account");seeds.REWARD_AUTH=Buffer.from("reward-vault-authority");seeds.STAKING_ACCOUNT=Buffer.from("staking-account");seeds.STAKING_ESCROW=Buffer.from("staking-escrow");seeds.STAKING_VARS=Buffer.from("staking-vars");seeds.ESCROW_AUTH=Buffer.from("escrow-auth");var __awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_getters,"__esModule",{value:!0});pda_getters.getRewardAuth=pda_getters.getTokenEscrow=pda_getters.getStakingVarsAccount=pda_getters.getStakingAccount=pda_getters.getRegisteredStake=void 0;const web3_js_1=require$$0$2,seeds_1=seeds;function getRegisteredStake(t,e,r,n){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.REGISTERED_STAKE,e.toBuffer(),r.toBuffer(),n.toBuffer()],t)})}pda_getters.getRegisteredStake=getRegisteredStake;function getStakingAccount(t,e,r){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_ACCOUNT,e.toBuffer(),r.toBuffer()],t)})}pda_getters.getStakingAccount=getStakingAccount;function getStakingVarsAccount(t){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_VARS],t)})}pda_getters.getStakingVarsAccount=getStakingVarsAccount;function getTokenEscrow(t,e,r){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_ESCROW,e.toBuffer(),r.toBuffer()],t)})}pda_getters.getTokenEscrow=getTokenEscrow;function getRewardAuth(t,e){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.REWARD_AUTH,e.toBuffer()],t)})}pda_getters.getRewardAuth=getRewardAuth;var pda_info_getters={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_info_getters,"__esModule",{value:!0});pda_info_getters.getStakingVarsAccountInfo=pda_info_getters.getStakingAccountInfo=pda_info_getters.getRegisteredStakeAccountInfo=void 0;const getStakingProgram_1=getStakingProgram$1,pda_getters_1$1=pda_getters;function getRegisteredStakeAccountInfo(t,e,r){return __awaiter$4(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:r}).account.registeredStake.fetch(e)})}pda_info_getters.getRegisteredStakeAccountInfo=getRegisteredStakeAccountInfo;function getStakingAccountInfo(t,e,r){return __awaiter$4(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:r}).account.stakingAccount.fetch(e)})}pda_info_getters.getStakingAccountInfo=getStakingAccountInfo;function getStakingVarsAccountInfo(t,e){return __awaiter$4(this,void 0,void 0,function*(){const r=(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:e}),[n]=yield(0,pda_getters_1$1.getStakingVarsAccount)(e);return yield r.account.stakingVars.fetch(n)})}pda_info_getters.getStakingVarsAccountInfo=getStakingVarsAccountInfo;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pda_getters,t),r(pda_info_getters,t)})(pda_getters$1);var __awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(registerStake,"__esModule",{value:!0});registerStake.registerStakeInstruction=void 0;const anchor_1$2=require$$0$1,token_1$1=token,pda_getters_1=pda_getters$1,utils_1$3=utils$1;function registerStakeInstruction({connection:t,authority:e,rewardMultiplier:r,stakeMint:n,rewardMint:o,cooldownPeriod:s,programId:a}){return __awaiter$3(this,void 0,void 0,function*(){const c=(0,utils_1$3.getStakingProgram)({connection:t,programId:a}),m={instructions:[],signers:[]},[gr]=yield(0,pda_getters_1.getRegisteredStake)(a,e,n,o),_r=yield(0,token_1$1.associatedAddress)({owner:gr,mint:o}),wr=yield c.methods.registerStake(new anchor_1$2.BN(r),new anchor_1$2.BN(s)).accounts({authority:e,stakeMint:n,rewardMint:o,rewardAta:_r}).instruction();return m.instructions.push(wr),m})}registerStake.registerStakeInstruction=registerStakeInstruction;var settle={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(settle,"__esModule",{value:!0});settle.createSettleStakingAccountInstruction=void 0;const utils_1$2=utils$1;function createSettleStakingAccountInstruction({connection:t,authority:e,registeredStake:r,stakingAccount:n,updatedStakingPeriod:o,programId:s}){return __awaiter$2(this,void 0,void 0,function*(){const a=(0,utils_1$2.getStakingProgram)({connection:t,programId:s}),c={instructions:[],signers:[]},m=yield a.methods.settle(o).accounts({authority:e,registeredStake:r,stakingAccount:n}).instruction();return c.instructions.push(m),c})}settle.createSettleStakingAccountInstruction=createSettleStakingAccountInstruction;var stakeTokens={},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(stakeTokens,"__esModule",{value:!0});stakeTokens.stakeTokensInstruction=void 0;const anchor_1$1=require$$0$1,token_1=token,utils_1$1=utils$1;function stakeTokensInstruction({connection:t,user:e,stakeMint:r,tokenSource:n,stakeQuantity:o,registeredStake:s,stakingAccount:a,programId:c}){return __awaiter$1(this,void 0,void 0,function*(){const m=(0,utils_1$1.getStakingProgram)({connection:t,programId:c}),gr=yield(0,token_1.associatedAddress)({owner:a,mint:r}),_r={instructions:[],signers:[]},wr=yield m.methods.stakeTokens(new anchor_1$1.BN(o)).accounts({user:e,stakeMint:r,tokenSource:n,registeredStake:s,tokenEscrow:gr}).instruction();return _r.instructions.push(wr),_r})}stakeTokens.stakeTokensInstruction=stakeTokensInstruction;var unstakeTokens={},hasRequiredUnstakeTokens;function requireUnstakeTokens(){if(hasRequiredUnstakeTokens)return unstakeTokens;hasRequiredUnstakeTokens=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(c,m,gr,_r){function wr(Or){return Or instanceof gr?Or:new gr(function(Ir){Ir(Or)})}return new(gr||(gr=Promise))(function(Or,Ir){function Pr(Cr){try{xr(_r.next(Cr))}catch(Kr){Ir(Kr)}}function kr(Cr){try{xr(_r.throw(Cr))}catch(Kr){Ir(Kr)}}function xr(Cr){Cr.done?Or(Cr.value):wr(Cr.value).then(Pr,kr)}xr((_r=_r.apply(c,m||[])).next())})};Object.defineProperty(unstakeTokens,"__esModule",{value:!0}),unstakeTokens.unstakeTokensInstruction=void 0;const e=require$$0$1,r=token,n=requireUtil(),o=pda_getters$1,s=utils$1;function a({connection:c,user:m,registeredStake:gr,stakingAccount:_r,programId:wr}){return t(this,void 0,void 0,function*(){const Or=(0,s.getStakingProgram)({connection:c,programId:wr}),Ir={signers:[],instructions:[]},kr=(yield(0,o.getRegisteredStakeAccountInfo)(c,gr,wr)).rewardMint;let xr=null,Cr=null;const Kr=yield(0,n.getTokenAccount)(c,m,kr);xr=Kr.tokenAccount,"createInstruction"in Kr&&Ir.instructions.push(Kr.createInstruction),xr instanceof e.web3.Keypair?(Cr=xr.publicKey,Ir.signers.push(xr)):Cr=xr;const Fr=yield(0,r.associatedAddress)({owner:gr,mint:kr}),qr=yield Or.methods.unstakeTokens().accounts({user:m,rewardMint:kr,registeredStake:gr,stakingAccount:_r,userRewardAccount:Cr,rewardAta:Fr}).instruction();return Ir.instructions.push(qr),Ir})}return unstakeTokens.unstakeTokensInstruction=a,unstakeTokens}var updateRewardMultiplier={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function c(_r){try{gr(n.next(_r))}catch(wr){a(wr)}}function m(_r){try{gr(n.throw(_r))}catch(wr){a(wr)}}function gr(_r){_r.done?s(_r.value):o(_r.value).then(c,m)}gr((n=n.apply(t,e||[])).next())})};Object.defineProperty(updateRewardMultiplier,"__esModule",{value:!0});updateRewardMultiplier.updateRewardMultiplierInstruction=void 0;const anchor_1=require$$0$1,utils_1=utils$1;function updateRewardMultiplierInstruction({connection:t,authority:e,rewardMultiplier:r,registeredStake:n,newStakingPeriod:o,programId:s}){return __awaiter(this,void 0,void 0,function*(){const a=(0,utils_1.getStakingProgram)({connection:t,programId:s}),c={instructions:[],signers:[]},m=yield a.methods.updateRewardMultiplier(new anchor_1.BN(r),o).accounts({authority:e,registeredStake:n}).instruction();return c.instructions.push(m),c})}updateRewardMultiplier.updateRewardMultiplierInstruction=updateRewardMultiplierInstruction;var withdrawTokens={},hasRequiredWithdrawTokens;function requireWithdrawTokens(){if(hasRequiredWithdrawTokens)return withdrawTokens;hasRequiredWithdrawTokens=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,c,m,gr){function _r(wr){return wr instanceof m?wr:new m(function(Or){Or(wr)})}return new(m||(m=Promise))(function(wr,Or){function Ir(xr){try{kr(gr.next(xr))}catch(Cr){Or(Cr)}}function Pr(xr){try{kr(gr.throw(xr))}catch(Cr){Or(Cr)}}function kr(xr){xr.done?wr(xr.value):_r(xr.value).then(Ir,Pr)}kr((gr=gr.apply(a,c||[])).next())})};Object.defineProperty(withdrawTokens,"__esModule",{value:!0}),withdrawTokens.withdrawTokensInstruction=void 0;const e=require$$0$1,r=token,n=utils$1,o=requireUtil();function s({connection:a,authority:c,user:m,stakeMint:gr,registeredStake:_r,stakingAccount:wr,programId:Or}){return t(this,void 0,void 0,function*(){const Ir=(0,n.getStakingProgram)({connection:a,programId:Or}),Pr=yield(0,r.associatedAddress)({owner:wr,mint:gr}),kr={signers:[],instructions:[]};let xr=null,Cr=null;const Kr=yield(0,o.getTokenAccount)(a,m,gr);xr=Kr.tokenAccount,"createInstruction"in Kr&&kr.instructions.push(Kr.createInstruction),xr instanceof e.web3.Keypair?(Cr=xr.publicKey,kr.signers.push(xr)):Cr=xr;const Fr=yield Ir.methods.withdrawTokens().accounts({user:m,authority:c,stakeMint:gr,tokenSource:Cr,registeredStake:_r,stakingAccount:wr,tokenEscrow:Pr}).instruction();return kr.instructions.push(Fr),kr})}return withdrawTokens.withdrawTokensInstruction=s,withdrawTokens}var hasRequiredInstruction_builders;function requireInstruction_builders(){return hasRequiredInstruction_builders||(hasRequiredInstruction_builders=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(baseParams,t),r(cancelUnstake,t),r(createStakeAccount,t),r(requireHarvestRewards(),t),r(initializeStaking,t),r(registerStake,t),r(settle,t),r(stakeTokens,t),r(requireUnstakeTokens(),t),r(updateRewardMultiplier,t),r(requireWithdrawTokens(),t)}(instruction_builders$1)),instruction_builders$1}var types$1={},stakingProgramAccounts={};Object.defineProperty(stakingProgramAccounts,"__esModule",{value:!0});(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(stakingIdl,t),r(stakingProgramAccounts,t)})(types$1);var hasRequiredAtlasStaking;function requireAtlasStaking(){return hasRequiredAtlasStaking||(hasRequiredAtlasStaking=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(requireInstruction_builders(),t),r(pda_getters$1,t),r(types$1,t),r(utils$1,t)}(atlasStaking)),atlasStaking}var factions={};(function(t){var e=commonjsGlobal&&commonjsGlobal.__awaiter||function(wr,Or,Ir,Pr){function kr(xr){return xr instanceof Ir?xr:new Ir(function(Cr){Cr(xr)})}return new(Ir||(Ir=Promise))(function(xr,Cr){function Kr(Gr){try{qr(Pr.next(Gr))}catch(jr){Cr(jr)}}function Fr(Gr){try{qr(Pr.throw(Gr))}catch(jr){Cr(jr)}}function qr(Gr){Gr.done?xr(Gr.value):kr(Gr.value).then(Kr,Fr)}qr((Pr=Pr.apply(wr,Or||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayersOfFaction=t.getAllPlayers=t.getPlayer=t.enlistToFaction=t.getPlayerFactionPDA=t.getIDL=t.FactionType=void 0;const r=require$$0$1,n={version:"0.0.0",name:"enlist_to_faction",instructions:[{name:"processEnlistPlayer",accounts:[{name:"playerFactionAccount",isMut:!0,isSigner:!1},{name:"playerAccount",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"factionId",type:"u8"}]}],accounts:[{name:"PlayerFactionData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"enlistedAtTimestamp",type:"i64"},{name:"factionId",type:"u8"},{name:"bump",type:"u8"},{name:"padding",type:{array:["u64",5]}}]}}],errors:[{code:300,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."}],metadata:{}},o="FACTION_ENLISTMENT";(function(wr){wr[wr.Unenlisted=-1]="Unenlisted",wr[wr.MUD=0]="MUD",wr[wr.ONI=1]="ONI",wr[wr.Ustur=2]="Ustur"})(t.FactionType||(t.FactionType={}));function s(wr){const Or=n;return Or.metadata.address=wr.toBase58(),Or}t.getIDL=s;function a(wr,Or){return e(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([Buffer.from(o,"utf8"),wr.toBuffer()],Or)})}t.getPlayerFactionPDA=a;function c(wr,Or,Ir,Pr){return e(this,void 0,void 0,function*(){const[kr,xr]=yield a(Ir,Pr),Cr=s(Pr),Kr=new r.AnchorProvider(wr,null,null);return yield new r.Program(Cr,Pr,Kr).instruction.processEnlistPlayer(xr,Or,{accounts:{playerFactionAccount:kr,playerAccount:Ir,systemProgram:r.web3.SystemProgram.programId,clock:r.web3.SYSVAR_CLOCK_PUBKEY}})})}t.enlistToFaction=c;function m(wr,Or,Ir){return e(this,void 0,void 0,function*(){const Pr=new r.AnchorProvider(wr,null,null),kr=s(Ir),xr=new r.Program(kr,Ir,Pr),[Cr]=yield a(Or,Ir);return yield xr.account.playerFactionData.fetch(Cr)})}t.getPlayer=m;function gr(wr,Or){return e(this,void 0,void 0,function*(){const Ir=new r.AnchorProvider(wr,null,null),Pr=s(Or);return(yield new r.Program(Pr,Or,Ir).account.playerFactionData.all()).map(Kr=>Kr.account)})}t.getAllPlayers=gr;function _r(wr,Or,Ir){return e(this,void 0,void 0,function*(){const Pr=new r.AnchorProvider(wr,null,null),kr=s(Ir);return(yield new r.Program(kr,Ir,Pr).account.playerFactionData.all()).map(Fr=>Fr.account).filter(Fr=>Fr.factionId==Or)})}t.getPlayersOfFaction=_r})(factions);var gumdrop={},gumdropIdl={};Object.defineProperty(gumdropIdl,"__esModule",{value:!0});gumdropIdl.gumDropIdl=void 0;gumdropIdl.gumDropIdl={version:"0.0.0",name:"merkle_distributor",instructions:[{name:"newDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]},{name:"closeDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"receiver",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"walletBump",type:"u8"}]},{name:"claim",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"claimStatus",isMut:!0,isSigner:!1},{name:"from",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimCandy",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"claimCount",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"candyMachineConfig",isMut:!1,isSigner:!1},{name:"candyMachine",isMut:!0,isSigner:!1},{name:"candyMachineWallet",isMut:!0,isSigner:!1},{name:"candyMachineMint",isMut:!0,isSigner:!1},{name:"candyMachineMetadata",isMut:!0,isSigner:!1},{name:"candyMachineMasterEdition",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"candyMachineProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"walletBump",type:"u8"},{name:"claimBump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]}],accounts:[{name:"MerkleDistributor",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]}},{name:"ClaimStatus",type:{kind:"struct",fields:[{name:"isClaimed",type:"bool"},{name:"claimant",type:"publicKey"},{name:"claimedAt",type:"i64"},{name:"amount",type:"u64"}]}},{name:"ClaimCount",type:{kind:"struct",fields:[{name:"count",type:"u64"},{name:"claimant",type:"publicKey"}]}},{name:"CandyMachine",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"wallet",type:"publicKey"},{name:"tokenMint",type:{option:"publicKey"}},{name:"config",type:"publicKey"},{name:"data",type:{defined:"CandyMachineData"}},{name:"itemsRedeemed",type:"u64"},{name:"bump",type:"u8"}]}}],types:[{name:"CandyMachineData",type:{kind:"struct",fields:[{name:"uuid",type:"string"},{name:"price",type:"u64"},{name:"itemsAvailable",type:"u64"},{name:"goLiveDate",type:{option:"i64"}}]}}],events:[{name:"ClaimedEvent",fields:[{name:"index",type:"u64",index:!1},{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:300,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:301,name:"DropAlreadyClaimed",msg:"Drop already claimed."},{code:302,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:303,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:304,name:"TemporalMismatch",msg:"Temporal signer did not match distributor"}]};var hasRequiredGumdrop;function requireGumdrop(){return hasRequiredGumdrop||(hasRequiredGumdrop=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(kr,xr,Cr,Kr){Kr===void 0&&(Kr=Cr);var Fr=Object.getOwnPropertyDescriptor(xr,Cr);(!Fr||("get"in Fr?!xr.__esModule:Fr.writable||Fr.configurable))&&(Fr={enumerable:!0,get:function(){return xr[Cr]}}),Object.defineProperty(kr,Kr,Fr)}:function(kr,xr,Cr,Kr){Kr===void 0&&(Kr=Cr),kr[Kr]=xr[Cr]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(kr,xr){Object.defineProperty(kr,"default",{enumerable:!0,value:xr})}:function(kr,xr){kr.default=xr}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(kr){if(kr&&kr.__esModule)return kr;var xr={};if(kr!=null)for(var Cr in kr)Cr!=="default"&&Object.prototype.hasOwnProperty.call(kr,Cr)&&e(xr,kr,Cr);return r(xr,kr),xr},o=commonjsGlobal&&commonjsGlobal.__awaiter||function(kr,xr,Cr,Kr){function Fr(qr){return qr instanceof Cr?qr:new Cr(function(Gr){Gr(qr)})}return new(Cr||(Cr=Promise))(function(qr,Gr){function jr(ln){try{Jr(Kr.next(ln))}catch(tn){Gr(tn)}}function Vr(ln){try{Jr(Kr.throw(ln))}catch(tn){Gr(tn)}}function Jr(ln){ln.done?qr(ln.value):Fr(ln.value).then(jr,Vr)}Jr((Kr=Kr.apply(kr,xr||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.claimTokenInstructions=t.getMultipleClaimStatusAccounts=t.getClaimStatusAccount=t.getClaimStatusKey=void 0;const s=require$$0$1,a=require$$1$1,c=n(bs58),m=requireHelpers(),gr=gumdropIdl,_r=new s.web3.PublicKey("gdrpGjVffourzkdDRrQmySw4aTHr8a3xmQzzxSwFD1a"),wr=(kr,xr,Cr=_r)=>o(void 0,void 0,void 0,function*(){return yield s.web3.PublicKey.findProgramAddress([Buffer.from("ClaimStatus"),kr.toArrayLike(Buffer,"le",8),xr.toBuffer()],Cr)});t.getClaimStatusKey=wr;const Or=(kr,xr,Cr,Kr=_r)=>o(void 0,void 0,void 0,function*(){const Fr=new s.AnchorProvider(kr,null,null),qr=new s.Program(gr.gumDropIdl,Kr,Fr),Gr=yield(0,t.getClaimStatusKey)(xr,Cr,Kr);try{return yield qr.account.claimStatus.fetch(Gr[0])}catch{return null}});t.getClaimStatusAccount=Or;const Ir=(kr,xr,Cr,Kr=_r)=>o(void 0,void 0,void 0,function*(){const Fr=new s.AnchorProvider(kr,null,null),qr=new s.Program(gr.gumDropIdl,Kr,Fr),Gr=xr.map(Jr=>(0,t.getClaimStatusKey)(Jr,Cr,Kr)),jr=(yield Promise.all(Gr)).map(Jr=>Jr[0]);return yield qr.account.claimStatus.fetchMultiple(jr)});t.getMultipleClaimStatusAccounts=Ir;const Pr=kr=>o(void 0,void 0,void 0,function*(){const{connection:xr,claimUrl:Cr,playerPublicKey:Kr,programId:Fr}=kr,qr=new URLSearchParams(Cr.split("?")[1]),Gr=qr.get("distributor"),jr=qr.get("handle"),Vr=qr.get("amount"),Jr=qr.get("index"),ln=qr.get("proof"),tn=qr.get("tokenAcc");if(!Gr||!jr||!Vr||!Jr||!ln||!tn)throw new Error("Invalid claim");const sn=ln===""?[]:ln.split(",").map(an=>{const un=Buffer.from(c.decode(an));if(un.length!==32)throw new Error("Invalid proof hash length");return un}),dn=new s.web3.PublicKey(Gr),Rr=new s.web3.PublicKey(tn),vr=yield xr.getAccountInfo(Rr);if(vr===null)throw new Error("Could not fetch distributor token account");const Tr=a.AccountLayout.decode(vr.data),Lr=new s.web3.PublicKey(Tr.mint),Ur=new s.web3.PublicKey(jr),Hr=yield(0,m.getAssociatedTokenAddress)(Ur,Lr),nn=yield xr.getParsedTokenAccountsByOwner(Ur,{mint:Lr}),pn=new s.BN(Jr),Nr=new s.BN(Vr),[Er,Mr]=yield(0,t.getClaimStatusKey)(pn,dn,Fr),cn=new s.AnchorProvider(xr,null,null),Yr=new s.Program(gr.gumDropIdl,Fr,cn),Zr=[];return nn.value.length===0&&Zr.push(a.Token.createAssociatedTokenAccountInstruction(a.ASSOCIATED_TOKEN_PROGRAM_ID,a.TOKEN_PROGRAM_ID,Lr,Hr,Ur,Kr)),Zr.push(Yr.instruction.claim(Mr,pn,Nr,Kr,sn,{accounts:{distributor:dn,claimStatus:Er,from:Rr,to:Hr,temporal:Kr,payer:Kr,tokenProgram:a.TOKEN_PROGRAM_ID,systemProgram:s.web3.SystemProgram.programId}})),Zr});t.claimTokenInstructions=Pr}(gumdrop)),gumdrop}var score={},scoreIdl={};Object.defineProperty(scoreIdl,"__esModule",{value:!0});scoreIdl.baseIdl=void 0;scoreIdl.baseIdl={version:"0.0.0",name:"score",instructions:[{name:"processInitialize",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"atlasMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processRegisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"scorevarsShipBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]},{name:"processDeregisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processUpdateRewardRate",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"newRewardRatePerSecond",type:"u64"}]},{name:"processInitialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerFactionAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processPartialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processRefuel",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"fuelTokenAccountSource",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"fuelQuantity",type:"u64"}]},{name:"processRefeed",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"foodTokenAccountSource",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"foodQuantity",type:"u64"}]},{name:"processRearm",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"armsTokenAccountSource",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"armsQuantity",type:"u64"}]},{name:"processRepair",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"toolkitQuantity",type:"u64"}]},{name:"processSettle",accounts:[{name:"playerAccount",isMut:!1,isSigner:!1},{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processHarvest",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processWithdrawFuel",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountReturn",isMut:!0,isSigner:!1},{name:"fuelMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawFood",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountReturn",isMut:!0,isSigner:!1},{name:"foodMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawArms",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountReturn",isMut:!0,isSigner:!1},{name:"armsMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawShips",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"shipTokenAccountReturn",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"},{name:"treasuryBump",type:"u8"}]},{name:"processCloseAccounts",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"shipBump",type:"u8"},{name:"fuelBump",type:"u8"},{name:"foodBump",type:"u8"},{name:"armsBump",type:"u8"},{name:"escrowAuthBump",type:"u8"}]}],accounts:[{name:"ScoreVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"fuelMint",type:"publicKey"},{name:"foodMint",type:"publicKey"},{name:"armsMint",type:"publicKey"},{name:"toolkitMint",type:"publicKey"}]}},{name:"ScoreVarsShip",type:{kind:"struct",fields:[{name:"shipMint",type:"publicKey"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]}},{name:"ShipStaking",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"factionId",type:"u8"},{name:"shipMint",type:"publicKey"},{name:"shipQuantityInEscrow",type:"u64"},{name:"fuelQuantityInEscrow",type:"u64"},{name:"foodQuantityInEscrow",type:"u64"},{name:"armsQuantityInEscrow",type:"u64"},{name:"fuelCurrentCapacity",type:"u64"},{name:"foodCurrentCapacity",type:"u64"},{name:"armsCurrentCapacity",type:"u64"},{name:"healthCurrentCapacity",type:"u64"},{name:"stakedAtTimestamp",type:"i64"},{name:"fueledAtTimestamp",type:"i64"},{name:"fedAtTimestamp",type:"i64"},{name:"armedAtTimestamp",type:"i64"},{name:"repairedAtTimestamp",type:"i64"},{name:"currentCapacityTimestamp",type:"i64"},{name:"totalTimeStaked",type:"u64"},{name:"stakedTimePaid",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"totalRewardsPaid",type:"u64"}]}}],types:[{name:"Resource",type:{kind:"enum",variants:[{name:"Arms"},{name:"Fuel"},{name:"Food"},{name:"Toolkits"}]}}],errors:[{code:300,name:"ScorevarsNotInitialized",msg:"Scorevars auth is not initialized"},{code:301,name:"ScorevarsAuthInvalid",msg:"Scorevars auth invalid"},{code:302,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."},{code:303,name:"InvalidShipError",msg:"Invalid Ship Mint"},{code:304,name:"InvalidResourceError",msg:"Invalid Resource Mint"},{code:305,name:"ZeroResourceError",msg:"Resource Quantity must be >0."},{code:306,name:"ZeroShipError",msg:"Ship Quantity must be >0."},{code:307,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:308,name:"ResourceAmountTooSmall",msg:"Resource Amount Too Small, would add 0 seconds to capacity"},{code:309,name:"InvalidScoreVarsAccount",msg:"Invalid ScoreVars account for ship Staking Account given"},{code:310,name:"InvalidResourceWithdraw",msg:"Invalid Resource Withdraw, nothing to withdraw"},{code:311,name:"InvalidShipStakingOwner",msg:"Invalid Ship Staking Owner"},{code:312,name:"InvalidShipWithdraw",msg:"Invalid Ship Withdraw"},{code:313,name:"NotEnoughToolkits",msg:"Not enough toolkits for Ship Withdraw"},{code:314,name:"EscrowAccountNotZero",msg:"Escrow account must be 0 to close accounts"},{code:315,name:"IncorrectTokenAccountOwner",msg:"Token account does not have correct owner!"},{code:316,name:"UninitializedTokenAccount",msg:"Token or Mint Account is not initialized!"},{code:317,name:"IncorrectTokenAccountMint",msg:"Token or Mint Account mint is not correct!"}],metadata:{}};var scoreLogIdl={};Object.defineProperty(scoreLogIdl,"__esModule",{value:!0});scoreLogIdl.scoreLogBaseIdl=void 0;scoreLogIdl.scoreLogBaseIdl={version:"0.0.0",name:"score_logs",instructions:[],events:[{name:"ProcessInitialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"factionId",type:"u8",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessPartialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"previousShipQuantity",type:"u64",index:!1},{name:"addedShipQuantity",type:"u64",index:!1},{name:"newShipQuantity",type:"u64",index:!1},{name:"partialDepositTimestamp",type:"i64",index:!1}]},{name:"ProcessRearmMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityToDeposit",type:"u64",index:!1},{name:"armedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefeedMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityToDeposit",type:"u64",index:!1},{name:"fedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefuelMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityToDeposit",type:"u64",index:!1},{name:"fueledAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRepairMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"toolkitQuantityToDeposit",type:"u64",index:!1},{name:"repairedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessHarvestMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"rewardPayout",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"harvestTimestamp",type:"i64",index:!1}]},{name:"ProcessSettleMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"settleTimestamp",type:"i64",index:!1}]},{name:"ProcessArmsWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityWithdrawn",type:"u64",index:!1},{name:"armsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFoodWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityWithdrawn",type:"u64",index:!1},{name:"foodWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFuelWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityWithdrawn",type:"u64",index:!1},{name:"fuelWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessWithdrawShipsMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"shipsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessCloseAccountMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"accountClosedTimestamp",type:"i64",index:!1}]}]};var hasRequiredScore;function requireScore(){if(hasRequiredScore)return score;hasRequiredScore=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(Yr,Zr,an,un){function yn(On){return On instanceof an?On:new an(function(Tn){Tn(On)})}return new(an||(an=Promise))(function(On,Tn){function In(gn){try{on(un.next(gn))}catch(xn){Tn(xn)}}function en(gn){try{on(un.throw(gn))}catch(xn){Tn(xn)}}function on(gn){gn.done?On(gn.value):yn(gn.value).then(In,en)}on((un=un.apply(Yr,Zr||[])).next())})};Object.defineProperty(score,"__esModule",{value:!0}),score.closeAccountsInstruction=score.createWithdrawShipsInstruction=score.createWithdrawArmsInstruction=score.createWithdrawFoodInstruction=score.createWithdrawFuelInstruction=score.createHarvestInstruction=score.createSettleInstruction=score.createRepairInstruction=score.createRefuelInstruction=score.createRefeedInstruction=score.createRearmInstruction=score.createPartialDepositInstruction=score.createInitialDepositInstruction=score.createUpdateRewardRateInstruction=score.createDeregisterShipInstruction=score.createRegisterShipInstruction=score.createScoreVarsInitializeInstruction=score.getAllFleetsForUserPublicKey=score.getAllFleets=score.getAllRegisteredShips=score.getScoreTreasuryAuthAccount=score.getScoreTreasuryTokenAccount=score.getScoreVarsShipInfo=score.decodeEvent=score.getShipStakingAccountInfo=score.getScoreVarsInfo=score.getShipStakingAccount=score.getScoreEscrowAuthAccount=score.getScoreEscrowAccount=score.getScoreVarsShipAccount=score.getScoreVarsAccount=score.getScoreIDL=void 0;const e=require$$0$1,r=require$$1$1,n=require$$0$2,o=requireDist(),s=scoreIdl,a=scoreLogIdl,c=requireUtil(),m=new e.web3.PublicKey("FACTNmq2FhA2QNTnGM2aWJH3i7zT3cND5CgvjYTjyVYe");function gr(Yr){const Zr=s.baseIdl;return Zr.metadata.address=Yr.toBase58(),Zr}score.getScoreIDL=gr;function _r(Yr){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCOREVARS")],Yr)})}score.getScoreVarsAccount=_r;function wr(Yr,Zr){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCOREVARS_SHIP"),Zr.toBuffer()],Yr)})}score.getScoreVarsShipAccount=wr;function Or(Yr,Zr,an,un){return t(this,void 0,void 0,function*(){const yn=[Buffer.from("SCORE_ESCROW"),un.toBuffer(),Zr.toBuffer()];return an!==null&&yn.push(an.toBuffer()),e.web3.PublicKey.findProgramAddress(yn,Yr)})}score.getScoreEscrowAccount=Or;function Ir(Yr,Zr,an){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_ESCROW_AUTHORITY"),an.toBuffer(),Zr.toBuffer()],Yr)})}score.getScoreEscrowAuthAccount=Ir;function Pr(Yr,Zr,an){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_INFO"),an.toBuffer(),Zr.toBuffer()],Yr)})}score.getShipStakingAccount=Pr;function kr(Yr,Zr){return t(this,void 0,void 0,function*(){const an=new e.AnchorProvider(Yr,null,null),un=gr(Zr),yn=new e.Program(un,Zr,an),[On]=yield _r(Zr);return yield yn.account.scoreVars.fetch(On)})}score.getScoreVarsInfo=kr;function xr(Yr,Zr,an,un){return t(this,void 0,void 0,function*(){const yn=new e.AnchorProvider(Yr,null,null),On=gr(Zr),Tn=new e.Program(On,Zr,yn),[In]=yield Pr(Zr,an,un);return yield Tn.account.shipStaking.fetch(In)})}score.getShipStakingAccountInfo=xr;function Cr(Yr,Zr,an){return t(this,void 0,void 0,function*(){const un=new e.AnchorProvider(Yr,null,null);return new e.Program(a.scoreLogBaseIdl,Zr,un).coder.events.decode(an)})}score.decodeEvent=Cr;function Kr(Yr,Zr,an){return t(this,void 0,void 0,function*(){const un=new e.AnchorProvider(Yr,null,null),yn=gr(Zr),On=new e.Program(yn,Zr,un),[Tn]=yield wr(Zr,an);return yield On.account.scoreVarsShip.fetch(Tn)})}score.getScoreVarsShipInfo=Kr;function Fr(Yr){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_TREASURY")],Yr)})}score.getScoreTreasuryTokenAccount=Fr;function qr(Yr){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_TREASURY_AUTHORITY")],Yr)})}score.getScoreTreasuryAuthAccount=qr;function Gr(Yr,Zr){return t(this,void 0,void 0,function*(){const an=gr(Zr),un=new e.AnchorProvider(Yr,null,null),On=yield new e.Program(an,Zr,un).account.scoreVarsShip.all(),Tn=[];for(const In of On)Tn.push(In.account);return Tn})}score.getAllRegisteredShips=Gr;function jr(Yr,Zr){return t(this,void 0,void 0,function*(){const an=gr(Zr),un=new e.AnchorProvider(Yr,null,null),On=yield new e.Program(an,Zr,un).account.shipStaking.all(),Tn=[];for(const In of On)Tn.push(In.account);return Tn})}score.getAllFleets=jr;function Vr(Yr,Zr,an){return t(this,void 0,void 0,function*(){const un=gr(an),yn=new e.AnchorProvider(Yr,null,null),On=new e.Program(un,an,yn),Tn=yield On.account.scoreVarsShip.all(),In=[];for(const gn of Tn){const[xn]=yield Pr(an,gn.account.shipMint,Zr);In.push(xn)}return(yield On.account.shipStaking.fetchMultiple(In)).filter(gn=>gn!==null).map(gn=>gn)})}score.getAllFleetsForUserPublicKey=Vr;function Jr(Yr,Zr,an,un,yn,On,Tn,In){return t(this,void 0,void 0,function*(){const en=gr(In),on=new e.AnchorProvider(Yr,null,null),gn=new e.Program(en,In,on),[xn,wn]=yield Fr(In),[$n,mn]=yield qr(In),[kn,Rn]=yield _r(In);return yield gn.instruction.processInitialize(Rn,wn,mn,{accounts:{updateAuthorityAccount:Zr,scoreVarsAccount:kn,tokenProgram:r.TOKEN_PROGRAM_ID,systemProgram:n.SystemProgram.programId,rent:e.web3.SYSVAR_RENT_PUBKEY,treasuryTokenAccount:xn,treasuryAuthorityAccount:$n,atlasMint:an,fuelMint:un,foodMint:yn,armsMint:On,toolkitMint:Tn},signers:[]})})}score.createScoreVarsInitializeInstruction=Jr;function ln(Yr,Zr,an,un,yn,On,Tn,In,en,on,gn,xn,wn){return t(this,void 0,void 0,function*(){const $n=gr(wn),mn=new e.AnchorProvider(Yr,null,null),kn=new e.Program($n,wn,mn),[Rn,rn]=yield wr(wn,an),[fn,vn]=yield _r(wn);return yield kn.instruction.processRegisterShip(vn,rn,new e.BN(xn),un,yn,On,Tn,In,en,on,gn,{accounts:{updateAuthorityAccount:Zr,scoreVarsAccount:fn,scoreVarsShipAccount:Rn,shipMint:an,systemProgram:n.SystemProgram.programId},signers:[]})})}score.createRegisterShipInstruction=ln;function tn(Yr,Zr,an,un){return t(this,void 0,void 0,function*(){const yn=gr(un),On=new e.AnchorProvider(Yr,null,null),Tn=new e.Program(yn,un,On),[In,en]=yield wr(un,an),[on,gn]=yield _r(un);return yield Tn.instruction.processDeregisterShip(gn,en,{accounts:{updateAuthorityAccount:Zr,scoreVarsAccount:on,scoreVarsShipAccount:In,shipMint:an},signers:[]})})}score.createDeregisterShipInstruction=tn;function sn(Yr,Zr,an,un,yn){return t(this,void 0,void 0,function*(){const On=gr(yn),Tn=new e.AnchorProvider(Yr,null,null),In=new e.Program(On,yn,Tn),[en,on]=yield wr(yn,an),[gn,xn]=yield _r(yn);return yield In.instruction.processUpdateRewardRate(xn,on,new e.BN(un),{accounts:{updateAuthorityAccount:Zr,scoreVarsAccount:gn,scoreVarsShipAccount:en,shipMint:an},signers:[]})})}score.createUpdateRewardRateInstruction=sn;function dn(Yr,Zr,an,un,yn,On){return t(this,void 0,void 0,function*(){const[Tn,In]=yield Ir(On,un,Zr),[en,on]=yield Or(On,un,null,Zr),[gn,xn]=yield Pr(On,un,Zr),[wn,$n]=yield wr(On,un),[mn]=yield(0,o.getPlayerFactionPDA)(Zr,m),kn=gr(On),Rn=new e.AnchorProvider(Yr,null,null);return yield new e.Program(kn,On,Rn).instruction.processInitialDeposit(xn,$n,In,on,new e.BN(an),{accounts:{playerAccount:Zr,shipStakingAccount:gn,scoreVarsShipAccount:wn,playerFactionAccount:mn,escrowAuthority:Tn,systemProgram:e.web3.SystemProgram.programId,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:un,shipTokenAccountSource:yn,shipTokenAccountEscrow:en}})})}score.createInitialDepositInstruction=dn;function Rr(Yr,Zr,an,un,yn,On){return t(this,void 0,void 0,function*(){const[Tn,In]=yield Ir(On,un,Zr),[en,on]=yield Or(On,un,null,Zr),[gn,xn]=yield Pr(On,un,Zr),[wn,$n]=yield wr(On,un),mn=gr(On),kn=new e.AnchorProvider(Yr,null,null);return yield new e.Program(mn,On,kn).instruction.processPartialDeposit(xn,$n,In,on,new e.BN(an),{accounts:{playerAccount:Zr,shipStakingAccount:gn,scoreVarsShipAccount:wn,escrowAuthority:Tn,systemProgram:e.web3.SystemProgram.programId,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:un,shipTokenAccountSource:yn,shipTokenAccountEscrow:en}})})}score.createPartialDepositInstruction=Rr;function vr(Yr,Zr,an,un,yn,On,Tn,In){return t(this,void 0,void 0,function*(){const[en,on]=yield Ir(In,yn,an),[gn,xn]=yield Or(In,yn,On,an),[wn,$n]=yield Pr(In,yn,an),[mn,kn]=yield wr(In,yn),[Rn,rn]=yield _r(In),fn=gr(In),vn=new e.AnchorProvider(Yr,null,null);return yield new e.Program(fn,In,vn).instruction.processRearm($n,rn,kn,on,xn,new e.BN(un),{accounts:{tokenOwnerAccount:Zr,playerAccount:an,shipStakingAccount:wn,scoreVarsAccount:Rn,scoreVarsShipAccount:mn,escrowAuthority:en,systemProgram:e.web3.SystemProgram.programId,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:yn,armsMint:On,armsTokenAccountSource:Tn,armsTokenAccountEscrow:gn}})})}score.createRearmInstruction=vr;function Tr(Yr,Zr,an,un,yn,On,Tn,In){return t(this,void 0,void 0,function*(){const[en,on]=yield Ir(In,yn,an),[gn,xn]=yield Or(In,yn,On,an),[wn,$n]=yield Pr(In,yn,an),[mn,kn]=yield wr(In,yn),[Rn,rn]=yield _r(In),fn=gr(In),vn=new e.AnchorProvider(Yr,null,null);return yield new e.Program(fn,In,vn).instruction.processRefeed($n,rn,kn,on,xn,new e.BN(un),{accounts:{tokenOwnerAccount:Zr,playerAccount:an,shipStakingAccount:wn,scoreVarsAccount:Rn,scoreVarsShipAccount:mn,escrowAuthority:en,systemProgram:e.web3.SystemProgram.programId,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:yn,foodMint:On,foodTokenAccountSource:Tn,foodTokenAccountEscrow:gn}})})}score.createRefeedInstruction=Tr;function Lr(Yr,Zr,an,un,yn,On,Tn,In){return t(this,void 0,void 0,function*(){const[en,on]=yield Ir(In,yn,an),[gn,xn]=yield Or(In,yn,On,an),[wn,$n]=yield Pr(In,yn,an),[mn,kn]=yield wr(In,yn),[Rn,rn]=yield _r(In),fn=gr(In),vn=new e.AnchorProvider(Yr,null,null);return yield new e.Program(fn,In,vn).instruction.processRefuel($n,rn,kn,on,xn,new e.BN(un),{accounts:{tokenOwnerAccount:Zr,playerAccount:an,shipStakingAccount:wn,scoreVarsAccount:Rn,scoreVarsShipAccount:mn,escrowAuthority:en,systemProgram:e.web3.SystemProgram.programId,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:yn,fuelMint:On,fuelTokenAccountSource:Tn,fuelTokenAccountEscrow:gn}})})}score.createRefuelInstruction=Lr;function Ur(Yr,Zr,an,un,yn,On,Tn,In){return t(this,void 0,void 0,function*(){const[en,on]=yield Pr(In,yn,an),[gn,xn]=yield wr(In,yn),[wn,$n]=yield _r(In),mn=gr(In),kn=new e.AnchorProvider(Yr,null,null);return yield new e.Program(mn,In,kn).instruction.processRepair(on,$n,xn,new e.BN(un),{accounts:{tokenOwnerAccount:Zr,playerAccount:an,shipStakingAccount:en,scoreVarsAccount:wn,scoreVarsShipAccount:gn,systemProgram:e.web3.SystemProgram.programId,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:yn,toolkitMint:On,toolkitTokenAccountSource:Tn}})})}score.createRepairInstruction=Ur;function Hr(Yr,Zr,an,un,yn){return t(this,void 0,void 0,function*(){const[On,Tn]=yield Pr(yn,un,Zr),[In,en]=yield wr(yn,un),[on,gn]=yield _r(yn),xn=gr(yn),wn=new e.AnchorProvider(Yr,null,null);return yield new e.Program(xn,yn,wn).instruction.processSettle(Tn,gn,en,{accounts:{playerAccount:Zr,updateAuthorityAccount:an,shipStakingAccount:On,scoreVarsShipAccount:In,scoreVarsAccount:on,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:un}})})}score.createSettleInstruction=Hr;function nn(Yr,Zr,an,un,yn){return t(this,void 0,void 0,function*(){const[On,Tn]=yield Pr(yn,un,Zr),[In,en]=yield wr(yn,un),[on,gn]=yield Fr(yn),[xn,wn]=yield qr(yn),$n=gr(yn),mn=new e.AnchorProvider(Yr,null,null),kn=new e.Program($n,yn,mn),Rn={signers:[],instructions:[]};let rn;const fn=yield(0,c.getTokenAccount)(Yr,Zr,an),vn=fn.tokenAccount;"createInstruction"in fn&&Rn.instructions.push(fn.createInstruction),vn instanceof e.web3.Keypair?(rn=vn.publicKey,Rn.signers.push(vn)):rn=vn;const En=yield kn.instruction.processHarvest(Tn,en,gn,wn,{accounts:{playerAccount:Zr,shipStakingAccount:On,scoreVarsShipAccount:In,playerAtlasTokenAccount:rn,treasuryTokenAccount:on,treasuryAuthorityAccount:xn,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:un}});return Rn.instructions.push(En),Rn})}score.createHarvestInstruction=nn;function pn(Yr,Zr,an,un,yn){return t(this,void 0,void 0,function*(){const[On,Tn]=yield Ir(yn,un,Zr),[In,en]=yield Or(yn,un,an,Zr),[on,gn]=yield Pr(yn,un,Zr),[xn,wn]=yield wr(yn,un),[$n,mn]=yield _r(yn),kn=gr(yn),Rn=new e.AnchorProvider(Yr,null,null),rn=new e.Program(kn,yn,Rn),fn={signers:[],instructions:[]};let vn;const En=yield(0,c.getTokenAccount)(Yr,Zr,an),Bn=En.tokenAccount;"createInstruction"in En&&fn.instructions.push(En.createInstruction),Bn instanceof e.web3.Keypair?(vn=Bn.publicKey,fn.signers.push(Bn)):vn=Bn;const br=yield rn.instruction.processWithdrawFuel(gn,mn,wn,Tn,en,{accounts:{playerAccount:Zr,shipStakingAccount:on,scoreVarsAccount:$n,scoreVarsShipAccount:xn,fuelTokenAccountEscrow:In,fuelTokenAccountReturn:vn,fuelMint:an,escrowAuthority:On,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:un}});return fn.instructions.push(br),fn})}score.createWithdrawFuelInstruction=pn;function Nr(Yr,Zr,an,un,yn){return t(this,void 0,void 0,function*(){const[On,Tn]=yield Ir(yn,un,Zr),[In,en]=yield Or(yn,un,an,Zr),[on,gn]=yield Pr(yn,un,Zr),[xn,wn]=yield wr(yn,un),[$n,mn]=yield _r(yn),kn=gr(yn),Rn=new e.AnchorProvider(Yr,null,null),rn=new e.Program(kn,yn,Rn),fn={signers:[],instructions:[]};let vn;const En=yield(0,c.getTokenAccount)(Yr,Zr,an),Bn=En.tokenAccount;"createInstruction"in En&&fn.instructions.push(En.createInstruction),Bn instanceof e.web3.Keypair?(vn=Bn.publicKey,fn.signers.push(Bn)):vn=Bn;const br=yield rn.instruction.processWithdrawFood(gn,mn,wn,Tn,en,{accounts:{playerAccount:Zr,shipStakingAccount:on,scoreVarsAccount:$n,scoreVarsShipAccount:xn,foodTokenAccountEscrow:In,foodTokenAccountReturn:vn,foodMint:an,escrowAuthority:On,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:un}});return fn.instructions.push(br),fn})}score.createWithdrawFoodInstruction=Nr;function Er(Yr,Zr,an,un,yn){return t(this,void 0,void 0,function*(){const[On,Tn]=yield Ir(yn,un,Zr),[In,en]=yield Or(yn,un,an,Zr),[on,gn]=yield Pr(yn,un,Zr),[xn,wn]=yield wr(yn,un),[$n,mn]=yield _r(yn),kn=gr(yn),Rn=new e.AnchorProvider(Yr,null,null),rn=new e.Program(kn,yn,Rn),fn={signers:[],instructions:[]};let vn;const En=yield(0,c.getTokenAccount)(Yr,Zr,an),Bn=En.tokenAccount;"createInstruction"in En&&fn.instructions.push(En.createInstruction),Bn instanceof e.web3.Keypair?(vn=Bn.publicKey,fn.signers.push(Bn)):vn=Bn;const br=yield rn.instruction.processWithdrawArms(gn,mn,wn,Tn,en,{accounts:{playerAccount:Zr,shipStakingAccount:on,scoreVarsAccount:$n,scoreVarsShipAccount:xn,armsTokenAccountEscrow:In,armsTokenAccountReturn:vn,armsMint:an,escrowAuthority:On,tokenProgram:r.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:un}});return fn.instructions.push(br),fn})}score.createWithdrawArmsInstruction=Er;function Mr(Yr,Zr,an,un,yn,On){return t(this,void 0,void 0,function*(){const[Tn,In]=yield Ir(On,an,Zr),[en,on]=yield Or(On,an,null,Zr),[gn,xn]=yield Pr(On,an,Zr),[wn,$n]=yield wr(On,an),[mn,kn]=yield _r(On),[Rn,rn]=yield Fr(On),[fn,vn]=yield qr(On),En={signers:[],instructions:[]},Bn=gr(On),br=new e.AnchorProvider(Yr,null,null),l=new e.Program(Bn,On,br);let d;const Ar=yield(0,c.getTokenAccount)(Yr,Zr,un),$r=Ar.tokenAccount;"createInstruction"in Ar&&En.instructions.push(Ar.createInstruction),$r instanceof e.web3.Keypair?(d=$r.publicKey,En.signers.push($r)):d=$r;let Dr;const Wr=yield(0,c.getTokenAccount)(Yr,Zr,an),Pn=Wr.tokenAccount;"createInstruction"in Wr&&En.instructions.push(Wr.createInstruction),Pn instanceof e.web3.Keypair?(Dr=Pn.publicKey,En.signers.push(Pn)):Dr=Pn;let Fn;const Cn=yield(0,c.getTokenAccount)(Yr,Zr,yn),jn=Cn.tokenAccount;"createInstruction"in Cn&&En.instructions.push(Cn.createInstruction),jn instanceof e.web3.Keypair?(Fn=jn.publicKey,En.signers.push(jn)):Fn=jn;const Un=yield l.instruction.processWithdrawShips(xn,kn,$n,In,on,vn,rn,{accounts:{playerAccount:Zr,shipStakingAccount:gn,scoreVarsAccount:mn,scoreVarsShipAccount:wn,playerAtlasTokenAccount:d,shipTokenAccountEscrow:en,shipTokenAccountReturn:Dr,toolkitTokenAccountSource:Fn,treasuryTokenAccount:Rn,treasuryAuthorityAccount:fn,escrowAuthority:Tn,tokenProgram:r.TOKEN_PROGRAM_ID,systemProgram:e.web3.SystemProgram.programId,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:an,toolkitMint:yn}});return En.instructions.push(Un),En})}score.createWithdrawShipsInstruction=Mr;function cn(Yr,Zr,an,un,yn,On,Tn){return t(this,void 0,void 0,function*(){const[In,en]=yield Ir(Tn,an,Zr),[on,gn]=yield Or(Tn,an,null,Zr),[xn,wn]=yield Or(Tn,an,un,Zr),[$n,mn]=yield Or(Tn,an,yn,Zr),[kn,Rn]=yield Or(Tn,an,On,Zr),[rn,fn]=yield _r(Tn),[vn,En]=yield Pr(Tn,an,Zr),Bn=gr(Tn),br=new e.AnchorProvider(Yr,null,null);return yield new e.Program(Bn,Tn,br).instruction.processCloseAccounts(En,fn,gn,wn,mn,Rn,en,{accounts:{playerAccount:Zr,shipStakingAccount:vn,scoreVarsAccount:rn,shipTokenAccountEscrow:on,fuelTokenAccountEscrow:xn,foodTokenAccountEscrow:$n,armsTokenAccountEscrow:kn,escrowAuthority:In,tokenProgram:r.TOKEN_PROGRAM_ID,systemProgram:e.web3.SystemProgram.programId,shipMint:an,fuelMint:un,foodMint:yn,armsMint:On,clock:e.web3.SYSVAR_CLOCK_PUBKEY}})})}return score.closeAccountsInstruction=cn,score}var types={};Object.defineProperty(types,"__esModule",{value:!0});var scoreHelpers={},hasRequiredScoreHelpers;function requireScoreHelpers(){if(hasRequiredScoreHelpers)return scoreHelpers;hasRequiredScoreHelpers=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(xr,Cr,Kr,Fr){function qr(Gr){return Gr instanceof Kr?Gr:new Kr(function(jr){jr(Gr)})}return new(Kr||(Kr=Promise))(function(Gr,jr){function Vr(tn){try{ln(Fr.next(tn))}catch(sn){jr(sn)}}function Jr(tn){try{ln(Fr.throw(tn))}catch(sn){jr(sn)}}function ln(tn){tn.done?Gr(tn.value):qr(tn.value).then(Vr,Jr)}ln((Fr=Fr.apply(xr,Cr||[])).next())})},e=commonjsGlobal&&commonjsGlobal.__importDefault||function(xr){return xr&&xr.__esModule?xr:{default:xr}};Object.defineProperty(scoreHelpers,"__esModule",{value:!0}),scoreHelpers.sendTokens=scoreHelpers.confirmTokenBalance=scoreHelpers.createMint=scoreHelpers.mintTokens=scoreHelpers.createAssociatedTokenAccountInstruction=scoreHelpers.createRequestUnitsInstruction=scoreHelpers.Numberu32=scoreHelpers.createATokenAccount=scoreHelpers.getAtaForMint=void 0;const r=require$$0$1,n=require$$1$1,o=requireUtil(),s=requireAssert(),a=e(bn.exports);function c(xr,Cr){return t(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([Cr.toBuffer(),n.TOKEN_PROGRAM_ID.toBuffer(),xr.toBuffer()],n.ASSOCIATED_TOKEN_PROGRAM_ID)})}scoreHelpers.getAtaForMint=c;function m(xr,Cr,Kr,Fr){return t(this,void 0,void 0,function*(){Kr=Kr||xr.wallet.publicKey,Fr=Fr||xr.wallet.publicKey;const[qr]=yield c(Cr,Fr),Gr=new r.web3.Transaction,jr=yield wr(qr,Kr,Fr,Cr);return Gr.add(jr),yield xr.sendAndConfirm(Gr),qr})}scoreHelpers.createATokenAccount=m;class gr extends a.default{toBuffer(){const Cr=super.toArray().reverse(),Kr=Buffer.from(Cr);if(Kr.length===4)return Kr;const Fr=Buffer.alloc(4);return Kr.copy(Fr),Fr}static fromBuffer(Cr){return new a.default([...Cr].reverse().map(Kr=>`00${Kr.toString(16)}`.slice(-2)).join(""),16)}}scoreHelpers.Numberu32=gr;function _r(xr){return t(this,void 0,void 0,function*(){const Cr=new gr(1e6),Kr=Buffer.from([0]),Fr=Cr.toBuffer();return new r.web3.TransactionInstruction({keys:[{pubkey:xr,isSigner:!0,isWritable:!0}],programId:new r.web3.PublicKey("ComputeBudget111111111111111111111111111111"),data:Buffer.concat([Kr,Fr])})})}scoreHelpers.createRequestUnitsInstruction=_r;function wr(xr,Cr,Kr,Fr){return t(this,void 0,void 0,function*(){const qr=[{pubkey:Cr,isSigner:!0,isWritable:!0},{pubkey:xr,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Fr,isSigner:!1,isWritable:!1},{pubkey:r.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:n.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:r.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new r.web3.TransactionInstruction({keys:qr,programId:n.ASSOCIATED_TOKEN_PROGRAM_ID,data:Buffer.from([])})})}scoreHelpers.createAssociatedTokenAccountInstruction=wr;function Or(xr,Cr,Kr,Fr,qr){return t(this,void 0,void 0,function*(){const Gr=new r.web3.Transaction;return qr=qr||xr.wallet.publicKey,Gr.add(n.Token.createMintToInstruction(n.TOKEN_PROGRAM_ID,Cr,Kr,qr,[],Fr)),yield xr.sendAndConfirm(Gr)})}scoreHelpers.mintTokens=Or;function Ir(xr,Cr,Kr,Fr){return t(this,void 0,void 0,function*(){const qr=r.web3.Keypair.generate(),Gr=new r.web3.Transaction,jr=yield xr.connection.getMinimumBalanceForRentExemption(n.MintLayout.span);Kr=Kr||xr.wallet.publicKey,Fr=Fr||xr.wallet.publicKey;const Vr=r.web3.SystemProgram.createAccount({fromPubkey:xr.wallet.publicKey,newAccountPubkey:qr.publicKey,lamports:jr,space:n.MintLayout.span,programId:n.TOKEN_PROGRAM_ID});Gr.add(Vr);const Jr=n.Token.createInitMintInstruction(n.TOKEN_PROGRAM_ID,qr.publicKey,Cr,Kr,Fr);return Gr.add(Jr),yield xr.sendAndConfirm(Gr,[qr]),qr.publicKey})}scoreHelpers.createMint=Ir;function Pr(xr,Cr,Kr,Fr){return t(this,void 0,void 0,function*(){const qr=yield xr.connection.getAccountInfo(Cr,"recent");if(Fr===!0&&(0,s.strict)(qr===null),qr!==null){const Gr=(0,o.byteArrayToLong)(qr.data.slice(64,72));(0,s.strict)(Gr==Kr,`On-chain Token amount of ${Gr} does not match expected amount ${Kr}`)}else console.log("Token account %s does not exist",Cr.toString())})}scoreHelpers.confirmTokenBalance=Pr;function kr(xr,Cr,Kr,Fr){return t(this,void 0,void 0,function*(){const qr=new r.web3.Transaction;return qr.add(n.Token.createTransferInstruction(n.TOKEN_PROGRAM_ID,Cr,Kr,xr.wallet.publicKey,[],Fr)),yield xr.sendAndConfirm(qr)})}return scoreHelpers.sendTokens=kr,scoreHelpers}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,a,c)}:function(n,o,s,a){a===void 0&&(a=s),n[a]=o[s]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(requireAtlasStaking(),t),r(factions,t),r(requireGumdrop(),t),r(requireMarketplace(),t),r(requireScore(),t),r(types,t),r(requireScoreHelpers(),t),r(requireGmHelper(),t),r(requireUtil(),t)}(dist)),dist}var distExports=requireDist();const TOKEN_USDC=new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),TOKEN_ATLAS=new PublicKey("ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx"),SERUMRPC="https://solana-api.projectserum.com",useStaratlasGmStore=defineStore({id:"staratlasGmStore",state:()=>({client:new distExports.GmClientService,connection:new Connection(SERUMRPC),orders:[],atlasOrders:{buyOrders:[],sellOrders:[]},usdcOrders:{buyOrders:[],sellOrders:[]}}),actions:{async getOpenOrdersForAsset(t){await this.client.getOpenOrdersForAsset(this.connection,new PublicKey(t),TRADE_PROGRAM).then(e=>{this.orders=e,this.atlasOrders.buyOrders=this.orders.filter(r=>r.orderType==="buy"&&r.currencyMint===TOKEN_ATLAS.toString()).sort((r,n)=>r.uiPrice-n.uiPrice),this.atlasOrders.sellOrders=this.orders.filter(r=>r.orderType==="sell"&&r.currencyMint===TOKEN_ATLAS.toString()).sort((r,n)=>r.uiPrice-n.uiPrice),this.usdcOrders.buyOrders=this.orders.filter(r=>r.orderType==="buy"&&r.currencyMint===TOKEN_USDC.toString()).sort((r,n)=>r.uiPrice-n.uiPrice),this.usdcOrders.sellOrders=this.orders.filter(r=>r.orderType==="sell"&&r.currencyMint===TOKEN_USDC.toString()).sort((r,n)=>r.uiPrice-n.uiPrice)}).catch(e=>console.log("{getOpenOrdersForAssetError}: "+e))}}}),_hoisted_1$2=createBaseVNode("h1",null,"Asset list",-1),_hoisted_2$2=["onClick"],_sfc_main$3=defineComponent({__name:"AssetsList",setup(t){const{allAssets:e}=storeToRefs(useAssetsStore());ref();const r=useStaratlasGmStore();return useAssetsStore().init(),(o,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2,createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e),a=>(openBlock(),createElementBlock("p",{key:a._id,onClick:c=>unref(r).getOpenOrdersForAsset(a.mint).then(()=>{})},toDisplayString(a.name),9,_hoisted_2$2))),128))])],64))}}),_hoisted_1$1=createBaseVNode("h1",null,"Orderbook",-1),_hoisted_2$1=createBaseVNode("option",null,"ATLAS",-1),_hoisted_3=createBaseVNode("option",null,"USDC",-1),_hoisted_4=[_hoisted_2$1,_hoisted_3],_hoisted_5={class:"order-type-container"},_hoisted_6=createBaseVNode("p",null,"Sell orders:",-1),_hoisted_7={class:"order-type-container"},_hoisted_8=createBaseVNode("p",null,"Buy orders:",-1),_sfc_main$2=defineComponent({__name:"OrderbookList",setup(t){const{atlasOrders:e,usdcOrders:r}=storeToRefs(useStaratlasGmStore()),n=ref("USDC");return(o,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1,createBaseVNode("div",null,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>n.value=a)},_hoisted_4,512),[[vModelSelect,n.value]]),createBaseVNode("div",_hoisted_5,[_hoisted_6,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value==="ATLAS"?unref(e).sellOrders:unref(r).sellOrders,a=>(openBlock(),createElementBlock("p",{key:a.id},toDisplayString(a.uiPrice),1))),128))]),createBaseVNode("div",_hoisted_7,[_hoisted_8,(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value==="ATLAS"?unref(e).buyOrders:unref(r).buyOrders,a=>(openBlock(),createElementBlock("p",{key:a.id},toDisplayString(a.uiPrice),1))),128))])])],64))}}),OrderbookList_vue_vue_type_style_index_0_lang="",_hoisted_1={class:""},_hoisted_2={class:"grid grid-cols-4 gap-4"},_sfc_main$1=defineComponent({__name:"MarketplaceView",setup(t){return onMounted(async()=>{useTokenPriceStore(),useSolanaNetworkStore(),useStaratlasGmStore(),await useAssetsStore().init()}),(e,r)=>(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(_sfc_main$5),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",null,[createVNode(_sfc_main$2)]),createBaseVNode("div",null,[createVNode(OrderSetter)]),createBaseVNode("div",null,[createVNode(_sfc_main$3)])])]))}}),_sfc_main={};function _sfc_render(t,e){return openBlock(),createElementBlock("h1",null,"P2P")}const PersonToPersonView=_export_sfc(_sfc_main,[["render",_sfc_render]]),bootstrapIcons="",styles="",scriptRel="modulepreload",assetsURL=function(t,e){return new URL(t,e).href},seen={},__vitePreload=function t(e,r,n){return!r||r.length===0?e():Promise.all(r.map(o=>{if(o=assetsURL(o,n),o in seen)return;seen[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":scriptRel,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((m,gr)=>{c.addEventListener("load",m),c.addEventListener("error",()=>gr(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())},PhantomWalletName="Phantom";class PhantomWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(e={}){super(),this.name=PhantomWalletName,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._disconnected=()=>{const r=this._wallet;r&&(r.off("disconnect",this._disconnected),r.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._accountChanged=r=>{const n=this._publicKey;if(!!n){try{r=new PublicKey(r.toBytes())}catch(o){this.emit("error",new WalletPublicKeyError(o?.message,o));return}n.equals(r)||(this._publicKey=r,this.emit("connect",r))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.isConnected}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(n){throw new WalletConnectionError(n?.message,n)}if(!e.publicKey)throw new WalletAccountError;let r;try{r=new PublicKey(e.publicKey.toBytes())}catch(n){throw new WalletPublicKeyError(n?.message,n)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=r,this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(r){this.emit("error",new WalletDisconnectionError(r?.message,r))}}this.emit("disconnect")}async sendTransaction(e,r,n={}){try{const o=this._wallet;if(!o)throw new WalletNotConnectedError;try{const{signers:s,...a}=n;e=await this.prepareTransaction(e,r,a),s?.length&&e.partialSign(...s),a.preflightCommitment=a.preflightCommitment||r.commitment;const{signature:c}=await o.signAndSendTransaction(e,a);return c}catch(s){throw s instanceof WalletError?s:new WalletSendTransactionError(s?.message,s)}}catch(o){throw this.emit("error",o),o}}async signTransaction(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{return await r.signTransaction(e)||e}catch(n){throw new WalletSignTransactionError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{return await r.signAllTransactions(e)||e}catch(n){throw new WalletSignTransactionError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{const{signature:n}=await r.signMessage(e);return n}catch(n){throw new WalletSignMessageError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}}const SlopeWalletName="Slope";class SlopeWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(e={}){super(),this.name=SlopeWalletName,this.url="https://slope.finance",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iNjQiIGZpbGw9IiM2RTY2RkEiLz4KPHBhdGggZD0iTTI3Ljk0NzUgNTIuMTU5Nkw1MS45ODI2IDI4LjA1NzJMNzIuNjA5OCA3LjY1Mzg5QzczLjg3MzQgNi40MDQwMSA3Ni4wMTc4IDcuMjk5MSA3Ni4wMTc4IDkuMDc2NDJMNzYuMDE4NyA1Mi4xNTlMNTEuOTgzNiA3Ni4xMjY4TDI3Ljk0NzUgNTIuMTU5NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zNzk1XzI1NTQzKSIvPgo8cGF0aCBkPSJNMTAwLjA1MyA3NS45OTNMNzYuMDE4IDUxLjk1OEw1MS45ODI5IDc1Ljk5MzFMNTEuOTgyOSAxMTguOTI0QzUxLjk4MjkgMTIwLjcwMyA1NC4xMzEyIDEyMS41OTcgNTUuMzkzNyAxMjAuMzQzTDEwMC4wNTMgNzUuOTkzWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3OTVfMjU1NDMpIi8+CjxwYXRoIGQ9Ik0yNy45NDcgNTIuMTYwMUg0NC42ODM5QzQ4LjcxNDcgNTIuMTYwMSA1MS45ODIyIDU1LjQyNzYgNTEuOTgyMiA1OS40NTgzVjc2LjEyNjlIMzUuMjQ1M0MzMS4yMTQ2IDc2LjEyNjkgMjcuOTQ3IDcyLjg1OTQgMjcuOTQ3IDY4LjgyODdWNTIuMTYwMVoiIGZpbGw9IiNGMUYwRkYiLz4KPHBhdGggZD0iTTc2LjAxNzggNTIuMTYwMUg5Mi43NTQ3Qzk2Ljc4NTUgNTIuMTYwMSAxMDAuMDUzIDU1LjQyNzYgMTAwLjA1MyA1OS40NTgzVjc2LjEyNjlIODMuMzE2MUM3OS4yODU0IDc2LjEyNjkgNzYuMDE3OCA3Mi44NTk0IDc2LjAxNzggNjguODI4N1Y1Mi4xNjAxWiIgZmlsbD0iI0YxRjBGRiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI1MS45ODMxIiB5MT0iNy4wNzE1NSIgeDI9IjUxLjk4MzEiIHkyPSI3Ni4xMjY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNBOEFERkYiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0ODU1NiIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI3Ni4wMTgiIHkxPSI1MS45NTgiIHgyPSI3Ni4wMTgiIHkyPSIxMjAuOTI4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yNjA3ODQiIHN0b3AtY29sb3I9IiNCNkJBRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTRFMkZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>typeof window.Slope=="function"||window.slopeApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Installed||typeof window.Slope!="function")throw new WalletNotReadyError;this._connecting=!0;const e=new window.Slope;let r;try{({data:r}=await e.connect())}catch(o){throw new WalletConnectionError(o?.message,o)}if(!r.publicKey)throw new WalletAccountError;let n;try{n=new PublicKey(r.publicKey)}catch(o){throw new WalletPublicKeyError(o?.message,o)}this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){this._wallet=null,this._publicKey=null;try{let r;try{({msg:r}=await e.disconnect())}catch(n){throw new WalletDisconnectionError(n?.message,n)}if(r!=="ok")throw new WalletDisconnectionError(r)}catch(r){this.emit("error",r)}}this.emit("disconnect")}async signTransaction(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{const n=bs58.encode(e.serializeMessage()),{msg:o,data:s}=await r.signTransaction(n);if(!s.publicKey||!s.signature)throw new WalletSignTransactionError(o);const a=new PublicKey(s.publicKey),c=bs58.decode(s.signature);return e.addSignature(a,c),e}catch(n){throw n instanceof WalletError?n:new WalletSignTransactionError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{const n=e.map(m=>bs58.encode(m.serializeMessage())),{msg:o,data:s}=await r.signAllTransactions(n),a=e.length;if(!s.publicKey||s.signatures?.length!==a)throw new WalletSignTransactionError(o);const c=new PublicKey(s.publicKey);for(let m=0;m<a;m++)e[m].addSignature(c,bs58.decode(s.signatures[m]));return e}catch(n){throw n instanceof WalletError?n:new WalletSignTransactionError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{const n=await r.signMessage(e);return bs58.decode(n.data.signature)}catch(n){throw new WalletSignMessageError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}}const SolflareWalletName="Solflare";class SolflareWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(e={}){super(),this.name=SolflareWalletName,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Loadable,this._disconnected=()=>{const r=this._wallet;r&&(r.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Loadable&&this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;let e;try{e=(await __vitePreload(()=>import("./index.5b17ca35.js"),[],import.meta.url)).default}catch(o){throw new WalletLoadError(o?.message,o)}let r;try{r=new e({network:this._config.network})}catch(o){throw new WalletConfigError(o?.message,o)}if(this._connecting=!0,!r.connected)try{await r.connect()}catch(o){throw new WalletConnectionError(o?.message,o)}if(!r.publicKey)throw new WalletConnectionError;let n;try{n=new PublicKey(r.publicKey.toBytes())}catch(o){throw new WalletPublicKeyError(o?.message,o)}r.on("disconnect",this._disconnected),this._wallet=r,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(r){this.emit("error",new WalletDisconnectionError(r?.message,r))}}this.emit("disconnect")}async signTransaction(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{return await r.signTransaction(e)||e}catch(n){throw new WalletSignTransactionError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signAllTransactions(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{return await r.signAllTransactions(e)||e}catch(n){throw new WalletSignTransactionError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}async signMessage(e){try{const r=this._wallet;if(!r)throw new WalletNotConnectedError;try{return await r.signMessage(e,"utf8")}catch(n){throw new WalletSignMessageError(n?.message,n)}}catch(r){throw this.emit("error",r),r}}}const pinia=createPinia(),About={template:"<div>About</div>"},routes=[{path:"/",component:Home},{path:"/marketplace",component:_sfc_main$1},{path:"/p2p",component:PersonToPersonView},{path:"/about",component:About}],walletOptions={wallets:[new PhantomWalletAdapter,new SlopeWalletAdapter,new SolflareWalletAdapter({network:WalletAdapterNetwork.Devnet})],autoConnect:!0},router=createRouter({history:createWebHashHistory(),routes});createApp(_sfc_main$7).use(pinia).use(index$1,walletOptions).use(router).mount("#app");export{EventEmitter as E,PublicKey as P,bs58 as b,v4 as v};
