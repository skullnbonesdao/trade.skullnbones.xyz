(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const gr of document.querySelectorAll('link[rel="modulepreload"]'))y(gr);new MutationObserver(gr=>{for(const _r of gr)if(_r.type==="childList")for(const br of _r.addedNodes)br.tagName==="LINK"&&br.rel==="modulepreload"&&y(br)}).observe(document,{childList:!0,subtree:!0});function d(gr){const _r={};return gr.integrity&&(_r.integrity=gr.integrity),gr.referrerpolicy&&(_r.referrerPolicy=gr.referrerpolicy),gr.crossorigin==="use-credentials"?_r.credentials="include":gr.crossorigin==="anonymous"?_r.credentials="omit":_r.credentials="same-origin",_r}function y(gr){if(gr.ep)return;gr.ep=!0;const _r=d(gr);fetch(gr.href,_r)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(u){var c=u.default;if(typeof c=="function"){var d=function(){return c.apply(this,arguments)};d.prototype=c.prototype}else d={};return Object.defineProperty(d,"__esModule",{value:!0}),Object.keys(u).forEach(function(y){var gr=Object.getOwnPropertyDescriptor(u,y);Object.defineProperty(d,y,gr.get?gr:{enumerable:!0,get:function(){return u[y]}})}),d}var browser$3={exports:{}},process$1=browser$3.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(u){if(cachedSetTimeout===setTimeout)return setTimeout(u,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(u,0);try{return cachedSetTimeout(u,0)}catch{try{return cachedSetTimeout.call(null,u,0)}catch{return cachedSetTimeout.call(this,u,0)}}}function runClearTimeout(u){if(cachedClearTimeout===clearTimeout)return clearTimeout(u);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(u);try{return cachedClearTimeout(u)}catch{try{return cachedClearTimeout.call(null,u)}catch{return cachedClearTimeout.call(this,u)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var u=runTimeout(cleanUpNextTick);draining=!0;for(var c=queue$1.length;c;){for(currentQueue=queue$1,queue$1=[];++queueIndex<c;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,c=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(u)}}process$1.nextTick=function(u){var c=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];queue$1.push(new Item(u,c)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(u,c){this.fun=u,this.array=c}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$5(){}process$1.on=noop$5;process$1.addListener=noop$5;process$1.once=noop$5;process$1.off=noop$5;process$1.removeListener=noop$5;process$1.removeAllListeners=noop$5;process$1.emit=noop$5;process$1.prependListener=noop$5;process$1.prependOnceListener=noop$5;process$1.listeners=function(u){return[]};process$1.binding=function(u){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(u){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var buffer$2={},base64Js$1={};base64Js$1.byteLength=byteLength$1;var toByteArray_1=base64Js$1.toByteArray=toByteArray$1,fromByteArray_1=base64Js$1.fromByteArray=fromByteArray$1,lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$4=0,len$1=code$1.length;i$4<len$1;++i$4)lookup$1[i$4]=code$1[i$4],revLookup$1[code$1.charCodeAt(i$4)]=i$4;revLookup$1["-".charCodeAt(0)]=62;revLookup$1["_".charCodeAt(0)]=63;function getLens$1(u){var c=u.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=u.indexOf("=");d===-1&&(d=c);var y=d===c?0:4-d%4;return[d,y]}function byteLength$1(u){var c=getLens$1(u),d=c[0],y=c[1];return(d+y)*3/4-y}function _byteLength$1(u,c,d){return(c+d)*3/4-d}function toByteArray$1(u){var c,d=getLens$1(u),y=d[0],gr=d[1],_r=new Arr$1(_byteLength$1(u,y,gr)),br=0,wr=gr>0?y-4:y,Er;for(Er=0;Er<wr;Er+=4)c=revLookup$1[u.charCodeAt(Er)]<<18|revLookup$1[u.charCodeAt(Er+1)]<<12|revLookup$1[u.charCodeAt(Er+2)]<<6|revLookup$1[u.charCodeAt(Er+3)],_r[br++]=c>>16&255,_r[br++]=c>>8&255,_r[br++]=c&255;return gr===2&&(c=revLookup$1[u.charCodeAt(Er)]<<2|revLookup$1[u.charCodeAt(Er+1)]>>4,_r[br++]=c&255),gr===1&&(c=revLookup$1[u.charCodeAt(Er)]<<10|revLookup$1[u.charCodeAt(Er+1)]<<4|revLookup$1[u.charCodeAt(Er+2)]>>2,_r[br++]=c>>8&255,_r[br++]=c&255),_r}function tripletToBase64$1(u){return lookup$1[u>>18&63]+lookup$1[u>>12&63]+lookup$1[u>>6&63]+lookup$1[u&63]}function encodeChunk$1(u,c,d){for(var y,gr=[],_r=c;_r<d;_r+=3)y=(u[_r]<<16&16711680)+(u[_r+1]<<8&65280)+(u[_r+2]&255),gr.push(tripletToBase64$1(y));return gr.join("")}function fromByteArray$1(u){for(var c,d=u.length,y=d%3,gr=[],_r=16383,br=0,wr=d-y;br<wr;br+=_r)gr.push(encodeChunk$1(u,br,br+_r>wr?wr:br+_r));return y===1?(c=u[d-1],gr.push(lookup$1[c>>2]+lookup$1[c<<4&63]+"==")):y===2&&(c=(u[d-2]<<8)+u[d-1],gr.push(lookup$1[c>>10]+lookup$1[c>>4&63]+lookup$1[c<<2&63]+"=")),gr.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(u,c,d,y,gr){var _r,br,wr=gr*8-y-1,Er=(1<<wr)-1,Or=Er>>1,xr=-7,kr=d?gr-1:0,Mr=d?-1:1,Cr=u[c+kr];for(kr+=Mr,_r=Cr&(1<<-xr)-1,Cr>>=-xr,xr+=wr;xr>0;_r=_r*256+u[c+kr],kr+=Mr,xr-=8);for(br=_r&(1<<-xr)-1,_r>>=-xr,xr+=y;xr>0;br=br*256+u[c+kr],kr+=Mr,xr-=8);if(_r===0)_r=1-Or;else{if(_r===Er)return br?NaN:(Cr?-1:1)*(1/0);br=br+Math.pow(2,y),_r=_r-Or}return(Cr?-1:1)*br*Math.pow(2,_r-y)};ieee754$1.write=function(u,c,d,y,gr,_r){var br,wr,Er,Or=_r*8-gr-1,xr=(1<<Or)-1,kr=xr>>1,Mr=gr===23?Math.pow(2,-24)-Math.pow(2,-77):0,Cr=y?0:_r-1,Nr=y?1:-1,Ur=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(wr=isNaN(c)?1:0,br=xr):(br=Math.floor(Math.log(c)/Math.LN2),c*(Er=Math.pow(2,-br))<1&&(br--,Er*=2),br+kr>=1?c+=Mr/Er:c+=Mr*Math.pow(2,1-kr),c*Er>=2&&(br++,Er/=2),br+kr>=xr?(wr=0,br=xr):br+kr>=1?(wr=(c*Er-1)*Math.pow(2,gr),br=br+kr):(wr=c*Math.pow(2,kr-1)*Math.pow(2,gr),br=0));gr>=8;u[d+Cr]=wr&255,Cr+=Nr,wr/=256,gr-=8);for(br=br<<gr|wr,Or+=gr;Or>0;u[d+Cr]=br&255,Cr+=Nr,br/=256,Or-=8);u[d+Cr-Nr]|=Ur*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(u){const c=base64Js$1,d=ieee754$1,y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=wr,u.SlowBuffer=Zr,u.INSPECT_MAX_BYTES=50;const gr=2147483647;u.kMaxLength=gr,wr.TYPED_ARRAY_SUPPORT=_r(),!wr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _r(){try{const Tr=new Uint8Array(1),Sr={foo:function(){return 42}};return Object.setPrototypeOf(Sr,Uint8Array.prototype),Object.setPrototypeOf(Tr,Sr),Tr.foo()===42}catch{return!1}}Object.defineProperty(wr.prototype,"parent",{enumerable:!0,get:function(){if(!!wr.isBuffer(this))return this.buffer}}),Object.defineProperty(wr.prototype,"offset",{enumerable:!0,get:function(){if(!!wr.isBuffer(this))return this.byteOffset}});function br(Tr){if(Tr>gr)throw new RangeError('The value "'+Tr+'" is invalid for option "size"');const Sr=new Uint8Array(Tr);return Object.setPrototypeOf(Sr,wr.prototype),Sr}function wr(Tr,Sr,Ar){if(typeof Tr=="number"){if(typeof Sr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return kr(Tr)}return Er(Tr,Sr,Ar)}wr.poolSize=8192;function Er(Tr,Sr,Ar){if(typeof Tr=="string")return Mr(Tr,Sr);if(ArrayBuffer.isView(Tr))return Nr(Tr);if(Tr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tr);if(dn(Tr,ArrayBuffer)||Tr&&dn(Tr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dn(Tr,SharedArrayBuffer)||Tr&&dn(Tr.buffer,SharedArrayBuffer)))return Ur(Tr,Sr,Ar);if(typeof Tr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Pr=Tr.valueOf&&Tr.valueOf();if(Pr!=null&&Pr!==Tr)return wr.from(Pr,Sr,Ar);const jr=Dr(Tr);if(jr)return jr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Tr[Symbol.toPrimitive]=="function")return wr.from(Tr[Symbol.toPrimitive]("string"),Sr,Ar);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tr)}wr.from=function(Tr,Sr,Ar){return Er(Tr,Sr,Ar)},Object.setPrototypeOf(wr.prototype,Uint8Array.prototype),Object.setPrototypeOf(wr,Uint8Array);function Or(Tr){if(typeof Tr!="number")throw new TypeError('"size" argument must be of type number');if(Tr<0)throw new RangeError('The value "'+Tr+'" is invalid for option "size"')}function xr(Tr,Sr,Ar){return Or(Tr),Tr<=0?br(Tr):Sr!==void 0?typeof Ar=="string"?br(Tr).fill(Sr,Ar):br(Tr).fill(Sr):br(Tr)}wr.alloc=function(Tr,Sr,Ar){return xr(Tr,Sr,Ar)};function kr(Tr){return Or(Tr),br(Tr<0?0:zr(Tr)|0)}wr.allocUnsafe=function(Tr){return kr(Tr)},wr.allocUnsafeSlow=function(Tr){return kr(Tr)};function Mr(Tr,Sr){if((typeof Sr!="string"||Sr==="")&&(Sr="utf8"),!wr.isEncoding(Sr))throw new TypeError("Unknown encoding: "+Sr);const Ar=Wr(Tr,Sr)|0;let Pr=br(Ar);const jr=Pr.write(Tr,Sr);return jr!==Ar&&(Pr=Pr.slice(0,jr)),Pr}function Cr(Tr){const Sr=Tr.length<0?0:zr(Tr.length)|0,Ar=br(Sr);for(let Pr=0;Pr<Sr;Pr+=1)Ar[Pr]=Tr[Pr]&255;return Ar}function Nr(Tr){if(dn(Tr,Uint8Array)){const Sr=new Uint8Array(Tr);return Ur(Sr.buffer,Sr.byteOffset,Sr.byteLength)}return Cr(Tr)}function Ur(Tr,Sr,Ar){if(Sr<0||Tr.byteLength<Sr)throw new RangeError('"offset" is outside of buffer bounds');if(Tr.byteLength<Sr+(Ar||0))throw new RangeError('"length" is outside of buffer bounds');let Pr;return Sr===void 0&&Ar===void 0?Pr=new Uint8Array(Tr):Ar===void 0?Pr=new Uint8Array(Tr,Sr):Pr=new Uint8Array(Tr,Sr,Ar),Object.setPrototypeOf(Pr,wr.prototype),Pr}function Dr(Tr){if(wr.isBuffer(Tr)){const Sr=zr(Tr.length)|0,Ar=br(Sr);return Ar.length===0||Tr.copy(Ar,0,0,Sr),Ar}if(Tr.length!==void 0)return typeof Tr.length!="number"||vn(Tr.length)?br(0):Cr(Tr);if(Tr.type==="Buffer"&&Array.isArray(Tr.data))return Cr(Tr.data)}function zr(Tr){if(Tr>=gr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+gr.toString(16)+" bytes");return Tr|0}function Zr(Tr){return+Tr!=Tr&&(Tr=0),wr.alloc(+Tr)}wr.isBuffer=function(Sr){return Sr!=null&&Sr._isBuffer===!0&&Sr!==wr.prototype},wr.compare=function(Sr,Ar){if(dn(Sr,Uint8Array)&&(Sr=wr.from(Sr,Sr.offset,Sr.byteLength)),dn(Ar,Uint8Array)&&(Ar=wr.from(Ar,Ar.offset,Ar.byteLength)),!wr.isBuffer(Sr)||!wr.isBuffer(Ar))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Sr===Ar)return 0;let Pr=Sr.length,jr=Ar.length;for(let Gr=0,nn=Math.min(Pr,jr);Gr<nn;++Gr)if(Sr[Gr]!==Ar[Gr]){Pr=Sr[Gr],jr=Ar[Gr];break}return Pr<jr?-1:jr<Pr?1:0},wr.isEncoding=function(Sr){switch(String(Sr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},wr.concat=function(Sr,Ar){if(!Array.isArray(Sr))throw new TypeError('"list" argument must be an Array of Buffers');if(Sr.length===0)return wr.alloc(0);let Pr;if(Ar===void 0)for(Ar=0,Pr=0;Pr<Sr.length;++Pr)Ar+=Sr[Pr].length;const jr=wr.allocUnsafe(Ar);let Gr=0;for(Pr=0;Pr<Sr.length;++Pr){let nn=Sr[Pr];if(dn(nn,Uint8Array))Gr+nn.length>jr.length?(wr.isBuffer(nn)||(nn=wr.from(nn)),nn.copy(jr,Gr)):Uint8Array.prototype.set.call(jr,nn,Gr);else if(wr.isBuffer(nn))nn.copy(jr,Gr);else throw new TypeError('"list" argument must be an Array of Buffers');Gr+=nn.length}return jr};function Wr(Tr,Sr){if(wr.isBuffer(Tr))return Tr.length;if(ArrayBuffer.isView(Tr)||dn(Tr,ArrayBuffer))return Tr.byteLength;if(typeof Tr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Tr);const Ar=Tr.length,Pr=arguments.length>2&&arguments[2]===!0;if(!Pr&&Ar===0)return 0;let jr=!1;for(;;)switch(Sr){case"ascii":case"latin1":case"binary":return Ar;case"utf8":case"utf-8":return kn(Tr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ar*2;case"hex":return Ar>>>1;case"base64":return Un(Tr).length;default:if(jr)return Pr?-1:kn(Tr).length;Sr=(""+Sr).toLowerCase(),jr=!0}}wr.byteLength=Wr;function tn(Tr,Sr,Ar){let Pr=!1;if((Sr===void 0||Sr<0)&&(Sr=0),Sr>this.length||((Ar===void 0||Ar>this.length)&&(Ar=this.length),Ar<=0)||(Ar>>>=0,Sr>>>=0,Ar<=Sr))return"";for(Tr||(Tr="utf8");;)switch(Tr){case"hex":return hn(this,Sr,Ar);case"utf8":case"utf-8":return Rr(this,Sr,Ar);case"ascii":return Yr(this,Sr,Ar);case"latin1":case"binary":return Xr(this,Sr,Ar);case"base64":return Fr(this,Sr,Ar);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return En(this,Sr,Ar);default:if(Pr)throw new TypeError("Unknown encoding: "+Tr);Tr=(Tr+"").toLowerCase(),Pr=!0}}wr.prototype._isBuffer=!0;function rn(Tr,Sr,Ar){const Pr=Tr[Sr];Tr[Sr]=Tr[Ar],Tr[Ar]=Pr}wr.prototype.swap16=function(){const Sr=this.length;if(Sr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ar=0;Ar<Sr;Ar+=2)rn(this,Ar,Ar+1);return this},wr.prototype.swap32=function(){const Sr=this.length;if(Sr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ar=0;Ar<Sr;Ar+=4)rn(this,Ar,Ar+3),rn(this,Ar+1,Ar+2);return this},wr.prototype.swap64=function(){const Sr=this.length;if(Sr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ar=0;Ar<Sr;Ar+=8)rn(this,Ar,Ar+7),rn(this,Ar+1,Ar+6),rn(this,Ar+2,Ar+5),rn(this,Ar+3,Ar+4);return this},wr.prototype.toString=function(){const Sr=this.length;return Sr===0?"":arguments.length===0?Rr(this,0,Sr):tn.apply(this,arguments)},wr.prototype.toLocaleString=wr.prototype.toString,wr.prototype.equals=function(Sr){if(!wr.isBuffer(Sr))throw new TypeError("Argument must be a Buffer");return this===Sr?!0:wr.compare(this,Sr)===0},wr.prototype.inspect=function(){let Sr="";const Ar=u.INSPECT_MAX_BYTES;return Sr=this.toString("hex",0,Ar).replace(/(.{2})/g,"$1 ").trim(),this.length>Ar&&(Sr+=" ... "),"<Buffer "+Sr+">"},y&&(wr.prototype[y]=wr.prototype.inspect),wr.prototype.compare=function(Sr,Ar,Pr,jr,Gr){if(dn(Sr,Uint8Array)&&(Sr=wr.from(Sr,Sr.offset,Sr.byteLength)),!wr.isBuffer(Sr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Sr);if(Ar===void 0&&(Ar=0),Pr===void 0&&(Pr=Sr?Sr.length:0),jr===void 0&&(jr=0),Gr===void 0&&(Gr=this.length),Ar<0||Pr>Sr.length||jr<0||Gr>this.length)throw new RangeError("out of range index");if(jr>=Gr&&Ar>=Pr)return 0;if(jr>=Gr)return-1;if(Ar>=Pr)return 1;if(Ar>>>=0,Pr>>>=0,jr>>>=0,Gr>>>=0,this===Sr)return 0;let nn=Gr-jr,Kn=Pr-Ar;const Yn=Math.min(nn,Kn),Hn=this.slice(jr,Gr),Jn=Sr.slice(Ar,Pr);for(let Gn=0;Gn<Yn;++Gn)if(Hn[Gn]!==Jn[Gn]){nn=Hn[Gn],Kn=Jn[Gn];break}return nn<Kn?-1:Kn<nn?1:0};function Jr(Tr,Sr,Ar,Pr,jr){if(Tr.length===0)return-1;if(typeof Ar=="string"?(Pr=Ar,Ar=0):Ar>2147483647?Ar=2147483647:Ar<-2147483648&&(Ar=-2147483648),Ar=+Ar,vn(Ar)&&(Ar=jr?0:Tr.length-1),Ar<0&&(Ar=Tr.length+Ar),Ar>=Tr.length){if(jr)return-1;Ar=Tr.length-1}else if(Ar<0)if(jr)Ar=0;else return-1;if(typeof Sr=="string"&&(Sr=wr.from(Sr,Pr)),wr.isBuffer(Sr))return Sr.length===0?-1:Qr(Tr,Sr,Ar,Pr,jr);if(typeof Sr=="number")return Sr=Sr&255,typeof Uint8Array.prototype.indexOf=="function"?jr?Uint8Array.prototype.indexOf.call(Tr,Sr,Ar):Uint8Array.prototype.lastIndexOf.call(Tr,Sr,Ar):Qr(Tr,[Sr],Ar,Pr,jr);throw new TypeError("val must be string, number or Buffer")}function Qr(Tr,Sr,Ar,Pr,jr){let Gr=1,nn=Tr.length,Kn=Sr.length;if(Pr!==void 0&&(Pr=String(Pr).toLowerCase(),Pr==="ucs2"||Pr==="ucs-2"||Pr==="utf16le"||Pr==="utf-16le")){if(Tr.length<2||Sr.length<2)return-1;Gr=2,nn/=2,Kn/=2,Ar/=2}function Yn(Jn,Gn){return Gr===1?Jn[Gn]:Jn.readUInt16BE(Gn*Gr)}let Hn;if(jr){let Jn=-1;for(Hn=Ar;Hn<nn;Hn++)if(Yn(Tr,Hn)===Yn(Sr,Jn===-1?0:Hn-Jn)){if(Jn===-1&&(Jn=Hn),Hn-Jn+1===Kn)return Jn*Gr}else Jn!==-1&&(Hn-=Hn-Jn),Jn=-1}else for(Ar+Kn>nn&&(Ar=nn-Kn),Hn=Ar;Hn>=0;Hn--){let Jn=!0;for(let Gn=0;Gn<Kn;Gn++)if(Yn(Tr,Hn+Gn)!==Yn(Sr,Gn)){Jn=!1;break}if(Jn)return Hn}return-1}wr.prototype.includes=function(Sr,Ar,Pr){return this.indexOf(Sr,Ar,Pr)!==-1},wr.prototype.indexOf=function(Sr,Ar,Pr){return Jr(this,Sr,Ar,Pr,!0)},wr.prototype.lastIndexOf=function(Sr,Ar,Pr){return Jr(this,Sr,Ar,Pr,!1)};function an(Tr,Sr,Ar,Pr){Ar=Number(Ar)||0;const jr=Tr.length-Ar;Pr?(Pr=Number(Pr),Pr>jr&&(Pr=jr)):Pr=jr;const Gr=Sr.length;Pr>Gr/2&&(Pr=Gr/2);let nn;for(nn=0;nn<Pr;++nn){const Kn=parseInt(Sr.substr(nn*2,2),16);if(vn(Kn))return nn;Tr[Ar+nn]=Kn}return nn}function mn(Tr,Sr,Ar,Pr){return Dn(kn(Sr,Tr.length-Ar),Tr,Ar,Pr)}function fn(Tr,Sr,Ar,Pr){return Dn(Fn(Sr),Tr,Ar,Pr)}function gn(Tr,Sr,Ar,Pr){return Dn(Un(Sr),Tr,Ar,Pr)}function Sn(Tr,Sr,Ar,Pr){return Dn(xn(Sr,Tr.length-Ar),Tr,Ar,Pr)}wr.prototype.write=function(Sr,Ar,Pr,jr){if(Ar===void 0)jr="utf8",Pr=this.length,Ar=0;else if(Pr===void 0&&typeof Ar=="string")jr=Ar,Pr=this.length,Ar=0;else if(isFinite(Ar))Ar=Ar>>>0,isFinite(Pr)?(Pr=Pr>>>0,jr===void 0&&(jr="utf8")):(jr=Pr,Pr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Gr=this.length-Ar;if((Pr===void 0||Pr>Gr)&&(Pr=Gr),Sr.length>0&&(Pr<0||Ar<0)||Ar>this.length)throw new RangeError("Attempt to write outside buffer bounds");jr||(jr="utf8");let nn=!1;for(;;)switch(jr){case"hex":return an(this,Sr,Ar,Pr);case"utf8":case"utf-8":return mn(this,Sr,Ar,Pr);case"ascii":case"latin1":case"binary":return fn(this,Sr,Ar,Pr);case"base64":return gn(this,Sr,Ar,Pr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sn(this,Sr,Ar,Pr);default:if(nn)throw new TypeError("Unknown encoding: "+jr);jr=(""+jr).toLowerCase(),nn=!0}},wr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fr(Tr,Sr,Ar){return Sr===0&&Ar===Tr.length?c.fromByteArray(Tr):c.fromByteArray(Tr.slice(Sr,Ar))}function Rr(Tr,Sr,Ar){Ar=Math.min(Tr.length,Ar);const Pr=[];let jr=Sr;for(;jr<Ar;){const Gr=Tr[jr];let nn=null,Kn=Gr>239?4:Gr>223?3:Gr>191?2:1;if(jr+Kn<=Ar){let Yn,Hn,Jn,Gn;switch(Kn){case 1:Gr<128&&(nn=Gr);break;case 2:Yn=Tr[jr+1],(Yn&192)===128&&(Gn=(Gr&31)<<6|Yn&63,Gn>127&&(nn=Gn));break;case 3:Yn=Tr[jr+1],Hn=Tr[jr+2],(Yn&192)===128&&(Hn&192)===128&&(Gn=(Gr&15)<<12|(Yn&63)<<6|Hn&63,Gn>2047&&(Gn<55296||Gn>57343)&&(nn=Gn));break;case 4:Yn=Tr[jr+1],Hn=Tr[jr+2],Jn=Tr[jr+3],(Yn&192)===128&&(Hn&192)===128&&(Jn&192)===128&&(Gn=(Gr&15)<<18|(Yn&63)<<12|(Hn&63)<<6|Jn&63,Gn>65535&&Gn<1114112&&(nn=Gn))}}nn===null?(nn=65533,Kn=1):nn>65535&&(nn-=65536,Pr.push(nn>>>10&1023|55296),nn=56320|nn&1023),Pr.push(nn),jr+=Kn}return Vr(Pr)}const Lr=4096;function Vr(Tr){const Sr=Tr.length;if(Sr<=Lr)return String.fromCharCode.apply(String,Tr);let Ar="",Pr=0;for(;Pr<Sr;)Ar+=String.fromCharCode.apply(String,Tr.slice(Pr,Pr+=Lr));return Ar}function Yr(Tr,Sr,Ar){let Pr="";Ar=Math.min(Tr.length,Ar);for(let jr=Sr;jr<Ar;++jr)Pr+=String.fromCharCode(Tr[jr]&127);return Pr}function Xr(Tr,Sr,Ar){let Pr="";Ar=Math.min(Tr.length,Ar);for(let jr=Sr;jr<Ar;++jr)Pr+=String.fromCharCode(Tr[jr]);return Pr}function hn(Tr,Sr,Ar){const Pr=Tr.length;(!Sr||Sr<0)&&(Sr=0),(!Ar||Ar<0||Ar>Pr)&&(Ar=Pr);let jr="";for(let Gr=Sr;Gr<Ar;++Gr)jr+=Rn[Tr[Gr]];return jr}function En(Tr,Sr,Ar){const Pr=Tr.slice(Sr,Ar);let jr="";for(let Gr=0;Gr<Pr.length-1;Gr+=2)jr+=String.fromCharCode(Pr[Gr]+Pr[Gr+1]*256);return jr}wr.prototype.slice=function(Sr,Ar){const Pr=this.length;Sr=~~Sr,Ar=Ar===void 0?Pr:~~Ar,Sr<0?(Sr+=Pr,Sr<0&&(Sr=0)):Sr>Pr&&(Sr=Pr),Ar<0?(Ar+=Pr,Ar<0&&(Ar=0)):Ar>Pr&&(Ar=Pr),Ar<Sr&&(Ar=Sr);const jr=this.subarray(Sr,Ar);return Object.setPrototypeOf(jr,wr.prototype),jr};function qr(Tr,Sr,Ar){if(Tr%1!==0||Tr<0)throw new RangeError("offset is not uint");if(Tr+Sr>Ar)throw new RangeError("Trying to access beyond buffer length")}wr.prototype.readUintLE=wr.prototype.readUIntLE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr],Gr=1,nn=0;for(;++nn<Ar&&(Gr*=256);)jr+=this[Sr+nn]*Gr;return jr},wr.prototype.readUintBE=wr.prototype.readUIntBE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr+--Ar],Gr=1;for(;Ar>0&&(Gr*=256);)jr+=this[Sr+--Ar]*Gr;return jr},wr.prototype.readUint8=wr.prototype.readUInt8=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,1,this.length),this[Sr]},wr.prototype.readUint16LE=wr.prototype.readUInt16LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,2,this.length),this[Sr]|this[Sr+1]<<8},wr.prototype.readUint16BE=wr.prototype.readUInt16BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,2,this.length),this[Sr]<<8|this[Sr+1]},wr.prototype.readUint32LE=wr.prototype.readUInt32LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),(this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16)+this[Sr+3]*16777216},wr.prototype.readUint32BE=wr.prototype.readUInt32BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]*16777216+(this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3])},wr.prototype.readBigUInt64LE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=Ar+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24,Gr=this[++Sr]+this[++Sr]*2**8+this[++Sr]*2**16+Pr*2**24;return BigInt(jr)+(BigInt(Gr)<<BigInt(32))}),wr.prototype.readBigUInt64BE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=Ar*2**24+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr],Gr=this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Pr;return(BigInt(jr)<<BigInt(32))+BigInt(Gr)}),wr.prototype.readIntLE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr],Gr=1,nn=0;for(;++nn<Ar&&(Gr*=256);)jr+=this[Sr+nn]*Gr;return Gr*=128,jr>=Gr&&(jr-=Math.pow(2,8*Ar)),jr},wr.prototype.readIntBE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=Ar,Gr=1,nn=this[Sr+--jr];for(;jr>0&&(Gr*=256);)nn+=this[Sr+--jr]*Gr;return Gr*=128,nn>=Gr&&(nn-=Math.pow(2,8*Ar)),nn},wr.prototype.readInt8=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,1,this.length),this[Sr]&128?(255-this[Sr]+1)*-1:this[Sr]},wr.prototype.readInt16LE=function(Sr,Ar){Sr=Sr>>>0,Ar||qr(Sr,2,this.length);const Pr=this[Sr]|this[Sr+1]<<8;return Pr&32768?Pr|4294901760:Pr},wr.prototype.readInt16BE=function(Sr,Ar){Sr=Sr>>>0,Ar||qr(Sr,2,this.length);const Pr=this[Sr+1]|this[Sr]<<8;return Pr&32768?Pr|4294901760:Pr},wr.prototype.readInt32LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16|this[Sr+3]<<24},wr.prototype.readInt32BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]<<24|this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3]},wr.prototype.readBigInt64LE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=this[Sr+4]+this[Sr+5]*2**8+this[Sr+6]*2**16+(Pr<<24);return(BigInt(jr)<<BigInt(32))+BigInt(Ar+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24)}),wr.prototype.readBigInt64BE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=(Ar<<24)+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr];return(BigInt(jr)<<BigInt(32))+BigInt(this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Pr)}),wr.prototype.readFloatLE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),d.read(this,Sr,!0,23,4)},wr.prototype.readFloatBE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),d.read(this,Sr,!1,23,4)},wr.prototype.readDoubleLE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,8,this.length),d.read(this,Sr,!0,52,8)},wr.prototype.readDoubleBE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,8,this.length),d.read(this,Sr,!1,52,8)};function Br(Tr,Sr,Ar,Pr,jr,Gr){if(!wr.isBuffer(Tr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Sr>jr||Sr<Gr)throw new RangeError('"value" argument is out of bounds');if(Ar+Pr>Tr.length)throw new RangeError("Index out of range")}wr.prototype.writeUintLE=wr.prototype.writeUIntLE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,Pr=Pr>>>0,!jr){const Kn=Math.pow(2,8*Pr)-1;Br(this,Sr,Ar,Pr,Kn,0)}let Gr=1,nn=0;for(this[Ar]=Sr&255;++nn<Pr&&(Gr*=256);)this[Ar+nn]=Sr/Gr&255;return Ar+Pr},wr.prototype.writeUintBE=wr.prototype.writeUIntBE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,Pr=Pr>>>0,!jr){const Kn=Math.pow(2,8*Pr)-1;Br(this,Sr,Ar,Pr,Kn,0)}let Gr=Pr-1,nn=1;for(this[Ar+Gr]=Sr&255;--Gr>=0&&(nn*=256);)this[Ar+Gr]=Sr/nn&255;return Ar+Pr},wr.prototype.writeUint8=wr.prototype.writeUInt8=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,1,255,0),this[Ar]=Sr&255,Ar+1},wr.prototype.writeUint16LE=wr.prototype.writeUInt16LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,65535,0),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,Ar+2},wr.prototype.writeUint16BE=wr.prototype.writeUInt16BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,65535,0),this[Ar]=Sr>>>8,this[Ar+1]=Sr&255,Ar+2},wr.prototype.writeUint32LE=wr.prototype.writeUInt32LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,4294967295,0),this[Ar+3]=Sr>>>24,this[Ar+2]=Sr>>>16,this[Ar+1]=Sr>>>8,this[Ar]=Sr&255,Ar+4},wr.prototype.writeUint32BE=wr.prototype.writeUInt32BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,4294967295,0),this[Ar]=Sr>>>24,this[Ar+1]=Sr>>>16,this[Ar+2]=Sr>>>8,this[Ar+3]=Sr&255,Ar+4};function Hr(Tr,Sr,Ar,Pr,jr){Cn(Sr,Pr,jr,Tr,Ar,7);let Gr=Number(Sr&BigInt(4294967295));Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr;let nn=Number(Sr>>BigInt(32)&BigInt(4294967295));return Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,Ar}function _n(Tr,Sr,Ar,Pr,jr){Cn(Sr,Pr,jr,Tr,Ar,7);let Gr=Number(Sr&BigInt(4294967295));Tr[Ar+7]=Gr,Gr=Gr>>8,Tr[Ar+6]=Gr,Gr=Gr>>8,Tr[Ar+5]=Gr,Gr=Gr>>8,Tr[Ar+4]=Gr;let nn=Number(Sr>>BigInt(32)&BigInt(4294967295));return Tr[Ar+3]=nn,nn=nn>>8,Tr[Ar+2]=nn,nn=nn>>8,Tr[Ar+1]=nn,nn=nn>>8,Tr[Ar]=nn,Ar+8}wr.prototype.writeBigUInt64LE=Bn(function(Sr,Ar=0){return Hr(this,Sr,Ar,BigInt(0),BigInt("0xffffffffffffffff"))}),wr.prototype.writeBigUInt64BE=Bn(function(Sr,Ar=0){return _n(this,Sr,Ar,BigInt(0),BigInt("0xffffffffffffffff"))}),wr.prototype.writeIntLE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,!jr){const Yn=Math.pow(2,8*Pr-1);Br(this,Sr,Ar,Pr,Yn-1,-Yn)}let Gr=0,nn=1,Kn=0;for(this[Ar]=Sr&255;++Gr<Pr&&(nn*=256);)Sr<0&&Kn===0&&this[Ar+Gr-1]!==0&&(Kn=1),this[Ar+Gr]=(Sr/nn>>0)-Kn&255;return Ar+Pr},wr.prototype.writeIntBE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,!jr){const Yn=Math.pow(2,8*Pr-1);Br(this,Sr,Ar,Pr,Yn-1,-Yn)}let Gr=Pr-1,nn=1,Kn=0;for(this[Ar+Gr]=Sr&255;--Gr>=0&&(nn*=256);)Sr<0&&Kn===0&&this[Ar+Gr+1]!==0&&(Kn=1),this[Ar+Gr]=(Sr/nn>>0)-Kn&255;return Ar+Pr},wr.prototype.writeInt8=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,1,127,-128),Sr<0&&(Sr=255+Sr+1),this[Ar]=Sr&255,Ar+1},wr.prototype.writeInt16LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,32767,-32768),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,Ar+2},wr.prototype.writeInt16BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,32767,-32768),this[Ar]=Sr>>>8,this[Ar+1]=Sr&255,Ar+2},wr.prototype.writeInt32LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,2147483647,-2147483648),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,this[Ar+2]=Sr>>>16,this[Ar+3]=Sr>>>24,Ar+4},wr.prototype.writeInt32BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,2147483647,-2147483648),Sr<0&&(Sr=4294967295+Sr+1),this[Ar]=Sr>>>24,this[Ar+1]=Sr>>>16,this[Ar+2]=Sr>>>8,this[Ar+3]=Sr&255,Ar+4},wr.prototype.writeBigInt64LE=Bn(function(Sr,Ar=0){return Hr(this,Sr,Ar,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),wr.prototype.writeBigInt64BE=Bn(function(Sr,Ar=0){return _n(this,Sr,Ar,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function on(Tr,Sr,Ar,Pr,jr,Gr){if(Ar+Pr>Tr.length)throw new RangeError("Index out of range");if(Ar<0)throw new RangeError("Index out of range")}function sn(Tr,Sr,Ar,Pr,jr){return Sr=+Sr,Ar=Ar>>>0,jr||on(Tr,Sr,Ar,4),d.write(Tr,Sr,Ar,Pr,23,4),Ar+4}wr.prototype.writeFloatLE=function(Sr,Ar,Pr){return sn(this,Sr,Ar,!0,Pr)},wr.prototype.writeFloatBE=function(Sr,Ar,Pr){return sn(this,Sr,Ar,!1,Pr)};function yn(Tr,Sr,Ar,Pr,jr){return Sr=+Sr,Ar=Ar>>>0,jr||on(Tr,Sr,Ar,8),d.write(Tr,Sr,Ar,Pr,52,8),Ar+8}wr.prototype.writeDoubleLE=function(Sr,Ar,Pr){return yn(this,Sr,Ar,!0,Pr)},wr.prototype.writeDoubleBE=function(Sr,Ar,Pr){return yn(this,Sr,Ar,!1,Pr)},wr.prototype.copy=function(Sr,Ar,Pr,jr){if(!wr.isBuffer(Sr))throw new TypeError("argument should be a Buffer");if(Pr||(Pr=0),!jr&&jr!==0&&(jr=this.length),Ar>=Sr.length&&(Ar=Sr.length),Ar||(Ar=0),jr>0&&jr<Pr&&(jr=Pr),jr===Pr||Sr.length===0||this.length===0)return 0;if(Ar<0)throw new RangeError("targetStart out of bounds");if(Pr<0||Pr>=this.length)throw new RangeError("Index out of range");if(jr<0)throw new RangeError("sourceEnd out of bounds");jr>this.length&&(jr=this.length),Sr.length-Ar<jr-Pr&&(jr=Sr.length-Ar+Pr);const Gr=jr-Pr;return this===Sr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ar,Pr,jr):Uint8Array.prototype.set.call(Sr,this.subarray(Pr,jr),Ar),Gr},wr.prototype.fill=function(Sr,Ar,Pr,jr){if(typeof Sr=="string"){if(typeof Ar=="string"?(jr=Ar,Ar=0,Pr=this.length):typeof Pr=="string"&&(jr=Pr,Pr=this.length),jr!==void 0&&typeof jr!="string")throw new TypeError("encoding must be a string");if(typeof jr=="string"&&!wr.isEncoding(jr))throw new TypeError("Unknown encoding: "+jr);if(Sr.length===1){const nn=Sr.charCodeAt(0);(jr==="utf8"&&nn<128||jr==="latin1")&&(Sr=nn)}}else typeof Sr=="number"?Sr=Sr&255:typeof Sr=="boolean"&&(Sr=Number(Sr));if(Ar<0||this.length<Ar||this.length<Pr)throw new RangeError("Out of range index");if(Pr<=Ar)return this;Ar=Ar>>>0,Pr=Pr===void 0?this.length:Pr>>>0,Sr||(Sr=0);let Gr;if(typeof Sr=="number")for(Gr=Ar;Gr<Pr;++Gr)this[Gr]=Sr;else{const nn=wr.isBuffer(Sr)?Sr:wr.from(Sr,jr),Kn=nn.length;if(Kn===0)throw new TypeError('The value "'+Sr+'" is invalid for argument "value"');for(Gr=0;Gr<Pr-Ar;++Gr)this[Gr+Ar]=nn[Gr%Kn]}return this};const wn={};function In(Tr,Sr,Ar){wn[Tr]=class extends Ar{constructor(){super(),Object.defineProperty(this,"message",{value:Sr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Tr}]`,this.stack,delete this.name}get code(){return Tr}set code(jr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:jr,writable:!0})}toString(){return`${this.name} [${Tr}]: ${this.message}`}}}In("ERR_BUFFER_OUT_OF_BOUNDS",function(Tr){return Tr?`${Tr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),In("ERR_INVALID_ARG_TYPE",function(Tr,Sr){return`The "${Tr}" argument must be of type number. Received type ${typeof Sr}`},TypeError),In("ERR_OUT_OF_RANGE",function(Tr,Sr,Ar){let Pr=`The value of "${Tr}" is out of range.`,jr=Ar;return Number.isInteger(Ar)&&Math.abs(Ar)>2**32?jr=Mn(String(Ar)):typeof Ar=="bigint"&&(jr=String(Ar),(Ar>BigInt(2)**BigInt(32)||Ar<-(BigInt(2)**BigInt(32)))&&(jr=Mn(jr)),jr+="n"),Pr+=` It must be ${Sr}. Received ${jr}`,Pr},RangeError);function Mn(Tr){let Sr="",Ar=Tr.length;const Pr=Tr[0]==="-"?1:0;for(;Ar>=Pr+4;Ar-=3)Sr=`_${Tr.slice(Ar-3,Ar)}${Sr}`;return`${Tr.slice(0,Ar)}${Sr}`}function Ln(Tr,Sr,Ar){ln(Sr,"offset"),(Tr[Sr]===void 0||Tr[Sr+Ar]===void 0)&&pn(Sr,Tr.length-(Ar+1))}function Cn(Tr,Sr,Ar,Pr,jr,Gr){if(Tr>Ar||Tr<Sr){const nn=typeof Sr=="bigint"?"n":"";let Kn;throw Gr>3?Sr===0||Sr===BigInt(0)?Kn=`>= 0${nn} and < 2${nn} ** ${(Gr+1)*8}${nn}`:Kn=`>= -(2${nn} ** ${(Gr+1)*8-1}${nn}) and < 2 ** ${(Gr+1)*8-1}${nn}`:Kn=`>= ${Sr}${nn} and <= ${Ar}${nn}`,new wn.ERR_OUT_OF_RANGE("value",Kn,Tr)}Ln(Pr,jr,Gr)}function ln(Tr,Sr){if(typeof Tr!="number")throw new wn.ERR_INVALID_ARG_TYPE(Sr,"number",Tr)}function pn(Tr,Sr,Ar){throw Math.floor(Tr)!==Tr?(ln(Tr,Ar),new wn.ERR_OUT_OF_RANGE(Ar||"offset","an integer",Tr)):Sr<0?new wn.ERR_BUFFER_OUT_OF_BOUNDS:new wn.ERR_OUT_OF_RANGE(Ar||"offset",`>= ${Ar?1:0} and <= ${Sr}`,Tr)}const On=/[^+/0-9A-Za-z-_]/g;function Nn(Tr){if(Tr=Tr.split("=")[0],Tr=Tr.trim().replace(On,""),Tr.length<2)return"";for(;Tr.length%4!==0;)Tr=Tr+"=";return Tr}function kn(Tr,Sr){Sr=Sr||1/0;let Ar;const Pr=Tr.length;let jr=null;const Gr=[];for(let nn=0;nn<Pr;++nn){if(Ar=Tr.charCodeAt(nn),Ar>55295&&Ar<57344){if(!jr){if(Ar>56319){(Sr-=3)>-1&&Gr.push(239,191,189);continue}else if(nn+1===Pr){(Sr-=3)>-1&&Gr.push(239,191,189);continue}jr=Ar;continue}if(Ar<56320){(Sr-=3)>-1&&Gr.push(239,191,189),jr=Ar;continue}Ar=(jr-55296<<10|Ar-56320)+65536}else jr&&(Sr-=3)>-1&&Gr.push(239,191,189);if(jr=null,Ar<128){if((Sr-=1)<0)break;Gr.push(Ar)}else if(Ar<2048){if((Sr-=2)<0)break;Gr.push(Ar>>6|192,Ar&63|128)}else if(Ar<65536){if((Sr-=3)<0)break;Gr.push(Ar>>12|224,Ar>>6&63|128,Ar&63|128)}else if(Ar<1114112){if((Sr-=4)<0)break;Gr.push(Ar>>18|240,Ar>>12&63|128,Ar>>6&63|128,Ar&63|128)}else throw new Error("Invalid code point")}return Gr}function Fn(Tr){const Sr=[];for(let Ar=0;Ar<Tr.length;++Ar)Sr.push(Tr.charCodeAt(Ar)&255);return Sr}function xn(Tr,Sr){let Ar,Pr,jr;const Gr=[];for(let nn=0;nn<Tr.length&&!((Sr-=2)<0);++nn)Ar=Tr.charCodeAt(nn),Pr=Ar>>8,jr=Ar%256,Gr.push(jr),Gr.push(Pr);return Gr}function Un(Tr){return c.toByteArray(Nn(Tr))}function Dn(Tr,Sr,Ar,Pr){let jr;for(jr=0;jr<Pr&&!(jr+Ar>=Sr.length||jr>=Tr.length);++jr)Sr[jr+Ar]=Tr[jr];return jr}function dn(Tr,Sr){return Tr instanceof Sr||Tr!=null&&Tr.constructor!=null&&Tr.constructor.name!=null&&Tr.constructor.name===Sr.name}function vn(Tr){return Tr!==Tr}const Rn=function(){const Tr="0123456789abcdef",Sr=new Array(256);for(let Ar=0;Ar<16;++Ar){const Pr=Ar*16;for(let jr=0;jr<16;++jr)Sr[Pr+jr]=Tr[Ar]+Tr[jr]}return Sr}();function Bn(Tr){return typeof BigInt>"u"?jn:Tr}function jn(){throw new Error("BigInt not supported")}})(buffer$2);var events={exports:{}},R$2=typeof Reflect=="object"?Reflect:null,ReflectApply=R$2&&typeof R$2.apply=="function"?R$2.apply:function(c,d,y){return Function.prototype.apply.call(c,d,y)},ReflectOwnKeys;R$2&&typeof R$2.ownKeys=="function"?ReflectOwnKeys=R$2.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:ReflectOwnKeys=function(c){return Object.getOwnPropertyNames(c)};function ProcessEmitWarning(u){console&&console.warn&&console.warn(u)}var NumberIsNaN=Number.isNaN||function(c){return c!==c};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once$1;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(u){if(typeof u!="number"||u<0||NumberIsNaN(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");defaultMaxListeners=u}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(c){if(typeof c!="number"||c<0||NumberIsNaN(c))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+c+".");return this._maxListeners=c,this};function _getMaxListeners(u){return u._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:u._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(c){for(var d=[],y=1;y<arguments.length;y++)d.push(arguments[y]);var gr=c==="error",_r=this._events;if(_r!==void 0)gr=gr&&_r.error===void 0;else if(!gr)return!1;if(gr){var br;if(d.length>0&&(br=d[0]),br instanceof Error)throw br;var wr=new Error("Unhandled error."+(br?" ("+br.message+")":""));throw wr.context=br,wr}var Er=_r[c];if(Er===void 0)return!1;if(typeof Er=="function")ReflectApply(Er,this,d);else for(var Or=Er.length,xr=arrayClone(Er,Or),y=0;y<Or;++y)ReflectApply(xr[y],this,d);return!0};function _addListener(u,c,d,y){var gr,_r,br;if(checkListener(d),_r=u._events,_r===void 0?(_r=u._events=Object.create(null),u._eventsCount=0):(_r.newListener!==void 0&&(u.emit("newListener",c,d.listener?d.listener:d),_r=u._events),br=_r[c]),br===void 0)br=_r[c]=d,++u._eventsCount;else if(typeof br=="function"?br=_r[c]=y?[d,br]:[br,d]:y?br.unshift(d):br.push(d),gr=_getMaxListeners(u),gr>0&&br.length>gr&&!br.warned){br.warned=!0;var wr=new Error("Possible EventEmitter memory leak detected. "+br.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit");wr.name="MaxListenersExceededWarning",wr.emitter=u,wr.type=c,wr.count=br.length,ProcessEmitWarning(wr)}return u}EventEmitter$1.prototype.addListener=function(c,d){return _addListener(this,c,d,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(c,d){return _addListener(this,c,d,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(u,c,d){var y={fired:!1,wrapFn:void 0,target:u,type:c,listener:d},gr=onceWrapper.bind(y);return gr.listener=d,y.wrapFn=gr,gr}EventEmitter$1.prototype.once=function(c,d){return checkListener(d),this.on(c,_onceWrap(this,c,d)),this};EventEmitter$1.prototype.prependOnceListener=function(c,d){return checkListener(d),this.prependListener(c,_onceWrap(this,c,d)),this};EventEmitter$1.prototype.removeListener=function(c,d){var y,gr,_r,br,wr;if(checkListener(d),gr=this._events,gr===void 0)return this;if(y=gr[c],y===void 0)return this;if(y===d||y.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete gr[c],gr.removeListener&&this.emit("removeListener",c,y.listener||d));else if(typeof y!="function"){for(_r=-1,br=y.length-1;br>=0;br--)if(y[br]===d||y[br].listener===d){wr=y[br].listener,_r=br;break}if(_r<0)return this;_r===0?y.shift():spliceOne(y,_r),y.length===1&&(gr[c]=y[0]),gr.removeListener!==void 0&&this.emit("removeListener",c,wr||d)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(c){var d,y,gr;if(y=this._events,y===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[c]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete y[c]),this;if(arguments.length===0){var _r=Object.keys(y),br;for(gr=0;gr<_r.length;++gr)br=_r[gr],br!=="removeListener"&&this.removeAllListeners(br);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=y[c],typeof d=="function")this.removeListener(c,d);else if(d!==void 0)for(gr=d.length-1;gr>=0;gr--)this.removeListener(c,d[gr]);return this};function _listeners(u,c,d){var y=u._events;if(y===void 0)return[];var gr=y[c];return gr===void 0?[]:typeof gr=="function"?d?[gr.listener||gr]:[gr]:d?unwrapListeners(gr):arrayClone(gr,gr.length)}EventEmitter$1.prototype.listeners=function(c){return _listeners(this,c,!0)};EventEmitter$1.prototype.rawListeners=function(c){return _listeners(this,c,!1)};EventEmitter$1.listenerCount=function(u,c){return typeof u.listenerCount=="function"?u.listenerCount(c):listenerCount.call(u,c)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(u){var c=this._events;if(c!==void 0){var d=c[u];if(typeof d=="function")return 1;if(d!==void 0)return d.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(u,c){for(var d=new Array(c),y=0;y<c;++y)d[y]=u[y];return d}function spliceOne(u,c){for(;c+1<u.length;c++)u[c]=u[c+1];u.pop()}function unwrapListeners(u){for(var c=new Array(u.length),d=0;d<c.length;++d)c[d]=u[d].listener||u[d];return c}function once$1(u,c){return new Promise(function(d,y){function gr(br){u.removeListener(c,_r),y(br)}function _r(){typeof u.removeListener=="function"&&u.removeListener("error",gr),d([].slice.call(arguments))}eventTargetAgnosticAddListener(u,c,_r,{once:!0}),c!=="error"&&addErrorHandlerIfEventEmitter(u,gr,{once:!0})})}function addErrorHandlerIfEventEmitter(u,c,d){typeof u.on=="function"&&eventTargetAgnosticAddListener(u,"error",c,d)}function eventTargetAgnosticAddListener(u,c,d,y){if(typeof u.on=="function")y.once?u.once(c,d):u.on(c,d);else if(typeof u.addEventListener=="function")u.addEventListener(c,function gr(_r){y.once&&u.removeEventListener(c,gr),d(_r)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u)}window.Buffer=buffer$2.Buffer;window.process=browser$3.exports;window.EventEmitter=events.exports;function makeMap(u,c){const d=Object.create(null),y=u.split(",");for(let gr=0;gr<y.length;gr++)d[y[gr]]=!0;return c?gr=>!!d[gr.toLowerCase()]:gr=>!!d[gr]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(u){return!!u||u===""}function normalizeStyle(u){if(isArray$2(u)){const c={};for(let d=0;d<u.length;d++){const y=u[d],gr=isString$3(y)?parseStringStyle(y):normalizeStyle(y);if(gr)for(const _r in gr)c[_r]=gr[_r]}return c}else{if(isString$3(u))return u;if(isObject$3(u))return u}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(u){const c={};return u.split(listDelimiterRE).forEach(d=>{if(d){const y=d.split(propertyDelimiterRE);y.length>1&&(c[y[0].trim()]=y[1].trim())}}),c}function normalizeClass(u){let c="";if(isString$3(u))c=u;else if(isArray$2(u))for(let d=0;d<u.length;d++){const y=normalizeClass(u[d]);y&&(c+=y+" ")}else if(isObject$3(u))for(const d in u)u[d]&&(c+=d+" ");return c.trim()}function normalizeProps(u){if(!u)return null;let{class:c,style:d}=u;return c&&!isString$3(c)&&(u.class=normalizeClass(c)),d&&(u.style=normalizeStyle(d)),u}function looseCompareArrays(u,c){if(u.length!==c.length)return!1;let d=!0;for(let y=0;d&&y<u.length;y++)d=looseEqual(u[y],c[y]);return d}function looseEqual(u,c){if(u===c)return!0;let d=isDate$1(u),y=isDate$1(c);if(d||y)return d&&y?u.getTime()===c.getTime():!1;if(d=isSymbol(u),y=isSymbol(c),d||y)return u===c;if(d=isArray$2(u),y=isArray$2(c),d||y)return d&&y?looseCompareArrays(u,c):!1;if(d=isObject$3(u),y=isObject$3(c),d||y){if(!d||!y)return!1;const gr=Object.keys(u).length,_r=Object.keys(c).length;if(gr!==_r)return!1;for(const br in u){const wr=u.hasOwnProperty(br),Er=c.hasOwnProperty(br);if(wr&&!Er||!wr&&Er||!looseEqual(u[br],c[br]))return!1}}return String(u)===String(c)}function looseIndexOf(u,c){return u.findIndex(d=>looseEqual(d,c))}const toDisplayString=u=>isString$3(u)?u:u==null?"":isArray$2(u)||isObject$3(u)&&(u.toString===objectToString$1||!isFunction$3(u.toString))?JSON.stringify(u,replacer,2):String(u),replacer=(u,c)=>c&&c.__v_isRef?replacer(u,c.value):isMap(c)?{[`Map(${c.size})`]:[...c.entries()].reduce((d,[y,gr])=>(d[`${y} =>`]=gr,d),{})}:isSet(c)?{[`Set(${c.size})`]:[...c.values()]}:isObject$3(c)&&!isArray$2(c)&&!isPlainObject$2(c)?String(c):c,EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=u=>onRE.test(u),isModelListener=u=>u.startsWith("onUpdate:"),extend=Object.assign,remove$1=(u,c)=>{const d=u.indexOf(c);d>-1&&u.splice(d,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn$1=(u,c)=>hasOwnProperty$2.call(u,c),isArray$2=Array.isArray,isMap=u=>toTypeString(u)==="[object Map]",isSet=u=>toTypeString(u)==="[object Set]",isDate$1=u=>toTypeString(u)==="[object Date]",isFunction$3=u=>typeof u=="function",isString$3=u=>typeof u=="string",isSymbol=u=>typeof u=="symbol",isObject$3=u=>u!==null&&typeof u=="object",isPromise=u=>isObject$3(u)&&isFunction$3(u.then)&&isFunction$3(u.catch),objectToString$1=Object.prototype.toString,toTypeString=u=>objectToString$1.call(u),toRawType=u=>toTypeString(u).slice(8,-1),isPlainObject$2=u=>toTypeString(u)==="[object Object]",isIntegerKey=u=>isString$3(u)&&u!=="NaN"&&u[0]!=="-"&&""+parseInt(u,10)===u,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=u=>{const c=Object.create(null);return d=>c[d]||(c[d]=u(d))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(u=>u.replace(camelizeRE,(c,d)=>d?d.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(u=>u.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(u=>u.charAt(0).toUpperCase()+u.slice(1)),toHandlerKey=cacheStringFunction(u=>u?`on${capitalize(u)}`:""),hasChanged=(u,c)=>!Object.is(u,c),invokeArrayFns=(u,c)=>{for(let d=0;d<u.length;d++)u[d](c)},def=(u,c,d)=>{Object.defineProperty(u,c,{configurable:!0,enumerable:!1,value:d})},toNumber=u=>{const c=parseFloat(u);return isNaN(c)?u:c};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(c=!1){this.active=!0,this.effects=[],this.cleanups=[],!c&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(c){if(this.active){const d=activeEffectScope;try{return activeEffectScope=this,c()}finally{activeEffectScope=d}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(c){if(this.active){let d,y;for(d=0,y=this.effects.length;d<y;d++)this.effects[d].stop();for(d=0,y=this.cleanups.length;d<y;d++)this.cleanups[d]();if(this.scopes)for(d=0,y=this.scopes.length;d<y;d++)this.scopes[d].stop(!0);if(this.parent&&!c){const gr=this.parent.scopes.pop();gr&&gr!==this&&(this.parent.scopes[this.index]=gr,gr.index=this.index)}this.active=!1}}}function effectScope(u){return new EffectScope(u)}function recordEffectScope(u,c=activeEffectScope){c&&c.active&&c.effects.push(u)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(u){activeEffectScope&&activeEffectScope.cleanups.push(u)}const createDep=u=>{const c=new Set(u);return c.w=0,c.n=0,c},wasTracked=u=>(u.w&trackOpBit)>0,newTracked=u=>(u.n&trackOpBit)>0,initDepMarkers=({deps:u})=>{if(u.length)for(let c=0;c<u.length;c++)u[c].w|=trackOpBit},finalizeDepMarkers=u=>{const{deps:c}=u;if(c.length){let d=0;for(let y=0;y<c.length;y++){const gr=c[y];wasTracked(gr)&&!newTracked(gr)?gr.delete(u):c[d++]=gr,gr.w&=~trackOpBit,gr.n&=~trackOpBit}c.length=d}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(c,d=null,y){this.fn=c,this.scheduler=d,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,y)}run(){if(!this.active)return this.fn();let c=activeEffect,d=shouldTrack;for(;c;){if(c===this)return;c=c.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=d,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(u){const{deps:c}=u;if(c.length){for(let d=0;d<c.length;d++)c[d].delete(u);c.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const u=trackStack.pop();shouldTrack=u===void 0?!0:u}function track(u,c,d){if(shouldTrack&&activeEffect){let y=targetMap.get(u);y||targetMap.set(u,y=new Map);let gr=y.get(d);gr||y.set(d,gr=createDep()),trackEffects(gr)}}function trackEffects(u,c){let d=!1;effectTrackDepth<=maxMarkerBits?newTracked(u)||(u.n|=trackOpBit,d=!wasTracked(u)):d=!u.has(activeEffect),d&&(u.add(activeEffect),activeEffect.deps.push(u))}function trigger(u,c,d,y,gr,_r){const br=targetMap.get(u);if(!br)return;let wr=[];if(c==="clear")wr=[...br.values()];else if(d==="length"&&isArray$2(u))br.forEach((Er,Or)=>{(Or==="length"||Or>=y)&&wr.push(Er)});else switch(d!==void 0&&wr.push(br.get(d)),c){case"add":isArray$2(u)?isIntegerKey(d)&&wr.push(br.get("length")):(wr.push(br.get(ITERATE_KEY)),isMap(u)&&wr.push(br.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(u)||(wr.push(br.get(ITERATE_KEY)),isMap(u)&&wr.push(br.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(u)&&wr.push(br.get(ITERATE_KEY));break}if(wr.length===1)wr[0]&&triggerEffects(wr[0]);else{const Er=[];for(const Or of wr)Or&&Er.push(...Or);triggerEffects(createDep(Er))}}function triggerEffects(u,c){const d=isArray$2(u)?u:[...u];for(const y of d)y.computed&&triggerEffect(y);for(const y of d)y.computed||triggerEffect(y)}function triggerEffect(u,c){(u!==activeEffect||u.allowRecurse)&&(u.scheduler?u.scheduler():u.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(u=>u!=="arguments"&&u!=="caller").map(u=>Symbol[u]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const u={};return["includes","indexOf","lastIndexOf"].forEach(c=>{u[c]=function(...d){const y=toRaw(this);for(let _r=0,br=this.length;_r<br;_r++)track(y,"get",_r+"");const gr=y[c](...d);return gr===-1||gr===!1?y[c](...d.map(toRaw)):gr}}),["push","pop","shift","unshift","splice"].forEach(c=>{u[c]=function(...d){pauseTracking();const y=toRaw(this)[c].apply(this,d);return resetTracking(),y}}),u}function createGetter(u=!1,c=!1){return function(y,gr,_r){if(gr==="__v_isReactive")return!u;if(gr==="__v_isReadonly")return u;if(gr==="__v_isShallow")return c;if(gr==="__v_raw"&&_r===(u?c?shallowReadonlyMap:readonlyMap:c?shallowReactiveMap:reactiveMap).get(y))return y;const br=isArray$2(y);if(!u&&br&&hasOwn$1(arrayInstrumentations,gr))return Reflect.get(arrayInstrumentations,gr,_r);const wr=Reflect.get(y,gr,_r);return(isSymbol(gr)?builtInSymbols.has(gr):isNonTrackableKeys(gr))||(u||track(y,"get",gr),c)?wr:isRef(wr)?br&&isIntegerKey(gr)?wr:wr.value:isObject$3(wr)?u?readonly(wr):reactive(wr):wr}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(u=!1){return function(d,y,gr,_r){let br=d[y];if(isReadonly(br)&&isRef(br)&&!isRef(gr))return!1;if(!u&&(!isShallow(gr)&&!isReadonly(gr)&&(br=toRaw(br),gr=toRaw(gr)),!isArray$2(d)&&isRef(br)&&!isRef(gr)))return br.value=gr,!0;const wr=isArray$2(d)&&isIntegerKey(y)?Number(y)<d.length:hasOwn$1(d,y),Er=Reflect.set(d,y,gr,_r);return d===toRaw(_r)&&(wr?hasChanged(gr,br)&&trigger(d,"set",y,gr):trigger(d,"add",y,gr)),Er}}function deleteProperty(u,c){const d=hasOwn$1(u,c);u[c];const y=Reflect.deleteProperty(u,c);return y&&d&&trigger(u,"delete",c,void 0),y}function has$1(u,c){const d=Reflect.has(u,c);return(!isSymbol(c)||!builtInSymbols.has(c))&&track(u,"has",c),d}function ownKeys$1(u){return track(u,"iterate",isArray$2(u)?"length":ITERATE_KEY),Reflect.ownKeys(u)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(u,c){return!0},deleteProperty(u,c){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=u=>u,getProto$1=u=>Reflect.getPrototypeOf(u);function get$1$1(u,c,d=!1,y=!1){u=u.__v_raw;const gr=toRaw(u),_r=toRaw(c);d||(c!==_r&&track(gr,"get",c),track(gr,"get",_r));const{has:br}=getProto$1(gr),wr=y?toShallow:d?toReadonly:toReactive;if(br.call(gr,c))return wr(u.get(c));if(br.call(gr,_r))return wr(u.get(_r));u!==gr&&u.get(c)}function has$1$1(u,c=!1){const d=this.__v_raw,y=toRaw(d),gr=toRaw(u);return c||(u!==gr&&track(y,"has",u),track(y,"has",gr)),u===gr?d.has(u):d.has(u)||d.has(gr)}function size(u,c=!1){return u=u.__v_raw,!c&&track(toRaw(u),"iterate",ITERATE_KEY),Reflect.get(u,"size",u)}function add$1(u){u=toRaw(u);const c=toRaw(this);return getProto$1(c).has.call(c,u)||(c.add(u),trigger(c,"add",u,u)),this}function set$1$1(u,c){c=toRaw(c);const d=toRaw(this),{has:y,get:gr}=getProto$1(d);let _r=y.call(d,u);_r||(u=toRaw(u),_r=y.call(d,u));const br=gr.call(d,u);return d.set(u,c),_r?hasChanged(c,br)&&trigger(d,"set",u,c):trigger(d,"add",u,c),this}function deleteEntry(u){const c=toRaw(this),{has:d,get:y}=getProto$1(c);let gr=d.call(c,u);gr||(u=toRaw(u),gr=d.call(c,u)),y&&y.call(c,u);const _r=c.delete(u);return gr&&trigger(c,"delete",u,void 0),_r}function clear(){const u=toRaw(this),c=u.size!==0,d=u.clear();return c&&trigger(u,"clear",void 0,void 0),d}function createForEach(u,c){return function(y,gr){const _r=this,br=_r.__v_raw,wr=toRaw(br),Er=c?toShallow:u?toReadonly:toReactive;return!u&&track(wr,"iterate",ITERATE_KEY),br.forEach((Or,xr)=>y.call(gr,Er(Or),Er(xr),_r))}}function createIterableMethod(u,c,d){return function(...y){const gr=this.__v_raw,_r=toRaw(gr),br=isMap(_r),wr=u==="entries"||u===Symbol.iterator&&br,Er=u==="keys"&&br,Or=gr[u](...y),xr=d?toShallow:c?toReadonly:toReactive;return!c&&track(_r,"iterate",Er?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:kr,done:Mr}=Or.next();return Mr?{value:kr,done:Mr}:{value:wr?[xr(kr[0]),xr(kr[1])]:xr(kr),done:Mr}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(u){return function(...c){return u==="delete"?!1:this}}function createInstrumentations(){const u={get(_r){return get$1$1(this,_r)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},c={get(_r){return get$1$1(this,_r,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},d={get(_r){return get$1$1(this,_r,!0)},get size(){return size(this,!0)},has(_r){return has$1$1.call(this,_r,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},y={get(_r){return get$1$1(this,_r,!0,!0)},get size(){return size(this,!0)},has(_r){return has$1$1.call(this,_r,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(_r=>{u[_r]=createIterableMethod(_r,!1,!1),d[_r]=createIterableMethod(_r,!0,!1),c[_r]=createIterableMethod(_r,!1,!0),y[_r]=createIterableMethod(_r,!0,!0)}),[u,d,c,y]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(u,c){const d=c?u?shallowReadonlyInstrumentations:shallowInstrumentations:u?readonlyInstrumentations:mutableInstrumentations;return(y,gr,_r)=>gr==="__v_isReactive"?!u:gr==="__v_isReadonly"?u:gr==="__v_raw"?y:Reflect.get(hasOwn$1(d,gr)&&gr in y?d:y,gr,_r)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(u){switch(u){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(u){return u.__v_skip||!Object.isExtensible(u)?0:targetTypeMap(toRawType(u))}function reactive(u){return isReadonly(u)?u:createReactiveObject(u,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(u){return createReactiveObject(u,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(u){return createReactiveObject(u,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(u,c,d,y,gr){if(!isObject$3(u)||u.__v_raw&&!(c&&u.__v_isReactive))return u;const _r=gr.get(u);if(_r)return _r;const br=getTargetType(u);if(br===0)return u;const wr=new Proxy(u,br===2?y:d);return gr.set(u,wr),wr}function isReactive(u){return isReadonly(u)?isReactive(u.__v_raw):!!(u&&u.__v_isReactive)}function isReadonly(u){return!!(u&&u.__v_isReadonly)}function isShallow(u){return!!(u&&u.__v_isShallow)}function isProxy(u){return isReactive(u)||isReadonly(u)}function toRaw(u){const c=u&&u.__v_raw;return c?toRaw(c):u}function markRaw(u){return def(u,"__v_skip",!0),u}const toReactive=u=>isObject$3(u)?reactive(u):u,toReadonly=u=>isObject$3(u)?readonly(u):u;function trackRefValue(u){shouldTrack&&activeEffect&&(u=toRaw(u),trackEffects(u.dep||(u.dep=createDep())))}function triggerRefValue(u,c){u=toRaw(u),u.dep&&triggerEffects(u.dep)}function isRef(u){return!!(u&&u.__v_isRef===!0)}function ref(u){return createRef(u,!1)}function shallowRef(u){return createRef(u,!0)}function createRef(u,c){return isRef(u)?u:new RefImpl(u,c)}class RefImpl{constructor(c,d){this.__v_isShallow=d,this.dep=void 0,this.__v_isRef=!0,this._rawValue=d?c:toRaw(c),this._value=d?c:toReactive(c)}get value(){return trackRefValue(this),this._value}set value(c){const d=this.__v_isShallow||isShallow(c)||isReadonly(c);c=d?c:toRaw(c),hasChanged(c,this._rawValue)&&(this._rawValue=c,this._value=d?c:toReactive(c),triggerRefValue(this))}}function unref(u){return isRef(u)?u.value:u}const shallowUnwrapHandlers={get:(u,c,d)=>unref(Reflect.get(u,c,d)),set:(u,c,d,y)=>{const gr=u[c];return isRef(gr)&&!isRef(d)?(gr.value=d,!0):Reflect.set(u,c,d,y)}};function proxyRefs(u){return isReactive(u)?u:new Proxy(u,shallowUnwrapHandlers)}function toRefs(u){const c=isArray$2(u)?new Array(u.length):{};for(const d in u)c[d]=toRef(u,d);return c}class ObjectRefImpl{constructor(c,d,y){this._object=c,this._key=d,this._defaultValue=y,this.__v_isRef=!0}get value(){const c=this._object[this._key];return c===void 0?this._defaultValue:c}set value(c){this._object[this._key]=c}}function toRef(u,c,d){const y=u[c];return isRef(y)?y:new ObjectRefImpl(u,c,d)}var _a$2;class ComputedRefImpl{constructor(c,d,y,gr){this._setter=d,this.dep=void 0,this.__v_isRef=!0,this[_a$2]=!1,this._dirty=!0,this.effect=new ReactiveEffect(c,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!gr,this.__v_isReadonly=y}get value(){const c=toRaw(this);return trackRefValue(c),(c._dirty||!c._cacheable)&&(c._dirty=!1,c._value=c.effect.run()),c._value}set value(c){this._setter(c)}}_a$2="__v_isReadonly";function computed$2(u,c,d=!1){let y,gr;const _r=isFunction$3(u);return _r?(y=u,gr=NOOP$1):(y=u.get,gr=u.set),new ComputedRefImpl(y,gr,_r||!gr,d)}function callWithErrorHandling(u,c,d,y){let gr;try{gr=y?u(...y):u()}catch(_r){handleError(_r,c,d)}return gr}function callWithAsyncErrorHandling(u,c,d,y){if(isFunction$3(u)){const _r=callWithErrorHandling(u,c,d,y);return _r&&isPromise(_r)&&_r.catch(br=>{handleError(br,c,d)}),_r}const gr=[];for(let _r=0;_r<u.length;_r++)gr.push(callWithAsyncErrorHandling(u[_r],c,d,y));return gr}function handleError(u,c,d,y=!0){const gr=c?c.vnode:null;if(c){let _r=c.parent;const br=c.proxy,wr=d;for(;_r;){const Or=_r.ec;if(Or){for(let xr=0;xr<Or.length;xr++)if(Or[xr](u,br,wr)===!1)return}_r=_r.parent}const Er=c.appContext.config.errorHandler;if(Er){callWithErrorHandling(Er,null,10,[u,br,wr]);return}}logError(u,d,gr,y)}function logError(u,c,d,y=!0){console.error(u)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(u){const c=currentFlushPromise||resolvedPromise;return u?c.then(this?u.bind(this):u):c}function findInsertionIndex(u){let c=flushIndex+1,d=queue.length;for(;c<d;){const y=c+d>>>1;getId(queue[y])<u?c=y+1:d=y}return c}function queueJob(u){(!queue.length||!queue.includes(u,isFlushing&&u.allowRecurse?flushIndex+1:flushIndex))&&(u.id==null?queue.push(u):queue.splice(findInsertionIndex(u.id),0,u),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(u){const c=queue.indexOf(u);c>flushIndex&&queue.splice(c,1)}function queuePostFlushCb(u){isArray$2(u)?pendingPostFlushCbs.push(...u):(!activePostFlushCbs||!activePostFlushCbs.includes(u,u.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(u),queueFlush()}function flushPreFlushCbs(u,c=isFlushing?flushIndex+1:0){for(;c<queue.length;c++){const d=queue[c];d&&d.pre&&(queue.splice(c,1),c--,d())}}function flushPostFlushCbs(u){if(pendingPostFlushCbs.length){const c=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...c);return}for(activePostFlushCbs=c,activePostFlushCbs.sort((d,y)=>getId(d)-getId(y)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=u=>u.id==null?1/0:u.id,comparator=(u,c)=>{const d=getId(u)-getId(c);if(d===0){if(u.pre&&!c.pre)return-1;if(c.pre&&!u.pre)return 1}return d};function flushJobs(u){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const c=NOOP$1;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const d=queue[flushIndex];d&&d.active!==!1&&callWithErrorHandling(d,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(u,c,...d){if(u.isUnmounted)return;const y=u.vnode.props||EMPTY_OBJ;let gr=d;const _r=c.startsWith("update:"),br=_r&&c.slice(7);if(br&&br in y){const xr=`${br==="modelValue"?"model":br}Modifiers`,{number:kr,trim:Mr}=y[xr]||EMPTY_OBJ;Mr&&(gr=d.map(Cr=>Cr.trim())),kr&&(gr=d.map(toNumber))}let wr,Er=y[wr=toHandlerKey(c)]||y[wr=toHandlerKey(camelize(c))];!Er&&_r&&(Er=y[wr=toHandlerKey(hyphenate(c))]),Er&&callWithAsyncErrorHandling(Er,u,6,gr);const Or=y[wr+"Once"];if(Or){if(!u.emitted)u.emitted={};else if(u.emitted[wr])return;u.emitted[wr]=!0,callWithAsyncErrorHandling(Or,u,6,gr)}}function normalizeEmitsOptions(u,c,d=!1){const y=c.emitsCache,gr=y.get(u);if(gr!==void 0)return gr;const _r=u.emits;let br={},wr=!1;if(!isFunction$3(u)){const Er=Or=>{const xr=normalizeEmitsOptions(Or,c,!0);xr&&(wr=!0,extend(br,xr))};!d&&c.mixins.length&&c.mixins.forEach(Er),u.extends&&Er(u.extends),u.mixins&&u.mixins.forEach(Er)}return!_r&&!wr?(isObject$3(u)&&y.set(u,null),null):(isArray$2(_r)?_r.forEach(Er=>br[Er]=null):extend(br,_r),isObject$3(u)&&y.set(u,br),br)}function isEmitListener(u,c){return!u||!isOn(c)?!1:(c=c.slice(2).replace(/Once$/,""),hasOwn$1(u,c[0].toLowerCase()+c.slice(1))||hasOwn$1(u,hyphenate(c))||hasOwn$1(u,c))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(u){const c=currentRenderingInstance;return currentRenderingInstance=u,currentScopeId=u&&u.type.__scopeId||null,c}function withCtx(u,c=currentRenderingInstance,d){if(!c||u._n)return u;const y=(...gr)=>{y._d&&setBlockTracking(-1);const _r=setCurrentRenderingInstance(c),br=u(...gr);return setCurrentRenderingInstance(_r),y._d&&setBlockTracking(1),br};return y._n=!0,y._c=!0,y._d=!0,y}function markAttrsAccessed(){}function renderComponentRoot(u){const{type:c,vnode:d,proxy:y,withProxy:gr,props:_r,propsOptions:[br],slots:wr,attrs:Er,emit:Or,render:xr,renderCache:kr,data:Mr,setupState:Cr,ctx:Nr,inheritAttrs:Ur}=u;let Dr,zr;const Zr=setCurrentRenderingInstance(u);try{if(d.shapeFlag&4){const tn=gr||y;Dr=normalizeVNode(xr.call(tn,tn,kr,_r,Cr,Mr,Nr)),zr=Er}else{const tn=c;Dr=normalizeVNode(tn.length>1?tn(_r,{attrs:Er,slots:wr,emit:Or}):tn(_r,null)),zr=c.props?Er:getFunctionalFallthrough(Er)}}catch(tn){blockStack.length=0,handleError(tn,u,1),Dr=createVNode(Comment)}let Wr=Dr;if(zr&&Ur!==!1){const tn=Object.keys(zr),{shapeFlag:rn}=Wr;tn.length&&rn&7&&(br&&tn.some(isModelListener)&&(zr=filterModelListeners(zr,br)),Wr=cloneVNode(Wr,zr))}return d.dirs&&(Wr=cloneVNode(Wr),Wr.dirs=Wr.dirs?Wr.dirs.concat(d.dirs):d.dirs),d.transition&&(Wr.transition=d.transition),Dr=Wr,setCurrentRenderingInstance(Zr),Dr}const getFunctionalFallthrough=u=>{let c;for(const d in u)(d==="class"||d==="style"||isOn(d))&&((c||(c={}))[d]=u[d]);return c},filterModelListeners=(u,c)=>{const d={};for(const y in u)(!isModelListener(y)||!(y.slice(9)in c))&&(d[y]=u[y]);return d};function shouldUpdateComponent(u,c,d){const{props:y,children:gr,component:_r}=u,{props:br,children:wr,patchFlag:Er}=c,Or=_r.emitsOptions;if(c.dirs||c.transition)return!0;if(d&&Er>=0){if(Er&1024)return!0;if(Er&16)return y?hasPropsChanged(y,br,Or):!!br;if(Er&8){const xr=c.dynamicProps;for(let kr=0;kr<xr.length;kr++){const Mr=xr[kr];if(br[Mr]!==y[Mr]&&!isEmitListener(Or,Mr))return!0}}}else return(gr||wr)&&(!wr||!wr.$stable)?!0:y===br?!1:y?br?hasPropsChanged(y,br,Or):!0:!!br;return!1}function hasPropsChanged(u,c,d){const y=Object.keys(c);if(y.length!==Object.keys(u).length)return!0;for(let gr=0;gr<y.length;gr++){const _r=y[gr];if(c[_r]!==u[_r]&&!isEmitListener(d,_r))return!0}return!1}function updateHOCHostEl({vnode:u,parent:c},d){for(;c&&c.subTree===u;)(u=c.vnode).el=d,c=c.parent}const isSuspense=u=>u.__isSuspense;function queueEffectWithSuspense(u,c){c&&c.pendingBranch?isArray$2(u)?c.effects.push(...u):c.effects.push(u):queuePostFlushCb(u)}function provide(u,c){if(currentInstance){let d=currentInstance.provides;const y=currentInstance.parent&&currentInstance.parent.provides;y===d&&(d=currentInstance.provides=Object.create(y)),d[u]=c}}function inject(u,c,d=!1){const y=currentInstance||currentRenderingInstance;if(y){const gr=y.parent==null?y.vnode.appContext&&y.vnode.appContext.provides:y.parent.provides;if(gr&&u in gr)return gr[u];if(arguments.length>1)return d&&isFunction$3(c)?c.call(y.proxy):c}}function watchEffect(u,c){return doWatch(u,null,c)}const INITIAL_WATCHER_VALUE={};function watch(u,c,d){return doWatch(u,c,d)}function doWatch(u,c,{immediate:d,deep:y,flush:gr,onTrack:_r,onTrigger:br}=EMPTY_OBJ){const wr=currentInstance;let Er,Or=!1,xr=!1;if(isRef(u)?(Er=()=>u.value,Or=isShallow(u)):isReactive(u)?(Er=()=>u,y=!0):isArray$2(u)?(xr=!0,Or=u.some(zr=>isReactive(zr)||isShallow(zr)),Er=()=>u.map(zr=>{if(isRef(zr))return zr.value;if(isReactive(zr))return traverse(zr);if(isFunction$3(zr))return callWithErrorHandling(zr,wr,2)})):isFunction$3(u)?c?Er=()=>callWithErrorHandling(u,wr,2):Er=()=>{if(!(wr&&wr.isUnmounted))return kr&&kr(),callWithAsyncErrorHandling(u,wr,3,[Mr])}:Er=NOOP$1,c&&y){const zr=Er;Er=()=>traverse(zr())}let kr,Mr=zr=>{kr=Dr.onStop=()=>{callWithErrorHandling(zr,wr,4)}};if(isInSSRComponentSetup)return Mr=NOOP$1,c?d&&callWithAsyncErrorHandling(c,wr,3,[Er(),xr?[]:void 0,Mr]):Er(),NOOP$1;let Cr=xr?[]:INITIAL_WATCHER_VALUE;const Nr=()=>{if(!!Dr.active)if(c){const zr=Dr.run();(y||Or||(xr?zr.some((Zr,Wr)=>hasChanged(Zr,Cr[Wr])):hasChanged(zr,Cr)))&&(kr&&kr(),callWithAsyncErrorHandling(c,wr,3,[zr,Cr===INITIAL_WATCHER_VALUE?void 0:Cr,Mr]),Cr=zr)}else Dr.run()};Nr.allowRecurse=!!c;let Ur;gr==="sync"?Ur=Nr:gr==="post"?Ur=()=>queuePostRenderEffect(Nr,wr&&wr.suspense):(Nr.pre=!0,wr&&(Nr.id=wr.uid),Ur=()=>queueJob(Nr));const Dr=new ReactiveEffect(Er,Ur);return c?d?Nr():Cr=Dr.run():gr==="post"?queuePostRenderEffect(Dr.run.bind(Dr),wr&&wr.suspense):Dr.run(),()=>{Dr.stop(),wr&&wr.scope&&remove$1(wr.scope.effects,Dr)}}function instanceWatch(u,c,d){const y=this.proxy,gr=isString$3(u)?u.includes(".")?createPathGetter(y,u):()=>y[u]:u.bind(y,y);let _r;isFunction$3(c)?_r=c:(_r=c.handler,d=c);const br=currentInstance;setCurrentInstance(this);const wr=doWatch(gr,_r.bind(y),d);return br?setCurrentInstance(br):unsetCurrentInstance(),wr}function createPathGetter(u,c){const d=c.split(".");return()=>{let y=u;for(let gr=0;gr<d.length&&y;gr++)y=y[d[gr]];return y}}function traverse(u,c){if(!isObject$3(u)||u.__v_skip||(c=c||new Set,c.has(u)))return u;if(c.add(u),isRef(u))traverse(u.value,c);else if(isArray$2(u))for(let d=0;d<u.length;d++)traverse(u[d],c);else if(isSet(u)||isMap(u))u.forEach(d=>{traverse(d,c)});else if(isPlainObject$2(u))for(const d in u)traverse(u[d],c);return u}function defineComponent(u){return isFunction$3(u)?{setup:u,name:u.name}:u}const isAsyncWrapper=u=>!!u.type.__asyncLoader,isKeepAlive=u=>u.type.__isKeepAlive;function onActivated(u,c){registerKeepAliveHook(u,"a",c)}function onDeactivated(u,c){registerKeepAliveHook(u,"da",c)}function registerKeepAliveHook(u,c,d=currentInstance){const y=u.__wdc||(u.__wdc=()=>{let gr=d;for(;gr;){if(gr.isDeactivated)return;gr=gr.parent}return u()});if(injectHook(c,y,d),d){let gr=d.parent;for(;gr&&gr.parent;)isKeepAlive(gr.parent.vnode)&&injectToKeepAliveRoot(y,c,d,gr),gr=gr.parent}}function injectToKeepAliveRoot(u,c,d,y){const gr=injectHook(c,u,y,!0);onUnmounted(()=>{remove$1(y[c],gr)},d)}function injectHook(u,c,d=currentInstance,y=!1){if(d){const gr=d[u]||(d[u]=[]),_r=c.__weh||(c.__weh=(...br)=>{if(d.isUnmounted)return;pauseTracking(),setCurrentInstance(d);const wr=callWithAsyncErrorHandling(c,d,u,br);return unsetCurrentInstance(),resetTracking(),wr});return y?gr.unshift(_r):gr.push(_r),_r}}const createHook=u=>(c,d=currentInstance)=>(!isInSSRComponentSetup||u==="sp")&&injectHook(u,c,d),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(u,c=currentInstance){injectHook("ec",u,c)}function withDirectives(u,c){const d=currentRenderingInstance;if(d===null)return u;const y=getExposeProxy(d)||d.proxy,gr=u.dirs||(u.dirs=[]);for(let _r=0;_r<c.length;_r++){let[br,wr,Er,Or=EMPTY_OBJ]=c[_r];isFunction$3(br)&&(br={mounted:br,updated:br}),br.deep&&traverse(wr),gr.push({dir:br,instance:y,value:wr,oldValue:void 0,arg:Er,modifiers:Or})}return u}function invokeDirectiveHook(u,c,d,y){const gr=u.dirs,_r=c&&c.dirs;for(let br=0;br<gr.length;br++){const wr=gr[br];_r&&(wr.oldValue=_r[br].value);let Er=wr.dir[y];Er&&(pauseTracking(),callWithAsyncErrorHandling(Er,d,8,[u.el,wr,u,c]),resetTracking())}}const COMPONENTS="components";function resolveComponent(u,c){return resolveAsset(COMPONENTS,u,!0,c)||u}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(u,c,d=!0,y=!1){const gr=currentRenderingInstance||currentInstance;if(gr){const _r=gr.type;if(u===COMPONENTS){const wr=getComponentName(_r,!1);if(wr&&(wr===c||wr===camelize(c)||wr===capitalize(camelize(c))))return _r}const br=resolve(gr[u]||_r[u],c)||resolve(gr.appContext[u],c);return!br&&y?_r:br}}function resolve(u,c){return u&&(u[c]||u[camelize(c)]||u[capitalize(camelize(c))])}function renderList(u,c,d,y){let gr;const _r=d&&d[y];if(isArray$2(u)||isString$3(u)){gr=new Array(u.length);for(let br=0,wr=u.length;br<wr;br++)gr[br]=c(u[br],br,void 0,_r&&_r[br])}else if(typeof u=="number"){gr=new Array(u);for(let br=0;br<u;br++)gr[br]=c(br+1,br,void 0,_r&&_r[br])}else if(isObject$3(u))if(u[Symbol.iterator])gr=Array.from(u,(br,wr)=>c(br,wr,void 0,_r&&_r[wr]));else{const br=Object.keys(u);gr=new Array(br.length);for(let wr=0,Er=br.length;wr<Er;wr++){const Or=br[wr];gr[wr]=c(u[Or],Or,wr,_r&&_r[wr])}}else gr=[];return d&&(d[y]=gr),gr}function renderSlot(u,c,d={},y,gr){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",c==="default"?null:{name:c},y&&y());let _r=u[c];_r&&_r._c&&(_r._d=!1),openBlock();const br=_r&&ensureValidVNode(_r(d)),wr=createBlock(Fragment,{key:d.key||br&&br.key||`_${c}`},br||(y?y():[]),br&&u._===1?64:-2);return!gr&&wr.scopeId&&(wr.slotScopeIds=[wr.scopeId+"-s"]),_r&&_r._c&&(_r._d=!0),wr}function ensureValidVNode(u){return u.some(c=>isVNode(c)?!(c.type===Comment||c.type===Fragment&&!ensureValidVNode(c.children)):!0)?u:null}const getPublicInstance=u=>u?isStatefulComponent(u)?getExposeProxy(u)||u.proxy:getPublicInstance(u.parent):null,publicPropertiesMap=extend(Object.create(null),{$:u=>u,$el:u=>u.vnode.el,$data:u=>u.data,$props:u=>u.props,$attrs:u=>u.attrs,$slots:u=>u.slots,$refs:u=>u.refs,$parent:u=>getPublicInstance(u.parent),$root:u=>getPublicInstance(u.root),$emit:u=>u.emit,$options:u=>resolveMergedOptions(u),$forceUpdate:u=>u.f||(u.f=()=>queueJob(u.update)),$nextTick:u=>u.n||(u.n=nextTick.bind(u.proxy)),$watch:u=>instanceWatch.bind(u)}),PublicInstanceProxyHandlers={get({_:u},c){const{ctx:d,setupState:y,data:gr,props:_r,accessCache:br,type:wr,appContext:Er}=u;let Or;if(c[0]!=="$"){const Cr=br[c];if(Cr!==void 0)switch(Cr){case 1:return y[c];case 2:return gr[c];case 4:return d[c];case 3:return _r[c]}else{if(y!==EMPTY_OBJ&&hasOwn$1(y,c))return br[c]=1,y[c];if(gr!==EMPTY_OBJ&&hasOwn$1(gr,c))return br[c]=2,gr[c];if((Or=u.propsOptions[0])&&hasOwn$1(Or,c))return br[c]=3,_r[c];if(d!==EMPTY_OBJ&&hasOwn$1(d,c))return br[c]=4,d[c];shouldCacheAccess&&(br[c]=0)}}const xr=publicPropertiesMap[c];let kr,Mr;if(xr)return c==="$attrs"&&track(u,"get",c),xr(u);if((kr=wr.__cssModules)&&(kr=kr[c]))return kr;if(d!==EMPTY_OBJ&&hasOwn$1(d,c))return br[c]=4,d[c];if(Mr=Er.config.globalProperties,hasOwn$1(Mr,c))return Mr[c]},set({_:u},c,d){const{data:y,setupState:gr,ctx:_r}=u;return gr!==EMPTY_OBJ&&hasOwn$1(gr,c)?(gr[c]=d,!0):y!==EMPTY_OBJ&&hasOwn$1(y,c)?(y[c]=d,!0):hasOwn$1(u.props,c)||c[0]==="$"&&c.slice(1)in u?!1:(_r[c]=d,!0)},has({_:{data:u,setupState:c,accessCache:d,ctx:y,appContext:gr,propsOptions:_r}},br){let wr;return!!d[br]||u!==EMPTY_OBJ&&hasOwn$1(u,br)||c!==EMPTY_OBJ&&hasOwn$1(c,br)||(wr=_r[0])&&hasOwn$1(wr,br)||hasOwn$1(y,br)||hasOwn$1(publicPropertiesMap,br)||hasOwn$1(gr.config.globalProperties,br)},defineProperty(u,c,d){return d.get!=null?u._.accessCache[c]=0:hasOwn$1(d,"value")&&this.set(u,c,d.value,null),Reflect.defineProperty(u,c,d)}};let shouldCacheAccess=!0;function applyOptions(u){const c=resolveMergedOptions(u),d=u.proxy,y=u.ctx;shouldCacheAccess=!1,c.beforeCreate&&callHook(c.beforeCreate,u,"bc");const{data:gr,computed:_r,methods:br,watch:wr,provide:Er,inject:Or,created:xr,beforeMount:kr,mounted:Mr,beforeUpdate:Cr,updated:Nr,activated:Ur,deactivated:Dr,beforeDestroy:zr,beforeUnmount:Zr,destroyed:Wr,unmounted:tn,render:rn,renderTracked:Jr,renderTriggered:Qr,errorCaptured:an,serverPrefetch:mn,expose:fn,inheritAttrs:gn,components:Sn,directives:Fr,filters:Rr}=c;if(Or&&resolveInjections(Or,y,null,u.appContext.config.unwrapInjectedRef),br)for(const Yr in br){const Xr=br[Yr];isFunction$3(Xr)&&(y[Yr]=Xr.bind(d))}if(gr){const Yr=gr.call(d,d);isObject$3(Yr)&&(u.data=reactive(Yr))}if(shouldCacheAccess=!0,_r)for(const Yr in _r){const Xr=_r[Yr],hn=isFunction$3(Xr)?Xr.bind(d,d):isFunction$3(Xr.get)?Xr.get.bind(d,d):NOOP$1,En=!isFunction$3(Xr)&&isFunction$3(Xr.set)?Xr.set.bind(d):NOOP$1,qr=computed$1({get:hn,set:En});Object.defineProperty(y,Yr,{enumerable:!0,configurable:!0,get:()=>qr.value,set:Br=>qr.value=Br})}if(wr)for(const Yr in wr)createWatcher(wr[Yr],y,d,Yr);if(Er){const Yr=isFunction$3(Er)?Er.call(d):Er;Reflect.ownKeys(Yr).forEach(Xr=>{provide(Xr,Yr[Xr])})}xr&&callHook(xr,u,"c");function Vr(Yr,Xr){isArray$2(Xr)?Xr.forEach(hn=>Yr(hn.bind(d))):Xr&&Yr(Xr.bind(d))}if(Vr(onBeforeMount,kr),Vr(onMounted,Mr),Vr(onBeforeUpdate,Cr),Vr(onUpdated,Nr),Vr(onActivated,Ur),Vr(onDeactivated,Dr),Vr(onErrorCaptured,an),Vr(onRenderTracked,Jr),Vr(onRenderTriggered,Qr),Vr(onBeforeUnmount,Zr),Vr(onUnmounted,tn),Vr(onServerPrefetch,mn),isArray$2(fn))if(fn.length){const Yr=u.exposed||(u.exposed={});fn.forEach(Xr=>{Object.defineProperty(Yr,Xr,{get:()=>d[Xr],set:hn=>d[Xr]=hn})})}else u.exposed||(u.exposed={});rn&&u.render===NOOP$1&&(u.render=rn),gn!=null&&(u.inheritAttrs=gn),Sn&&(u.components=Sn),Fr&&(u.directives=Fr)}function resolveInjections(u,c,d=NOOP$1,y=!1){isArray$2(u)&&(u=normalizeInject(u));for(const gr in u){const _r=u[gr];let br;isObject$3(_r)?"default"in _r?br=inject(_r.from||gr,_r.default,!0):br=inject(_r.from||gr):br=inject(_r),isRef(br)&&y?Object.defineProperty(c,gr,{enumerable:!0,configurable:!0,get:()=>br.value,set:wr=>br.value=wr}):c[gr]=br}}function callHook(u,c,d){callWithAsyncErrorHandling(isArray$2(u)?u.map(y=>y.bind(c.proxy)):u.bind(c.proxy),c,d)}function createWatcher(u,c,d,y){const gr=y.includes(".")?createPathGetter(d,y):()=>d[y];if(isString$3(u)){const _r=c[u];isFunction$3(_r)&&watch(gr,_r)}else if(isFunction$3(u))watch(gr,u.bind(d));else if(isObject$3(u))if(isArray$2(u))u.forEach(_r=>createWatcher(_r,c,d,y));else{const _r=isFunction$3(u.handler)?u.handler.bind(d):c[u.handler];isFunction$3(_r)&&watch(gr,_r,u)}}function resolveMergedOptions(u){const c=u.type,{mixins:d,extends:y}=c,{mixins:gr,optionsCache:_r,config:{optionMergeStrategies:br}}=u.appContext,wr=_r.get(c);let Er;return wr?Er=wr:!gr.length&&!d&&!y?Er=c:(Er={},gr.length&&gr.forEach(Or=>mergeOptions$1(Er,Or,br,!0)),mergeOptions$1(Er,c,br)),isObject$3(c)&&_r.set(c,Er),Er}function mergeOptions$1(u,c,d,y=!1){const{mixins:gr,extends:_r}=c;_r&&mergeOptions$1(u,_r,d,!0),gr&&gr.forEach(br=>mergeOptions$1(u,br,d,!0));for(const br in c)if(!(y&&br==="expose")){const wr=internalOptionMergeStrats[br]||d&&d[br];u[br]=wr?wr(u[br],c[br]):c[br]}return u}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(u,c){return c?u?function(){return extend(isFunction$3(u)?u.call(this,this):u,isFunction$3(c)?c.call(this,this):c)}:c:u}function mergeInject(u,c){return mergeObjectOptions(normalizeInject(u),normalizeInject(c))}function normalizeInject(u){if(isArray$2(u)){const c={};for(let d=0;d<u.length;d++)c[u[d]]=u[d];return c}return u}function mergeAsArray(u,c){return u?[...new Set([].concat(u,c))]:c}function mergeObjectOptions(u,c){return u?extend(extend(Object.create(null),u),c):c}function mergeWatchOptions(u,c){if(!u)return c;if(!c)return u;const d=extend(Object.create(null),u);for(const y in c)d[y]=mergeAsArray(u[y],c[y]);return d}function initProps(u,c,d,y=!1){const gr={},_r={};def(_r,InternalObjectKey,1),u.propsDefaults=Object.create(null),setFullProps(u,c,gr,_r);for(const br in u.propsOptions[0])br in gr||(gr[br]=void 0);d?u.props=y?gr:shallowReactive(gr):u.type.props?u.props=gr:u.props=_r,u.attrs=_r}function updateProps(u,c,d,y){const{props:gr,attrs:_r,vnode:{patchFlag:br}}=u,wr=toRaw(gr),[Er]=u.propsOptions;let Or=!1;if((y||br>0)&&!(br&16)){if(br&8){const xr=u.vnode.dynamicProps;for(let kr=0;kr<xr.length;kr++){let Mr=xr[kr];if(isEmitListener(u.emitsOptions,Mr))continue;const Cr=c[Mr];if(Er)if(hasOwn$1(_r,Mr))Cr!==_r[Mr]&&(_r[Mr]=Cr,Or=!0);else{const Nr=camelize(Mr);gr[Nr]=resolvePropValue(Er,wr,Nr,Cr,u,!1)}else Cr!==_r[Mr]&&(_r[Mr]=Cr,Or=!0)}}}else{setFullProps(u,c,gr,_r)&&(Or=!0);let xr;for(const kr in wr)(!c||!hasOwn$1(c,kr)&&((xr=hyphenate(kr))===kr||!hasOwn$1(c,xr)))&&(Er?d&&(d[kr]!==void 0||d[xr]!==void 0)&&(gr[kr]=resolvePropValue(Er,wr,kr,void 0,u,!0)):delete gr[kr]);if(_r!==wr)for(const kr in _r)(!c||!hasOwn$1(c,kr)&&!0)&&(delete _r[kr],Or=!0)}Or&&trigger(u,"set","$attrs")}function setFullProps(u,c,d,y){const[gr,_r]=u.propsOptions;let br=!1,wr;if(c)for(let Er in c){if(isReservedProp(Er))continue;const Or=c[Er];let xr;gr&&hasOwn$1(gr,xr=camelize(Er))?!_r||!_r.includes(xr)?d[xr]=Or:(wr||(wr={}))[xr]=Or:isEmitListener(u.emitsOptions,Er)||(!(Er in y)||Or!==y[Er])&&(y[Er]=Or,br=!0)}if(_r){const Er=toRaw(d),Or=wr||EMPTY_OBJ;for(let xr=0;xr<_r.length;xr++){const kr=_r[xr];d[kr]=resolvePropValue(gr,Er,kr,Or[kr],u,!hasOwn$1(Or,kr))}}return br}function resolvePropValue(u,c,d,y,gr,_r){const br=u[d];if(br!=null){const wr=hasOwn$1(br,"default");if(wr&&y===void 0){const Er=br.default;if(br.type!==Function&&isFunction$3(Er)){const{propsDefaults:Or}=gr;d in Or?y=Or[d]:(setCurrentInstance(gr),y=Or[d]=Er.call(null,c),unsetCurrentInstance())}else y=Er}br[0]&&(_r&&!wr?y=!1:br[1]&&(y===""||y===hyphenate(d))&&(y=!0))}return y}function normalizePropsOptions(u,c,d=!1){const y=c.propsCache,gr=y.get(u);if(gr)return gr;const _r=u.props,br={},wr=[];let Er=!1;if(!isFunction$3(u)){const xr=kr=>{Er=!0;const[Mr,Cr]=normalizePropsOptions(kr,c,!0);extend(br,Mr),Cr&&wr.push(...Cr)};!d&&c.mixins.length&&c.mixins.forEach(xr),u.extends&&xr(u.extends),u.mixins&&u.mixins.forEach(xr)}if(!_r&&!Er)return isObject$3(u)&&y.set(u,EMPTY_ARR),EMPTY_ARR;if(isArray$2(_r))for(let xr=0;xr<_r.length;xr++){const kr=camelize(_r[xr]);validatePropName(kr)&&(br[kr]=EMPTY_OBJ)}else if(_r)for(const xr in _r){const kr=camelize(xr);if(validatePropName(kr)){const Mr=_r[xr],Cr=br[kr]=isArray$2(Mr)||isFunction$3(Mr)?{type:Mr}:Mr;if(Cr){const Nr=getTypeIndex(Boolean,Cr.type),Ur=getTypeIndex(String,Cr.type);Cr[0]=Nr>-1,Cr[1]=Ur<0||Nr<Ur,(Nr>-1||hasOwn$1(Cr,"default"))&&wr.push(kr)}}}const Or=[br,wr];return isObject$3(u)&&y.set(u,Or),Or}function validatePropName(u){return u[0]!=="$"}function getType(u){const c=u&&u.toString().match(/^\s*function (\w+)/);return c?c[1]:u===null?"null":""}function isSameType(u,c){return getType(u)===getType(c)}function getTypeIndex(u,c){return isArray$2(c)?c.findIndex(d=>isSameType(d,u)):isFunction$3(c)&&isSameType(c,u)?0:-1}const isInternalKey=u=>u[0]==="_"||u==="$stable",normalizeSlotValue=u=>isArray$2(u)?u.map(normalizeVNode):[normalizeVNode(u)],normalizeSlot$1=(u,c,d)=>{if(c._n)return c;const y=withCtx((...gr)=>normalizeSlotValue(c(...gr)),d);return y._c=!1,y},normalizeObjectSlots=(u,c,d)=>{const y=u._ctx;for(const gr in u){if(isInternalKey(gr))continue;const _r=u[gr];if(isFunction$3(_r))c[gr]=normalizeSlot$1(gr,_r,y);else if(_r!=null){const br=normalizeSlotValue(_r);c[gr]=()=>br}}},normalizeVNodeSlots=(u,c)=>{const d=normalizeSlotValue(c);u.slots.default=()=>d},initSlots=(u,c)=>{if(u.vnode.shapeFlag&32){const d=c._;d?(u.slots=toRaw(c),def(c,"_",d)):normalizeObjectSlots(c,u.slots={})}else u.slots={},c&&normalizeVNodeSlots(u,c);def(u.slots,InternalObjectKey,1)},updateSlots=(u,c,d)=>{const{vnode:y,slots:gr}=u;let _r=!0,br=EMPTY_OBJ;if(y.shapeFlag&32){const wr=c._;wr?d&&wr===1?_r=!1:(extend(gr,c),!d&&wr===1&&delete gr._):(_r=!c.$stable,normalizeObjectSlots(c,gr)),br=c}else c&&(normalizeVNodeSlots(u,c),br={default:1});if(_r)for(const wr in gr)!isInternalKey(wr)&&!(wr in br)&&delete gr[wr]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(u,c){return function(y,gr=null){isFunction$3(y)||(y=Object.assign({},y)),gr!=null&&!isObject$3(gr)&&(gr=null);const _r=createAppContext(),br=new Set;let wr=!1;const Er=_r.app={_uid:uid++,_component:y,_props:gr,_container:null,_context:_r,_instance:null,version:version$1,get config(){return _r.config},set config(Or){},use(Or,...xr){return br.has(Or)||(Or&&isFunction$3(Or.install)?(br.add(Or),Or.install(Er,...xr)):isFunction$3(Or)&&(br.add(Or),Or(Er,...xr))),Er},mixin(Or){return _r.mixins.includes(Or)||_r.mixins.push(Or),Er},component(Or,xr){return xr?(_r.components[Or]=xr,Er):_r.components[Or]},directive(Or,xr){return xr?(_r.directives[Or]=xr,Er):_r.directives[Or]},mount(Or,xr,kr){if(!wr){const Mr=createVNode(y,gr);return Mr.appContext=_r,xr&&c?c(Mr,Or):u(Mr,Or,kr),wr=!0,Er._container=Or,Or.__vue_app__=Er,getExposeProxy(Mr.component)||Mr.component.proxy}},unmount(){wr&&(u(null,Er._container),delete Er._container.__vue_app__)},provide(Or,xr){return _r.provides[Or]=xr,Er}};return Er}}function setRef(u,c,d,y,gr=!1){if(isArray$2(u)){u.forEach((Mr,Cr)=>setRef(Mr,c&&(isArray$2(c)?c[Cr]:c),d,y,gr));return}if(isAsyncWrapper(y)&&!gr)return;const _r=y.shapeFlag&4?getExposeProxy(y.component)||y.component.proxy:y.el,br=gr?null:_r,{i:wr,r:Er}=u,Or=c&&c.r,xr=wr.refs===EMPTY_OBJ?wr.refs={}:wr.refs,kr=wr.setupState;if(Or!=null&&Or!==Er&&(isString$3(Or)?(xr[Or]=null,hasOwn$1(kr,Or)&&(kr[Or]=null)):isRef(Or)&&(Or.value=null)),isFunction$3(Er))callWithErrorHandling(Er,wr,12,[br,xr]);else{const Mr=isString$3(Er),Cr=isRef(Er);if(Mr||Cr){const Nr=()=>{if(u.f){const Ur=Mr?xr[Er]:Er.value;gr?isArray$2(Ur)&&remove$1(Ur,_r):isArray$2(Ur)?Ur.includes(_r)||Ur.push(_r):Mr?(xr[Er]=[_r],hasOwn$1(kr,Er)&&(kr[Er]=xr[Er])):(Er.value=[_r],u.k&&(xr[u.k]=Er.value))}else Mr?(xr[Er]=br,hasOwn$1(kr,Er)&&(kr[Er]=br)):Cr&&(Er.value=br,u.k&&(xr[u.k]=br))};br?(Nr.id=-1,queuePostRenderEffect(Nr,d)):Nr()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(u){return baseCreateRenderer(u)}function baseCreateRenderer(u,c){const d=getGlobalThis();d.__VUE__=!0;const{insert:y,remove:gr,patchProp:_r,createElement:br,createText:wr,createComment:Er,setText:Or,setElementText:xr,parentNode:kr,nextSibling:Mr,setScopeId:Cr=NOOP$1,cloneNode:Nr,insertStaticContent:Ur}=u,Dr=(ln,pn,On,Nn=null,kn=null,Fn=null,xn=!1,Un=null,Dn=!!pn.dynamicChildren)=>{if(ln===pn)return;ln&&!isSameVNodeType(ln,pn)&&(Nn=wn(ln),Hr(ln,kn,Fn,!0),ln=null),pn.patchFlag===-2&&(Dn=!1,pn.dynamicChildren=null);const{type:dn,ref:vn,shapeFlag:Rn}=pn;switch(dn){case Text:zr(ln,pn,On,Nn);break;case Comment:Zr(ln,pn,On,Nn);break;case Static:ln==null&&Wr(pn,On,Nn,xn);break;case Fragment:Fr(ln,pn,On,Nn,kn,Fn,xn,Un,Dn);break;default:Rn&1?Jr(ln,pn,On,Nn,kn,Fn,xn,Un,Dn):Rn&6?Rr(ln,pn,On,Nn,kn,Fn,xn,Un,Dn):(Rn&64||Rn&128)&&dn.process(ln,pn,On,Nn,kn,Fn,xn,Un,Dn,Mn)}vn!=null&&kn&&setRef(vn,ln&&ln.ref,Fn,pn||ln,!pn)},zr=(ln,pn,On,Nn)=>{if(ln==null)y(pn.el=wr(pn.children),On,Nn);else{const kn=pn.el=ln.el;pn.children!==ln.children&&Or(kn,pn.children)}},Zr=(ln,pn,On,Nn)=>{ln==null?y(pn.el=Er(pn.children||""),On,Nn):pn.el=ln.el},Wr=(ln,pn,On,Nn)=>{[ln.el,ln.anchor]=Ur(ln.children,pn,On,Nn,ln.el,ln.anchor)},tn=({el:ln,anchor:pn},On,Nn)=>{let kn;for(;ln&&ln!==pn;)kn=Mr(ln),y(ln,On,Nn),ln=kn;y(pn,On,Nn)},rn=({el:ln,anchor:pn})=>{let On;for(;ln&&ln!==pn;)On=Mr(ln),gr(ln),ln=On;gr(pn)},Jr=(ln,pn,On,Nn,kn,Fn,xn,Un,Dn)=>{xn=xn||pn.type==="svg",ln==null?Qr(pn,On,Nn,kn,Fn,xn,Un,Dn):fn(ln,pn,kn,Fn,xn,Un,Dn)},Qr=(ln,pn,On,Nn,kn,Fn,xn,Un)=>{let Dn,dn;const{type:vn,props:Rn,shapeFlag:Bn,transition:jn,patchFlag:Tr,dirs:Sr}=ln;if(ln.el&&Nr!==void 0&&Tr===-1)Dn=ln.el=Nr(ln.el);else{if(Dn=ln.el=br(ln.type,Fn,Rn&&Rn.is,Rn),Bn&8?xr(Dn,ln.children):Bn&16&&mn(ln.children,Dn,null,Nn,kn,Fn&&vn!=="foreignObject",xn,Un),Sr&&invokeDirectiveHook(ln,null,Nn,"created"),Rn){for(const Pr in Rn)Pr!=="value"&&!isReservedProp(Pr)&&_r(Dn,Pr,null,Rn[Pr],Fn,ln.children,Nn,kn,yn);"value"in Rn&&_r(Dn,"value",null,Rn.value),(dn=Rn.onVnodeBeforeMount)&&invokeVNodeHook(dn,Nn,ln)}an(Dn,ln,ln.scopeId,xn,Nn)}Sr&&invokeDirectiveHook(ln,null,Nn,"beforeMount");const Ar=(!kn||kn&&!kn.pendingBranch)&&jn&&!jn.persisted;Ar&&jn.beforeEnter(Dn),y(Dn,pn,On),((dn=Rn&&Rn.onVnodeMounted)||Ar||Sr)&&queuePostRenderEffect(()=>{dn&&invokeVNodeHook(dn,Nn,ln),Ar&&jn.enter(Dn),Sr&&invokeDirectiveHook(ln,null,Nn,"mounted")},kn)},an=(ln,pn,On,Nn,kn)=>{if(On&&Cr(ln,On),Nn)for(let Fn=0;Fn<Nn.length;Fn++)Cr(ln,Nn[Fn]);if(kn){let Fn=kn.subTree;if(pn===Fn){const xn=kn.vnode;an(ln,xn,xn.scopeId,xn.slotScopeIds,kn.parent)}}},mn=(ln,pn,On,Nn,kn,Fn,xn,Un,Dn=0)=>{for(let dn=Dn;dn<ln.length;dn++){const vn=ln[dn]=Un?cloneIfMounted(ln[dn]):normalizeVNode(ln[dn]);Dr(null,vn,pn,On,Nn,kn,Fn,xn,Un)}},fn=(ln,pn,On,Nn,kn,Fn,xn)=>{const Un=pn.el=ln.el;let{patchFlag:Dn,dynamicChildren:dn,dirs:vn}=pn;Dn|=ln.patchFlag&16;const Rn=ln.props||EMPTY_OBJ,Bn=pn.props||EMPTY_OBJ;let jn;On&&toggleRecurse(On,!1),(jn=Bn.onVnodeBeforeUpdate)&&invokeVNodeHook(jn,On,pn,ln),vn&&invokeDirectiveHook(pn,ln,On,"beforeUpdate"),On&&toggleRecurse(On,!0);const Tr=kn&&pn.type!=="foreignObject";if(dn?gn(ln.dynamicChildren,dn,Un,On,Nn,Tr,Fn):xn||hn(ln,pn,Un,null,On,Nn,Tr,Fn,!1),Dn>0){if(Dn&16)Sn(Un,pn,Rn,Bn,On,Nn,kn);else if(Dn&2&&Rn.class!==Bn.class&&_r(Un,"class",null,Bn.class,kn),Dn&4&&_r(Un,"style",Rn.style,Bn.style,kn),Dn&8){const Sr=pn.dynamicProps;for(let Ar=0;Ar<Sr.length;Ar++){const Pr=Sr[Ar],jr=Rn[Pr],Gr=Bn[Pr];(Gr!==jr||Pr==="value")&&_r(Un,Pr,jr,Gr,kn,ln.children,On,Nn,yn)}}Dn&1&&ln.children!==pn.children&&xr(Un,pn.children)}else!xn&&dn==null&&Sn(Un,pn,Rn,Bn,On,Nn,kn);((jn=Bn.onVnodeUpdated)||vn)&&queuePostRenderEffect(()=>{jn&&invokeVNodeHook(jn,On,pn,ln),vn&&invokeDirectiveHook(pn,ln,On,"updated")},Nn)},gn=(ln,pn,On,Nn,kn,Fn,xn)=>{for(let Un=0;Un<pn.length;Un++){const Dn=ln[Un],dn=pn[Un],vn=Dn.el&&(Dn.type===Fragment||!isSameVNodeType(Dn,dn)||Dn.shapeFlag&70)?kr(Dn.el):On;Dr(Dn,dn,vn,null,Nn,kn,Fn,xn,!0)}},Sn=(ln,pn,On,Nn,kn,Fn,xn)=>{if(On!==Nn){for(const Un in Nn){if(isReservedProp(Un))continue;const Dn=Nn[Un],dn=On[Un];Dn!==dn&&Un!=="value"&&_r(ln,Un,dn,Dn,xn,pn.children,kn,Fn,yn)}if(On!==EMPTY_OBJ)for(const Un in On)!isReservedProp(Un)&&!(Un in Nn)&&_r(ln,Un,On[Un],null,xn,pn.children,kn,Fn,yn);"value"in Nn&&_r(ln,"value",On.value,Nn.value)}},Fr=(ln,pn,On,Nn,kn,Fn,xn,Un,Dn)=>{const dn=pn.el=ln?ln.el:wr(""),vn=pn.anchor=ln?ln.anchor:wr("");let{patchFlag:Rn,dynamicChildren:Bn,slotScopeIds:jn}=pn;jn&&(Un=Un?Un.concat(jn):jn),ln==null?(y(dn,On,Nn),y(vn,On,Nn),mn(pn.children,On,vn,kn,Fn,xn,Un,Dn)):Rn>0&&Rn&64&&Bn&&ln.dynamicChildren?(gn(ln.dynamicChildren,Bn,On,kn,Fn,xn,Un),(pn.key!=null||kn&&pn===kn.subTree)&&traverseStaticChildren(ln,pn,!0)):hn(ln,pn,On,vn,kn,Fn,xn,Un,Dn)},Rr=(ln,pn,On,Nn,kn,Fn,xn,Un,Dn)=>{pn.slotScopeIds=Un,ln==null?pn.shapeFlag&512?kn.ctx.activate(pn,On,Nn,xn,Dn):Lr(pn,On,Nn,kn,Fn,xn,Dn):Vr(ln,pn,Dn)},Lr=(ln,pn,On,Nn,kn,Fn,xn)=>{const Un=ln.component=createComponentInstance(ln,Nn,kn);if(isKeepAlive(ln)&&(Un.ctx.renderer=Mn),setupComponent(Un),Un.asyncDep){if(kn&&kn.registerDep(Un,Yr),!ln.el){const Dn=Un.subTree=createVNode(Comment);Zr(null,Dn,pn,On)}return}Yr(Un,ln,pn,On,kn,Fn,xn)},Vr=(ln,pn,On)=>{const Nn=pn.component=ln.component;if(shouldUpdateComponent(ln,pn,On))if(Nn.asyncDep&&!Nn.asyncResolved){Xr(Nn,pn,On);return}else Nn.next=pn,invalidateJob(Nn.update),Nn.update();else pn.el=ln.el,Nn.vnode=pn},Yr=(ln,pn,On,Nn,kn,Fn,xn)=>{const Un=()=>{if(ln.isMounted){let{next:vn,bu:Rn,u:Bn,parent:jn,vnode:Tr}=ln,Sr=vn,Ar;toggleRecurse(ln,!1),vn?(vn.el=Tr.el,Xr(ln,vn,xn)):vn=Tr,Rn&&invokeArrayFns(Rn),(Ar=vn.props&&vn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ar,jn,vn,Tr),toggleRecurse(ln,!0);const Pr=renderComponentRoot(ln),jr=ln.subTree;ln.subTree=Pr,Dr(jr,Pr,kr(jr.el),wn(jr),ln,kn,Fn),vn.el=Pr.el,Sr===null&&updateHOCHostEl(ln,Pr.el),Bn&&queuePostRenderEffect(Bn,kn),(Ar=vn.props&&vn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ar,jn,vn,Tr),kn)}else{let vn;const{el:Rn,props:Bn}=pn,{bm:jn,m:Tr,parent:Sr}=ln,Ar=isAsyncWrapper(pn);if(toggleRecurse(ln,!1),jn&&invokeArrayFns(jn),!Ar&&(vn=Bn&&Bn.onVnodeBeforeMount)&&invokeVNodeHook(vn,Sr,pn),toggleRecurse(ln,!0),Rn&&Cn){const Pr=()=>{ln.subTree=renderComponentRoot(ln),Cn(Rn,ln.subTree,ln,kn,null)};Ar?pn.type.__asyncLoader().then(()=>!ln.isUnmounted&&Pr()):Pr()}else{const Pr=ln.subTree=renderComponentRoot(ln);Dr(null,Pr,On,Nn,ln,kn,Fn),pn.el=Pr.el}if(Tr&&queuePostRenderEffect(Tr,kn),!Ar&&(vn=Bn&&Bn.onVnodeMounted)){const Pr=pn;queuePostRenderEffect(()=>invokeVNodeHook(vn,Sr,Pr),kn)}(pn.shapeFlag&256||Sr&&isAsyncWrapper(Sr.vnode)&&Sr.vnode.shapeFlag&256)&&ln.a&&queuePostRenderEffect(ln.a,kn),ln.isMounted=!0,pn=On=Nn=null}},Dn=ln.effect=new ReactiveEffect(Un,()=>queueJob(dn),ln.scope),dn=ln.update=()=>Dn.run();dn.id=ln.uid,toggleRecurse(ln,!0),dn()},Xr=(ln,pn,On)=>{pn.component=ln;const Nn=ln.vnode.props;ln.vnode=pn,ln.next=null,updateProps(ln,pn.props,Nn,On),updateSlots(ln,pn.children,On),pauseTracking(),flushPreFlushCbs(),resetTracking()},hn=(ln,pn,On,Nn,kn,Fn,xn,Un,Dn=!1)=>{const dn=ln&&ln.children,vn=ln?ln.shapeFlag:0,Rn=pn.children,{patchFlag:Bn,shapeFlag:jn}=pn;if(Bn>0){if(Bn&128){qr(dn,Rn,On,Nn,kn,Fn,xn,Un,Dn);return}else if(Bn&256){En(dn,Rn,On,Nn,kn,Fn,xn,Un,Dn);return}}jn&8?(vn&16&&yn(dn,kn,Fn),Rn!==dn&&xr(On,Rn)):vn&16?jn&16?qr(dn,Rn,On,Nn,kn,Fn,xn,Un,Dn):yn(dn,kn,Fn,!0):(vn&8&&xr(On,""),jn&16&&mn(Rn,On,Nn,kn,Fn,xn,Un,Dn))},En=(ln,pn,On,Nn,kn,Fn,xn,Un,Dn)=>{ln=ln||EMPTY_ARR,pn=pn||EMPTY_ARR;const dn=ln.length,vn=pn.length,Rn=Math.min(dn,vn);let Bn;for(Bn=0;Bn<Rn;Bn++){const jn=pn[Bn]=Dn?cloneIfMounted(pn[Bn]):normalizeVNode(pn[Bn]);Dr(ln[Bn],jn,On,null,kn,Fn,xn,Un,Dn)}dn>vn?yn(ln,kn,Fn,!0,!1,Rn):mn(pn,On,Nn,kn,Fn,xn,Un,Dn,Rn)},qr=(ln,pn,On,Nn,kn,Fn,xn,Un,Dn)=>{let dn=0;const vn=pn.length;let Rn=ln.length-1,Bn=vn-1;for(;dn<=Rn&&dn<=Bn;){const jn=ln[dn],Tr=pn[dn]=Dn?cloneIfMounted(pn[dn]):normalizeVNode(pn[dn]);if(isSameVNodeType(jn,Tr))Dr(jn,Tr,On,null,kn,Fn,xn,Un,Dn);else break;dn++}for(;dn<=Rn&&dn<=Bn;){const jn=ln[Rn],Tr=pn[Bn]=Dn?cloneIfMounted(pn[Bn]):normalizeVNode(pn[Bn]);if(isSameVNodeType(jn,Tr))Dr(jn,Tr,On,null,kn,Fn,xn,Un,Dn);else break;Rn--,Bn--}if(dn>Rn){if(dn<=Bn){const jn=Bn+1,Tr=jn<vn?pn[jn].el:Nn;for(;dn<=Bn;)Dr(null,pn[dn]=Dn?cloneIfMounted(pn[dn]):normalizeVNode(pn[dn]),On,Tr,kn,Fn,xn,Un,Dn),dn++}}else if(dn>Bn)for(;dn<=Rn;)Hr(ln[dn],kn,Fn,!0),dn++;else{const jn=dn,Tr=dn,Sr=new Map;for(dn=Tr;dn<=Bn;dn++){const Hn=pn[dn]=Dn?cloneIfMounted(pn[dn]):normalizeVNode(pn[dn]);Hn.key!=null&&Sr.set(Hn.key,dn)}let Ar,Pr=0;const jr=Bn-Tr+1;let Gr=!1,nn=0;const Kn=new Array(jr);for(dn=0;dn<jr;dn++)Kn[dn]=0;for(dn=jn;dn<=Rn;dn++){const Hn=ln[dn];if(Pr>=jr){Hr(Hn,kn,Fn,!0);continue}let Jn;if(Hn.key!=null)Jn=Sr.get(Hn.key);else for(Ar=Tr;Ar<=Bn;Ar++)if(Kn[Ar-Tr]===0&&isSameVNodeType(Hn,pn[Ar])){Jn=Ar;break}Jn===void 0?Hr(Hn,kn,Fn,!0):(Kn[Jn-Tr]=dn+1,Jn>=nn?nn=Jn:Gr=!0,Dr(Hn,pn[Jn],On,null,kn,Fn,xn,Un,Dn),Pr++)}const Yn=Gr?getSequence(Kn):EMPTY_ARR;for(Ar=Yn.length-1,dn=jr-1;dn>=0;dn--){const Hn=Tr+dn,Jn=pn[Hn],Gn=Hn+1<vn?pn[Hn+1].el:Nn;Kn[dn]===0?Dr(null,Jn,On,Gn,kn,Fn,xn,Un,Dn):Gr&&(Ar<0||dn!==Yn[Ar]?Br(Jn,On,Gn,2):Ar--)}}},Br=(ln,pn,On,Nn,kn=null)=>{const{el:Fn,type:xn,transition:Un,children:Dn,shapeFlag:dn}=ln;if(dn&6){Br(ln.component.subTree,pn,On,Nn);return}if(dn&128){ln.suspense.move(pn,On,Nn);return}if(dn&64){xn.move(ln,pn,On,Mn);return}if(xn===Fragment){y(Fn,pn,On);for(let Rn=0;Rn<Dn.length;Rn++)Br(Dn[Rn],pn,On,Nn);y(ln.anchor,pn,On);return}if(xn===Static){tn(ln,pn,On);return}if(Nn!==2&&dn&1&&Un)if(Nn===0)Un.beforeEnter(Fn),y(Fn,pn,On),queuePostRenderEffect(()=>Un.enter(Fn),kn);else{const{leave:Rn,delayLeave:Bn,afterLeave:jn}=Un,Tr=()=>y(Fn,pn,On),Sr=()=>{Rn(Fn,()=>{Tr(),jn&&jn()})};Bn?Bn(Fn,Tr,Sr):Sr()}else y(Fn,pn,On)},Hr=(ln,pn,On,Nn=!1,kn=!1)=>{const{type:Fn,props:xn,ref:Un,children:Dn,dynamicChildren:dn,shapeFlag:vn,patchFlag:Rn,dirs:Bn}=ln;if(Un!=null&&setRef(Un,null,On,ln,!0),vn&256){pn.ctx.deactivate(ln);return}const jn=vn&1&&Bn,Tr=!isAsyncWrapper(ln);let Sr;if(Tr&&(Sr=xn&&xn.onVnodeBeforeUnmount)&&invokeVNodeHook(Sr,pn,ln),vn&6)sn(ln.component,On,Nn);else{if(vn&128){ln.suspense.unmount(On,Nn);return}jn&&invokeDirectiveHook(ln,null,pn,"beforeUnmount"),vn&64?ln.type.remove(ln,pn,On,kn,Mn,Nn):dn&&(Fn!==Fragment||Rn>0&&Rn&64)?yn(dn,pn,On,!1,!0):(Fn===Fragment&&Rn&384||!kn&&vn&16)&&yn(Dn,pn,On),Nn&&_n(ln)}(Tr&&(Sr=xn&&xn.onVnodeUnmounted)||jn)&&queuePostRenderEffect(()=>{Sr&&invokeVNodeHook(Sr,pn,ln),jn&&invokeDirectiveHook(ln,null,pn,"unmounted")},On)},_n=ln=>{const{type:pn,el:On,anchor:Nn,transition:kn}=ln;if(pn===Fragment){on(On,Nn);return}if(pn===Static){rn(ln);return}const Fn=()=>{gr(On),kn&&!kn.persisted&&kn.afterLeave&&kn.afterLeave()};if(ln.shapeFlag&1&&kn&&!kn.persisted){const{leave:xn,delayLeave:Un}=kn,Dn=()=>xn(On,Fn);Un?Un(ln.el,Fn,Dn):Dn()}else Fn()},on=(ln,pn)=>{let On;for(;ln!==pn;)On=Mr(ln),gr(ln),ln=On;gr(pn)},sn=(ln,pn,On)=>{const{bum:Nn,scope:kn,update:Fn,subTree:xn,um:Un}=ln;Nn&&invokeArrayFns(Nn),kn.stop(),Fn&&(Fn.active=!1,Hr(xn,ln,pn,On)),Un&&queuePostRenderEffect(Un,pn),queuePostRenderEffect(()=>{ln.isUnmounted=!0},pn),pn&&pn.pendingBranch&&!pn.isUnmounted&&ln.asyncDep&&!ln.asyncResolved&&ln.suspenseId===pn.pendingId&&(pn.deps--,pn.deps===0&&pn.resolve())},yn=(ln,pn,On,Nn=!1,kn=!1,Fn=0)=>{for(let xn=Fn;xn<ln.length;xn++)Hr(ln[xn],pn,On,Nn,kn)},wn=ln=>ln.shapeFlag&6?wn(ln.component.subTree):ln.shapeFlag&128?ln.suspense.next():Mr(ln.anchor||ln.el),In=(ln,pn,On)=>{ln==null?pn._vnode&&Hr(pn._vnode,null,null,!0):Dr(pn._vnode||null,ln,pn,null,null,null,On),flushPreFlushCbs(),flushPostFlushCbs(),pn._vnode=ln},Mn={p:Dr,um:Hr,m:Br,r:_n,mt:Lr,mc:mn,pc:hn,pbc:gn,n:wn,o:u};let Ln,Cn;return c&&([Ln,Cn]=c(Mn)),{render:In,hydrate:Ln,createApp:createAppAPI(In,Ln)}}function toggleRecurse({effect:u,update:c},d){u.allowRecurse=c.allowRecurse=d}function traverseStaticChildren(u,c,d=!1){const y=u.children,gr=c.children;if(isArray$2(y)&&isArray$2(gr))for(let _r=0;_r<y.length;_r++){const br=y[_r];let wr=gr[_r];wr.shapeFlag&1&&!wr.dynamicChildren&&((wr.patchFlag<=0||wr.patchFlag===32)&&(wr=gr[_r]=cloneIfMounted(gr[_r]),wr.el=br.el),d||traverseStaticChildren(br,wr))}}function getSequence(u){const c=u.slice(),d=[0];let y,gr,_r,br,wr;const Er=u.length;for(y=0;y<Er;y++){const Or=u[y];if(Or!==0){if(gr=d[d.length-1],u[gr]<Or){c[y]=gr,d.push(y);continue}for(_r=0,br=d.length-1;_r<br;)wr=_r+br>>1,u[d[wr]]<Or?_r=wr+1:br=wr;Or<u[d[_r]]&&(_r>0&&(c[y]=d[_r-1]),d[_r]=y)}}for(_r=d.length,br=d[_r-1];_r-- >0;)d[_r]=br,br=c[br];return d}const isTeleport=u=>u.__isTeleport,isTeleportDisabled=u=>u&&(u.disabled||u.disabled===""),isTargetSVG=u=>typeof SVGElement<"u"&&u instanceof SVGElement,resolveTarget=(u,c)=>{const d=u&&u.to;return isString$3(d)?c?c(d):null:d},TeleportImpl={__isTeleport:!0,process(u,c,d,y,gr,_r,br,wr,Er,Or){const{mc:xr,pc:kr,pbc:Mr,o:{insert:Cr,querySelector:Nr,createText:Ur,createComment:Dr}}=Or,zr=isTeleportDisabled(c.props);let{shapeFlag:Zr,children:Wr,dynamicChildren:tn}=c;if(u==null){const rn=c.el=Ur(""),Jr=c.anchor=Ur("");Cr(rn,d,y),Cr(Jr,d,y);const Qr=c.target=resolveTarget(c.props,Nr),an=c.targetAnchor=Ur("");Qr&&(Cr(an,Qr),br=br||isTargetSVG(Qr));const mn=(fn,gn)=>{Zr&16&&xr(Wr,fn,gn,gr,_r,br,wr,Er)};zr?mn(d,Jr):Qr&&mn(Qr,an)}else{c.el=u.el;const rn=c.anchor=u.anchor,Jr=c.target=u.target,Qr=c.targetAnchor=u.targetAnchor,an=isTeleportDisabled(u.props),mn=an?d:Jr,fn=an?rn:Qr;if(br=br||isTargetSVG(Jr),tn?(Mr(u.dynamicChildren,tn,mn,gr,_r,br,wr),traverseStaticChildren(u,c,!0)):Er||kr(u,c,mn,fn,gr,_r,br,wr,!1),zr)an||moveTeleport(c,d,rn,Or,1);else if((c.props&&c.props.to)!==(u.props&&u.props.to)){const gn=c.target=resolveTarget(c.props,Nr);gn&&moveTeleport(c,gn,null,Or,0)}else an&&moveTeleport(c,Jr,Qr,Or,1)}},remove(u,c,d,y,{um:gr,o:{remove:_r}},br){const{shapeFlag:wr,children:Er,anchor:Or,targetAnchor:xr,target:kr,props:Mr}=u;if(kr&&_r(xr),(br||!isTeleportDisabled(Mr))&&(_r(Or),wr&16))for(let Cr=0;Cr<Er.length;Cr++){const Nr=Er[Cr];gr(Nr,c,d,!0,!!Nr.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(u,c,d,{o:{insert:y},m:gr},_r=2){_r===0&&y(u.targetAnchor,c,d);const{el:br,anchor:wr,shapeFlag:Er,children:Or,props:xr}=u,kr=_r===2;if(kr&&y(br,c,d),(!kr||isTeleportDisabled(xr))&&Er&16)for(let Mr=0;Mr<Or.length;Mr++)gr(Or[Mr],c,d,2);kr&&y(wr,c,d)}function hydrateTeleport(u,c,d,y,gr,_r,{o:{nextSibling:br,parentNode:wr,querySelector:Er}},Or){const xr=c.target=resolveTarget(c.props,Er);if(xr){const kr=xr._lpa||xr.firstChild;if(c.shapeFlag&16)if(isTeleportDisabled(c.props))c.anchor=Or(br(u),c,wr(u),d,y,gr,_r),c.targetAnchor=kr;else{c.anchor=br(u);let Mr=kr;for(;Mr;)if(Mr=br(Mr),Mr&&Mr.nodeType===8&&Mr.data==="teleport anchor"){c.targetAnchor=Mr,xr._lpa=c.targetAnchor&&br(c.targetAnchor);break}Or(kr,c,xr,d,y,gr,_r)}}return c.anchor&&br(c.anchor)}const Teleport=TeleportImpl,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(u=!1){blockStack.push(currentBlock=u?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(u){isBlockTreeEnabled+=u}function setupBlock(u){return u.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(u),u}function createElementBlock(u,c,d,y,gr,_r){return setupBlock(createBaseVNode(u,c,d,y,gr,_r,!0))}function createBlock(u,c,d,y,gr){return setupBlock(createVNode(u,c,d,y,gr,!0))}function isVNode(u){return u?u.__v_isVNode===!0:!1}function isSameVNodeType(u,c){return u.type===c.type&&u.key===c.key}const InternalObjectKey="__vInternal",normalizeKey=({key:u})=>u??null,normalizeRef=({ref:u,ref_key:c,ref_for:d})=>u!=null?isString$3(u)||isRef(u)||isFunction$3(u)?{i:currentRenderingInstance,r:u,k:c,f:!!d}:u:null;function createBaseVNode(u,c=null,d=null,y=0,gr=null,_r=u===Fragment?0:1,br=!1,wr=!1){const Er={__v_isVNode:!0,__v_skip:!0,type:u,props:c,key:c&&normalizeKey(c),ref:c&&normalizeRef(c),scopeId:currentScopeId,slotScopeIds:null,children:d,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:_r,patchFlag:y,dynamicProps:gr,dynamicChildren:null,appContext:null};return wr?(normalizeChildren(Er,d),_r&128&&u.normalize(Er)):d&&(Er.shapeFlag|=isString$3(d)?8:16),isBlockTreeEnabled>0&&!br&&currentBlock&&(Er.patchFlag>0||_r&6)&&Er.patchFlag!==32&&currentBlock.push(Er),Er}const createVNode=_createVNode;function _createVNode(u,c=null,d=null,y=0,gr=null,_r=!1){if((!u||u===NULL_DYNAMIC_COMPONENT)&&(u=Comment),isVNode(u)){const wr=cloneVNode(u,c,!0);return d&&normalizeChildren(wr,d),isBlockTreeEnabled>0&&!_r&&currentBlock&&(wr.shapeFlag&6?currentBlock[currentBlock.indexOf(u)]=wr:currentBlock.push(wr)),wr.patchFlag|=-2,wr}if(isClassComponent(u)&&(u=u.__vccOpts),c){c=guardReactiveProps(c);let{class:wr,style:Er}=c;wr&&!isString$3(wr)&&(c.class=normalizeClass(wr)),isObject$3(Er)&&(isProxy(Er)&&!isArray$2(Er)&&(Er=extend({},Er)),c.style=normalizeStyle(Er))}const br=isString$3(u)?1:isSuspense(u)?128:isTeleport(u)?64:isObject$3(u)?4:isFunction$3(u)?2:0;return createBaseVNode(u,c,d,y,gr,br,_r,!0)}function guardReactiveProps(u){return u?isProxy(u)||InternalObjectKey in u?extend({},u):u:null}function cloneVNode(u,c,d=!1){const{props:y,ref:gr,patchFlag:_r,children:br}=u,wr=c?mergeProps(y||{},c):y;return{__v_isVNode:!0,__v_skip:!0,type:u.type,props:wr,key:wr&&normalizeKey(wr),ref:c&&c.ref?d&&gr?isArray$2(gr)?gr.concat(normalizeRef(c)):[gr,normalizeRef(c)]:normalizeRef(c):gr,scopeId:u.scopeId,slotScopeIds:u.slotScopeIds,children:br,target:u.target,targetAnchor:u.targetAnchor,staticCount:u.staticCount,shapeFlag:u.shapeFlag,patchFlag:c&&u.type!==Fragment?_r===-1?16:_r|16:_r,dynamicProps:u.dynamicProps,dynamicChildren:u.dynamicChildren,appContext:u.appContext,dirs:u.dirs,transition:u.transition,component:u.component,suspense:u.suspense,ssContent:u.ssContent&&cloneVNode(u.ssContent),ssFallback:u.ssFallback&&cloneVNode(u.ssFallback),el:u.el,anchor:u.anchor}}function createTextVNode(u=" ",c=0){return createVNode(Text,null,u,c)}function createStaticVNode(u,c){const d=createVNode(Static,null,u);return d.staticCount=c,d}function createCommentVNode(u="",c=!1){return c?(openBlock(),createBlock(Comment,null,u)):createVNode(Comment,null,u)}function normalizeVNode(u){return u==null||typeof u=="boolean"?createVNode(Comment):isArray$2(u)?createVNode(Fragment,null,u.slice()):typeof u=="object"?cloneIfMounted(u):createVNode(Text,null,String(u))}function cloneIfMounted(u){return u.el===null||u.memo?u:cloneVNode(u)}function normalizeChildren(u,c){let d=0;const{shapeFlag:y}=u;if(c==null)c=null;else if(isArray$2(c))d=16;else if(typeof c=="object")if(y&65){const gr=c.default;gr&&(gr._c&&(gr._d=!1),normalizeChildren(u,gr()),gr._c&&(gr._d=!0));return}else{d=32;const gr=c._;!gr&&!(InternalObjectKey in c)?c._ctx=currentRenderingInstance:gr===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?c._=1:(c._=2,u.patchFlag|=1024))}else isFunction$3(c)?(c={default:c,_ctx:currentRenderingInstance},d=32):(c=String(c),y&64?(d=16,c=[createTextVNode(c)]):d=8);u.children=c,u.shapeFlag|=d}function mergeProps(...u){const c={};for(let d=0;d<u.length;d++){const y=u[d];for(const gr in y)if(gr==="class")c.class!==y.class&&(c.class=normalizeClass([c.class,y.class]));else if(gr==="style")c.style=normalizeStyle([c.style,y.style]);else if(isOn(gr)){const _r=c[gr],br=y[gr];br&&_r!==br&&!(isArray$2(_r)&&_r.includes(br))&&(c[gr]=_r?[].concat(_r,br):br)}else gr!==""&&(c[gr]=y[gr])}return c}function invokeVNodeHook(u,c,d,y=null){callWithAsyncErrorHandling(u,c,7,[d,y])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(u,c,d){const y=u.type,gr=(c?c.appContext:u.appContext)||emptyAppContext,_r={uid:uid$1++,vnode:u,type:y,parent:c,appContext:gr,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:c?c.provides:Object.create(gr.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(y,gr),emitsOptions:normalizeEmitsOptions(y,gr),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:y.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:d,suspenseId:d?d.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return _r.ctx={_:_r},_r.root=c?c.root:_r,_r.emit=emit$1.bind(null,_r),u.ce&&u.ce(_r),_r}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=u=>{currentInstance=u,u.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(u){return u.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(u,c=!1){isInSSRComponentSetup=c;const{props:d,children:y}=u.vnode,gr=isStatefulComponent(u);initProps(u,d,gr,c),initSlots(u,y);const _r=gr?setupStatefulComponent(u,c):void 0;return isInSSRComponentSetup=!1,_r}function setupStatefulComponent(u,c){const d=u.type;u.accessCache=Object.create(null),u.proxy=markRaw(new Proxy(u.ctx,PublicInstanceProxyHandlers));const{setup:y}=d;if(y){const gr=u.setupContext=y.length>1?createSetupContext(u):null;setCurrentInstance(u),pauseTracking();const _r=callWithErrorHandling(y,u,0,[u.props,gr]);if(resetTracking(),unsetCurrentInstance(),isPromise(_r)){if(_r.then(unsetCurrentInstance,unsetCurrentInstance),c)return _r.then(br=>{handleSetupResult(u,br,c)}).catch(br=>{handleError(br,u,0)});u.asyncDep=_r}else handleSetupResult(u,_r,c)}else finishComponentSetup(u,c)}function handleSetupResult(u,c,d){isFunction$3(c)?u.type.__ssrInlineRender?u.ssrRender=c:u.render=c:isObject$3(c)&&(u.setupState=proxyRefs(c)),finishComponentSetup(u,d)}let compile;function finishComponentSetup(u,c,d){const y=u.type;if(!u.render){if(!c&&compile&&!y.render){const gr=y.template||resolveMergedOptions(u).template;if(gr){const{isCustomElement:_r,compilerOptions:br}=u.appContext.config,{delimiters:wr,compilerOptions:Er}=y,Or=extend(extend({isCustomElement:_r,delimiters:wr},br),Er);y.render=compile(gr,Or)}}u.render=y.render||NOOP$1}setCurrentInstance(u),pauseTracking(),applyOptions(u),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(u){return new Proxy(u.attrs,{get(c,d){return track(u,"get","$attrs"),c[d]}})}function createSetupContext(u){const c=y=>{u.exposed=y||{}};let d;return{get attrs(){return d||(d=createAttrsProxy(u))},slots:u.slots,emit:u.emit,expose:c}}function getExposeProxy(u){if(u.exposed)return u.exposeProxy||(u.exposeProxy=new Proxy(proxyRefs(markRaw(u.exposed)),{get(c,d){if(d in c)return c[d];if(d in publicPropertiesMap)return publicPropertiesMap[d](u)}}))}function getComponentName(u,c=!0){return isFunction$3(u)?u.displayName||u.name:u.name||c&&u.__name}function isClassComponent(u){return isFunction$3(u)&&"__vccOpts"in u}const computed$1=(u,c)=>computed$2(u,c,isInSSRComponentSetup);function h(u,c,d){const y=arguments.length;return y===2?isObject$3(c)&&!isArray$2(c)?isVNode(c)?createVNode(u,null,[c]):createVNode(u,c):createVNode(u,null,c):(y>3?d=Array.prototype.slice.call(arguments,2):y===3&&isVNode(d)&&(d=[d]),createVNode(u,c,d))}const version$1="3.2.39",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(u,c,d)=>{c.insertBefore(u,d||null)},remove:u=>{const c=u.parentNode;c&&c.removeChild(u)},createElement:(u,c,d,y)=>{const gr=c?doc.createElementNS(svgNS,u):doc.createElement(u,d?{is:d}:void 0);return u==="select"&&y&&y.multiple!=null&&gr.setAttribute("multiple",y.multiple),gr},createText:u=>doc.createTextNode(u),createComment:u=>doc.createComment(u),setText:(u,c)=>{u.nodeValue=c},setElementText:(u,c)=>{u.textContent=c},parentNode:u=>u.parentNode,nextSibling:u=>u.nextSibling,querySelector:u=>doc.querySelector(u),setScopeId(u,c){u.setAttribute(c,"")},cloneNode(u){const c=u.cloneNode(!0);return"_value"in u&&(c._value=u._value),c},insertStaticContent(u,c,d,y,gr,_r){const br=d?d.previousSibling:c.lastChild;if(gr&&(gr===_r||gr.nextSibling))for(;c.insertBefore(gr.cloneNode(!0),d),!(gr===_r||!(gr=gr.nextSibling)););else{templateContainer.innerHTML=y?`<svg>${u}</svg>`:u;const wr=templateContainer.content;if(y){const Er=wr.firstChild;for(;Er.firstChild;)wr.appendChild(Er.firstChild);wr.removeChild(Er)}c.insertBefore(wr,d)}return[br?br.nextSibling:c.firstChild,d?d.previousSibling:c.lastChild]}};function patchClass(u,c,d){const y=u._vtc;y&&(c=(c?[c,...y]:[...y]).join(" ")),c==null?u.removeAttribute("class"):d?u.setAttribute("class",c):u.className=c}function patchStyle(u,c,d){const y=u.style,gr=isString$3(d);if(d&&!gr){for(const _r in d)setStyle(y,_r,d[_r]);if(c&&!isString$3(c))for(const _r in c)d[_r]==null&&setStyle(y,_r,"")}else{const _r=y.display;gr?c!==d&&(y.cssText=d):c&&u.removeAttribute("style"),"_vod"in u&&(y.display=_r)}}const importantRE=/\s*!important$/;function setStyle(u,c,d){if(isArray$2(d))d.forEach(y=>setStyle(u,c,y));else if(d==null&&(d=""),c.startsWith("--"))u.setProperty(c,d);else{const y=autoPrefix(u,c);importantRE.test(d)?u.setProperty(hyphenate(y),d.replace(importantRE,""),"important"):u[y]=d}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(u,c){const d=prefixCache[c];if(d)return d;let y=camelize(c);if(y!=="filter"&&y in u)return prefixCache[c]=y;y=capitalize(y);for(let gr=0;gr<prefixes.length;gr++){const _r=prefixes[gr]+y;if(_r in u)return prefixCache[c]=_r}return c}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(u,c,d,y,gr){if(y&&c.startsWith("xlink:"))d==null?u.removeAttributeNS(xlinkNS,c.slice(6,c.length)):u.setAttributeNS(xlinkNS,c,d);else{const _r=isSpecialBooleanAttr(c);d==null||_r&&!includeBooleanAttr(d)?u.removeAttribute(c):u.setAttribute(c,_r?"":d)}}function patchDOMProp(u,c,d,y,gr,_r,br){if(c==="innerHTML"||c==="textContent"){y&&br(y,gr,_r),u[c]=d??"";return}if(c==="value"&&u.tagName!=="PROGRESS"&&!u.tagName.includes("-")){u._value=d;const Er=d??"";(u.value!==Er||u.tagName==="OPTION")&&(u.value=Er),d==null&&u.removeAttribute(c);return}let wr=!1;if(d===""||d==null){const Er=typeof u[c];Er==="boolean"?d=includeBooleanAttr(d):d==null&&Er==="string"?(d="",wr=!0):Er==="number"&&(d=0,wr=!0)}try{u[c]=d}catch{}wr&&u.removeAttribute(c)}const[_getNow,skipTimestampCheck]=(()=>{let u=Date.now,c=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(u=performance.now.bind(performance));const d=navigator.userAgent.match(/firefox\/(\d+)/i);c=!!(d&&Number(d[1])<=53)}return[u,c]})();let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener(u,c,d,y){u.addEventListener(c,d,y)}function removeEventListener(u,c,d,y){u.removeEventListener(c,d,y)}function patchEvent(u,c,d,y,gr=null){const _r=u._vei||(u._vei={}),br=_r[c];if(y&&br)br.value=y;else{const[wr,Er]=parseName(c);if(y){const Or=_r[c]=createInvoker(y,gr);addEventListener(u,wr,Or,Er)}else br&&(removeEventListener(u,wr,br,Er),_r[c]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(u){let c;if(optionsModifierRE.test(u)){c={};let y;for(;y=u.match(optionsModifierRE);)u=u.slice(0,u.length-y[0].length),c[y[0].toLowerCase()]=!0}return[u[2]===":"?u.slice(3):hyphenate(u.slice(2)),c]}function createInvoker(u,c){const d=y=>{const gr=y.timeStamp||_getNow();(skipTimestampCheck||gr>=d.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(y,d.value),c,5,[y])};return d.value=u,d.attached=getNow(),d}function patchStopImmediatePropagation(u,c){if(isArray$2(c)){const d=u.stopImmediatePropagation;return u.stopImmediatePropagation=()=>{d.call(u),u._stopped=!0},c.map(y=>gr=>!gr._stopped&&y&&y(gr))}else return c}const nativeOnRE=/^on[a-z]/,patchProp=(u,c,d,y,gr=!1,_r,br,wr,Er)=>{c==="class"?patchClass(u,y,gr):c==="style"?patchStyle(u,d,y):isOn(c)?isModelListener(c)||patchEvent(u,c,d,y,br):(c[0]==="."?(c=c.slice(1),!0):c[0]==="^"?(c=c.slice(1),!1):shouldSetAsProp(u,c,y,gr))?patchDOMProp(u,c,y,_r,br,wr,Er):(c==="true-value"?u._trueValue=y:c==="false-value"&&(u._falseValue=y),patchAttr(u,c,y,gr))};function shouldSetAsProp(u,c,d,y){return y?!!(c==="innerHTML"||c==="textContent"||c in u&&nativeOnRE.test(c)&&isFunction$3(d)):c==="spellcheck"||c==="draggable"||c==="translate"||c==="form"||c==="list"&&u.tagName==="INPUT"||c==="type"&&u.tagName==="TEXTAREA"||nativeOnRE.test(c)&&isString$3(d)?!1:c in u}const getModelAssigner=u=>{const c=u.props["onUpdate:modelValue"]||!1;return isArray$2(c)?d=>invokeArrayFns(c,d):c},vModelSelect={deep:!0,created(u,{value:c,modifiers:{number:d}},y){const gr=isSet(c);addEventListener(u,"change",()=>{const _r=Array.prototype.filter.call(u.options,br=>br.selected).map(br=>d?toNumber(getValue(br)):getValue(br));u._assign(u.multiple?gr?new Set(_r):_r:_r[0])}),u._assign=getModelAssigner(y)},mounted(u,{value:c}){setSelected(u,c)},beforeUpdate(u,c,d){u._assign=getModelAssigner(d)},updated(u,{value:c}){setSelected(u,c)}};function setSelected(u,c){const d=u.multiple;if(!(d&&!isArray$2(c)&&!isSet(c))){for(let y=0,gr=u.options.length;y<gr;y++){const _r=u.options[y],br=getValue(_r);if(d)isArray$2(c)?_r.selected=looseIndexOf(c,br)>-1:_r.selected=c.has(br);else if(looseEqual(getValue(_r),c)){u.selectedIndex!==y&&(u.selectedIndex=y);return}}!d&&u.selectedIndex!==-1&&(u.selectedIndex=-1)}}function getValue(u){return"_value"in u?u._value:u.value}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:u=>u.stopPropagation(),prevent:u=>u.preventDefault(),self:u=>u.target!==u.currentTarget,ctrl:u=>!u.ctrlKey,shift:u=>!u.shiftKey,alt:u=>!u.altKey,meta:u=>!u.metaKey,left:u=>"button"in u&&u.button!==0,middle:u=>"button"in u&&u.button!==1,right:u=>"button"in u&&u.button!==2,exact:(u,c)=>systemModifiers.some(d=>u[`${d}Key`]&&!c.includes(d))},withModifiers=(u,c)=>(d,...y)=>{for(let gr=0;gr<c.length;gr++){const _r=modifierGuards[c[gr]];if(_r&&_r(d,c))return}return u(d,...y)},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...u)=>{const c=ensureRenderer().createApp(...u),{mount:d}=c;return c.mount=y=>{const gr=normalizeContainer(y);if(!gr)return;const _r=c._component;!isFunction$3(_r)&&!_r.render&&!_r.template&&(_r.template=gr.innerHTML),gr.innerHTML="";const br=d(gr,!1,gr instanceof SVGElement);return gr instanceof Element&&(gr.removeAttribute("v-cloak"),gr.setAttribute("data-v-app","")),br},c};function normalizeContainer(u){return isString$3(u)?document.querySelector(u):u}var eventemitter3={exports:{}};(function(u){var c=Object.prototype.hasOwnProperty,d="~";function y(){}Object.create&&(y.prototype=Object.create(null),new y().__proto__||(d=!1));function gr(Er,Or,xr){this.fn=Er,this.context=Or,this.once=xr||!1}function _r(Er,Or,xr,kr,Mr){if(typeof xr!="function")throw new TypeError("The listener must be a function");var Cr=new gr(xr,kr||Er,Mr),Nr=d?d+Or:Or;return Er._events[Nr]?Er._events[Nr].fn?Er._events[Nr]=[Er._events[Nr],Cr]:Er._events[Nr].push(Cr):(Er._events[Nr]=Cr,Er._eventsCount++),Er}function br(Er,Or){--Er._eventsCount===0?Er._events=new y:delete Er._events[Or]}function wr(){this._events=new y,this._eventsCount=0}wr.prototype.eventNames=function(){var Or=[],xr,kr;if(this._eventsCount===0)return Or;for(kr in xr=this._events)c.call(xr,kr)&&Or.push(d?kr.slice(1):kr);return Object.getOwnPropertySymbols?Or.concat(Object.getOwnPropertySymbols(xr)):Or},wr.prototype.listeners=function(Or){var xr=d?d+Or:Or,kr=this._events[xr];if(!kr)return[];if(kr.fn)return[kr.fn];for(var Mr=0,Cr=kr.length,Nr=new Array(Cr);Mr<Cr;Mr++)Nr[Mr]=kr[Mr].fn;return Nr},wr.prototype.listenerCount=function(Or){var xr=d?d+Or:Or,kr=this._events[xr];return kr?kr.fn?1:kr.length:0},wr.prototype.emit=function(Or,xr,kr,Mr,Cr,Nr){var Ur=d?d+Or:Or;if(!this._events[Ur])return!1;var Dr=this._events[Ur],zr=arguments.length,Zr,Wr;if(Dr.fn){switch(Dr.once&&this.removeListener(Or,Dr.fn,void 0,!0),zr){case 1:return Dr.fn.call(Dr.context),!0;case 2:return Dr.fn.call(Dr.context,xr),!0;case 3:return Dr.fn.call(Dr.context,xr,kr),!0;case 4:return Dr.fn.call(Dr.context,xr,kr,Mr),!0;case 5:return Dr.fn.call(Dr.context,xr,kr,Mr,Cr),!0;case 6:return Dr.fn.call(Dr.context,xr,kr,Mr,Cr,Nr),!0}for(Wr=1,Zr=new Array(zr-1);Wr<zr;Wr++)Zr[Wr-1]=arguments[Wr];Dr.fn.apply(Dr.context,Zr)}else{var tn=Dr.length,rn;for(Wr=0;Wr<tn;Wr++)switch(Dr[Wr].once&&this.removeListener(Or,Dr[Wr].fn,void 0,!0),zr){case 1:Dr[Wr].fn.call(Dr[Wr].context);break;case 2:Dr[Wr].fn.call(Dr[Wr].context,xr);break;case 3:Dr[Wr].fn.call(Dr[Wr].context,xr,kr);break;case 4:Dr[Wr].fn.call(Dr[Wr].context,xr,kr,Mr);break;default:if(!Zr)for(rn=1,Zr=new Array(zr-1);rn<zr;rn++)Zr[rn-1]=arguments[rn];Dr[Wr].fn.apply(Dr[Wr].context,Zr)}}return!0},wr.prototype.on=function(Or,xr,kr){return _r(this,Or,xr,kr,!1)},wr.prototype.once=function(Or,xr,kr){return _r(this,Or,xr,kr,!0)},wr.prototype.removeListener=function(Or,xr,kr,Mr){var Cr=d?d+Or:Or;if(!this._events[Cr])return this;if(!xr)return br(this,Cr),this;var Nr=this._events[Cr];if(Nr.fn)Nr.fn===xr&&(!Mr||Nr.once)&&(!kr||Nr.context===kr)&&br(this,Cr);else{for(var Ur=0,Dr=[],zr=Nr.length;Ur<zr;Ur++)(Nr[Ur].fn!==xr||Mr&&!Nr[Ur].once||kr&&Nr[Ur].context!==kr)&&Dr.push(Nr[Ur]);Dr.length?this._events[Cr]=Dr.length===1?Dr[0]:Dr:br(this,Cr)}return this},wr.prototype.removeAllListeners=function(Or){var xr;return Or?(xr=d?d+Or:Or,this._events[xr]&&br(this,xr)):(this._events=new y,this._eventsCount=0),this},wr.prototype.off=wr.prototype.removeListener,wr.prototype.addListener=wr.prototype.on,wr.prefixed=d,wr.EventEmitter=wr,u.exports=wr})(eventemitter3);const EventEmitter=eventemitter3.exports;class WalletError extends Error{constructor(c,d){super(c),this.error=d}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var WalletReadyState;(function(u){u.Installed="Installed",u.NotDetected="NotDetected",u.Loadable="Loadable",u.Unsupported="Unsupported"})(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends EventEmitter{get connected(){return!!this.publicKey}async prepareTransaction(c,d,y={}){const gr=this.publicKey;if(!gr)throw new WalletNotConnectedError;return c.feePayer=c.feePayer||gr,c.recentBlockhash=c.recentBlockhash||(await d.getLatestBlockhash({commitment:y.preflightCommitment,minContextSlot:y.minContextSlot})).blockhash,c}}function scopePollingDetectionStrategy(u){if(typeof window>"u"||typeof document>"u")return;const c=[];function d(){if(u())for(const _r of c)_r()}const y=setInterval(d,1e3);c.push(()=>clearInterval(y)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",d,{once:!0}),c.push(()=>document.removeEventListener("DOMContentLoaded",d))),document.readyState!=="complete"&&(window.addEventListener("load",d,{once:!0}),c.push(()=>window.removeEventListener("load",d))),d()}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(c,d,y={}){let gr=!0;try{if("message"in c){if(!this.supportedTransactionVersions)throw new WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");const{version:_r}=c.message;if(!this.supportedTransactionVersions.has(_r))throw new WalletSendTransactionError(`Sending transaction version ${_r} isn't supported by this wallet`);try{c=await this.signTransaction(c);const br=c.serialize();return await d.sendRawTransaction(br,y)}catch(br){throw br instanceof WalletSignTransactionError?(gr=!1,br):new WalletSendTransactionError(br?.message,br)}}else try{const{signers:_r,...br}=y;c=await this.prepareTransaction(c,d,br),_r?.length&&c.partialSign(..._r),c=await this.signTransaction(c);const wr=c.serialize();return await d.sendRawTransaction(wr,br)}catch(_r){throw _r instanceof WalletSignTransactionError?(gr=!1,_r):new WalletSendTransactionError(_r?.message,_r)}}catch(_r){throw gr&&this.emit("error",_r),_r}}async signAllTransactions(c){for(const y of c)if("message"in y){if(!this.supportedTransactionVersions)throw new WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");const{version:gr}=y.message;if(!this.supportedTransactionVersions.has(gr))throw new WalletSignTransactionError(`Signing transaction version ${gr} isn't supported by this wallet`)}const d=[];for(const y of c)d.push(await this.signTransaction(y));return d}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}var WalletAdapterNetwork;(function(u){u.Mainnet="mainnet-beta",u.Testnet="testnet",u.Devnet="devnet"})(WalletAdapterNetwork||(WalletAdapterNetwork={}));var __defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(u,c,d)=>c in u?__defProp$1(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,__spreadValues$1=(u,c)=>{for(var d in c||(c={}))__hasOwnProp$1.call(c,d)&&__defNormalProp$1(u,d,c[d]);if(__getOwnPropSymbols$1)for(var d of __getOwnPropSymbols$1(c))__propIsEnum$1.call(c,d)&&__defNormalProp$1(u,d,c[d]);return u},__publicField=(u,c,d)=>(__defNormalProp$1(u,typeof c!="symbol"?c+"":c,d),d);class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}class WalletNotInitializedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}function tryOnScopeDispose$1(u){return getCurrentScope()?(onScopeDispose(u),!0):!1}const isClient$1=typeof window<"u",isString$2=u=>typeof u=="string",noop$4=()=>{};function createFilterWrapper$1(u,c){function d(...y){u(()=>c.apply(this,y),{fn:c,thisArg:this,args:y})}return d}const bypassFilter$1=u=>u();var __getOwnPropSymbols$9=Object.getOwnPropertySymbols,__hasOwnProp$9=Object.prototype.hasOwnProperty,__propIsEnum$9=Object.prototype.propertyIsEnumerable,__objRest$5$1=(u,c)=>{var d={};for(var y in u)__hasOwnProp$9.call(u,y)&&c.indexOf(y)<0&&(d[y]=u[y]);if(u!=null&&__getOwnPropSymbols$9)for(var y of __getOwnPropSymbols$9(u))c.indexOf(y)<0&&__propIsEnum$9.call(u,y)&&(d[y]=u[y]);return d};function watchWithFilter$1(u,c,d={}){const y=d,{eventFilter:gr=bypassFilter$1}=y,_r=__objRest$5$1(y,["eventFilter"]);return watch(u,createFilterWrapper$1(gr,c),_r)}function useTimeoutFn(u,c,d={}){const{immediate:y=!0}=d,gr=ref(!1);let _r=null;function br(){_r&&(clearTimeout(_r),_r=null)}function wr(){gr.value=!1,br()}function Er(...Or){br(),gr.value=!0,_r=setTimeout(()=>{gr.value=!1,_r=null,u(...Or)},unref(c))}return y&&(gr.value=!0,isClient$1&&Er()),tryOnScopeDispose$1(wr),{isPending:gr,start:Er,stop:wr}}function unrefElement$1(u){var c;const d=unref(u);return(c=d?.$el)!=null?c:d}const defaultWindow$1=isClient$1?window:void 0,defaultNavigator=isClient$1?window.navigator:void 0;function useEventListener$1(...u){let c,d,y,gr;if(isString$2(u[0])?([d,y,gr]=u,c=defaultWindow$1):[c,d,y,gr]=u,!c)return noop$4;let _r=noop$4;const br=watch(()=>unref(c),Er=>{_r(),Er&&(Er.addEventListener(d,y,gr),_r=()=>{Er.removeEventListener(d,y,gr),_r=noop$4})},{immediate:!0,flush:"post"}),wr=()=>{br(),_r()};return tryOnScopeDispose$1(wr),wr}function onClickOutside(u,c,d={}){const{window:y=defaultWindow$1}=d;if(!y)return;const gr=ref(!0),br=[useEventListener$1(y,"click",Er=>{const Or=unrefElement$1(u);!Or||Or===Er.target||Er.composedPath().includes(Or)||!gr.value||c(Er)},{passive:!0,capture:!0}),useEventListener$1(y,"pointerdown",Er=>{const Or=unrefElement$1(u);gr.value=!!Or&&!Er.composedPath().includes(Or)},{passive:!0})];return()=>br.forEach(Er=>Er())}const createKeyPredicate=u=>typeof u=="function"?u:typeof u=="string"?c=>c.key===u:Array.isArray(u)?c=>u.includes(c.key):u?()=>!0:()=>!1;function onKeyStroke(u,c,d={}){const{target:y=defaultWindow$1,eventName:gr="keydown",passive:_r=!1}=d,br=createKeyPredicate(u);return useEventListener$1(y,gr,Er=>{br(Er)&&c(Er)},_r)}function useClipboard(u={}){const{navigator:c=defaultNavigator,read:d=!1,source:y,copiedDuring:gr=1500}=u,_r=["copy","cut"],br=Boolean(c&&"clipboard"in c),wr=ref(""),Er=ref(!1),Or=useTimeoutFn(()=>Er.value=!1,gr);function xr(){c.clipboard.readText().then(Mr=>{wr.value=Mr})}if(br&&d)for(const Mr of _r)useEventListener$1(Mr,xr);async function kr(Mr=unref(y)){br&&Mr!=null&&(await c.clipboard.writeText(Mr),wr.value=Mr,Er.value=!0,Or.start())}return{isSupported:br,text:wr,copied:Er,copy:kr}}const _global$1=typeof globalThis>"u"?void 0:globalThis,globalKey$1="__vueuse_ssr_handlers__";_global$1[globalKey$1]=_global$1[globalKey$1]||{};const handlers$1=_global$1[globalKey$1];function getSSRHandler$1(u,c){return handlers$1[u]||c}function guessSerializerType$1(u){return u==null?"any":u instanceof Set?"set":u instanceof Map?"map":typeof u=="boolean"?"boolean":typeof u=="string"?"string":typeof u=="object"||Array.isArray(u)?"object":Number.isNaN(u)?"any":"number"}const StorageSerializers$1={boolean:{read:u=>u==="true",write:u=>String(u)},object:{read:u=>JSON.parse(u),write:u=>JSON.stringify(u)},number:{read:u=>Number.parseFloat(u),write:u=>String(u)},any:{read:u=>u,write:u=>String(u)},string:{read:u=>u,write:u=>String(u)},map:{read:u=>new Map(JSON.parse(u)),write:u=>JSON.stringify(Array.from(u.entries()))},set:{read:u=>new Set(JSON.parse(u)),write:u=>JSON.stringify(Array.from(u.entries()))}};function useStorage$1(u,c,d,y={}){var gr;const{flush:_r="pre",deep:br=!0,listenToStorageChanges:wr=!0,writeDefaults:Er=!0,shallow:Or,window:xr=defaultWindow$1,eventFilter:kr,onError:Mr=Zr=>{console.error(Zr)}}=y,Cr=unref(c),Nr=guessSerializerType$1(Cr),Ur=(Or?shallowRef:ref)(c),Dr=(gr=y.serializer)!=null?gr:StorageSerializers$1[Nr];if(!d)try{d=getSSRHandler$1("getDefaultStorage",()=>{var Zr;return(Zr=defaultWindow$1)==null?void 0:Zr.localStorage})()}catch(Zr){Mr(Zr)}function zr(Zr){if(!(!d||Zr&&Zr.key!==u))try{const Wr=Zr?Zr.newValue:d.getItem(u);Wr==null?(Ur.value=Cr,Er&&Cr!==null&&d.setItem(u,Dr.write(Cr))):typeof Wr!="string"?Ur.value=Wr:Ur.value=Dr.read(Wr)}catch(Wr){Mr(Wr)}}return zr(),xr&&wr&&useEventListener$1(xr,"storage",Zr=>setTimeout(()=>zr(Zr),0)),d&&watchWithFilter$1(Ur,()=>{try{Ur.value==null?d.removeItem(u):d.setItem(u,Dr.write(Ur.value))}catch(Zr){Mr(Zr)}},{flush:_r,deep:br,eventFilter:kr}),Ur}function useLocalStorage(u,c,d={}){const{window:y=defaultWindow$1}=d;return useStorage$1(u,c,y?.localStorage,d)}var _a$1,_b;function preventDefault(u){const c=u||window.event;return c.touches.length>1?!0:(c.preventDefault&&c.preventDefault(),!1)}const isIOS=isClient$1&&window?.navigator&&((_a$1=window?.navigator)==null?void 0:_a$1.platform)&&/iP(ad|hone|od)/.test((_b=window?.navigator)==null?void 0:_b.platform);function useScrollLock(u,c=!1){const d=ref(c);let y=null,gr;const _r=()=>{const wr=unref(u);!wr||d.value||(gr=wr.style.overflow,isIOS&&(y=useEventListener$1(document,"touchmove",preventDefault,{passive:!1})),wr.style.overflow="hidden",d.value=!0)},br=()=>{const wr=unref(u);!wr||!d.value||(isIOS&&y?.(),wr.style.overflow=gr,d.value=!1)};return computed$1({get(){return d.value},set(wr){wr?_r():br()}})}var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(u,c,d)=>c in u?__defProp$3(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,__spreadValues$3=(u,c)=>{for(var d in c||(c={}))__hasOwnProp$3.call(c,d)&&__defNormalProp$3(u,d,c[d]);if(__getOwnPropSymbols$3)for(var d of __getOwnPropSymbols$3(c))__propIsEnum$3.call(c,d)&&__defNormalProp$3(u,d,c[d]);return u};const initialRect={top:0,left:0,bottom:0,right:0,height:0,width:0};__spreadValues$3({text:""},initialRect);const createWalletStore=({wallets:u=[],autoConnect:c=!1,onError:d=gr=>console.error(gr),localStorageKey:y="walletName"})=>{const gr=shallowRef(u),_r=ref(c),br=useLocalStorage(y,null),wr=shallowRef(null),Er=ref(null),Or=ref(WalletReadyState.NotDetected),xr=ref(!1),kr=ref(!1),Mr=ref(!1),Cr=computed$1(()=>Or.value===WalletReadyState.Installed||Or.value===WalletReadyState.Loadable),Nr=Sn=>{var Fr,Rr,Lr;wr.value=Sn,Or.value=(Fr=Sn?.readyState)!=null?Fr:WalletReadyState.NotDetected,Er.value=(Rr=Sn?.publicKey)!=null?Rr:null,xr.value=(Lr=Sn?.connected)!=null?Lr:!1},Ur=Sn=>(d(Sn),Sn),Dr=computed$1(()=>gr.value.reduce((Sn,Fr)=>(Sn[Fr.name]=Fr,Sn),{}));watch(br,()=>{var Sn,Fr;Nr((Fr=(Sn=Dr.value)==null?void 0:Sn[br.value])!=null?Fr:null)},{immediate:!0});const zr=async Sn=>{br.value!==Sn&&(br.value=Sn)},Zr=()=>Nr(wr.value),Wr=()=>Nr(wr.value),tn=()=>br.value=null,rn=watchEffect(Sn=>{const Fr=wr.value;!Fr||(Fr.on("readyStateChange",Zr),Fr.on("connect",Wr),Fr.on("disconnect",tn),Fr.on("error",d),Sn(()=>{Fr.off("readyStateChange",Zr),Fr.off("connect",Wr),Fr.off("disconnect",tn),Fr.off("error",d)}))});typeof window<"u"&&window.addEventListener("unload",rn);const Jr=async()=>{if(!(xr.value||kr.value||Mr.value)){if(!wr.value)throw Ur(new WalletNotSelectedError);if(!Cr.value)throw br.value=null,typeof window<"u"&&window.open(wr.value.url,"_blank"),Ur(new WalletNotReadyError);try{kr.value=!0,await wr.value.connect()}catch(Sn){throw br.value=null,Sn}finally{kr.value=!1}}},Qr=async()=>{if(!Mr.value){if(!wr.value){br.value=null;return}try{Mr.value=!0,await wr.value.disconnect()}finally{br.value=null,Mr.value=!1}}},an=async(Sn,Fr,Rr)=>{if(!wr.value)throw Ur(new WalletNotSelectedError);if(!xr.value)throw Ur(new WalletNotConnectedError);return await wr.value.sendTransaction(Sn,Fr,Rr)},mn=computed$1(()=>{const Sn=wr.value;if(!!(Sn&&"signTransaction"in Sn))return async Fr=>{if(!xr.value)throw Ur(new WalletNotConnectedError);return await Sn.signTransaction(Fr)}}),fn=computed$1(()=>{const Sn=wr.value;if(!!(Sn&&"signAllTransactions"in Sn))return async Fr=>{if(!xr.value)throw Ur(new WalletNotConnectedError);return await Sn.signAllTransactions(Fr)}}),gn=computed$1(()=>{const Sn=wr.value;if(!!(Sn&&"signMessage"in Sn))return async Fr=>{if(!xr.value)throw Ur(new WalletNotConnectedError);return await Sn.signMessage(Fr)}});return watchEffect(async()=>{if(!(!_r.value||!wr.value||!Cr.value||xr.value||kr.value))try{kr.value=!0,await wr.value.connect()}catch{br.value=null}finally{kr.value=!1}}),{wallets:gr,autoConnect:_r,wallet:wr,publicKey:Er,readyState:Or,ready:Cr,connected:xr,connecting:kr,disconnecting:Mr,select:zr,connect:Jr,disconnect:Qr,sendTransaction:an,signTransaction:mn,signAllTransactions:fn,signMessage:gn}};let walletStore=null;const useWallet=()=>{if(walletStore)return walletStore;throw new WalletNotInitializedError("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},initWallet=u=>{walletStore=createWalletStore(u)};var _export_sfc$1=(u,c)=>{const d=u.__vccOpts||u;for(const[y,gr]of c)d[y]=gr;return d};const _sfc_main$4$1=defineComponent({props:{wallet:Object},setup(u){return toRefs(u)}}),_hoisted_1$4$1={class:"swv-button-icon"},_hoisted_2$4$1=["src","alt"];function _sfc_render$4$1(u,c,d,y,gr,_r){return openBlock(),createElementBlock("i",_hoisted_1$4$1,[u.wallet?(openBlock(),createElementBlock("img",{key:0,src:u.wallet.icon,alt:`${u.wallet.name} icon`},null,8,_hoisted_2$4$1)):createCommentVNode("",!0)])}var WalletIcon=_export_sfc$1(_sfc_main$4$1,[["render",_sfc_render$4$1]]);const _sfc_main$3$1=defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(u,{emit:c}){const{disabled:d}=toRefs(u),{wallet:y,connect:gr,connecting:_r,connected:br}=useWallet(),wr=computed$1(()=>_r.value?"Connecting ...":br.value?"Connected":y.value?"Connect":"Connect Wallet"),Or={wallet:y,disabled:d,connecting:_r,connected:br,content:wr,onClick:xr=>{c("click",xr),!xr.defaultPrevented&&gr().catch(()=>{})}};return __spreadValues$1({scope:Or},Or)}}),_hoisted_1$3$1=["disabled"],_hoisted_2$3$1=["textContent"];function _sfc_render$3$1(u,c,d,y,gr,_r){const br=resolveComponent("wallet-icon");return renderSlot(u.$slots,"default",normalizeProps(guardReactiveProps(u.scope)),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",disabled:u.disabled||!u.wallet||u.connecting||u.connected,onClick:c[0]||(c[0]=(...wr)=>u.onClick&&u.onClick(...wr))},[u.wallet?(openBlock(),createBlock(br,{key:0,wallet:u.wallet},null,8,["wallet"])):createCommentVNode("",!0),createBaseVNode("p",{textContent:toDisplayString(u.content)},null,8,_hoisted_2$3$1)],8,_hoisted_1$3$1)])}var WalletConnectButton=_export_sfc$1(_sfc_main$3$1,[["render",_sfc_render$3$1]]);defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(u,{emit:c}){const{disabled:d}=toRefs(u),{wallet:y,disconnect:gr,disconnecting:_r}=useWallet(),br=computed$1(()=>_r.value?"Disconnecting ...":y.value?"Disconnect":"Disconnect Wallet"),Er={wallet:y,disconnecting:_r,disabled:d,content:br,handleClick:Or=>{c("click",Or),!Or.defaultPrevented&&gr().catch(()=>{})}};return __spreadValues$1({scope:Er},Er)}});const _sfc_main$1$1=defineComponent({components:{WalletIcon},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(u,{slots:c}){const{featured:d,container:y,logo:gr,dark:_r}=toRefs(u),br=ref(null),wr=ref(!1),Er=()=>wr.value=!0,Or=()=>wr.value=!1,xr=computed$1(()=>!!c.logo||!!gr.value),{wallets:kr,select:Mr}=useWallet(),Cr=ref(!1),Nr=computed$1(()=>kr.value.slice(0,d.value)),Ur=computed$1(()=>kr.value.slice(d.value)),Dr=computed$1(()=>Cr.value?kr.value:Nr.value);onClickOutside(br,Or),onKeyStroke("Escape",Or),onKeyStroke("Tab",Wr=>{var tn,rn;const Jr=(rn=(tn=br.value)==null?void 0:tn.querySelectorAll("button"))!=null?rn:[],Qr=Jr?.[0],an=Jr?.[Jr.length-1];Wr.shiftKey&&document.activeElement===Qr&&an?(an.focus(),Wr.preventDefault()):!Wr.shiftKey&&document.activeElement===an&&Qr&&(Qr.focus(),Wr.preventDefault())}),watch(wr,Wr=>{!Wr||nextTick(()=>{var tn,rn,Jr;return(Jr=(rn=(tn=br.value)==null?void 0:tn.querySelectorAll("button"))==null?void 0:rn[0])==null?void 0:Jr.focus()})});const zr=useScrollLock(document.body);watch(wr,Wr=>zr.value=Wr);const Zr={dark:_r,logo:gr,hasLogo:xr,featured:d,container:y,modalPanel:br,modalOpened:wr,openModal:Er,closeModal:Or,expandedWallets:Cr,walletsToDisplay:Dr,featuredWallets:Nr,hiddenWallets:Ur,selectWallet:Mr};return __spreadValues$1({scope:Zr},Zr)}}),_hoisted_1$1$1=createBaseVNode("div",{class:"swv-modal-overlay"},null,-1),_hoisted_2$1$1={class:"swv-modal-container",ref:"modalPanel"},_hoisted_3$1$1={key:0,class:"swv-modal-logo-wrapper"},_hoisted_4$1$1=["src"],_hoisted_5$1$1=createBaseVNode("h1",{class:"swv-modal-title",id:"swv-modal-title"}," Connect Wallet ",-1),_hoisted_6$6=createBaseVNode("svg",{width:"14",height:"14"},[createBaseVNode("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),_hoisted_7$4=[_hoisted_6$6],_hoisted_8$5={class:"swv-modal-list"},_hoisted_9$4=["onClick"],_hoisted_10$3={class:"swv-button"},_hoisted_11$3=["textContent"],_hoisted_12$2=["aria-expanded"],_hoisted_13$1=createBaseVNode("i",{class:"swv-button-icon"},[createBaseVNode("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function _sfc_render$1$1(u,c,d,y,gr,_r){const br=resolveComponent("wallet-icon");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(u.dark?"swv-dark":"")},[renderSlot(u.$slots,"default",normalizeProps(guardReactiveProps(u.scope)))],2),u.modalOpened?(openBlock(),createBlock(Teleport,{key:0,to:u.container},[createBaseVNode("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:normalizeClass(["swv-modal",u.dark?"swv-dark":""]),role:"dialog"},[renderSlot(u.$slots,"overlay",normalizeProps(guardReactiveProps(u.scope)),()=>[_hoisted_1$1$1]),createBaseVNode("div",_hoisted_2$1$1,[renderSlot(u.$slots,"modal",normalizeProps(guardReactiveProps(u.scope)),()=>[createBaseVNode("div",{class:normalizeClass(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!u.hasLogo}])},[u.hasLogo?(openBlock(),createElementBlock("div",_hoisted_3$1$1,[renderSlot(u.$slots,"logo",normalizeProps(guardReactiveProps(u.scope)),()=>[createBaseVNode("img",{alt:"logo",class:"swv-modal-logo",src:u.logo},null,8,_hoisted_4$1$1)])])):createCommentVNode("",!0),_hoisted_5$1$1,createBaseVNode("button",{onClick:c[0]||(c[0]=withModifiers((...wr)=>u.closeModal&&u.closeModal(...wr),["prevent"])),class:"swv-modal-button-close"},_hoisted_7$4),createBaseVNode("ul",_hoisted_8$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.walletsToDisplay,wr=>(openBlock(),createElementBlock("li",{key:wr.name,onClick:Er=>{u.selectWallet(wr.name),u.closeModal()}},[createBaseVNode("button",_hoisted_10$3,[createBaseVNode("p",{textContent:toDisplayString(wr.name)},null,8,_hoisted_11$3),createVNode(br,{wallet:wr},null,8,["wallet"])])],8,_hoisted_9$4))),128))]),u.hiddenWallets.length>0?(openBlock(),createElementBlock("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":u.expandedWallets,class:normalizeClass(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":u.expandedWallets}]),onClick:c[1]||(c[1]=wr=>u.expandedWallets=!u.expandedWallets)},[createTextVNode(toDisplayString(u.expandedWallets?"Less":"More")+" options ",1),_hoisted_13$1],10,_hoisted_12$2)):createCommentVNode("",!0)],2)])],512)],2)],8,["to"])):createCommentVNode("",!0)],64)}var WalletModalProvider=_export_sfc$1(_sfc_main$1$1,[["render",_sfc_render$1$1]]);const _sfc_main$f=defineComponent({components:{WalletConnectButton,WalletIcon,WalletModalProvider},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(u){const{featured:c,container:d,logo:y,dark:gr}=toRefs(u),{publicKey:_r,wallet:br,disconnect:wr}=useWallet(),Er=ref(),Or=ref(!1),xr=()=>Or.value=!0,kr=()=>Or.value=!1;onClickOutside(Er,kr);const Mr=computed$1(()=>{var Wr;return(Wr=_r.value)==null?void 0:Wr.toBase58()}),Cr=computed$1(()=>!br.value||!Mr.value?null:Mr.value.slice(0,4)+".."+Mr.value.slice(-4)),{copy:Nr,copied:Ur,isSupported:Dr}=useClipboard(),Zr={featured:c,container:d,logo:y,dark:gr,wallet:br,publicKey:_r,publicKeyTrimmed:Cr,publicKeyBase58:Mr,canCopy:Dr,addressCopied:Ur,dropdownPanel:Er,dropdownOpened:Or,openDropdown:xr,closeDropdown:kr,copyAddress:()=>Mr.value&&Nr(Mr.value),disconnect:wr};return __spreadValues$1({scope:Zr},Zr)}}),_hoisted_1$e=["onClick"],_hoisted_2$b={key:2,class:"swv-dropdown"},_hoisted_3$7=["aria-expanded","title"],_hoisted_4$8=["textContent"],_hoisted_5$6=["onClick"];function _sfc_render$5(u,c,d,y,gr,_r){const br=resolveComponent("wallet-connect-button"),wr=resolveComponent("wallet-icon"),Er=resolveComponent("wallet-modal-provider");return openBlock(),createBlock(Er,{featured:u.featured,container:u.container,logo:u.logo,dark:u.dark},{default:withCtx(Or=>[renderSlot(u.$slots,"default",normalizeProps(guardReactiveProps(__spreadValues$1(__spreadValues$1({},Or),u.scope))),()=>[u.wallet?u.publicKeyBase58?(openBlock(),createElementBlock("div",_hoisted_2$b,[renderSlot(u.$slots,"dropdown-button",normalizeProps(guardReactiveProps(__spreadValues$1(__spreadValues$1({},Or),u.scope))),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",style:normalizeStyle({pointerEvents:u.dropdownOpened?"none":"auto"}),"aria-expanded":u.dropdownOpened,title:u.publicKeyBase58,onClick:c[0]||(c[0]=(...xr)=>u.openDropdown&&u.openDropdown(...xr))},[createVNode(wr,{wallet:u.wallet},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(u.publicKeyTrimmed)},null,8,_hoisted_4$8)],12,_hoisted_3$7)]),renderSlot(u.$slots,"dropdown",normalizeProps(guardReactiveProps(__spreadValues$1(__spreadValues$1({},Or),u.scope))),()=>[createBaseVNode("ul",{"aria-label":"dropdown-list",class:normalizeClass(["swv-dropdown-list",{"swv-dropdown-list-active":u.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[renderSlot(u.$slots,"dropdown-list",normalizeProps(guardReactiveProps(__spreadValues$1(__spreadValues$1({},Or),u.scope))),()=>[u.canCopy?(openBlock(),createElementBlock("li",{key:0,onClick:c[1]||(c[1]=(...xr)=>u.copyAddress&&u.copyAddress(...xr)),class:"swv-dropdown-list-item",role:"menuitem"},toDisplayString(u.addressCopied?"Copied":"Copy address"),1)):createCommentVNode("",!0),createBaseVNode("li",{onClick:xr=>{Or.openModal(),u.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,_hoisted_5$6),createBaseVNode("li",{onClick:c[2]||(c[2]=(...xr)=>u.disconnect&&u.disconnect(...xr)),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")])],2)])])):(openBlock(),createBlock(br,{key:1})):(openBlock(),createElementBlock("button",{key:0,class:"swv-button swv-button-trigger",onClick:Or.openModal}," Select Wallet ",8,_hoisted_1$e))])]),overlay:withCtx(Or=>[renderSlot(u.$slots,"modal-overlay",normalizeProps(guardReactiveProps(__spreadValues$1(__spreadValues$1({},Or),u.scope))))]),modal:withCtx(Or=>[renderSlot(u.$slots,"modal",normalizeProps(guardReactiveProps(__spreadValues$1(__spreadValues$1({},Or),u.scope))))]),_:3},8,["featured","container","logo","dark"])}var WalletMultiButton=_export_sfc$1(_sfc_main$f,[["render",_sfc_render$5]]),index={install:(u,c={})=>{initWallet(c),u.config.globalProperties.$wallet=useWallet()}},isVue2=!1,_a;const isClient=typeof window<"u",isFunction$2=u=>typeof u=="function",isString$1=u=>typeof u=="string",noop$3=()=>{};isClient&&((_a=window?.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(u){return typeof u=="function"?u():unref(u)}function createFilterWrapper(u,c){function d(...y){u(()=>c.apply(this,y),{fn:c,thisArg:this,args:y})}return d}const bypassFilter=u=>u();function pausableFilter(u=bypassFilter){const c=ref(!0);function d(){c.value=!1}function y(){c.value=!0}return{isActive:c,pause:d,resume:y,eventFilter:(..._r)=>{c.value&&u(..._r)}}}function identity(u){return u}function tryOnScopeDispose(u){return getCurrentScope()?(onScopeDispose(u),!0):!1}function tryOnBeforeMount(u,c=!0){getCurrentInstance()?onBeforeMount(u):c?u():nextTick(u)}function tryOnMounted(u,c=!0){getCurrentInstance()?onMounted(u):c?u():nextTick(u)}function useToggle(u=!1,c={}){const{truthyValue:d=!0,falsyValue:y=!1}=c,gr=isRef(u),_r=ref(u);function br(wr){if(arguments.length)return _r.value=wr,_r.value;{const Er=resolveUnref(d);return _r.value=_r.value===Er?resolveUnref(y):Er,_r.value}}return gr?br:[_r,br]}var __getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__objRest$5=(u,c)=>{var d={};for(var y in u)__hasOwnProp$6.call(u,y)&&c.indexOf(y)<0&&(d[y]=u[y]);if(u!=null&&__getOwnPropSymbols$6)for(var y of __getOwnPropSymbols$6(u))c.indexOf(y)<0&&__propIsEnum$6.call(u,y)&&(d[y]=u[y]);return d};function watchWithFilter(u,c,d={}){const y=d,{eventFilter:gr=bypassFilter}=y,_r=__objRest$5(y,["eventFilter"]);return watch(u,createFilterWrapper(gr,c),_r)}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(u,c,d)=>c in u?__defProp$2(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,__spreadValues$2=(u,c)=>{for(var d in c||(c={}))__hasOwnProp$2.call(c,d)&&__defNormalProp$2(u,d,c[d]);if(__getOwnPropSymbols$2)for(var d of __getOwnPropSymbols$2(c))__propIsEnum$2.call(c,d)&&__defNormalProp$2(u,d,c[d]);return u},__spreadProps$2=(u,c)=>__defProps$2(u,__getOwnPropDescs$2(c)),__objRest$1=(u,c)=>{var d={};for(var y in u)__hasOwnProp$2.call(u,y)&&c.indexOf(y)<0&&(d[y]=u[y]);if(u!=null&&__getOwnPropSymbols$2)for(var y of __getOwnPropSymbols$2(u))c.indexOf(y)<0&&__propIsEnum$2.call(u,y)&&(d[y]=u[y]);return d};function watchPausable(u,c,d={}){const y=d,{eventFilter:gr}=y,_r=__objRest$1(y,["eventFilter"]),{eventFilter:br,pause:wr,resume:Er,isActive:Or}=pausableFilter(gr);return{stop:watchWithFilter(u,c,__spreadProps$2(__spreadValues$2({},_r),{eventFilter:br})),pause:wr,resume:Er,isActive:Or}}function unrefElement(u){var c;const d=resolveUnref(u);return(c=d?.$el)!=null?c:d}const defaultWindow=isClient?window:void 0;function useEventListener(...u){let c,d,y,gr;if(isString$1(u[0])?([d,y,gr]=u,c=defaultWindow):[c,d,y,gr]=u,!c)return noop$3;let _r=noop$3;const br=watch(()=>unrefElement(c),Er=>{_r(),Er&&(Er.addEventListener(d,y,gr),_r=()=>{Er.removeEventListener(d,y,gr),_r=noop$3})},{immediate:!0,flush:"post"}),wr=()=>{br(),_r()};return tryOnScopeDispose(wr),wr}function useSupported(u,c=!1){const d=ref(),y=()=>d.value=Boolean(u());return y(),tryOnMounted(y,c),d}function useMediaQuery(u,c={}){const{window:d=defaultWindow}=c,y=useSupported(()=>d&&"matchMedia"in d&&typeof d.matchMedia=="function");let gr;const _r=ref(!1),br=()=>{!y.value||(gr||(gr=d.matchMedia(u)),_r.value=gr.matches)};return tryOnBeforeMount(()=>{br(),gr&&("addEventListener"in gr?gr.addEventListener("change",br):gr.addListener(br),tryOnScopeDispose(()=>{"removeEventListener"in gr?gr.removeEventListener("change",br):gr.removeListener(br)}))}),_r}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};const handlers=_global[globalKey];function getSSRHandler(u,c){return handlers[u]||c}function guessSerializerType(u){return u==null?"any":u instanceof Set?"set":u instanceof Map?"map":u instanceof Date?"date":typeof u=="boolean"?"boolean":typeof u=="string"?"string":typeof u=="object"||Array.isArray(u)?"object":Number.isNaN(u)?"any":"number"}var __defProp$j=Object.defineProperty,__getOwnPropSymbols$l=Object.getOwnPropertySymbols,__hasOwnProp$l=Object.prototype.hasOwnProperty,__propIsEnum$l=Object.prototype.propertyIsEnumerable,__defNormalProp$j=(u,c,d)=>c in u?__defProp$j(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,__spreadValues$j=(u,c)=>{for(var d in c||(c={}))__hasOwnProp$l.call(c,d)&&__defNormalProp$j(u,d,c[d]);if(__getOwnPropSymbols$l)for(var d of __getOwnPropSymbols$l(c))__propIsEnum$l.call(c,d)&&__defNormalProp$j(u,d,c[d]);return u};const StorageSerializers={boolean:{read:u=>u==="true",write:u=>String(u)},object:{read:u=>JSON.parse(u),write:u=>JSON.stringify(u)},number:{read:u=>Number.parseFloat(u),write:u=>String(u)},any:{read:u=>u,write:u=>String(u)},string:{read:u=>u,write:u=>String(u)},map:{read:u=>new Map(JSON.parse(u)),write:u=>JSON.stringify(Array.from(u.entries()))},set:{read:u=>new Set(JSON.parse(u)),write:u=>JSON.stringify(Array.from(u))},date:{read:u=>new Date(u),write:u=>u.toISOString()}};function useStorage(u,c,d,y={}){var gr;const{flush:_r="pre",deep:br=!0,listenToStorageChanges:wr=!0,writeDefaults:Er=!0,mergeDefaults:Or=!1,shallow:xr,window:kr=defaultWindow,eventFilter:Mr,onError:Cr=Qr=>{console.error(Qr)}}=y,Nr=(xr?shallowRef:ref)(c);if(!d)try{d=getSSRHandler("getDefaultStorage",()=>{var Qr;return(Qr=defaultWindow)==null?void 0:Qr.localStorage})()}catch(Qr){Cr(Qr)}if(!d)return Nr;const Ur=resolveUnref(c),Dr=guessSerializerType(Ur),zr=(gr=y.serializer)!=null?gr:StorageSerializers[Dr],{pause:Zr,resume:Wr}=watchPausable(Nr,()=>tn(Nr.value),{flush:_r,deep:br,eventFilter:Mr});return kr&&wr&&useEventListener(kr,"storage",Jr),Jr(),Nr;function tn(Qr){try{Qr==null?d.removeItem(u):d.setItem(u,zr.write(Qr))}catch(an){Cr(an)}}function rn(Qr){if(!(Qr&&Qr.key!==u)){Zr();try{const an=Qr?Qr.newValue:d.getItem(u);if(an==null)return Er&&Ur!==null&&d.setItem(u,zr.write(Ur)),Ur;if(!Qr&&Or){const mn=zr.read(an);return isFunction$2(Or)?Or(mn,Ur):Dr==="object"&&!Array.isArray(mn)?__spreadValues$j(__spreadValues$j({},Ur),mn):mn}else return typeof an!="string"?an:zr.read(an)}catch(an){Cr(an)}finally{Wr()}}}function Jr(Qr){Qr&&Qr.key!==u||(Nr.value=rn(Qr))}}function usePreferredDark(u){return useMediaQuery("(prefers-color-scheme: dark)",u)}var __defProp$i=Object.defineProperty,__getOwnPropSymbols$k=Object.getOwnPropertySymbols,__hasOwnProp$k=Object.prototype.hasOwnProperty,__propIsEnum$k=Object.prototype.propertyIsEnumerable,__defNormalProp$i=(u,c,d)=>c in u?__defProp$i(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,__spreadValues$i=(u,c)=>{for(var d in c||(c={}))__hasOwnProp$k.call(c,d)&&__defNormalProp$i(u,d,c[d]);if(__getOwnPropSymbols$k)for(var d of __getOwnPropSymbols$k(c))__propIsEnum$k.call(c,d)&&__defNormalProp$i(u,d,c[d]);return u};function useColorMode(u={}){const{selector:c="html",attribute:d="class",initialValue:y="auto",window:gr=defaultWindow,storage:_r,storageKey:br="vueuse-color-scheme",listenToStorageChanges:wr=!0,storageRef:Er,emitAuto:Or}=u,xr=__spreadValues$i({auto:"",light:"light",dark:"dark"},u.modes||{}),kr=usePreferredDark({window:gr}),Mr=computed$1(()=>kr.value?"dark":"light"),Cr=Er||(br==null?ref(y):useStorage(br,y,_r,{window:gr,listenToStorageChanges:wr})),Nr=computed$1({get(){return Cr.value==="auto"&&!Or?Mr.value:Cr.value},set(Zr){Cr.value=Zr}}),Ur=getSSRHandler("updateHTMLAttrs",(Zr,Wr,tn)=>{const rn=gr?.document.querySelector(Zr);if(!!rn)if(Wr==="class"){const Jr=tn.split(/\s/g);Object.values(xr).flatMap(Qr=>(Qr||"").split(/\s/g)).filter(Boolean).forEach(Qr=>{Jr.includes(Qr)?rn.classList.add(Qr):rn.classList.remove(Qr)})}else rn.setAttribute(Wr,tn)});function Dr(Zr){var Wr;const tn=Zr==="auto"?Mr.value:Zr;Ur(c,d,(Wr=xr[tn])!=null?Wr:tn)}function zr(Zr){u.onChanged?u.onChanged(Zr,Dr):Dr(Zr)}return watch(Nr,zr,{flush:"post",immediate:!0}),Or&&watch(Mr,()=>zr(Nr.value),{flush:"post"}),tryOnMounted(()=>zr(Nr.value)),Nr}var __defProp$h=Object.defineProperty,__defProps$7=Object.defineProperties,__getOwnPropDescs$7=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$j=Object.getOwnPropertySymbols,__hasOwnProp$j=Object.prototype.hasOwnProperty,__propIsEnum$j=Object.prototype.propertyIsEnumerable,__defNormalProp$h=(u,c,d)=>c in u?__defProp$h(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,__spreadValues$h=(u,c)=>{for(var d in c||(c={}))__hasOwnProp$j.call(c,d)&&__defNormalProp$h(u,d,c[d]);if(__getOwnPropSymbols$j)for(var d of __getOwnPropSymbols$j(c))__propIsEnum$j.call(c,d)&&__defNormalProp$h(u,d,c[d]);return u},__spreadProps$7=(u,c)=>__defProps$7(u,__getOwnPropDescs$7(c));function useDark(u={}){const{valueDark:c="dark",valueLight:d="",window:y=defaultWindow}=u,gr=useColorMode(__spreadProps$7(__spreadValues$h({},u),{onChanged:(wr,Er)=>{var Or;u.onChanged?(Or=u.onChanged)==null||Or.call(u,wr==="dark"):Er(wr)},modes:{dark:c,light:d}})),_r=usePreferredDark({window:y});return computed$1({get(){return gr.value==="dark"},set(wr){wr===_r.value?gr.value="auto":gr.value=wr?"dark":"light"}})}var SwipeDirection;(function(u){u.UP="UP",u.RIGHT="RIGHT",u.DOWN="DOWN",u.LEFT="LEFT",u.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(u,c,d)=>c in u?__defProp(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,__spreadValues=(u,c)=>{for(var d in c||(c={}))__hasOwnProp.call(c,d)&&__defNormalProp(u,d,c[d]);if(__getOwnPropSymbols)for(var d of __getOwnPropSymbols(c))__propIsEnum.call(c,d)&&__defNormalProp(u,d,c[d]);return u};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);const _hoisted_1$d=createBaseVNode("div",{class:"color-black i-carbon-sun dark:i-carbon-asleep dark:color-white"},null,-1),_hoisted_2$a=[_hoisted_1$d],_sfc_main$e={__name:"ToggleMode",setup(u){const c=useDark(),d=useToggle(c);return(y,gr)=>(openBlock(),createElementBlock("div",{class:"flex hover:op80 justify-center m2 op30 text-2xl",onClick:gr[0]||(gr[0]=_r=>unref(d)(!unref(c)))},_hoisted_2$a))}},_sfc_main$d={components:{ToggleMode:_sfc_main$e,WalletMultiButton}},_export_sfc=(u,c)=>{const d=u.__vccOpts||u;for(const[y,gr]of c)d[y]=gr;return d},_hoisted_1$c={class:"sticky top-0 z-50 bg-base-300 shadow-xl"},_hoisted_2$9={class:"bg-white dark:bg-black px-2 sm:px-4 py-2.5 dark:bg-gray-900 w-full z-20 border-b border-gray-200 dark:border-gray-600"},_hoisted_3$6={class:"container flex flex-wrap justify-between items-center mx-auto"},_hoisted_4$7=createBaseVNode("a",{class:"flex items-center"},[createBaseVNode("span",{class:"self-center text-xl font-semibold whitespace-nowrap text-black dark:text-white"},"RougeMarket")],-1),_hoisted_5$5={class:"flex md:order-2"},_hoisted_6$5=createBaseVNode("button",{"aria-controls":"navbar-sticky","aria-expanded":"false",class:"inline-flex items-center p-2 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","data-collapse-toggle":"navbar-sticky",type:"button"},[createBaseVNode("span",{class:"sr-only"},"Open main menu"),createBaseVNode("svg",{"aria-hidden":"true",class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{"clip-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","fill-rule":"evenodd"})])],-1),_hoisted_7$3={id:"navbar-sticky",class:"hidden justify-between items-center w-full md:flex md:w-auto md:order-1"},_hoisted_8$4={class:"flex flex-col p-4 mt-4 bg-gray-50 rounded-lg border border-gray-100 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"},_hoisted_9$3=createTextVNode("Home "),_hoisted_10$2=createTextVNode("Marketplace "),_hoisted_11$2=createTextVNode("Orders "),_hoisted_12$1=createTextVNode("About ");function _sfc_render$4(u,c,d,y,gr,_r){const br=resolveComponent("wallet-multi-button"),wr=resolveComponent("toggle-mode"),Er=resolveComponent("RouterLink");return openBlock(),createElementBlock("header",_hoisted_1$c,[createBaseVNode("nav",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$6,[_hoisted_4$7,createBaseVNode("div",_hoisted_5$5,[createVNode(br,{dark:""}),createVNode(wr),_hoisted_6$5]),createBaseVNode("div",_hoisted_7$3,[createBaseVNode("ul",_hoisted_8$4,[createBaseVNode("li",null,[createVNode(Er,{class:"block py-2 pr-4 pl-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white",to:"/"},{default:withCtx(()=>[_hoisted_9$3]),_:1})]),createBaseVNode("li",null,[createVNode(Er,{class:"block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-white dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",to:"/marketplace"},{default:withCtx(()=>[_hoisted_10$2]),_:1})]),createBaseVNode("li",null,[createVNode(Er,{class:"block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-white dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",to:"/orders"},{default:withCtx(()=>[_hoisted_11$2]),_:1})]),createBaseVNode("li",null,[createVNode(Er,{class:"block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-white dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",to:"/about"},{default:withCtx(()=>[_hoisted_12$1]),_:1})])])])])])])}const NavBar=_export_sfc(_sfc_main$d,[["render",_sfc_render$4]]),_sfc_main$c={},_hoisted_1$b={class:"footer items-center p-4 static w-full"},_hoisted_2$8=createStaticVNode('<div class="items-center grid-flow-col"><svg class="fill-current" height="36" viewBox="0 0 512 512" width="36" xmlns="http://www.w3.org/2000/svg"><path d="M156.6 384.9L125.7 353.1C117.2 345.5 114.2 333.1 117.1 321.8C120.1 312.9 124.1 301.3 129.8 288H24C15.38 288 7.414 283.4 3.146 275.9C-1.123 268.4-1.042 259.2 3.357 251.8L55.83 163.3C68.79 141.4 92.33 127.1 117.8 127.1H200C202.4 124 204.8 120.3 207.2 116.7C289.1-4.07 411.1-8.142 483.9 5.275C495.6 7.414 504.6 16.43 506.7 28.06C520.1 100.9 516.1 222.9 395.3 304.8C391.8 307.2 387.1 309.6 384 311.1V394.2C384 419.7 370.6 443.2 348.7 456.2L260.2 508.6C252.8 513 243.6 513.1 236.1 508.9C228.6 504.6 224 496.6 224 488V380.8C209.9 385.6 197.6 389.7 188.3 392.7C177.1 396.3 164.9 393.2 156.6 384.9V384.9zM384 167.1C406.1 167.1 424 150.1 424 127.1C424 105.9 406.1 87.1 384 87.1C361.9 87.1 344 105.9 344 127.1C344 150.1 361.9 167.1 384 167.1z"></path></svg><div><p class="text-xs">Built with \u2764\uFE0F for StarAtlas \u{1F680}</p><p class="text-xs">By the following Guilds:</p><p class="text-2xs">HEIM and Skull&amp;Bones</p><p class="text-xs">COPYRIGHT \xA9 2022 HEIM/Skull&amp;Bones, All rights Reserved</p><p class="text-2xs text-yellow-700">! Keep in mind this site is under active development !</p></div></div><div class="grid-flow-col gap-4 md:place-self-center md:justify-self-end"><a href="https://twitter.com/SkullnBonesDAO" rel="noopener noreferrer" target="_blank"><svg class="fill-current" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="https://discord.com/invite/skullnbones" rel="noopener noreferrer" target="_blank"><svg class="fill-current" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"></path></svg></a><a href="https://github.com/skullnbonesdao" rel="noopener noreferrer" target="_blank"><svg class="fill-current" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1A10.89 10.89 0 0 0 1 11.77 10.79 10.79 0 0 0 8.52 22c.55.1.75-.23.75-.52v-1.83c-3.06.65-3.71-1.44-3.71-1.44a2.86 2.86 0 0 0-1.22-1.58c-1-.66.08-.65.08-.65a2.31 2.31 0 0 1 1.68 1.11 2.37 2.37 0 0 0 3.2.89 2.33 2.33 0 0 1 .7-1.44c-2.44-.27-5-1.19-5-5.32a4.15 4.15 0 0 1 1.11-2.91 3.78 3.78 0 0 1 .11-2.84s.93-.29 3 1.1a10.68 10.68 0 0 1 5.5 0c2.1-1.39 3-1.1 3-1.1a3.78 3.78 0 0 1 .11 2.84A4.15 4.15 0 0 1 19 11.2c0 4.14-2.58 5.05-5 5.32a2.5 2.5 0 0 1 .75 2v2.95c0 .35.2.63.75.52A10.8 10.8 0 0 0 23 11.77 10.89 10.89 0 0 0 12 1"></path></svg></a></div>',2),_hoisted_4$6=[_hoisted_2$8];function _sfc_render$3(u,c){return openBlock(),createElementBlock("footer",_hoisted_1$b,_hoisted_4$6)}const FooterComponent=_export_sfc(_sfc_main$c,[["render",_sfc_render$3]]);/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=u=>activePinia=u,piniaSymbol=Symbol();function isPlainObject$1(u){return u&&typeof u=="object"&&Object.prototype.toString.call(u)==="[object Object]"&&typeof u.toJSON!="function"}var MutationType;(function(u){u.direct="direct",u.patchObject="patch object",u.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const u=effectScope(!0),c=u.run(()=>ref({}));let d=[],y=[];const gr=markRaw({install(_r){setActivePinia(gr),gr._a=_r,_r.provide(piniaSymbol,gr),_r.config.globalProperties.$pinia=gr,y.forEach(br=>d.push(br)),y=[]},use(_r){return!this._a&&!isVue2?y.push(_r):d.push(_r),this},_p:d,_a:null,_e:u,_s:new Map,state:c});return gr}const noop$2=()=>{};function addSubscription(u,c,d,y=noop$2){u.push(c);const gr=()=>{const _r=u.indexOf(c);_r>-1&&(u.splice(_r,1),y())};return!d&&getCurrentInstance()&&onUnmounted(gr),gr}function triggerSubscriptions(u,...c){u.slice().forEach(d=>{d(...c)})}function mergeReactiveObjects(u,c){u instanceof Map&&c instanceof Map&&c.forEach((d,y)=>u.set(y,d)),u instanceof Set&&c instanceof Set&&c.forEach(u.add,u);for(const d in c){if(!c.hasOwnProperty(d))continue;const y=c[d],gr=u[d];isPlainObject$1(gr)&&isPlainObject$1(y)&&u.hasOwnProperty(d)&&!isRef(y)&&!isReactive(y)?u[d]=mergeReactiveObjects(gr,y):u[d]=y}return u}const skipHydrateSymbol=Symbol();function shouldHydrate(u){return!isPlainObject$1(u)||!u.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed$1(u){return!!(isRef(u)&&u.effect)}function createOptionsStore(u,c,d,y){const{state:gr,actions:_r,getters:br}=c,wr=d.state.value[u];let Er;function Or(){wr||(d.state.value[u]=gr?gr():{});const xr=toRefs(d.state.value[u]);return assign$3(xr,_r,Object.keys(br||{}).reduce((kr,Mr)=>(kr[Mr]=markRaw(computed$1(()=>{setActivePinia(d);const Cr=d._s.get(u);return br[Mr].call(Cr,Cr)})),kr),{}))}return Er=createSetupStore(u,Or,c,d,y,!0),Er.$reset=function(){const kr=gr?gr():{};this.$patch(Mr=>{assign$3(Mr,kr)})},Er}function createSetupStore(u,c,d={},y,gr,_r){let br;const wr=assign$3({actions:{}},d),Er={deep:!0};let Or,xr,kr=markRaw([]),Mr=markRaw([]),Cr;const Nr=y.state.value[u];!_r&&!Nr&&(y.state.value[u]={}),ref({});let Ur;function Dr(Qr){let an;Or=xr=!1,typeof Qr=="function"?(Qr(y.state.value[u]),an={type:MutationType.patchFunction,storeId:u,events:Cr}):(mergeReactiveObjects(y.state.value[u],Qr),an={type:MutationType.patchObject,payload:Qr,storeId:u,events:Cr});const mn=Ur=Symbol();nextTick().then(()=>{Ur===mn&&(Or=!0)}),xr=!0,triggerSubscriptions(kr,an,y.state.value[u])}const zr=noop$2;function Zr(){br.stop(),kr=[],Mr=[],y._s.delete(u)}function Wr(Qr,an){return function(){setActivePinia(y);const mn=Array.from(arguments),fn=[],gn=[];function Sn(Lr){fn.push(Lr)}function Fr(Lr){gn.push(Lr)}triggerSubscriptions(Mr,{args:mn,name:Qr,store:rn,after:Sn,onError:Fr});let Rr;try{Rr=an.apply(this&&this.$id===u?this:rn,mn)}catch(Lr){throw triggerSubscriptions(gn,Lr),Lr}return Rr instanceof Promise?Rr.then(Lr=>(triggerSubscriptions(fn,Lr),Lr)).catch(Lr=>(triggerSubscriptions(gn,Lr),Promise.reject(Lr))):(triggerSubscriptions(fn,Rr),Rr)}}const tn={_p:y,$id:u,$onAction:addSubscription.bind(null,Mr),$patch:Dr,$reset:zr,$subscribe(Qr,an={}){const mn=addSubscription(kr,Qr,an.detached,()=>fn()),fn=br.run(()=>watch(()=>y.state.value[u],gn=>{(an.flush==="sync"?xr:Or)&&Qr({storeId:u,type:MutationType.direct,events:Cr},gn)},assign$3({},Er,an)));return mn},$dispose:Zr},rn=reactive(assign$3({},tn));y._s.set(u,rn);const Jr=y._e.run(()=>(br=effectScope(),br.run(()=>c())));for(const Qr in Jr){const an=Jr[Qr];if(isRef(an)&&!isComputed$1(an)||isReactive(an))_r||(Nr&&shouldHydrate(an)&&(isRef(an)?an.value=Nr[Qr]:mergeReactiveObjects(an,Nr[Qr])),y.state.value[u][Qr]=an);else if(typeof an=="function"){const mn=Wr(Qr,an);Jr[Qr]=mn,wr.actions[Qr]=an}}return assign$3(rn,Jr),assign$3(toRaw(rn),Jr),Object.defineProperty(rn,"$state",{get:()=>y.state.value[u],set:Qr=>{Dr(an=>{assign$3(an,Qr)})}}),y._p.forEach(Qr=>{assign$3(rn,br.run(()=>Qr({store:rn,app:y._a,pinia:y,options:wr})))}),Nr&&_r&&d.hydrate&&d.hydrate(rn.$state,Nr),Or=!0,xr=!0,rn}function defineStore(u,c,d){let y,gr;const _r=typeof c=="function";typeof u=="string"?(y=u,gr=_r?d:c):(gr=u,y=u.id);function br(wr,Er){const Or=getCurrentInstance();return wr=wr||Or&&inject(piniaSymbol),wr&&setActivePinia(wr),wr=activePinia,wr._s.has(y)||(_r?createSetupStore(y,c,gr,wr):createOptionsStore(y,gr,wr)),wr._s.get(y)}return br.$id=y,br}function storeToRefs(u){{u=toRaw(u);const c={};for(const d in u){const y=u[d];(isRef(y)||isReactive(y))&&(c[d]=toRef(u,d))}return c}}var Side=(u=>(u.SELL="sell",u.BUY="buy",u))(Side||{});const useGlobalStore=defineStore("globalStore",{state:()=>({symbol:"FOODATLAS",side:{}}),actions:{init(){this.side="buy"}}}),SERUMAPIWEBSOCKET="wss://api.serum-vial.dev/v1/ws";class Convert{static toMarketLevel1(c){return JSON.parse(c)}static marketLevel1ToJson(c){return JSON.stringify(c)}}const useTokenPriceStore=defineStore({id:"tokenPriceStore",state:()=>({ws:{},btc:"0.0",sol:"0.0",atlas:"0.0",polis:"0.0"}),actions:{init(){this.ws=new WebSocket(SERUMAPIWEBSOCKET);const u={op:"subscribe",channel:"level1",markets:["BTC/USDC"]},c={op:"subscribe",channel:"level1",markets:["SOL/USDC"]},d={op:"subscribe",channel:"level1",markets:["POLIS/USDC"]},y={op:"subscribe",channel:"level1",markets:["ATLAS/USDC"]};this.ws.onopen=()=>{this.ws.send(JSON.stringify(u)),this.ws.send(JSON.stringify(c)),this.ws.send(JSON.stringify(d)),this.ws.send(JSON.stringify(y))},this.ws.onmessage=gr=>{const _r=Convert.toMarketLevel1(gr.data);if(_r.type==="quote")switch(_r.market){case"BTC/USDC":this.btc=_r.bestBid[0];break;case"SOL/USDC":this.sol=_r.bestBid[0];break;case"ATLAS/USDC":this.atlas=_r.bestBid[0];break;case"POLIS/USDC":this.polis=_r.bestBid[0];break}}}}});var dist={},atlasStaking={},instruction_builders$1={},baseParams={};Object.defineProperty(baseParams,"__esModule",{value:!0});var cancelUnstake={},utils$3={},getStakingProgram$1={},buffer$1={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(u){const c=base64Js$1,d=ieee754$1,y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=wr,u.SlowBuffer=Zr,u.INSPECT_MAX_BYTES=50;const gr=2147483647;u.kMaxLength=gr,wr.TYPED_ARRAY_SUPPORT=_r(),!wr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _r(){try{const Tr=new Uint8Array(1),Sr={foo:function(){return 42}};return Object.setPrototypeOf(Sr,Uint8Array.prototype),Object.setPrototypeOf(Tr,Sr),Tr.foo()===42}catch{return!1}}Object.defineProperty(wr.prototype,"parent",{enumerable:!0,get:function(){if(!!wr.isBuffer(this))return this.buffer}}),Object.defineProperty(wr.prototype,"offset",{enumerable:!0,get:function(){if(!!wr.isBuffer(this))return this.byteOffset}});function br(Tr){if(Tr>gr)throw new RangeError('The value "'+Tr+'" is invalid for option "size"');const Sr=new Uint8Array(Tr);return Object.setPrototypeOf(Sr,wr.prototype),Sr}function wr(Tr,Sr,Ar){if(typeof Tr=="number"){if(typeof Sr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return kr(Tr)}return Er(Tr,Sr,Ar)}wr.poolSize=8192;function Er(Tr,Sr,Ar){if(typeof Tr=="string")return Mr(Tr,Sr);if(ArrayBuffer.isView(Tr))return Nr(Tr);if(Tr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tr);if(dn(Tr,ArrayBuffer)||Tr&&dn(Tr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dn(Tr,SharedArrayBuffer)||Tr&&dn(Tr.buffer,SharedArrayBuffer)))return Ur(Tr,Sr,Ar);if(typeof Tr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Pr=Tr.valueOf&&Tr.valueOf();if(Pr!=null&&Pr!==Tr)return wr.from(Pr,Sr,Ar);const jr=Dr(Tr);if(jr)return jr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Tr[Symbol.toPrimitive]=="function")return wr.from(Tr[Symbol.toPrimitive]("string"),Sr,Ar);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tr)}wr.from=function(Tr,Sr,Ar){return Er(Tr,Sr,Ar)},Object.setPrototypeOf(wr.prototype,Uint8Array.prototype),Object.setPrototypeOf(wr,Uint8Array);function Or(Tr){if(typeof Tr!="number")throw new TypeError('"size" argument must be of type number');if(Tr<0)throw new RangeError('The value "'+Tr+'" is invalid for option "size"')}function xr(Tr,Sr,Ar){return Or(Tr),Tr<=0?br(Tr):Sr!==void 0?typeof Ar=="string"?br(Tr).fill(Sr,Ar):br(Tr).fill(Sr):br(Tr)}wr.alloc=function(Tr,Sr,Ar){return xr(Tr,Sr,Ar)};function kr(Tr){return Or(Tr),br(Tr<0?0:zr(Tr)|0)}wr.allocUnsafe=function(Tr){return kr(Tr)},wr.allocUnsafeSlow=function(Tr){return kr(Tr)};function Mr(Tr,Sr){if((typeof Sr!="string"||Sr==="")&&(Sr="utf8"),!wr.isEncoding(Sr))throw new TypeError("Unknown encoding: "+Sr);const Ar=Wr(Tr,Sr)|0;let Pr=br(Ar);const jr=Pr.write(Tr,Sr);return jr!==Ar&&(Pr=Pr.slice(0,jr)),Pr}function Cr(Tr){const Sr=Tr.length<0?0:zr(Tr.length)|0,Ar=br(Sr);for(let Pr=0;Pr<Sr;Pr+=1)Ar[Pr]=Tr[Pr]&255;return Ar}function Nr(Tr){if(dn(Tr,Uint8Array)){const Sr=new Uint8Array(Tr);return Ur(Sr.buffer,Sr.byteOffset,Sr.byteLength)}return Cr(Tr)}function Ur(Tr,Sr,Ar){if(Sr<0||Tr.byteLength<Sr)throw new RangeError('"offset" is outside of buffer bounds');if(Tr.byteLength<Sr+(Ar||0))throw new RangeError('"length" is outside of buffer bounds');let Pr;return Sr===void 0&&Ar===void 0?Pr=new Uint8Array(Tr):Ar===void 0?Pr=new Uint8Array(Tr,Sr):Pr=new Uint8Array(Tr,Sr,Ar),Object.setPrototypeOf(Pr,wr.prototype),Pr}function Dr(Tr){if(wr.isBuffer(Tr)){const Sr=zr(Tr.length)|0,Ar=br(Sr);return Ar.length===0||Tr.copy(Ar,0,0,Sr),Ar}if(Tr.length!==void 0)return typeof Tr.length!="number"||vn(Tr.length)?br(0):Cr(Tr);if(Tr.type==="Buffer"&&Array.isArray(Tr.data))return Cr(Tr.data)}function zr(Tr){if(Tr>=gr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+gr.toString(16)+" bytes");return Tr|0}function Zr(Tr){return+Tr!=Tr&&(Tr=0),wr.alloc(+Tr)}wr.isBuffer=function(Sr){return Sr!=null&&Sr._isBuffer===!0&&Sr!==wr.prototype},wr.compare=function(Sr,Ar){if(dn(Sr,Uint8Array)&&(Sr=wr.from(Sr,Sr.offset,Sr.byteLength)),dn(Ar,Uint8Array)&&(Ar=wr.from(Ar,Ar.offset,Ar.byteLength)),!wr.isBuffer(Sr)||!wr.isBuffer(Ar))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Sr===Ar)return 0;let Pr=Sr.length,jr=Ar.length;for(let Gr=0,nn=Math.min(Pr,jr);Gr<nn;++Gr)if(Sr[Gr]!==Ar[Gr]){Pr=Sr[Gr],jr=Ar[Gr];break}return Pr<jr?-1:jr<Pr?1:0},wr.isEncoding=function(Sr){switch(String(Sr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},wr.concat=function(Sr,Ar){if(!Array.isArray(Sr))throw new TypeError('"list" argument must be an Array of Buffers');if(Sr.length===0)return wr.alloc(0);let Pr;if(Ar===void 0)for(Ar=0,Pr=0;Pr<Sr.length;++Pr)Ar+=Sr[Pr].length;const jr=wr.allocUnsafe(Ar);let Gr=0;for(Pr=0;Pr<Sr.length;++Pr){let nn=Sr[Pr];if(dn(nn,Uint8Array))Gr+nn.length>jr.length?(wr.isBuffer(nn)||(nn=wr.from(nn)),nn.copy(jr,Gr)):Uint8Array.prototype.set.call(jr,nn,Gr);else if(wr.isBuffer(nn))nn.copy(jr,Gr);else throw new TypeError('"list" argument must be an Array of Buffers');Gr+=nn.length}return jr};function Wr(Tr,Sr){if(wr.isBuffer(Tr))return Tr.length;if(ArrayBuffer.isView(Tr)||dn(Tr,ArrayBuffer))return Tr.byteLength;if(typeof Tr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Tr);const Ar=Tr.length,Pr=arguments.length>2&&arguments[2]===!0;if(!Pr&&Ar===0)return 0;let jr=!1;for(;;)switch(Sr){case"ascii":case"latin1":case"binary":return Ar;case"utf8":case"utf-8":return kn(Tr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ar*2;case"hex":return Ar>>>1;case"base64":return Un(Tr).length;default:if(jr)return Pr?-1:kn(Tr).length;Sr=(""+Sr).toLowerCase(),jr=!0}}wr.byteLength=Wr;function tn(Tr,Sr,Ar){let Pr=!1;if((Sr===void 0||Sr<0)&&(Sr=0),Sr>this.length||((Ar===void 0||Ar>this.length)&&(Ar=this.length),Ar<=0)||(Ar>>>=0,Sr>>>=0,Ar<=Sr))return"";for(Tr||(Tr="utf8");;)switch(Tr){case"hex":return hn(this,Sr,Ar);case"utf8":case"utf-8":return Rr(this,Sr,Ar);case"ascii":return Yr(this,Sr,Ar);case"latin1":case"binary":return Xr(this,Sr,Ar);case"base64":return Fr(this,Sr,Ar);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return En(this,Sr,Ar);default:if(Pr)throw new TypeError("Unknown encoding: "+Tr);Tr=(Tr+"").toLowerCase(),Pr=!0}}wr.prototype._isBuffer=!0;function rn(Tr,Sr,Ar){const Pr=Tr[Sr];Tr[Sr]=Tr[Ar],Tr[Ar]=Pr}wr.prototype.swap16=function(){const Sr=this.length;if(Sr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ar=0;Ar<Sr;Ar+=2)rn(this,Ar,Ar+1);return this},wr.prototype.swap32=function(){const Sr=this.length;if(Sr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ar=0;Ar<Sr;Ar+=4)rn(this,Ar,Ar+3),rn(this,Ar+1,Ar+2);return this},wr.prototype.swap64=function(){const Sr=this.length;if(Sr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ar=0;Ar<Sr;Ar+=8)rn(this,Ar,Ar+7),rn(this,Ar+1,Ar+6),rn(this,Ar+2,Ar+5),rn(this,Ar+3,Ar+4);return this},wr.prototype.toString=function(){const Sr=this.length;return Sr===0?"":arguments.length===0?Rr(this,0,Sr):tn.apply(this,arguments)},wr.prototype.toLocaleString=wr.prototype.toString,wr.prototype.equals=function(Sr){if(!wr.isBuffer(Sr))throw new TypeError("Argument must be a Buffer");return this===Sr?!0:wr.compare(this,Sr)===0},wr.prototype.inspect=function(){let Sr="";const Ar=u.INSPECT_MAX_BYTES;return Sr=this.toString("hex",0,Ar).replace(/(.{2})/g,"$1 ").trim(),this.length>Ar&&(Sr+=" ... "),"<Buffer "+Sr+">"},y&&(wr.prototype[y]=wr.prototype.inspect),wr.prototype.compare=function(Sr,Ar,Pr,jr,Gr){if(dn(Sr,Uint8Array)&&(Sr=wr.from(Sr,Sr.offset,Sr.byteLength)),!wr.isBuffer(Sr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Sr);if(Ar===void 0&&(Ar=0),Pr===void 0&&(Pr=Sr?Sr.length:0),jr===void 0&&(jr=0),Gr===void 0&&(Gr=this.length),Ar<0||Pr>Sr.length||jr<0||Gr>this.length)throw new RangeError("out of range index");if(jr>=Gr&&Ar>=Pr)return 0;if(jr>=Gr)return-1;if(Ar>=Pr)return 1;if(Ar>>>=0,Pr>>>=0,jr>>>=0,Gr>>>=0,this===Sr)return 0;let nn=Gr-jr,Kn=Pr-Ar;const Yn=Math.min(nn,Kn),Hn=this.slice(jr,Gr),Jn=Sr.slice(Ar,Pr);for(let Gn=0;Gn<Yn;++Gn)if(Hn[Gn]!==Jn[Gn]){nn=Hn[Gn],Kn=Jn[Gn];break}return nn<Kn?-1:Kn<nn?1:0};function Jr(Tr,Sr,Ar,Pr,jr){if(Tr.length===0)return-1;if(typeof Ar=="string"?(Pr=Ar,Ar=0):Ar>2147483647?Ar=2147483647:Ar<-2147483648&&(Ar=-2147483648),Ar=+Ar,vn(Ar)&&(Ar=jr?0:Tr.length-1),Ar<0&&(Ar=Tr.length+Ar),Ar>=Tr.length){if(jr)return-1;Ar=Tr.length-1}else if(Ar<0)if(jr)Ar=0;else return-1;if(typeof Sr=="string"&&(Sr=wr.from(Sr,Pr)),wr.isBuffer(Sr))return Sr.length===0?-1:Qr(Tr,Sr,Ar,Pr,jr);if(typeof Sr=="number")return Sr=Sr&255,typeof Uint8Array.prototype.indexOf=="function"?jr?Uint8Array.prototype.indexOf.call(Tr,Sr,Ar):Uint8Array.prototype.lastIndexOf.call(Tr,Sr,Ar):Qr(Tr,[Sr],Ar,Pr,jr);throw new TypeError("val must be string, number or Buffer")}function Qr(Tr,Sr,Ar,Pr,jr){let Gr=1,nn=Tr.length,Kn=Sr.length;if(Pr!==void 0&&(Pr=String(Pr).toLowerCase(),Pr==="ucs2"||Pr==="ucs-2"||Pr==="utf16le"||Pr==="utf-16le")){if(Tr.length<2||Sr.length<2)return-1;Gr=2,nn/=2,Kn/=2,Ar/=2}function Yn(Jn,Gn){return Gr===1?Jn[Gn]:Jn.readUInt16BE(Gn*Gr)}let Hn;if(jr){let Jn=-1;for(Hn=Ar;Hn<nn;Hn++)if(Yn(Tr,Hn)===Yn(Sr,Jn===-1?0:Hn-Jn)){if(Jn===-1&&(Jn=Hn),Hn-Jn+1===Kn)return Jn*Gr}else Jn!==-1&&(Hn-=Hn-Jn),Jn=-1}else for(Ar+Kn>nn&&(Ar=nn-Kn),Hn=Ar;Hn>=0;Hn--){let Jn=!0;for(let Gn=0;Gn<Kn;Gn++)if(Yn(Tr,Hn+Gn)!==Yn(Sr,Gn)){Jn=!1;break}if(Jn)return Hn}return-1}wr.prototype.includes=function(Sr,Ar,Pr){return this.indexOf(Sr,Ar,Pr)!==-1},wr.prototype.indexOf=function(Sr,Ar,Pr){return Jr(this,Sr,Ar,Pr,!0)},wr.prototype.lastIndexOf=function(Sr,Ar,Pr){return Jr(this,Sr,Ar,Pr,!1)};function an(Tr,Sr,Ar,Pr){Ar=Number(Ar)||0;const jr=Tr.length-Ar;Pr?(Pr=Number(Pr),Pr>jr&&(Pr=jr)):Pr=jr;const Gr=Sr.length;Pr>Gr/2&&(Pr=Gr/2);let nn;for(nn=0;nn<Pr;++nn){const Kn=parseInt(Sr.substr(nn*2,2),16);if(vn(Kn))return nn;Tr[Ar+nn]=Kn}return nn}function mn(Tr,Sr,Ar,Pr){return Dn(kn(Sr,Tr.length-Ar),Tr,Ar,Pr)}function fn(Tr,Sr,Ar,Pr){return Dn(Fn(Sr),Tr,Ar,Pr)}function gn(Tr,Sr,Ar,Pr){return Dn(Un(Sr),Tr,Ar,Pr)}function Sn(Tr,Sr,Ar,Pr){return Dn(xn(Sr,Tr.length-Ar),Tr,Ar,Pr)}wr.prototype.write=function(Sr,Ar,Pr,jr){if(Ar===void 0)jr="utf8",Pr=this.length,Ar=0;else if(Pr===void 0&&typeof Ar=="string")jr=Ar,Pr=this.length,Ar=0;else if(isFinite(Ar))Ar=Ar>>>0,isFinite(Pr)?(Pr=Pr>>>0,jr===void 0&&(jr="utf8")):(jr=Pr,Pr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Gr=this.length-Ar;if((Pr===void 0||Pr>Gr)&&(Pr=Gr),Sr.length>0&&(Pr<0||Ar<0)||Ar>this.length)throw new RangeError("Attempt to write outside buffer bounds");jr||(jr="utf8");let nn=!1;for(;;)switch(jr){case"hex":return an(this,Sr,Ar,Pr);case"utf8":case"utf-8":return mn(this,Sr,Ar,Pr);case"ascii":case"latin1":case"binary":return fn(this,Sr,Ar,Pr);case"base64":return gn(this,Sr,Ar,Pr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sn(this,Sr,Ar,Pr);default:if(nn)throw new TypeError("Unknown encoding: "+jr);jr=(""+jr).toLowerCase(),nn=!0}},wr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fr(Tr,Sr,Ar){return Sr===0&&Ar===Tr.length?c.fromByteArray(Tr):c.fromByteArray(Tr.slice(Sr,Ar))}function Rr(Tr,Sr,Ar){Ar=Math.min(Tr.length,Ar);const Pr=[];let jr=Sr;for(;jr<Ar;){const Gr=Tr[jr];let nn=null,Kn=Gr>239?4:Gr>223?3:Gr>191?2:1;if(jr+Kn<=Ar){let Yn,Hn,Jn,Gn;switch(Kn){case 1:Gr<128&&(nn=Gr);break;case 2:Yn=Tr[jr+1],(Yn&192)===128&&(Gn=(Gr&31)<<6|Yn&63,Gn>127&&(nn=Gn));break;case 3:Yn=Tr[jr+1],Hn=Tr[jr+2],(Yn&192)===128&&(Hn&192)===128&&(Gn=(Gr&15)<<12|(Yn&63)<<6|Hn&63,Gn>2047&&(Gn<55296||Gn>57343)&&(nn=Gn));break;case 4:Yn=Tr[jr+1],Hn=Tr[jr+2],Jn=Tr[jr+3],(Yn&192)===128&&(Hn&192)===128&&(Jn&192)===128&&(Gn=(Gr&15)<<18|(Yn&63)<<12|(Hn&63)<<6|Jn&63,Gn>65535&&Gn<1114112&&(nn=Gn))}}nn===null?(nn=65533,Kn=1):nn>65535&&(nn-=65536,Pr.push(nn>>>10&1023|55296),nn=56320|nn&1023),Pr.push(nn),jr+=Kn}return Vr(Pr)}const Lr=4096;function Vr(Tr){const Sr=Tr.length;if(Sr<=Lr)return String.fromCharCode.apply(String,Tr);let Ar="",Pr=0;for(;Pr<Sr;)Ar+=String.fromCharCode.apply(String,Tr.slice(Pr,Pr+=Lr));return Ar}function Yr(Tr,Sr,Ar){let Pr="";Ar=Math.min(Tr.length,Ar);for(let jr=Sr;jr<Ar;++jr)Pr+=String.fromCharCode(Tr[jr]&127);return Pr}function Xr(Tr,Sr,Ar){let Pr="";Ar=Math.min(Tr.length,Ar);for(let jr=Sr;jr<Ar;++jr)Pr+=String.fromCharCode(Tr[jr]);return Pr}function hn(Tr,Sr,Ar){const Pr=Tr.length;(!Sr||Sr<0)&&(Sr=0),(!Ar||Ar<0||Ar>Pr)&&(Ar=Pr);let jr="";for(let Gr=Sr;Gr<Ar;++Gr)jr+=Rn[Tr[Gr]];return jr}function En(Tr,Sr,Ar){const Pr=Tr.slice(Sr,Ar);let jr="";for(let Gr=0;Gr<Pr.length-1;Gr+=2)jr+=String.fromCharCode(Pr[Gr]+Pr[Gr+1]*256);return jr}wr.prototype.slice=function(Sr,Ar){const Pr=this.length;Sr=~~Sr,Ar=Ar===void 0?Pr:~~Ar,Sr<0?(Sr+=Pr,Sr<0&&(Sr=0)):Sr>Pr&&(Sr=Pr),Ar<0?(Ar+=Pr,Ar<0&&(Ar=0)):Ar>Pr&&(Ar=Pr),Ar<Sr&&(Ar=Sr);const jr=this.subarray(Sr,Ar);return Object.setPrototypeOf(jr,wr.prototype),jr};function qr(Tr,Sr,Ar){if(Tr%1!==0||Tr<0)throw new RangeError("offset is not uint");if(Tr+Sr>Ar)throw new RangeError("Trying to access beyond buffer length")}wr.prototype.readUintLE=wr.prototype.readUIntLE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr],Gr=1,nn=0;for(;++nn<Ar&&(Gr*=256);)jr+=this[Sr+nn]*Gr;return jr},wr.prototype.readUintBE=wr.prototype.readUIntBE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr+--Ar],Gr=1;for(;Ar>0&&(Gr*=256);)jr+=this[Sr+--Ar]*Gr;return jr},wr.prototype.readUint8=wr.prototype.readUInt8=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,1,this.length),this[Sr]},wr.prototype.readUint16LE=wr.prototype.readUInt16LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,2,this.length),this[Sr]|this[Sr+1]<<8},wr.prototype.readUint16BE=wr.prototype.readUInt16BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,2,this.length),this[Sr]<<8|this[Sr+1]},wr.prototype.readUint32LE=wr.prototype.readUInt32LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),(this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16)+this[Sr+3]*16777216},wr.prototype.readUint32BE=wr.prototype.readUInt32BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]*16777216+(this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3])},wr.prototype.readBigUInt64LE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=Ar+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24,Gr=this[++Sr]+this[++Sr]*2**8+this[++Sr]*2**16+Pr*2**24;return BigInt(jr)+(BigInt(Gr)<<BigInt(32))}),wr.prototype.readBigUInt64BE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=Ar*2**24+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr],Gr=this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Pr;return(BigInt(jr)<<BigInt(32))+BigInt(Gr)}),wr.prototype.readIntLE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr],Gr=1,nn=0;for(;++nn<Ar&&(Gr*=256);)jr+=this[Sr+nn]*Gr;return Gr*=128,jr>=Gr&&(jr-=Math.pow(2,8*Ar)),jr},wr.prototype.readIntBE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=Ar,Gr=1,nn=this[Sr+--jr];for(;jr>0&&(Gr*=256);)nn+=this[Sr+--jr]*Gr;return Gr*=128,nn>=Gr&&(nn-=Math.pow(2,8*Ar)),nn},wr.prototype.readInt8=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,1,this.length),this[Sr]&128?(255-this[Sr]+1)*-1:this[Sr]},wr.prototype.readInt16LE=function(Sr,Ar){Sr=Sr>>>0,Ar||qr(Sr,2,this.length);const Pr=this[Sr]|this[Sr+1]<<8;return Pr&32768?Pr|4294901760:Pr},wr.prototype.readInt16BE=function(Sr,Ar){Sr=Sr>>>0,Ar||qr(Sr,2,this.length);const Pr=this[Sr+1]|this[Sr]<<8;return Pr&32768?Pr|4294901760:Pr},wr.prototype.readInt32LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16|this[Sr+3]<<24},wr.prototype.readInt32BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]<<24|this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3]},wr.prototype.readBigInt64LE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=this[Sr+4]+this[Sr+5]*2**8+this[Sr+6]*2**16+(Pr<<24);return(BigInt(jr)<<BigInt(32))+BigInt(Ar+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24)}),wr.prototype.readBigInt64BE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=(Ar<<24)+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr];return(BigInt(jr)<<BigInt(32))+BigInt(this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Pr)}),wr.prototype.readFloatLE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),d.read(this,Sr,!0,23,4)},wr.prototype.readFloatBE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),d.read(this,Sr,!1,23,4)},wr.prototype.readDoubleLE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,8,this.length),d.read(this,Sr,!0,52,8)},wr.prototype.readDoubleBE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,8,this.length),d.read(this,Sr,!1,52,8)};function Br(Tr,Sr,Ar,Pr,jr,Gr){if(!wr.isBuffer(Tr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Sr>jr||Sr<Gr)throw new RangeError('"value" argument is out of bounds');if(Ar+Pr>Tr.length)throw new RangeError("Index out of range")}wr.prototype.writeUintLE=wr.prototype.writeUIntLE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,Pr=Pr>>>0,!jr){const Kn=Math.pow(2,8*Pr)-1;Br(this,Sr,Ar,Pr,Kn,0)}let Gr=1,nn=0;for(this[Ar]=Sr&255;++nn<Pr&&(Gr*=256);)this[Ar+nn]=Sr/Gr&255;return Ar+Pr},wr.prototype.writeUintBE=wr.prototype.writeUIntBE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,Pr=Pr>>>0,!jr){const Kn=Math.pow(2,8*Pr)-1;Br(this,Sr,Ar,Pr,Kn,0)}let Gr=Pr-1,nn=1;for(this[Ar+Gr]=Sr&255;--Gr>=0&&(nn*=256);)this[Ar+Gr]=Sr/nn&255;return Ar+Pr},wr.prototype.writeUint8=wr.prototype.writeUInt8=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,1,255,0),this[Ar]=Sr&255,Ar+1},wr.prototype.writeUint16LE=wr.prototype.writeUInt16LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,65535,0),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,Ar+2},wr.prototype.writeUint16BE=wr.prototype.writeUInt16BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,65535,0),this[Ar]=Sr>>>8,this[Ar+1]=Sr&255,Ar+2},wr.prototype.writeUint32LE=wr.prototype.writeUInt32LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,4294967295,0),this[Ar+3]=Sr>>>24,this[Ar+2]=Sr>>>16,this[Ar+1]=Sr>>>8,this[Ar]=Sr&255,Ar+4},wr.prototype.writeUint32BE=wr.prototype.writeUInt32BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,4294967295,0),this[Ar]=Sr>>>24,this[Ar+1]=Sr>>>16,this[Ar+2]=Sr>>>8,this[Ar+3]=Sr&255,Ar+4};function Hr(Tr,Sr,Ar,Pr,jr){Cn(Sr,Pr,jr,Tr,Ar,7);let Gr=Number(Sr&BigInt(4294967295));Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr;let nn=Number(Sr>>BigInt(32)&BigInt(4294967295));return Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,Ar}function _n(Tr,Sr,Ar,Pr,jr){Cn(Sr,Pr,jr,Tr,Ar,7);let Gr=Number(Sr&BigInt(4294967295));Tr[Ar+7]=Gr,Gr=Gr>>8,Tr[Ar+6]=Gr,Gr=Gr>>8,Tr[Ar+5]=Gr,Gr=Gr>>8,Tr[Ar+4]=Gr;let nn=Number(Sr>>BigInt(32)&BigInt(4294967295));return Tr[Ar+3]=nn,nn=nn>>8,Tr[Ar+2]=nn,nn=nn>>8,Tr[Ar+1]=nn,nn=nn>>8,Tr[Ar]=nn,Ar+8}wr.prototype.writeBigUInt64LE=Bn(function(Sr,Ar=0){return Hr(this,Sr,Ar,BigInt(0),BigInt("0xffffffffffffffff"))}),wr.prototype.writeBigUInt64BE=Bn(function(Sr,Ar=0){return _n(this,Sr,Ar,BigInt(0),BigInt("0xffffffffffffffff"))}),wr.prototype.writeIntLE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,!jr){const Yn=Math.pow(2,8*Pr-1);Br(this,Sr,Ar,Pr,Yn-1,-Yn)}let Gr=0,nn=1,Kn=0;for(this[Ar]=Sr&255;++Gr<Pr&&(nn*=256);)Sr<0&&Kn===0&&this[Ar+Gr-1]!==0&&(Kn=1),this[Ar+Gr]=(Sr/nn>>0)-Kn&255;return Ar+Pr},wr.prototype.writeIntBE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,!jr){const Yn=Math.pow(2,8*Pr-1);Br(this,Sr,Ar,Pr,Yn-1,-Yn)}let Gr=Pr-1,nn=1,Kn=0;for(this[Ar+Gr]=Sr&255;--Gr>=0&&(nn*=256);)Sr<0&&Kn===0&&this[Ar+Gr+1]!==0&&(Kn=1),this[Ar+Gr]=(Sr/nn>>0)-Kn&255;return Ar+Pr},wr.prototype.writeInt8=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,1,127,-128),Sr<0&&(Sr=255+Sr+1),this[Ar]=Sr&255,Ar+1},wr.prototype.writeInt16LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,32767,-32768),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,Ar+2},wr.prototype.writeInt16BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,32767,-32768),this[Ar]=Sr>>>8,this[Ar+1]=Sr&255,Ar+2},wr.prototype.writeInt32LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,2147483647,-2147483648),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,this[Ar+2]=Sr>>>16,this[Ar+3]=Sr>>>24,Ar+4},wr.prototype.writeInt32BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,2147483647,-2147483648),Sr<0&&(Sr=4294967295+Sr+1),this[Ar]=Sr>>>24,this[Ar+1]=Sr>>>16,this[Ar+2]=Sr>>>8,this[Ar+3]=Sr&255,Ar+4},wr.prototype.writeBigInt64LE=Bn(function(Sr,Ar=0){return Hr(this,Sr,Ar,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),wr.prototype.writeBigInt64BE=Bn(function(Sr,Ar=0){return _n(this,Sr,Ar,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function on(Tr,Sr,Ar,Pr,jr,Gr){if(Ar+Pr>Tr.length)throw new RangeError("Index out of range");if(Ar<0)throw new RangeError("Index out of range")}function sn(Tr,Sr,Ar,Pr,jr){return Sr=+Sr,Ar=Ar>>>0,jr||on(Tr,Sr,Ar,4),d.write(Tr,Sr,Ar,Pr,23,4),Ar+4}wr.prototype.writeFloatLE=function(Sr,Ar,Pr){return sn(this,Sr,Ar,!0,Pr)},wr.prototype.writeFloatBE=function(Sr,Ar,Pr){return sn(this,Sr,Ar,!1,Pr)};function yn(Tr,Sr,Ar,Pr,jr){return Sr=+Sr,Ar=Ar>>>0,jr||on(Tr,Sr,Ar,8),d.write(Tr,Sr,Ar,Pr,52,8),Ar+8}wr.prototype.writeDoubleLE=function(Sr,Ar,Pr){return yn(this,Sr,Ar,!0,Pr)},wr.prototype.writeDoubleBE=function(Sr,Ar,Pr){return yn(this,Sr,Ar,!1,Pr)},wr.prototype.copy=function(Sr,Ar,Pr,jr){if(!wr.isBuffer(Sr))throw new TypeError("argument should be a Buffer");if(Pr||(Pr=0),!jr&&jr!==0&&(jr=this.length),Ar>=Sr.length&&(Ar=Sr.length),Ar||(Ar=0),jr>0&&jr<Pr&&(jr=Pr),jr===Pr||Sr.length===0||this.length===0)return 0;if(Ar<0)throw new RangeError("targetStart out of bounds");if(Pr<0||Pr>=this.length)throw new RangeError("Index out of range");if(jr<0)throw new RangeError("sourceEnd out of bounds");jr>this.length&&(jr=this.length),Sr.length-Ar<jr-Pr&&(jr=Sr.length-Ar+Pr);const Gr=jr-Pr;return this===Sr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ar,Pr,jr):Uint8Array.prototype.set.call(Sr,this.subarray(Pr,jr),Ar),Gr},wr.prototype.fill=function(Sr,Ar,Pr,jr){if(typeof Sr=="string"){if(typeof Ar=="string"?(jr=Ar,Ar=0,Pr=this.length):typeof Pr=="string"&&(jr=Pr,Pr=this.length),jr!==void 0&&typeof jr!="string")throw new TypeError("encoding must be a string");if(typeof jr=="string"&&!wr.isEncoding(jr))throw new TypeError("Unknown encoding: "+jr);if(Sr.length===1){const nn=Sr.charCodeAt(0);(jr==="utf8"&&nn<128||jr==="latin1")&&(Sr=nn)}}else typeof Sr=="number"?Sr=Sr&255:typeof Sr=="boolean"&&(Sr=Number(Sr));if(Ar<0||this.length<Ar||this.length<Pr)throw new RangeError("Out of range index");if(Pr<=Ar)return this;Ar=Ar>>>0,Pr=Pr===void 0?this.length:Pr>>>0,Sr||(Sr=0);let Gr;if(typeof Sr=="number")for(Gr=Ar;Gr<Pr;++Gr)this[Gr]=Sr;else{const nn=wr.isBuffer(Sr)?Sr:wr.from(Sr,jr),Kn=nn.length;if(Kn===0)throw new TypeError('The value "'+Sr+'" is invalid for argument "value"');for(Gr=0;Gr<Pr-Ar;++Gr)this[Gr+Ar]=nn[Gr%Kn]}return this};const wn={};function In(Tr,Sr,Ar){wn[Tr]=class extends Ar{constructor(){super(),Object.defineProperty(this,"message",{value:Sr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Tr}]`,this.stack,delete this.name}get code(){return Tr}set code(jr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:jr,writable:!0})}toString(){return`${this.name} [${Tr}]: ${this.message}`}}}In("ERR_BUFFER_OUT_OF_BOUNDS",function(Tr){return Tr?`${Tr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),In("ERR_INVALID_ARG_TYPE",function(Tr,Sr){return`The "${Tr}" argument must be of type number. Received type ${typeof Sr}`},TypeError),In("ERR_OUT_OF_RANGE",function(Tr,Sr,Ar){let Pr=`The value of "${Tr}" is out of range.`,jr=Ar;return Number.isInteger(Ar)&&Math.abs(Ar)>2**32?jr=Mn(String(Ar)):typeof Ar=="bigint"&&(jr=String(Ar),(Ar>BigInt(2)**BigInt(32)||Ar<-(BigInt(2)**BigInt(32)))&&(jr=Mn(jr)),jr+="n"),Pr+=` It must be ${Sr}. Received ${jr}`,Pr},RangeError);function Mn(Tr){let Sr="",Ar=Tr.length;const Pr=Tr[0]==="-"?1:0;for(;Ar>=Pr+4;Ar-=3)Sr=`_${Tr.slice(Ar-3,Ar)}${Sr}`;return`${Tr.slice(0,Ar)}${Sr}`}function Ln(Tr,Sr,Ar){ln(Sr,"offset"),(Tr[Sr]===void 0||Tr[Sr+Ar]===void 0)&&pn(Sr,Tr.length-(Ar+1))}function Cn(Tr,Sr,Ar,Pr,jr,Gr){if(Tr>Ar||Tr<Sr){const nn=typeof Sr=="bigint"?"n":"";let Kn;throw Gr>3?Sr===0||Sr===BigInt(0)?Kn=`>= 0${nn} and < 2${nn} ** ${(Gr+1)*8}${nn}`:Kn=`>= -(2${nn} ** ${(Gr+1)*8-1}${nn}) and < 2 ** ${(Gr+1)*8-1}${nn}`:Kn=`>= ${Sr}${nn} and <= ${Ar}${nn}`,new wn.ERR_OUT_OF_RANGE("value",Kn,Tr)}Ln(Pr,jr,Gr)}function ln(Tr,Sr){if(typeof Tr!="number")throw new wn.ERR_INVALID_ARG_TYPE(Sr,"number",Tr)}function pn(Tr,Sr,Ar){throw Math.floor(Tr)!==Tr?(ln(Tr,Ar),new wn.ERR_OUT_OF_RANGE(Ar||"offset","an integer",Tr)):Sr<0?new wn.ERR_BUFFER_OUT_OF_BOUNDS:new wn.ERR_OUT_OF_RANGE(Ar||"offset",`>= ${Ar?1:0} and <= ${Sr}`,Tr)}const On=/[^+/0-9A-Za-z-_]/g;function Nn(Tr){if(Tr=Tr.split("=")[0],Tr=Tr.trim().replace(On,""),Tr.length<2)return"";for(;Tr.length%4!==0;)Tr=Tr+"=";return Tr}function kn(Tr,Sr){Sr=Sr||1/0;let Ar;const Pr=Tr.length;let jr=null;const Gr=[];for(let nn=0;nn<Pr;++nn){if(Ar=Tr.charCodeAt(nn),Ar>55295&&Ar<57344){if(!jr){if(Ar>56319){(Sr-=3)>-1&&Gr.push(239,191,189);continue}else if(nn+1===Pr){(Sr-=3)>-1&&Gr.push(239,191,189);continue}jr=Ar;continue}if(Ar<56320){(Sr-=3)>-1&&Gr.push(239,191,189),jr=Ar;continue}Ar=(jr-55296<<10|Ar-56320)+65536}else jr&&(Sr-=3)>-1&&Gr.push(239,191,189);if(jr=null,Ar<128){if((Sr-=1)<0)break;Gr.push(Ar)}else if(Ar<2048){if((Sr-=2)<0)break;Gr.push(Ar>>6|192,Ar&63|128)}else if(Ar<65536){if((Sr-=3)<0)break;Gr.push(Ar>>12|224,Ar>>6&63|128,Ar&63|128)}else if(Ar<1114112){if((Sr-=4)<0)break;Gr.push(Ar>>18|240,Ar>>12&63|128,Ar>>6&63|128,Ar&63|128)}else throw new Error("Invalid code point")}return Gr}function Fn(Tr){const Sr=[];for(let Ar=0;Ar<Tr.length;++Ar)Sr.push(Tr.charCodeAt(Ar)&255);return Sr}function xn(Tr,Sr){let Ar,Pr,jr;const Gr=[];for(let nn=0;nn<Tr.length&&!((Sr-=2)<0);++nn)Ar=Tr.charCodeAt(nn),Pr=Ar>>8,jr=Ar%256,Gr.push(jr),Gr.push(Pr);return Gr}function Un(Tr){return c.toByteArray(Nn(Tr))}function Dn(Tr,Sr,Ar,Pr){let jr;for(jr=0;jr<Pr&&!(jr+Ar>=Sr.length||jr>=Tr.length);++jr)Sr[jr+Ar]=Tr[jr];return jr}function dn(Tr,Sr){return Tr instanceof Sr||Tr!=null&&Tr.constructor!=null&&Tr.constructor.name!=null&&Tr.constructor.name===Sr.name}function vn(Tr){return Tr!==Tr}const Rn=function(){const Tr="0123456789abcdef",Sr=new Array(256);for(let Ar=0;Ar<16;++Ar){const Pr=Ar*16;for(let jr=0;jr<16;++jr)Sr[Pr+jr]=Tr[Ar]+Tr[jr]}return Sr}();function Bn(Tr){return typeof BigInt>"u"?jn:Tr}function jn(){throw new Error("BigInt not supported")}})(buffer$1);function number$1(u){if(!Number.isSafeInteger(u)||u<0)throw new Error(`Wrong positive integer: ${u}`)}function bool(u){if(typeof u!="boolean")throw new Error(`Expected boolean, not ${u}`)}function bytes(u,...c){if(!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length>0&&!c.includes(u.length))throw new TypeError(`Expected Uint8Array of length ${c}, not of length=${u.length}`)}function hash(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(u.outputLen),number$1(u.blockLen)}function exists(u,c=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(c&&u.finished)throw new Error("Hash#digest() has already been called")}function output(u,c){bytes(u);const d=c.outputLen;if(u.length<d)throw new Error(`digestInto() expects output buffer of length at least ${d}`)}const assert$4={number:number$1,bool,bytes,hash,exists,output};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32$2=u=>new Uint32Array(u.buffer,u.byteOffset,Math.floor(u.byteLength/4)),createView=u=>new DataView(u.buffer,u.byteOffset,u.byteLength),rotr=(u,c)=>u<<32-c|u>>>c,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(u,c)=>c.toString(16).padStart(2,"0"));function utf8ToBytes(u){if(typeof u!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof u}`);return new TextEncoder().encode(u)}function toBytes(u){if(typeof u=="string"&&(u=utf8ToBytes(u)),!(u instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof u})`);return u}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(u){const c=y=>u().update(toBytes(y)).digest(),d=u();return c.outputLen=d.outputLen,c.blockLen=d.blockLen,c.create=()=>u(),c}function wrapConstructorWithOpts(u){const c=(y,gr)=>u(gr).update(toBytes(y)).digest(),d=u({});return c.outputLen=d.outputLen,c.blockLen=d.blockLen,c.create=y=>u(y),c}function setBigUint64(u,c,d,y){if(typeof u.setBigUint64=="function")return u.setBigUint64(c,d,y);const gr=BigInt(32),_r=BigInt(4294967295),br=Number(d>>gr&_r),wr=Number(d&_r),Er=y?4:0,Or=y?0:4;u.setUint32(c+Er,br,y),u.setUint32(c+Or,wr,y)}class SHA2 extends Hash{constructor(c,d,y,gr){super(),this.blockLen=c,this.outputLen=d,this.padOffset=y,this.isLE=gr,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(c),this.view=createView(this.buffer)}update(c){assert$4.exists(this);const{view:d,buffer:y,blockLen:gr}=this;c=toBytes(c);const _r=c.length;for(let br=0;br<_r;){const wr=Math.min(gr-this.pos,_r-br);if(wr===gr){const Er=createView(c);for(;gr<=_r-br;br+=gr)this.process(Er,br);continue}y.set(c.subarray(br,br+wr),this.pos),this.pos+=wr,br+=wr,this.pos===gr&&(this.process(d,0),this.pos=0)}return this.length+=c.length,this.roundClean(),this}digestInto(c){assert$4.exists(this),assert$4.output(c,this),this.finished=!0;const{buffer:d,view:y,blockLen:gr,isLE:_r}=this;let{pos:br}=this;d[br++]=128,this.buffer.subarray(br).fill(0),this.padOffset>gr-br&&(this.process(y,0),br=0);for(let Er=br;Er<gr;Er++)d[Er]=0;setBigUint64(y,gr-8,BigInt(this.length*8),_r),this.process(y,0);const wr=createView(c);this.get().forEach((Er,Or)=>wr.setUint32(4*Or,Er,_r))}digest(){const{buffer:c,outputLen:d}=this;this.digestInto(c);const y=c.slice(0,d);return this.destroy(),y}_cloneInto(c){c||(c=new this.constructor),c.set(...this.get());const{blockLen:d,buffer:y,length:gr,finished:_r,destroyed:br,pos:wr}=this;return c.length=gr,c.pos=wr,c.finished=_r,c.destroyed=br,gr%d&&c.buffer.set(y),c}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(u,c=!1){return c?{h:Number(u&U32_MASK64),l:Number(u>>_32n&U32_MASK64)}:{h:Number(u>>_32n&U32_MASK64)|0,l:Number(u&U32_MASK64)|0}}function split(u,c=!1){let d=new Uint32Array(u.length),y=new Uint32Array(u.length);for(let gr=0;gr<u.length;gr++){const{h:_r,l:br}=fromBig(u[gr],c);[d[gr],y[gr]]=[_r,br]}return[d,y]}const toBig=(u,c)=>BigInt(u>>>0)<<_32n|BigInt(c>>>0),shrSH=(u,c,d)=>u>>>d,shrSL=(u,c,d)=>u<<32-d|c>>>d,rotrSH=(u,c,d)=>u>>>d|c<<32-d,rotrSL=(u,c,d)=>u<<32-d|c>>>d,rotrBH=(u,c,d)=>u<<64-d|c>>>d-32,rotrBL=(u,c,d)=>u>>>d-32|c<<64-d,rotr32H=(u,c)=>c,rotr32L=(u,c)=>u,rotlSH=(u,c,d)=>u<<d|c>>>32-d,rotlSL=(u,c,d)=>c<<d|u>>>32-d,rotlBH=(u,c,d)=>c<<d-32|u>>>64-d,rotlBL=(u,c,d)=>u<<d-32|c>>>64-d;function add(u,c,d,y){const gr=(c>>>0)+(y>>>0);return{h:u+d+(gr/2**32|0)|0,l:gr|0}}const add3L=(u,c,d)=>(u>>>0)+(c>>>0)+(d>>>0),add3H=(u,c,d,y)=>c+d+y+(u/2**32|0)|0,add4L=(u,c,d,y)=>(u>>>0)+(c>>>0)+(d>>>0)+(y>>>0),add4H=(u,c,d,y,gr)=>c+d+y+gr+(u/2**32|0)|0,add5L=(u,c,d,y,gr)=>(u>>>0)+(c>>>0)+(d>>>0)+(y>>>0)+(gr>>>0),add5H=(u,c,d,y,gr,_r)=>c+d+y+gr+_r+(u/2**32|0)|0,u64$2={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64$2.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(u=>BigInt(u))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:c,Al:d,Bh:y,Bl:gr,Ch:_r,Cl:br,Dh:wr,Dl:Er,Eh:Or,El:xr,Fh:kr,Fl:Mr,Gh:Cr,Gl:Nr,Hh:Ur,Hl:Dr}=this;return[c,d,y,gr,_r,br,wr,Er,Or,xr,kr,Mr,Cr,Nr,Ur,Dr]}set(c,d,y,gr,_r,br,wr,Er,Or,xr,kr,Mr,Cr,Nr,Ur,Dr){this.Ah=c|0,this.Al=d|0,this.Bh=y|0,this.Bl=gr|0,this.Ch=_r|0,this.Cl=br|0,this.Dh=wr|0,this.Dl=Er|0,this.Eh=Or|0,this.El=xr|0,this.Fh=kr|0,this.Fl=Mr|0,this.Gh=Cr|0,this.Gl=Nr|0,this.Hh=Ur|0,this.Hl=Dr|0}process(c,d){for(let Wr=0;Wr<16;Wr++,d+=4)SHA512_W_H[Wr]=c.getUint32(d),SHA512_W_L[Wr]=c.getUint32(d+=4);for(let Wr=16;Wr<80;Wr++){const tn=SHA512_W_H[Wr-15]|0,rn=SHA512_W_L[Wr-15]|0,Jr=u64$2.rotrSH(tn,rn,1)^u64$2.rotrSH(tn,rn,8)^u64$2.shrSH(tn,rn,7),Qr=u64$2.rotrSL(tn,rn,1)^u64$2.rotrSL(tn,rn,8)^u64$2.shrSL(tn,rn,7),an=SHA512_W_H[Wr-2]|0,mn=SHA512_W_L[Wr-2]|0,fn=u64$2.rotrSH(an,mn,19)^u64$2.rotrBH(an,mn,61)^u64$2.shrSH(an,mn,6),gn=u64$2.rotrSL(an,mn,19)^u64$2.rotrBL(an,mn,61)^u64$2.shrSL(an,mn,6),Sn=u64$2.add4L(Qr,gn,SHA512_W_L[Wr-7],SHA512_W_L[Wr-16]),Fr=u64$2.add4H(Sn,Jr,fn,SHA512_W_H[Wr-7],SHA512_W_H[Wr-16]);SHA512_W_H[Wr]=Fr|0,SHA512_W_L[Wr]=Sn|0}let{Ah:y,Al:gr,Bh:_r,Bl:br,Ch:wr,Cl:Er,Dh:Or,Dl:xr,Eh:kr,El:Mr,Fh:Cr,Fl:Nr,Gh:Ur,Gl:Dr,Hh:zr,Hl:Zr}=this;for(let Wr=0;Wr<80;Wr++){const tn=u64$2.rotrSH(kr,Mr,14)^u64$2.rotrSH(kr,Mr,18)^u64$2.rotrBH(kr,Mr,41),rn=u64$2.rotrSL(kr,Mr,14)^u64$2.rotrSL(kr,Mr,18)^u64$2.rotrBL(kr,Mr,41),Jr=kr&Cr^~kr&Ur,Qr=Mr&Nr^~Mr&Dr,an=u64$2.add5L(Zr,rn,Qr,SHA512_Kl[Wr],SHA512_W_L[Wr]),mn=u64$2.add5H(an,zr,tn,Jr,SHA512_Kh[Wr],SHA512_W_H[Wr]),fn=an|0,gn=u64$2.rotrSH(y,gr,28)^u64$2.rotrBH(y,gr,34)^u64$2.rotrBH(y,gr,39),Sn=u64$2.rotrSL(y,gr,28)^u64$2.rotrBL(y,gr,34)^u64$2.rotrBL(y,gr,39),Fr=y&_r^y&wr^_r&wr,Rr=gr&br^gr&Er^br&Er;zr=Ur|0,Zr=Dr|0,Ur=Cr|0,Dr=Nr|0,Cr=kr|0,Nr=Mr|0,{h:kr,l:Mr}=u64$2.add(Or|0,xr|0,mn|0,fn|0),Or=wr|0,xr=Er|0,wr=_r|0,Er=br|0,_r=y|0,br=gr|0;const Lr=u64$2.add3L(fn,Sn,Rr);y=u64$2.add3H(Lr,mn,gn,Fr),gr=Lr|0}({h:y,l:gr}=u64$2.add(this.Ah|0,this.Al|0,y|0,gr|0)),{h:_r,l:br}=u64$2.add(this.Bh|0,this.Bl|0,_r|0,br|0),{h:wr,l:Er}=u64$2.add(this.Ch|0,this.Cl|0,wr|0,Er|0),{h:Or,l:xr}=u64$2.add(this.Dh|0,this.Dl|0,Or|0,xr|0),{h:kr,l:Mr}=u64$2.add(this.Eh|0,this.El|0,kr|0,Mr|0),{h:Cr,l:Nr}=u64$2.add(this.Fh|0,this.Fl|0,Cr|0,Nr|0),{h:Ur,l:Dr}=u64$2.add(this.Gh|0,this.Gl|0,Ur|0,Dr|0),{h:zr,l:Zr}=u64$2.add(this.Hh|0,this.Hl|0,zr|0,Zr|0),this.set(y,gr,_r,br,wr,Er,Or,xr,kr,Mr,Cr,Nr,Ur,Dr,zr,Zr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const sha512=wrapConstructor(()=>new SHA512);wrapConstructor(()=>new SHA512_256);wrapConstructor(()=>new SHA384);const __viteBrowserExternal={},nodeCrypto=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1),_2n$2=BigInt(2),CU_O=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),CURVE$1=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:CU_O,n:CU_O,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),POW_2_256$1=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const SQRT_AD_MINUS_ONE=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),INVSQRT_A_MINUS_D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ONE_MINUS_D_SQ=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D_MINUS_ONE_SQ=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ExtendedPoint{constructor(c,d,y,gr){this.x=c,this.y=d,this.z=y,this.t=gr}static fromAffine(c){if(!(c instanceof Point$1))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return c.equals(Point$1.ZERO)?ExtendedPoint.ZERO:new ExtendedPoint(c.x,c.y,_1n$2,mod$1(c.x*c.y))}static toAffineBatch(c){const d=invertBatch$1(c.map(y=>y.z));return c.map((y,gr)=>y.toAffine(d[gr]))}static normalizeZ(c){return this.toAffineBatch(c).map(this.fromAffine)}equals(c){assertExtPoint(c);const{x:d,y,z:gr}=this,{x:_r,y:br,z:wr}=c,Er=mod$1(d*wr),Or=mod$1(_r*gr),xr=mod$1(y*wr),kr=mod$1(br*gr);return Er===Or&&xr===kr}negate(){return new ExtendedPoint(mod$1(-this.x),this.y,this.z,mod$1(-this.t))}double(){const{x:c,y:d,z:y}=this,{a:gr}=CURVE$1,_r=mod$1(c*c),br=mod$1(d*d),wr=mod$1(_2n$2*mod$1(y*y)),Er=mod$1(gr*_r),Or=c+d,xr=mod$1(mod$1(Or*Or)-_r-br),kr=Er+br,Mr=kr-wr,Cr=Er-br,Nr=mod$1(xr*Mr),Ur=mod$1(kr*Cr),Dr=mod$1(xr*Cr),zr=mod$1(Mr*kr);return new ExtendedPoint(Nr,Ur,zr,Dr)}add(c){assertExtPoint(c);const{x:d,y,z:gr,t:_r}=this,{x:br,y:wr,z:Er,t:Or}=c,xr=mod$1((y-d)*(wr+br)),kr=mod$1((y+d)*(wr-br)),Mr=mod$1(kr-xr);if(Mr===_0n$2)return this.double();const Cr=mod$1(gr*_2n$2*Or),Nr=mod$1(_r*_2n$2*Er),Ur=Nr+Cr,Dr=kr+xr,zr=Nr-Cr,Zr=mod$1(Ur*Mr),Wr=mod$1(Dr*zr),tn=mod$1(Ur*zr),rn=mod$1(Mr*Dr);return new ExtendedPoint(Zr,Wr,rn,tn)}subtract(c){return this.add(c.negate())}precomputeWindow(c){const d=1+256/c,y=[];let gr=this,_r=gr;for(let br=0;br<d;br++){_r=gr,y.push(_r);for(let wr=1;wr<2**(c-1);wr++)_r=_r.add(gr),y.push(_r);gr=_r.double()}return y}wNAF(c,d){!d&&this.equals(ExtendedPoint.BASE)&&(d=Point$1.BASE);const y=d&&d._WINDOW_SIZE||1;if(256%y)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let gr=d&&pointPrecomputes$1.get(d);gr||(gr=this.precomputeWindow(y),d&&y!==1&&(gr=ExtendedPoint.normalizeZ(gr),pointPrecomputes$1.set(d,gr)));let _r=ExtendedPoint.ZERO,br=ExtendedPoint.ZERO;const wr=1+256/y,Er=2**(y-1),Or=BigInt(2**y-1),xr=2**y,kr=BigInt(y);for(let Mr=0;Mr<wr;Mr++){const Cr=Mr*Er;let Nr=Number(c&Or);if(c>>=kr,Nr>Er&&(Nr-=xr,c+=_1n$2),Nr===0){let Ur=gr[Cr];Mr%2&&(Ur=Ur.negate()),br=br.add(Ur)}else{let Ur=gr[Cr+Math.abs(Nr)-1];Nr<0&&(Ur=Ur.negate()),_r=_r.add(Ur)}}return ExtendedPoint.normalizeZ([_r,br])[0]}multiply(c,d){return this.wNAF(normalizeScalar$1(c,CURVE$1.l),d)}multiplyUnsafe(c){let d=normalizeScalar$1(c,CURVE$1.l,!1);const y=ExtendedPoint.BASE,gr=ExtendedPoint.ZERO;if(d===_0n$2)return gr;if(this.equals(gr)||d===_1n$2)return this;if(this.equals(y))return this.wNAF(d);let _r=gr,br=this;for(;d>_0n$2;)d&_1n$2&&(_r=_r.add(br)),br=br.double(),d>>=_1n$2;return _r}isSmallOrder(){return this.multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}isTorsionFree(){return this.multiplyUnsafe(CURVE$1.l).equals(ExtendedPoint.ZERO)}toAffine(c=invert$1(this.z)){const{x:d,y,z:gr}=this,_r=mod$1(d*c),br=mod$1(y*c);if(mod$1(gr*c)!==_1n$2)throw new Error("invZ was invalid");return new Point$1(_r,br)}fromRistrettoBytes(){legacyRist()}toRistrettoBytes(){legacyRist()}fromRistrettoHash(){legacyRist()}}ExtendedPoint.BASE=new ExtendedPoint(CURVE$1.Gx,CURVE$1.Gy,_1n$2,mod$1(CURVE$1.Gx*CURVE$1.Gy));ExtendedPoint.ZERO=new ExtendedPoint(_0n$2,_1n$2,_1n$2,_0n$2);function assertExtPoint(u){if(!(u instanceof ExtendedPoint))throw new TypeError("ExtendedPoint expected")}function assertRstPoint(u){if(!(u instanceof RistrettoPoint))throw new TypeError("RistrettoPoint expected")}function legacyRist(){throw new Error("Legacy method: switch to RistrettoPoint")}class RistrettoPoint{constructor(c){this.ep=c}static calcElligatorRistrettoMap(c){const{d}=CURVE$1,y=mod$1(SQRT_M1*c*c),gr=mod$1((y+_1n$2)*ONE_MINUS_D_SQ);let _r=BigInt(-1);const br=mod$1((_r-d*y)*mod$1(y+d));let{isValid:wr,value:Er}=uvRatio(gr,br),Or=mod$1(Er*c);edIsNegative(Or)||(Or=mod$1(-Or)),wr||(Er=Or),wr||(_r=y);const xr=mod$1(_r*(y-_1n$2)*D_MINUS_ONE_SQ-br),kr=Er*Er,Mr=mod$1((Er+Er)*br),Cr=mod$1(xr*SQRT_AD_MINUS_ONE),Nr=mod$1(_1n$2-kr),Ur=mod$1(_1n$2+kr);return new ExtendedPoint(mod$1(Mr*Ur),mod$1(Nr*Cr),mod$1(Cr*Ur),mod$1(Mr*Nr))}static hashToCurve(c){c=ensureBytes$1(c,64);const d=bytes255ToNumberLE(c.slice(0,32)),y=this.calcElligatorRistrettoMap(d),gr=bytes255ToNumberLE(c.slice(32,64)),_r=this.calcElligatorRistrettoMap(gr);return new RistrettoPoint(y.add(_r))}static fromHex(c){c=ensureBytes$1(c,32);const{a:d,d:y}=CURVE$1,gr="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",_r=bytes255ToNumberLE(c);if(!equalBytes(numberTo32BytesLE(_r),c)||edIsNegative(_r))throw new Error(gr);const br=mod$1(_r*_r),wr=mod$1(_1n$2+d*br),Er=mod$1(_1n$2-d*br),Or=mod$1(wr*wr),xr=mod$1(Er*Er),kr=mod$1(d*y*Or-xr),{isValid:Mr,value:Cr}=invertSqrt(mod$1(kr*xr)),Nr=mod$1(Cr*Er),Ur=mod$1(Cr*Nr*kr);let Dr=mod$1((_r+_r)*Nr);edIsNegative(Dr)&&(Dr=mod$1(-Dr));const zr=mod$1(wr*Ur),Zr=mod$1(Dr*zr);if(!Mr||edIsNegative(Zr)||zr===_0n$2)throw new Error(gr);return new RistrettoPoint(new ExtendedPoint(Dr,zr,_1n$2,Zr))}toRawBytes(){let{x:c,y:d,z:y,t:gr}=this.ep;const _r=mod$1(mod$1(y+d)*mod$1(y-d)),br=mod$1(c*d),wr=mod$1(br*br),{value:Er}=invertSqrt(mod$1(_r*wr)),Or=mod$1(Er*_r),xr=mod$1(Er*br),kr=mod$1(Or*xr*gr);let Mr;if(edIsNegative(gr*kr)){let Nr=mod$1(d*SQRT_M1),Ur=mod$1(c*SQRT_M1);c=Nr,d=Ur,Mr=mod$1(Or*INVSQRT_A_MINUS_D)}else Mr=xr;edIsNegative(c*kr)&&(d=mod$1(-d));let Cr=mod$1((y-d)*Mr);return edIsNegative(Cr)&&(Cr=mod$1(-Cr)),numberTo32BytesLE(Cr)}toHex(){return bytesToHex$1(this.toRawBytes())}toString(){return this.toHex()}equals(c){assertRstPoint(c);const d=this.ep,y=c.ep,gr=mod$1(d.x*y.y)===mod$1(d.y*y.x),_r=mod$1(d.y*y.y)===mod$1(d.x*y.x);return gr||_r}add(c){return assertRstPoint(c),new RistrettoPoint(this.ep.add(c.ep))}subtract(c){return assertRstPoint(c),new RistrettoPoint(this.ep.subtract(c.ep))}multiply(c){return new RistrettoPoint(this.ep.multiply(c))}multiplyUnsafe(c){return new RistrettoPoint(this.ep.multiplyUnsafe(c))}}RistrettoPoint.BASE=new RistrettoPoint(ExtendedPoint.BASE);RistrettoPoint.ZERO=new RistrettoPoint(ExtendedPoint.ZERO);const pointPrecomputes$1=new WeakMap;class Point$1{constructor(c,d){this.x=c,this.y=d}_setWindowSize(c){this._WINDOW_SIZE=c,pointPrecomputes$1.delete(this)}static fromHex(c,d=!0){const{d:y,P:gr}=CURVE$1;c=ensureBytes$1(c,32);const _r=c.slice();_r[31]=c[31]&-129;const br=bytesToNumberLE(_r);if(d&&br>=gr)throw new Error("Expected 0 < hex < P");if(!d&&br>=POW_2_256$1)throw new Error("Expected 0 < hex < 2**256");const wr=mod$1(br*br),Er=mod$1(wr-_1n$2),Or=mod$1(y*wr+_1n$2);let{isValid:xr,value:kr}=uvRatio(Er,Or);if(!xr)throw new Error("Point.fromHex: invalid y coordinate");const Mr=(kr&_1n$2)===_1n$2;return(c[31]&128)!==0!==Mr&&(kr=mod$1(-kr)),new Point$1(kr,br)}static async fromPrivateKey(c){return(await getExtendedPublicKey(c)).point}toRawBytes(){const c=numberTo32BytesLE(this.y);return c[31]|=this.x&_1n$2?128:0,c}toHex(){return bytesToHex$1(this.toRawBytes())}toX25519(){const{y:c}=this,d=mod$1((_1n$2+c)*invert$1(_1n$2-c));return numberTo32BytesLE(d)}isTorsionFree(){return ExtendedPoint.fromAffine(this).isTorsionFree()}equals(c){return this.x===c.x&&this.y===c.y}negate(){return new Point$1(mod$1(-this.x),this.y)}add(c){return ExtendedPoint.fromAffine(this).add(ExtendedPoint.fromAffine(c)).toAffine()}subtract(c){return this.add(c.negate())}multiply(c){return ExtendedPoint.fromAffine(this).multiply(c,this).toAffine()}}Point$1.BASE=new Point$1(CURVE$1.Gx,CURVE$1.Gy);Point$1.ZERO=new Point$1(_0n$2,_1n$2);class Signature$1{constructor(c,d){this.r=c,this.s=d,this.assertValidity()}static fromHex(c){const d=ensureBytes$1(c,64),y=Point$1.fromHex(d.slice(0,32),!1),gr=bytesToNumberLE(d.slice(32,64));return new Signature$1(y,gr)}assertValidity(){const{r:c,s:d}=this;if(!(c instanceof Point$1))throw new Error("Expected Point instance");return normalizeScalar$1(d,CURVE$1.l,!1),this}toRawBytes(){const c=new Uint8Array(64);return c.set(this.r.toRawBytes()),c.set(numberTo32BytesLE(this.s),32),c}toHex(){return bytesToHex$1(this.toRawBytes())}}function concatBytes$1(...u){if(!u.every(y=>y instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(u.length===1)return u[0];const c=u.reduce((y,gr)=>y+gr.length,0),d=new Uint8Array(c);for(let y=0,gr=0;y<u.length;y++){const _r=u[y];d.set(_r,gr),gr+=_r.length}return d}const hexes$1=Array.from({length:256},(u,c)=>c.toString(16).padStart(2,"0"));function bytesToHex$1(u){if(!(u instanceof Uint8Array))throw new Error("Uint8Array expected");let c="";for(let d=0;d<u.length;d++)c+=hexes$1[u[d]];return c}function hexToBytes$1(u){if(typeof u!="string")throw new TypeError("hexToBytes: expected string, got "+typeof u);if(u.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const c=new Uint8Array(u.length/2);for(let d=0;d<c.length;d++){const y=d*2,gr=u.slice(y,y+2),_r=Number.parseInt(gr,16);if(Number.isNaN(_r)||_r<0)throw new Error("Invalid byte sequence");c[d]=_r}return c}function numberTo32BytesBE(u){const d=u.toString(16).padStart(64,"0");return hexToBytes$1(d)}function numberTo32BytesLE(u){return numberTo32BytesBE(u).reverse()}function edIsNegative(u){return(mod$1(u)&_1n$2)===_1n$2}function bytesToNumberLE(u){if(!(u instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+bytesToHex$1(Uint8Array.from(u).reverse()))}const MAX_255B=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bytes255ToNumberLE(u){return mod$1(bytesToNumberLE(u)&MAX_255B)}function mod$1(u,c=CURVE$1.P){const d=u%c;return d>=_0n$2?d:c+d}function invert$1(u,c=CURVE$1.P){if(u===_0n$2||c<=_0n$2)throw new Error(`invert: expected positive integers, got n=${u} mod=${c}`);let d=mod$1(u,c),y=c,gr=_0n$2,_r=_1n$2;for(;d!==_0n$2;){const wr=y/d,Er=y%d,Or=gr-_r*wr;y=d,d=Er,gr=_r,_r=Or}if(y!==_1n$2)throw new Error("invert: does not exist");return mod$1(gr,c)}function invertBatch$1(u,c=CURVE$1.P){const d=new Array(u.length),y=u.reduce((_r,br,wr)=>br===_0n$2?_r:(d[wr]=_r,mod$1(_r*br,c)),_1n$2),gr=invert$1(y,c);return u.reduceRight((_r,br,wr)=>br===_0n$2?_r:(d[wr]=mod$1(_r*d[wr],c),mod$1(_r*br,c)),gr),d}function pow2$1(u,c){const{P:d}=CURVE$1;let y=u;for(;c-- >_0n$2;)y*=y,y%=d;return y}function pow_2_252_3(u){const{P:c}=CURVE$1,d=BigInt(5),y=BigInt(10),gr=BigInt(20),_r=BigInt(40),br=BigInt(80),Er=u*u%c*u%c,Or=pow2$1(Er,_2n$2)*Er%c,xr=pow2$1(Or,_1n$2)*u%c,kr=pow2$1(xr,d)*xr%c,Mr=pow2$1(kr,y)*kr%c,Cr=pow2$1(Mr,gr)*Mr%c,Nr=pow2$1(Cr,_r)*Cr%c,Ur=pow2$1(Nr,br)*Nr%c,Dr=pow2$1(Ur,br)*Nr%c,zr=pow2$1(Dr,y)*kr%c;return{pow_p_5_8:pow2$1(zr,_2n$2)*u%c,b2:Er}}function uvRatio(u,c){const d=mod$1(c*c*c),y=mod$1(d*d*c),gr=pow_2_252_3(u*y).pow_p_5_8;let _r=mod$1(u*d*gr);const br=mod$1(c*_r*_r),wr=_r,Er=mod$1(_r*SQRT_M1),Or=br===u,xr=br===mod$1(-u),kr=br===mod$1(-u*SQRT_M1);return Or&&(_r=wr),(xr||kr)&&(_r=Er),edIsNegative(_r)&&(_r=mod$1(-_r)),{isValid:Or||xr,value:_r}}function invertSqrt(u){return uvRatio(_1n$2,u)}function modlLE(u){return mod$1(bytesToNumberLE(u),CURVE$1.l)}function equalBytes(u,c){if(u.length!==c.length)return!1;for(let d=0;d<u.length;d++)if(u[d]!==c[d])return!1;return!0}function ensureBytes$1(u,c){const d=u instanceof Uint8Array?Uint8Array.from(u):hexToBytes$1(u);if(typeof c=="number"&&d.length!==c)throw new Error(`Expected ${c} bytes`);return d}function normalizeScalar$1(u,c,d=!0){if(!c)throw new TypeError("Specify max value");if(typeof u=="number"&&Number.isSafeInteger(u)&&(u=BigInt(u)),typeof u=="bigint"&&u<c){if(d){if(_0n$2<u)return u}else if(_0n$2<=u)return u}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function adjustBytes25519(u){return u[0]&=248,u[31]&=127,u[31]|=64,u}function checkPrivateKey(u){if(u=typeof u=="bigint"||typeof u=="number"?numberTo32BytesBE(normalizeScalar$1(u,POW_2_256$1)):ensureBytes$1(u),u.length!==32)throw new Error("Expected 32 bytes");return u}function getKeyFromHash(u){const c=adjustBytes25519(u.slice(0,32)),d=u.slice(32,64),y=modlLE(c),gr=Point$1.BASE.multiply(y),_r=gr.toRawBytes();return{head:c,prefix:d,scalar:y,point:gr,pointBytes:_r}}let _sha512Sync;function sha512s(...u){if(typeof _sha512Sync!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return _sha512Sync(...u)}async function getExtendedPublicKey(u){return getKeyFromHash(await utils$2.sha512(checkPrivateKey(u)))}function getExtendedPublicKeySync(u){return getKeyFromHash(sha512s(checkPrivateKey(u)))}function getPublicKeySync(u){return getExtendedPublicKeySync(u).pointBytes}function signSync$1(u,c){u=ensureBytes$1(u);const{prefix:d,scalar:y,pointBytes:gr}=getExtendedPublicKeySync(c),_r=modlLE(sha512s(d,u)),br=Point$1.BASE.multiply(_r),wr=modlLE(sha512s(br.toRawBytes(),gr,u)),Er=mod$1(_r+wr*y,CURVE$1.l);return new Signature$1(br,Er).toRawBytes()}function prepareVerification(u,c,d){c=ensureBytes$1(c),d instanceof Point$1||(d=Point$1.fromHex(d,!1));const{r:y,s:gr}=u instanceof Signature$1?u.assertValidity():Signature$1.fromHex(u),_r=ExtendedPoint.BASE.multiplyUnsafe(gr);return{r:y,s:gr,SB:_r,pub:d,msg:c}}function finishVerification(u,c,d,y){const gr=modlLE(y),_r=ExtendedPoint.fromAffine(u).multiplyUnsafe(gr);return ExtendedPoint.fromAffine(c).add(_r).subtract(d).multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}function verifySync(u,c,d){const{r:y,SB:gr,msg:_r,pub:br}=prepareVerification(u,c,d),wr=sha512s(y.toRawBytes(),br.toRawBytes(),_r);return finishVerification(br,y,gr,wr)}const sync={getExtendedPublicKey:getExtendedPublicKeySync,getPublicKey:getPublicKeySync,sign:signSync$1,verify:verifySync};Point$1.BASE._setWindowSize(8);const crypto$2={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},utils$2={bytesToHex:bytesToHex$1,hexToBytes:hexToBytes$1,concatBytes:concatBytes$1,getExtendedPublicKey,mod:mod$1,invert:invert$1,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:u=>{if(u=ensureBytes$1(u),u.length<40||u.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return mod$1(bytesToNumberLE(u),CURVE$1.l-_1n$2)+_1n$2},randomBytes:(u=32)=>{if(crypto$2.web)return crypto$2.web.getRandomValues(new Uint8Array(u));if(crypto$2.node){const{randomBytes:c}=crypto$2.node;return new Uint8Array(c(u).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$2.randomBytes(32),sha512:async(...u)=>{const c=concatBytes$1(...u);if(crypto$2.web){const d=await crypto$2.web.subtle.digest("SHA-512",c.buffer);return new Uint8Array(d)}else{if(crypto$2.node)return Uint8Array.from(crypto$2.node.createHash("sha512").update(c).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(u=8,c=Point$1.BASE){const d=c.equals(Point$1.BASE)?c:new Point$1(c.x,c.y);return d._setWindowSize(u),d.multiply(_2n$2),d},sha512Sync:void 0};Object.defineProperties(utils$2,{sha512Sync:{configurable:!1,get(){return _sha512Sync},set(u){_sha512Sync||(_sha512Sync=u)}}});var bn={exports:{}};const require$$1$2=getAugmentedNamespace(nodeCrypto);(function(u){(function(c,d){function y(Fr,Rr){if(!Fr)throw new Error(Rr||"Assertion failed")}function gr(Fr,Rr){Fr.super_=Rr;var Lr=function(){};Lr.prototype=Rr.prototype,Fr.prototype=new Lr,Fr.prototype.constructor=Fr}function _r(Fr,Rr,Lr){if(_r.isBN(Fr))return Fr;this.negative=0,this.words=null,this.length=0,this.red=null,Fr!==null&&((Rr==="le"||Rr==="be")&&(Lr=Rr,Rr=10),this._init(Fr||0,Rr||10,Lr||"be"))}typeof c=="object"?c.exports=_r:d.BN=_r,_r.BN=_r,_r.wordSize=26;var br;try{typeof window<"u"&&typeof window.Buffer<"u"?br=window.Buffer:br=require$$1$2.Buffer}catch{}_r.isBN=function(Rr){return Rr instanceof _r?!0:Rr!==null&&typeof Rr=="object"&&Rr.constructor.wordSize===_r.wordSize&&Array.isArray(Rr.words)},_r.max=function(Rr,Lr){return Rr.cmp(Lr)>0?Rr:Lr},_r.min=function(Rr,Lr){return Rr.cmp(Lr)<0?Rr:Lr},_r.prototype._init=function(Rr,Lr,Vr){if(typeof Rr=="number")return this._initNumber(Rr,Lr,Vr);if(typeof Rr=="object")return this._initArray(Rr,Lr,Vr);Lr==="hex"&&(Lr=16),y(Lr===(Lr|0)&&Lr>=2&&Lr<=36),Rr=Rr.toString().replace(/\s+/g,"");var Yr=0;Rr[0]==="-"&&(Yr++,this.negative=1),Yr<Rr.length&&(Lr===16?this._parseHex(Rr,Yr,Vr):(this._parseBase(Rr,Lr,Yr),Vr==="le"&&this._initArray(this.toArray(),Lr,Vr)))},_r.prototype._initNumber=function(Rr,Lr,Vr){Rr<0&&(this.negative=1,Rr=-Rr),Rr<67108864?(this.words=[Rr&67108863],this.length=1):Rr<4503599627370496?(this.words=[Rr&67108863,Rr/67108864&67108863],this.length=2):(y(Rr<9007199254740992),this.words=[Rr&67108863,Rr/67108864&67108863,1],this.length=3),Vr==="le"&&this._initArray(this.toArray(),Lr,Vr)},_r.prototype._initArray=function(Rr,Lr,Vr){if(y(typeof Rr.length=="number"),Rr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Rr.length/3),this.words=new Array(this.length);for(var Yr=0;Yr<this.length;Yr++)this.words[Yr]=0;var Xr,hn,En=0;if(Vr==="be")for(Yr=Rr.length-1,Xr=0;Yr>=0;Yr-=3)hn=Rr[Yr]|Rr[Yr-1]<<8|Rr[Yr-2]<<16,this.words[Xr]|=hn<<En&67108863,this.words[Xr+1]=hn>>>26-En&67108863,En+=24,En>=26&&(En-=26,Xr++);else if(Vr==="le")for(Yr=0,Xr=0;Yr<Rr.length;Yr+=3)hn=Rr[Yr]|Rr[Yr+1]<<8|Rr[Yr+2]<<16,this.words[Xr]|=hn<<En&67108863,this.words[Xr+1]=hn>>>26-En&67108863,En+=24,En>=26&&(En-=26,Xr++);return this._strip()};function wr(Fr,Rr){var Lr=Fr.charCodeAt(Rr);if(Lr>=48&&Lr<=57)return Lr-48;if(Lr>=65&&Lr<=70)return Lr-55;if(Lr>=97&&Lr<=102)return Lr-87;y(!1,"Invalid character in "+Fr)}function Er(Fr,Rr,Lr){var Vr=wr(Fr,Lr);return Lr-1>=Rr&&(Vr|=wr(Fr,Lr-1)<<4),Vr}_r.prototype._parseHex=function(Rr,Lr,Vr){this.length=Math.ceil((Rr.length-Lr)/6),this.words=new Array(this.length);for(var Yr=0;Yr<this.length;Yr++)this.words[Yr]=0;var Xr=0,hn=0,En;if(Vr==="be")for(Yr=Rr.length-1;Yr>=Lr;Yr-=2)En=Er(Rr,Lr,Yr)<<Xr,this.words[hn]|=En&67108863,Xr>=18?(Xr-=18,hn+=1,this.words[hn]|=En>>>26):Xr+=8;else{var qr=Rr.length-Lr;for(Yr=qr%2===0?Lr+1:Lr;Yr<Rr.length;Yr+=2)En=Er(Rr,Lr,Yr)<<Xr,this.words[hn]|=En&67108863,Xr>=18?(Xr-=18,hn+=1,this.words[hn]|=En>>>26):Xr+=8}this._strip()};function Or(Fr,Rr,Lr,Vr){for(var Yr=0,Xr=0,hn=Math.min(Fr.length,Lr),En=Rr;En<hn;En++){var qr=Fr.charCodeAt(En)-48;Yr*=Vr,qr>=49?Xr=qr-49+10:qr>=17?Xr=qr-17+10:Xr=qr,y(qr>=0&&Xr<Vr,"Invalid character"),Yr+=Xr}return Yr}_r.prototype._parseBase=function(Rr,Lr,Vr){this.words=[0],this.length=1;for(var Yr=0,Xr=1;Xr<=67108863;Xr*=Lr)Yr++;Yr--,Xr=Xr/Lr|0;for(var hn=Rr.length-Vr,En=hn%Yr,qr=Math.min(hn,hn-En)+Vr,Br=0,Hr=Vr;Hr<qr;Hr+=Yr)Br=Or(Rr,Hr,Hr+Yr,Lr),this.imuln(Xr),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br);if(En!==0){var _n=1;for(Br=Or(Rr,Hr,Rr.length,Lr),Hr=0;Hr<En;Hr++)_n*=Lr;this.imuln(_n),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br)}this._strip()},_r.prototype.copy=function(Rr){Rr.words=new Array(this.length);for(var Lr=0;Lr<this.length;Lr++)Rr.words[Lr]=this.words[Lr];Rr.length=this.length,Rr.negative=this.negative,Rr.red=this.red};function xr(Fr,Rr){Fr.words=Rr.words,Fr.length=Rr.length,Fr.negative=Rr.negative,Fr.red=Rr.red}if(_r.prototype._move=function(Rr){xr(Rr,this)},_r.prototype.clone=function(){var Rr=new _r(null);return this.copy(Rr),Rr},_r.prototype._expand=function(Rr){for(;this.length<Rr;)this.words[this.length++]=0;return this},_r.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},_r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{_r.prototype[Symbol.for("nodejs.util.inspect.custom")]=kr}catch{_r.prototype.inspect=kr}else _r.prototype.inspect=kr;function kr(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Mr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Cr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Nr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];_r.prototype.toString=function(Rr,Lr){Rr=Rr||10,Lr=Lr|0||1;var Vr;if(Rr===16||Rr==="hex"){Vr="";for(var Yr=0,Xr=0,hn=0;hn<this.length;hn++){var En=this.words[hn],qr=((En<<Yr|Xr)&16777215).toString(16);Xr=En>>>24-Yr&16777215,Yr+=2,Yr>=26&&(Yr-=26,hn--),Xr!==0||hn!==this.length-1?Vr=Mr[6-qr.length]+qr+Vr:Vr=qr+Vr}for(Xr!==0&&(Vr=Xr.toString(16)+Vr);Vr.length%Lr!==0;)Vr="0"+Vr;return this.negative!==0&&(Vr="-"+Vr),Vr}if(Rr===(Rr|0)&&Rr>=2&&Rr<=36){var Br=Cr[Rr],Hr=Nr[Rr];Vr="";var _n=this.clone();for(_n.negative=0;!_n.isZero();){var on=_n.modrn(Hr).toString(Rr);_n=_n.idivn(Hr),_n.isZero()?Vr=on+Vr:Vr=Mr[Br-on.length]+on+Vr}for(this.isZero()&&(Vr="0"+Vr);Vr.length%Lr!==0;)Vr="0"+Vr;return this.negative!==0&&(Vr="-"+Vr),Vr}y(!1,"Base should be between 2 and 36")},_r.prototype.toNumber=function(){var Rr=this.words[0];return this.length===2?Rr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Rr+=4503599627370496+this.words[1]*67108864:this.length>2&&y(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Rr:Rr},_r.prototype.toJSON=function(){return this.toString(16,2)},br&&(_r.prototype.toBuffer=function(Rr,Lr){return this.toArrayLike(br,Rr,Lr)}),_r.prototype.toArray=function(Rr,Lr){return this.toArrayLike(Array,Rr,Lr)};var Ur=function(Rr,Lr){return Rr.allocUnsafe?Rr.allocUnsafe(Lr):new Rr(Lr)};_r.prototype.toArrayLike=function(Rr,Lr,Vr){this._strip();var Yr=this.byteLength(),Xr=Vr||Math.max(1,Yr);y(Yr<=Xr,"byte array longer than desired length"),y(Xr>0,"Requested array length <= 0");var hn=Ur(Rr,Xr),En=Lr==="le"?"LE":"BE";return this["_toArrayLike"+En](hn,Yr),hn},_r.prototype._toArrayLikeLE=function(Rr,Lr){for(var Vr=0,Yr=0,Xr=0,hn=0;Xr<this.length;Xr++){var En=this.words[Xr]<<hn|Yr;Rr[Vr++]=En&255,Vr<Rr.length&&(Rr[Vr++]=En>>8&255),Vr<Rr.length&&(Rr[Vr++]=En>>16&255),hn===6?(Vr<Rr.length&&(Rr[Vr++]=En>>24&255),Yr=0,hn=0):(Yr=En>>>24,hn+=2)}if(Vr<Rr.length)for(Rr[Vr++]=Yr;Vr<Rr.length;)Rr[Vr++]=0},_r.prototype._toArrayLikeBE=function(Rr,Lr){for(var Vr=Rr.length-1,Yr=0,Xr=0,hn=0;Xr<this.length;Xr++){var En=this.words[Xr]<<hn|Yr;Rr[Vr--]=En&255,Vr>=0&&(Rr[Vr--]=En>>8&255),Vr>=0&&(Rr[Vr--]=En>>16&255),hn===6?(Vr>=0&&(Rr[Vr--]=En>>24&255),Yr=0,hn=0):(Yr=En>>>24,hn+=2)}if(Vr>=0)for(Rr[Vr--]=Yr;Vr>=0;)Rr[Vr--]=0},Math.clz32?_r.prototype._countBits=function(Rr){return 32-Math.clz32(Rr)}:_r.prototype._countBits=function(Rr){var Lr=Rr,Vr=0;return Lr>=4096&&(Vr+=13,Lr>>>=13),Lr>=64&&(Vr+=7,Lr>>>=7),Lr>=8&&(Vr+=4,Lr>>>=4),Lr>=2&&(Vr+=2,Lr>>>=2),Vr+Lr},_r.prototype._zeroBits=function(Rr){if(Rr===0)return 26;var Lr=Rr,Vr=0;return(Lr&8191)===0&&(Vr+=13,Lr>>>=13),(Lr&127)===0&&(Vr+=7,Lr>>>=7),(Lr&15)===0&&(Vr+=4,Lr>>>=4),(Lr&3)===0&&(Vr+=2,Lr>>>=2),(Lr&1)===0&&Vr++,Vr},_r.prototype.bitLength=function(){var Rr=this.words[this.length-1],Lr=this._countBits(Rr);return(this.length-1)*26+Lr};function Dr(Fr){for(var Rr=new Array(Fr.bitLength()),Lr=0;Lr<Rr.length;Lr++){var Vr=Lr/26|0,Yr=Lr%26;Rr[Lr]=Fr.words[Vr]>>>Yr&1}return Rr}_r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Rr=0,Lr=0;Lr<this.length;Lr++){var Vr=this._zeroBits(this.words[Lr]);if(Rr+=Vr,Vr!==26)break}return Rr},_r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},_r.prototype.toTwos=function(Rr){return this.negative!==0?this.abs().inotn(Rr).iaddn(1):this.clone()},_r.prototype.fromTwos=function(Rr){return this.testn(Rr-1)?this.notn(Rr).iaddn(1).ineg():this.clone()},_r.prototype.isNeg=function(){return this.negative!==0},_r.prototype.neg=function(){return this.clone().ineg()},_r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},_r.prototype.iuor=function(Rr){for(;this.length<Rr.length;)this.words[this.length++]=0;for(var Lr=0;Lr<Rr.length;Lr++)this.words[Lr]=this.words[Lr]|Rr.words[Lr];return this._strip()},_r.prototype.ior=function(Rr){return y((this.negative|Rr.negative)===0),this.iuor(Rr)},_r.prototype.or=function(Rr){return this.length>Rr.length?this.clone().ior(Rr):Rr.clone().ior(this)},_r.prototype.uor=function(Rr){return this.length>Rr.length?this.clone().iuor(Rr):Rr.clone().iuor(this)},_r.prototype.iuand=function(Rr){var Lr;this.length>Rr.length?Lr=Rr:Lr=this;for(var Vr=0;Vr<Lr.length;Vr++)this.words[Vr]=this.words[Vr]&Rr.words[Vr];return this.length=Lr.length,this._strip()},_r.prototype.iand=function(Rr){return y((this.negative|Rr.negative)===0),this.iuand(Rr)},_r.prototype.and=function(Rr){return this.length>Rr.length?this.clone().iand(Rr):Rr.clone().iand(this)},_r.prototype.uand=function(Rr){return this.length>Rr.length?this.clone().iuand(Rr):Rr.clone().iuand(this)},_r.prototype.iuxor=function(Rr){var Lr,Vr;this.length>Rr.length?(Lr=this,Vr=Rr):(Lr=Rr,Vr=this);for(var Yr=0;Yr<Vr.length;Yr++)this.words[Yr]=Lr.words[Yr]^Vr.words[Yr];if(this!==Lr)for(;Yr<Lr.length;Yr++)this.words[Yr]=Lr.words[Yr];return this.length=Lr.length,this._strip()},_r.prototype.ixor=function(Rr){return y((this.negative|Rr.negative)===0),this.iuxor(Rr)},_r.prototype.xor=function(Rr){return this.length>Rr.length?this.clone().ixor(Rr):Rr.clone().ixor(this)},_r.prototype.uxor=function(Rr){return this.length>Rr.length?this.clone().iuxor(Rr):Rr.clone().iuxor(this)},_r.prototype.inotn=function(Rr){y(typeof Rr=="number"&&Rr>=0);var Lr=Math.ceil(Rr/26)|0,Vr=Rr%26;this._expand(Lr),Vr>0&&Lr--;for(var Yr=0;Yr<Lr;Yr++)this.words[Yr]=~this.words[Yr]&67108863;return Vr>0&&(this.words[Yr]=~this.words[Yr]&67108863>>26-Vr),this._strip()},_r.prototype.notn=function(Rr){return this.clone().inotn(Rr)},_r.prototype.setn=function(Rr,Lr){y(typeof Rr=="number"&&Rr>=0);var Vr=Rr/26|0,Yr=Rr%26;return this._expand(Vr+1),Lr?this.words[Vr]=this.words[Vr]|1<<Yr:this.words[Vr]=this.words[Vr]&~(1<<Yr),this._strip()},_r.prototype.iadd=function(Rr){var Lr;if(this.negative!==0&&Rr.negative===0)return this.negative=0,Lr=this.isub(Rr),this.negative^=1,this._normSign();if(this.negative===0&&Rr.negative!==0)return Rr.negative=0,Lr=this.isub(Rr),Rr.negative=1,Lr._normSign();var Vr,Yr;this.length>Rr.length?(Vr=this,Yr=Rr):(Vr=Rr,Yr=this);for(var Xr=0,hn=0;hn<Yr.length;hn++)Lr=(Vr.words[hn]|0)+(Yr.words[hn]|0)+Xr,this.words[hn]=Lr&67108863,Xr=Lr>>>26;for(;Xr!==0&&hn<Vr.length;hn++)Lr=(Vr.words[hn]|0)+Xr,this.words[hn]=Lr&67108863,Xr=Lr>>>26;if(this.length=Vr.length,Xr!==0)this.words[this.length]=Xr,this.length++;else if(Vr!==this)for(;hn<Vr.length;hn++)this.words[hn]=Vr.words[hn];return this},_r.prototype.add=function(Rr){var Lr;return Rr.negative!==0&&this.negative===0?(Rr.negative=0,Lr=this.sub(Rr),Rr.negative^=1,Lr):Rr.negative===0&&this.negative!==0?(this.negative=0,Lr=Rr.sub(this),this.negative=1,Lr):this.length>Rr.length?this.clone().iadd(Rr):Rr.clone().iadd(this)},_r.prototype.isub=function(Rr){if(Rr.negative!==0){Rr.negative=0;var Lr=this.iadd(Rr);return Rr.negative=1,Lr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Rr),this.negative=1,this._normSign();var Vr=this.cmp(Rr);if(Vr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Yr,Xr;Vr>0?(Yr=this,Xr=Rr):(Yr=Rr,Xr=this);for(var hn=0,En=0;En<Xr.length;En++)Lr=(Yr.words[En]|0)-(Xr.words[En]|0)+hn,hn=Lr>>26,this.words[En]=Lr&67108863;for(;hn!==0&&En<Yr.length;En++)Lr=(Yr.words[En]|0)+hn,hn=Lr>>26,this.words[En]=Lr&67108863;if(hn===0&&En<Yr.length&&Yr!==this)for(;En<Yr.length;En++)this.words[En]=Yr.words[En];return this.length=Math.max(this.length,En),Yr!==this&&(this.negative=1),this._strip()},_r.prototype.sub=function(Rr){return this.clone().isub(Rr)};function zr(Fr,Rr,Lr){Lr.negative=Rr.negative^Fr.negative;var Vr=Fr.length+Rr.length|0;Lr.length=Vr,Vr=Vr-1|0;var Yr=Fr.words[0]|0,Xr=Rr.words[0]|0,hn=Yr*Xr,En=hn&67108863,qr=hn/67108864|0;Lr.words[0]=En;for(var Br=1;Br<Vr;Br++){for(var Hr=qr>>>26,_n=qr&67108863,on=Math.min(Br,Rr.length-1),sn=Math.max(0,Br-Fr.length+1);sn<=on;sn++){var yn=Br-sn|0;Yr=Fr.words[yn]|0,Xr=Rr.words[sn]|0,hn=Yr*Xr+_n,Hr+=hn/67108864|0,_n=hn&67108863}Lr.words[Br]=_n|0,qr=Hr|0}return qr!==0?Lr.words[Br]=qr|0:Lr.length--,Lr._strip()}var Zr=function(Rr,Lr,Vr){var Yr=Rr.words,Xr=Lr.words,hn=Vr.words,En=0,qr,Br,Hr,_n=Yr[0]|0,on=_n&8191,sn=_n>>>13,yn=Yr[1]|0,wn=yn&8191,In=yn>>>13,Mn=Yr[2]|0,Ln=Mn&8191,Cn=Mn>>>13,ln=Yr[3]|0,pn=ln&8191,On=ln>>>13,Nn=Yr[4]|0,kn=Nn&8191,Fn=Nn>>>13,xn=Yr[5]|0,Un=xn&8191,Dn=xn>>>13,dn=Yr[6]|0,vn=dn&8191,Rn=dn>>>13,Bn=Yr[7]|0,jn=Bn&8191,Tr=Bn>>>13,Sr=Yr[8]|0,Ar=Sr&8191,Pr=Sr>>>13,jr=Yr[9]|0,Gr=jr&8191,nn=jr>>>13,Kn=Xr[0]|0,Yn=Kn&8191,Hn=Kn>>>13,Jn=Xr[1]|0,Gn=Jn&8191,Oi=Jn>>>13,Hs=Xr[2]|0,vi=Hs&8191,Si=Hs>>>13,Vs=Xr[3]|0,xi=Vs&8191,Ti=Vs>>>13,qs=Xr[4]|0,Ai=qs&8191,ki=qs>>>13,Ws=Xr[5]|0,Ri=Ws&8191,_i=Ws>>>13,Gs=Xr[6]|0,bi=Gs&8191,$i=Gs>>>13,Ys=Xr[7]|0,Pi=Ys&8191,Bi=Ys>>>13,Zs=Xr[8]|0,Ci=Zs&8191,Mi=Zs>>>13,Js=Xr[9]|0,Ei=Js&8191,Li=Js>>>13;Vr.negative=Rr.negative^Lr.negative,Vr.length=19,qr=Math.imul(on,Yn),Br=Math.imul(on,Hn),Br=Br+Math.imul(sn,Yn)|0,Hr=Math.imul(sn,Hn);var ys=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(ys>>>26)|0,ys&=67108863,qr=Math.imul(wn,Yn),Br=Math.imul(wn,Hn),Br=Br+Math.imul(In,Yn)|0,Hr=Math.imul(In,Hn),qr=qr+Math.imul(on,Gn)|0,Br=Br+Math.imul(on,Oi)|0,Br=Br+Math.imul(sn,Gn)|0,Hr=Hr+Math.imul(sn,Oi)|0;var ms=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(ms>>>26)|0,ms&=67108863,qr=Math.imul(Ln,Yn),Br=Math.imul(Ln,Hn),Br=Br+Math.imul(Cn,Yn)|0,Hr=Math.imul(Cn,Hn),qr=qr+Math.imul(wn,Gn)|0,Br=Br+Math.imul(wn,Oi)|0,Br=Br+Math.imul(In,Gn)|0,Hr=Hr+Math.imul(In,Oi)|0,qr=qr+Math.imul(on,vi)|0,Br=Br+Math.imul(on,Si)|0,Br=Br+Math.imul(sn,vi)|0,Hr=Hr+Math.imul(sn,Si)|0;var _s=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(_s>>>26)|0,_s&=67108863,qr=Math.imul(pn,Yn),Br=Math.imul(pn,Hn),Br=Br+Math.imul(On,Yn)|0,Hr=Math.imul(On,Hn),qr=qr+Math.imul(Ln,Gn)|0,Br=Br+Math.imul(Ln,Oi)|0,Br=Br+Math.imul(Cn,Gn)|0,Hr=Hr+Math.imul(Cn,Oi)|0,qr=qr+Math.imul(wn,vi)|0,Br=Br+Math.imul(wn,Si)|0,Br=Br+Math.imul(In,vi)|0,Hr=Hr+Math.imul(In,Si)|0,qr=qr+Math.imul(on,xi)|0,Br=Br+Math.imul(on,Ti)|0,Br=Br+Math.imul(sn,xi)|0,Hr=Hr+Math.imul(sn,Ti)|0;var bs=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(bs>>>26)|0,bs&=67108863,qr=Math.imul(kn,Yn),Br=Math.imul(kn,Hn),Br=Br+Math.imul(Fn,Yn)|0,Hr=Math.imul(Fn,Hn),qr=qr+Math.imul(pn,Gn)|0,Br=Br+Math.imul(pn,Oi)|0,Br=Br+Math.imul(On,Gn)|0,Hr=Hr+Math.imul(On,Oi)|0,qr=qr+Math.imul(Ln,vi)|0,Br=Br+Math.imul(Ln,Si)|0,Br=Br+Math.imul(Cn,vi)|0,Hr=Hr+Math.imul(Cn,Si)|0,qr=qr+Math.imul(wn,xi)|0,Br=Br+Math.imul(wn,Ti)|0,Br=Br+Math.imul(In,xi)|0,Hr=Hr+Math.imul(In,Ti)|0,qr=qr+Math.imul(on,Ai)|0,Br=Br+Math.imul(on,ki)|0,Br=Br+Math.imul(sn,Ai)|0,Hr=Hr+Math.imul(sn,ki)|0;var ws=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(ws>>>26)|0,ws&=67108863,qr=Math.imul(Un,Yn),Br=Math.imul(Un,Hn),Br=Br+Math.imul(Dn,Yn)|0,Hr=Math.imul(Dn,Hn),qr=qr+Math.imul(kn,Gn)|0,Br=Br+Math.imul(kn,Oi)|0,Br=Br+Math.imul(Fn,Gn)|0,Hr=Hr+Math.imul(Fn,Oi)|0,qr=qr+Math.imul(pn,vi)|0,Br=Br+Math.imul(pn,Si)|0,Br=Br+Math.imul(On,vi)|0,Hr=Hr+Math.imul(On,Si)|0,qr=qr+Math.imul(Ln,xi)|0,Br=Br+Math.imul(Ln,Ti)|0,Br=Br+Math.imul(Cn,xi)|0,Hr=Hr+Math.imul(Cn,Ti)|0,qr=qr+Math.imul(wn,Ai)|0,Br=Br+Math.imul(wn,ki)|0,Br=Br+Math.imul(In,Ai)|0,Hr=Hr+Math.imul(In,ki)|0,qr=qr+Math.imul(on,Ri)|0,Br=Br+Math.imul(on,_i)|0,Br=Br+Math.imul(sn,Ri)|0,Hr=Hr+Math.imul(sn,_i)|0;var $o=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+($o>>>26)|0,$o&=67108863,qr=Math.imul(vn,Yn),Br=Math.imul(vn,Hn),Br=Br+Math.imul(Rn,Yn)|0,Hr=Math.imul(Rn,Hn),qr=qr+Math.imul(Un,Gn)|0,Br=Br+Math.imul(Un,Oi)|0,Br=Br+Math.imul(Dn,Gn)|0,Hr=Hr+Math.imul(Dn,Oi)|0,qr=qr+Math.imul(kn,vi)|0,Br=Br+Math.imul(kn,Si)|0,Br=Br+Math.imul(Fn,vi)|0,Hr=Hr+Math.imul(Fn,Si)|0,qr=qr+Math.imul(pn,xi)|0,Br=Br+Math.imul(pn,Ti)|0,Br=Br+Math.imul(On,xi)|0,Hr=Hr+Math.imul(On,Ti)|0,qr=qr+Math.imul(Ln,Ai)|0,Br=Br+Math.imul(Ln,ki)|0,Br=Br+Math.imul(Cn,Ai)|0,Hr=Hr+Math.imul(Cn,ki)|0,qr=qr+Math.imul(wn,Ri)|0,Br=Br+Math.imul(wn,_i)|0,Br=Br+Math.imul(In,Ri)|0,Hr=Hr+Math.imul(In,_i)|0,qr=qr+Math.imul(on,bi)|0,Br=Br+Math.imul(on,$i)|0,Br=Br+Math.imul(sn,bi)|0,Hr=Hr+Math.imul(sn,$i)|0;var vs=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(vs>>>26)|0,vs&=67108863,qr=Math.imul(jn,Yn),Br=Math.imul(jn,Hn),Br=Br+Math.imul(Tr,Yn)|0,Hr=Math.imul(Tr,Hn),qr=qr+Math.imul(vn,Gn)|0,Br=Br+Math.imul(vn,Oi)|0,Br=Br+Math.imul(Rn,Gn)|0,Hr=Hr+Math.imul(Rn,Oi)|0,qr=qr+Math.imul(Un,vi)|0,Br=Br+Math.imul(Un,Si)|0,Br=Br+Math.imul(Dn,vi)|0,Hr=Hr+Math.imul(Dn,Si)|0,qr=qr+Math.imul(kn,xi)|0,Br=Br+Math.imul(kn,Ti)|0,Br=Br+Math.imul(Fn,xi)|0,Hr=Hr+Math.imul(Fn,Ti)|0,qr=qr+Math.imul(pn,Ai)|0,Br=Br+Math.imul(pn,ki)|0,Br=Br+Math.imul(On,Ai)|0,Hr=Hr+Math.imul(On,ki)|0,qr=qr+Math.imul(Ln,Ri)|0,Br=Br+Math.imul(Ln,_i)|0,Br=Br+Math.imul(Cn,Ri)|0,Hr=Hr+Math.imul(Cn,_i)|0,qr=qr+Math.imul(wn,bi)|0,Br=Br+Math.imul(wn,$i)|0,Br=Br+Math.imul(In,bi)|0,Hr=Hr+Math.imul(In,$i)|0,qr=qr+Math.imul(on,Pi)|0,Br=Br+Math.imul(on,Bi)|0,Br=Br+Math.imul(sn,Pi)|0,Hr=Hr+Math.imul(sn,Bi)|0;var Po=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Po>>>26)|0,Po&=67108863,qr=Math.imul(Ar,Yn),Br=Math.imul(Ar,Hn),Br=Br+Math.imul(Pr,Yn)|0,Hr=Math.imul(Pr,Hn),qr=qr+Math.imul(jn,Gn)|0,Br=Br+Math.imul(jn,Oi)|0,Br=Br+Math.imul(Tr,Gn)|0,Hr=Hr+Math.imul(Tr,Oi)|0,qr=qr+Math.imul(vn,vi)|0,Br=Br+Math.imul(vn,Si)|0,Br=Br+Math.imul(Rn,vi)|0,Hr=Hr+Math.imul(Rn,Si)|0,qr=qr+Math.imul(Un,xi)|0,Br=Br+Math.imul(Un,Ti)|0,Br=Br+Math.imul(Dn,xi)|0,Hr=Hr+Math.imul(Dn,Ti)|0,qr=qr+Math.imul(kn,Ai)|0,Br=Br+Math.imul(kn,ki)|0,Br=Br+Math.imul(Fn,Ai)|0,Hr=Hr+Math.imul(Fn,ki)|0,qr=qr+Math.imul(pn,Ri)|0,Br=Br+Math.imul(pn,_i)|0,Br=Br+Math.imul(On,Ri)|0,Hr=Hr+Math.imul(On,_i)|0,qr=qr+Math.imul(Ln,bi)|0,Br=Br+Math.imul(Ln,$i)|0,Br=Br+Math.imul(Cn,bi)|0,Hr=Hr+Math.imul(Cn,$i)|0,qr=qr+Math.imul(wn,Pi)|0,Br=Br+Math.imul(wn,Bi)|0,Br=Br+Math.imul(In,Pi)|0,Hr=Hr+Math.imul(In,Bi)|0,qr=qr+Math.imul(on,Ci)|0,Br=Br+Math.imul(on,Mi)|0,Br=Br+Math.imul(sn,Ci)|0,Hr=Hr+Math.imul(sn,Mi)|0;var Ss=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,qr=Math.imul(Gr,Yn),Br=Math.imul(Gr,Hn),Br=Br+Math.imul(nn,Yn)|0,Hr=Math.imul(nn,Hn),qr=qr+Math.imul(Ar,Gn)|0,Br=Br+Math.imul(Ar,Oi)|0,Br=Br+Math.imul(Pr,Gn)|0,Hr=Hr+Math.imul(Pr,Oi)|0,qr=qr+Math.imul(jn,vi)|0,Br=Br+Math.imul(jn,Si)|0,Br=Br+Math.imul(Tr,vi)|0,Hr=Hr+Math.imul(Tr,Si)|0,qr=qr+Math.imul(vn,xi)|0,Br=Br+Math.imul(vn,Ti)|0,Br=Br+Math.imul(Rn,xi)|0,Hr=Hr+Math.imul(Rn,Ti)|0,qr=qr+Math.imul(Un,Ai)|0,Br=Br+Math.imul(Un,ki)|0,Br=Br+Math.imul(Dn,Ai)|0,Hr=Hr+Math.imul(Dn,ki)|0,qr=qr+Math.imul(kn,Ri)|0,Br=Br+Math.imul(kn,_i)|0,Br=Br+Math.imul(Fn,Ri)|0,Hr=Hr+Math.imul(Fn,_i)|0,qr=qr+Math.imul(pn,bi)|0,Br=Br+Math.imul(pn,$i)|0,Br=Br+Math.imul(On,bi)|0,Hr=Hr+Math.imul(On,$i)|0,qr=qr+Math.imul(Ln,Pi)|0,Br=Br+Math.imul(Ln,Bi)|0,Br=Br+Math.imul(Cn,Pi)|0,Hr=Hr+Math.imul(Cn,Bi)|0,qr=qr+Math.imul(wn,Ci)|0,Br=Br+Math.imul(wn,Mi)|0,Br=Br+Math.imul(In,Ci)|0,Hr=Hr+Math.imul(In,Mi)|0,qr=qr+Math.imul(on,Ei)|0,Br=Br+Math.imul(on,Li)|0,Br=Br+Math.imul(sn,Ei)|0,Hr=Hr+Math.imul(sn,Li)|0;var As=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(As>>>26)|0,As&=67108863,qr=Math.imul(Gr,Gn),Br=Math.imul(Gr,Oi),Br=Br+Math.imul(nn,Gn)|0,Hr=Math.imul(nn,Oi),qr=qr+Math.imul(Ar,vi)|0,Br=Br+Math.imul(Ar,Si)|0,Br=Br+Math.imul(Pr,vi)|0,Hr=Hr+Math.imul(Pr,Si)|0,qr=qr+Math.imul(jn,xi)|0,Br=Br+Math.imul(jn,Ti)|0,Br=Br+Math.imul(Tr,xi)|0,Hr=Hr+Math.imul(Tr,Ti)|0,qr=qr+Math.imul(vn,Ai)|0,Br=Br+Math.imul(vn,ki)|0,Br=Br+Math.imul(Rn,Ai)|0,Hr=Hr+Math.imul(Rn,ki)|0,qr=qr+Math.imul(Un,Ri)|0,Br=Br+Math.imul(Un,_i)|0,Br=Br+Math.imul(Dn,Ri)|0,Hr=Hr+Math.imul(Dn,_i)|0,qr=qr+Math.imul(kn,bi)|0,Br=Br+Math.imul(kn,$i)|0,Br=Br+Math.imul(Fn,bi)|0,Hr=Hr+Math.imul(Fn,$i)|0,qr=qr+Math.imul(pn,Pi)|0,Br=Br+Math.imul(pn,Bi)|0,Br=Br+Math.imul(On,Pi)|0,Hr=Hr+Math.imul(On,Bi)|0,qr=qr+Math.imul(Ln,Ci)|0,Br=Br+Math.imul(Ln,Mi)|0,Br=Br+Math.imul(Cn,Ci)|0,Hr=Hr+Math.imul(Cn,Mi)|0,qr=qr+Math.imul(wn,Ei)|0,Br=Br+Math.imul(wn,Li)|0,Br=Br+Math.imul(In,Ei)|0,Hr=Hr+Math.imul(In,Li)|0;var Es=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Es>>>26)|0,Es&=67108863,qr=Math.imul(Gr,vi),Br=Math.imul(Gr,Si),Br=Br+Math.imul(nn,vi)|0,Hr=Math.imul(nn,Si),qr=qr+Math.imul(Ar,xi)|0,Br=Br+Math.imul(Ar,Ti)|0,Br=Br+Math.imul(Pr,xi)|0,Hr=Hr+Math.imul(Pr,Ti)|0,qr=qr+Math.imul(jn,Ai)|0,Br=Br+Math.imul(jn,ki)|0,Br=Br+Math.imul(Tr,Ai)|0,Hr=Hr+Math.imul(Tr,ki)|0,qr=qr+Math.imul(vn,Ri)|0,Br=Br+Math.imul(vn,_i)|0,Br=Br+Math.imul(Rn,Ri)|0,Hr=Hr+Math.imul(Rn,_i)|0,qr=qr+Math.imul(Un,bi)|0,Br=Br+Math.imul(Un,$i)|0,Br=Br+Math.imul(Dn,bi)|0,Hr=Hr+Math.imul(Dn,$i)|0,qr=qr+Math.imul(kn,Pi)|0,Br=Br+Math.imul(kn,Bi)|0,Br=Br+Math.imul(Fn,Pi)|0,Hr=Hr+Math.imul(Fn,Bi)|0,qr=qr+Math.imul(pn,Ci)|0,Br=Br+Math.imul(pn,Mi)|0,Br=Br+Math.imul(On,Ci)|0,Hr=Hr+Math.imul(On,Mi)|0,qr=qr+Math.imul(Ln,Ei)|0,Br=Br+Math.imul(Ln,Li)|0,Br=Br+Math.imul(Cn,Ei)|0,Hr=Hr+Math.imul(Cn,Li)|0;var Jo=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,qr=Math.imul(Gr,xi),Br=Math.imul(Gr,Ti),Br=Br+Math.imul(nn,xi)|0,Hr=Math.imul(nn,Ti),qr=qr+Math.imul(Ar,Ai)|0,Br=Br+Math.imul(Ar,ki)|0,Br=Br+Math.imul(Pr,Ai)|0,Hr=Hr+Math.imul(Pr,ki)|0,qr=qr+Math.imul(jn,Ri)|0,Br=Br+Math.imul(jn,_i)|0,Br=Br+Math.imul(Tr,Ri)|0,Hr=Hr+Math.imul(Tr,_i)|0,qr=qr+Math.imul(vn,bi)|0,Br=Br+Math.imul(vn,$i)|0,Br=Br+Math.imul(Rn,bi)|0,Hr=Hr+Math.imul(Rn,$i)|0,qr=qr+Math.imul(Un,Pi)|0,Br=Br+Math.imul(Un,Bi)|0,Br=Br+Math.imul(Dn,Pi)|0,Hr=Hr+Math.imul(Dn,Bi)|0,qr=qr+Math.imul(kn,Ci)|0,Br=Br+Math.imul(kn,Mi)|0,Br=Br+Math.imul(Fn,Ci)|0,Hr=Hr+Math.imul(Fn,Mi)|0,qr=qr+Math.imul(pn,Ei)|0,Br=Br+Math.imul(pn,Li)|0,Br=Br+Math.imul(On,Ei)|0,Hr=Hr+Math.imul(On,Li)|0;var Qo=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,qr=Math.imul(Gr,Ai),Br=Math.imul(Gr,ki),Br=Br+Math.imul(nn,Ai)|0,Hr=Math.imul(nn,ki),qr=qr+Math.imul(Ar,Ri)|0,Br=Br+Math.imul(Ar,_i)|0,Br=Br+Math.imul(Pr,Ri)|0,Hr=Hr+Math.imul(Pr,_i)|0,qr=qr+Math.imul(jn,bi)|0,Br=Br+Math.imul(jn,$i)|0,Br=Br+Math.imul(Tr,bi)|0,Hr=Hr+Math.imul(Tr,$i)|0,qr=qr+Math.imul(vn,Pi)|0,Br=Br+Math.imul(vn,Bi)|0,Br=Br+Math.imul(Rn,Pi)|0,Hr=Hr+Math.imul(Rn,Bi)|0,qr=qr+Math.imul(Un,Ci)|0,Br=Br+Math.imul(Un,Mi)|0,Br=Br+Math.imul(Dn,Ci)|0,Hr=Hr+Math.imul(Dn,Mi)|0,qr=qr+Math.imul(kn,Ei)|0,Br=Br+Math.imul(kn,Li)|0,Br=Br+Math.imul(Fn,Ei)|0,Hr=Hr+Math.imul(Fn,Li)|0;var Xo=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,qr=Math.imul(Gr,Ri),Br=Math.imul(Gr,_i),Br=Br+Math.imul(nn,Ri)|0,Hr=Math.imul(nn,_i),qr=qr+Math.imul(Ar,bi)|0,Br=Br+Math.imul(Ar,$i)|0,Br=Br+Math.imul(Pr,bi)|0,Hr=Hr+Math.imul(Pr,$i)|0,qr=qr+Math.imul(jn,Pi)|0,Br=Br+Math.imul(jn,Bi)|0,Br=Br+Math.imul(Tr,Pi)|0,Hr=Hr+Math.imul(Tr,Bi)|0,qr=qr+Math.imul(vn,Ci)|0,Br=Br+Math.imul(vn,Mi)|0,Br=Br+Math.imul(Rn,Ci)|0,Hr=Hr+Math.imul(Rn,Mi)|0,qr=qr+Math.imul(Un,Ei)|0,Br=Br+Math.imul(Un,Li)|0,Br=Br+Math.imul(Dn,Ei)|0,Hr=Hr+Math.imul(Dn,Li)|0;var Is=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Is>>>26)|0,Is&=67108863,qr=Math.imul(Gr,bi),Br=Math.imul(Gr,$i),Br=Br+Math.imul(nn,bi)|0,Hr=Math.imul(nn,$i),qr=qr+Math.imul(Ar,Pi)|0,Br=Br+Math.imul(Ar,Bi)|0,Br=Br+Math.imul(Pr,Pi)|0,Hr=Hr+Math.imul(Pr,Bi)|0,qr=qr+Math.imul(jn,Ci)|0,Br=Br+Math.imul(jn,Mi)|0,Br=Br+Math.imul(Tr,Ci)|0,Hr=Hr+Math.imul(Tr,Mi)|0,qr=qr+Math.imul(vn,Ei)|0,Br=Br+Math.imul(vn,Li)|0,Br=Br+Math.imul(Rn,Ei)|0,Hr=Hr+Math.imul(Rn,Li)|0;var Os=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Os>>>26)|0,Os&=67108863,qr=Math.imul(Gr,Pi),Br=Math.imul(Gr,Bi),Br=Br+Math.imul(nn,Pi)|0,Hr=Math.imul(nn,Bi),qr=qr+Math.imul(Ar,Ci)|0,Br=Br+Math.imul(Ar,Mi)|0,Br=Br+Math.imul(Pr,Ci)|0,Hr=Hr+Math.imul(Pr,Mi)|0,qr=qr+Math.imul(jn,Ei)|0,Br=Br+Math.imul(jn,Li)|0,Br=Br+Math.imul(Tr,Ei)|0,Hr=Hr+Math.imul(Tr,Li)|0;var xs=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(xs>>>26)|0,xs&=67108863,qr=Math.imul(Gr,Ci),Br=Math.imul(Gr,Mi),Br=Br+Math.imul(nn,Ci)|0,Hr=Math.imul(nn,Mi),qr=qr+Math.imul(Ar,Ei)|0,Br=Br+Math.imul(Ar,Li)|0,Br=Br+Math.imul(Pr,Ei)|0,Hr=Hr+Math.imul(Pr,Li)|0;var Ts=(En+qr|0)+((Br&8191)<<13)|0;En=(Hr+(Br>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,qr=Math.imul(Gr,Ei),Br=Math.imul(Gr,Li),Br=Br+Math.imul(nn,Ei)|0,Hr=Math.imul(nn,Li);var es=(En+qr|0)+((Br&8191)<<13)|0;return En=(Hr+(Br>>>13)|0)+(es>>>26)|0,es&=67108863,hn[0]=ys,hn[1]=ms,hn[2]=_s,hn[3]=bs,hn[4]=ws,hn[5]=$o,hn[6]=vs,hn[7]=Po,hn[8]=Ss,hn[9]=As,hn[10]=Es,hn[11]=Jo,hn[12]=Qo,hn[13]=Xo,hn[14]=Is,hn[15]=Os,hn[16]=xs,hn[17]=Ts,hn[18]=es,En!==0&&(hn[19]=En,Vr.length++),Vr};Math.imul||(Zr=zr);function Wr(Fr,Rr,Lr){Lr.negative=Rr.negative^Fr.negative,Lr.length=Fr.length+Rr.length;for(var Vr=0,Yr=0,Xr=0;Xr<Lr.length-1;Xr++){var hn=Yr;Yr=0;for(var En=Vr&67108863,qr=Math.min(Xr,Rr.length-1),Br=Math.max(0,Xr-Fr.length+1);Br<=qr;Br++){var Hr=Xr-Br,_n=Fr.words[Hr]|0,on=Rr.words[Br]|0,sn=_n*on,yn=sn&67108863;hn=hn+(sn/67108864|0)|0,yn=yn+En|0,En=yn&67108863,hn=hn+(yn>>>26)|0,Yr+=hn>>>26,hn&=67108863}Lr.words[Xr]=En,Vr=hn,hn=Yr}return Vr!==0?Lr.words[Xr]=Vr:Lr.length--,Lr._strip()}function tn(Fr,Rr,Lr){return Wr(Fr,Rr,Lr)}_r.prototype.mulTo=function(Rr,Lr){var Vr,Yr=this.length+Rr.length;return this.length===10&&Rr.length===10?Vr=Zr(this,Rr,Lr):Yr<63?Vr=zr(this,Rr,Lr):Yr<1024?Vr=Wr(this,Rr,Lr):Vr=tn(this,Rr,Lr),Vr},_r.prototype.mul=function(Rr){var Lr=new _r(null);return Lr.words=new Array(this.length+Rr.length),this.mulTo(Rr,Lr)},_r.prototype.mulf=function(Rr){var Lr=new _r(null);return Lr.words=new Array(this.length+Rr.length),tn(this,Rr,Lr)},_r.prototype.imul=function(Rr){return this.clone().mulTo(Rr,this)},_r.prototype.imuln=function(Rr){var Lr=Rr<0;Lr&&(Rr=-Rr),y(typeof Rr=="number"),y(Rr<67108864);for(var Vr=0,Yr=0;Yr<this.length;Yr++){var Xr=(this.words[Yr]|0)*Rr,hn=(Xr&67108863)+(Vr&67108863);Vr>>=26,Vr+=Xr/67108864|0,Vr+=hn>>>26,this.words[Yr]=hn&67108863}return Vr!==0&&(this.words[Yr]=Vr,this.length++),Lr?this.ineg():this},_r.prototype.muln=function(Rr){return this.clone().imuln(Rr)},_r.prototype.sqr=function(){return this.mul(this)},_r.prototype.isqr=function(){return this.imul(this.clone())},_r.prototype.pow=function(Rr){var Lr=Dr(Rr);if(Lr.length===0)return new _r(1);for(var Vr=this,Yr=0;Yr<Lr.length&&Lr[Yr]===0;Yr++,Vr=Vr.sqr());if(++Yr<Lr.length)for(var Xr=Vr.sqr();Yr<Lr.length;Yr++,Xr=Xr.sqr())Lr[Yr]!==0&&(Vr=Vr.mul(Xr));return Vr},_r.prototype.iushln=function(Rr){y(typeof Rr=="number"&&Rr>=0);var Lr=Rr%26,Vr=(Rr-Lr)/26,Yr=67108863>>>26-Lr<<26-Lr,Xr;if(Lr!==0){var hn=0;for(Xr=0;Xr<this.length;Xr++){var En=this.words[Xr]&Yr,qr=(this.words[Xr]|0)-En<<Lr;this.words[Xr]=qr|hn,hn=En>>>26-Lr}hn&&(this.words[Xr]=hn,this.length++)}if(Vr!==0){for(Xr=this.length-1;Xr>=0;Xr--)this.words[Xr+Vr]=this.words[Xr];for(Xr=0;Xr<Vr;Xr++)this.words[Xr]=0;this.length+=Vr}return this._strip()},_r.prototype.ishln=function(Rr){return y(this.negative===0),this.iushln(Rr)},_r.prototype.iushrn=function(Rr,Lr,Vr){y(typeof Rr=="number"&&Rr>=0);var Yr;Lr?Yr=(Lr-Lr%26)/26:Yr=0;var Xr=Rr%26,hn=Math.min((Rr-Xr)/26,this.length),En=67108863^67108863>>>Xr<<Xr,qr=Vr;if(Yr-=hn,Yr=Math.max(0,Yr),qr){for(var Br=0;Br<hn;Br++)qr.words[Br]=this.words[Br];qr.length=hn}if(hn!==0)if(this.length>hn)for(this.length-=hn,Br=0;Br<this.length;Br++)this.words[Br]=this.words[Br+hn];else this.words[0]=0,this.length=1;var Hr=0;for(Br=this.length-1;Br>=0&&(Hr!==0||Br>=Yr);Br--){var _n=this.words[Br]|0;this.words[Br]=Hr<<26-Xr|_n>>>Xr,Hr=_n&En}return qr&&Hr!==0&&(qr.words[qr.length++]=Hr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},_r.prototype.ishrn=function(Rr,Lr,Vr){return y(this.negative===0),this.iushrn(Rr,Lr,Vr)},_r.prototype.shln=function(Rr){return this.clone().ishln(Rr)},_r.prototype.ushln=function(Rr){return this.clone().iushln(Rr)},_r.prototype.shrn=function(Rr){return this.clone().ishrn(Rr)},_r.prototype.ushrn=function(Rr){return this.clone().iushrn(Rr)},_r.prototype.testn=function(Rr){y(typeof Rr=="number"&&Rr>=0);var Lr=Rr%26,Vr=(Rr-Lr)/26,Yr=1<<Lr;if(this.length<=Vr)return!1;var Xr=this.words[Vr];return!!(Xr&Yr)},_r.prototype.imaskn=function(Rr){y(typeof Rr=="number"&&Rr>=0);var Lr=Rr%26,Vr=(Rr-Lr)/26;if(y(this.negative===0,"imaskn works only with positive numbers"),this.length<=Vr)return this;if(Lr!==0&&Vr++,this.length=Math.min(Vr,this.length),Lr!==0){var Yr=67108863^67108863>>>Lr<<Lr;this.words[this.length-1]&=Yr}return this._strip()},_r.prototype.maskn=function(Rr){return this.clone().imaskn(Rr)},_r.prototype.iaddn=function(Rr){return y(typeof Rr=="number"),y(Rr<67108864),Rr<0?this.isubn(-Rr):this.negative!==0?this.length===1&&(this.words[0]|0)<=Rr?(this.words[0]=Rr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Rr),this.negative=1,this):this._iaddn(Rr)},_r.prototype._iaddn=function(Rr){this.words[0]+=Rr;for(var Lr=0;Lr<this.length&&this.words[Lr]>=67108864;Lr++)this.words[Lr]-=67108864,Lr===this.length-1?this.words[Lr+1]=1:this.words[Lr+1]++;return this.length=Math.max(this.length,Lr+1),this},_r.prototype.isubn=function(Rr){if(y(typeof Rr=="number"),y(Rr<67108864),Rr<0)return this.iaddn(-Rr);if(this.negative!==0)return this.negative=0,this.iaddn(Rr),this.negative=1,this;if(this.words[0]-=Rr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Lr=0;Lr<this.length&&this.words[Lr]<0;Lr++)this.words[Lr]+=67108864,this.words[Lr+1]-=1;return this._strip()},_r.prototype.addn=function(Rr){return this.clone().iaddn(Rr)},_r.prototype.subn=function(Rr){return this.clone().isubn(Rr)},_r.prototype.iabs=function(){return this.negative=0,this},_r.prototype.abs=function(){return this.clone().iabs()},_r.prototype._ishlnsubmul=function(Rr,Lr,Vr){var Yr=Rr.length+Vr,Xr;this._expand(Yr);var hn,En=0;for(Xr=0;Xr<Rr.length;Xr++){hn=(this.words[Xr+Vr]|0)+En;var qr=(Rr.words[Xr]|0)*Lr;hn-=qr&67108863,En=(hn>>26)-(qr/67108864|0),this.words[Xr+Vr]=hn&67108863}for(;Xr<this.length-Vr;Xr++)hn=(this.words[Xr+Vr]|0)+En,En=hn>>26,this.words[Xr+Vr]=hn&67108863;if(En===0)return this._strip();for(y(En===-1),En=0,Xr=0;Xr<this.length;Xr++)hn=-(this.words[Xr]|0)+En,En=hn>>26,this.words[Xr]=hn&67108863;return this.negative=1,this._strip()},_r.prototype._wordDiv=function(Rr,Lr){var Vr=this.length-Rr.length,Yr=this.clone(),Xr=Rr,hn=Xr.words[Xr.length-1]|0,En=this._countBits(hn);Vr=26-En,Vr!==0&&(Xr=Xr.ushln(Vr),Yr.iushln(Vr),hn=Xr.words[Xr.length-1]|0);var qr=Yr.length-Xr.length,Br;if(Lr!=="mod"){Br=new _r(null),Br.length=qr+1,Br.words=new Array(Br.length);for(var Hr=0;Hr<Br.length;Hr++)Br.words[Hr]=0}var _n=Yr.clone()._ishlnsubmul(Xr,1,qr);_n.negative===0&&(Yr=_n,Br&&(Br.words[qr]=1));for(var on=qr-1;on>=0;on--){var sn=(Yr.words[Xr.length+on]|0)*67108864+(Yr.words[Xr.length+on-1]|0);for(sn=Math.min(sn/hn|0,67108863),Yr._ishlnsubmul(Xr,sn,on);Yr.negative!==0;)sn--,Yr.negative=0,Yr._ishlnsubmul(Xr,1,on),Yr.isZero()||(Yr.negative^=1);Br&&(Br.words[on]=sn)}return Br&&Br._strip(),Yr._strip(),Lr!=="div"&&Vr!==0&&Yr.iushrn(Vr),{div:Br||null,mod:Yr}},_r.prototype.divmod=function(Rr,Lr,Vr){if(y(!Rr.isZero()),this.isZero())return{div:new _r(0),mod:new _r(0)};var Yr,Xr,hn;return this.negative!==0&&Rr.negative===0?(hn=this.neg().divmod(Rr,Lr),Lr!=="mod"&&(Yr=hn.div.neg()),Lr!=="div"&&(Xr=hn.mod.neg(),Vr&&Xr.negative!==0&&Xr.iadd(Rr)),{div:Yr,mod:Xr}):this.negative===0&&Rr.negative!==0?(hn=this.divmod(Rr.neg(),Lr),Lr!=="mod"&&(Yr=hn.div.neg()),{div:Yr,mod:hn.mod}):(this.negative&Rr.negative)!==0?(hn=this.neg().divmod(Rr.neg(),Lr),Lr!=="div"&&(Xr=hn.mod.neg(),Vr&&Xr.negative!==0&&Xr.isub(Rr)),{div:hn.div,mod:Xr}):Rr.length>this.length||this.cmp(Rr)<0?{div:new _r(0),mod:this}:Rr.length===1?Lr==="div"?{div:this.divn(Rr.words[0]),mod:null}:Lr==="mod"?{div:null,mod:new _r(this.modrn(Rr.words[0]))}:{div:this.divn(Rr.words[0]),mod:new _r(this.modrn(Rr.words[0]))}:this._wordDiv(Rr,Lr)},_r.prototype.div=function(Rr){return this.divmod(Rr,"div",!1).div},_r.prototype.mod=function(Rr){return this.divmod(Rr,"mod",!1).mod},_r.prototype.umod=function(Rr){return this.divmod(Rr,"mod",!0).mod},_r.prototype.divRound=function(Rr){var Lr=this.divmod(Rr);if(Lr.mod.isZero())return Lr.div;var Vr=Lr.div.negative!==0?Lr.mod.isub(Rr):Lr.mod,Yr=Rr.ushrn(1),Xr=Rr.andln(1),hn=Vr.cmp(Yr);return hn<0||Xr===1&&hn===0?Lr.div:Lr.div.negative!==0?Lr.div.isubn(1):Lr.div.iaddn(1)},_r.prototype.modrn=function(Rr){var Lr=Rr<0;Lr&&(Rr=-Rr),y(Rr<=67108863);for(var Vr=(1<<26)%Rr,Yr=0,Xr=this.length-1;Xr>=0;Xr--)Yr=(Vr*Yr+(this.words[Xr]|0))%Rr;return Lr?-Yr:Yr},_r.prototype.modn=function(Rr){return this.modrn(Rr)},_r.prototype.idivn=function(Rr){var Lr=Rr<0;Lr&&(Rr=-Rr),y(Rr<=67108863);for(var Vr=0,Yr=this.length-1;Yr>=0;Yr--){var Xr=(this.words[Yr]|0)+Vr*67108864;this.words[Yr]=Xr/Rr|0,Vr=Xr%Rr}return this._strip(),Lr?this.ineg():this},_r.prototype.divn=function(Rr){return this.clone().idivn(Rr)},_r.prototype.egcd=function(Rr){y(Rr.negative===0),y(!Rr.isZero());var Lr=this,Vr=Rr.clone();Lr.negative!==0?Lr=Lr.umod(Rr):Lr=Lr.clone();for(var Yr=new _r(1),Xr=new _r(0),hn=new _r(0),En=new _r(1),qr=0;Lr.isEven()&&Vr.isEven();)Lr.iushrn(1),Vr.iushrn(1),++qr;for(var Br=Vr.clone(),Hr=Lr.clone();!Lr.isZero();){for(var _n=0,on=1;(Lr.words[0]&on)===0&&_n<26;++_n,on<<=1);if(_n>0)for(Lr.iushrn(_n);_n-- >0;)(Yr.isOdd()||Xr.isOdd())&&(Yr.iadd(Br),Xr.isub(Hr)),Yr.iushrn(1),Xr.iushrn(1);for(var sn=0,yn=1;(Vr.words[0]&yn)===0&&sn<26;++sn,yn<<=1);if(sn>0)for(Vr.iushrn(sn);sn-- >0;)(hn.isOdd()||En.isOdd())&&(hn.iadd(Br),En.isub(Hr)),hn.iushrn(1),En.iushrn(1);Lr.cmp(Vr)>=0?(Lr.isub(Vr),Yr.isub(hn),Xr.isub(En)):(Vr.isub(Lr),hn.isub(Yr),En.isub(Xr))}return{a:hn,b:En,gcd:Vr.iushln(qr)}},_r.prototype._invmp=function(Rr){y(Rr.negative===0),y(!Rr.isZero());var Lr=this,Vr=Rr.clone();Lr.negative!==0?Lr=Lr.umod(Rr):Lr=Lr.clone();for(var Yr=new _r(1),Xr=new _r(0),hn=Vr.clone();Lr.cmpn(1)>0&&Vr.cmpn(1)>0;){for(var En=0,qr=1;(Lr.words[0]&qr)===0&&En<26;++En,qr<<=1);if(En>0)for(Lr.iushrn(En);En-- >0;)Yr.isOdd()&&Yr.iadd(hn),Yr.iushrn(1);for(var Br=0,Hr=1;(Vr.words[0]&Hr)===0&&Br<26;++Br,Hr<<=1);if(Br>0)for(Vr.iushrn(Br);Br-- >0;)Xr.isOdd()&&Xr.iadd(hn),Xr.iushrn(1);Lr.cmp(Vr)>=0?(Lr.isub(Vr),Yr.isub(Xr)):(Vr.isub(Lr),Xr.isub(Yr))}var _n;return Lr.cmpn(1)===0?_n=Yr:_n=Xr,_n.cmpn(0)<0&&_n.iadd(Rr),_n},_r.prototype.gcd=function(Rr){if(this.isZero())return Rr.abs();if(Rr.isZero())return this.abs();var Lr=this.clone(),Vr=Rr.clone();Lr.negative=0,Vr.negative=0;for(var Yr=0;Lr.isEven()&&Vr.isEven();Yr++)Lr.iushrn(1),Vr.iushrn(1);do{for(;Lr.isEven();)Lr.iushrn(1);for(;Vr.isEven();)Vr.iushrn(1);var Xr=Lr.cmp(Vr);if(Xr<0){var hn=Lr;Lr=Vr,Vr=hn}else if(Xr===0||Vr.cmpn(1)===0)break;Lr.isub(Vr)}while(!0);return Vr.iushln(Yr)},_r.prototype.invm=function(Rr){return this.egcd(Rr).a.umod(Rr)},_r.prototype.isEven=function(){return(this.words[0]&1)===0},_r.prototype.isOdd=function(){return(this.words[0]&1)===1},_r.prototype.andln=function(Rr){return this.words[0]&Rr},_r.prototype.bincn=function(Rr){y(typeof Rr=="number");var Lr=Rr%26,Vr=(Rr-Lr)/26,Yr=1<<Lr;if(this.length<=Vr)return this._expand(Vr+1),this.words[Vr]|=Yr,this;for(var Xr=Yr,hn=Vr;Xr!==0&&hn<this.length;hn++){var En=this.words[hn]|0;En+=Xr,Xr=En>>>26,En&=67108863,this.words[hn]=En}return Xr!==0&&(this.words[hn]=Xr,this.length++),this},_r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},_r.prototype.cmpn=function(Rr){var Lr=Rr<0;if(this.negative!==0&&!Lr)return-1;if(this.negative===0&&Lr)return 1;this._strip();var Vr;if(this.length>1)Vr=1;else{Lr&&(Rr=-Rr),y(Rr<=67108863,"Number is too big");var Yr=this.words[0]|0;Vr=Yr===Rr?0:Yr<Rr?-1:1}return this.negative!==0?-Vr|0:Vr},_r.prototype.cmp=function(Rr){if(this.negative!==0&&Rr.negative===0)return-1;if(this.negative===0&&Rr.negative!==0)return 1;var Lr=this.ucmp(Rr);return this.negative!==0?-Lr|0:Lr},_r.prototype.ucmp=function(Rr){if(this.length>Rr.length)return 1;if(this.length<Rr.length)return-1;for(var Lr=0,Vr=this.length-1;Vr>=0;Vr--){var Yr=this.words[Vr]|0,Xr=Rr.words[Vr]|0;if(Yr!==Xr){Yr<Xr?Lr=-1:Yr>Xr&&(Lr=1);break}}return Lr},_r.prototype.gtn=function(Rr){return this.cmpn(Rr)===1},_r.prototype.gt=function(Rr){return this.cmp(Rr)===1},_r.prototype.gten=function(Rr){return this.cmpn(Rr)>=0},_r.prototype.gte=function(Rr){return this.cmp(Rr)>=0},_r.prototype.ltn=function(Rr){return this.cmpn(Rr)===-1},_r.prototype.lt=function(Rr){return this.cmp(Rr)===-1},_r.prototype.lten=function(Rr){return this.cmpn(Rr)<=0},_r.prototype.lte=function(Rr){return this.cmp(Rr)<=0},_r.prototype.eqn=function(Rr){return this.cmpn(Rr)===0},_r.prototype.eq=function(Rr){return this.cmp(Rr)===0},_r.red=function(Rr){return new gn(Rr)},_r.prototype.toRed=function(Rr){return y(!this.red,"Already a number in reduction context"),y(this.negative===0,"red works only with positives"),Rr.convertTo(this)._forceRed(Rr)},_r.prototype.fromRed=function(){return y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},_r.prototype._forceRed=function(Rr){return this.red=Rr,this},_r.prototype.forceRed=function(Rr){return y(!this.red,"Already a number in reduction context"),this._forceRed(Rr)},_r.prototype.redAdd=function(Rr){return y(this.red,"redAdd works only with red numbers"),this.red.add(this,Rr)},_r.prototype.redIAdd=function(Rr){return y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Rr)},_r.prototype.redSub=function(Rr){return y(this.red,"redSub works only with red numbers"),this.red.sub(this,Rr)},_r.prototype.redISub=function(Rr){return y(this.red,"redISub works only with red numbers"),this.red.isub(this,Rr)},_r.prototype.redShl=function(Rr){return y(this.red,"redShl works only with red numbers"),this.red.shl(this,Rr)},_r.prototype.redMul=function(Rr){return y(this.red,"redMul works only with red numbers"),this.red._verify2(this,Rr),this.red.mul(this,Rr)},_r.prototype.redIMul=function(Rr){return y(this.red,"redMul works only with red numbers"),this.red._verify2(this,Rr),this.red.imul(this,Rr)},_r.prototype.redSqr=function(){return y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},_r.prototype.redISqr=function(){return y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},_r.prototype.redSqrt=function(){return y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},_r.prototype.redInvm=function(){return y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},_r.prototype.redNeg=function(){return y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},_r.prototype.redPow=function(Rr){return y(this.red&&!Rr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Rr)};var rn={k256:null,p224:null,p192:null,p25519:null};function Jr(Fr,Rr){this.name=Fr,this.p=new _r(Rr,16),this.n=this.p.bitLength(),this.k=new _r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Jr.prototype._tmp=function(){var Rr=new _r(null);return Rr.words=new Array(Math.ceil(this.n/13)),Rr},Jr.prototype.ireduce=function(Rr){var Lr=Rr,Vr;do this.split(Lr,this.tmp),Lr=this.imulK(Lr),Lr=Lr.iadd(this.tmp),Vr=Lr.bitLength();while(Vr>this.n);var Yr=Vr<this.n?-1:Lr.ucmp(this.p);return Yr===0?(Lr.words[0]=0,Lr.length=1):Yr>0?Lr.isub(this.p):Lr.strip!==void 0?Lr.strip():Lr._strip(),Lr},Jr.prototype.split=function(Rr,Lr){Rr.iushrn(this.n,0,Lr)},Jr.prototype.imulK=function(Rr){return Rr.imul(this.k)};function Qr(){Jr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}gr(Qr,Jr),Qr.prototype.split=function(Rr,Lr){for(var Vr=4194303,Yr=Math.min(Rr.length,9),Xr=0;Xr<Yr;Xr++)Lr.words[Xr]=Rr.words[Xr];if(Lr.length=Yr,Rr.length<=9){Rr.words[0]=0,Rr.length=1;return}var hn=Rr.words[9];for(Lr.words[Lr.length++]=hn&Vr,Xr=10;Xr<Rr.length;Xr++){var En=Rr.words[Xr]|0;Rr.words[Xr-10]=(En&Vr)<<4|hn>>>22,hn=En}hn>>>=22,Rr.words[Xr-10]=hn,hn===0&&Rr.length>10?Rr.length-=10:Rr.length-=9},Qr.prototype.imulK=function(Rr){Rr.words[Rr.length]=0,Rr.words[Rr.length+1]=0,Rr.length+=2;for(var Lr=0,Vr=0;Vr<Rr.length;Vr++){var Yr=Rr.words[Vr]|0;Lr+=Yr*977,Rr.words[Vr]=Lr&67108863,Lr=Yr*64+(Lr/67108864|0)}return Rr.words[Rr.length-1]===0&&(Rr.length--,Rr.words[Rr.length-1]===0&&Rr.length--),Rr};function an(){Jr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}gr(an,Jr);function mn(){Jr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}gr(mn,Jr);function fn(){Jr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}gr(fn,Jr),fn.prototype.imulK=function(Rr){for(var Lr=0,Vr=0;Vr<Rr.length;Vr++){var Yr=(Rr.words[Vr]|0)*19+Lr,Xr=Yr&67108863;Yr>>>=26,Rr.words[Vr]=Xr,Lr=Yr}return Lr!==0&&(Rr.words[Rr.length++]=Lr),Rr},_r._prime=function(Rr){if(rn[Rr])return rn[Rr];var Lr;if(Rr==="k256")Lr=new Qr;else if(Rr==="p224")Lr=new an;else if(Rr==="p192")Lr=new mn;else if(Rr==="p25519")Lr=new fn;else throw new Error("Unknown prime "+Rr);return rn[Rr]=Lr,Lr};function gn(Fr){if(typeof Fr=="string"){var Rr=_r._prime(Fr);this.m=Rr.p,this.prime=Rr}else y(Fr.gtn(1),"modulus must be greater than 1"),this.m=Fr,this.prime=null}gn.prototype._verify1=function(Rr){y(Rr.negative===0,"red works only with positives"),y(Rr.red,"red works only with red numbers")},gn.prototype._verify2=function(Rr,Lr){y((Rr.negative|Lr.negative)===0,"red works only with positives"),y(Rr.red&&Rr.red===Lr.red,"red works only with red numbers")},gn.prototype.imod=function(Rr){return this.prime?this.prime.ireduce(Rr)._forceRed(this):(xr(Rr,Rr.umod(this.m)._forceRed(this)),Rr)},gn.prototype.neg=function(Rr){return Rr.isZero()?Rr.clone():this.m.sub(Rr)._forceRed(this)},gn.prototype.add=function(Rr,Lr){this._verify2(Rr,Lr);var Vr=Rr.add(Lr);return Vr.cmp(this.m)>=0&&Vr.isub(this.m),Vr._forceRed(this)},gn.prototype.iadd=function(Rr,Lr){this._verify2(Rr,Lr);var Vr=Rr.iadd(Lr);return Vr.cmp(this.m)>=0&&Vr.isub(this.m),Vr},gn.prototype.sub=function(Rr,Lr){this._verify2(Rr,Lr);var Vr=Rr.sub(Lr);return Vr.cmpn(0)<0&&Vr.iadd(this.m),Vr._forceRed(this)},gn.prototype.isub=function(Rr,Lr){this._verify2(Rr,Lr);var Vr=Rr.isub(Lr);return Vr.cmpn(0)<0&&Vr.iadd(this.m),Vr},gn.prototype.shl=function(Rr,Lr){return this._verify1(Rr),this.imod(Rr.ushln(Lr))},gn.prototype.imul=function(Rr,Lr){return this._verify2(Rr,Lr),this.imod(Rr.imul(Lr))},gn.prototype.mul=function(Rr,Lr){return this._verify2(Rr,Lr),this.imod(Rr.mul(Lr))},gn.prototype.isqr=function(Rr){return this.imul(Rr,Rr.clone())},gn.prototype.sqr=function(Rr){return this.mul(Rr,Rr)},gn.prototype.sqrt=function(Rr){if(Rr.isZero())return Rr.clone();var Lr=this.m.andln(3);if(y(Lr%2===1),Lr===3){var Vr=this.m.add(new _r(1)).iushrn(2);return this.pow(Rr,Vr)}for(var Yr=this.m.subn(1),Xr=0;!Yr.isZero()&&Yr.andln(1)===0;)Xr++,Yr.iushrn(1);y(!Yr.isZero());var hn=new _r(1).toRed(this),En=hn.redNeg(),qr=this.m.subn(1).iushrn(1),Br=this.m.bitLength();for(Br=new _r(2*Br*Br).toRed(this);this.pow(Br,qr).cmp(En)!==0;)Br.redIAdd(En);for(var Hr=this.pow(Br,Yr),_n=this.pow(Rr,Yr.addn(1).iushrn(1)),on=this.pow(Rr,Yr),sn=Xr;on.cmp(hn)!==0;){for(var yn=on,wn=0;yn.cmp(hn)!==0;wn++)yn=yn.redSqr();y(wn<sn);var In=this.pow(Hr,new _r(1).iushln(sn-wn-1));_n=_n.redMul(In),Hr=In.redSqr(),on=on.redMul(Hr),sn=wn}return _n},gn.prototype.invm=function(Rr){var Lr=Rr._invmp(this.m);return Lr.negative!==0?(Lr.negative=0,this.imod(Lr).redNeg()):this.imod(Lr)},gn.prototype.pow=function(Rr,Lr){if(Lr.isZero())return new _r(1).toRed(this);if(Lr.cmpn(1)===0)return Rr.clone();var Vr=4,Yr=new Array(1<<Vr);Yr[0]=new _r(1).toRed(this),Yr[1]=Rr;for(var Xr=2;Xr<Yr.length;Xr++)Yr[Xr]=this.mul(Yr[Xr-1],Rr);var hn=Yr[0],En=0,qr=0,Br=Lr.bitLength()%26;for(Br===0&&(Br=26),Xr=Lr.length-1;Xr>=0;Xr--){for(var Hr=Lr.words[Xr],_n=Br-1;_n>=0;_n--){var on=Hr>>_n&1;if(hn!==Yr[0]&&(hn=this.sqr(hn)),on===0&&En===0){qr=0;continue}En<<=1,En|=on,qr++,!(qr!==Vr&&(Xr!==0||_n!==0))&&(hn=this.mul(hn,Yr[En]),qr=0,En=0)}Br=26}return hn},gn.prototype.convertTo=function(Rr){var Lr=Rr.umod(this.m);return Lr===Rr?Lr.clone():Lr},gn.prototype.convertFrom=function(Rr){var Lr=Rr.clone();return Lr.red=null,Lr},_r.mont=function(Rr){return new Sn(Rr)};function Sn(Fr){gn.call(this,Fr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new _r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}gr(Sn,gn),Sn.prototype.convertTo=function(Rr){return this.imod(Rr.ushln(this.shift))},Sn.prototype.convertFrom=function(Rr){var Lr=this.imod(Rr.mul(this.rinv));return Lr.red=null,Lr},Sn.prototype.imul=function(Rr,Lr){if(Rr.isZero()||Lr.isZero())return Rr.words[0]=0,Rr.length=1,Rr;var Vr=Rr.imul(Lr),Yr=Vr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Xr=Vr.isub(Yr).iushrn(this.shift),hn=Xr;return Xr.cmp(this.m)>=0?hn=Xr.isub(this.m):Xr.cmpn(0)<0&&(hn=Xr.iadd(this.m)),hn._forceRed(this)},Sn.prototype.mul=function(Rr,Lr){if(Rr.isZero()||Lr.isZero())return new _r(0)._forceRed(this);var Vr=Rr.mul(Lr),Yr=Vr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Xr=Vr.isub(Yr).iushrn(this.shift),hn=Xr;return Xr.cmp(this.m)>=0?hn=Xr.isub(this.m):Xr.cmpn(0)<0&&(hn=Xr.iadd(this.m)),hn._forceRed(this)},Sn.prototype.invm=function(Rr){var Lr=this.imod(Rr._invmp(this.m).mul(this.r2));return Lr._forceRed(this)}})(u,commonjsGlobal)})(bn);const BN=bn.exports;var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(u,c){var d=buffer$2,y=d.Buffer;function gr(br,wr){for(var Er in br)wr[Er]=br[Er]}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?u.exports=d:(gr(d,c),c.Buffer=_r);function _r(br,wr,Er){return y(br,wr,Er)}_r.prototype=Object.create(y.prototype),gr(y,_r),_r.from=function(br,wr,Er){if(typeof br=="number")throw new TypeError("Argument must not be a number");return y(br,wr,Er)},_r.alloc=function(br,wr,Er){if(typeof br!="number")throw new TypeError("Argument must be a number");var Or=y(br);return wr!==void 0?typeof Er=="string"?Or.fill(wr,Er):Or.fill(wr):Or.fill(0),Or},_r.allocUnsafe=function(br){if(typeof br!="number")throw new TypeError("Argument must be a number");return y(br)},_r.allocUnsafeSlow=function(br){if(typeof br!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(br)}})(safeBuffer,safeBuffer.exports);var _Buffer=safeBuffer.exports.Buffer;function base(u){if(u.length>=255)throw new TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var y=0;y<u.length;y++){var gr=u.charAt(y),_r=gr.charCodeAt(0);if(c[_r]!==255)throw new TypeError(gr+" is ambiguous");c[_r]=y}var br=u.length,wr=u.charAt(0),Er=Math.log(br)/Math.log(256),Or=Math.log(256)/Math.log(br);function xr(Cr){if((Array.isArray(Cr)||Cr instanceof Uint8Array)&&(Cr=_Buffer.from(Cr)),!_Buffer.isBuffer(Cr))throw new TypeError("Expected Buffer");if(Cr.length===0)return"";for(var Nr=0,Ur=0,Dr=0,zr=Cr.length;Dr!==zr&&Cr[Dr]===0;)Dr++,Nr++;for(var Zr=(zr-Dr)*Or+1>>>0,Wr=new Uint8Array(Zr);Dr!==zr;){for(var tn=Cr[Dr],rn=0,Jr=Zr-1;(tn!==0||rn<Ur)&&Jr!==-1;Jr--,rn++)tn+=256*Wr[Jr]>>>0,Wr[Jr]=tn%br>>>0,tn=tn/br>>>0;if(tn!==0)throw new Error("Non-zero carry");Ur=rn,Dr++}for(var Qr=Zr-Ur;Qr!==Zr&&Wr[Qr]===0;)Qr++;for(var an=wr.repeat(Nr);Qr<Zr;++Qr)an+=u.charAt(Wr[Qr]);return an}function kr(Cr){if(typeof Cr!="string")throw new TypeError("Expected String");if(Cr.length===0)return _Buffer.alloc(0);for(var Nr=0,Ur=0,Dr=0;Cr[Nr]===wr;)Ur++,Nr++;for(var zr=(Cr.length-Nr)*Er+1>>>0,Zr=new Uint8Array(zr);Cr[Nr];){var Wr=c[Cr.charCodeAt(Nr)];if(Wr===255)return;for(var tn=0,rn=zr-1;(Wr!==0||tn<Dr)&&rn!==-1;rn--,tn++)Wr+=br*Zr[rn]>>>0,Zr[rn]=Wr%256>>>0,Wr=Wr/256>>>0;if(Wr!==0)throw new Error("Non-zero carry");Dr=tn,Nr++}for(var Jr=zr-Dr;Jr!==zr&&Zr[Jr]===0;)Jr++;var Qr=_Buffer.allocUnsafe(Ur+(zr-Jr));Qr.fill(0,0,Ur);for(var an=Ur;Jr!==zr;)Qr[an++]=Zr[Jr++];return Qr}function Mr(Cr){var Nr=kr(Cr);if(Nr)return Nr;throw new Error("Non-base"+br+" character")}return{encode:xr,decodeUnsafe:kr,decode:Mr}}var src$1=base,basex=src$1,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);const Chi=(u,c,d)=>u&c^~u&d,Maj=(u,c,d)=>u&c^u&d^c&d,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:c,B:d,C:y,D:gr,E:_r,F:br,G:wr,H:Er}=this;return[c,d,y,gr,_r,br,wr,Er]}set(c,d,y,gr,_r,br,wr,Er){this.A=c|0,this.B=d|0,this.C=y|0,this.D=gr|0,this.E=_r|0,this.F=br|0,this.G=wr|0,this.H=Er|0}process(c,d){for(let kr=0;kr<16;kr++,d+=4)SHA256_W[kr]=c.getUint32(d,!1);for(let kr=16;kr<64;kr++){const Mr=SHA256_W[kr-15],Cr=SHA256_W[kr-2],Nr=rotr(Mr,7)^rotr(Mr,18)^Mr>>>3,Ur=rotr(Cr,17)^rotr(Cr,19)^Cr>>>10;SHA256_W[kr]=Ur+SHA256_W[kr-7]+Nr+SHA256_W[kr-16]|0}let{A:y,B:gr,C:_r,D:br,E:wr,F:Er,G:Or,H:xr}=this;for(let kr=0;kr<64;kr++){const Mr=rotr(wr,6)^rotr(wr,11)^rotr(wr,25),Cr=xr+Mr+Chi(wr,Er,Or)+SHA256_K[kr]+SHA256_W[kr]|0,Ur=(rotr(y,2)^rotr(y,13)^rotr(y,22))+Maj(y,gr,_r)|0;xr=Or,Or=Er,Er=wr,wr=br+Cr|0,br=_r,_r=gr,gr=y,y=Cr+Ur|0}y=y+this.A|0,gr=gr+this.B|0,_r=_r+this.C|0,br=br+this.D|0,wr=wr+this.E|0,Er=Er+this.F|0,Or=Or+this.G|0,xr=xr+this.H|0,this.set(y,gr,_r,br,wr,Er,Or,xr)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);var lib$1={};function inRange(u,c,d){return c<=u&&u<=d}function ToDictionary(u){if(u===void 0)return{};if(u===Object(u))return u;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(u){for(var c=String(u),d=c.length,y=0,gr=[];y<d;){var _r=c.charCodeAt(y);if(_r<55296||_r>57343)gr.push(_r);else if(56320<=_r&&_r<=57343)gr.push(65533);else if(55296<=_r&&_r<=56319)if(y===d-1)gr.push(65533);else{var br=u.charCodeAt(y+1);if(56320<=br&&br<=57343){var wr=_r&1023,Er=br&1023;gr.push(65536+(wr<<10)+Er),y+=1}else gr.push(65533)}y+=1}return gr}function codePointsToString(u){for(var c="",d=0;d<u.length;++d){var y=u[d];y<=65535?c+=String.fromCharCode(y):(y-=65536,c+=String.fromCharCode((y>>10)+55296,(y&1023)+56320))}return c}var end_of_stream=-1;function Stream(u){this.tokens=[].slice.call(u)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(u){if(Array.isArray(u))for(var c=u;c.length;)this.tokens.unshift(c.pop());else this.tokens.unshift(u)},push:function(u){if(Array.isArray(u))for(var c=u;c.length;)this.tokens.push(c.shift());else this.tokens.push(u)}};var finished=-1;function decoderError(u,c){if(u)throw TypeError("Decoder error");return c||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(u,c){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(u,c);if(u=u!==void 0?String(u).toLowerCase():DEFAULT_ENCODING,u!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");c=ToDictionary(c),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(c.fatal),this._ignoreBOM=Boolean(c.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(c,d){var y;typeof c=="object"&&c instanceof ArrayBuffer?y=new Uint8Array(c):typeof c=="object"&&"buffer"in c&&c.buffer instanceof ArrayBuffer?y=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):y=new Uint8Array(0),d=ToDictionary(d),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(d.stream);for(var gr=new Stream(y),_r=[],br;!gr.endOfStream()&&(br=this._decoder.handler(gr,gr.read()),br!==finished);)br!==null&&(Array.isArray(br)?_r.push.apply(_r,br):_r.push(br));if(!this._streaming){do{if(br=this._decoder.handler(gr,gr.read()),br===finished)break;br!==null&&(Array.isArray(br)?_r.push.apply(_r,br):_r.push(br))}while(!gr.endOfStream());this._decoder=null}return _r.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(_r[0]===65279?(this._BOMseen=!0,_r.shift()):this._BOMseen=!0),codePointsToString(_r)}};function TextEncoder$1(u,c){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(u,c);if(u=u!==void 0?String(u).toLowerCase():DEFAULT_ENCODING,u!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");c=ToDictionary(c),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(c.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(c,d){c=c?String(c):"",d=ToDictionary(d),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(d.stream);for(var y=[],gr=new Stream(stringToCodePoints(c)),_r;!gr.endOfStream()&&(_r=this._encoder.handler(gr,gr.read()),_r!==finished);)Array.isArray(_r)?y.push.apply(y,_r):y.push(_r);if(!this._streaming){for(;_r=this._encoder.handler(gr,gr.read()),_r!==finished;)Array.isArray(_r)?y.push.apply(y,_r):y.push(_r);this._encoder=null}return new Uint8Array(y)}};function UTF8Decoder(u){var c=u.fatal,d=0,y=0,gr=0,_r=128,br=191;this.handler=function(wr,Er){if(Er===end_of_stream&&gr!==0)return gr=0,decoderError(c);if(Er===end_of_stream)return finished;if(gr===0){if(inRange(Er,0,127))return Er;if(inRange(Er,194,223))gr=1,d=Er-192;else if(inRange(Er,224,239))Er===224&&(_r=160),Er===237&&(br=159),gr=2,d=Er-224;else if(inRange(Er,240,244))Er===240&&(_r=144),Er===244&&(br=143),gr=3,d=Er-240;else return decoderError(c);return d=d<<6*gr,null}if(!inRange(Er,_r,br))return d=gr=y=0,_r=128,br=191,wr.prepend(Er),decoderError(c);if(_r=128,br=191,y+=1,d+=Er-128<<6*(gr-y),y!==gr)return null;var Or=d;return d=gr=y=0,Or}}function UTF8Encoder(u){u.fatal,this.handler=function(c,d){if(d===end_of_stream)return finished;if(inRange(d,0,127))return d;var y,gr;inRange(d,128,2047)?(y=1,gr=192):inRange(d,2048,65535)?(y=2,gr=224):inRange(d,65536,1114111)&&(y=3,gr=240);for(var _r=[(d>>6*y)+gr];y>0;){var br=d>>6*(y-1);_r.push(128|br&63),y-=1}return _r}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(encoding$1);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,c,d,y){y===void 0&&(y=d),Object.defineProperty(u,y,{enumerable:!0,get:function(){return c[d]}})}:function(u,c,d,y){y===void 0&&(y=d),u[y]=c[d]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(u,c,d,y){var gr=arguments.length,_r=gr<3?c:y===null?y=Object.getOwnPropertyDescriptor(c,d):y,br;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_r=Reflect.decorate(u,c,d,y);else for(var wr=u.length-1;wr>=0;wr--)(br=u[wr])&&(_r=(gr<3?br(_r):gr>3?br(c,d,_r):br(c,d))||_r);return gr>3&&_r&&Object.defineProperty(c,d,_r),_r},__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var d in u)d!=="default"&&Object.hasOwnProperty.call(u,d)&&__createBinding$2(c,u,d);return __setModuleDefault$2(c,u),c},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(lib$1,"__esModule",{value:!0});var deserializeUnchecked_1=lib$1.deserializeUnchecked=deserialize_1=lib$1.deserialize=serialize_1=lib$1.serialize=lib$1.BinaryReader=lib$1.BinaryWriter=lib$1.BorshError=lib$1.baseDecode=lib$1.baseEncode=void 0;const bn_js_1=__importDefault(bn.exports),bs58_1=__importDefault(bs58),encoding=__importStar$2(require$$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(u){return typeof u=="string"&&(u=Buffer.from(u,"utf8")),bs58_1.default.encode(Buffer.from(u))}lib$1.baseEncode=baseEncode;function baseDecode(u){return Buffer.from(bs58_1.default.decode(u))}lib$1.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(c){super(c),this.fieldPath=[],this.originalMessage=c}addToFieldPath(c){this.fieldPath.splice(0,0,c),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$1.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(c){this.maybeResize(),this.buf.writeUInt8(c,this.length),this.length+=1}writeU16(c){this.maybeResize(),this.buf.writeUInt16LE(c,this.length),this.length+=2}writeU32(c){this.maybeResize(),this.buf.writeUInt32LE(c,this.length),this.length+=4}writeU64(c){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(c).toArray("le",8)))}writeU128(c){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(c).toArray("le",16)))}writeU256(c){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(c).toArray("le",32)))}writeU512(c){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(c).toArray("le",64)))}writeBuffer(c){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),c,Buffer.alloc(INITIAL_LENGTH)]),this.length+=c.length}writeString(c){this.maybeResize();const d=Buffer.from(c,"utf8");this.writeU32(d.length),this.writeBuffer(d)}writeFixedArray(c){this.writeBuffer(Buffer.from(c))}writeArray(c,d){this.maybeResize(),this.writeU32(c.length);for(const y of c)this.maybeResize(),d(y)}toArray(){return this.buf.subarray(0,this.length)}}lib$1.BinaryWriter=BinaryWriter;function handlingRangeError(u,c,d){const y=d.value;d.value=function(...gr){try{return y.apply(this,gr)}catch(_r){if(_r instanceof RangeError){const br=_r.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(br)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw _r}}}class BinaryReader{constructor(c){this.buf=c,this.offset=0}readU8(){const c=this.buf.readUInt8(this.offset);return this.offset+=1,c}readU16(){const c=this.buf.readUInt16LE(this.offset);return this.offset+=2,c}readU32(){const c=this.buf.readUInt32LE(this.offset);return this.offset+=4,c}readU64(){const c=this.readBuffer(8);return new bn_js_1.default(c,"le")}readU128(){const c=this.readBuffer(16);return new bn_js_1.default(c,"le")}readU256(){const c=this.readBuffer(32);return new bn_js_1.default(c,"le")}readU512(){const c=this.readBuffer(64);return new bn_js_1.default(c,"le")}readBuffer(c){if(this.offset+c>this.buf.length)throw new BorshError(`Expected buffer length ${c} isn't within bounds`);const d=this.buf.slice(this.offset,this.offset+c);return this.offset+=c,d}readString(){const c=this.readU32(),d=this.readBuffer(c);try{return textDecoder.decode(d)}catch(y){throw new BorshError(`Error decoding UTF-8 string: ${y}`)}}readFixedArray(c){return new Uint8Array(this.readBuffer(c))}readArray(c){const d=this.readU32(),y=Array();for(let gr=0;gr<d;++gr)y.push(c());return y}}__decorate$2([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$1.BinaryReader=BinaryReader;function capitalizeFirstLetter(u){return u.charAt(0).toUpperCase()+u.slice(1)}function serializeField(u,c,d,y,gr){try{if(typeof y=="string")gr[`write${capitalizeFirstLetter(y)}`](d);else if(y instanceof Array)if(typeof y[0]=="number"){if(d.length!==y[0])throw new BorshError(`Expecting byte array of length ${y[0]}, but got ${d.length} bytes`);gr.writeFixedArray(d)}else if(y.length===2&&typeof y[1]=="number"){if(d.length!==y[1])throw new BorshError(`Expecting byte array of length ${y[1]}, but got ${d.length} bytes`);for(let _r=0;_r<y[1];_r++)serializeField(u,null,d[_r],y[0],gr)}else gr.writeArray(d,_r=>{serializeField(u,c,_r,y[0],gr)});else if(y.kind!==void 0)switch(y.kind){case"option":{d==null?gr.writeU8(0):(gr.writeU8(1),serializeField(u,c,d,y.type,gr));break}case"map":{gr.writeU32(d.size),d.forEach((_r,br)=>{serializeField(u,c,br,y.key,gr),serializeField(u,c,_r,y.value,gr)});break}default:throw new BorshError(`FieldType ${y} unrecognized`)}else serializeStruct(u,d,gr)}catch(_r){throw _r instanceof BorshError&&_r.addToFieldPath(c),_r}}function serializeStruct(u,c,d){if(typeof c.borshSerialize=="function"){c.borshSerialize(d);return}const y=u.get(c.constructor);if(!y)throw new BorshError(`Class ${c.constructor.name} is missing in schema`);if(y.kind==="struct")y.fields.map(([gr,_r])=>{serializeField(u,gr,c[gr],_r,d)});else if(y.kind==="enum"){const gr=c[y.field];for(let _r=0;_r<y.values.length;++_r){const[br,wr]=y.values[_r];if(br===gr){d.writeU8(_r),serializeField(u,br,c[br],wr,d);break}}}else throw new BorshError(`Unexpected schema kind: ${y.kind} for ${c.constructor.name}`)}function serialize(u,c,d=BinaryWriter){const y=new d;return serializeStruct(u,c,y),y.toArray()}var serialize_1=lib$1.serialize=serialize;function deserializeField(u,c,d,y){try{if(typeof d=="string")return y[`read${capitalizeFirstLetter(d)}`]();if(d instanceof Array){if(typeof d[0]=="number")return y.readFixedArray(d[0]);if(typeof d[1]=="number"){const gr=[];for(let _r=0;_r<d[1];_r++)gr.push(deserializeField(u,null,d[0],y));return gr}else return y.readArray(()=>deserializeField(u,c,d[0],y))}if(d.kind==="option")return y.readU8()?deserializeField(u,c,d.type,y):void 0;if(d.kind==="map"){let gr=new Map;const _r=y.readU32();for(let br=0;br<_r;br++){const wr=deserializeField(u,c,d.key,y),Er=deserializeField(u,c,d.value,y);gr.set(wr,Er)}return gr}return deserializeStruct(u,d,y)}catch(gr){throw gr instanceof BorshError&&gr.addToFieldPath(c),gr}}function deserializeStruct(u,c,d){if(typeof c.borshDeserialize=="function")return c.borshDeserialize(d);const y=u.get(c);if(!y)throw new BorshError(`Class ${c.name} is missing in schema`);if(y.kind==="struct"){const gr={};for(const[_r,br]of u.get(c).fields)gr[_r]=deserializeField(u,_r,br,d);return new c(gr)}if(y.kind==="enum"){const gr=d.readU8();if(gr>=y.values.length)throw new BorshError(`Enum index: ${gr} is out of range`);const[_r,br]=y.values[gr],wr=deserializeField(u,_r,br,d);return new c({[_r]:wr})}throw new BorshError(`Unexpected schema kind: ${y.kind} for ${c.constructor.name}`)}function deserialize(u,c,d,y=BinaryReader){const gr=new y(d),_r=deserializeStruct(u,c,gr);if(gr.offset<d.length)throw new BorshError(`Unexpected ${d.length-gr.offset} bytes after deserialized data`);return _r}var deserialize_1=lib$1.deserialize=deserialize;function deserializeUnchecked(u,c,d,y=BinaryReader){const gr=new y(d);return deserializeStruct(u,c,gr)}deserializeUnchecked_1=lib$1.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$1=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$1=Layout$4.u8=offset=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$1=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$1=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=buffer$2;function checkUint8Array(u){if(!(u instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(u){return checkUint8Array(u),buffer_1.Buffer.from(u.buffer,u.byteOffset,u.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$3{constructor(c,d){if(!Number.isInteger(c))throw new TypeError("span must be an integer");this.span=c,this.property=d}makeDestinationObject(){return{}}getSpan(c,d){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(c){const d=Object.create(this.constructor.prototype);return Object.assign(d,this),d.property=c,d}fromArray(c){}}Layout$4.Layout=Layout$3;function nameWithProperty$2(u,c){return c.property?u+"["+c.property+"]":u}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(u,c){if(typeof u!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(u,"layout_"))throw new Error("Class is already bound to a layout");if(!(c&&c instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(c,"boundConstructor_"))throw new Error("layout is already bound to a constructor");u.layout_=c,c.boundConstructor_=u,c.makeDestinationObject=()=>new u,Object.defineProperty(u.prototype,"encode",{value(d,y){return c.encode(this,d,y)},writable:!0}),Object.defineProperty(u,"decode",{value(d,y){return c.decode(d,y)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$2 extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$4.ExternalLayout=ExternalLayout$2;class GreedyCount$1 extends ExternalLayout$2{constructor(c=1,d){if(!Number.isInteger(c)||0>=c)throw new TypeError("elementSpan must be a (positive) integer");super(-1,d),this.elementSpan=c}isCount(){return!0}decode(c,d=0){checkUint8Array(c);const y=c.length-d;return Math.floor(y/this.elementSpan)}encode(c,d,y){return 0}}Layout$4.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$2{constructor(c,d=0,y){if(!(c instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(d))throw new TypeError("offset must be integer or undefined");super(c.span,y||c.property),this.layout=c,this.offset=d}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$1}decode(c,d=0){return this.layout.decode(c,d+this.offset)}encode(c,d,y=0){return this.layout.encode(c,d,y+this.offset)}}Layout$4.OffsetLayout=OffsetLayout$1;class UInt$2 extends Layout$3{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d=0){return uint8ArrayToBuffer(c).readUIntLE(d,this.span)}encode(c,d,y=0){return uint8ArrayToBuffer(d).writeUIntLE(c,y,this.span),this.span}}Layout$4.UInt=UInt$2;class UIntBE$1 extends Layout$3{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d=0){return uint8ArrayToBuffer(c).readUIntBE(d,this.span)}encode(c,d,y=0){return uint8ArrayToBuffer(d).writeUIntBE(c,y,this.span),this.span}}Layout$4.UIntBE=UIntBE$1;class Int$1 extends Layout$3{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d=0){return uint8ArrayToBuffer(c).readIntLE(d,this.span)}encode(c,d,y=0){return uint8ArrayToBuffer(d).writeIntLE(c,y,this.span),this.span}}Layout$4.Int=Int$1;class IntBE$1 extends Layout$3{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d=0){return uint8ArrayToBuffer(c).readIntBE(d,this.span)}encode(c,d,y=0){return uint8ArrayToBuffer(d).writeIntBE(c,y,this.span),this.span}}Layout$4.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(u){const c=Math.floor(u/V2E32$1),d=u-c*V2E32$1;return{hi32:c,lo32:d}}function roundedInt64$1(u,c){return u*V2E32$1+c}class NearUInt64$1 extends Layout$3{constructor(c){super(8,c)}decode(c,d=0){const y=uint8ArrayToBuffer(c),gr=y.readUInt32LE(d),_r=y.readUInt32LE(d+4);return roundedInt64$1(_r,gr)}encode(c,d,y=0){const gr=divmodInt64$1(c),_r=uint8ArrayToBuffer(d);return _r.writeUInt32LE(gr.lo32,y),_r.writeUInt32LE(gr.hi32,y+4),8}}Layout$4.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$3{constructor(c){super(8,c)}decode(c,d=0){const y=uint8ArrayToBuffer(c),gr=y.readUInt32BE(d),_r=y.readUInt32BE(d+4);return roundedInt64$1(gr,_r)}encode(c,d,y=0){const gr=divmodInt64$1(c),_r=uint8ArrayToBuffer(d);return _r.writeUInt32BE(gr.hi32,y),_r.writeUInt32BE(gr.lo32,y+4),8}}Layout$4.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$3{constructor(c){super(8,c)}decode(c,d=0){const y=uint8ArrayToBuffer(c),gr=y.readUInt32LE(d),_r=y.readInt32LE(d+4);return roundedInt64$1(_r,gr)}encode(c,d,y=0){const gr=divmodInt64$1(c),_r=uint8ArrayToBuffer(d);return _r.writeUInt32LE(gr.lo32,y),_r.writeInt32LE(gr.hi32,y+4),8}}Layout$4.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$3{constructor(c){super(8,c)}decode(c,d=0){const y=uint8ArrayToBuffer(c),gr=y.readInt32BE(d),_r=y.readUInt32BE(d+4);return roundedInt64$1(gr,_r)}encode(c,d,y=0){const gr=divmodInt64$1(c),_r=uint8ArrayToBuffer(d);return _r.writeInt32BE(gr.hi32,y),_r.writeUInt32BE(gr.lo32,y+4),8}}Layout$4.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$3{constructor(c){super(4,c)}decode(c,d=0){return uint8ArrayToBuffer(c).readFloatLE(d)}encode(c,d,y=0){return uint8ArrayToBuffer(d).writeFloatLE(c,y),4}}Layout$4.Float=Float$1;class FloatBE$1 extends Layout$3{constructor(c){super(4,c)}decode(c,d=0){return uint8ArrayToBuffer(c).readFloatBE(d)}encode(c,d,y=0){return uint8ArrayToBuffer(d).writeFloatBE(c,y),4}}Layout$4.FloatBE=FloatBE$1;class Double$1 extends Layout$3{constructor(c){super(8,c)}decode(c,d=0){return uint8ArrayToBuffer(c).readDoubleLE(d)}encode(c,d,y=0){return uint8ArrayToBuffer(d).writeDoubleLE(c,y),8}}Layout$4.Double=Double$1;class DoubleBE$1 extends Layout$3{constructor(c){super(8,c)}decode(c,d=0){return uint8ArrayToBuffer(c).readDoubleBE(d)}encode(c,d,y=0){return uint8ArrayToBuffer(d).writeDoubleBE(c,y),8}}Layout$4.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$3{constructor(c,d,y){if(!(c instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(d instanceof ExternalLayout$2&&d.isCount()||Number.isInteger(d)&&0<=d))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let gr=-1;!(d instanceof ExternalLayout$2)&&0<c.span&&(gr=d*c.span),super(gr,y),this.elementLayout=c,this.count=d}getSpan(c,d=0){if(0<=this.span)return this.span;let y=0,gr=this.count;if(gr instanceof ExternalLayout$2&&(gr=gr.decode(c,d)),0<this.elementLayout.span)y=gr*this.elementLayout.span;else{let _r=0;for(;_r<gr;)y+=this.elementLayout.getSpan(c,d+y),++_r}return y}decode(c,d=0){const y=[];let gr=0,_r=this.count;for(_r instanceof ExternalLayout$2&&(_r=_r.decode(c,d));gr<_r;)y.push(this.elementLayout.decode(c,d)),d+=this.elementLayout.getSpan(c,d),gr+=1;return y}encode(c,d,y=0){const gr=this.elementLayout,_r=c.reduce((br,wr)=>br+gr.encode(wr,d,y+br),0);return this.count instanceof ExternalLayout$2&&this.count.encode(c.length,d,y),_r}}Layout$4.Sequence=Sequence$1;class Structure$2 extends Layout$3{constructor(c,d,y){if(!(Array.isArray(c)&&c.reduce((_r,br)=>_r&&br instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof d=="boolean"&&y===void 0&&(y=d,d=void 0);for(const _r of c)if(0>_r.span&&_r.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let gr=-1;try{gr=c.reduce((_r,br)=>_r+br.getSpan(),0)}catch{}super(gr,d),this.fields=c,this.decodePrefixes=!!y}getSpan(c,d=0){if(0<=this.span)return this.span;let y=0;try{y=this.fields.reduce((gr,_r)=>{const br=_r.getSpan(c,d);return d+=br,gr+br},0)}catch{throw new RangeError("indeterminate span")}return y}decode(c,d=0){checkUint8Array(c);const y=this.makeDestinationObject();for(const gr of this.fields)if(gr.property!==void 0&&(y[gr.property]=gr.decode(c,d)),d+=gr.getSpan(c,d),this.decodePrefixes&&c.length===d)break;return y}encode(c,d,y=0){const gr=y;let _r=0,br=0;for(const wr of this.fields){let Er=wr.span;if(br=0<Er?Er:0,wr.property!==void 0){const Or=c[wr.property];Or!==void 0&&(br=wr.encode(Or,d,y),0>Er&&(Er=wr.getSpan(d,y)))}_r=y,y+=Er}return _r+br-gr}fromArray(c){const d=this.makeDestinationObject();for(const y of this.fields)y.property!==void 0&&0<c.length&&(d[y.property]=c.shift());return d}layoutFor(c){if(typeof c!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===c)return d}offsetOf(c){if(typeof c!="string")throw new TypeError("property must be string");let d=0;for(const y of this.fields){if(y.property===c)return d;0>y.span?d=-1:0<=d&&(d+=y.span)}}}Layout$4.Structure=Structure$2;class UnionDiscriminator$1{constructor(c){this.property=c}decode(c,d){throw new Error("UnionDiscriminator is abstract")}encode(c,d,y){throw new Error("UnionDiscriminator is abstract")}}Layout$4.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(c,d){if(!(c instanceof ExternalLayout$2&&c.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(d||c.property||"variant"),this.layout=c}decode(c,d){return this.layout.decode(c,d)}encode(c,d,y){return this.layout.encode(c,d,y)}}Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$3{constructor(c,d,y){let gr;if(c instanceof UInt$2||c instanceof UIntBE$1)gr=new UnionLayoutDiscriminator$1(new OffsetLayout$1(c));else if(c instanceof ExternalLayout$2&&c.isCount())gr=new UnionLayoutDiscriminator$1(c);else if(c instanceof UnionDiscriminator$1)gr=c;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(d===void 0&&(d=null),!(d===null||d instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(d!==null){if(0>d.span)throw new Error("defaultLayout must have constant span");d.property===void 0&&(d=d.replicate("content"))}let _r=-1;d&&(_r=d.span,0<=_r&&(c instanceof UInt$2||c instanceof UIntBE$1)&&(_r+=gr.layout.span)),super(_r,y),this.discriminator=gr,this.usesPrefixDiscriminator=c instanceof UInt$2||c instanceof UIntBE$1,this.defaultLayout=d,this.registry={};let br=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(wr){return br(wr)},this.configGetSourceVariant=function(wr){br=wr.bind(this)}}getSpan(c,d=0){if(0<=this.span)return this.span;const y=this.getVariant(c,d);if(!y)throw new Error("unable to determine span for unrecognized variant");return y.getSpan(c,d)}defaultGetSourceVariant(c){if(Object.prototype.hasOwnProperty.call(c,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(c,this.defaultLayout.property))return;const d=this.registry[c[this.discriminator.property]];if(d&&(!d.layout||d.property&&Object.prototype.hasOwnProperty.call(c,d.property)))return d}else for(const d in this.registry){const y=this.registry[d];if(y.property&&Object.prototype.hasOwnProperty.call(c,y.property))return y}throw new Error("unable to infer src variant")}decode(c,d=0){let y;const gr=this.discriminator,_r=gr.decode(c,d),br=this.registry[_r];if(br===void 0){const wr=this.defaultLayout;let Er=0;this.usesPrefixDiscriminator&&(Er=gr.layout.span),y=this.makeDestinationObject(),y[gr.property]=_r,y[wr.property]=wr.decode(c,d+Er)}else y=br.decode(c,d);return y}encode(c,d,y=0){const gr=this.getSourceVariant(c);if(gr===void 0){const _r=this.discriminator,br=this.defaultLayout;let wr=0;return this.usesPrefixDiscriminator&&(wr=_r.layout.span),_r.encode(c[_r.property],d,y),wr+br.encode(c[br.property],d,y+wr)}return gr.encode(c,d,y)}addVariant(c,d,y){const gr=new VariantLayout$1(this,c,d,y);return this.registry[c]=gr,gr}getVariant(c,d=0){let y;return c instanceof Uint8Array?y=this.discriminator.decode(c,d):y=c,this.registry[y]}}Layout$4.Union=Union$1;class VariantLayout$1 extends Layout$3{constructor(c,d,y,gr){if(!(c instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(d)||0>d)throw new TypeError("variant must be a (non-negative) integer");if(typeof y=="string"&&gr===void 0&&(gr=y,y=null),y){if(!(y instanceof Layout$3))throw new TypeError("layout must be a Layout");if(c.defaultLayout!==null&&0<=y.span&&y.span>c.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof gr!="string")throw new TypeError("variant must have a String property")}let _r=c.span;0>c.span&&(_r=y?y.span:0,0<=_r&&c.usesPrefixDiscriminator&&(_r+=c.discriminator.layout.span)),super(_r,gr),this.union=c,this.variant=d,this.layout=y||null}getSpan(c,d=0){if(0<=this.span)return this.span;let y=0;this.union.usesPrefixDiscriminator&&(y=this.union.discriminator.layout.span);let gr=0;return this.layout&&(gr=this.layout.getSpan(c,d+y)),y+gr}decode(c,d=0){const y=this.makeDestinationObject();if(this!==this.union.getVariant(c,d))throw new Error("variant mismatch");let gr=0;return this.union.usesPrefixDiscriminator&&(gr=this.union.discriminator.layout.span),this.layout?y[this.property]=this.layout.decode(c,d+gr):this.property?y[this.property]=!0:this.union.usesPrefixDiscriminator&&(y[this.union.discriminator.property]=this.variant),y}encode(c,d,y=0){let gr=0;if(this.union.usesPrefixDiscriminator&&(gr=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(c,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,d,y);let _r=gr;if(this.layout&&(this.layout.encode(c[this.property],d,y+gr),_r+=this.layout.getSpan(d,y+gr),0<=this.union.span&&_r>this.union.span))throw new Error("encoded variant overruns containing union");return _r}fromArray(c){if(this.layout)return this.layout.fromArray(c)}}Layout$4.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(u){return 0>u&&(u+=4294967296),u}class BitStructure$1 extends Layout$3{constructor(c,d,y){if(!(c instanceof UInt$2||c instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof d=="string"&&y===void 0&&(y=d,d=!1),4<c.span)throw new RangeError("word cannot exceed 32 bits");super(c.span,y),this.word=c,this.msb=!!d,this.fields=[];let gr=0;this._packedSetValue=function(_r){return gr=fixBitwiseResult$1(_r),this},this._packedGetValue=function(){return gr}}decode(c,d=0){const y=this.makeDestinationObject(),gr=this.word.decode(c,d);this._packedSetValue(gr);for(const _r of this.fields)_r.property!==void 0&&(y[_r.property]=_r.decode(c));return y}encode(c,d,y=0){const gr=this.word.decode(d,y);this._packedSetValue(gr);for(const _r of this.fields)if(_r.property!==void 0){const br=c[_r.property];br!==void 0&&_r.encode(br)}return this.word.encode(this._packedGetValue(),d,y)}addField(c,d){const y=new BitField$1(this,c,d);return this.fields.push(y),y}addBoolean(c){const d=new Boolean$2(this,c);return this.fields.push(d),d}fieldFor(c){if(typeof c!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===c)return d}}Layout$4.BitStructure=BitStructure$1;class BitField$1{constructor(c,d,y){if(!(c instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(d)||0>=d)throw new TypeError("bits must be positive integer");const gr=8*c.span,_r=c.fields.reduce((br,wr)=>br+wr.bits,0);if(d+_r>gr)throw new Error("bits too long for span remainder ("+(gr-_r)+" of "+gr+" remain)");this.container=c,this.bits=d,this.valueMask=(1<<d)-1,d===32&&(this.valueMask=4294967295),this.start=_r,this.container.msb&&(this.start=gr-_r-d),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=y}decode(c,d){const y=this.container._packedGetValue();return fixBitwiseResult$1(y&this.wordMask)>>>this.start}encode(c){if(typeof c!="number"||!Number.isInteger(c)||c!==fixBitwiseResult$1(c&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const d=this.container._packedGetValue(),y=fixBitwiseResult$1(c<<this.start);this.container._packedSetValue(fixBitwiseResult$1(d&~this.wordMask)|y)}}Layout$4.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(c,d){super(c,1,d)}decode(c,d){return!!super.decode(c,d)}encode(c){typeof c=="boolean"&&(c=+c),super.encode(c)}}Layout$4.Boolean=Boolean$2;class Blob$3 extends Layout$3{constructor(c,d){if(!(c instanceof ExternalLayout$2&&c.isCount()||Number.isInteger(c)&&0<=c))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let y=-1;c instanceof ExternalLayout$2||(y=c),super(y,d),this.length=c}getSpan(c,d){let y=this.span;return 0>y&&(y=this.length.decode(c,d)),y}decode(c,d=0){let y=this.span;return 0>y&&(y=this.length.decode(c,d)),uint8ArrayToBuffer(c).slice(d,d+y)}encode(c,d,y){let gr=this.length;if(this.length instanceof ExternalLayout$2&&(gr=c.length),!(c instanceof Uint8Array&&gr===c.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+gr+") Uint8Array as src");if(y+gr>d.length)throw new RangeError("encoding overruns Uint8Array");const _r=uint8ArrayToBuffer(c);return uint8ArrayToBuffer(d).write(_r.toString("hex"),y,gr,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(gr,d,y),gr}}Layout$4.Blob=Blob$3;class CString$1 extends Layout$3{constructor(c){super(-1,c)}getSpan(c,d=0){checkUint8Array(c);let y=d;for(;y<c.length&&c[y]!==0;)y+=1;return 1+y-d}decode(c,d=0){const y=this.getSpan(c,d);return uint8ArrayToBuffer(c).slice(d,d+y-1).toString("utf-8")}encode(c,d,y=0){typeof c!="string"&&(c=String(c));const gr=buffer_1.Buffer.from(c,"utf8"),_r=gr.length;if(y+_r>d.length)throw new RangeError("encoding overruns Buffer");const br=uint8ArrayToBuffer(d);return gr.copy(br,y),br[y+_r]=0,_r+1}}Layout$4.CString=CString$1;class UTF8$1 extends Layout$3{constructor(c,d){if(typeof c=="string"&&d===void 0&&(d=c,c=void 0),c===void 0)c=-1;else if(!Number.isInteger(c))throw new TypeError("maxSpan must be an integer");super(-1,d),this.maxSpan=c}getSpan(c,d=0){return checkUint8Array(c),c.length-d}decode(c,d=0){const y=this.getSpan(c,d);if(0<=this.maxSpan&&this.maxSpan<y)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(c).slice(d,d+y).toString("utf-8")}encode(c,d,y=0){typeof c!="string"&&(c=String(c));const gr=buffer_1.Buffer.from(c,"utf8"),_r=gr.length;if(0<=this.maxSpan&&this.maxSpan<_r)throw new RangeError("text length exceeds maxSpan");if(y+_r>d.length)throw new RangeError("encoding overruns Buffer");return gr.copy(uint8ArrayToBuffer(d),y),_r}}Layout$4.UTF8=UTF8$1;class Constant$1 extends Layout$3{constructor(c,d){super(0,d),this.value=c}decode(c,d){return this.value}encode(c,d,y){return 0}}Layout$4.Constant=Constant$1;Layout$4.greedy=(u,c)=>new GreedyCount$1(u,c);var offset=Layout$4.offset=(u,c,d)=>new OffsetLayout$1(u,c,d),u8$1=Layout$4.u8=u=>new UInt$2(1,u),u16=Layout$4.u16=u=>new UInt$2(2,u);Layout$4.u24=u=>new UInt$2(3,u);var u32$1=Layout$4.u32=u=>new UInt$2(4,u);Layout$4.u40=u=>new UInt$2(5,u);Layout$4.u48=u=>new UInt$2(6,u);var nu64=Layout$4.nu64=u=>new NearUInt64$1(u);Layout$4.u16be=u=>new UIntBE$1(2,u);Layout$4.u24be=u=>new UIntBE$1(3,u);Layout$4.u32be=u=>new UIntBE$1(4,u);Layout$4.u40be=u=>new UIntBE$1(5,u);Layout$4.u48be=u=>new UIntBE$1(6,u);Layout$4.nu64be=u=>new NearUInt64BE$1(u);Layout$4.s8=u=>new Int$1(1,u);Layout$4.s16=u=>new Int$1(2,u);Layout$4.s24=u=>new Int$1(3,u);Layout$4.s32=u=>new Int$1(4,u);Layout$4.s40=u=>new Int$1(5,u);Layout$4.s48=u=>new Int$1(6,u);var ns64=Layout$4.ns64=u=>new NearInt64$1(u);Layout$4.s16be=u=>new IntBE$1(2,u);Layout$4.s24be=u=>new IntBE$1(3,u);Layout$4.s32be=u=>new IntBE$1(4,u);Layout$4.s40be=u=>new IntBE$1(5,u);Layout$4.s48be=u=>new IntBE$1(6,u);Layout$4.ns64be=u=>new NearInt64BE$1(u);Layout$4.f32=u=>new Float$1(u);Layout$4.f32be=u=>new FloatBE$1(u);Layout$4.f64=u=>new Double$1(u);Layout$4.f64be=u=>new DoubleBE$1(u);var struct$1=Layout$4.struct=(u,c,d)=>new Structure$2(u,c,d);Layout$4.bits=(u,c,d)=>new BitStructure$1(u,c,d);var seq=Layout$4.seq=(u,c,d)=>new Sequence$1(u,c,d);Layout$4.union=(u,c,d)=>new Union$1(u,c,d);Layout$4.unionLayoutDiscriminator=(u,c)=>new UnionLayoutDiscriminator$1(u,c);var blob$1=Layout$4.blob=(u,c)=>new Blob$3(u,c);Layout$4.cstr=u=>new CString$1(u);Layout$4.utf8=(u,c)=>new UTF8$1(u,c);Layout$4.constant=(u,c)=>new Constant$1(u,c);var browser$2={};Object.defineProperty(browser$2,"__esModule",{value:!0});function toBigIntLE(u){{const c=Buffer.from(u);c.reverse();const d=c.toString("hex");return d.length===0?BigInt(0):BigInt(`0x${d}`)}}var toBigIntLE_1=browser$2.toBigIntLE=toBigIntLE;function toBigIntBE(u){{const c=u.toString("hex");return c.length===0?BigInt(0):BigInt(`0x${c}`)}}browser$2.toBigIntBE=toBigIntBE;function toBufferLE(u,c){{const d=u.toString(16),y=Buffer.from(d.padStart(c*2,"0").slice(0,c*2),"hex");return y.reverse(),y}}var toBufferLE_1=browser$2.toBufferLE=toBufferLE;function toBufferBE(u,c){{const d=u.toString(16);return Buffer.from(d.padStart(c*2,"0").slice(0,c*2),"hex")}}browser$2.toBufferBE=toBufferBE;class StructError extends TypeError{constructor(c,d){let y;const{message:gr,..._r}=c,{path:br}=c,wr=br.length===0?gr:"At path: "+br.join(".")+" -- "+gr;super(wr),Object.assign(this,_r),this.name=this.constructor.name,this.failures=()=>{var Er;return(Er=y)!=null?Er:y=[c,...d()]}}}function isIterable(u){return isObject$2(u)&&typeof u[Symbol.iterator]=="function"}function isObject$2(u){return typeof u=="object"&&u!=null}function print(u){return typeof u=="string"?JSON.stringify(u):""+u}function shiftIterator(u){const{done:c,value:d}=u.next();return c?void 0:d}function toFailure(u,c,d,y){if(u===!0)return;u===!1?u={}:typeof u=="string"&&(u={message:u});const{path:gr,branch:_r}=c,{type:br}=d,{refinement:wr,message:Er="Expected a value of type `"+br+"`"+(wr?" with refinement `"+wr+"`":"")+", but received: `"+print(y)+"`"}=u;return{value:y,type:br,refinement:wr,key:gr[gr.length-1],path:gr,branch:_r,...u,message:Er}}function*toFailures(u,c,d,y){isIterable(u)||(u=[u]);for(const gr of u){const _r=toFailure(gr,c,d,y);_r&&(yield _r)}}function*run$1(u,c,d={}){const{path:y=[],branch:gr=[u],coerce:_r=!1,mask:br=!1}=d,wr={path:y,branch:gr};if(_r&&(u=c.coercer(u,wr),br&&c.type!=="type"&&isObject$2(c.schema)&&isObject$2(u)&&!Array.isArray(u)))for(const Or in u)c.schema[Or]===void 0&&delete u[Or];let Er=!0;for(const Or of c.validator(u,wr))Er=!1,yield[Or,void 0];for(let[Or,xr,kr]of c.entries(u,wr)){const Mr=run$1(xr,kr,{path:Or===void 0?y:[...y,Or],branch:Or===void 0?gr:[...gr,xr],coerce:_r,mask:br});for(const Cr of Mr)Cr[0]?(Er=!1,yield[Cr[0],void 0]):_r&&(xr=Cr[1],Or===void 0?u=xr:u instanceof Map?u.set(Or,xr):u instanceof Set?u.add(xr):isObject$2(u)&&(u[Or]=xr))}if(Er)for(const Or of c.refiner(u,wr))Er=!1,yield[Or,void 0];Er&&(yield[void 0,u])}class Struct$1{constructor(c){const{type:d,schema:y,validator:gr,refiner:_r,coercer:br=Er=>Er,entries:wr=function*(){}}=c;this.type=d,this.schema=y,this.entries=wr,this.coercer=br,gr?this.validator=(Er,Or)=>{const xr=gr(Er,Or);return toFailures(xr,Or,this,Er)}:this.validator=()=>[],_r?this.refiner=(Er,Or)=>{const xr=_r(Er,Or);return toFailures(xr,Or,this,Er)}:this.refiner=()=>[]}assert(c){return assert$3(c,this)}create(c){return create(c,this)}is(c){return is(c,this)}mask(c){return mask(c,this)}validate(c,d={}){return validate$1(c,this,d)}}function assert$3(u,c){const d=validate$1(u,c);if(d[0])throw d[0]}function create(u,c){const d=validate$1(u,c,{coerce:!0});if(d[0])throw d[0];return d[1]}function mask(u,c){const d=validate$1(u,c,{coerce:!0,mask:!0});if(d[0])throw d[0];return d[1]}function is(u,c){return!validate$1(u,c)[0]}function validate$1(u,c,d={}){const y=run$1(u,c,d),gr=shiftIterator(y);if(gr[0])return[new StructError(gr[0],function*(){for(const br of y)br[0]&&(yield br[0])}),void 0];{const _r=gr[1];return[void 0,_r]}}function define(u,c){return new Struct$1({type:u,schema:null,validator:c})}function any(){return define("any",()=>!0)}function array(u){return new Struct$1({type:"array",schema:u,*entries(c){if(u&&Array.isArray(c))for(const[d,y]of c.entries())yield[d,y,u]},coercer(c){return Array.isArray(c)?c.slice():c},validator(c){return Array.isArray(c)||"Expected an array value, but received: "+print(c)}})}function boolean(){return define("boolean",u=>typeof u=="boolean")}function instance(u){return define("instance",c=>c instanceof u||"Expected a `"+u.name+"` instance, but received: "+print(c))}function literal(u){const c=print(u),d=typeof u;return new Struct$1({type:"literal",schema:d==="string"||d==="number"||d==="boolean"?u:null,validator(y){return y===u||"Expected the literal `"+c+"`, but received: "+print(y)}})}function never(){return define("never",()=>!1)}function nullable(u){return new Struct$1({...u,validator:(c,d)=>c===null||u.validator(c,d),refiner:(c,d)=>c===null||u.refiner(c,d)})}function number(){return define("number",u=>typeof u=="number"&&!isNaN(u)||"Expected a number, but received: "+print(u))}function optional(u){return new Struct$1({...u,validator:(c,d)=>c===void 0||u.validator(c,d),refiner:(c,d)=>c===void 0||u.refiner(c,d)})}function record(u,c){return new Struct$1({type:"record",schema:null,*entries(d){if(isObject$2(d))for(const y in d){const gr=d[y];yield[y,y,u],yield[y,gr,c]}},validator(d){return isObject$2(d)||"Expected an object, but received: "+print(d)}})}function string(){return define("string",u=>typeof u=="string"||"Expected a string, but received: "+print(u))}function tuple(u){const c=never();return new Struct$1({type:"tuple",schema:null,*entries(d){if(Array.isArray(d)){const y=Math.max(u.length,d.length);for(let gr=0;gr<y;gr++)yield[gr,d[gr],u[gr]||c]}},validator(d){return Array.isArray(d)||"Expected an array, but received: "+print(d)}})}function type(u){const c=Object.keys(u);return new Struct$1({type:"type",schema:u,*entries(d){if(isObject$2(d))for(const y of c)yield[y,d[y],u[y]]},validator(d){return isObject$2(d)||"Expected an object, but received: "+print(d)}})}function union(u){const c=u.map(d=>d.type).join(" | ");return new Struct$1({type:"union",schema:null,validator(d,y){const gr=[];for(const _r of u){const[...br]=run$1(d,_r,y),[wr]=br;if(wr[0])for(const[Er]of br)Er&&gr.push(Er);else return[]}return["Expected the value to satisfy a union of `"+c+"`, but received: "+print(d),...gr]}})}function unknown(){return define("unknown",()=>!0)}function coerce(u,c,d){return new Struct$1({...u,coercer:(y,gr)=>is(y,c)?u.coercer(d(y,gr),gr):u.coercer(y,gr)})}var index_browser={},interopRequireDefault={exports:{}};(function(u){function c(d){return d&&d.__esModule?d:{default:d}}u.exports=c,u.exports.__esModule=!0,u.exports.default=u.exports})(interopRequireDefault);var createClass={exports:{}},hasRequiredCreateClass;function requireCreateClass(){return hasRequiredCreateClass||(hasRequiredCreateClass=1,function(u){function c(y,gr){for(var _r=0;_r<gr.length;_r++){var br=gr[_r];br.enumerable=br.enumerable||!1,br.configurable=!0,"value"in br&&(br.writable=!0),Object.defineProperty(y,br.key,br)}}function d(y,gr,_r){return gr&&c(y.prototype,gr),_r&&c(y,_r),Object.defineProperty(y,"prototype",{writable:!1}),y}u.exports=d,u.exports.__esModule=!0,u.exports.default=u.exports}(createClass)),createClass.exports}var classCallCheck={exports:{}},hasRequiredClassCallCheck;function requireClassCallCheck(){return hasRequiredClassCallCheck||(hasRequiredClassCallCheck=1,function(u){function c(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}u.exports=c,u.exports.__esModule=!0,u.exports.default=u.exports}(classCallCheck)),classCallCheck.exports}var inherits$2={exports:{}},setPrototypeOf={exports:{}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(u){function c(d,y){return u.exports=c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_r,br){return _r.__proto__=br,_r},u.exports.__esModule=!0,u.exports.default=u.exports,c(d,y)}u.exports=c,u.exports.__esModule=!0,u.exports.default=u.exports}(setPrototypeOf)),setPrototypeOf.exports}var hasRequiredInherits;function requireInherits(){return hasRequiredInherits||(hasRequiredInherits=1,function(u){var c=requireSetPrototypeOf();function d(y,gr){if(typeof gr!="function"&&gr!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(gr&&gr.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),gr&&c(y,gr)}u.exports=d,u.exports.__esModule=!0,u.exports.default=u.exports}(inherits$2)),inherits$2.exports}var possibleConstructorReturn={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(u){function c(d){return u.exports=c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},u.exports.__esModule=!0,u.exports.default=u.exports,c(d)}u.exports=c,u.exports.__esModule=!0,u.exports.default=u.exports}(_typeof)),_typeof.exports}var assertThisInitialized={exports:{}},hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){return hasRequiredAssertThisInitialized||(hasRequiredAssertThisInitialized=1,function(u){function c(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}u.exports=c,u.exports.__esModule=!0,u.exports.default=u.exports}(assertThisInitialized)),assertThisInitialized.exports}var hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){return hasRequiredPossibleConstructorReturn||(hasRequiredPossibleConstructorReturn=1,function(u){var c=require_typeof().default,d=requireAssertThisInitialized();function y(gr,_r){if(_r&&(c(_r)==="object"||typeof _r=="function"))return _r;if(_r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(gr)}u.exports=y,u.exports.__esModule=!0,u.exports.default=u.exports}(possibleConstructorReturn)),possibleConstructorReturn.exports}var getPrototypeOf$2={exports:{}},hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){return hasRequiredGetPrototypeOf||(hasRequiredGetPrototypeOf=1,function(u){function c(d){return u.exports=c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gr){return gr.__proto__||Object.getPrototypeOf(gr)},u.exports.__esModule=!0,u.exports.default=u.exports,c(d)}u.exports=c,u.exports.__esModule=!0,u.exports.default=u.exports}(getPrototypeOf$2)),getPrototypeOf$2.exports}var websocket_browser={},hasRequiredWebsocket_browser;function requireWebsocket_browser(){return hasRequiredWebsocket_browser||(hasRequiredWebsocket_browser=1,function(u){var c=interopRequireDefault.exports;Object.defineProperty(u,"__esModule",{value:!0}),u.default=kr;var d=c(requireClassCallCheck()),y=c(requireCreateClass()),gr=c(requireInherits()),_r=c(requirePossibleConstructorReturn()),br=c(requireGetPrototypeOf()),wr=eventemitter3.exports;function Er(Mr){var Cr=Or();return function(){var Ur=(0,br.default)(Mr),Dr;if(Cr){var zr=(0,br.default)(this).constructor;Dr=Reflect.construct(Ur,arguments,zr)}else Dr=Ur.apply(this,arguments);return(0,_r.default)(this,Dr)}}function Or(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var xr=function(Mr){(0,gr.default)(Nr,Mr);var Cr=Er(Nr);function Nr(Ur,Dr,zr){var Zr;return(0,d.default)(this,Nr),Zr=Cr.call(this),Zr.socket=new window.WebSocket(Ur,zr),Zr.socket.onopen=function(){return Zr.emit("open")},Zr.socket.onmessage=function(Wr){return Zr.emit("message",Wr.data)},Zr.socket.onerror=function(Wr){return Zr.emit("error",Wr)},Zr.socket.onclose=function(Wr){Zr.emit("close",Wr.code,Wr.reason)},Zr}return(0,y.default)(Nr,[{key:"send",value:function(Dr,zr,Zr){var Wr=Zr||zr;try{this.socket.send(Dr),Wr()}catch(tn){Wr(tn)}}},{key:"close",value:function(Dr,zr){this.socket.close(Dr,zr)}},{key:"addEventListener",value:function(Dr,zr,Zr){this.socket.addEventListener(Dr,zr,Zr)}}]),Nr}(wr.EventEmitter);function kr(Mr,Cr){return new xr(Mr,Cr)}}(websocket_browser)),websocket_browser}var client={},regeneratorRuntime$1={exports:{}},hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(u){var c=require_typeof().default;function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u.exports=d=function(){return y},u.exports.__esModule=!0,u.exports.default=u.exports;var y={},gr=Object.prototype,_r=gr.hasOwnProperty,br=typeof Symbol=="function"?Symbol:{},wr=br.iterator||"@@iterator",Er=br.asyncIterator||"@@asyncIterator",Or=br.toStringTag||"@@toStringTag";function xr(Fr,Rr,Lr){return Object.defineProperty(Fr,Rr,{value:Lr,enumerable:!0,configurable:!0,writable:!0}),Fr[Rr]}try{xr({},"")}catch{xr=function(Lr,Vr,Yr){return Lr[Vr]=Yr}}function kr(Fr,Rr,Lr,Vr){var Yr=Rr&&Rr.prototype instanceof Nr?Rr:Nr,Xr=Object.create(Yr.prototype),hn=new fn(Vr||[]);return Xr._invoke=function(En,qr,Br){var Hr="suspendedStart";return function(_n,on){if(Hr==="executing")throw new Error("Generator is already running");if(Hr==="completed"){if(_n==="throw")throw on;return Sn()}for(Br.method=_n,Br.arg=on;;){var sn=Br.delegate;if(sn){var yn=Qr(sn,Br);if(yn){if(yn===Cr)continue;return yn}}if(Br.method==="next")Br.sent=Br._sent=Br.arg;else if(Br.method==="throw"){if(Hr==="suspendedStart")throw Hr="completed",Br.arg;Br.dispatchException(Br.arg)}else Br.method==="return"&&Br.abrupt("return",Br.arg);Hr="executing";var wn=Mr(En,qr,Br);if(wn.type==="normal"){if(Hr=Br.done?"completed":"suspendedYield",wn.arg===Cr)continue;return{value:wn.arg,done:Br.done}}wn.type==="throw"&&(Hr="completed",Br.method="throw",Br.arg=wn.arg)}}}(Fr,Lr,hn),Xr}function Mr(Fr,Rr,Lr){try{return{type:"normal",arg:Fr.call(Rr,Lr)}}catch(Vr){return{type:"throw",arg:Vr}}}y.wrap=kr;var Cr={};function Nr(){}function Ur(){}function Dr(){}var zr={};xr(zr,wr,function(){return this});var Zr=Object.getPrototypeOf,Wr=Zr&&Zr(Zr(gn([])));Wr&&Wr!==gr&&_r.call(Wr,wr)&&(zr=Wr);var tn=Dr.prototype=Nr.prototype=Object.create(zr);function rn(Fr){["next","throw","return"].forEach(function(Rr){xr(Fr,Rr,function(Lr){return this._invoke(Rr,Lr)})})}function Jr(Fr,Rr){function Lr(Yr,Xr,hn,En){var qr=Mr(Fr[Yr],Fr,Xr);if(qr.type!=="throw"){var Br=qr.arg,Hr=Br.value;return Hr&&c(Hr)=="object"&&_r.call(Hr,"__await")?Rr.resolve(Hr.__await).then(function(_n){Lr("next",_n,hn,En)},function(_n){Lr("throw",_n,hn,En)}):Rr.resolve(Hr).then(function(_n){Br.value=_n,hn(Br)},function(_n){return Lr("throw",_n,hn,En)})}En(qr.arg)}var Vr;this._invoke=function(Yr,Xr){function hn(){return new Rr(function(En,qr){Lr(Yr,Xr,En,qr)})}return Vr=Vr?Vr.then(hn,hn):hn()}}function Qr(Fr,Rr){var Lr=Fr.iterator[Rr.method];if(Lr===void 0){if(Rr.delegate=null,Rr.method==="throw"){if(Fr.iterator.return&&(Rr.method="return",Rr.arg=void 0,Qr(Fr,Rr),Rr.method==="throw"))return Cr;Rr.method="throw",Rr.arg=new TypeError("The iterator does not provide a 'throw' method")}return Cr}var Vr=Mr(Lr,Fr.iterator,Rr.arg);if(Vr.type==="throw")return Rr.method="throw",Rr.arg=Vr.arg,Rr.delegate=null,Cr;var Yr=Vr.arg;return Yr?Yr.done?(Rr[Fr.resultName]=Yr.value,Rr.next=Fr.nextLoc,Rr.method!=="return"&&(Rr.method="next",Rr.arg=void 0),Rr.delegate=null,Cr):Yr:(Rr.method="throw",Rr.arg=new TypeError("iterator result is not an object"),Rr.delegate=null,Cr)}function an(Fr){var Rr={tryLoc:Fr[0]};1 in Fr&&(Rr.catchLoc=Fr[1]),2 in Fr&&(Rr.finallyLoc=Fr[2],Rr.afterLoc=Fr[3]),this.tryEntries.push(Rr)}function mn(Fr){var Rr=Fr.completion||{};Rr.type="normal",delete Rr.arg,Fr.completion=Rr}function fn(Fr){this.tryEntries=[{tryLoc:"root"}],Fr.forEach(an,this),this.reset(!0)}function gn(Fr){if(Fr){var Rr=Fr[wr];if(Rr)return Rr.call(Fr);if(typeof Fr.next=="function")return Fr;if(!isNaN(Fr.length)){var Lr=-1,Vr=function Yr(){for(;++Lr<Fr.length;)if(_r.call(Fr,Lr))return Yr.value=Fr[Lr],Yr.done=!1,Yr;return Yr.value=void 0,Yr.done=!0,Yr};return Vr.next=Vr}}return{next:Sn}}function Sn(){return{value:void 0,done:!0}}return Ur.prototype=Dr,xr(tn,"constructor",Dr),xr(Dr,"constructor",Ur),Ur.displayName=xr(Dr,Or,"GeneratorFunction"),y.isGeneratorFunction=function(Fr){var Rr=typeof Fr=="function"&&Fr.constructor;return!!Rr&&(Rr===Ur||(Rr.displayName||Rr.name)==="GeneratorFunction")},y.mark=function(Fr){return Object.setPrototypeOf?Object.setPrototypeOf(Fr,Dr):(Fr.__proto__=Dr,xr(Fr,Or,"GeneratorFunction")),Fr.prototype=Object.create(tn),Fr},y.awrap=function(Fr){return{__await:Fr}},rn(Jr.prototype),xr(Jr.prototype,Er,function(){return this}),y.AsyncIterator=Jr,y.async=function(Fr,Rr,Lr,Vr,Yr){Yr===void 0&&(Yr=Promise);var Xr=new Jr(kr(Fr,Rr,Lr,Vr),Yr);return y.isGeneratorFunction(Rr)?Xr:Xr.next().then(function(hn){return hn.done?hn.value:Xr.next()})},rn(tn),xr(tn,Or,"Generator"),xr(tn,wr,function(){return this}),xr(tn,"toString",function(){return"[object Generator]"}),y.keys=function(Fr){var Rr=[];for(var Lr in Fr)Rr.push(Lr);return Rr.reverse(),function Vr(){for(;Rr.length;){var Yr=Rr.pop();if(Yr in Fr)return Vr.value=Yr,Vr.done=!1,Vr}return Vr.done=!0,Vr}},y.values=gn,fn.prototype={constructor:fn,reset:function(Rr){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(mn),!Rr)for(var Lr in this)Lr.charAt(0)==="t"&&_r.call(this,Lr)&&!isNaN(+Lr.slice(1))&&(this[Lr]=void 0)},stop:function(){this.done=!0;var Rr=this.tryEntries[0].completion;if(Rr.type==="throw")throw Rr.arg;return this.rval},dispatchException:function(Rr){if(this.done)throw Rr;var Lr=this;function Vr(Br,Hr){return hn.type="throw",hn.arg=Rr,Lr.next=Br,Hr&&(Lr.method="next",Lr.arg=void 0),!!Hr}for(var Yr=this.tryEntries.length-1;Yr>=0;--Yr){var Xr=this.tryEntries[Yr],hn=Xr.completion;if(Xr.tryLoc==="root")return Vr("end");if(Xr.tryLoc<=this.prev){var En=_r.call(Xr,"catchLoc"),qr=_r.call(Xr,"finallyLoc");if(En&&qr){if(this.prev<Xr.catchLoc)return Vr(Xr.catchLoc,!0);if(this.prev<Xr.finallyLoc)return Vr(Xr.finallyLoc)}else if(En){if(this.prev<Xr.catchLoc)return Vr(Xr.catchLoc,!0)}else{if(!qr)throw new Error("try statement without catch or finally");if(this.prev<Xr.finallyLoc)return Vr(Xr.finallyLoc)}}}},abrupt:function(Rr,Lr){for(var Vr=this.tryEntries.length-1;Vr>=0;--Vr){var Yr=this.tryEntries[Vr];if(Yr.tryLoc<=this.prev&&_r.call(Yr,"finallyLoc")&&this.prev<Yr.finallyLoc){var Xr=Yr;break}}Xr&&(Rr==="break"||Rr==="continue")&&Xr.tryLoc<=Lr&&Lr<=Xr.finallyLoc&&(Xr=null);var hn=Xr?Xr.completion:{};return hn.type=Rr,hn.arg=Lr,Xr?(this.method="next",this.next=Xr.finallyLoc,Cr):this.complete(hn)},complete:function(Rr,Lr){if(Rr.type==="throw")throw Rr.arg;return Rr.type==="break"||Rr.type==="continue"?this.next=Rr.arg:Rr.type==="return"?(this.rval=this.arg=Rr.arg,this.method="return",this.next="end"):Rr.type==="normal"&&Lr&&(this.next=Lr),Cr},finish:function(Rr){for(var Lr=this.tryEntries.length-1;Lr>=0;--Lr){var Vr=this.tryEntries[Lr];if(Vr.finallyLoc===Rr)return this.complete(Vr.completion,Vr.afterLoc),mn(Vr),Cr}},catch:function(Rr){for(var Lr=this.tryEntries.length-1;Lr>=0;--Lr){var Vr=this.tryEntries[Lr];if(Vr.tryLoc===Rr){var Yr=Vr.completion;if(Yr.type==="throw"){var Xr=Yr.arg;mn(Vr)}return Xr}}throw new Error("illegal catch attempt")},delegateYield:function(Rr,Lr,Vr){return this.delegate={iterator:gn(Rr),resultName:Lr,nextLoc:Vr},this.method==="next"&&(this.arg=void 0),Cr}},y}u.exports=d,u.exports.__esModule=!0,u.exports.default=u.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var u=requireRegeneratorRuntime()();regenerator=u;try{regeneratorRuntime=u}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=u:Function("r","regeneratorRuntime = r")(u)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(u){function c(y,gr,_r,br,wr,Er,Or){try{var xr=y[Er](Or),kr=xr.value}catch(Mr){_r(Mr);return}xr.done?gr(kr):Promise.resolve(kr).then(br,wr)}function d(y){return function(){var gr=this,_r=arguments;return new Promise(function(br,wr){var Er=y.apply(gr,_r);function Or(kr){c(Er,br,wr,Or,xr,"next",kr)}function xr(kr){c(Er,br,wr,Or,xr,"throw",kr)}Or(void 0)})}}u.exports=d,u.exports.__esModule=!0,u.exports.default=u.exports}(asyncToGenerator)),asyncToGenerator.exports}var hasRequiredClient;function requireClient(){return hasRequiredClient||(hasRequiredClient=1,function(u){var c=interopRequireDefault.exports;Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var d=c(requireRegenerator()),y=c(requireAsyncToGenerator()),gr=c(require_typeof()),_r=c(requireClassCallCheck()),br=c(requireCreateClass()),wr=c(requireInherits()),Er=c(requirePossibleConstructorReturn()),Or=c(requireGetPrototypeOf()),xr=eventemitter3.exports;function kr(Ur){var Dr=Mr();return function(){var Zr=(0,Or.default)(Ur),Wr;if(Dr){var tn=(0,Or.default)(this).constructor;Wr=Reflect.construct(Zr,arguments,tn)}else Wr=Zr.apply(this,arguments);return(0,Er.default)(this,Wr)}}function Mr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Cr=function(Ur,Dr){var zr={};for(var Zr in Ur)Object.prototype.hasOwnProperty.call(Ur,Zr)&&Dr.indexOf(Zr)<0&&(zr[Zr]=Ur[Zr]);if(Ur!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Wr=0,Zr=Object.getOwnPropertySymbols(Ur);Wr<Zr.length;Wr++)Dr.indexOf(Zr[Wr])<0&&Object.prototype.propertyIsEnumerable.call(Ur,Zr[Wr])&&(zr[Zr[Wr]]=Ur[Zr[Wr]]);return zr},Nr=function(Ur){(0,wr.default)(zr,Ur);var Dr=kr(zr);function zr(Zr){var Wr,tn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Jr=arguments.length>3?arguments[3]:void 0;(0,_r.default)(this,zr);var Qr=rn.autoconnect,an=Qr===void 0?!0:Qr,mn=rn.reconnect,fn=mn===void 0?!0:mn,gn=rn.reconnect_interval,Sn=gn===void 0?1e3:gn,Fr=rn.max_reconnects,Rr=Fr===void 0?5:Fr,Lr=Cr(rn,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return Wr=Dr.call(this),Wr.webSocketFactory=Zr,Wr.queue={},Wr.rpc_id=0,Wr.address=tn,Wr.autoconnect=an,Wr.ready=!1,Wr.reconnect=fn,Wr.reconnect_interval=Sn,Wr.max_reconnects=Rr,Wr.rest_options=Lr,Wr.current_reconnects=0,Wr.generate_request_id=Jr||function(){return++Wr.rpc_id},Wr.autoconnect&&Wr._connect(Wr.address,Object.assign({autoconnect:Wr.autoconnect,reconnect:Wr.reconnect,reconnect_interval:Wr.reconnect_interval,max_reconnects:Wr.max_reconnects},Wr.rest_options)),Wr}return(0,br.default)(zr,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(Wr,tn,rn,Jr){var Qr=this;return!Jr&&(0,gr.default)(rn)==="object"&&(Jr=rn,rn=null),new Promise(function(an,mn){if(!Qr.ready)return mn(new Error("socket not ready"));var fn=Qr.generate_request_id(Wr,tn),gn={jsonrpc:"2.0",method:Wr,params:tn||null,id:fn};Qr.socket.send(JSON.stringify(gn),Jr,function(Sn){if(Sn)return mn(Sn);Qr.queue[fn]={promise:[an,mn]},rn&&(Qr.queue[fn].timeout=setTimeout(function(){delete Qr.queue[fn],mn(new Error("reply timeout"))},rn))})})}},{key:"login",value:function(){var Zr=(0,y.default)(d.default.mark(function tn(rn){var Jr;return d.default.wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return an.next=2,this.call("rpc.login",rn);case 2:if(Jr=an.sent,Jr){an.next=5;break}throw new Error("authentication failed");case 5:return an.abrupt("return",Jr);case 6:case"end":return an.stop()}},tn,this)}));function Wr(tn){return Zr.apply(this,arguments)}return Wr}()},{key:"listMethods",value:function(){var Zr=(0,y.default)(d.default.mark(function tn(){return d.default.wrap(function(Jr){for(;;)switch(Jr.prev=Jr.next){case 0:return Jr.next=2,this.call("__listMethods");case 2:return Jr.abrupt("return",Jr.sent);case 3:case"end":return Jr.stop()}},tn,this)}));function Wr(){return Zr.apply(this,arguments)}return Wr}()},{key:"notify",value:function(Wr,tn){var rn=this;return new Promise(function(Jr,Qr){if(!rn.ready)return Qr(new Error("socket not ready"));var an={jsonrpc:"2.0",method:Wr,params:tn||null};rn.socket.send(JSON.stringify(an),function(mn){if(mn)return Qr(mn);Jr()})})}},{key:"subscribe",value:function(){var Zr=(0,y.default)(d.default.mark(function tn(rn){var Jr;return d.default.wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return typeof rn=="string"&&(rn=[rn]),an.next=3,this.call("rpc.on",rn);case 3:if(Jr=an.sent,!(typeof rn=="string"&&Jr[rn]!=="ok")){an.next=6;break}throw new Error("Failed subscribing to an event '"+rn+"' with: "+Jr[rn]);case 6:return an.abrupt("return",Jr);case 7:case"end":return an.stop()}},tn,this)}));function Wr(tn){return Zr.apply(this,arguments)}return Wr}()},{key:"unsubscribe",value:function(){var Zr=(0,y.default)(d.default.mark(function tn(rn){var Jr;return d.default.wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return typeof rn=="string"&&(rn=[rn]),an.next=3,this.call("rpc.off",rn);case 3:if(Jr=an.sent,!(typeof rn=="string"&&Jr[rn]!=="ok")){an.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Jr);case 6:return an.abrupt("return",Jr);case 7:case"end":return an.stop()}},tn,this)}));function Wr(tn){return Zr.apply(this,arguments)}return Wr}()},{key:"close",value:function(Wr,tn){this.socket.close(Wr||1e3,tn)}},{key:"_connect",value:function(Wr,tn){var rn=this;this.socket=this.webSocketFactory(Wr,tn),this.socket.addEventListener("open",function(){rn.ready=!0,rn.emit("open"),rn.current_reconnects=0}),this.socket.addEventListener("message",function(Jr){var Qr=Jr.data;Qr instanceof ArrayBuffer&&(Qr=Buffer.from(Qr).toString());try{Qr=JSON.parse(Qr)}catch{return}if(Qr.notification&&rn.listeners(Qr.notification).length){if(!Object.keys(Qr.params).length)return rn.emit(Qr.notification);var an=[Qr.notification];if(Qr.params.constructor===Object)an.push(Qr.params);else for(var mn=0;mn<Qr.params.length;mn++)an.push(Qr.params[mn]);return Promise.resolve().then(function(){rn.emit.apply(rn,an)})}if(!rn.queue[Qr.id])return Qr.method&&Qr.params?Promise.resolve().then(function(){rn.emit(Qr.method,Qr.params)}):void 0;"error"in Qr=="result"in Qr&&rn.queue[Qr.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),rn.queue[Qr.id].timeout&&clearTimeout(rn.queue[Qr.id].timeout),Qr.error?rn.queue[Qr.id].promise[1](Qr.error):rn.queue[Qr.id].promise[0](Qr.result),delete rn.queue[Qr.id]}),this.socket.addEventListener("error",function(Jr){return rn.emit("error",Jr)}),this.socket.addEventListener("close",function(Jr){var Qr=Jr.code,an=Jr.reason;rn.ready&&setTimeout(function(){return rn.emit("close",Qr,an)},0),rn.ready=!1,rn.socket=void 0,Qr!==1e3&&(rn.current_reconnects++,rn.reconnect&&(rn.max_reconnects>rn.current_reconnects||rn.max_reconnects===0)&&setTimeout(function(){return rn._connect(Wr,tn)},rn.reconnect_interval))})}}]),zr}(xr.EventEmitter);u.default=Nr}(client)),client}var _interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(index_browser,"__esModule",{value:!0});var Client_1=index_browser.Client=void 0,_createClass2=_interopRequireDefault(requireCreateClass()),_classCallCheck2=_interopRequireDefault(requireClassCallCheck()),_inherits2=_interopRequireDefault(requireInherits()),_possibleConstructorReturn2=_interopRequireDefault(requirePossibleConstructorReturn()),_getPrototypeOf2=_interopRequireDefault(requireGetPrototypeOf()),_websocket=_interopRequireDefault(requireWebsocket_browser()),_client=_interopRequireDefault(requireClient());function _createSuper(u){var c=_isNativeReflectConstruct();return function(){var y=(0,_getPrototypeOf2.default)(u),gr;if(c){var _r=(0,_getPrototypeOf2.default)(this).constructor;gr=Reflect.construct(y,arguments,_r)}else gr=y.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,gr)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Client=function(u){(0,_inherits2.default)(d,u);var c=_createSuper(d);function d(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_r=gr.autoconnect,br=_r===void 0?!0:_r,wr=gr.reconnect,Er=wr===void 0?!0:wr,Or=gr.reconnect_interval,xr=Or===void 0?1e3:Or,kr=gr.max_reconnects,Mr=kr===void 0?5:kr,Cr=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,d),c.call(this,_websocket.default,y,{autoconnect:br,reconnect:Er,reconnect_interval:xr,max_reconnects:Mr},Cr)}return(0,_createClass2.default)(d)}(_client.default);Client_1=index_browser.Client=Client;var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(u){return typeof u=="string"&&REGEX.test(u)}var byteToHex=[];for(var i$3=0;i$3<256;++i$3)byteToHex.push((i$3+256).toString(16).substr(1));function stringify$1(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=(byteToHex[u[c+0]]+byteToHex[u[c+1]]+byteToHex[u[c+2]]+byteToHex[u[c+3]]+"-"+byteToHex[u[c+4]]+byteToHex[u[c+5]]+"-"+byteToHex[u[c+6]]+byteToHex[u[c+7]]+"-"+byteToHex[u[c+8]]+byteToHex[u[c+9]]+"-"+byteToHex[u[c+10]]+byteToHex[u[c+11]]+byteToHex[u[c+12]]+byteToHex[u[c+13]]+byteToHex[u[c+14]]+byteToHex[u[c+15]]).toLowerCase();if(!validate(d))throw TypeError("Stringified UUID is invalid");return d}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(u,c,d){var y=c&&d||0,gr=c||new Array(16);u=u||{};var _r=u.node||_nodeId,br=u.clockseq!==void 0?u.clockseq:_clockseq;if(_r==null||br==null){var wr=u.random||(u.rng||rng)();_r==null&&(_r=_nodeId=[wr[0]|1,wr[1],wr[2],wr[3],wr[4],wr[5]]),br==null&&(br=_clockseq=(wr[6]<<8|wr[7])&16383)}var Er=u.msecs!==void 0?u.msecs:Date.now(),Or=u.nsecs!==void 0?u.nsecs:_lastNSecs+1,xr=Er-_lastMSecs+(Or-_lastNSecs)/1e4;if(xr<0&&u.clockseq===void 0&&(br=br+1&16383),(xr<0||Er>_lastMSecs)&&u.nsecs===void 0&&(Or=0),Or>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=Er,_lastNSecs=Or,_clockseq=br,Er+=122192928e5;var kr=((Er&268435455)*1e4+Or)%4294967296;gr[y++]=kr>>>24&255,gr[y++]=kr>>>16&255,gr[y++]=kr>>>8&255,gr[y++]=kr&255;var Mr=Er/4294967296*1e4&268435455;gr[y++]=Mr>>>8&255,gr[y++]=Mr&255,gr[y++]=Mr>>>24&15|16,gr[y++]=Mr>>>16&255,gr[y++]=br>>>8|128,gr[y++]=br&255;for(var Cr=0;Cr<6;++Cr)gr[y+Cr]=_r[Cr];return c||stringify$1(gr)}function parse(u){if(!validate(u))throw TypeError("Invalid UUID");var c,d=new Uint8Array(16);return d[0]=(c=parseInt(u.slice(0,8),16))>>>24,d[1]=c>>>16&255,d[2]=c>>>8&255,d[3]=c&255,d[4]=(c=parseInt(u.slice(9,13),16))>>>8,d[5]=c&255,d[6]=(c=parseInt(u.slice(14,18),16))>>>8,d[7]=c&255,d[8]=(c=parseInt(u.slice(19,23),16))>>>8,d[9]=c&255,d[10]=(c=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=c/4294967296&255,d[12]=c>>>24&255,d[13]=c>>>16&255,d[14]=c>>>8&255,d[15]=c&255,d}function stringToBytes(u){u=unescape(encodeURIComponent(u));for(var c=[],d=0;d<u.length;++d)c.push(u.charCodeAt(d));return c}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(u,c,d){function y(gr,_r,br,wr){if(typeof gr=="string"&&(gr=stringToBytes(gr)),typeof _r=="string"&&(_r=parse(_r)),_r.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var Er=new Uint8Array(16+gr.length);if(Er.set(_r),Er.set(gr,_r.length),Er=d(Er),Er[6]=Er[6]&15|c,Er[8]=Er[8]&63|128,br){wr=wr||0;for(var Or=0;Or<16;++Or)br[wr+Or]=Er[Or];return br}return stringify$1(Er)}try{y.name=u}catch{}return y.DNS=DNS,y.URL=URL$1,y}function md5(u){if(typeof u=="string"){var c=unescape(encodeURIComponent(u));u=new Uint8Array(c.length);for(var d=0;d<c.length;++d)u[d]=c.charCodeAt(d)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(u),u.length*8))}function md5ToHexEncodedArray(u){for(var c=[],d=u.length*32,y="0123456789abcdef",gr=0;gr<d;gr+=8){var _r=u[gr>>5]>>>gr%32&255,br=parseInt(y.charAt(_r>>>4&15)+y.charAt(_r&15),16);c.push(br)}return c}function getOutputLength(u){return(u+64>>>9<<4)+14+1}function wordsToMd5(u,c){u[c>>5]|=128<<c%32,u[getOutputLength(c)-1]=c;for(var d=1732584193,y=-271733879,gr=-1732584194,_r=271733878,br=0;br<u.length;br+=16){var wr=d,Er=y,Or=gr,xr=_r;d=md5ff(d,y,gr,_r,u[br],7,-680876936),_r=md5ff(_r,d,y,gr,u[br+1],12,-389564586),gr=md5ff(gr,_r,d,y,u[br+2],17,606105819),y=md5ff(y,gr,_r,d,u[br+3],22,-1044525330),d=md5ff(d,y,gr,_r,u[br+4],7,-176418897),_r=md5ff(_r,d,y,gr,u[br+5],12,1200080426),gr=md5ff(gr,_r,d,y,u[br+6],17,-1473231341),y=md5ff(y,gr,_r,d,u[br+7],22,-45705983),d=md5ff(d,y,gr,_r,u[br+8],7,1770035416),_r=md5ff(_r,d,y,gr,u[br+9],12,-1958414417),gr=md5ff(gr,_r,d,y,u[br+10],17,-42063),y=md5ff(y,gr,_r,d,u[br+11],22,-1990404162),d=md5ff(d,y,gr,_r,u[br+12],7,1804603682),_r=md5ff(_r,d,y,gr,u[br+13],12,-40341101),gr=md5ff(gr,_r,d,y,u[br+14],17,-1502002290),y=md5ff(y,gr,_r,d,u[br+15],22,1236535329),d=md5gg(d,y,gr,_r,u[br+1],5,-165796510),_r=md5gg(_r,d,y,gr,u[br+6],9,-1069501632),gr=md5gg(gr,_r,d,y,u[br+11],14,643717713),y=md5gg(y,gr,_r,d,u[br],20,-373897302),d=md5gg(d,y,gr,_r,u[br+5],5,-701558691),_r=md5gg(_r,d,y,gr,u[br+10],9,38016083),gr=md5gg(gr,_r,d,y,u[br+15],14,-660478335),y=md5gg(y,gr,_r,d,u[br+4],20,-405537848),d=md5gg(d,y,gr,_r,u[br+9],5,568446438),_r=md5gg(_r,d,y,gr,u[br+14],9,-1019803690),gr=md5gg(gr,_r,d,y,u[br+3],14,-187363961),y=md5gg(y,gr,_r,d,u[br+8],20,1163531501),d=md5gg(d,y,gr,_r,u[br+13],5,-1444681467),_r=md5gg(_r,d,y,gr,u[br+2],9,-51403784),gr=md5gg(gr,_r,d,y,u[br+7],14,1735328473),y=md5gg(y,gr,_r,d,u[br+12],20,-1926607734),d=md5hh(d,y,gr,_r,u[br+5],4,-378558),_r=md5hh(_r,d,y,gr,u[br+8],11,-2022574463),gr=md5hh(gr,_r,d,y,u[br+11],16,1839030562),y=md5hh(y,gr,_r,d,u[br+14],23,-35309556),d=md5hh(d,y,gr,_r,u[br+1],4,-1530992060),_r=md5hh(_r,d,y,gr,u[br+4],11,1272893353),gr=md5hh(gr,_r,d,y,u[br+7],16,-155497632),y=md5hh(y,gr,_r,d,u[br+10],23,-1094730640),d=md5hh(d,y,gr,_r,u[br+13],4,681279174),_r=md5hh(_r,d,y,gr,u[br],11,-358537222),gr=md5hh(gr,_r,d,y,u[br+3],16,-722521979),y=md5hh(y,gr,_r,d,u[br+6],23,76029189),d=md5hh(d,y,gr,_r,u[br+9],4,-640364487),_r=md5hh(_r,d,y,gr,u[br+12],11,-421815835),gr=md5hh(gr,_r,d,y,u[br+15],16,530742520),y=md5hh(y,gr,_r,d,u[br+2],23,-995338651),d=md5ii(d,y,gr,_r,u[br],6,-198630844),_r=md5ii(_r,d,y,gr,u[br+7],10,1126891415),gr=md5ii(gr,_r,d,y,u[br+14],15,-1416354905),y=md5ii(y,gr,_r,d,u[br+5],21,-57434055),d=md5ii(d,y,gr,_r,u[br+12],6,1700485571),_r=md5ii(_r,d,y,gr,u[br+3],10,-1894986606),gr=md5ii(gr,_r,d,y,u[br+10],15,-1051523),y=md5ii(y,gr,_r,d,u[br+1],21,-2054922799),d=md5ii(d,y,gr,_r,u[br+8],6,1873313359),_r=md5ii(_r,d,y,gr,u[br+15],10,-30611744),gr=md5ii(gr,_r,d,y,u[br+6],15,-1560198380),y=md5ii(y,gr,_r,d,u[br+13],21,1309151649),d=md5ii(d,y,gr,_r,u[br+4],6,-145523070),_r=md5ii(_r,d,y,gr,u[br+11],10,-1120210379),gr=md5ii(gr,_r,d,y,u[br+2],15,718787259),y=md5ii(y,gr,_r,d,u[br+9],21,-343485551),d=safeAdd(d,wr),y=safeAdd(y,Er),gr=safeAdd(gr,Or),_r=safeAdd(_r,xr)}return[d,y,gr,_r]}function bytesToWords(u){if(u.length===0)return[];for(var c=u.length*8,d=new Uint32Array(getOutputLength(c)),y=0;y<c;y+=8)d[y>>5]|=(u[y/8]&255)<<y%32;return d}function safeAdd(u,c){var d=(u&65535)+(c&65535),y=(u>>16)+(c>>16)+(d>>16);return y<<16|d&65535}function bitRotateLeft(u,c){return u<<c|u>>>32-c}function md5cmn(u,c,d,y,gr,_r){return safeAdd(bitRotateLeft(safeAdd(safeAdd(c,u),safeAdd(y,_r)),gr),d)}function md5ff(u,c,d,y,gr,_r,br){return md5cmn(c&d|~c&y,u,c,gr,_r,br)}function md5gg(u,c,d,y,gr,_r,br){return md5cmn(c&y|d&~y,u,c,gr,_r,br)}function md5hh(u,c,d,y,gr,_r,br){return md5cmn(c^d^y,u,c,gr,_r,br)}function md5ii(u,c,d,y,gr,_r,br){return md5cmn(d^(c|~y),u,c,gr,_r,br)}var v3=v35("v3",48,md5);const v3$1=v3;function v4(u,c,d){u=u||{};var y=u.random||(u.rng||rng)();if(y[6]=y[6]&15|64,y[8]=y[8]&63|128,c){d=d||0;for(var gr=0;gr<16;++gr)c[d+gr]=y[gr];return c}return stringify$1(y)}function f(u,c,d,y){switch(u){case 0:return c&d^~c&y;case 1:return c^d^y;case 2:return c&d^c&y^d&y;case 3:return c^d^y}}function ROTL(u,c){return u<<c|u>>>32-c}function sha1(u){var c=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){var y=unescape(encodeURIComponent(u));u=[];for(var gr=0;gr<y.length;++gr)u.push(y.charCodeAt(gr))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);for(var _r=u.length/4+2,br=Math.ceil(_r/16),wr=new Array(br),Er=0;Er<br;++Er){for(var Or=new Uint32Array(16),xr=0;xr<16;++xr)Or[xr]=u[Er*64+xr*4]<<24|u[Er*64+xr*4+1]<<16|u[Er*64+xr*4+2]<<8|u[Er*64+xr*4+3];wr[Er]=Or}wr[br-1][14]=(u.length-1)*8/Math.pow(2,32),wr[br-1][14]=Math.floor(wr[br-1][14]),wr[br-1][15]=(u.length-1)*8&4294967295;for(var kr=0;kr<br;++kr){for(var Mr=new Uint32Array(80),Cr=0;Cr<16;++Cr)Mr[Cr]=wr[kr][Cr];for(var Nr=16;Nr<80;++Nr)Mr[Nr]=ROTL(Mr[Nr-3]^Mr[Nr-8]^Mr[Nr-14]^Mr[Nr-16],1);for(var Ur=d[0],Dr=d[1],zr=d[2],Zr=d[3],Wr=d[4],tn=0;tn<80;++tn){var rn=Math.floor(tn/20),Jr=ROTL(Ur,5)+f(rn,Dr,zr,Zr)+Wr+c[rn]+Mr[tn]>>>0;Wr=Zr,Zr=zr,zr=ROTL(Dr,30)>>>0,Dr=Ur,Ur=Jr}d[0]=d[0]+Ur>>>0,d[1]=d[1]+Dr>>>0,d[2]=d[2]+zr>>>0,d[3]=d[3]+Zr>>>0,d[4]=d[4]+Wr>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,d[0]&255,d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,d[1]&255,d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,d[2]&255,d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,d[3]&255,d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,d[4]&255]}var v5=v35("v5",80,sha1);const v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(u){if(!validate(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version,validate,stringify:stringify$1,parse},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(esmBrowser),uuid$1=require$$0$3.v4,generateRequest$1=function(u,c,d,y){if(typeof u!="string")throw new TypeError(u+" must be a string");y=y||{};const gr=typeof y.version=="number"?y.version:2;if(gr!==1&&gr!==2)throw new TypeError(gr+" must be 1 or 2");const _r={method:u};if(gr===2&&(_r.jsonrpc="2.0"),c){if(typeof c!="object"&&!Array.isArray(c))throw new TypeError(c+" must be an object, array or omitted");_r.params=c}if(typeof d>"u"){const br=typeof y.generator=="function"?y.generator:function(){return uuid$1()};_r.id=br(_r,y)}else gr===2&&d===null?y.notificationIdNull&&(_r.id=null):_r.id=d;return _r};var generateRequest_1=generateRequest$1;const uuid=require$$0$3.v4,generateRequest=generateRequest_1,ClientBrowser=function(u,c){if(!(this instanceof ClientBrowser))return new ClientBrowser(u,c);c||(c={}),this.options={reviver:typeof c.reviver<"u"?c.reviver:null,replacer:typeof c.replacer<"u"?c.replacer:null,generator:typeof c.generator<"u"?c.generator:function(){return uuid()},version:typeof c.version<"u"?c.version:2,notificationIdNull:typeof c.notificationIdNull=="boolean"?c.notificationIdNull:!1},this.callServer=u};var browser$1=ClientBrowser;ClientBrowser.prototype.request=function(u,c,d,y){const gr=this;let _r=null;const br=Array.isArray(u)&&typeof c=="function";if(this.options.version===1&&br)throw new TypeError("JSON-RPC 1.0 does not support batching");if(br||!br&&u&&typeof u=="object"&&typeof c=="function")y=c,_r=u;else{typeof d=="function"&&(y=d,d=void 0);const Or=typeof y=="function";try{_r=generateRequest(u,c,d,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(xr){if(Or)return y(xr);throw xr}if(!Or)return _r}let Er;try{Er=JSON.stringify(_r,this.options.replacer)}catch(Or){return y(Or)}return this.callServer(Er,function(Or,xr){gr._parseResponse(Or,xr,y)}),_r};ClientBrowser.prototype._parseResponse=function(u,c,d){if(u){d(u);return}if(!c)return d();let y;try{y=JSON.parse(c,this.options.reviver)}catch(gr){return d(gr)}if(d.length===3)if(Array.isArray(y)){const gr=function(br){return typeof br.error<"u"},_r=function(br){return!gr(br)};return d(null,y.filter(gr),y.filter(_r))}else return d(null,y.error,y.result);d(null,y)};const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let u=0,c=_1n$1,d=1,y=0;u<24;u++){[d,y]=[y,(2*d+3*y)%5],SHA3_PI.push(2*(5*y+d)),SHA3_ROTL.push((u+1)*(u+2)/2%64);let gr=_0n$1;for(let _r=0;_r<7;_r++)c=(c<<_1n$1^(c>>_7n)*_0x71n)%_256n,c&_2n$1&&(gr^=_1n$1<<(_1n$1<<BigInt(_r))-_1n$1);_SHA3_IOTA.push(gr)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64$2.split(_SHA3_IOTA,!0),rotlH=(u,c,d)=>d>32?u64$2.rotlBH(u,c,d):u64$2.rotlSH(u,c,d),rotlL=(u,c,d)=>d>32?u64$2.rotlBL(u,c,d):u64$2.rotlSL(u,c,d);function keccakP(u,c=24){const d=new Uint32Array(10);for(let y=24-c;y<24;y++){for(let br=0;br<10;br++)d[br]=u[br]^u[br+10]^u[br+20]^u[br+30]^u[br+40];for(let br=0;br<10;br+=2){const wr=(br+8)%10,Er=(br+2)%10,Or=d[Er],xr=d[Er+1],kr=rotlH(Or,xr,1)^d[wr],Mr=rotlL(Or,xr,1)^d[wr+1];for(let Cr=0;Cr<50;Cr+=10)u[br+Cr]^=kr,u[br+Cr+1]^=Mr}let gr=u[2],_r=u[3];for(let br=0;br<24;br++){const wr=SHA3_ROTL[br],Er=rotlH(gr,_r,wr),Or=rotlL(gr,_r,wr),xr=SHA3_PI[br];gr=u[xr],_r=u[xr+1],u[xr]=Er,u[xr+1]=Or}for(let br=0;br<50;br+=10){for(let wr=0;wr<10;wr++)d[wr]=u[br+wr];for(let wr=0;wr<10;wr++)u[br+wr]^=~d[(wr+2)%10]&d[(wr+4)%10]}u[0]^=SHA3_IOTA_H[y],u[1]^=SHA3_IOTA_L[y]}d.fill(0)}class Keccak extends Hash{constructor(c,d,y,gr=!1,_r=24){if(super(),this.blockLen=c,this.suffix=d,this.outputLen=y,this.enableXOF=gr,this.rounds=_r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert$4.number(y),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(c){assert$4.exists(this);const{blockLen:d,state:y}=this;c=toBytes(c);const gr=c.length;for(let _r=0;_r<gr;){const br=Math.min(d-this.pos,gr-_r);for(let wr=0;wr<br;wr++)y[this.pos++]^=c[_r++];this.pos===d&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:c,suffix:d,pos:y,blockLen:gr}=this;c[y]^=d,(d&128)!==0&&y===gr-1&&this.keccak(),c[gr-1]^=128,this.keccak()}writeInto(c){assert$4.exists(this,!1),assert$4.bytes(c),this.finish();const d=this.state,{blockLen:y}=this;for(let gr=0,_r=c.length;gr<_r;){this.posOut>=y&&this.keccak();const br=Math.min(y-this.posOut,_r-gr);c.set(d.subarray(this.posOut,this.posOut+br),gr),this.posOut+=br,gr+=br}return c}xofInto(c){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(c)}xof(c){return assert$4.number(c),this.xofInto(new Uint8Array(c))}digestInto(c){if(assert$4.output(c,this),this.finished)throw new Error("digest() was already called");return this.writeInto(c),this.destroy(),c}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(c){const{blockLen:d,suffix:y,outputLen:gr,rounds:_r,enableXOF:br}=this;return c||(c=new Keccak(d,y,gr,br,_r)),c.state32.set(this.state32),c.pos=this.pos,c.posOut=this.posOut,c.finished=this.finished,c.rounds=_r,c.suffix=y,c.outputLen=gr,c.enableXOF=br,c.destroyed=this.destroyed,c}}const gen=(u,c,d)=>wrapConstructor(()=>new Keccak(c,u,d));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(u,c,d)=>wrapConstructorWithOpts((y={})=>new Keccak(c,u,y.dkLen===void 0?d:y.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);class HMAC extends Hash{constructor(c,d){super(),this.finished=!1,this.destroyed=!1,assert$4.hash(c);const y=toBytes(d);if(this.iHash=c.create(),!(this.iHash instanceof Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const gr=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const _r=new Uint8Array(gr);_r.set(y.length>this.iHash.blockLen?c.create().update(y).digest():y);for(let br=0;br<_r.length;br++)_r[br]^=54;this.iHash.update(_r),this.oHash=c.create();for(let br=0;br<_r.length;br++)_r[br]^=106;this.oHash.update(_r),_r.fill(0)}update(c){return assert$4.exists(this),this.iHash.update(c),this}digestInto(c){assert$4.exists(this),assert$4.bytes(c,this.outputLen),this.finished=!0,this.iHash.digestInto(c),this.oHash.update(c),this.oHash.digestInto(c),this.destroy()}digest(){const c=new Uint8Array(this.oHash.outputLen);return this.digestInto(c),c}_cloneInto(c){c||(c=Object.create(Object.getPrototypeOf(this),{}));const{oHash:d,iHash:y,finished:gr,destroyed:_r,blockLen:br,outputLen:wr}=this;return c=c,c.finished=gr,c.destroyed=_r,c.blockLen=br,c.outputLen=wr,c.oHash=d._cloneInto(c.oHash),c.iHash=y._cloneInto(c.iHash),c}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(u,c,d)=>new HMAC(u,c).update(d).digest();hmac.create=(u,c)=>new HMAC(u,c);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function weistrass(u){const{a:c,b:d}=CURVE,y=mod(u*u),gr=mod(y*u);return mod(gr+c*u+d)}const USE_ENDOMORPHISM=CURVE.a===_0n;class ShaError extends Error{constructor(c){super(c)}}class JacobianPoint{constructor(c,d,y){this.x=c,this.y=d,this.z=y}static fromAffine(c){if(!(c instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new JacobianPoint(c.x,c.y,_1n)}static toAffineBatch(c){const d=invertBatch(c.map(y=>y.z));return c.map((y,gr)=>y.toAffine(d[gr]))}static normalizeZ(c){return JacobianPoint.toAffineBatch(c).map(JacobianPoint.fromAffine)}equals(c){if(!(c instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:d,y,z:gr}=this,{x:_r,y:br,z:wr}=c,Er=mod(gr*gr),Or=mod(wr*wr),xr=mod(d*Or),kr=mod(_r*Er),Mr=mod(mod(y*wr)*Or),Cr=mod(mod(br*gr)*Er);return xr===kr&&Mr===Cr}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:c,y:d,z:y}=this,gr=mod(c*c),_r=mod(d*d),br=mod(_r*_r),wr=c+_r,Er=mod(_2n*(mod(wr*wr)-gr-br)),Or=mod(_3n*gr),xr=mod(Or*Or),kr=mod(xr-_2n*Er),Mr=mod(Or*(Er-kr)-_8n*br),Cr=mod(_2n*d*y);return new JacobianPoint(kr,Mr,Cr)}add(c){if(!(c instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:d,y,z:gr}=this,{x:_r,y:br,z:wr}=c;if(_r===_0n||br===_0n)return this;if(d===_0n||y===_0n)return c;const Er=mod(gr*gr),Or=mod(wr*wr),xr=mod(d*Or),kr=mod(_r*Er),Mr=mod(mod(y*wr)*Or),Cr=mod(mod(br*gr)*Er),Nr=mod(kr-xr),Ur=mod(Cr-Mr);if(Nr===_0n)return Ur===_0n?this.double():JacobianPoint.ZERO;const Dr=mod(Nr*Nr),zr=mod(Nr*Dr),Zr=mod(xr*Dr),Wr=mod(Ur*Ur-zr-_2n*Zr),tn=mod(Ur*(Zr-Wr)-Mr*zr),rn=mod(gr*wr*Nr);return new JacobianPoint(Wr,tn,rn)}subtract(c){return this.add(c.negate())}multiplyUnsafe(c){const d=JacobianPoint.ZERO;if(typeof c=="bigint"&&c===_0n)return d;let y=normalizeScalar(c);if(y===_1n)return this;if(!USE_ENDOMORPHISM){let kr=d,Mr=this;for(;y>_0n;)y&_1n&&(kr=kr.add(Mr)),Mr=Mr.double(),y>>=_1n;return kr}let{k1neg:gr,k1:_r,k2neg:br,k2:wr}=splitScalarEndo(y),Er=d,Or=d,xr=this;for(;_r>_0n||wr>_0n;)_r&_1n&&(Er=Er.add(xr)),wr&_1n&&(Or=Or.add(xr)),xr=xr.double(),_r>>=_1n,wr>>=_1n;return gr&&(Er=Er.negate()),br&&(Or=Or.negate()),Or=new JacobianPoint(mod(Or.x*CURVE.beta),Or.y,Or.z),Er.add(Or)}precomputeWindow(c){const d=USE_ENDOMORPHISM?128/c+1:256/c+1,y=[];let gr=this,_r=gr;for(let br=0;br<d;br++){_r=gr,y.push(_r);for(let wr=1;wr<2**(c-1);wr++)_r=_r.add(gr),y.push(_r);gr=_r.double()}return y}wNAF(c,d){!d&&this.equals(JacobianPoint.BASE)&&(d=Point.BASE);const y=d&&d._WINDOW_SIZE||1;if(256%y)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let gr=d&&pointPrecomputes.get(d);gr||(gr=this.precomputeWindow(y),d&&y!==1&&(gr=JacobianPoint.normalizeZ(gr),pointPrecomputes.set(d,gr)));let _r=JacobianPoint.ZERO,br=JacobianPoint.ZERO;const wr=1+(USE_ENDOMORPHISM?128/y:256/y),Er=2**(y-1),Or=BigInt(2**y-1),xr=2**y,kr=BigInt(y);for(let Mr=0;Mr<wr;Mr++){const Cr=Mr*Er;let Nr=Number(c&Or);if(c>>=kr,Nr>Er&&(Nr-=xr,c+=_1n),Nr===0){let Ur=gr[Cr];Mr%2&&(Ur=Ur.negate()),br=br.add(Ur)}else{let Ur=gr[Cr+Math.abs(Nr)-1];Nr<0&&(Ur=Ur.negate()),_r=_r.add(Ur)}}return{p:_r,f:br}}multiply(c,d){let y=normalizeScalar(c),gr,_r;if(USE_ENDOMORPHISM){const{k1neg:br,k1:wr,k2neg:Er,k2:Or}=splitScalarEndo(y);let{p:xr,f:kr}=this.wNAF(wr,d),{p:Mr,f:Cr}=this.wNAF(Or,d);br&&(xr=xr.negate()),Er&&(Mr=Mr.negate()),Mr=new JacobianPoint(mod(Mr.x*CURVE.beta),Mr.y,Mr.z),gr=xr.add(Mr),_r=kr.add(Cr)}else{const{p:br,f:wr}=this.wNAF(y,d);gr=br,_r=wr}return JacobianPoint.normalizeZ([gr,_r])[0]}toAffine(c=invert(this.z)){const{x:d,y,z:gr}=this,_r=c,br=mod(_r*_r),wr=mod(br*_r),Er=mod(d*br),Or=mod(y*wr);if(mod(gr*_r)!==_1n)throw new Error("invZ was invalid");return new Point(Er,Or)}}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n);JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);const pointPrecomputes=new WeakMap;class Point{constructor(c,d){this.x=c,this.y=d}_setWindowSize(c){this._WINDOW_SIZE=c,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n===_0n}static fromCompressedHex(c){const d=c.length===32,y=bytesToNumber(d?c:c.subarray(1));if(!isValidFieldElement(y))throw new Error("Point is not on curve");const gr=weistrass(y);let _r=sqrtMod(gr);const br=(_r&_1n)===_1n;d?br&&(_r=mod(-_r)):(c[0]&1)===1!==br&&(_r=mod(-_r));const wr=new Point(y,_r);return wr.assertValidity(),wr}static fromUncompressedHex(c){const d=bytesToNumber(c.subarray(1,33)),y=bytesToNumber(c.subarray(33,65)),gr=new Point(d,y);return gr.assertValidity(),gr}static fromHex(c){const d=ensureBytes(c),y=d.length,gr=d[0];if(y===32||y===33&&(gr===2||gr===3))return this.fromCompressedHex(d);if(y===65&&gr===4)return this.fromUncompressedHex(d);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${y}`)}static fromPrivateKey(c){return Point.BASE.multiply(normalizePrivateKey(c))}static fromSignature(c,d,y){c=ensureBytes(c);const gr=truncateHash(c),{r:_r,s:br}=normalizeSignature(d);if(y!==0&&y!==1)throw new Error("Cannot recover signature: invalid recovery bit");const wr=y&1?"03":"02",Er=Point.fromHex(wr+numTo32bStr(_r)),{n:Or}=CURVE,xr=invert(_r,Or),kr=mod(-gr*xr,Or),Mr=mod(br*xr,Or),Cr=Point.BASE.multiplyAndAddUnsafe(Er,kr,Mr);if(!Cr)throw new Error("Cannot recover signature: point at infinify");return Cr.assertValidity(),Cr}toRawBytes(c=!1){return hexToBytes(this.toHex(c))}toHex(c=!1){const d=numTo32bStr(this.x);return c?`${this.hasEvenY()?"02":"03"}${d}`:`04${d}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const c="Point is not on elliptic curve",{x:d,y}=this;if(!isValidFieldElement(d)||!isValidFieldElement(y))throw new Error(c);const gr=mod(y*y),_r=weistrass(d);if(mod(gr-_r)!==_0n)throw new Error(c)}equals(c){return this.x===c.x&&this.y===c.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(c){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(c)).toAffine()}subtract(c){return this.add(c.negate())}multiply(c){return JacobianPoint.fromAffine(this).multiply(c,this).toAffine()}multiplyAndAddUnsafe(c,d,y){const gr=JacobianPoint.fromAffine(this),_r=d===_0n||d===_1n||this!==Point.BASE?gr.multiplyUnsafe(d):gr.multiply(d),br=JacobianPoint.fromAffine(c).multiplyUnsafe(y),wr=_r.add(br);return wr.equals(JacobianPoint.ZERO)?void 0:wr.toAffine()}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy);Point.ZERO=new Point(_0n,_0n);function sliceDER(u){return Number.parseInt(u[0],16)>=8?"00"+u:u}function parseDERInt(u){if(u.length<2||u[0]!==2)throw new Error(`Invalid signature integer tag: ${bytesToHex(u)}`);const c=u[1],d=u.subarray(2,c+2);if(!c||d.length!==c)throw new Error("Invalid signature integer: wrong length");if(d[0]===0&&d[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(d),left:u.subarray(c+2)}}function parseDERSignature(u){if(u.length<2||u[0]!=48)throw new Error(`Invalid signature tag: ${bytesToHex(u)}`);if(u[1]!==u.length-2)throw new Error("Invalid signature: incorrect length");const{data:c,left:d}=parseDERInt(u.subarray(2)),{data:y,left:gr}=parseDERInt(d);if(gr.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(gr)}`);return{r:c,s:y}}class Signature{constructor(c,d){this.r=c,this.s=d,this.assertValidity()}static fromCompact(c){const d=c instanceof Uint8Array,y="Signature.fromCompact";if(typeof c!="string"&&!d)throw new TypeError(`${y}: Expected string or Uint8Array`);const gr=d?bytesToHex(c):c;if(gr.length!==128)throw new Error(`${y}: Expected 64-byte hex`);return new Signature(hexToNumber(gr.slice(0,64)),hexToNumber(gr.slice(64,128)))}static fromDER(c){const d=c instanceof Uint8Array;if(typeof c!="string"&&!d)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:y,s:gr}=parseDERSignature(d?c:hexToBytes(c));return new Signature(y,gr)}static fromHex(c){return this.fromDER(c)}assertValidity(){const{r:c,s:d}=this;if(!isWithinCurveOrder(c))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(d))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const c=CURVE.n>>_1n;return this.s>c}normalizeS(){return this.hasHighS()?new Signature(this.r,CURVE.n-this.s):this}toDERRawBytes(c=!1){return hexToBytes(this.toDERHex(c))}toDERHex(c=!1){const d=sliceDER(numberToHexUnpadded(this.s));if(c)return d;const y=sliceDER(numberToHexUnpadded(this.r)),gr=numberToHexUnpadded(y.length/2),_r=numberToHexUnpadded(d.length/2);return`30${numberToHexUnpadded(y.length/2+d.length/2+4)}02${gr}${y}02${_r}${d}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...u){if(!u.every(y=>y instanceof Uint8Array))throw new Error("Uint8Array list expected");if(u.length===1)return u[0];const c=u.reduce((y,gr)=>y+gr.length,0),d=new Uint8Array(c);for(let y=0,gr=0;y<u.length;y++){const _r=u[y];d.set(_r,gr),gr+=_r.length}return d}const hexes=Array.from({length:256},(u,c)=>c.toString(16).padStart(2,"0"));function bytesToHex(u){if(!(u instanceof Uint8Array))throw new Error("Expected Uint8Array");let c="";for(let d=0;d<u.length;d++)c+=hexes[u[d]];return c}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(u){if(typeof u!="bigint")throw new Error("Expected bigint");if(!(_0n<=u&&u<POW_2_256))throw new Error("Expected number < 2^256");return u.toString(16).padStart(64,"0")}function numTo32b(u){const c=hexToBytes(numTo32bStr(u));if(c.length!==32)throw new Error("Error: expected 32 bytes");return c}function numberToHexUnpadded(u){const c=u.toString(16);return c.length&1?`0${c}`:c}function hexToNumber(u){if(typeof u!="string")throw new TypeError("hexToNumber: expected string, got "+typeof u);return BigInt(`0x${u}`)}function hexToBytes(u){if(typeof u!="string")throw new TypeError("hexToBytes: expected string, got "+typeof u);if(u.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+u.length);const c=new Uint8Array(u.length/2);for(let d=0;d<c.length;d++){const y=d*2,gr=u.slice(y,y+2),_r=Number.parseInt(gr,16);if(Number.isNaN(_r)||_r<0)throw new Error("Invalid byte sequence");c[d]=_r}return c}function bytesToNumber(u){return hexToNumber(bytesToHex(u))}function ensureBytes(u){return u instanceof Uint8Array?Uint8Array.from(u):hexToBytes(u)}function normalizeScalar(u){if(typeof u=="number"&&Number.isSafeInteger(u)&&u>0)return BigInt(u);if(typeof u=="bigint"&&isWithinCurveOrder(u))return u;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(u,c=CURVE.P){const d=u%c;return d>=_0n?d:c+d}function pow2(u,c){const{P:d}=CURVE;let y=u;for(;c-- >_0n;)y*=y,y%=d;return y}function sqrtMod(u){const{P:c}=CURVE,d=BigInt(6),y=BigInt(11),gr=BigInt(22),_r=BigInt(23),br=BigInt(44),wr=BigInt(88),Er=u*u*u%c,Or=Er*Er*u%c,xr=pow2(Or,_3n)*Or%c,kr=pow2(xr,_3n)*Or%c,Mr=pow2(kr,_2n)*Er%c,Cr=pow2(Mr,y)*Mr%c,Nr=pow2(Cr,gr)*Cr%c,Ur=pow2(Nr,br)*Nr%c,Dr=pow2(Ur,wr)*Ur%c,zr=pow2(Dr,br)*Nr%c,Zr=pow2(zr,_3n)*Or%c,Wr=pow2(Zr,_r)*Cr%c,tn=pow2(Wr,d)*Er%c;return pow2(tn,_2n)}function invert(u,c=CURVE.P){if(u===_0n||c<=_0n)throw new Error(`invert: expected positive integers, got n=${u} mod=${c}`);let d=mod(u,c),y=c,gr=_0n,_r=_1n;for(;d!==_0n;){const wr=y/d,Er=y%d,Or=gr-_r*wr;y=d,d=Er,gr=_r,_r=Or}if(y!==_1n)throw new Error("invert: does not exist");return mod(gr,c)}function invertBatch(u,c=CURVE.P){const d=new Array(u.length),y=u.reduce((_r,br,wr)=>br===_0n?_r:(d[wr]=_r,mod(_r*br,c)),_1n),gr=invert(y,c);return u.reduceRight((_r,br,wr)=>br===_0n?_r:(d[wr]=mod(_r*d[wr],c),mod(_r*br,c)),gr),d}const divNearest=(u,c)=>(u+c/_2n)/c,ENDO={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function splitScalarEndo(u){const{n:c}=CURVE,{a1:d,b1:y,a2:gr,b2:_r,POW_2_128:br}=ENDO,wr=divNearest(_r*u,c),Er=divNearest(-y*u,c);let Or=mod(u-wr*d-Er*gr,c),xr=mod(-wr*y-Er*_r,c);const kr=Or>br,Mr=xr>br;if(kr&&(Or=c-Or),Mr&&(xr=c-xr),Or>br||xr>br)throw new Error("splitScalarEndo: Endomorphism failed, k="+u);return{k1neg:kr,k1:Or,k2neg:Mr,k2:xr}}function truncateHash(u){const{n:c}=CURVE,y=u.length*8-256;let gr=bytesToNumber(u);return y>0&&(gr=gr>>BigInt(y)),gr>=c&&(gr-=c),gr}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...c){return utils$1.hmacSha256(this.k,...c)}hmacSync(...c){return _hmacSha256Sync(this.k,...c)}checkSync(){if(typeof _hmacSha256Sync!="function")throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(c=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),c),this.v=await this.hmac(this.v),c.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),c),this.v=await this.hmac(this.v))}reseedSync(c=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),c),this.v=this.hmacSync(this.v),c.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),c),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function isWithinCurveOrder(u){return _0n<u&&u<CURVE.n}function isValidFieldElement(u){return _0n<u&&u<CURVE.P}function kmdToSig(u,c,d){const y=bytesToNumber(u);if(!isWithinCurveOrder(y))return;const{n:gr}=CURVE,_r=Point.BASE.multiply(y),br=mod(_r.x,gr);if(br===_0n)return;const wr=mod(invert(y,gr)*mod(c+d*br,gr),gr);if(wr===_0n)return;const Er=new Signature(br,wr),Or=(_r.x===Er.r?0:2)|Number(_r.y&_1n);return{sig:Er,recovery:Or}}function normalizePrivateKey(u){let c;if(typeof u=="bigint")c=u;else if(typeof u=="number"&&Number.isSafeInteger(u)&&u>0)c=BigInt(u);else if(typeof u=="string"){if(u.length!==64)throw new Error("Expected 32 bytes of private key");c=hexToNumber(u)}else if(u instanceof Uint8Array){if(u.length!==32)throw new Error("Expected 32 bytes of private key");c=bytesToNumber(u)}else throw new TypeError("Expected valid private key");if(!isWithinCurveOrder(c))throw new Error("Expected private key: 0 < key < n");return c}function normalizeSignature(u){if(u instanceof Signature)return u.assertValidity(),u;try{return Signature.fromDER(u)}catch{return Signature.fromCompact(u)}}function getPublicKey$1(u,c=!1){return Point.fromPrivateKey(u).toRawBytes(c)}function bits2int(u){const c=u.length>32?u.slice(0,32):u;return bytesToNumber(c)}function bits2octets(u){const c=bits2int(u),d=mod(c,CURVE.n);return int2octets(d<_0n?c:d)}function int2octets(u){return numTo32b(u)}function initSigArgs(u,c,d){if(u==null)throw new Error(`sign: expected valid message hash, not "${u}"`);const y=ensureBytes(u),gr=normalizePrivateKey(c),_r=[int2octets(gr),bits2octets(y)];if(d!=null){d===!0&&(d=utils$1.randomBytes(32));const Er=ensureBytes(d);if(Er.length!==32)throw new Error("sign: Expected 32 bytes of extra data");_r.push(Er)}const br=concatBytes(..._r),wr=bits2int(y);return{seed:br,m:wr,d:gr}}function finalizeSig(u,c){let{sig:d,recovery:y}=u;const{canonical:gr,der:_r,recovered:br}=Object.assign({canonical:!0,der:!0},c);gr&&d.hasHighS()&&(d=d.normalizeS(),y^=1);const wr=_r?d.toDERRawBytes():d.toCompactRawBytes();return br?[wr,y]:wr}function signSync(u,c,d={}){const{seed:y,m:gr,d:_r}=initSigArgs(u,c,d.extraEntropy);let br;const wr=new HmacDrbg;for(wr.reseedSync(y);!(br=kmdToSig(wr.generateSync(),gr,_r));)wr.reseedSync();return finalizeSig(br,d)}Point.BASE._setWindowSize(8);const crypto$1={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils$1={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(u){try{return normalizePrivateKey(u),!0}catch{return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:u=>{if(u=ensureBytes(u),u.length<40||u.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const c=mod(bytesToNumber(u),CURVE.n-_1n)+_1n;return numTo32b(c)},randomBytes:(u=32)=>{if(crypto$1.web)return crypto$1.web.getRandomValues(new Uint8Array(u));if(crypto$1.node){const{randomBytes:c}=crypto$1.node;return Uint8Array.from(c(u))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$1.hashToPrivateKey(utils$1.randomBytes(40)),sha256:async(...u)=>{if(crypto$1.web){const c=await crypto$1.web.subtle.digest("SHA-256",concatBytes(...u));return new Uint8Array(c)}else if(crypto$1.node){const{createHash:c}=crypto$1.node,d=c("sha256");return u.forEach(y=>d.update(y)),Uint8Array.from(d.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(u,...c)=>{if(crypto$1.web){const d=await crypto$1.web.subtle.importKey("raw",u,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),y=concatBytes(...c),gr=await crypto$1.web.subtle.sign("HMAC",d,y);return new Uint8Array(gr)}else if(crypto$1.node){const{createHmac:d}=crypto$1.node,y=d("sha256",u);return c.forEach(gr=>y.update(gr)),Uint8Array.from(y.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(u,...c)=>{let d=TAGGED_HASH_PREFIXES[u];if(d===void 0){const y=await utils$1.sha256(Uint8Array.from(u,gr=>gr.charCodeAt(0)));d=concatBytes(y,y),TAGGED_HASH_PREFIXES[u]=d}return utils$1.sha256(d,...c)},taggedHashSync:(u,...c)=>{if(typeof _sha256Sync!="function")throw new ShaError("sha256Sync is undefined, you need to set it");let d=TAGGED_HASH_PREFIXES[u];if(d===void 0){const y=_sha256Sync(Uint8Array.from(u,gr=>gr.charCodeAt(0)));d=concatBytes(y,y),TAGGED_HASH_PREFIXES[u]=d}return _sha256Sync(d,...c)},precompute(u=8,c=Point.BASE){const d=c===Point.BASE?c:new Point(c.x,c.y);return d._setWindowSize(u),d.multiply(_3n),d}};Object.defineProperties(utils$1,{sha256Sync:{configurable:!1,get(){return _sha256Sync},set(u){_sha256Sync||(_sha256Sync=u)}},hmacSha256Sync:{configurable:!1,get(){return _hmacSha256Sync},set(u){_hmacSha256Sync||(_hmacSha256Sync=u)}}});utils$2.sha512Sync=(...u)=>sha512(utils$2.concatBytes(...u));const generatePrivateKey=utils$2.randomPrivateKey,generateKeypair=()=>{const u=utils$2.randomPrivateKey(),c=getPublicKey(u),d=new Uint8Array(64);return d.set(u),d.set(c,32),{publicKey:c,secretKey:d}},getPublicKey=sync.getPublicKey;function isOnCurve(u){try{return Point$1.fromHex(u,!0),!0}catch{return!1}}const sign=(u,c)=>sync.sign(u,c.slice(0,32)),verify=sync.verify,toBuffer=u=>buffer$1.Buffer.isBuffer(u)?u:u instanceof Uint8Array?buffer$1.Buffer.from(u.buffer,u.byteOffset,u.byteLength):buffer$1.Buffer.from(u);class Struct{constructor(c){Object.assign(this,c)}encode(){return buffer$1.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(c){return deserialize_1(SOLANA_SCHEMA,this,c)}static decodeUnchecked(c){return deserializeUnchecked_1(SOLANA_SCHEMA,this,c)}}class Enum extends Struct{constructor(c){if(super(c),this.enum="",Object.keys(c).length!==1)throw new Error("Enum can only take single value");Object.keys(c).map(d=>{this.enum=d})}}const SOLANA_SCHEMA=new Map,MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(u){return u._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct{constructor(c){if(super({}),this._bn=void 0,isPublicKeyData(c))this._bn=c._bn;else{if(typeof c=="string"){const d=bs58.decode(c);if(d.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(d)}else this._bn=new BN(c);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const c=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(c.toBuffer())}equals(c){return this._bn.eq(c._bn)}toBase58(){return bs58.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const c=this._bn.toArrayLike(buffer$1.Buffer);if(c.length===PUBLIC_KEY_LENGTH)return c;const d=buffer$1.Buffer.alloc(32);return c.copy(d,32-c.length),d}toString(){return this.toBase58()}static async createWithSeed(c,d,y){const gr=buffer$1.Buffer.concat([c.toBuffer(),buffer$1.Buffer.from(d),y.toBuffer()]),_r=sha256$1(gr);return new PublicKey(_r)}static createProgramAddressSync(c,d){let y=buffer$1.Buffer.alloc(0);c.forEach(function(_r){if(_r.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");y=buffer$1.Buffer.concat([y,toBuffer(_r)])}),y=buffer$1.Buffer.concat([y,d.toBuffer(),buffer$1.Buffer.from("ProgramDerivedAddress")]);const gr=sha256$1(y);if(isOnCurve(gr))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(gr)}static async createProgramAddress(c,d){return this.createProgramAddressSync(c,d)}static findProgramAddressSync(c,d){let y=255,gr;for(;y!=0;){try{const _r=c.concat(buffer$1.Buffer.from([y]));gr=this.createProgramAddressSync(_r,d)}catch(_r){if(_r instanceof TypeError)throw _r;y--;continue}return[gr,y]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(c,d){return this.findProgramAddressSync(c,d)}static isOnCurve(c){const d=new PublicKey(c);return isOnCurve(d.toBytes())}}PublicKey.default=new PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(c){if(this._publicKey=void 0,this._secretKey=void 0,c){const d=toBuffer(c);if(c.length!==64)throw new Error("bad secret key size");this._publicKey=d.slice(32,64),this._secretKey=d.slice(0,32)}else this._secretKey=toBuffer(generatePrivateKey()),this._publicKey=toBuffer(getPublicKey(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return buffer$1.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(c){super(`Signature ${c} has expired: block height exceeded.`),this.signature=void 0,this.signature=c}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(c,d){super(`Transaction was not confirmed in ${d.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${c} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=c}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class MessageAccountKeys{constructor(c,d){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=c,this.accountKeysFromLookups=d}keySegments(){const c=[this.staticAccountKeys];return this.accountKeysFromLookups&&(c.push(this.accountKeysFromLookups.writable),c.push(this.accountKeysFromLookups.readonly)),c}get(c){for(const d of this.keySegments()){if(c<d.length)return d[c];c-=d.length}}get length(){return this.keySegments().flat().length}compileInstructions(c){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const y=new Map;this.keySegments().flat().forEach((_r,br)=>{y.set(_r.toBase58(),br)});const gr=_r=>{const br=y.get(_r.toBase58());if(br===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return br};return c.map(_r=>({programIdIndex:gr(_r.programId),accountKeyIndexes:_r.keys.map(br=>gr(br.pubkey)),data:_r.data}))}}const publicKey$1=(u="publicKey")=>blob$1(32,u),signature=(u="signature")=>blob$1(64,u),rustString=(u="string")=>{const c=struct$1([u32$1("length"),u32$1("lengthPadding"),blob$1(offset(u32$1(),-8),"chars")],u),d=c.decode.bind(c),y=c.encode.bind(c),gr=c;return gr.decode=(_r,br)=>d(_r,br).chars.toString(),gr.encode=(_r,br,wr)=>{const Er={chars:buffer$1.Buffer.from(_r,"utf8")};return y(Er,br,wr)},gr.alloc=_r=>u32$1().span+u32$1().span+buffer$1.Buffer.from(_r,"utf8").length,gr},authorized=(u="authorized")=>struct$1([publicKey$1("staker"),publicKey$1("withdrawer")],u),lockup=(u="lockup")=>struct$1([ns64("unixTimestamp"),ns64("epoch"),publicKey$1("custodian")],u),voteInit=(u="voteInit")=>struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedVoter"),publicKey$1("authorizedWithdrawer"),u8$1("commission")],u),voteAuthorizeWithSeedArgs=(u="voteAuthorizeWithSeedArgs")=>struct$1([u32$1("voteAuthorizationType"),publicKey$1("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$1("newAuthorized")],u);function getAlloc(u,c){const d=gr=>{if(gr.span>=0)return gr.span;if(typeof gr.alloc=="function")return gr.alloc(c[gr.property]);if("count"in gr&&"elementLayout"in gr){const _r=c[gr.property];if(Array.isArray(_r))return _r.length*d(gr.elementLayout)}else if("fields"in gr)return getAlloc({layout:gr},c[gr.property]);return 0};let y=0;return u.layout.fields.forEach(gr=>{y+=d(gr)}),y}function decodeLength(u){let c=0,d=0;for(;;){let y=u.shift();if(c|=(y&127)<<d*7,d+=1,(y&128)===0)break}return c}function encodeLength(u,c){let d=c;for(;;){let y=d&127;if(d>>=7,d==0){u.push(y);break}else y|=128,u.push(y)}}function assert$2(u,c){if(!u)throw new Error(c||"Assertion failed")}class CompiledKeys{constructor(c,d){this.payer=void 0,this.keyMetaMap=void 0,this.payer=c,this.keyMetaMap=d}static compile(c,d){const y=new Map,gr=br=>{const wr=br.toBase58();let Er=y.get(wr);return Er===void 0&&(Er={isSigner:!1,isWritable:!1,isInvoked:!1},y.set(wr,Er)),Er},_r=gr(d);_r.isSigner=!0,_r.isWritable=!0;for(const br of c){gr(br.programId).isInvoked=!0;for(const wr of br.keys){const Er=gr(wr.pubkey);Er.isSigner||(Er.isSigner=wr.isSigner),Er.isWritable||(Er.isWritable=wr.isWritable)}}return new CompiledKeys(d,y)}getMessageComponents(){const c=[...this.keyMetaMap.entries()];assert$2(c.length<=256,"Max static account keys length exceeded");const d=c.filter(([,Er])=>Er.isSigner&&Er.isWritable),y=c.filter(([,Er])=>Er.isSigner&&!Er.isWritable),gr=c.filter(([,Er])=>!Er.isSigner&&Er.isWritable),_r=c.filter(([,Er])=>!Er.isSigner&&!Er.isWritable),br={numRequiredSignatures:d.length+y.length,numReadonlySignedAccounts:y.length,numReadonlyUnsignedAccounts:_r.length};{assert$2(d.length>0,"Expected at least one writable signer key");const[Er]=d[0];assert$2(Er===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const wr=[...d.map(([Er])=>new PublicKey(Er)),...y.map(([Er])=>new PublicKey(Er)),...gr.map(([Er])=>new PublicKey(Er)),..._r.map(([Er])=>new PublicKey(Er))];return[br,wr]}extractTableLookup(c){const[d,y]=this.drainKeysFoundInLookupTable(c.state.addresses,br=>!br.isSigner&&!br.isInvoked&&br.isWritable),[gr,_r]=this.drainKeysFoundInLookupTable(c.state.addresses,br=>!br.isSigner&&!br.isInvoked&&!br.isWritable);if(!(d.length===0&&gr.length===0))return[{accountKey:c.key,writableIndexes:d,readonlyIndexes:gr},{writable:y,readonly:_r}]}drainKeysFoundInLookupTable(c,d){const y=new Array,gr=new Array;for(const[_r,br]of this.keyMetaMap.entries())if(d(br)){const wr=new PublicKey(_r),Er=c.findIndex(Or=>Or.equals(wr));Er>=0&&(assert$2(Er<256,"Max lookup table index exceeded"),y.push(Er),gr.push(wr),this.keyMetaMap.delete(_r))}return[y,gr]}}class Message{constructor(c){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=c.header,this.accountKeys=c.accountKeys.map(d=>new PublicKey(d)),this.recentBlockhash=c.recentBlockhash,this.instructions=c.instructions,this.instructions.forEach(d=>this.indexToProgramIds.set(d.programIdIndex,this.accountKeys[d.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(c=>({programIdIndex:c.programIdIndex,accountKeyIndexes:c.accounts,data:bs58.decode(c.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(c){const d=CompiledKeys.compile(c.instructions,c.payerKey),[y,gr]=d.getMessageComponents(),br=new MessageAccountKeys(gr).compileInstructions(c.instructions).map(wr=>({programIdIndex:wr.programIdIndex,accounts:wr.accountKeyIndexes,data:bs58.encode(wr.data)}));return new Message({header:y,accountKeys:gr,recentBlockhash:c.recentBlockhash,instructions:br})}isAccountSigner(c){return c<this.header.numRequiredSignatures}isAccountWritable(c){const d=this.header.numRequiredSignatures;if(c>=this.header.numRequiredSignatures){const y=c-d,_r=this.accountKeys.length-d-this.header.numReadonlyUnsignedAccounts;return y<_r}else{const y=d-this.header.numReadonlySignedAccounts;return c<y}}isProgramId(c){return this.indexToProgramIds.has(c)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((c,d)=>!this.isProgramId(d))}serialize(){const c=this.accountKeys.length;let d=[];encodeLength(d,c);const y=this.instructions.map(kr=>{const{accounts:Mr,programIdIndex:Cr}=kr,Nr=Array.from(bs58.decode(kr.data));let Ur=[];encodeLength(Ur,Mr.length);let Dr=[];return encodeLength(Dr,Nr.length),{programIdIndex:Cr,keyIndicesCount:buffer$1.Buffer.from(Ur),keyIndices:Mr,dataLength:buffer$1.Buffer.from(Dr),data:Nr}});let gr=[];encodeLength(gr,y.length);let _r=buffer$1.Buffer.alloc(PACKET_DATA_SIZE);buffer$1.Buffer.from(gr).copy(_r);let br=gr.length;y.forEach(kr=>{br+=struct$1([u8$1("programIdIndex"),blob$1(kr.keyIndicesCount.length,"keyIndicesCount"),seq(u8$1("keyIndex"),kr.keyIndices.length,"keyIndices"),blob$1(kr.dataLength.length,"dataLength"),seq(u8$1("userdatum"),kr.data.length,"data")]).encode(kr,_r,br)}),_r=_r.slice(0,br);const wr=struct$1([blob$1(1,"numRequiredSignatures"),blob$1(1,"numReadonlySignedAccounts"),blob$1(1,"numReadonlyUnsignedAccounts"),blob$1(d.length,"keyCount"),seq(publicKey$1("key"),c,"keys"),publicKey$1("recentBlockhash")]),Er={numRequiredSignatures:buffer$1.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:buffer$1.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:buffer$1.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:buffer$1.Buffer.from(d),keys:this.accountKeys.map(kr=>toBuffer(kr.toBytes())),recentBlockhash:bs58.decode(this.recentBlockhash)};let Or=buffer$1.Buffer.alloc(2048);const xr=wr.encode(Er,Or);return _r.copy(Or,xr),Or.slice(0,xr+_r.length)}static from(c){let d=[...c];const y=d.shift();if(y!==(y&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const gr=d.shift(),_r=d.shift(),br=decodeLength(d);let wr=[];for(let Mr=0;Mr<br;Mr++){const Cr=d.slice(0,PUBLIC_KEY_LENGTH);d=d.slice(PUBLIC_KEY_LENGTH),wr.push(new PublicKey(buffer$1.Buffer.from(Cr)))}const Er=d.slice(0,PUBLIC_KEY_LENGTH);d=d.slice(PUBLIC_KEY_LENGTH);const Or=decodeLength(d);let xr=[];for(let Mr=0;Mr<Or;Mr++){const Cr=d.shift(),Nr=decodeLength(d),Ur=d.slice(0,Nr);d=d.slice(Nr);const Dr=decodeLength(d),zr=d.slice(0,Dr),Zr=bs58.encode(buffer$1.Buffer.from(zr));d=d.slice(Dr),xr.push({programIdIndex:Cr,accounts:Ur,data:Zr})}const kr={header:{numRequiredSignatures:y,numReadonlySignedAccounts:gr,numReadonlyUnsignedAccounts:_r},recentBlockhash:bs58.encode(buffer$1.Buffer.from(Er)),accountKeys:wr,instructions:xr};return new Message(kr)}}class MessageV0{constructor(c){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=c.header,this.staticAccountKeys=c.staticAccountKeys,this.recentBlockhash=c.recentBlockhash,this.compiledInstructions=c.compiledInstructions,this.addressTableLookups=c.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let c=0;for(const d of this.addressTableLookups)c+=d.readonlyIndexes.length+d.writableIndexes.length;return c}getAccountKeys(c){let d;if(c&&"accountKeysFromLookups"in c){if(this.numAccountKeysFromLookups!=c.accountKeysFromLookups.writable.length+c.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");d=c.accountKeysFromLookups}else if(c&&"addressLookupTableAccounts"in c)d=this.resolveAddressTableLookups(c.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,d)}isAccountSigner(c){return c<this.header.numRequiredSignatures}isAccountWritable(c){const d=this.header.numRequiredSignatures,y=this.staticAccountKeys.length;if(c>=y){const gr=c-y,_r=this.addressTableLookups.reduce((br,wr)=>br+wr.writableIndexes.length,0);return gr<_r}else if(c>=this.header.numRequiredSignatures){const gr=c-d,br=y-d-this.header.numReadonlyUnsignedAccounts;return gr<br}else{const gr=d-this.header.numReadonlySignedAccounts;return c<gr}}resolveAddressTableLookups(c){const d={writable:[],readonly:[]};for(const y of this.addressTableLookups){const gr=c.find(_r=>_r.key.equals(y.accountKey));if(!gr)throw new Error(`Failed to find address lookup table account for table key ${y.accountKey.toBase58()}`);for(const _r of y.writableIndexes)if(_r<gr.state.addresses.length)d.writable.push(gr.state.addresses[_r]);else throw new Error(`Failed to find address for index ${_r} in address lookup table ${y.accountKey.toBase58()}`);for(const _r of y.readonlyIndexes)if(_r<gr.state.addresses.length)d.readonly.push(gr.state.addresses[_r]);else throw new Error(`Failed to find address for index ${_r} in address lookup table ${y.accountKey.toBase58()}`)}return d}static compile(c){const d=CompiledKeys.compile(c.instructions,c.payerKey),y=new Array,gr={writable:new Array,readonly:new Array},_r=c.addressLookupTableAccounts||[];for(const xr of _r){const kr=d.extractTableLookup(xr);if(kr!==void 0){const[Mr,{writable:Cr,readonly:Nr}]=kr;y.push(Mr),gr.writable.push(...Cr),gr.readonly.push(...Nr)}}const[br,wr]=d.getMessageComponents(),Or=new MessageAccountKeys(wr,gr).compileInstructions(c.instructions);return new MessageV0({header:br,staticAccountKeys:wr,recentBlockhash:c.recentBlockhash,compiledInstructions:Or,addressTableLookups:y})}serialize(){const c=Array();encodeLength(c,this.staticAccountKeys.length);const d=this.serializeInstructions(),y=Array();encodeLength(y,this.compiledInstructions.length);const gr=this.serializeAddressTableLookups(),_r=Array();encodeLength(_r,this.addressTableLookups.length);const br=struct$1([u8$1("prefix"),struct$1([u8$1("numRequiredSignatures"),u8$1("numReadonlySignedAccounts"),u8$1("numReadonlyUnsignedAccounts")],"header"),blob$1(c.length,"staticAccountKeysLength"),seq(publicKey$1(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$1("recentBlockhash"),blob$1(y.length,"instructionsLength"),blob$1(d.length,"serializedInstructions"),blob$1(_r.length,"addressTableLookupsLength"),blob$1(gr.length,"serializedAddressTableLookups")]),wr=new Uint8Array(PACKET_DATA_SIZE),Er=1<<7,Or=br.encode({prefix:Er,header:this.header,staticAccountKeysLength:new Uint8Array(c),staticAccountKeys:this.staticAccountKeys.map(xr=>xr.toBytes()),recentBlockhash:bs58.decode(this.recentBlockhash),instructionsLength:new Uint8Array(y),serializedInstructions:d,addressTableLookupsLength:new Uint8Array(_r),serializedAddressTableLookups:gr},wr);return wr.slice(0,Or)}serializeInstructions(){let c=0;const d=new Uint8Array(PACKET_DATA_SIZE);for(const y of this.compiledInstructions){const gr=Array();encodeLength(gr,y.accountKeyIndexes.length);const _r=Array();encodeLength(_r,y.data.length),c+=struct$1([u8$1("programIdIndex"),blob$1(gr.length,"encodedAccountKeyIndexesLength"),seq(u8$1(),y.accountKeyIndexes.length,"accountKeyIndexes"),blob$1(_r.length,"encodedDataLength"),blob$1(y.data.length,"data")]).encode({programIdIndex:y.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(gr),accountKeyIndexes:y.accountKeyIndexes,encodedDataLength:new Uint8Array(_r),data:y.data},d,c)}return d.slice(0,c)}serializeAddressTableLookups(){let c=0;const d=new Uint8Array(PACKET_DATA_SIZE);for(const y of this.addressTableLookups){const gr=Array();encodeLength(gr,y.writableIndexes.length);const _r=Array();encodeLength(_r,y.readonlyIndexes.length),c+=struct$1([publicKey$1("accountKey"),blob$1(gr.length,"encodedWritableIndexesLength"),seq(u8$1(),y.writableIndexes.length,"writableIndexes"),blob$1(_r.length,"encodedReadonlyIndexesLength"),seq(u8$1(),y.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:y.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(gr),writableIndexes:y.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(_r),readonlyIndexes:y.readonlyIndexes},d,c)}return d.slice(0,c)}static deserialize(c){let d=[...c];const y=d.shift(),gr=y&VERSION_PREFIX_MASK;assert$2(y!==gr,"Expected versioned message but received legacy message");const _r=gr;assert$2(_r===0,`Expected versioned message with version 0 but found version ${_r}`);const br={numRequiredSignatures:d.shift(),numReadonlySignedAccounts:d.shift(),numReadonlyUnsignedAccounts:d.shift()},wr=[],Er=decodeLength(d);for(let Nr=0;Nr<Er;Nr++)wr.push(new PublicKey(d.splice(0,PUBLIC_KEY_LENGTH)));const Or=bs58.encode(d.splice(0,PUBLIC_KEY_LENGTH)),xr=decodeLength(d),kr=[];for(let Nr=0;Nr<xr;Nr++){const Ur=d.shift(),Dr=decodeLength(d),zr=d.splice(0,Dr),Zr=decodeLength(d),Wr=new Uint8Array(d.splice(0,Zr));kr.push({programIdIndex:Ur,accountKeyIndexes:zr,data:Wr})}const Mr=decodeLength(d),Cr=[];for(let Nr=0;Nr<Mr;Nr++){const Ur=new PublicKey(d.splice(0,PUBLIC_KEY_LENGTH)),Dr=decodeLength(d),zr=d.splice(0,Dr),Zr=decodeLength(d),Wr=d.splice(0,Zr);Cr.push({accountKey:Ur,writableIndexes:zr,readonlyIndexes:Wr})}return new MessageV0({header:br,staticAccountKeys:wr,recentBlockhash:Or,compiledInstructions:kr,addressTableLookups:Cr})}}const VersionedMessage={deserializeMessageVersion(u){const c=u[0],d=c&VERSION_PREFIX_MASK;return d===c?"legacy":d},deserialize:u=>{const c=VersionedMessage.deserializeMessageVersion(u);if(c==="legacy")return Message.from(u);if(c===0)return MessageV0.deserialize(u);throw new Error(`Transaction message version ${c} deserialization is not supported`)}};let TransactionStatus;(function(u){u[u.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",u[u.PROCESSED=1]="PROCESSED",u[u.TIMED_OUT=2]="TIMED_OUT"})(TransactionStatus||(TransactionStatus={}));const DEFAULT_SIGNATURE=buffer$1.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(c){this.keys=void 0,this.programId=void 0,this.data=buffer$1.Buffer.alloc(0),this.programId=c.programId,this.keys=c.keys,c.data&&(this.data=c.data)}toJSON(){return{keys:this.keys.map(({pubkey:c,isSigner:d,isWritable:y})=>({pubkey:c.toJSON(),isSigner:d,isWritable:y})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(c){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!c)if(c.feePayer&&(this.feePayer=c.feePayer),c.signatures&&(this.signatures=c.signatures),Object.prototype.hasOwnProperty.call(c,"lastValidBlockHeight")){const{blockhash:d,lastValidBlockHeight:y}=c;this.recentBlockhash=d,this.lastValidBlockHeight=y}else{const{recentBlockhash:d,nonceInfo:y}=c;y&&(this.nonceInfo=y),this.recentBlockhash=d}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(c=>c.toJSON()),signers:this.signatures.map(({publicKey:c})=>c.toJSON())}}add(...c){if(c.length===0)throw new Error("No instructions");return c.forEach(d=>{"instructions"in d?this.instructions=this.instructions.concat(d.instructions):"data"in d&&"programId"in d&&"keys"in d?this.instructions.push(d):this.instructions.push(new TransactionInstruction(d))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let c,d;if(this.nonceInfo?(c=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?d=[this.nonceInfo.nonceInstruction,...this.instructions]:d=this.instructions):(c=this.recentBlockhash,d=this.instructions),!c)throw new Error("Transaction recentBlockhash required");d.length<1&&console.warn("No instructions provided");let y;if(this.feePayer)y=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)y=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Ur=0;Ur<d.length;Ur++)if(d[Ur].programId===void 0)throw new Error(`Transaction instruction index ${Ur} has undefined program id`);const gr=[],_r=[];d.forEach(Ur=>{Ur.keys.forEach(zr=>{_r.push({...zr})});const Dr=Ur.programId.toString();gr.includes(Dr)||gr.push(Dr)}),gr.forEach(Ur=>{_r.push({pubkey:new PublicKey(Ur),isSigner:!1,isWritable:!1})});const br=[];_r.forEach(Ur=>{const Dr=Ur.pubkey.toString(),zr=br.findIndex(Zr=>Zr.pubkey.toString()===Dr);zr>-1?(br[zr].isWritable=br[zr].isWritable||Ur.isWritable,br[zr].isSigner=br[zr].isSigner||Ur.isSigner):br.push(Ur)}),br.sort(function(Ur,Dr){return Ur.isSigner!==Dr.isSigner?Ur.isSigner?-1:1:Ur.isWritable!==Dr.isWritable?Ur.isWritable?-1:1:Ur.pubkey.toBase58().localeCompare(Dr.pubkey.toBase58())});const wr=br.findIndex(Ur=>Ur.pubkey.equals(y));if(wr>-1){const[Ur]=br.splice(wr,1);Ur.isSigner=!0,Ur.isWritable=!0,br.unshift(Ur)}else br.unshift({pubkey:y,isSigner:!0,isWritable:!0});for(const Ur of this.signatures){const Dr=br.findIndex(zr=>zr.pubkey.equals(Ur.publicKey));if(Dr>-1)br[Dr].isSigner||(br[Dr].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Ur.publicKey.toString()}`)}let Er=0,Or=0,xr=0;const kr=[],Mr=[];br.forEach(({pubkey:Ur,isSigner:Dr,isWritable:zr})=>{Dr?(kr.push(Ur.toString()),Er+=1,zr||(Or+=1)):(Mr.push(Ur.toString()),zr||(xr+=1))});const Cr=kr.concat(Mr),Nr=d.map(Ur=>{const{data:Dr,programId:zr}=Ur;return{programIdIndex:Cr.indexOf(zr.toString()),accounts:Ur.keys.map(Zr=>Cr.indexOf(Zr.pubkey.toString())),data:bs58.encode(Dr)}});return Nr.forEach(Ur=>{assert$2(Ur.programIdIndex>=0),Ur.accounts.forEach(Dr=>assert$2(Dr>=0))}),new Message({header:{numRequiredSignatures:Er,numReadonlySignedAccounts:Or,numReadonlyUnsignedAccounts:xr},accountKeys:Cr,recentBlockhash:c,instructions:Nr})}_compile(){const c=this.compileMessage(),d=c.accountKeys.slice(0,c.header.numRequiredSignatures);return this.signatures.length===d.length&&this.signatures.every((gr,_r)=>d[_r].equals(gr.publicKey))||(this.signatures=d.map(y=>({signature:null,publicKey:y}))),c}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(c){return(await c.getFeeForMessage(this.compileMessage())).value}setSigners(...c){if(c.length===0)throw new Error("No signers");const d=new Set;this.signatures=c.filter(y=>{const gr=y.toString();return d.has(gr)?!1:(d.add(gr),!0)}).map(y=>({signature:null,publicKey:y}))}sign(...c){if(c.length===0)throw new Error("No signers");const d=new Set,y=[];for(const _r of c){const br=_r.publicKey.toString();d.has(br)||(d.add(br),y.push(_r))}this.signatures=y.map(_r=>({signature:null,publicKey:_r.publicKey}));const gr=this._compile();this._partialSign(gr,...y)}partialSign(...c){if(c.length===0)throw new Error("No signers");const d=new Set,y=[];for(const _r of c){const br=_r.publicKey.toString();d.has(br)||(d.add(br),y.push(_r))}const gr=this._compile();this._partialSign(gr,...y)}_partialSign(c,...d){const y=c.serialize();d.forEach(gr=>{const _r=sign(y,gr.secretKey);this._addSignature(gr.publicKey,toBuffer(_r))})}addSignature(c,d){this._compile(),this._addSignature(c,d)}_addSignature(c,d){assert$2(d.length===64);const y=this.signatures.findIndex(gr=>c.equals(gr.publicKey));if(y<0)throw new Error(`unknown signer: ${c.toString()}`);this.signatures[y].signature=buffer$1.Buffer.from(d)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(c,d){for(const{signature:y,publicKey:gr}of this.signatures)if(y===null){if(d)return!1}else if(!verify(y,c,gr.toBuffer()))return!1;return!0}serialize(c){const{requireAllSignatures:d,verifySignatures:y}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},c),gr=this.serializeMessage();if(y&&!this._verifySignatures(gr,d))throw new Error("Signature verification failed");return this._serialize(gr)}_serialize(c){const{signatures:d}=this,y=[];encodeLength(y,d.length);const gr=y.length+d.length*64+c.length,_r=buffer$1.Buffer.alloc(gr);return assert$2(d.length<256),buffer$1.Buffer.from(y).copy(_r,0),d.forEach(({signature:br},wr)=>{br!==null&&(assert$2(br.length===64,"signature has invalid length"),buffer$1.Buffer.from(br).copy(_r,y.length+wr*64))}),c.copy(_r,y.length+d.length*64),assert$2(_r.length<=PACKET_DATA_SIZE,`Transaction too large: ${_r.length} > ${PACKET_DATA_SIZE}`),_r}get keys(){return assert$2(this.instructions.length===1),this.instructions[0].keys.map(c=>c.pubkey)}get programId(){return assert$2(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$2(this.instructions.length===1),this.instructions[0].data}static from(c){let d=[...c];const y=decodeLength(d);let gr=[];for(let _r=0;_r<y;_r++){const br=d.slice(0,SIGNATURE_LENGTH_IN_BYTES);d=d.slice(SIGNATURE_LENGTH_IN_BYTES),gr.push(bs58.encode(buffer$1.Buffer.from(br)))}return Transaction.populate(Message.from(d),gr)}static populate(c,d=[]){const y=new Transaction;return y.recentBlockhash=c.recentBlockhash,c.header.numRequiredSignatures>0&&(y.feePayer=c.accountKeys[0]),d.forEach((gr,_r)=>{const br={signature:gr==bs58.encode(DEFAULT_SIGNATURE)?null:bs58.decode(gr),publicKey:c.accountKeys[_r]};y.signatures.push(br)}),c.instructions.forEach(gr=>{const _r=gr.accounts.map(br=>{const wr=c.accountKeys[br];return{pubkey:wr,isSigner:y.signatures.some(Er=>Er.publicKey.toString()===wr.toString())||c.isAccountSigner(br),isWritable:c.isAccountWritable(br)}});y.instructions.push(new TransactionInstruction({keys:_r,programId:c.accountKeys[gr.programIdIndex],data:bs58.decode(gr.data)}))}),y._message=c,y._json=y.toJSON(),y}}class TransactionMessage{constructor(c){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=c.payerKey,this.instructions=c.instructions,this.recentBlockhash=c.recentBlockhash}static decompile(c,d){const{header:y,compiledInstructions:gr,recentBlockhash:_r}=c,{numRequiredSignatures:br,numReadonlySignedAccounts:wr,numReadonlyUnsignedAccounts:Er}=y,Or=br-wr;assert$2(Or>0,"Message header is invalid");const xr=c.staticAccountKeys.length-Er;assert$2(xr>=0,"Message header is invalid");const kr=c.getAccountKeys(d),Mr=kr.get(0);if(Mr===void 0)throw new Error("Failed to decompile message because no account keys were found");const Cr=[];for(const Nr of gr){const Ur=[];for(const zr of Nr.accountKeyIndexes){const Zr=kr.get(zr);if(Zr===void 0)throw new Error(`Failed to find key for account key index ${zr}`);const Wr=zr<br;let tn;Wr?tn=zr<Or:zr<kr.staticAccountKeys.length?tn=zr-br<xr:tn=zr-kr.staticAccountKeys.length<kr.accountKeysFromLookups.writable.length,Ur.push({pubkey:Zr,isSigner:zr<y.numRequiredSignatures,isWritable:tn})}const Dr=kr.get(Nr.programIdIndex);if(Dr===void 0)throw new Error(`Failed to find program id for program id index ${Nr.programIdIndex}`);Cr.push(new TransactionInstruction({programId:Dr,data:toBuffer(Nr.data),keys:Ur}))}return new TransactionMessage({payerKey:Mr,instructions:Cr,recentBlockhash:_r})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(c){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:c})}}class VersionedTransaction{get version(){return this.message.version}constructor(c,d){if(this.signatures=void 0,this.message=void 0,d!==void 0)assert$2(d.length===c.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=d;else{const y=[];for(let gr=0;gr<c.header.numRequiredSignatures;gr++)y.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES));this.signatures=y}this.message=c}serialize(){const c=this.message.serialize(),d=Array();encodeLength(d,this.signatures.length);const y=struct$1([blob$1(d.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$1(c.length,"serializedMessage")]),gr=new Uint8Array(2048),_r=y.encode({encodedSignaturesLength:new Uint8Array(d),signatures:this.signatures,serializedMessage:c},gr);return gr.slice(0,_r)}static deserialize(c){let d=[...c];const y=[],gr=decodeLength(d);for(let br=0;br<gr;br++)y.push(new Uint8Array(d.splice(0,SIGNATURE_LENGTH_IN_BYTES)));const _r=VersionedMessage.deserialize(new Uint8Array(d));return new VersionedTransaction(_r,y)}sign(c){const d=this.message.serialize(),y=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const gr of c){const _r=y.findIndex(br=>br.equals(gr.publicKey));assert$2(_r>=0,`Cannot sign with non signer key ${gr.publicKey.toBase58()}`),this.signatures[_r]=sign(d,gr.secretKey)}}}const SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$2(u,c,d,y){const gr=y&&{skipPreflight:y.skipPreflight,preflightCommitment:y.preflightCommitment||y.commitment,maxRetries:y.maxRetries,minContextSlot:y.minContextSlot},_r=await u.sendTransaction(c,d,gr),br=c.recentBlockhash!=null&&c.lastValidBlockHeight!=null?(await u.confirmTransaction({signature:_r,blockhash:c.recentBlockhash,lastValidBlockHeight:c.lastValidBlockHeight},y&&y.commitment)).value:(await u.confirmTransaction(_r,y&&y.commitment)).value;if(br.err)throw new Error(`Transaction ${_r} failed (${JSON.stringify(br)})`);return _r}function sleep(u){return new Promise(c=>setTimeout(c,u))}function encodeData(u,c){const d=u.layout.span>=0?u.layout.span:getAlloc(u,c),y=buffer$1.Buffer.alloc(d),gr=Object.assign({instruction:u.index},c);return u.layout.encode(gr,y),y}function decodeData$1(u,c){let d;try{d=u.layout.decode(c)}catch(y){throw new Error("invalid instruction; "+y)}if(d.instruction!==u.index)throw new Error(`invalid instruction; instruction index mismatch ${d.instruction} != ${u.index}`);return d}const FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct$1([u32$1("version"),u32$1("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct$1([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(c){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=c.authorizedPubkey,this.nonce=c.nonce,this.feeCalculator=c.feeCalculator}static fromAccountData(c){const d=NonceAccountLayout.decode(toBuffer(c),0);return new NonceAccount({authorizedPubkey:new PublicKey(d.authorizedPubkey),nonce:new PublicKey(d.nonce).toString(),feeCalculator:d.feeCalculator})}}const encodeDecode=u=>{const c=u.decode.bind(u),d=u.encode.bind(u);return{decode:c,encode:d}},bigInt=u=>c=>{const d=blob$1(u,c),{encode:y,decode:gr}=encodeDecode(d),_r=d;return _r.decode=(br,wr)=>{const Er=gr(br,wr);return toBigIntLE_1(buffer$1.Buffer.from(Er))},_r.encode=(br,wr,Er)=>{const Or=toBufferLE_1(br,u);return y(Or,wr,Er)},_r},u64$1=bigInt(8);class SystemInstruction{constructor(){}static decodeInstructionType(c){this.checkProgramId(c.programId);const y=u32$1("instruction").decode(c.data);let gr;for(const[_r,br]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(br.index==y){gr=_r;break}if(!gr)throw new Error("Instruction type incorrect; not a SystemInstruction");return gr}static decodeCreateAccount(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,2);const{lamports:d,space:y,programId:gr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Create,c.data);return{fromPubkey:c.keys[0].pubkey,newAccountPubkey:c.keys[1].pubkey,lamports:d,space:y,programId:new PublicKey(gr)}}static decodeTransfer(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,2);const{lamports:d}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,c.data);return{fromPubkey:c.keys[0].pubkey,toPubkey:c.keys[1].pubkey,lamports:d}}static decodeTransferWithSeed(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3);const{lamports:d,seed:y,programId:gr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,c.data);return{fromPubkey:c.keys[0].pubkey,basePubkey:c.keys[1].pubkey,toPubkey:c.keys[2].pubkey,lamports:d,seed:y,programId:new PublicKey(gr)}}static decodeAllocate(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,1);const{space:d}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,c.data);return{accountPubkey:c.keys[0].pubkey,space:d}}static decodeAllocateWithSeed(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,1);const{base:d,seed:y,space:gr,programId:_r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,c.data);return{accountPubkey:c.keys[0].pubkey,basePubkey:new PublicKey(d),seed:y,space:gr,programId:new PublicKey(_r)}}static decodeAssign(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,1);const{programId:d}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Assign,c.data);return{accountPubkey:c.keys[0].pubkey,programId:new PublicKey(d)}}static decodeAssignWithSeed(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,1);const{base:d,seed:y,programId:gr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,c.data);return{accountPubkey:c.keys[0].pubkey,basePubkey:new PublicKey(d),seed:y,programId:new PublicKey(gr)}}static decodeCreateWithSeed(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,2);const{base:d,seed:y,lamports:gr,space:_r,programId:br}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,c.data);return{fromPubkey:c.keys[0].pubkey,newAccountPubkey:c.keys[1].pubkey,basePubkey:new PublicKey(d),seed:y,lamports:gr,space:_r,programId:new PublicKey(br)}}static decodeNonceInitialize(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3);const{authorized:d}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,c.data);return{noncePubkey:c.keys[0].pubkey,authorizedPubkey:new PublicKey(d)}}static decodeNonceAdvance(c){return this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,c.data),{noncePubkey:c.keys[0].pubkey,authorizedPubkey:c.keys[2].pubkey}}static decodeNonceWithdraw(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,5);const{lamports:d}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,c.data);return{noncePubkey:c.keys[0].pubkey,toPubkey:c.keys[1].pubkey,authorizedPubkey:c.keys[4].pubkey,lamports:d}}static decodeNonceAuthorize(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,2);const{authorized:d}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,c.data);return{noncePubkey:c.keys[0].pubkey,authorizedPubkey:c.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(d)}}static checkProgramId(c){if(!c.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(c,d){if(c.length<d)throw new Error(`invalid instruction; found ${c.length} keys, expected at least ${d}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$1([u32$1("instruction"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},Assign:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:struct$1([u32$1("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:struct$1([u32$1("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$1([u32$1("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:struct$1([u32$1("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:struct$1([u32$1("instruction"),u64$1("lamports"),rustString("seed"),publicKey$1("programId")])},UpgradeNonceAccount:{index:12,layout:struct$1([u32$1("instruction")])}});class SystemProgram{constructor(){}static createAccount(c){const d=SYSTEM_INSTRUCTION_LAYOUTS.Create,y=encodeData(d,{lamports:c.lamports,space:c.space,programId:toBuffer(c.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:c.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:c.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:y})}static transfer(c){let d,y;if("basePubkey"in c){const gr=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;d=encodeData(gr,{lamports:BigInt(c.lamports),seed:c.seed,programId:toBuffer(c.programId.toBuffer())}),y=[{pubkey:c.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:c.basePubkey,isSigner:!0,isWritable:!1},{pubkey:c.toPubkey,isSigner:!1,isWritable:!0}]}else{const gr=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;d=encodeData(gr,{lamports:BigInt(c.lamports)}),y=[{pubkey:c.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:c.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:y,programId:this.programId,data:d})}static assign(c){let d,y;if("basePubkey"in c){const gr=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;d=encodeData(gr,{base:toBuffer(c.basePubkey.toBuffer()),seed:c.seed,programId:toBuffer(c.programId.toBuffer())}),y=[{pubkey:c.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:c.basePubkey,isSigner:!0,isWritable:!1}]}else{const gr=SYSTEM_INSTRUCTION_LAYOUTS.Assign;d=encodeData(gr,{programId:toBuffer(c.programId.toBuffer())}),y=[{pubkey:c.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:y,programId:this.programId,data:d})}static createAccountWithSeed(c){const d=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,y=encodeData(d,{base:toBuffer(c.basePubkey.toBuffer()),seed:c.seed,lamports:c.lamports,space:c.space,programId:toBuffer(c.programId.toBuffer())});let gr=[{pubkey:c.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:c.newAccountPubkey,isSigner:!1,isWritable:!0}];return c.basePubkey!=c.fromPubkey&&gr.push({pubkey:c.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:gr,programId:this.programId,data:y})}static createNonceAccount(c){const d=new Transaction;"basePubkey"in c&&"seed"in c?d.add(SystemProgram.createAccountWithSeed({fromPubkey:c.fromPubkey,newAccountPubkey:c.noncePubkey,basePubkey:c.basePubkey,seed:c.seed,lamports:c.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):d.add(SystemProgram.createAccount({fromPubkey:c.fromPubkey,newAccountPubkey:c.noncePubkey,lamports:c.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const y={noncePubkey:c.noncePubkey,authorizedPubkey:c.authorizedPubkey};return d.add(this.nonceInitialize(y)),d}static nonceInitialize(c){const d=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,y=encodeData(d,{authorized:toBuffer(c.authorizedPubkey.toBuffer())}),gr={keys:[{pubkey:c.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:y};return new TransactionInstruction(gr)}static nonceAdvance(c){const d=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,y=encodeData(d),gr={keys:[{pubkey:c.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:y};return new TransactionInstruction(gr)}static nonceWithdraw(c){const d=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,y=encodeData(d,{lamports:c.lamports});return new TransactionInstruction({keys:[{pubkey:c.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:c.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:y})}static nonceAuthorize(c){const d=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,y=encodeData(d,{authorized:toBuffer(c.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:c.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:c.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:y})}static allocate(c){let d,y;if("basePubkey"in c){const gr=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;d=encodeData(gr,{base:toBuffer(c.basePubkey.toBuffer()),seed:c.seed,space:c.space,programId:toBuffer(c.programId.toBuffer())}),y=[{pubkey:c.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:c.basePubkey,isSigner:!0,isWritable:!1}]}else{const gr=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;d=encodeData(gr,{space:c.space}),y=[{pubkey:c.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:y,programId:this.programId,data:d})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(c){return 2*(Math.ceil(c/Loader.chunkSize)+1+1)}static async load(c,d,y,gr,_r){{const kr=await c.getMinimumBalanceForRentExemption(_r.length),Mr=await c.getAccountInfo(y.publicKey,"confirmed");let Cr=null;if(Mr!==null){if(Mr.executable)return console.error("Program load failed, account is already executable"),!1;Mr.data.length!==_r.length&&(Cr=Cr||new Transaction,Cr.add(SystemProgram.allocate({accountPubkey:y.publicKey,space:_r.length}))),Mr.owner.equals(gr)||(Cr=Cr||new Transaction,Cr.add(SystemProgram.assign({accountPubkey:y.publicKey,programId:gr}))),Mr.lamports<kr&&(Cr=Cr||new Transaction,Cr.add(SystemProgram.transfer({fromPubkey:d.publicKey,toPubkey:y.publicKey,lamports:kr-Mr.lamports})))}else Cr=new Transaction().add(SystemProgram.createAccount({fromPubkey:d.publicKey,newAccountPubkey:y.publicKey,lamports:kr>0?kr:1,space:_r.length,programId:gr}));Cr!==null&&await sendAndConfirmTransaction$2(c,Cr,[d,y],{commitment:"confirmed"})}const br=struct$1([u32$1("instruction"),u32$1("offset"),u32$1("bytesLength"),u32$1("bytesLengthPadding"),seq(u8$1("byte"),offset(u32$1(),-8),"bytes")]),wr=Loader.chunkSize;let Er=0,Or=_r,xr=[];for(;Or.length>0;){const kr=Or.slice(0,wr),Mr=buffer$1.Buffer.alloc(wr+16);br.encode({instruction:0,offset:Er,bytes:kr,bytesLength:0,bytesLengthPadding:0},Mr);const Cr=new Transaction().add({keys:[{pubkey:y.publicKey,isSigner:!0,isWritable:!0}],programId:gr,data:Mr});xr.push(sendAndConfirmTransaction$2(c,Cr,[d,y],{commitment:"confirmed"})),c._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),Er+=wr,Or=Or.slice(wr)}await Promise.all(xr);{const kr=struct$1([u32$1("instruction")]),Mr=buffer$1.Buffer.alloc(kr.span);kr.encode({instruction:1},Mr);const Cr=new Transaction().add({keys:[{pubkey:y.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:gr,data:Mr});await sendAndConfirmTransaction$2(c,Cr,[d,y],{commitment:"confirmed"})}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(c){return Loader.getMinNumSignatures(c)}static load(c,d,y,gr,_r){return Loader.load(c,d,y,_r,gr)}}var objToString=Object.prototype.toString,objKeys=Object.keys||function(u){var c=[];for(var d in u)c.push(d);return c};function stringify(u,c){var d,y,gr,_r,br,wr,Er;if(u===!0)return"true";if(u===!1)return"false";switch(typeof u){case"object":if(u===null)return null;if(u.toJSON&&typeof u.toJSON=="function")return stringify(u.toJSON(),c);if(Er=objToString.call(u),Er==="[object Array]"){for(gr="[",y=u.length-1,d=0;d<y;d++)gr+=stringify(u[d],!0)+",";return y>-1&&(gr+=stringify(u[d],!0)),gr+"]"}else if(Er==="[object Object]"){for(_r=objKeys(u).sort(),y=_r.length,gr="",d=0;d<y;)br=_r[d],wr=stringify(u[br],!1),wr!==void 0&&(gr&&(gr+=","),gr+=JSON.stringify(br)+":"+wr),d++;return"{"+gr+"}"}else return JSON.stringify(u);case"function":case"undefined":return c?null:void 0;case"string":return JSON.stringify(u);default:return isFinite(u)?u:null}}var fastStableStringify=function(u){var c=stringify(u,!1);if(c!==void 0)return""+c},fastStableStringify$1=fastStableStringify;const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(u){let c=0;for(;u>1;)u/=2,c++;return c}function nextPowerOfTwo(u){return u===0?1:(u--,u|=u>>1,u|=u>>2,u|=u>>4,u|=u>>8,u|=u>>16,u|=u>>32,u+1)}class EpochSchedule{constructor(c,d,y,gr,_r){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=c,this.leaderScheduleSlotOffset=d,this.warmup=y,this.firstNormalEpoch=gr,this.firstNormalSlot=_r}getEpoch(c){return this.getEpochAndSlotIndex(c)[0]}getEpochAndSlotIndex(c){if(c<this.firstNormalSlot){const d=trailingZeros(nextPowerOfTwo(c+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,y=this.getSlotsInEpoch(d),gr=c-(y-MINIMUM_SLOT_PER_EPOCH);return[d,gr]}else{const d=c-this.firstNormalSlot,y=Math.floor(d/this.slotsPerEpoch),gr=this.firstNormalEpoch+y,_r=d%this.slotsPerEpoch;return[gr,_r]}}getFirstSlotInEpoch(c){return c<=this.firstNormalEpoch?(Math.pow(2,c)-1)*MINIMUM_SLOT_PER_EPOCH:(c-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(c){return this.getFirstSlotInEpoch(c)+this.getSlotsInEpoch(c)-1}getSlotsInEpoch(c){return c<this.firstNormalEpoch?Math.pow(2,c+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(c,d){super(c),this.logs=void 0,this.logs=d}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:c,message:d,data:y},gr){super(gr!=null?`${gr}: ${d}`:d),this.code=void 0,this.data=void 0,this.code=c,this.data=y,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;function decodeData(u,c){let d;try{d=u.layout.decode(c)}catch(y){throw new Error("invalid instruction; "+y)}if(d.typeIndex!==u.index)throw new Error(`invalid account data; account type mismatch ${d.typeIndex} != ${u.index}`);return d}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(c){this.key=void 0,this.state=void 0,this.key=c.key,this.state=c.state}isActive(){const c=18446744073709551615n;return this.state.deactivationSlot===c}static deserialize(c){const d=decodeData(LookupTableMetaLayout,c),y=c.length-LOOKUP_TABLE_META_SIZE;assert$2(y>=0,"lookup table is invalid"),assert$2(y%32===0,"lookup table is invalid");const gr=y/32,{addresses:_r}=struct$1([seq(publicKey$1(),gr,"addresses")]).decode(c.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:d.deactivationSlot,lastExtendedSlot:d.lastExtendedSlot,lastExtendedSlotStartIndex:d.lastExtendedStartIndex,authority:d.authority.length!==0?new PublicKey(d.authority[0]):void 0,addresses:_r.map(br=>new PublicKey(br))}}}const LookupTableMetaLayout={index:1,layout:struct$1([u32$1("typeIndex"),u64$1("deactivationSlot"),nu64("lastExtendedSlot"),u8$1("lastExtendedStartIndex"),u8$1(),seq(publicKey$1(),offset(u8$1(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(u){const c=u.match(URL_RE);if(c==null)throw TypeError(`Failed to validate endpoint URL \`${u}\``);const[d,y,gr,_r]=c,br=u.startsWith("https:")?"wss:":"ws:",wr=gr==null?null:parseInt(gr.slice(1),10),Er=wr==null?"":`:${wr+1}`;return`${br}//${y}${Er}${_r}`}var _process$env$npm_pack;const PublicKeyFromString=coerce(instance(PublicKey),string(),u=>new PublicKey(u)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(buffer$1.Buffer),RawAccountDataResult,u=>buffer$1.Buffer.from(u[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(u){if(/^https?:/.test(u)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return u}function extractCommitmentFromConfig(u){let c,d;if(typeof u=="string")c=u;else if(u){const{commitment:y,...gr}=u;c=y,d=gr}return{commitment:c,config:d}}function createRpcResult(u){return union([type({jsonrpc:literal("2.0"),id:string(),result:u}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(u){return coerce(createRpcResult(u),UnknownRpcResult,c=>"error"in c?c:{...c,result:create(c.result,u)})}function jsonRpcResultAndContext(u){return jsonRpcResult(type({context:type({slot:number()}),value:u}))}function notificationResultAndContext(u){return type({context:type({slot:number()}),value:u})}function versionedMessageFromResponse(u,c){return u===0?new MessageV0({header:c.header,staticAccountKeys:c.accountKeys.map(d=>new PublicKey(d)),recentBlockhash:c.recentBlockhash,compiledInstructions:c.instructions.map(d=>({programIdIndex:d.programIdIndex,accountKeyIndexes:d.accounts,data:bs58.decode(d.data)})),addressTableLookups:c.addressTableLookups}):new Message(c)}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number()})))),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));function createRpcClient(u,c,d,y,gr){const _r=d||fetchImpl;let br;return y&&(br=async(Er,Or)=>{const xr=await new Promise((kr,Mr)=>{try{y(Er,Or,(Cr,Nr)=>kr([Cr,Nr]))}catch(Cr){Mr(Cr)}});return await _r(...xr)}),new browser$1(async(Er,Or)=>{const kr={method:"POST",body:Er,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},c||{},COMMON_HTTP_HEADERS)};try{let Mr=5,Cr,Nr=500;for(;br?Cr=await br(u,kr):Cr=await _r(u,kr),!(Cr.status!==429||gr===!0||(Mr-=1,Mr===0));)console.log(`Server responded with ${Cr.status} ${Cr.statusText}.  Retrying after ${Nr}ms delay...`),await sleep(Nr),Nr*=2;const Ur=await Cr.text();Cr.ok?Or(null,Ur):Or(new Error(`${Cr.status} ${Cr.statusText}: ${Ur}`))}catch(Mr){Mr instanceof Error&&Or(Mr)}finally{}},{})}function createRpcRequest(u){return(c,d)=>new Promise((y,gr)=>{u.request(c,d,(_r,br)=>{if(_r){gr(_r);return}y(br)})})}function createRpcBatchRequest(u){return c=>new Promise((d,y)=>{c.length===0&&d([]);const gr=c.map(_r=>u.request(_r.methodName,_r.args));u.request(gr,(_r,br)=>{if(_r){y(_r);return}d(br)})})}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)})),TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})}))),ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union([instance(buffer$1.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),u=>Array.isArray(u)?create(u,BufferFromRawAccountData):u),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult}),SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)})),ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number()),AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,u=>"accounts"in u?create(u,RawInstructionResult):create(u,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))})),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),GetBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number())}))),GetBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()})),PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult(string()),SendTransactionRpcResult=jsonRpcResult(string()),LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number()}),COMMON_HTTP_HEADERS={"solana-client":`js/${(_process$env$npm_pack="0.0.0-development")!==null&&_process$env$npm_pack!==void 0?_process$env$npm_pack:"UNKNOWN"}`};class Connection{constructor(c,d){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let y,gr,_r,br,wr;d&&typeof d=="string"?this._commitment=d:d&&(this._commitment=d.commitment,this._confirmTransactionInitialTimeout=d.confirmTransactionInitialTimeout,y=d.wsEndpoint,gr=d.httpHeaders,_r=d.fetch,br=d.fetchMiddleware,wr=d.disableRetryOnRateLimit),this._rpcEndpoint=assertEndpointUrl(c),this._rpcWsEndpoint=y||makeWebsocketUrl(c),this._rpcClient=createRpcClient(c,gr,_r,br,wr),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new Client_1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=this._buildArgs([c.toBase58()],y,void 0,gr),br=await this._rpcRequest("getBalance",_r),wr=create(br,jsonRpcResultAndContext(number()));if("error"in wr)throw new SolanaJSONRPCError(wr.error,`failed to get balance for ${c.toBase58()}`);return wr.result}async getBalance(c,d){return await this.getBalanceAndContext(c,d).then(y=>y.value).catch(y=>{throw new Error("failed to get balance of account "+c.toBase58()+": "+y)})}async getBlockTime(c){const d=await this._rpcRequest("getBlockTime",[c]),y=create(d,jsonRpcResult(nullable(number())));if("error"in y)throw new SolanaJSONRPCError(y.error,`failed to get block time for slot ${c}`);return y.result}async getMinimumLedgerSlot(){const c=await this._rpcRequest("minimumLedgerSlot",[]),d=create(c,jsonRpcResult(number()));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get minimum ledger slot");return d.result}async getFirstAvailableBlock(){const c=await this._rpcRequest("getFirstAvailableBlock",[]),d=create(c,SlotRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get first available block");return d.result}async getSupply(c){let d={};typeof c=="string"?d={commitment:c}:c?d={...c,commitment:c&&c.commitment||this.commitment}:d={commitment:this.commitment};const y=await this._rpcRequest("getSupply",[d]),gr=create(y,GetSupplyRpcResult);if("error"in gr)throw new SolanaJSONRPCError(gr.error,"failed to get supply");return gr.result}async getTokenSupply(c,d){const y=this._buildArgs([c.toBase58()],d),gr=await this._rpcRequest("getTokenSupply",y),_r=create(gr,jsonRpcResultAndContext(TokenAmountResult));if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get token supply");return _r.result}async getTokenAccountBalance(c,d){const y=this._buildArgs([c.toBase58()],d),gr=await this._rpcRequest("getTokenAccountBalance",y),_r=create(gr,jsonRpcResultAndContext(TokenAmountResult));if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get token account balance");return _r.result}async getTokenAccountsByOwner(c,d,y){const{commitment:gr,config:_r}=extractCommitmentFromConfig(y);let br=[c.toBase58()];"mint"in d?br.push({mint:d.mint.toBase58()}):br.push({programId:d.programId.toBase58()});const wr=this._buildArgs(br,gr,"base64",_r),Er=await this._rpcRequest("getTokenAccountsByOwner",wr),Or=create(Er,GetTokenAccountsByOwner);if("error"in Or)throw new SolanaJSONRPCError(Or.error,`failed to get token accounts owned by account ${c.toBase58()}`);return Or.result}async getParsedTokenAccountsByOwner(c,d,y){let gr=[c.toBase58()];"mint"in d?gr.push({mint:d.mint.toBase58()}):gr.push({programId:d.programId.toBase58()});const _r=this._buildArgs(gr,y,"jsonParsed"),br=await this._rpcRequest("getTokenAccountsByOwner",_r),wr=create(br,GetParsedTokenAccountsByOwner);if("error"in wr)throw new SolanaJSONRPCError(wr.error,`failed to get token accounts owned by account ${c.toBase58()}`);return wr.result}async getLargestAccounts(c){const d={...c,commitment:c&&c.commitment||this.commitment},y=d.filter||d.commitment?[d]:[],gr=await this._rpcRequest("getLargestAccounts",y),_r=create(gr,GetLargestAccountsRpcResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get largest accounts");return _r.result}async getTokenLargestAccounts(c,d){const y=this._buildArgs([c.toBase58()],d),gr=await this._rpcRequest("getTokenLargestAccounts",y),_r=create(gr,GetTokenLargestAccountsResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get token largest accounts");return _r.result}async getAccountInfoAndContext(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=this._buildArgs([c.toBase58()],y,"base64",gr),br=await this._rpcRequest("getAccountInfo",_r),wr=create(br,jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in wr)throw new SolanaJSONRPCError(wr.error,`failed to get info about account ${c.toBase58()}`);return wr.result}async getParsedAccountInfo(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=this._buildArgs([c.toBase58()],y,"jsonParsed",gr),br=await this._rpcRequest("getAccountInfo",_r),wr=create(br,jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in wr)throw new SolanaJSONRPCError(wr.error,`failed to get info about account ${c.toBase58()}`);return wr.result}async getAccountInfo(c,d){try{return(await this.getAccountInfoAndContext(c,d)).value}catch(y){throw new Error("failed to get info about account "+c.toBase58()+": "+y)}}async getMultipleAccountsInfoAndContext(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=c.map(Or=>Or.toBase58()),br=this._buildArgs([_r],y,"base64",gr),wr=await this._rpcRequest("getMultipleAccounts",br),Er=create(wr,jsonRpcResultAndContext(array(nullable(AccountInfoResult))));if("error"in Er)throw new SolanaJSONRPCError(Er.error,`failed to get info for accounts ${_r}`);return Er.result}async getMultipleAccountsInfo(c,d){return(await this.getMultipleAccountsInfoAndContext(c,d)).value}async getStakeActivation(c,d,y){const{commitment:gr,config:_r}=extractCommitmentFromConfig(d),br=this._buildArgs([c.toBase58()],gr,void 0,{..._r,epoch:y??_r?.epoch}),wr=await this._rpcRequest("getStakeActivation",br),Er=create(wr,jsonRpcResult(StakeActivationResult));if("error"in Er)throw new SolanaJSONRPCError(Er.error,`failed to get Stake Activation ${c.toBase58()}`);return Er.result}async getProgramAccounts(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),{encoding:_r,...br}=gr||{},wr=this._buildArgs([c.toBase58()],y,_r||"base64",br),Er=await this._rpcRequest("getProgramAccounts",wr),Or=create(Er,jsonRpcResult(array(KeyedAccountInfoResult)));if("error"in Or)throw new SolanaJSONRPCError(Or.error,`failed to get accounts owned by program ${c.toBase58()}`);return Or.result}async getParsedProgramAccounts(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=this._buildArgs([c.toBase58()],y,"jsonParsed",gr),br=await this._rpcRequest("getProgramAccounts",_r),wr=create(br,jsonRpcResult(array(KeyedParsedAccountInfoResult)));if("error"in wr)throw new SolanaJSONRPCError(wr.error,`failed to get accounts owned by program ${c.toBase58()}`);return wr.result}async confirmTransaction(c,d){let y;typeof c=="string"?y=c:y=c.signature;let gr;try{gr=bs58.decode(y)}catch{throw new Error("signature must be base58 encoded: "+y)}assert$2(gr.length===64,"signature has invalid length");const _r=d||this.commitment;let br,wr,Er=!1;const Or=new Promise((Mr,Cr)=>{try{wr=this.onSignature(y,(Nr,Ur)=>{wr=void 0;const Dr={context:Ur,value:Nr};Er=!0,Mr({__type:TransactionStatus.PROCESSED,response:Dr})},_r)}catch(Nr){Cr(Nr)}}),xr=new Promise(Mr=>{if(typeof c=="string"){let Cr=this._confirmTransactionInitialTimeout||6e4;switch(_r){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{Cr=this._confirmTransactionInitialTimeout||30*1e3;break}}br=setTimeout(()=>Mr({__type:TransactionStatus.TIMED_OUT,timeoutMs:Cr}),Cr)}else{let Cr=c;const Nr=async()=>{try{return await this.getBlockHeight(d)}catch{return-1}};(async()=>{let Ur=await Nr();if(!Er){for(;Ur<=Cr.lastValidBlockHeight;)if(await sleep(1e3),Er||(Ur=await Nr(),Er))return;Mr({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}});let kr;try{const Mr=await Promise.race([Or,xr]);switch(Mr.__type){case TransactionStatus.BLOCKHEIGHT_EXCEEDED:throw new TransactionExpiredBlockheightExceededError(y);case TransactionStatus.PROCESSED:kr=Mr.response;break;case TransactionStatus.TIMED_OUT:throw new TransactionExpiredTimeoutError(y,Mr.timeoutMs/1e3)}}finally{clearTimeout(br),wr&&this.removeSignatureListener(wr)}return kr}async getClusterNodes(){const c=await this._rpcRequest("getClusterNodes",[]),d=create(c,jsonRpcResult(array(ContactInfoResult)));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get cluster nodes");return d.result}async getVoteAccounts(c){const d=this._buildArgs([],c),y=await this._rpcRequest("getVoteAccounts",d),gr=create(y,GetVoteAccounts);if("error"in gr)throw new SolanaJSONRPCError(gr.error,"failed to get vote accounts");return gr.result}async getSlot(c){const{commitment:d,config:y}=extractCommitmentFromConfig(c),gr=this._buildArgs([],d,void 0,y),_r=await this._rpcRequest("getSlot",gr),br=create(_r,jsonRpcResult(number()));if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get slot");return br.result}async getSlotLeader(c){const{commitment:d,config:y}=extractCommitmentFromConfig(c),gr=this._buildArgs([],d,void 0,y),_r=await this._rpcRequest("getSlotLeader",gr),br=create(_r,jsonRpcResult(string()));if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get slot leader");return br.result}async getSlotLeaders(c,d){const y=[c,d],gr=await this._rpcRequest("getSlotLeaders",y),_r=create(gr,jsonRpcResult(array(PublicKeyFromString)));if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get slot leaders");return _r.result}async getSignatureStatus(c,d){const{context:y,value:gr}=await this.getSignatureStatuses([c],d);assert$2(gr.length===1);const _r=gr[0];return{context:y,value:_r}}async getSignatureStatuses(c,d){const y=[c];d&&y.push(d);const gr=await this._rpcRequest("getSignatureStatuses",y),_r=create(gr,GetSignatureStatusesRpcResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get signature status");return _r.result}async getTransactionCount(c){const{commitment:d,config:y}=extractCommitmentFromConfig(c),gr=this._buildArgs([],d,void 0,y),_r=await this._rpcRequest("getTransactionCount",gr),br=create(_r,jsonRpcResult(number()));if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get transaction count");return br.result}async getTotalSupply(c){return(await this.getSupply({commitment:c,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(c){const d=this._buildArgs([],c),y=await this._rpcRequest("getInflationGovernor",d),gr=create(y,GetInflationGovernorRpcResult);if("error"in gr)throw new SolanaJSONRPCError(gr.error,"failed to get inflation");return gr.result}async getInflationReward(c,d,y){const{commitment:gr,config:_r}=extractCommitmentFromConfig(y),br=this._buildArgs([c.map(Or=>Or.toBase58())],gr,void 0,{..._r,epoch:d??_r?.epoch}),wr=await this._rpcRequest("getInflationReward",br),Er=create(wr,GetInflationRewardResult);if("error"in Er)throw new SolanaJSONRPCError(Er.error,"failed to get inflation reward");return Er.result}async getEpochInfo(c){const{commitment:d,config:y}=extractCommitmentFromConfig(c),gr=this._buildArgs([],d,void 0,y),_r=await this._rpcRequest("getEpochInfo",gr),br=create(_r,GetEpochInfoRpcResult);if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get epoch info");return br.result}async getEpochSchedule(){const c=await this._rpcRequest("getEpochSchedule",[]),d=create(c,GetEpochScheduleRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get epoch schedule");const y=d.result;return new EpochSchedule(y.slotsPerEpoch,y.leaderScheduleSlotOffset,y.warmup,y.firstNormalEpoch,y.firstNormalSlot)}async getLeaderSchedule(){const c=await this._rpcRequest("getLeaderSchedule",[]),d=create(c,GetLeaderScheduleRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get leader schedule");return d.result}async getMinimumBalanceForRentExemption(c,d){const y=this._buildArgs([c],d),gr=await this._rpcRequest("getMinimumBalanceForRentExemption",y),_r=create(gr,GetMinimumBalanceForRentExemptionRpcResult);return"error"in _r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):_r.result}async getRecentBlockhashAndContext(c){const d=this._buildArgs([],c),y=await this._rpcRequest("getRecentBlockhash",d),gr=create(y,GetRecentBlockhashAndContextRpcResult);if("error"in gr)throw new SolanaJSONRPCError(gr.error,"failed to get recent blockhash");return gr.result}async getRecentPerformanceSamples(c){const d=await this._rpcRequest("getRecentPerformanceSamples",c?[c]:[]),y=create(d,GetRecentPerformanceSamplesRpcResult);if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get recent performance samples");return y.result}async getFeeCalculatorForBlockhash(c,d){const y=this._buildArgs([c],d),gr=await this._rpcRequest("getFeeCalculatorForBlockhash",y),_r=create(gr,GetFeeCalculatorRpcResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get fee calculator");const{context:br,value:wr}=_r.result;return{context:br,value:wr!==null?wr.feeCalculator:null}}async getFeeForMessage(c,d){const y=c.serialize().toString("base64"),gr=this._buildArgs([y],d),_r=await this._rpcRequest("getFeeForMessage",gr),br=create(_r,jsonRpcResultAndContext(nullable(number())));if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get slot");if(br.result===null)throw new Error("invalid blockhash");return br.result}async getRecentBlockhash(c){try{return(await this.getRecentBlockhashAndContext(c)).value}catch(d){throw new Error("failed to get recent blockhash: "+d)}}async getLatestBlockhash(c){try{return(await this.getLatestBlockhashAndContext(c)).value}catch(d){throw new Error("failed to get recent blockhash: "+d)}}async getLatestBlockhashAndContext(c){const{commitment:d,config:y}=extractCommitmentFromConfig(c),gr=this._buildArgs([],d,void 0,y),_r=await this._rpcRequest("getLatestBlockhash",gr),br=create(_r,GetLatestBlockhashRpcResult);if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get latest blockhash");return br.result}async getVersion(){const c=await this._rpcRequest("getVersion",[]),d=create(c,jsonRpcResult(VersionResult));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get version");return d.result}async getGenesisHash(){const c=await this._rpcRequest("getGenesisHash",[]),d=create(c,jsonRpcResult(string()));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get genesis hash");return d.result}async getBlock(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=this._buildArgsAtLeastConfirmed([c],y,void 0,gr),br=await this._rpcRequest("getBlock",_r),wr=create(br,GetBlockRpcResult);if("error"in wr)throw new SolanaJSONRPCError(wr.error,"failed to get confirmed block");const Er=wr.result;return Er&&{...Er,transactions:Er.transactions.map(({transaction:Or,meta:xr,version:kr})=>({meta:xr,transaction:{...Or,message:versionedMessageFromResponse(kr,Or.message)},version:kr}))}}async getBlockHeight(c){const{commitment:d,config:y}=extractCommitmentFromConfig(c),gr=this._buildArgs([],d,void 0,y),_r=await this._rpcRequest("getBlockHeight",gr),br=create(_r,jsonRpcResult(number()));if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get block height information");return br.result}async getBlockProduction(c){let d,y;if(typeof c=="string")y=c;else if(c){const{commitment:wr,...Er}=c;y=wr,d=Er}const gr=this._buildArgs([],y,"base64",d),_r=await this._rpcRequest("getBlockProduction",gr),br=create(_r,BlockProductionResponseStruct);if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get block production information");return br.result}async getTransaction(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=this._buildArgsAtLeastConfirmed([c],y,void 0,gr),br=await this._rpcRequest("getTransaction",_r),wr=create(br,GetTransactionRpcResult);if("error"in wr)throw new SolanaJSONRPCError(wr.error,"failed to get transaction");const Er=wr.result;return Er&&{...Er,transaction:{...Er.transaction,message:versionedMessageFromResponse(Er.version,Er.transaction.message)}}}async getParsedTransaction(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=this._buildArgsAtLeastConfirmed([c],y,"jsonParsed",gr),br=await this._rpcRequest("getTransaction",_r),wr=create(br,GetParsedTransactionRpcResult);if("error"in wr)throw new SolanaJSONRPCError(wr.error,"failed to get transaction");return wr.result}async getParsedTransactions(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=c.map(Er=>{const Or=this._buildArgsAtLeastConfirmed([Er],y,"jsonParsed",gr);return{methodName:"getTransaction",args:Or}});return(await this._rpcBatchRequest(_r)).map(Er=>{const Or=create(Er,GetParsedTransactionRpcResult);if("error"in Or)throw new SolanaJSONRPCError(Or.error,"failed to get transactions");return Or.result})}async getTransactions(c,d){const{commitment:y,config:gr}=extractCommitmentFromConfig(d),_r=c.map(Er=>{const Or=this._buildArgsAtLeastConfirmed([Er],y,void 0,gr);return{methodName:"getTransaction",args:Or}});return(await this._rpcBatchRequest(_r)).map(Er=>{const Or=create(Er,GetTransactionRpcResult);if("error"in Or)throw new SolanaJSONRPCError(Or.error,"failed to get transactions");const xr=Or.result;return xr&&{...xr,transaction:{...xr.transaction,message:versionedMessageFromResponse(xr.version,xr.transaction.message)}}})}async getConfirmedBlock(c,d){const y=this._buildArgsAtLeastConfirmed([c],d),gr=await this._rpcRequest("getConfirmedBlock",y),_r=create(gr,GetConfirmedBlockRpcResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get confirmed block");const br=_r.result;if(!br)throw new Error("Confirmed block "+c+" not found");const wr={...br,transactions:br.transactions.map(({transaction:Er,meta:Or})=>{const xr=new Message(Er.message);return{meta:Or,transaction:{...Er,message:xr}}})};return{...wr,transactions:wr.transactions.map(({transaction:Er,meta:Or})=>({meta:Or,transaction:Transaction.populate(Er.message,Er.signatures)}))}}async getBlocks(c,d,y){const gr=this._buildArgsAtLeastConfirmed(d!==void 0?[c,d]:[c],y),_r=await this._rpcRequest("getBlocks",gr),br=create(_r,jsonRpcResult(array(number())));if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get blocks");return br.result}async getBlockSignatures(c,d){const y=this._buildArgsAtLeastConfirmed([c],d,void 0,{transactionDetails:"signatures",rewards:!1}),gr=await this._rpcRequest("getBlock",y),_r=create(gr,GetBlockSignaturesRpcResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get block");const br=_r.result;if(!br)throw new Error("Block "+c+" not found");return br}async getConfirmedBlockSignatures(c,d){const y=this._buildArgsAtLeastConfirmed([c],d,void 0,{transactionDetails:"signatures",rewards:!1}),gr=await this._rpcRequest("getConfirmedBlock",y),_r=create(gr,GetBlockSignaturesRpcResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get confirmed block");const br=_r.result;if(!br)throw new Error("Confirmed block "+c+" not found");return br}async getConfirmedTransaction(c,d){const y=this._buildArgsAtLeastConfirmed([c],d),gr=await this._rpcRequest("getConfirmedTransaction",y),_r=create(gr,GetTransactionRpcResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get transaction");const br=_r.result;if(!br)return br;const wr=new Message(br.transaction.message),Er=br.transaction.signatures;return{...br,transaction:Transaction.populate(wr,Er)}}async getParsedConfirmedTransaction(c,d){const y=this._buildArgsAtLeastConfirmed([c],d,"jsonParsed"),gr=await this._rpcRequest("getConfirmedTransaction",y),_r=create(gr,GetParsedTransactionRpcResult);if("error"in _r)throw new SolanaJSONRPCError(_r.error,"failed to get confirmed transaction");return _r.result}async getParsedConfirmedTransactions(c,d){const y=c.map(br=>{const wr=this._buildArgsAtLeastConfirmed([br],d,"jsonParsed");return{methodName:"getConfirmedTransaction",args:wr}});return(await this._rpcBatchRequest(y)).map(br=>{const wr=create(br,GetParsedTransactionRpcResult);if("error"in wr)throw new SolanaJSONRPCError(wr.error,"failed to get confirmed transactions");return wr.result})}async getConfirmedSignaturesForAddress(c,d,y){let gr={},_r=await this.getFirstAvailableBlock();for(;!("until"in gr)&&(d--,!(d<=0||d<_r));)try{const Er=await this.getConfirmedBlockSignatures(d,"finalized");Er.signatures.length>0&&(gr.until=Er.signatures[Er.signatures.length-1].toString())}catch(Er){if(Er instanceof Error&&Er.message.includes("skipped"))continue;throw Er}let br=await this.getSlot("finalized");for(;!("before"in gr)&&(y++,!(y>br));)try{const Er=await this.getConfirmedBlockSignatures(y);Er.signatures.length>0&&(gr.before=Er.signatures[Er.signatures.length-1].toString())}catch(Er){if(Er instanceof Error&&Er.message.includes("skipped"))continue;throw Er}return(await this.getConfirmedSignaturesForAddress2(c,gr)).map(Er=>Er.signature)}async getConfirmedSignaturesForAddress2(c,d,y){const gr=this._buildArgsAtLeastConfirmed([c.toBase58()],y,void 0,d),_r=await this._rpcRequest("getConfirmedSignaturesForAddress2",gr),br=create(_r,GetConfirmedSignaturesForAddress2RpcResult);if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get confirmed signatures for address");return br.result}async getSignaturesForAddress(c,d,y){const gr=this._buildArgsAtLeastConfirmed([c.toBase58()],y,void 0,d),_r=await this._rpcRequest("getSignaturesForAddress",gr),br=create(_r,GetSignaturesForAddressRpcResult);if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get signatures for address");return br.result}async getAddressLookupTable(c,d){const{context:y,value:gr}=await this.getAccountInfoAndContext(c,d);let _r=null;return gr!==null&&(_r=new AddressLookupTableAccount({key:c,state:AddressLookupTableAccount.deserialize(gr.data)})),{context:y,value:_r}}async getNonceAndContext(c,d){const{context:y,value:gr}=await this.getAccountInfoAndContext(c,d);let _r=null;return gr!==null&&(_r=NonceAccount.fromAccountData(gr.data)),{context:y,value:_r}}async getNonce(c,d){return await this.getNonceAndContext(c,d).then(y=>y.value).catch(y=>{throw new Error("failed to get nonce for account "+c.toBase58()+": "+y)})}async requestAirdrop(c,d){const y=await this._rpcRequest("requestAirdrop",[c.toBase58(),d]),gr=create(y,RequestAirdropRpcResult);if("error"in gr)throw new SolanaJSONRPCError(gr.error,`airdrop to ${c.toBase58()} failed`);return gr.result}async _blockhashWithExpiryBlockHeight(c){if(!c){for(;this._pollingBlockhash;)await sleep(100);const y=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!y)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const c=Date.now(),d=this._blockhashInfo.latestBlockhash,y=d?d.blockhash:null;for(let gr=0;gr<50;gr++){const _r=await this.getLatestBlockhash("finalized");if(y!==_r.blockhash)return this._blockhashInfo={latestBlockhash:_r,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},_r;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-c}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(c){const{commitment:d,config:y}=extractCommitmentFromConfig(c),gr=this._buildArgs([],d,"base64",y),_r=await this._rpcRequest("getStakeMinimumDelegation",gr),br=create(_r,jsonRpcResultAndContext(number()));if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get stake minimum delegation");return br.result}async simulateTransaction(c,d,y){if("message"in c){const Ur=c.serialize(),Dr=buffer$1.Buffer.from(Ur).toString("base64");if(Array.isArray(d)||y!==void 0)throw new Error("Invalid arguments");const zr=d||{};zr.encoding="base64","commitment"in zr||(zr.commitment=this.commitment);const Zr=[Dr,zr],Wr=await this._rpcRequest("simulateTransaction",Zr),tn=create(Wr,SimulatedTransactionResponseStruct);if("error"in tn)throw new Error("failed to simulate transaction: "+tn.error.message);return tn.result}let gr;if(c instanceof Transaction){let Nr=c;gr=new Transaction,gr.feePayer=Nr.feePayer,gr.instructions=c.instructions,gr.nonceInfo=Nr.nonceInfo,gr.signatures=Nr.signatures}else gr=Transaction.populate(c),gr._message=gr._json=void 0;if(d!==void 0&&!Array.isArray(d))throw new Error("Invalid arguments");const _r=d;if(gr.nonceInfo&&_r)gr.sign(..._r);else{let Nr=this._disableBlockhashCaching;for(;;){const Ur=await this._blockhashWithExpiryBlockHeight(Nr);if(gr.lastValidBlockHeight=Ur.lastValidBlockHeight,gr.recentBlockhash=Ur.blockhash,!_r)break;if(gr.sign(..._r),!gr.signature)throw new Error("!signature");const Dr=gr.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(Dr)&&!this._blockhashInfo.transactionSignatures.includes(Dr)){this._blockhashInfo.simulatedSignatures.push(Dr);break}else Nr=!0}}const br=gr._compile(),wr=br.serialize(),Or=gr._serialize(wr).toString("base64"),xr={encoding:"base64",commitment:this.commitment};if(y){const Nr=(Array.isArray(y)?y:br.nonProgramIds()).map(Ur=>Ur.toBase58());xr.accounts={encoding:"base64",addresses:Nr}}_r&&(xr.sigVerify=!0);const kr=[Or,xr],Mr=await this._rpcRequest("simulateTransaction",kr),Cr=create(Mr,SimulatedTransactionResponseStruct);if("error"in Cr){let Nr;if("data"in Cr.error&&(Nr=Cr.error.data.logs,Nr&&Array.isArray(Nr))){const Ur=`
    `,Dr=Ur+Nr.join(Ur);console.error(Cr.error.message,Dr)}throw new SendTransactionError("failed to simulate transaction: "+Cr.error.message,Nr)}return Cr.result}async sendTransaction(c,d,y){if("version"in c){if(d&&Array.isArray(d))throw new Error("Invalid arguments");const br=c.serialize();return await this.sendRawTransaction(br,y)}if(d===void 0||!Array.isArray(d))throw new Error("Invalid arguments");const gr=d;if(c.nonceInfo)c.sign(...gr);else{let br=this._disableBlockhashCaching;for(;;){const wr=await this._blockhashWithExpiryBlockHeight(br);if(c.lastValidBlockHeight=wr.lastValidBlockHeight,c.recentBlockhash=wr.blockhash,c.sign(...gr),!c.signature)throw new Error("!signature");const Er=c.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(Er))br=!0;else{this._blockhashInfo.transactionSignatures.push(Er);break}}}const _r=c.serialize();return await this.sendRawTransaction(_r,y)}async sendRawTransaction(c,d){const y=toBuffer(c).toString("base64");return await this.sendEncodedTransaction(y,d)}async sendEncodedTransaction(c,d){const y={encoding:"base64"},gr=d&&d.skipPreflight,_r=d&&d.preflightCommitment||this.commitment;d&&d.maxRetries!=null&&(y.maxRetries=d.maxRetries),d&&d.minContextSlot!=null&&(y.minContextSlot=d.minContextSlot),gr&&(y.skipPreflight=gr),_r&&(y.preflightCommitment=_r);const br=[c,y],wr=await this._rpcRequest("sendTransaction",br),Er=create(wr,SendTransactionRpcResult);if("error"in Er){let Or;throw"data"in Er.error&&(Or=Er.error.data.logs),new SendTransactionError("failed to send transaction: "+Er.error.message,Or)}return Er.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(c){this._rpcWebSocketConnected=!1,console.error("ws error:",c.message)}_wsOnClose(c){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),c===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([d,y])=>{this._subscriptionsByHash[d]={...y,state:"pending"}})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(y){y instanceof Error&&console.log(`Error when closing socket connection: ${y.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const c=this._rpcWebSocketGeneration,d=()=>c===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async y=>{const gr=this._subscriptionsByHash[y];if(gr!==void 0)switch(gr.state){case"pending":case"unsubscribed":if(gr.callbacks.size===0){delete this._subscriptionsByHash[y],gr.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[gr.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:_r,method:br}=gr;try{this._subscriptionsByHash[y]={...gr,state:"subscribing"};const wr=await this._rpcWebSocket.call(br,_r);this._subscriptionsByHash[y]={...gr,serverSubscriptionId:wr,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[wr]=gr.callbacks,await this._updateSubscriptions()}catch(wr){if(wr instanceof Error&&console.error(`${br} error for argument`,_r,wr.message),!d())return;this._subscriptionsByHash[y]={...gr,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":gr.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:_r,unsubscribeMethod:br}=gr;if(this._subscriptionsAutoDisposedByRpc.has(_r))this._subscriptionsAutoDisposedByRpc.delete(_r);else{this._subscriptionsByHash[y]={...gr,state:"unsubscribing"};try{await this._rpcWebSocket.call(br,[_r])}catch(wr){if(wr instanceof Error&&console.error(`${br} error:`,wr.message),!d())return;this._subscriptionsByHash[y]={...gr,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[y]={...gr,state:"unsubscribed"},await this._updateSubscriptions()})();break}}))}_handleServerNotification(c,d){const y=this._subscriptionCallbacksByServerSubscriptionId[c];y!==void 0&&y.forEach(gr=>{try{gr(...d)}catch(_r){console.error(_r)}})}_wsOnAccountNotification(c){const{result:d,subscription:y}=create(c,AccountNotificationResult);this._handleServerNotification(y,[d.value,d.context])}_makeSubscription(c,d){const y=this._nextClientSubscriptionId++,gr=fastStableStringify$1([c.method,d]),_r=this._subscriptionsByHash[gr];return _r===void 0?this._subscriptionsByHash[gr]={...c,args:d,callbacks:new Set([c.callback]),state:"pending"}:_r.callbacks.add(c.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[y]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[y];const br=this._subscriptionsByHash[gr];assert$2(br!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${y}`),br.callbacks.delete(c.callback),await this._updateSubscriptions()},this._updateSubscriptions(),y}onAccountChange(c,d,y){const gr=this._buildArgs([c.toBase58()],y||this._commitment||"finalized","base64");return this._makeSubscription({callback:d,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},gr)}async removeAccountChangeListener(c){await this._unsubscribeClientSubscription(c,"account change")}_wsOnProgramAccountNotification(c){const{result:d,subscription:y}=create(c,ProgramAccountNotificationResult);this._handleServerNotification(y,[{accountId:d.value.pubkey,accountInfo:d.value.account},d.context])}onProgramAccountChange(c,d,y,gr){const _r=this._buildArgs([c.toBase58()],y||this._commitment||"finalized","base64",gr?{filters:gr}:void 0);return this._makeSubscription({callback:d,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},_r)}async removeProgramAccountChangeListener(c){await this._unsubscribeClientSubscription(c,"program account change")}onLogs(c,d,y){const gr=this._buildArgs([typeof c=="object"?{mentions:[c.toString()]}:c],y||this._commitment||"finalized");return this._makeSubscription({callback:d,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},gr)}async removeOnLogsListener(c){await this._unsubscribeClientSubscription(c,"logs")}_wsOnLogsNotification(c){const{result:d,subscription:y}=create(c,LogsNotificationResult);this._handleServerNotification(y,[d.value,d.context])}_wsOnSlotNotification(c){const{result:d,subscription:y}=create(c,SlotNotificationResult);this._handleServerNotification(y,[d])}onSlotChange(c){return this._makeSubscription({callback:c,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(c){await this._unsubscribeClientSubscription(c,"slot change")}_wsOnSlotUpdatesNotification(c){const{result:d,subscription:y}=create(c,SlotUpdateNotificationResult);this._handleServerNotification(y,[d])}onSlotUpdate(c){return this._makeSubscription({callback:c,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(c){await this._unsubscribeClientSubscription(c,"slot update")}async _unsubscribeClientSubscription(c,d){const y=this._subscriptionDisposeFunctionsByClientSubscriptionId[c];y?await y():console.warn(`Ignored unsubscribe request because an active subscription with id \`${c}\` for '${d}' events could not be found.`)}_buildArgs(c,d,y,gr){const _r=d||this._commitment;if(_r||y||gr){let br={};y&&(br.encoding=y),_r&&(br.commitment=_r),gr&&(br=Object.assign(br,gr)),c.push(br)}return c}_buildArgsAtLeastConfirmed(c,d,y,gr){const _r=d||this._commitment;if(_r&&!["confirmed","finalized"].includes(_r))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(c,d,y,gr)}_wsOnSignatureNotification(c){const{result:d,subscription:y}=create(c,SignatureNotificationResult);d.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(y),this._handleServerNotification(y,d.value==="receivedSignature"?[{type:"received"},d.context]:[{type:"status",result:d.value},d.context])}onSignature(c,d,y){const gr=this._buildArgs([c],y||this._commitment||"finalized"),_r=this._makeSubscription({callback:(br,wr)=>{if(br.type==="status"){d(br.result,wr);try{this.removeSignatureListener(_r)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},gr);return _r}onSignatureWithOptions(c,d,y){const{commitment:gr,..._r}={...y,commitment:y&&y.commitment||this._commitment||"finalized"},br=this._buildArgs([c],gr,void 0,_r),wr=this._makeSubscription({callback:(Er,Or)=>{d(Er,Or);try{this.removeSignatureListener(wr)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},br);return wr}async removeSignatureListener(c){await this._unsubscribeClientSubscription(c,"signature result")}_wsOnRootNotification(c){const{result:d,subscription:y}=create(c,RootNotificationResult);this._handleServerNotification(y,[d])}onRootChange(c){return this._makeSubscription({callback:c,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(c){await this._unsubscribeClientSubscription(c,"root change")}}class Keypair{constructor(c){this._keypair=void 0,this._keypair=c??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(c,d){if(c.byteLength!==64)throw new Error("bad secret key size");const y=c.slice(32,64);if(!d||!d.skipValidation){const gr=c.slice(0,32),_r=getPublicKey(gr);for(let br=0;br<32;br++)if(y[br]!==_r[br])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:y,secretKey:c})}static fromSeed(c){const d=getPublicKey(c),y=new Uint8Array(64);return y.set(c),y.set(d,32),new Keypair({publicKey:d,secretKey:y})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$1([u32$1("instruction"),u64$1("recentSlot"),u8$1("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$1([u32$1("instruction")])},ExtendLookupTable:{index:2,layout:struct$1([u32$1("instruction"),u64$1(),seq(publicKey$1(),offset(u32$1(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$1([u32$1("instruction")])},CloseLookupTable:{index:4,layout:struct$1([u32$1("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(c){this.checkProgramId(c.programId);const y=u32$1("instruction").decode(c.data);let gr;for(const[_r,br]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(br.index==y){gr=_r;break}if(!gr)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return gr}static decodeCreateLookupTable(c){this.checkProgramId(c.programId),this.checkKeysLength(c.keys,4);const{recentSlot:d}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,c.data);return{authority:c.keys[1].pubkey,payer:c.keys[2].pubkey,recentSlot:Number(d)}}static decodeExtendLookupTable(c){if(this.checkProgramId(c.programId),c.keys.length<2)throw new Error(`invalid instruction; found ${c.keys.length} keys, expected at least 2`);const{addresses:d}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,c.data);return{lookupTable:c.keys[0].pubkey,authority:c.keys[1].pubkey,payer:c.keys.length>2?c.keys[2].pubkey:void 0,addresses:d.map(y=>new PublicKey(y))}}static decodeCloseLookupTable(c){return this.checkProgramId(c.programId),this.checkKeysLength(c.keys,3),{lookupTable:c.keys[0].pubkey,authority:c.keys[1].pubkey,recipient:c.keys[2].pubkey}}static decodeFreezeLookupTable(c){return this.checkProgramId(c.programId),this.checkKeysLength(c.keys,2),{lookupTable:c.keys[0].pubkey,authority:c.keys[1].pubkey}}static decodeDeactivateLookupTable(c){return this.checkProgramId(c.programId),this.checkKeysLength(c.keys,2),{lookupTable:c.keys[0].pubkey,authority:c.keys[1].pubkey}}static checkProgramId(c){if(!c.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(c,d){if(c.length<d)throw new Error(`invalid instruction; found ${c.length} keys, expected at least ${d}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(c){const[d,y]=PublicKey.findProgramAddressSync([c.authority.toBuffer(),toBufferLE_1(BigInt(c.recentSlot),8)],this.programId),gr=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,_r=encodeData(gr,{recentSlot:BigInt(c.recentSlot),bumpSeed:y}),br=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:c.authority,isSigner:!0,isWritable:!1},{pubkey:c.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:br,data:_r}),d]}static freezeLookupTable(c){const d=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,y=encodeData(d),gr=[{pubkey:c.lookupTable,isSigner:!1,isWritable:!0},{pubkey:c.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:gr,data:y})}static extendLookupTable(c){const d=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,y=encodeData(d,{addresses:c.addresses.map(_r=>_r.toBytes())}),gr=[{pubkey:c.lookupTable,isSigner:!1,isWritable:!0},{pubkey:c.authority,isSigner:!0,isWritable:!1}];return c.payer&&gr.push({pubkey:c.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:gr,data:y})}static deactivateLookupTable(c){const d=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,y=encodeData(d),gr=[{pubkey:c.lookupTable,isSigner:!1,isWritable:!0},{pubkey:c.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:gr,data:y})}static closeLookupTable(c){const d=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,y=encodeData(d),gr=[{pubkey:c.lookupTable,isSigner:!1,isWritable:!0},{pubkey:c.authority,isSigner:!0,isWritable:!1},{pubkey:c.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:gr,data:y})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(c){this.checkProgramId(c.programId);const y=u8$1("instruction").decode(c.data);let gr;for(const[_r,br]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(br.index==y){gr=_r;break}if(!gr)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return gr}static decodeRequestUnits(c){this.checkProgramId(c.programId);const{units:d,additionalFee:y}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,c.data);return{units:d,additionalFee:y}}static decodeRequestHeapFrame(c){this.checkProgramId(c.programId);const{bytes:d}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,c.data);return{bytes:d}}static decodeSetComputeUnitLimit(c){this.checkProgramId(c.programId);const{units:d}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,c.data);return{units:d}}static decodeSetComputeUnitPrice(c){this.checkProgramId(c.programId);const{microLamports:d}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,c.data);return{microLamports:d}}static checkProgramId(c){if(!c.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$1([u8$1("instruction"),u32$1("units"),u32$1("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$1([u8$1("instruction"),u32$1("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$1([u8$1("instruction"),u32$1("units")])},SetComputeUnitPrice:{index:3,layout:struct$1([u8$1("instruction"),u64$1("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(c){const d=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,y=encodeData(d,c);return new TransactionInstruction({keys:[],programId:this.programId,data:y})}static requestHeapFrame(c){const d=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,y=encodeData(d,c);return new TransactionInstruction({keys:[],programId:this.programId,data:y})}static setComputeUnitLimit(c){const d=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,y=encodeData(d,c);return new TransactionInstruction({keys:[],programId:this.programId,data:y})}static setComputeUnitPrice(c){const d=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,y=encodeData(d,{microLamports:BigInt(c.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:y})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u8$1("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(c){const{publicKey:d,message:y,signature:gr,instructionIndex:_r}=c;assert$2(d.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${d.length} bytes`),assert$2(gr.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${gr.length} bytes`);const br=ED25519_INSTRUCTION_LAYOUT.span,wr=br+d.length,Er=wr+gr.length,Or=1,xr=buffer$1.Buffer.alloc(Er+y.length),kr=_r??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:Or,padding:0,signatureOffset:wr,signatureInstructionIndex:kr,publicKeyOffset:br,publicKeyInstructionIndex:kr,messageDataOffset:Er,messageDataSize:y.length,messageInstructionIndex:kr},xr),xr.fill(d,br),xr.fill(gr,wr),xr.fill(y,Er),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:xr})}static createInstructionWithPrivateKey(c){const{privateKey:d,message:y,instructionIndex:gr}=c;assert$2(d.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${d.length} bytes`);try{const _r=Keypair.fromSecretKey(d),br=_r.publicKey.toBytes(),wr=sign(y,_r.secretKey);return this.createInstructionWithPublicKey({publicKey:br,message:y,signature:wr,instructionIndex:gr})}catch(_r){throw new Error(`Error creating instruction; ${_r}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");utils$1.hmacSha256Sync=(u,...c)=>{const d=hmac.create(sha256$1,u);return c.forEach(y=>d.update(y)),d.digest()};const ecdsaSign=(u,c)=>signSync(u,c,{der:!1,recovered:!0});utils$1.isValidPrivateKey;const publicKeyCreate=getPublicKey$1,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u16("signatureOffset"),u8$1("signatureInstructionIndex"),u16("ethAddressOffset"),u8$1("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$1("messageInstructionIndex"),blob$1(20,"ethAddress"),blob$1(64,"signature"),u8$1("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(c){assert$2(c.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${c.length} bytes`);try{return buffer$1.Buffer.from(keccak_256(toBuffer(c))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(d){throw new Error(`Error constructing Ethereum address: ${d}`)}}static createInstructionWithPublicKey(c){const{publicKey:d,message:y,signature:gr,recoveryId:_r,instructionIndex:br}=c;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(d),message:y,signature:gr,recoveryId:_r,instructionIndex:br})}static createInstructionWithEthAddress(c){const{ethAddress:d,message:y,signature:gr,recoveryId:_r,instructionIndex:br=0}=c;let wr;typeof d=="string"?d.startsWith("0x")?wr=buffer$1.Buffer.from(d.substr(2),"hex"):wr=buffer$1.Buffer.from(d,"hex"):wr=d,assert$2(wr.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${wr.length} bytes`);const Er=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,Or=Er,xr=Er+wr.length,kr=xr+gr.length+1,Mr=1,Cr=buffer$1.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+y.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:Mr,signatureOffset:xr,signatureInstructionIndex:br,ethAddressOffset:Or,ethAddressInstructionIndex:br,messageDataOffset:kr,messageDataSize:y.length,messageInstructionIndex:br,signature:toBuffer(gr),ethAddress:toBuffer(wr),recoveryId:_r},Cr),Cr.fill(toBuffer(y),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:Cr})}static createInstructionWithPrivateKey(c){const{privateKey:d,message:y,instructionIndex:gr}=c;assert$2(d.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${d.length} bytes`);try{const _r=toBuffer(d),br=publicKeyCreate(_r,!1).slice(1),wr=buffer$1.Buffer.from(keccak_256(toBuffer(y))),[Er,Or]=ecdsaSign(wr,_r);return this.createInstructionWithPublicKey({publicKey:br,message:y,signature:Er,recoveryId:Or,instructionIndex:gr})}catch(_r){throw new Error(`Error creating instruction; ${_r}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(c,d){this.staker=void 0,this.withdrawer=void 0,this.staker=c,this.withdrawer=d}}class Lockup{constructor(c,d,y){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=c,this.epoch=d,this.custodian=y}}Lockup.default=new Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(c){this.checkProgramId(c.programId);const y=u32$1("instruction").decode(c.data);let gr;for(const[_r,br]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(br.index==y){gr=_r;break}if(!gr)throw new Error("Instruction type incorrect; not a StakeInstruction");return gr}static decodeInitialize(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,2);const{authorized:d,lockup:y}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,c.data);return{stakePubkey:c.keys[0].pubkey,authorized:new Authorized(new PublicKey(d.staker),new PublicKey(d.withdrawer)),lockup:new Lockup(y.unixTimestamp,y.epoch,new PublicKey(y.custodian))}}static decodeDelegate(c){return this.checkProgramId(c.programId),this.checkKeyLength(c.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,c.data),{stakePubkey:c.keys[0].pubkey,votePubkey:c.keys[1].pubkey,authorizedPubkey:c.keys[5].pubkey}}static decodeAuthorize(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3);const{newAuthorized:d,stakeAuthorizationType:y}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,c.data),gr={stakePubkey:c.keys[0].pubkey,authorizedPubkey:c.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(d),stakeAuthorizationType:{index:y}};return c.keys.length>3&&(gr.custodianPubkey=c.keys[3].pubkey),gr}static decodeAuthorizeWithSeed(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,2);const{newAuthorized:d,stakeAuthorizationType:y,authoritySeed:gr,authorityOwner:_r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,c.data),br={stakePubkey:c.keys[0].pubkey,authorityBase:c.keys[1].pubkey,authoritySeed:gr,authorityOwner:new PublicKey(_r),newAuthorizedPubkey:new PublicKey(d),stakeAuthorizationType:{index:y}};return c.keys.length>3&&(br.custodianPubkey=c.keys[3].pubkey),br}static decodeSplit(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3);const{lamports:d}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,c.data);return{stakePubkey:c.keys[0].pubkey,splitStakePubkey:c.keys[1].pubkey,authorizedPubkey:c.keys[2].pubkey,lamports:d}}static decodeMerge(c){return this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,c.data),{stakePubkey:c.keys[0].pubkey,sourceStakePubKey:c.keys[1].pubkey,authorizedPubkey:c.keys[4].pubkey}}static decodeWithdraw(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,5);const{lamports:d}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,c.data),y={stakePubkey:c.keys[0].pubkey,toPubkey:c.keys[1].pubkey,authorizedPubkey:c.keys[4].pubkey,lamports:d};return c.keys.length>5&&(y.custodianPubkey=c.keys[5].pubkey),y}static decodeDeactivate(c){return this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,c.data),{stakePubkey:c.keys[0].pubkey,authorizedPubkey:c.keys[2].pubkey}}static checkProgramId(c){if(!c.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(c,d){if(c.length<d)throw new Error(`invalid instruction; found ${c.length} keys, expected at least ${d}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$1([u32$1("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$1([u32$1("instruction")])},Split:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct$1([u32$1("instruction")])},Merge:{index:7,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(c){const{stakePubkey:d,authorized:y,lockup:gr}=c,_r=gr||Lockup.default,br=STAKE_INSTRUCTION_LAYOUTS.Initialize,wr=encodeData(br,{authorized:{staker:toBuffer(y.staker.toBuffer()),withdrawer:toBuffer(y.withdrawer.toBuffer())},lockup:{unixTimestamp:_r.unixTimestamp,epoch:_r.epoch,custodian:toBuffer(_r.custodian.toBuffer())}}),Er={keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:wr};return new TransactionInstruction(Er)}static createAccountWithSeed(c){const d=new Transaction;d.add(SystemProgram.createAccountWithSeed({fromPubkey:c.fromPubkey,newAccountPubkey:c.stakePubkey,basePubkey:c.basePubkey,seed:c.seed,lamports:c.lamports,space:this.space,programId:this.programId}));const{stakePubkey:y,authorized:gr,lockup:_r}=c;return d.add(this.initialize({stakePubkey:y,authorized:gr,lockup:_r}))}static createAccount(c){const d=new Transaction;d.add(SystemProgram.createAccount({fromPubkey:c.fromPubkey,newAccountPubkey:c.stakePubkey,lamports:c.lamports,space:this.space,programId:this.programId}));const{stakePubkey:y,authorized:gr,lockup:_r}=c;return d.add(this.initialize({stakePubkey:y,authorized:gr,lockup:_r}))}static delegate(c){const{stakePubkey:d,authorizedPubkey:y,votePubkey:gr}=c,_r=STAKE_INSTRUCTION_LAYOUTS.Delegate,br=encodeData(_r);return new Transaction().add({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!0,isWritable:!1}],programId:this.programId,data:br})}static authorize(c){const{stakePubkey:d,authorizedPubkey:y,newAuthorizedPubkey:gr,stakeAuthorizationType:_r,custodianPubkey:br}=c,wr=STAKE_INSTRUCTION_LAYOUTS.Authorize,Er=encodeData(wr,{newAuthorized:toBuffer(gr.toBuffer()),stakeAuthorizationType:_r.index}),Or=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!0,isWritable:!1}];return br&&Or.push({pubkey:br,isSigner:!1,isWritable:!1}),new Transaction().add({keys:Or,programId:this.programId,data:Er})}static authorizeWithSeed(c){const{stakePubkey:d,authorityBase:y,authoritySeed:gr,authorityOwner:_r,newAuthorizedPubkey:br,stakeAuthorizationType:wr,custodianPubkey:Er}=c,Or=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,xr=encodeData(Or,{newAuthorized:toBuffer(br.toBuffer()),stakeAuthorizationType:wr.index,authoritySeed:gr,authorityOwner:toBuffer(_r.toBuffer())}),kr=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return Er&&kr.push({pubkey:Er,isSigner:!1,isWritable:!1}),new Transaction().add({keys:kr,programId:this.programId,data:xr})}static splitInstruction(c){const{stakePubkey:d,authorizedPubkey:y,splitStakePubkey:gr,lamports:_r}=c,br=STAKE_INSTRUCTION_LAYOUTS.Split,wr=encodeData(br,{lamports:_r});return new TransactionInstruction({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!0,isWritable:!1}],programId:this.programId,data:wr})}static split(c){const d=new Transaction;return d.add(SystemProgram.createAccount({fromPubkey:c.authorizedPubkey,newAccountPubkey:c.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),d.add(this.splitInstruction(c))}static splitWithSeed(c){const{stakePubkey:d,authorizedPubkey:y,splitStakePubkey:gr,basePubkey:_r,seed:br,lamports:wr}=c,Er=new Transaction;return Er.add(SystemProgram.allocate({accountPubkey:gr,basePubkey:_r,seed:br,space:this.space,programId:this.programId})),Er.add(this.splitInstruction({stakePubkey:d,authorizedPubkey:y,splitStakePubkey:gr,lamports:wr}))}static merge(c){const{stakePubkey:d,sourceStakePubKey:y,authorizedPubkey:gr}=c,_r=STAKE_INSTRUCTION_LAYOUTS.Merge,br=encodeData(_r);return new Transaction().add({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:gr,isSigner:!0,isWritable:!1}],programId:this.programId,data:br})}static withdraw(c){const{stakePubkey:d,authorizedPubkey:y,toPubkey:gr,lamports:_r,custodianPubkey:br}=c,wr=STAKE_INSTRUCTION_LAYOUTS.Withdraw,Er=encodeData(wr,{lamports:_r}),Or=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!0,isWritable:!1}];return br&&Or.push({pubkey:br,isSigner:!1,isWritable:!1}),new Transaction().add({keys:Or,programId:this.programId,data:Er})}static deactivate(c){const{stakePubkey:d,authorizedPubkey:y}=c,gr=STAKE_INSTRUCTION_LAYOUTS.Deactivate,_r=encodeData(gr);return new Transaction().add({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!0,isWritable:!1}],programId:this.programId,data:_r})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(c,d,y,gr){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=c,this.authorizedVoter=d,this.authorizedWithdrawer=y,this.commission=gr}}class VoteInstruction{constructor(){}static decodeInstructionType(c){this.checkProgramId(c.programId);const y=u32$1("instruction").decode(c.data);let gr;for(const[_r,br]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(br.index==y){gr=_r;break}if(!gr)throw new Error("Instruction type incorrect; not a VoteInstruction");return gr}static decodeInitializeAccount(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,4);const{voteInit:d}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,c.data);return{votePubkey:c.keys[0].pubkey,nodePubkey:c.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(d.nodePubkey),new PublicKey(d.authorizedVoter),new PublicKey(d.authorizedWithdrawer),d.commission)}}static decodeAuthorize(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3);const{newAuthorized:d,voteAuthorizationType:y}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,c.data);return{votePubkey:c.keys[0].pubkey,authorizedPubkey:c.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(d),voteAuthorizationType:{index:y}}}static decodeAuthorizeWithSeed(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:d,currentAuthorityDerivedKeySeed:y,newAuthorized:gr,voteAuthorizationType:_r}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,c.data);return{currentAuthorityDerivedKeyBasePubkey:c.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(d),currentAuthorityDerivedKeySeed:y,newAuthorizedPubkey:new PublicKey(gr),voteAuthorizationType:{index:_r},votePubkey:c.keys[0].pubkey}}static decodeWithdraw(c){this.checkProgramId(c.programId),this.checkKeyLength(c.keys,3);const{lamports:d}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,c.data);return{votePubkey:c.keys[0].pubkey,authorizedWithdrawerPubkey:c.keys[2].pubkey,lamports:d,toPubkey:c.keys[1].pubkey}}static checkProgramId(c){if(!c.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(c,d){if(c.length<d)throw new Error(`invalid instruction; found ${c.length} keys, expected at least ${d}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$1([u32$1("instruction"),voteInit()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$1([u32$1("instruction"),voteAuthorizeWithSeedArgs()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(c){const{votePubkey:d,nodePubkey:y,voteInit:gr}=c,_r=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,br=encodeData(_r,{voteInit:{nodePubkey:toBuffer(gr.nodePubkey.toBuffer()),authorizedVoter:toBuffer(gr.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(gr.authorizedWithdrawer.toBuffer()),commission:gr.commission}}),wr={keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!0,isWritable:!1}],programId:this.programId,data:br};return new TransactionInstruction(wr)}static createAccount(c){const d=new Transaction;return d.add(SystemProgram.createAccount({fromPubkey:c.fromPubkey,newAccountPubkey:c.votePubkey,lamports:c.lamports,space:this.space,programId:this.programId})),d.add(this.initializeAccount({votePubkey:c.votePubkey,nodePubkey:c.voteInit.nodePubkey,voteInit:c.voteInit}))}static authorize(c){const{votePubkey:d,authorizedPubkey:y,newAuthorizedPubkey:gr,voteAuthorizationType:_r}=c,br=VOTE_INSTRUCTION_LAYOUTS.Authorize,wr=encodeData(br,{newAuthorized:toBuffer(gr.toBuffer()),voteAuthorizationType:_r.index}),Er=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:Er,programId:this.programId,data:wr})}static authorizeWithSeed(c){const{currentAuthorityDerivedKeyBasePubkey:d,currentAuthorityDerivedKeyOwnerPubkey:y,currentAuthorityDerivedKeySeed:gr,newAuthorizedPubkey:_r,voteAuthorizationType:br,votePubkey:wr}=c,Er=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,Or=encodeData(Er,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(y.toBuffer()),currentAuthorityDerivedKeySeed:gr,newAuthorized:toBuffer(_r.toBuffer()),voteAuthorizationType:br.index}}),xr=[{pubkey:wr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:xr,programId:this.programId,data:Or})}static withdraw(c){const{votePubkey:d,authorizedWithdrawerPubkey:y,lamports:gr,toPubkey:_r}=c,br=VOTE_INSTRUCTION_LAYOUTS.Withdraw,wr=encodeData(br,{lamports:gr}),Er=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:_r,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:Er,programId:this.programId,data:wr})}static safeWithdraw(c,d,y){if(c.lamports>d-y)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram.withdraw(c)}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(c,d){this.key=void 0,this.info=void 0,this.key=c,this.info=d}static fromConfigData(c){let d=[...c];if(decodeLength(d)!==2)return null;const gr=[];for(let _r=0;_r<2;_r++){const br=new PublicKey(d.slice(0,PUBLIC_KEY_LENGTH));d=d.slice(PUBLIC_KEY_LENGTH);const wr=d.slice(0,1)[0]===1;d=d.slice(1),gr.push({publicKey:br,isSigner:wr})}if(gr[0].publicKey.equals(VALIDATOR_INFO_KEY)&&gr[1].isSigner){const _r=rustString().decode(buffer$1.Buffer.from(d)),br=JSON.parse(_r);return assert$3(br,InfoString),new ValidatorInfo(gr[1].publicKey,br)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedWithdrawer"),u8$1("commission"),nu64(),seq(struct$1([nu64("slot"),u32$1("confirmationCount")]),offset(u32$1(),-8),"votes"),u8$1("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct$1([nu64("epoch"),publicKey$1("authorizedVoter")]),offset(u32$1(),-8),"authorizedVoters"),struct$1([seq(struct$1([publicKey$1("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8$1("isEmpty")],"priorVoters"),nu64(),seq(struct$1([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32$1(),-8),"epochCredits"),struct$1([nu64("slot"),nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(c){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=c.nodePubkey,this.authorizedWithdrawer=c.authorizedWithdrawer,this.commission=c.commission,this.rootSlot=c.rootSlot,this.votes=c.votes,this.authorizedVoters=c.authorizedVoters,this.priorVoters=c.priorVoters,this.epochCredits=c.epochCredits,this.lastTimestamp=c.lastTimestamp}static fromAccountData(c){const y=VoteAccountLayout.decode(toBuffer(c),4);let gr=y.rootSlot;return y.rootSlotValid||(gr=null),new VoteAccount({nodePubkey:new PublicKey(y.nodePubkey),authorizedWithdrawer:new PublicKey(y.authorizedWithdrawer),commission:y.commission,votes:y.votes,rootSlot:gr,authorizedVoters:y.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(y.priorVoters),epochCredits:y.epochCredits,lastTimestamp:y.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:u,epoch:c}){return{epoch:c,authorizedVoter:new PublicKey(u)}}function parsePriorVoters({authorizedPubkey:u,epochOfLastAuthorizedSwitch:c,targetEpoch:d}){return{authorizedPubkey:new PublicKey(u),epochOfLastAuthorizedSwitch:c,targetEpoch:d}}function getPriorVoters({buf:u,idx:c,isEmpty:d}){return d?[]:[...u.slice(c+1).map(parsePriorVoters),...u.slice(0,c).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(u,c){const d=c===!1?"http":"https";if(!u)return endpoint[d].devnet;const y=endpoint[d][u];if(!y)throw new Error(`Unknown ${d} cluster: ${u}`);return y}async function sendAndConfirmRawTransaction(u,c,d,y){let gr,_r;d&&Object.prototype.hasOwnProperty.call(d,"lastValidBlockHeight")?(gr=d,_r=y):_r=d;const br=_r&&{skipPreflight:_r.skipPreflight,preflightCommitment:_r.preflightCommitment||_r.commitment,minContextSlot:_r.minContextSlot},wr=await u.sendRawTransaction(c,br),Er=_r&&_r.commitment,xr=(await(gr?u.confirmTransaction(gr,Er):u.confirmTransaction(wr,Er))).value;if(xr.err)throw new Error(`Raw transaction ${wr} failed (${JSON.stringify(xr)})`);return wr}const LAMPORTS_PER_SOL=1e9,index_browser_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,MessageAccountKeys,MessageV0,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PUBLIC_KEY_LENGTH,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredTimeoutError,TransactionInstruction,TransactionMessage,get TransactionStatus(){return TransactionStatus},VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction,sendAndConfirmTransaction:sendAndConfirmTransaction$2},Symbol.toStringTag,{value:"Module"}));var camelcase={exports:{}};const preserveCamelCase=u=>{let c=!1,d=!1,y=!1;for(let gr=0;gr<u.length;gr++){const _r=u[gr];c&&/[a-zA-Z]/.test(_r)&&_r.toUpperCase()===_r?(u=u.slice(0,gr)+"-"+u.slice(gr),c=!1,y=d,d=!0,gr++):d&&y&&/[a-zA-Z]/.test(_r)&&_r.toLowerCase()===_r?(u=u.slice(0,gr-1)+"-"+u.slice(gr-1),y=d,d=!1,c=!0):(c=_r.toLowerCase()===_r&&_r.toUpperCase()!==_r,y=d,d=_r.toUpperCase()===_r&&_r.toLowerCase()!==_r)}return u},camelCase=(u,c)=>{if(!(typeof u=="string"||Array.isArray(u)))throw new TypeError("Expected the input to be `string | string[]`");c=Object.assign({pascalCase:!1},c);const d=gr=>c.pascalCase?gr.charAt(0).toUpperCase()+gr.slice(1):gr;return Array.isArray(u)?u=u.map(gr=>gr.trim()).filter(gr=>gr.length).join("-"):u=u.trim(),u.length===0?"":u.length===1?c.pascalCase?u.toUpperCase():u.toLowerCase():(u!==u.toLowerCase()&&(u=preserveCamelCase(u)),u=u.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(gr,_r)=>_r.toUpperCase()).replace(/\d+(\w|$)/g,gr=>gr.toUpperCase()),d(u))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(u){return Object.prototype.toString.call(u)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(u){return typeof u=="object"&&u.buffer&&u.buffer.constructor===ArrayBuffer});var createOutputMethod=function(u,c){return function(d){return new Sha256(c,!0).update(d)[u]()}},createMethod=function(u){var c=createOutputMethod("hex",u);NODE_JS&&(c=nodeWrap(c,u)),c.create=function(){return new Sha256(u)},c.update=function(gr){return c.create().update(gr)};for(var d=0;d<OUTPUT_TYPES.length;++d){var y=OUTPUT_TYPES[d];c[y]=createOutputMethod(y,u)}return c},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(u){if(typeof u=="string")return crypto.createHash(algorithm).update(u,"utf8").digest("hex");if(u==null)throw new Error(ERROR);return u.constructor===ArrayBuffer&&(u=new Uint8Array(u)),Array.isArray(u)||ArrayBuffer.isView(u)||u.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(u)).digest("hex"):method(u)};return nodeMethod},createHmacOutputMethod=function(u,c){return function(d,y){return new HmacSha256(d,c,!0).update(y)[u]()}},createHmacMethod=function(u){var c=createHmacOutputMethod("hex",u);c.create=function(gr){return new HmacSha256(gr,u)},c.update=function(gr,_r){return c.create(gr).update(_r)};for(var d=0;d<OUTPUT_TYPES.length;++d){var y=OUTPUT_TYPES[d];c[y]=createHmacOutputMethod(y,u)}return c};function Sha256(u,c){c?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=u}Sha256.prototype.update=function(u){if(!this.finalized){var c,d=typeof u;if(d!=="string"){if(d==="object"){if(u===null)throw new Error(ERROR);if(ARRAY_BUFFER&&u.constructor===ArrayBuffer)u=new Uint8Array(u);else if(!Array.isArray(u)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(u)))throw new Error(ERROR)}else throw new Error(ERROR);c=!0}for(var y,gr=0,_r,br=u.length,wr=this.blocks;gr<br;){if(this.hashed&&(this.hashed=!1,wr[0]=this.block,wr[16]=wr[1]=wr[2]=wr[3]=wr[4]=wr[5]=wr[6]=wr[7]=wr[8]=wr[9]=wr[10]=wr[11]=wr[12]=wr[13]=wr[14]=wr[15]=0),c)for(_r=this.start;gr<br&&_r<64;++gr)wr[_r>>2]|=u[gr]<<SHIFT[_r++&3];else for(_r=this.start;gr<br&&_r<64;++gr)y=u.charCodeAt(gr),y<128?wr[_r>>2]|=y<<SHIFT[_r++&3]:y<2048?(wr[_r>>2]|=(192|y>>6)<<SHIFT[_r++&3],wr[_r>>2]|=(128|y&63)<<SHIFT[_r++&3]):y<55296||y>=57344?(wr[_r>>2]|=(224|y>>12)<<SHIFT[_r++&3],wr[_r>>2]|=(128|y>>6&63)<<SHIFT[_r++&3],wr[_r>>2]|=(128|y&63)<<SHIFT[_r++&3]):(y=65536+((y&1023)<<10|u.charCodeAt(++gr)&1023),wr[_r>>2]|=(240|y>>18)<<SHIFT[_r++&3],wr[_r>>2]|=(128|y>>12&63)<<SHIFT[_r++&3],wr[_r>>2]|=(128|y>>6&63)<<SHIFT[_r++&3],wr[_r>>2]|=(128|y&63)<<SHIFT[_r++&3]);this.lastByteIndex=_r,this.bytes+=_r-this.start,_r>=64?(this.block=wr[16],this.start=_r-64,this.hash(),this.hashed=!0):this.start=_r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var u=this.blocks,c=this.lastByteIndex;u[16]=this.block,u[c>>2]|=EXTRA[c&3],this.block=u[16],c>=56&&(this.hashed||this.hash(),u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),u[14]=this.hBytes<<3|this.bytes>>>29,u[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var u=this.h0,c=this.h1,d=this.h2,y=this.h3,gr=this.h4,_r=this.h5,br=this.h6,wr=this.h7,Er=this.blocks,Or,xr,kr,Mr,Cr,Nr,Ur,Dr,zr,Zr,Wr;for(Or=16;Or<64;++Or)Cr=Er[Or-15],xr=(Cr>>>7|Cr<<25)^(Cr>>>18|Cr<<14)^Cr>>>3,Cr=Er[Or-2],kr=(Cr>>>17|Cr<<15)^(Cr>>>19|Cr<<13)^Cr>>>10,Er[Or]=Er[Or-16]+xr+Er[Or-7]+kr<<0;for(Wr=c&d,Or=0;Or<64;Or+=4)this.first?(this.is224?(Dr=300032,Cr=Er[0]-1413257819,wr=Cr-150054599<<0,y=Cr+24177077<<0):(Dr=704751109,Cr=Er[0]-210244248,wr=Cr-1521486534<<0,y=Cr+143694565<<0),this.first=!1):(xr=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),kr=(gr>>>6|gr<<26)^(gr>>>11|gr<<21)^(gr>>>25|gr<<7),Dr=u&c,Mr=Dr^u&d^Wr,Ur=gr&_r^~gr&br,Cr=wr+kr+Ur+K[Or]+Er[Or],Nr=xr+Mr,wr=y+Cr<<0,y=Cr+Nr<<0),xr=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),kr=(wr>>>6|wr<<26)^(wr>>>11|wr<<21)^(wr>>>25|wr<<7),zr=y&u,Mr=zr^y&c^Dr,Ur=wr&gr^~wr&_r,Cr=br+kr+Ur+K[Or+1]+Er[Or+1],Nr=xr+Mr,br=d+Cr<<0,d=Cr+Nr<<0,xr=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),kr=(br>>>6|br<<26)^(br>>>11|br<<21)^(br>>>25|br<<7),Zr=d&y,Mr=Zr^d&u^zr,Ur=br&wr^~br&gr,Cr=_r+kr+Ur+K[Or+2]+Er[Or+2],Nr=xr+Mr,_r=c+Cr<<0,c=Cr+Nr<<0,xr=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),kr=(_r>>>6|_r<<26)^(_r>>>11|_r<<21)^(_r>>>25|_r<<7),Wr=c&d,Mr=Wr^c&y^Zr,Ur=_r&br^~_r&wr,Cr=gr+kr+Ur+K[Or+3]+Er[Or+3],Nr=xr+Mr,gr=u+Cr<<0,u=Cr+Nr<<0;this.h0=this.h0+u<<0,this.h1=this.h1+c<<0,this.h2=this.h2+d<<0,this.h3=this.h3+y<<0,this.h4=this.h4+gr<<0,this.h5=this.h5+_r<<0,this.h6=this.h6+br<<0,this.h7=this.h7+wr<<0},Sha256.prototype.hex=function(){this.finalize();var u=this.h0,c=this.h1,d=this.h2,y=this.h3,gr=this.h4,_r=this.h5,br=this.h6,wr=this.h7,Er=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[d&15]+HEX_CHARS[y>>28&15]+HEX_CHARS[y>>24&15]+HEX_CHARS[y>>20&15]+HEX_CHARS[y>>16&15]+HEX_CHARS[y>>12&15]+HEX_CHARS[y>>8&15]+HEX_CHARS[y>>4&15]+HEX_CHARS[y&15]+HEX_CHARS[gr>>28&15]+HEX_CHARS[gr>>24&15]+HEX_CHARS[gr>>20&15]+HEX_CHARS[gr>>16&15]+HEX_CHARS[gr>>12&15]+HEX_CHARS[gr>>8&15]+HEX_CHARS[gr>>4&15]+HEX_CHARS[gr&15]+HEX_CHARS[_r>>28&15]+HEX_CHARS[_r>>24&15]+HEX_CHARS[_r>>20&15]+HEX_CHARS[_r>>16&15]+HEX_CHARS[_r>>12&15]+HEX_CHARS[_r>>8&15]+HEX_CHARS[_r>>4&15]+HEX_CHARS[_r&15]+HEX_CHARS[br>>28&15]+HEX_CHARS[br>>24&15]+HEX_CHARS[br>>20&15]+HEX_CHARS[br>>16&15]+HEX_CHARS[br>>12&15]+HEX_CHARS[br>>8&15]+HEX_CHARS[br>>4&15]+HEX_CHARS[br&15];return this.is224||(Er+=HEX_CHARS[wr>>28&15]+HEX_CHARS[wr>>24&15]+HEX_CHARS[wr>>20&15]+HEX_CHARS[wr>>16&15]+HEX_CHARS[wr>>12&15]+HEX_CHARS[wr>>8&15]+HEX_CHARS[wr>>4&15]+HEX_CHARS[wr&15]),Er},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var u=this.h0,c=this.h1,d=this.h2,y=this.h3,gr=this.h4,_r=this.h5,br=this.h6,wr=this.h7,Er=[u>>24&255,u>>16&255,u>>8&255,u&255,c>>24&255,c>>16&255,c>>8&255,c&255,d>>24&255,d>>16&255,d>>8&255,d&255,y>>24&255,y>>16&255,y>>8&255,y&255,gr>>24&255,gr>>16&255,gr>>8&255,gr&255,_r>>24&255,_r>>16&255,_r>>8&255,_r&255,br>>24&255,br>>16&255,br>>8&255,br&255];return this.is224||Er.push(wr>>24&255,wr>>16&255,wr>>8&255,wr&255),Er},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var u=new ArrayBuffer(this.is224?28:32),c=new DataView(u);return c.setUint32(0,this.h0),c.setUint32(4,this.h1),c.setUint32(8,this.h2),c.setUint32(12,this.h3),c.setUint32(16,this.h4),c.setUint32(20,this.h5),c.setUint32(24,this.h6),this.is224||c.setUint32(28,this.h7),u};function HmacSha256(u,c,d){var y,gr=typeof u;if(gr==="string"){var _r=[],br=u.length,wr=0,Er;for(y=0;y<br;++y)Er=u.charCodeAt(y),Er<128?_r[wr++]=Er:Er<2048?(_r[wr++]=192|Er>>6,_r[wr++]=128|Er&63):Er<55296||Er>=57344?(_r[wr++]=224|Er>>12,_r[wr++]=128|Er>>6&63,_r[wr++]=128|Er&63):(Er=65536+((Er&1023)<<10|u.charCodeAt(++y)&1023),_r[wr++]=240|Er>>18,_r[wr++]=128|Er>>12&63,_r[wr++]=128|Er>>6&63,_r[wr++]=128|Er&63);u=_r}else if(gr==="object"){if(u===null)throw new Error(ERROR);if(ARRAY_BUFFER&&u.constructor===ArrayBuffer)u=new Uint8Array(u);else if(!Array.isArray(u)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(u)))throw new Error(ERROR)}else throw new Error(ERROR);u.length>64&&(u=new Sha256(c,!0).update(u).array());var Or=[],xr=[];for(y=0;y<64;++y){var kr=u[y]||0;Or[y]=92^kr,xr[y]=54^kr}Sha256.call(this,c,d),this.update(xr),this.oKeyPad=Or,this.inner=!0,this.sharedMemory=d}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var u=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(u),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var lib={},Layout$2={};class Layout$1{constructor(c,d){if(!Number.isInteger(c))throw new TypeError("span must be an integer");this.span=c,this.property=d}makeDestinationObject(){return{}}decode(c,d){throw new Error("Layout is abstract")}encode(c,d,y){throw new Error("Layout is abstract")}getSpan(c,d){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(c){const d=Object.create(this.constructor.prototype);return Object.assign(d,this),d.property=c,d}fromArray(c){}}Layout$2.Layout=Layout$1;function nameWithProperty$1(u,c){return c.property?u+"["+c.property+"]":u}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(u,c){if(typeof u!="function")throw new TypeError("Class must be constructor");if(u.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(c&&c instanceof Layout$1))throw new TypeError("layout must be a Layout");if(c.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");u.layout_=c,c.boundConstructor_=u,c.makeDestinationObject=()=>new u,Object.defineProperty(u.prototype,"encode",{value:function(d,y){return c.encode(this,d,y)},writable:!0}),Object.defineProperty(u,"decode",{value:function(d,y){return c.decode(d,y)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(c,d){if(c===void 0&&(c=1),!Number.isInteger(c)||0>=c)throw new TypeError("elementSpan must be a (positive) integer");super(-1,d),this.elementSpan=c}isCount(){return!0}decode(c,d){d===void 0&&(d=0);const y=c.length-d;return Math.floor(y/this.elementSpan)}encode(c,d,y){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(c,d,y){if(!(c instanceof Layout$1))throw new TypeError("layout must be a Layout");if(d===void 0)d=0;else if(!Number.isInteger(d))throw new TypeError("offset must be integer or undefined");super(c.span,y||c.property),this.layout=c,this.offset=d}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(c,d){return d===void 0&&(d=0),this.layout.decode(c,d+this.offset)}encode(c,d,y){return y===void 0&&(y=0),this.layout.encode(c,d,y+this.offset)}}class UInt$1 extends Layout$1{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d){return d===void 0&&(d=0),c.readUIntLE(d,this.span)}encode(c,d,y){return y===void 0&&(y=0),d.writeUIntLE(c,y,this.span),this.span}}class UIntBE extends Layout$1{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d){return d===void 0&&(d=0),c.readUIntBE(d,this.span)}encode(c,d,y){return y===void 0&&(y=0),d.writeUIntBE(c,y,this.span),this.span}}class Int extends Layout$1{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d){return d===void 0&&(d=0),c.readIntLE(d,this.span)}encode(c,d,y){return y===void 0&&(y=0),d.writeIntLE(c,y,this.span),this.span}}class IntBE extends Layout$1{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d){return d===void 0&&(d=0),c.readIntBE(d,this.span)}encode(c,d,y){return y===void 0&&(y=0),d.writeIntBE(c,y,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(u){const c=Math.floor(u/V2E32),d=u-c*V2E32;return{hi32:c,lo32:d}}function roundedInt64(u,c){return u*V2E32+c}class NearUInt64 extends Layout$1{constructor(c){super(8,c)}decode(c,d){d===void 0&&(d=0);const y=c.readUInt32LE(d),gr=c.readUInt32LE(d+4);return roundedInt64(gr,y)}encode(c,d,y){y===void 0&&(y=0);const gr=divmodInt64(c);return d.writeUInt32LE(gr.lo32,y),d.writeUInt32LE(gr.hi32,y+4),8}}class NearUInt64BE extends Layout$1{constructor(c){super(8,c)}decode(c,d){d===void 0&&(d=0);const y=c.readUInt32BE(d),gr=c.readUInt32BE(d+4);return roundedInt64(y,gr)}encode(c,d,y){y===void 0&&(y=0);const gr=divmodInt64(c);return d.writeUInt32BE(gr.hi32,y),d.writeUInt32BE(gr.lo32,y+4),8}}class NearInt64 extends Layout$1{constructor(c){super(8,c)}decode(c,d){d===void 0&&(d=0);const y=c.readUInt32LE(d),gr=c.readInt32LE(d+4);return roundedInt64(gr,y)}encode(c,d,y){y===void 0&&(y=0);const gr=divmodInt64(c);return d.writeUInt32LE(gr.lo32,y),d.writeInt32LE(gr.hi32,y+4),8}}class NearInt64BE extends Layout$1{constructor(c){super(8,c)}decode(c,d){d===void 0&&(d=0);const y=c.readInt32BE(d),gr=c.readUInt32BE(d+4);return roundedInt64(y,gr)}encode(c,d,y){y===void 0&&(y=0);const gr=divmodInt64(c);return d.writeInt32BE(gr.hi32,y),d.writeUInt32BE(gr.lo32,y+4),8}}class Float extends Layout$1{constructor(c){super(4,c)}decode(c,d){return d===void 0&&(d=0),c.readFloatLE(d)}encode(c,d,y){return y===void 0&&(y=0),d.writeFloatLE(c,y),4}}class FloatBE extends Layout$1{constructor(c){super(4,c)}decode(c,d){return d===void 0&&(d=0),c.readFloatBE(d)}encode(c,d,y){return y===void 0&&(y=0),d.writeFloatBE(c,y),4}}class Double extends Layout$1{constructor(c){super(8,c)}decode(c,d){return d===void 0&&(d=0),c.readDoubleLE(d)}encode(c,d,y){return y===void 0&&(y=0),d.writeDoubleLE(c,y),8}}class DoubleBE extends Layout$1{constructor(c){super(8,c)}decode(c,d){return d===void 0&&(d=0),c.readDoubleBE(d)}encode(c,d,y){return y===void 0&&(y=0),d.writeDoubleBE(c,y),8}}class Sequence extends Layout$1{constructor(c,d,y){if(!(c instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(d instanceof ExternalLayout$1&&d.isCount()||Number.isInteger(d)&&0<=d))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let gr=-1;!(d instanceof ExternalLayout$1)&&0<c.span&&(gr=d*c.span),super(gr,y),this.elementLayout=c,this.count=d}getSpan(c,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let y=0,gr=this.count;if(gr instanceof ExternalLayout$1&&(gr=gr.decode(c,d)),0<this.elementLayout.span)y=gr*this.elementLayout.span;else{let _r=0;for(;_r<gr;)y+=this.elementLayout.getSpan(c,d+y),++_r}return y}decode(c,d){d===void 0&&(d=0);const y=[];let gr=0,_r=this.count;for(_r instanceof ExternalLayout$1&&(_r=_r.decode(c,d));gr<_r;)y.push(this.elementLayout.decode(c,d)),d+=this.elementLayout.getSpan(c,d),gr+=1;return y}encode(c,d,y){y===void 0&&(y=0);const gr=this.elementLayout,_r=c.reduce((br,wr)=>br+gr.encode(wr,d,y+br),0);return this.count instanceof ExternalLayout$1&&this.count.encode(c.length,d,y),_r}}class Structure$1 extends Layout$1{constructor(c,d,y){if(!(Array.isArray(c)&&c.reduce((_r,br)=>_r&&br instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof d=="boolean"&&y===void 0&&(y=d,d=void 0);for(const _r of c)if(0>_r.span&&_r.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let gr=-1;try{gr=c.reduce((_r,br)=>_r+br.getSpan(),0)}catch{}super(gr,d),this.fields=c,this.decodePrefixes=!!y}getSpan(c,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let y=0;try{y=this.fields.reduce((gr,_r)=>{const br=_r.getSpan(c,d);return d+=br,gr+br},0)}catch{throw new RangeError("indeterminate span")}return y}decode(c,d){d===void 0&&(d=0);const y=this.makeDestinationObject();for(const gr of this.fields)if(gr.property!==void 0&&(y[gr.property]=gr.decode(c,d)),d+=gr.getSpan(c,d),this.decodePrefixes&&c.length===d)break;return y}encode(c,d,y){y===void 0&&(y=0);const gr=y;let _r=0,br=0;for(const wr of this.fields){let Er=wr.span;if(br=0<Er?Er:0,wr.property!==void 0){const Or=c[wr.property];Or!==void 0&&(br=wr.encode(Or,d,y),0>Er&&(Er=wr.getSpan(d,y)))}_r=y,y+=Er}return _r+br-gr}fromArray(c){const d=this.makeDestinationObject();for(const y of this.fields)y.property!==void 0&&0<c.length&&(d[y.property]=c.shift());return d}layoutFor(c){if(typeof c!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===c)return d}offsetOf(c){if(typeof c!="string")throw new TypeError("property must be string");let d=0;for(const y of this.fields){if(y.property===c)return d;0>y.span?d=-1:0<=d&&(d+=y.span)}}}class UnionDiscriminator{constructor(c){this.property=c}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(c,d){if(!(c instanceof ExternalLayout$1&&c.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(d||c.property||"variant"),this.layout=c}decode(c,d){return this.layout.decode(c,d)}encode(c,d,y){return this.layout.encode(c,d,y)}}class Union extends Layout$1{constructor(c,d,y){const gr=c instanceof UInt$1||c instanceof UIntBE;if(gr)c=new UnionLayoutDiscriminator(new OffsetLayout(c));else if(c instanceof ExternalLayout$1&&c.isCount())c=new UnionLayoutDiscriminator(c);else if(!(c instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(d===void 0&&(d=null),!(d===null||d instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(d!==null){if(0>d.span)throw new Error("defaultLayout must have constant span");d.property===void 0&&(d=d.replicate("content"))}let _r=-1;d&&(_r=d.span,0<=_r&&gr&&(_r+=c.layout.span)),super(_r,y),this.discriminator=c,this.usesPrefixDiscriminator=gr,this.defaultLayout=d,this.registry={};let br=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(wr){return br(wr)},this.configGetSourceVariant=function(wr){br=wr.bind(this)}}getSpan(c,d){if(0<=this.span)return this.span;d===void 0&&(d=0);const y=this.getVariant(c,d);if(!y)throw new Error("unable to determine span for unrecognized variant");return y.getSpan(c,d)}defaultGetSourceVariant(c){if(c.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&c.hasOwnProperty(this.defaultLayout.property))return;const d=this.registry[c[this.discriminator.property]];if(d&&(!d.layout||c.hasOwnProperty(d.property)))return d}else for(const d in this.registry){const y=this.registry[d];if(c.hasOwnProperty(y.property))return y}throw new Error("unable to infer src variant")}decode(c,d){d===void 0&&(d=0);let y;const gr=this.discriminator,_r=gr.decode(c,d);let br=this.registry[_r];if(br===void 0){let wr=0;br=this.defaultLayout,this.usesPrefixDiscriminator&&(wr=gr.layout.span),y=this.makeDestinationObject(),y[gr.property]=_r,y[br.property]=this.defaultLayout.decode(c,d+wr)}else y=br.decode(c,d);return y}encode(c,d,y){y===void 0&&(y=0);const gr=this.getSourceVariant(c);if(gr===void 0){const _r=this.discriminator,br=this.defaultLayout;let wr=0;return this.usesPrefixDiscriminator&&(wr=_r.layout.span),_r.encode(c[_r.property],d,y),wr+br.encode(c[br.property],d,y+wr)}return gr.encode(c,d,y)}addVariant(c,d,y){const gr=new VariantLayout(this,c,d,y);return this.registry[c]=gr,gr}getVariant(c,d){let y=c;return Buffer.isBuffer(c)&&(d===void 0&&(d=0),y=this.discriminator.decode(c,d)),this.registry[y]}}class VariantLayout extends Layout$1{constructor(c,d,y,gr){if(!(c instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(d)||0>d)throw new TypeError("variant must be a (non-negative) integer");if(typeof y=="string"&&gr===void 0&&(gr=y,y=null),y){if(!(y instanceof Layout$1))throw new TypeError("layout must be a Layout");if(c.defaultLayout!==null&&0<=y.span&&y.span>c.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof gr!="string")throw new TypeError("variant must have a String property")}let _r=c.span;0>c.span&&(_r=y?y.span:0,0<=_r&&c.usesPrefixDiscriminator&&(_r+=c.discriminator.layout.span)),super(_r,gr),this.union=c,this.variant=d,this.layout=y||null}getSpan(c,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let y=0;return this.union.usesPrefixDiscriminator&&(y=this.union.discriminator.layout.span),y+this.layout.getSpan(c,d+y)}decode(c,d){const y=this.makeDestinationObject();if(d===void 0&&(d=0),this!==this.union.getVariant(c,d))throw new Error("variant mismatch");let gr=0;return this.union.usesPrefixDiscriminator&&(gr=this.union.discriminator.layout.span),this.layout?y[this.property]=this.layout.decode(c,d+gr):this.property?y[this.property]=!0:this.union.usesPrefixDiscriminator&&(y[this.union.discriminator.property]=this.variant),y}encode(c,d,y){y===void 0&&(y=0);let gr=0;if(this.union.usesPrefixDiscriminator&&(gr=this.union.discriminator.layout.span),this.layout&&!c.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,d,y);let _r=gr;if(this.layout&&(this.layout.encode(c[this.property],d,y+gr),_r+=this.layout.getSpan(d,y+gr),0<=this.union.span&&_r>this.union.span))throw new Error("encoded variant overruns containing union");return _r}fromArray(c){if(this.layout)return this.layout.fromArray(c)}}function fixBitwiseResult(u){return 0>u&&(u+=4294967296),u}class BitStructure extends Layout$1{constructor(c,d,y){if(!(c instanceof UInt$1||c instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof d=="string"&&y===void 0&&(y=d,d=void 0),4<c.span)throw new RangeError("word cannot exceed 32 bits");super(c.span,y),this.word=c,this.msb=!!d,this.fields=[];let gr=0;this._packedSetValue=function(_r){return gr=fixBitwiseResult(_r),this},this._packedGetValue=function(){return gr}}decode(c,d){const y=this.makeDestinationObject();d===void 0&&(d=0);const gr=this.word.decode(c,d);this._packedSetValue(gr);for(const _r of this.fields)_r.property!==void 0&&(y[_r.property]=_r.decode(gr));return y}encode(c,d,y){y===void 0&&(y=0);const gr=this.word.decode(d,y);this._packedSetValue(gr);for(const _r of this.fields)if(_r.property!==void 0){const br=c[_r.property];br!==void 0&&_r.encode(br)}return this.word.encode(this._packedGetValue(),d,y)}addField(c,d){const y=new BitField(this,c,d);return this.fields.push(y),y}addBoolean(c){const d=new Boolean$1(this,c);return this.fields.push(d),d}fieldFor(c){if(typeof c!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===c)return d}}class BitField{constructor(c,d,y){if(!(c instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(d)||0>=d)throw new TypeError("bits must be positive integer");const gr=8*c.span,_r=c.fields.reduce((br,wr)=>br+wr.bits,0);if(d+_r>gr)throw new Error("bits too long for span remainder ("+(gr-_r)+" of "+gr+" remain)");this.container=c,this.bits=d,this.valueMask=(1<<d)-1,d===32&&(this.valueMask=4294967295),this.start=_r,this.container.msb&&(this.start=gr-_r-d),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=y}decode(){const c=this.container._packedGetValue();return fixBitwiseResult(c&this.wordMask)>>>this.start}encode(c){if(!Number.isInteger(c)||c!==fixBitwiseResult(c&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const d=this.container._packedGetValue(),y=fixBitwiseResult(c<<this.start);this.container._packedSetValue(fixBitwiseResult(d&~this.wordMask)|y)}}class Boolean$1 extends BitField{constructor(c,d){super(c,1,d)}decode(c,d){return!!BitField.prototype.decode.call(this,c,d)}encode(c){return typeof c=="boolean"&&(c=+c),BitField.prototype.encode.call(this,c)}}class Blob$2 extends Layout$1{constructor(c,d){if(!(c instanceof ExternalLayout$1&&c.isCount()||Number.isInteger(c)&&0<=c))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let y=-1;c instanceof ExternalLayout$1||(y=c),super(y,d),this.length=c}getSpan(c,d){let y=this.span;return 0>y&&(y=this.length.decode(c,d)),y}decode(c,d){d===void 0&&(d=0);let y=this.span;return 0>y&&(y=this.length.decode(c,d)),c.slice(d,d+y)}encode(c,d,y){let gr=this.length;if(this.length instanceof ExternalLayout$1&&(gr=c.length),!(Buffer.isBuffer(c)&&gr===c.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+gr+") Buffer as src");if(y+gr>d.length)throw new RangeError("encoding overruns Buffer");return d.write(c.toString("hex"),y,gr,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(gr,d,y),gr}}class CString extends Layout$1{constructor(c){super(-1,c)}getSpan(c,d){if(!Buffer.isBuffer(c))throw new TypeError("b must be a Buffer");d===void 0&&(d=0);let y=d;for(;y<c.length&&c[y]!==0;)y+=1;return 1+y-d}decode(c,d,y){d===void 0&&(d=0);let gr=this.getSpan(c,d);return c.slice(d,d+gr-1).toString("utf-8")}encode(c,d,y){y===void 0&&(y=0),typeof c!="string"&&(c=c.toString());const gr=new Buffer(c,"utf8"),_r=gr.length;if(y+_r>d.length)throw new RangeError("encoding overruns Buffer");return gr.copy(d,y),d[y+_r]=0,_r+1}}class UTF8 extends Layout$1{constructor(c,d){if(typeof c=="string"&&d===void 0&&(d=c,c=void 0),c===void 0)c=-1;else if(!Number.isInteger(c))throw new TypeError("maxSpan must be an integer");super(-1,d),this.maxSpan=c}getSpan(c,d){if(!Buffer.isBuffer(c))throw new TypeError("b must be a Buffer");return d===void 0&&(d=0),c.length-d}decode(c,d,y){d===void 0&&(d=0);let gr=this.getSpan(c,d);if(0<=this.maxSpan&&this.maxSpan<gr)throw new RangeError("text length exceeds maxSpan");return c.slice(d,d+gr).toString("utf-8")}encode(c,d,y){y===void 0&&(y=0),typeof c!="string"&&(c=c.toString());const gr=new Buffer(c,"utf8"),_r=gr.length;if(0<=this.maxSpan&&this.maxSpan<_r)throw new RangeError("text length exceeds maxSpan");if(y+_r>d.length)throw new RangeError("encoding overruns Buffer");return gr.copy(d,y),_r}}class Constant extends Layout$1{constructor(c,d){super(0,d),this.value=c}decode(c,d,y){return this.value}encode(c,d,y){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$2.Union=Union;Layout$2.VariantLayout=VariantLayout;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(u,c)=>new GreedyCount(u,c);Layout$2.offset=(u,c,d)=>new OffsetLayout(u,c,d);Layout$2.u8=u=>new UInt$1(1,u);Layout$2.u16=u=>new UInt$1(2,u);Layout$2.u24=u=>new UInt$1(3,u);Layout$2.u32=u=>new UInt$1(4,u);Layout$2.u40=u=>new UInt$1(5,u);Layout$2.u48=u=>new UInt$1(6,u);Layout$2.nu64=u=>new NearUInt64(u);Layout$2.u16be=u=>new UIntBE(2,u);Layout$2.u24be=u=>new UIntBE(3,u);Layout$2.u32be=u=>new UIntBE(4,u);Layout$2.u40be=u=>new UIntBE(5,u);Layout$2.u48be=u=>new UIntBE(6,u);Layout$2.nu64be=u=>new NearUInt64BE(u);Layout$2.s8=u=>new Int(1,u);Layout$2.s16=u=>new Int(2,u);Layout$2.s24=u=>new Int(3,u);Layout$2.s32=u=>new Int(4,u);Layout$2.s40=u=>new Int(5,u);Layout$2.s48=u=>new Int(6,u);Layout$2.ns64=u=>new NearInt64(u);Layout$2.s16be=u=>new IntBE(2,u);Layout$2.s24be=u=>new IntBE(3,u);Layout$2.s32be=u=>new IntBE(4,u);Layout$2.s40be=u=>new IntBE(5,u);Layout$2.s48be=u=>new IntBE(6,u);Layout$2.ns64be=u=>new NearInt64BE(u);Layout$2.f32=u=>new Float(u);Layout$2.f32be=u=>new FloatBE(u);Layout$2.f64=u=>new Double(u);Layout$2.f64be=u=>new DoubleBE(u);Layout$2.struct=(u,c,d)=>new Structure$1(u,c,d);Layout$2.bits=(u,c,d)=>new BitStructure(u,c,d);Layout$2.seq=(u,c,d)=>new Sequence(u,c,d);Layout$2.union=(u,c,d)=>new Union(u,c,d);Layout$2.unionLayoutDiscriminator=(u,c)=>new UnionLayoutDiscriminator(u,c);Layout$2.blob=(u,c)=>new Blob$2(u,c);Layout$2.cstr=u=>new CString(u);Layout$2.utf8=(u,c)=>new UTF8(u,c);Layout$2.const=(u,c)=>new Constant(u,c);const require$$0$2=getAugmentedNamespace(index_browser_esm$1);(function(u){var c=commonjsGlobal&&commonjsGlobal.__importDefault||function(fn){return fn&&fn.__esModule?fn:{default:fn}};Object.defineProperty(u,"__esModule",{value:!0}),u.map=u.array=u.rustEnum=u.str=u.vecU8=u.tagged=u.vec=u.bool=u.option=u.publicKey=u.i128=u.u128=u.i64=u.u64=u.struct=u.f64=u.f32=u.i32=u.u32=u.i16=u.u16=u.i8=u.u8=void 0;const d=Layout$2,y=require$$0$2,gr=c(bn.exports);var _r=Layout$2;Object.defineProperty(u,"u8",{enumerable:!0,get:function(){return _r.u8}}),Object.defineProperty(u,"i8",{enumerable:!0,get:function(){return _r.s8}}),Object.defineProperty(u,"u16",{enumerable:!0,get:function(){return _r.u16}}),Object.defineProperty(u,"i16",{enumerable:!0,get:function(){return _r.s16}}),Object.defineProperty(u,"u32",{enumerable:!0,get:function(){return _r.u32}}),Object.defineProperty(u,"i32",{enumerable:!0,get:function(){return _r.s32}}),Object.defineProperty(u,"f32",{enumerable:!0,get:function(){return _r.f32}}),Object.defineProperty(u,"f64",{enumerable:!0,get:function(){return _r.f64}}),Object.defineProperty(u,"struct",{enumerable:!0,get:function(){return _r.struct}});class br extends d.Layout{constructor(gn,Sn,Fr){super(gn,Fr),this.blob=d.blob(gn),this.signed=Sn}decode(gn,Sn=0){const Fr=new gr.default(this.blob.decode(gn,Sn),10,"le");return this.signed?Fr.fromTwos(this.span*8).clone():Fr}encode(gn,Sn,Fr=0){return this.signed&&(gn=gn.toTwos(this.span*8)),this.blob.encode(gn.toArrayLike(Buffer,"le",this.span),Sn,Fr)}}function wr(fn){return new br(8,!1,fn)}u.u64=wr;function Er(fn){return new br(8,!0,fn)}u.i64=Er;function Or(fn){return new br(16,!1,fn)}u.u128=Or;function xr(fn){return new br(16,!0,fn)}u.i128=xr;class kr extends d.Layout{constructor(gn,Sn,Fr,Rr){super(gn.span,Rr),this.layout=gn,this.decoder=Sn,this.encoder=Fr}decode(gn,Sn){return this.decoder(this.layout.decode(gn,Sn))}encode(gn,Sn,Fr){return this.layout.encode(this.encoder(gn),Sn,Fr)}getSpan(gn,Sn){return this.layout.getSpan(gn,Sn)}}function Mr(fn){return new kr(d.blob(32),gn=>new y.PublicKey(gn),gn=>gn.toBuffer(),fn)}u.publicKey=Mr;class Cr extends d.Layout{constructor(gn,Sn){super(-1,Sn),this.layout=gn,this.discriminator=d.u8()}encode(gn,Sn,Fr=0){return gn==null?this.discriminator.encode(0,Sn,Fr):(this.discriminator.encode(1,Sn,Fr),this.layout.encode(gn,Sn,Fr+1)+1)}decode(gn,Sn=0){const Fr=this.discriminator.decode(gn,Sn);if(Fr===0)return null;if(Fr===1)return this.layout.decode(gn,Sn+1);throw new Error("Invalid option "+this.property)}getSpan(gn,Sn=0){const Fr=this.discriminator.decode(gn,Sn);if(Fr===0)return 1;if(Fr===1)return this.layout.getSpan(gn,Sn+1)+1;throw new Error("Invalid option "+this.property)}}function Nr(fn,gn){return new Cr(fn,gn)}u.option=Nr;function Ur(fn){return new kr(d.u8(),Dr,zr,fn)}u.bool=Ur;function Dr(fn){if(fn===0)return!1;if(fn===1)return!0;throw new Error("Invalid bool: "+fn)}function zr(fn){return fn?1:0}function Zr(fn,gn){const Sn=d.u32("length"),Fr=d.struct([Sn,d.seq(fn,d.offset(Sn,-Sn.span),"values")]);return new kr(Fr,({values:Rr})=>Rr,Rr=>({values:Rr}),gn)}u.vec=Zr;function Wr(fn,gn,Sn){const Fr=d.struct([wr("tag"),gn.replicate("data")]);function Rr({tag:Lr,data:Vr}){if(!Lr.eq(fn))throw new Error("Invalid tag, expected: "+fn.toString("hex")+", got: "+Lr.toString("hex"));return Vr}return new kr(Fr,Rr,Lr=>({tag:fn,data:Lr}),Sn)}u.tagged=Wr;function tn(fn){const gn=d.u32("length"),Sn=d.struct([gn,d.blob(d.offset(gn,-gn.span),"data")]);return new kr(Sn,({data:Fr})=>Fr,Fr=>({data:Fr}),fn)}u.vecU8=tn;function rn(fn){return new kr(tn(),gn=>gn.toString("utf-8"),gn=>Buffer.from(gn,"utf-8"),fn)}u.str=rn;function Jr(fn,gn,Sn){const Fr=d.union(Sn??d.u8(),gn);return fn.forEach((Rr,Lr)=>Fr.addVariant(Lr,Rr,Rr.property)),Fr}u.rustEnum=Jr;function Qr(fn,gn,Sn){const Fr=d.struct([d.seq(fn,gn,"values")]);return new kr(Fr,({values:Rr})=>Rr,Rr=>({values:Rr}),Sn)}u.array=Qr;class an extends d.Layout{constructor(gn,Sn,Fr){super(gn.span+Sn.span,Fr),this.keyLayout=gn,this.valueLayout=Sn}decode(gn,Sn){Sn=Sn||0;const Fr=this.keyLayout.decode(gn,Sn),Rr=this.valueLayout.decode(gn,Sn+this.keyLayout.getSpan(gn,Sn));return[Fr,Rr]}encode(gn,Sn,Fr){Fr=Fr||0;const Rr=this.keyLayout.encode(gn[0],Sn,Fr),Lr=this.valueLayout.encode(gn[1],Sn,Fr+Rr);return Rr+Lr}getSpan(gn,Sn){return this.keyLayout.getSpan(gn,Sn)+this.valueLayout.getSpan(gn,Sn)}}function mn(fn,gn,Sn){const Fr=d.u32("length"),Rr=d.struct([Fr,d.seq(new an(fn,gn),d.offset(Fr,-Fr.span),"values")]);return new kr(Rr,({values:Lr})=>new Map(Lr),Lr=>({values:Array.from(Lr.entries())}),Sn)}u.map=mn})(lib);/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(u){let c=u.length;for(;--c>=0;)u[c]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(u,c,d,y,gr){this.static_tree=u,this.extra_bits=c,this.extra_base=d,this.elems=y,this.max_length=gr,this.has_stree=u&&u.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(u,c){this.dyn_tree=u,this.max_code=0,this.stat_desc=c}const d_code=u=>u<256?_dist_code[u]:_dist_code[256+(u>>>7)],put_short=(u,c)=>{u.pending_buf[u.pending++]=c&255,u.pending_buf[u.pending++]=c>>>8&255},send_bits=(u,c,d)=>{u.bi_valid>Buf_size-d?(u.bi_buf|=c<<u.bi_valid&65535,put_short(u,u.bi_buf),u.bi_buf=c>>Buf_size-u.bi_valid,u.bi_valid+=d-Buf_size):(u.bi_buf|=c<<u.bi_valid&65535,u.bi_valid+=d)},send_code=(u,c,d)=>{send_bits(u,d[c*2],d[c*2+1])},bi_reverse=(u,c)=>{let d=0;do d|=u&1,u>>>=1,d<<=1;while(--c>0);return d>>>1},bi_flush=u=>{u.bi_valid===16?(put_short(u,u.bi_buf),u.bi_buf=0,u.bi_valid=0):u.bi_valid>=8&&(u.pending_buf[u.pending++]=u.bi_buf&255,u.bi_buf>>=8,u.bi_valid-=8)},gen_bitlen=(u,c)=>{const d=c.dyn_tree,y=c.max_code,gr=c.stat_desc.static_tree,_r=c.stat_desc.has_stree,br=c.stat_desc.extra_bits,wr=c.stat_desc.extra_base,Er=c.stat_desc.max_length;let Or,xr,kr,Mr,Cr,Nr,Ur=0;for(Mr=0;Mr<=MAX_BITS$1;Mr++)u.bl_count[Mr]=0;for(d[u.heap[u.heap_max]*2+1]=0,Or=u.heap_max+1;Or<HEAP_SIZE$1;Or++)xr=u.heap[Or],Mr=d[d[xr*2+1]*2+1]+1,Mr>Er&&(Mr=Er,Ur++),d[xr*2+1]=Mr,!(xr>y)&&(u.bl_count[Mr]++,Cr=0,xr>=wr&&(Cr=br[xr-wr]),Nr=d[xr*2],u.opt_len+=Nr*(Mr+Cr),_r&&(u.static_len+=Nr*(gr[xr*2+1]+Cr)));if(Ur!==0){do{for(Mr=Er-1;u.bl_count[Mr]===0;)Mr--;u.bl_count[Mr]--,u.bl_count[Mr+1]+=2,u.bl_count[Er]--,Ur-=2}while(Ur>0);for(Mr=Er;Mr!==0;Mr--)for(xr=u.bl_count[Mr];xr!==0;)kr=u.heap[--Or],!(kr>y)&&(d[kr*2+1]!==Mr&&(u.opt_len+=(Mr-d[kr*2+1])*d[kr*2],d[kr*2+1]=Mr),xr--)}},gen_codes=(u,c,d)=>{const y=new Array(MAX_BITS$1+1);let gr=0,_r,br;for(_r=1;_r<=MAX_BITS$1;_r++)y[_r]=gr=gr+d[_r-1]<<1;for(br=0;br<=c;br++){let wr=u[br*2+1];wr!==0&&(u[br*2]=bi_reverse(y[wr]++,wr))}},tr_static_init=()=>{let u,c,d,y,gr;const _r=new Array(MAX_BITS$1+1);for(d=0,y=0;y<LENGTH_CODES$1-1;y++)for(base_length[y]=d,u=0;u<1<<extra_lbits[y];u++)_length_code[d++]=y;for(_length_code[d-1]=y,gr=0,y=0;y<16;y++)for(base_dist[y]=gr,u=0;u<1<<extra_dbits[y];u++)_dist_code[gr++]=y;for(gr>>=7;y<D_CODES$1;y++)for(base_dist[y]=gr<<7,u=0;u<1<<extra_dbits[y]-7;u++)_dist_code[256+gr++]=y;for(c=0;c<=MAX_BITS$1;c++)_r[c]=0;for(u=0;u<=143;)static_ltree[u*2+1]=8,u++,_r[8]++;for(;u<=255;)static_ltree[u*2+1]=9,u++,_r[9]++;for(;u<=279;)static_ltree[u*2+1]=7,u++,_r[7]++;for(;u<=287;)static_ltree[u*2+1]=8,u++,_r[8]++;for(gen_codes(static_ltree,L_CODES$1+1,_r),u=0;u<D_CODES$1;u++)static_dtree[u*2+1]=5,static_dtree[u*2]=bi_reverse(u,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=u=>{let c;for(c=0;c<L_CODES$1;c++)u.dyn_ltree[c*2]=0;for(c=0;c<D_CODES$1;c++)u.dyn_dtree[c*2]=0;for(c=0;c<BL_CODES$1;c++)u.bl_tree[c*2]=0;u.dyn_ltree[END_BLOCK*2]=1,u.opt_len=u.static_len=0,u.last_lit=u.matches=0},bi_windup=u=>{u.bi_valid>8?put_short(u,u.bi_buf):u.bi_valid>0&&(u.pending_buf[u.pending++]=u.bi_buf),u.bi_buf=0,u.bi_valid=0},copy_block=(u,c,d,y)=>{bi_windup(u),y&&(put_short(u,d),put_short(u,~d)),u.pending_buf.set(u.window.subarray(c,c+d),u.pending),u.pending+=d},smaller=(u,c,d,y)=>{const gr=c*2,_r=d*2;return u[gr]<u[_r]||u[gr]===u[_r]&&y[c]<=y[d]},pqdownheap=(u,c,d)=>{const y=u.heap[d];let gr=d<<1;for(;gr<=u.heap_len&&(gr<u.heap_len&&smaller(c,u.heap[gr+1],u.heap[gr],u.depth)&&gr++,!smaller(c,y,u.heap[gr],u.depth));)u.heap[d]=u.heap[gr],d=gr,gr<<=1;u.heap[d]=y},compress_block=(u,c,d)=>{let y,gr,_r=0,br,wr;if(u.last_lit!==0)do y=u.pending_buf[u.d_buf+_r*2]<<8|u.pending_buf[u.d_buf+_r*2+1],gr=u.pending_buf[u.l_buf+_r],_r++,y===0?send_code(u,gr,c):(br=_length_code[gr],send_code(u,br+LITERALS$1+1,c),wr=extra_lbits[br],wr!==0&&(gr-=base_length[br],send_bits(u,gr,wr)),y--,br=d_code(y),send_code(u,br,d),wr=extra_dbits[br],wr!==0&&(y-=base_dist[br],send_bits(u,y,wr)));while(_r<u.last_lit);send_code(u,END_BLOCK,c)},build_tree=(u,c)=>{const d=c.dyn_tree,y=c.stat_desc.static_tree,gr=c.stat_desc.has_stree,_r=c.stat_desc.elems;let br,wr,Er=-1,Or;for(u.heap_len=0,u.heap_max=HEAP_SIZE$1,br=0;br<_r;br++)d[br*2]!==0?(u.heap[++u.heap_len]=Er=br,u.depth[br]=0):d[br*2+1]=0;for(;u.heap_len<2;)Or=u.heap[++u.heap_len]=Er<2?++Er:0,d[Or*2]=1,u.depth[Or]=0,u.opt_len--,gr&&(u.static_len-=y[Or*2+1]);for(c.max_code=Er,br=u.heap_len>>1;br>=1;br--)pqdownheap(u,d,br);Or=_r;do br=u.heap[1],u.heap[1]=u.heap[u.heap_len--],pqdownheap(u,d,1),wr=u.heap[1],u.heap[--u.heap_max]=br,u.heap[--u.heap_max]=wr,d[Or*2]=d[br*2]+d[wr*2],u.depth[Or]=(u.depth[br]>=u.depth[wr]?u.depth[br]:u.depth[wr])+1,d[br*2+1]=d[wr*2+1]=Or,u.heap[1]=Or++,pqdownheap(u,d,1);while(u.heap_len>=2);u.heap[--u.heap_max]=u.heap[1],gen_bitlen(u,c),gen_codes(d,Er,u.bl_count)},scan_tree=(u,c,d)=>{let y,gr=-1,_r,br=c[0*2+1],wr=0,Er=7,Or=4;for(br===0&&(Er=138,Or=3),c[(d+1)*2+1]=65535,y=0;y<=d;y++)_r=br,br=c[(y+1)*2+1],!(++wr<Er&&_r===br)&&(wr<Or?u.bl_tree[_r*2]+=wr:_r!==0?(_r!==gr&&u.bl_tree[_r*2]++,u.bl_tree[REP_3_6*2]++):wr<=10?u.bl_tree[REPZ_3_10*2]++:u.bl_tree[REPZ_11_138*2]++,wr=0,gr=_r,br===0?(Er=138,Or=3):_r===br?(Er=6,Or=3):(Er=7,Or=4))},send_tree=(u,c,d)=>{let y,gr=-1,_r,br=c[0*2+1],wr=0,Er=7,Or=4;for(br===0&&(Er=138,Or=3),y=0;y<=d;y++)if(_r=br,br=c[(y+1)*2+1],!(++wr<Er&&_r===br)){if(wr<Or)do send_code(u,_r,u.bl_tree);while(--wr!==0);else _r!==0?(_r!==gr&&(send_code(u,_r,u.bl_tree),wr--),send_code(u,REP_3_6,u.bl_tree),send_bits(u,wr-3,2)):wr<=10?(send_code(u,REPZ_3_10,u.bl_tree),send_bits(u,wr-3,3)):(send_code(u,REPZ_11_138,u.bl_tree),send_bits(u,wr-11,7));wr=0,gr=_r,br===0?(Er=138,Or=3):_r===br?(Er=6,Or=3):(Er=7,Or=4)}},build_bl_tree=u=>{let c;for(scan_tree(u,u.dyn_ltree,u.l_desc.max_code),scan_tree(u,u.dyn_dtree,u.d_desc.max_code),build_tree(u,u.bl_desc),c=BL_CODES$1-1;c>=3&&u.bl_tree[bl_order[c]*2+1]===0;c--);return u.opt_len+=3*(c+1)+5+5+4,c},send_all_trees=(u,c,d,y)=>{let gr;for(send_bits(u,c-257,5),send_bits(u,d-1,5),send_bits(u,y-4,4),gr=0;gr<y;gr++)send_bits(u,u.bl_tree[bl_order[gr]*2+1],3);send_tree(u,u.dyn_ltree,c-1),send_tree(u,u.dyn_dtree,d-1)},detect_data_type=u=>{let c=4093624447,d;for(d=0;d<=31;d++,c>>>=1)if(c&1&&u.dyn_ltree[d*2]!==0)return Z_BINARY;if(u.dyn_ltree[9*2]!==0||u.dyn_ltree[10*2]!==0||u.dyn_ltree[13*2]!==0)return Z_TEXT;for(d=32;d<LITERALS$1;d++)if(u.dyn_ltree[d*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=u=>{static_init_done||(tr_static_init(),static_init_done=!0),u.l_desc=new TreeDesc(u.dyn_ltree,static_l_desc),u.d_desc=new TreeDesc(u.dyn_dtree,static_d_desc),u.bl_desc=new TreeDesc(u.bl_tree,static_bl_desc),u.bi_buf=0,u.bi_valid=0,init_block(u)},_tr_stored_block$1=(u,c,d,y)=>{send_bits(u,(STORED_BLOCK<<1)+(y?1:0),3),copy_block(u,c,d,!0)},_tr_align$1=u=>{send_bits(u,STATIC_TREES<<1,3),send_code(u,END_BLOCK,static_ltree),bi_flush(u)},_tr_flush_block$1=(u,c,d,y)=>{let gr,_r,br=0;u.level>0?(u.strm.data_type===Z_UNKNOWN$1&&(u.strm.data_type=detect_data_type(u)),build_tree(u,u.l_desc),build_tree(u,u.d_desc),br=build_bl_tree(u),gr=u.opt_len+3+7>>>3,_r=u.static_len+3+7>>>3,_r<=gr&&(gr=_r)):gr=_r=d+5,d+4<=gr&&c!==-1?_tr_stored_block$1(u,c,d,y):u.strategy===Z_FIXED$1||_r===gr?(send_bits(u,(STATIC_TREES<<1)+(y?1:0),3),compress_block(u,static_ltree,static_dtree)):(send_bits(u,(DYN_TREES<<1)+(y?1:0),3),send_all_trees(u,u.l_desc.max_code+1,u.d_desc.max_code+1,br+1),compress_block(u,u.dyn_ltree,u.dyn_dtree)),init_block(u),y&&bi_windup(u)},_tr_tally$1=(u,c,d)=>(u.pending_buf[u.d_buf+u.last_lit*2]=c>>>8&255,u.pending_buf[u.d_buf+u.last_lit*2+1]=c&255,u.pending_buf[u.l_buf+u.last_lit]=d&255,u.last_lit++,c===0?u.dyn_ltree[d*2]++:(u.matches++,c--,u.dyn_ltree[(_length_code[d]+LITERALS$1+1)*2]++,u.dyn_dtree[d_code(c)*2]++),u.last_lit===u.lit_bufsize-1);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(u,c,d,y)=>{let gr=u&65535|0,_r=u>>>16&65535|0,br=0;for(;d!==0;){br=d>2e3?2e3:d,d-=br;do gr=gr+c[y++]|0,_r=_r+gr|0;while(--br);gr%=65521,_r%=65521}return gr|_r<<16|0};var adler32_1=adler32;const makeTable=()=>{let u,c=[];for(var d=0;d<256;d++){u=d;for(var y=0;y<8;y++)u=u&1?3988292384^u>>>1:u>>>1;c[d]=u}return c},crcTable=new Uint32Array(makeTable()),crc32=(u,c,d,y)=>{const gr=crcTable,_r=y+d;u^=-1;for(let br=y;br<_r;br++)u=u>>>8^gr[(u^c[br])&255];return u^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(u,c)=>(u.msg=messages[c],c),rank=u=>(u<<1)-(u>4?9:0),zero=u=>{let c=u.length;for(;--c>=0;)u[c]=0};let HASH_ZLIB=(u,c,d)=>(c<<u.hash_shift^d)&u.hash_mask,HASH=HASH_ZLIB;const flush_pending=u=>{const c=u.state;let d=c.pending;d>u.avail_out&&(d=u.avail_out),d!==0&&(u.output.set(c.pending_buf.subarray(c.pending_out,c.pending_out+d),u.next_out),u.next_out+=d,c.pending_out+=d,u.total_out+=d,u.avail_out-=d,c.pending-=d,c.pending===0&&(c.pending_out=0))},flush_block_only=(u,c)=>{_tr_flush_block(u,u.block_start>=0?u.block_start:-1,u.strstart-u.block_start,c),u.block_start=u.strstart,flush_pending(u.strm)},put_byte=(u,c)=>{u.pending_buf[u.pending++]=c},putShortMSB=(u,c)=>{u.pending_buf[u.pending++]=c>>>8&255,u.pending_buf[u.pending++]=c&255},read_buf=(u,c,d,y)=>{let gr=u.avail_in;return gr>y&&(gr=y),gr===0?0:(u.avail_in-=gr,c.set(u.input.subarray(u.next_in,u.next_in+gr),d),u.state.wrap===1?u.adler=adler32_1(u.adler,c,gr,d):u.state.wrap===2&&(u.adler=crc32_1(u.adler,c,gr,d)),u.next_in+=gr,u.total_in+=gr,gr)},longest_match=(u,c)=>{let d=u.max_chain_length,y=u.strstart,gr,_r,br=u.prev_length,wr=u.nice_match;const Er=u.strstart>u.w_size-MIN_LOOKAHEAD?u.strstart-(u.w_size-MIN_LOOKAHEAD):0,Or=u.window,xr=u.w_mask,kr=u.prev,Mr=u.strstart+MAX_MATCH;let Cr=Or[y+br-1],Nr=Or[y+br];u.prev_length>=u.good_match&&(d>>=2),wr>u.lookahead&&(wr=u.lookahead);do if(gr=c,!(Or[gr+br]!==Nr||Or[gr+br-1]!==Cr||Or[gr]!==Or[y]||Or[++gr]!==Or[y+1])){y+=2,gr++;do;while(Or[++y]===Or[++gr]&&Or[++y]===Or[++gr]&&Or[++y]===Or[++gr]&&Or[++y]===Or[++gr]&&Or[++y]===Or[++gr]&&Or[++y]===Or[++gr]&&Or[++y]===Or[++gr]&&Or[++y]===Or[++gr]&&y<Mr);if(_r=MAX_MATCH-(Mr-y),y=Mr-MAX_MATCH,_r>br){if(u.match_start=c,br=_r,_r>=wr)break;Cr=Or[y+br-1],Nr=Or[y+br]}}while((c=kr[c&xr])>Er&&--d!==0);return br<=u.lookahead?br:u.lookahead},fill_window=u=>{const c=u.w_size;let d,y,gr,_r,br;do{if(_r=u.window_size-u.lookahead-u.strstart,u.strstart>=c+(c-MIN_LOOKAHEAD)){u.window.set(u.window.subarray(c,c+c),0),u.match_start-=c,u.strstart-=c,u.block_start-=c,y=u.hash_size,d=y;do gr=u.head[--d],u.head[d]=gr>=c?gr-c:0;while(--y);y=c,d=y;do gr=u.prev[--d],u.prev[d]=gr>=c?gr-c:0;while(--y);_r+=c}if(u.strm.avail_in===0)break;if(y=read_buf(u.strm,u.window,u.strstart+u.lookahead,_r),u.lookahead+=y,u.lookahead+u.insert>=MIN_MATCH)for(br=u.strstart-u.insert,u.ins_h=u.window[br],u.ins_h=HASH(u,u.ins_h,u.window[br+1]);u.insert&&(u.ins_h=HASH(u,u.ins_h,u.window[br+MIN_MATCH-1]),u.prev[br&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=br,br++,u.insert--,!(u.lookahead+u.insert<MIN_MATCH)););}while(u.lookahead<MIN_LOOKAHEAD&&u.strm.avail_in!==0)},deflate_stored=(u,c)=>{let d=65535;for(d>u.pending_buf_size-5&&(d=u.pending_buf_size-5);;){if(u.lookahead<=1){if(fill_window(u),u.lookahead===0&&c===Z_NO_FLUSH$2)return BS_NEED_MORE;if(u.lookahead===0)break}u.strstart+=u.lookahead,u.lookahead=0;const y=u.block_start+d;if((u.strstart===0||u.strstart>=y)&&(u.lookahead=u.strstart-y,u.strstart=y,flush_block_only(u,!1),u.strm.avail_out===0)||u.strstart-u.block_start>=u.w_size-MIN_LOOKAHEAD&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}return u.insert=0,c===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(u.strstart>u.block_start&&(flush_block_only(u,!1),u.strm.avail_out===0),BS_NEED_MORE)},deflate_fast=(u,c)=>{let d,y;for(;;){if(u.lookahead<MIN_LOOKAHEAD){if(fill_window(u),u.lookahead<MIN_LOOKAHEAD&&c===Z_NO_FLUSH$2)return BS_NEED_MORE;if(u.lookahead===0)break}if(d=0,u.lookahead>=MIN_MATCH&&(u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+MIN_MATCH-1]),d=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),d!==0&&u.strstart-d<=u.w_size-MIN_LOOKAHEAD&&(u.match_length=longest_match(u,d)),u.match_length>=MIN_MATCH)if(y=_tr_tally(u,u.strstart-u.match_start,u.match_length-MIN_MATCH),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=MIN_MATCH){u.match_length--;do u.strstart++,u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+MIN_MATCH-1]),d=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart;while(--u.match_length!==0);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+1]);else y=_tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(y&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}return u.insert=u.strstart<MIN_MATCH-1?u.strstart:MIN_MATCH-1,c===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):u.last_lit&&(flush_block_only(u,!1),u.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(u,c)=>{let d,y,gr;for(;;){if(u.lookahead<MIN_LOOKAHEAD){if(fill_window(u),u.lookahead<MIN_LOOKAHEAD&&c===Z_NO_FLUSH$2)return BS_NEED_MORE;if(u.lookahead===0)break}if(d=0,u.lookahead>=MIN_MATCH&&(u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+MIN_MATCH-1]),d=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=MIN_MATCH-1,d!==0&&u.prev_length<u.max_lazy_match&&u.strstart-d<=u.w_size-MIN_LOOKAHEAD&&(u.match_length=longest_match(u,d),u.match_length<=5&&(u.strategy===Z_FILTERED||u.match_length===MIN_MATCH&&u.strstart-u.match_start>4096)&&(u.match_length=MIN_MATCH-1)),u.prev_length>=MIN_MATCH&&u.match_length<=u.prev_length){gr=u.strstart+u.lookahead-MIN_MATCH,y=_tr_tally(u,u.strstart-1-u.prev_match,u.prev_length-MIN_MATCH),u.lookahead-=u.prev_length-1,u.prev_length-=2;do++u.strstart<=gr&&(u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+MIN_MATCH-1]),d=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart);while(--u.prev_length!==0);if(u.match_available=0,u.match_length=MIN_MATCH-1,u.strstart++,y&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}else if(u.match_available){if(y=_tr_tally(u,0,u.window[u.strstart-1]),y&&flush_block_only(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return BS_NEED_MORE}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(y=_tr_tally(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<MIN_MATCH-1?u.strstart:MIN_MATCH-1,c===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):u.last_lit&&(flush_block_only(u,!1),u.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(u,c)=>{let d,y,gr,_r;const br=u.window;for(;;){if(u.lookahead<=MAX_MATCH){if(fill_window(u),u.lookahead<=MAX_MATCH&&c===Z_NO_FLUSH$2)return BS_NEED_MORE;if(u.lookahead===0)break}if(u.match_length=0,u.lookahead>=MIN_MATCH&&u.strstart>0&&(gr=u.strstart-1,y=br[gr],y===br[++gr]&&y===br[++gr]&&y===br[++gr])){_r=u.strstart+MAX_MATCH;do;while(y===br[++gr]&&y===br[++gr]&&y===br[++gr]&&y===br[++gr]&&y===br[++gr]&&y===br[++gr]&&y===br[++gr]&&y===br[++gr]&&gr<_r);u.match_length=MAX_MATCH-(_r-gr),u.match_length>u.lookahead&&(u.match_length=u.lookahead)}if(u.match_length>=MIN_MATCH?(d=_tr_tally(u,1,u.match_length-MIN_MATCH),u.lookahead-=u.match_length,u.strstart+=u.match_length,u.match_length=0):(d=_tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++),d&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}return u.insert=0,c===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):u.last_lit&&(flush_block_only(u,!1),u.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(u,c)=>{let d;for(;;){if(u.lookahead===0&&(fill_window(u),u.lookahead===0)){if(c===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(u.match_length=0,d=_tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++,d&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}return u.insert=0,c===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):u.last_lit&&(flush_block_only(u,!1),u.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(u,c,d,y,gr){this.good_length=u,this.max_lazy=c,this.nice_length=d,this.max_chain=y,this.func=gr}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=u=>{u.window_size=2*u.w_size,zero(u.head),u.max_lazy_match=configuration_table[u.level].max_lazy,u.good_match=configuration_table[u.level].good_length,u.nice_match=configuration_table[u.level].nice_length,u.max_chain_length=configuration_table[u.level].max_chain,u.strstart=0,u.block_start=0,u.lookahead=0,u.insert=0,u.match_length=u.prev_length=MIN_MATCH-1,u.match_available=0,u.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateResetKeep=u=>{if(!u||!u.state)return err(u,Z_STREAM_ERROR$2);u.total_in=u.total_out=0,u.data_type=Z_UNKNOWN;const c=u.state;return c.pending=0,c.pending_out=0,c.wrap<0&&(c.wrap=-c.wrap),c.status=c.wrap?INIT_STATE:BUSY_STATE,u.adler=c.wrap===2?0:1,c.last_flush=Z_NO_FLUSH$2,_tr_init(c),Z_OK$3},deflateReset=u=>{const c=deflateResetKeep(u);return c===Z_OK$3&&lm_init(u.state),c},deflateSetHeader=(u,c)=>!u||!u.state||u.state.wrap!==2?Z_STREAM_ERROR$2:(u.state.gzhead=c,Z_OK$3),deflateInit2=(u,c,d,y,gr,_r)=>{if(!u)return Z_STREAM_ERROR$2;let br=1;if(c===Z_DEFAULT_COMPRESSION$1&&(c=6),y<0?(br=0,y=-y):y>15&&(br=2,y-=16),gr<1||gr>MAX_MEM_LEVEL||d!==Z_DEFLATED$2||y<8||y>15||c<0||c>9||_r<0||_r>Z_FIXED)return err(u,Z_STREAM_ERROR$2);y===8&&(y=9);const wr=new DeflateState;return u.state=wr,wr.strm=u,wr.wrap=br,wr.gzhead=null,wr.w_bits=y,wr.w_size=1<<wr.w_bits,wr.w_mask=wr.w_size-1,wr.hash_bits=gr+7,wr.hash_size=1<<wr.hash_bits,wr.hash_mask=wr.hash_size-1,wr.hash_shift=~~((wr.hash_bits+MIN_MATCH-1)/MIN_MATCH),wr.window=new Uint8Array(wr.w_size*2),wr.head=new Uint16Array(wr.hash_size),wr.prev=new Uint16Array(wr.w_size),wr.lit_bufsize=1<<gr+6,wr.pending_buf_size=wr.lit_bufsize*4,wr.pending_buf=new Uint8Array(wr.pending_buf_size),wr.d_buf=1*wr.lit_bufsize,wr.l_buf=(1+2)*wr.lit_bufsize,wr.level=c,wr.strategy=_r,wr.method=d,deflateReset(u)},deflateInit=(u,c)=>deflateInit2(u,c,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(u,c)=>{let d,y;if(!u||!u.state||c>Z_BLOCK$1||c<0)return u?err(u,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const gr=u.state;if(!u.output||!u.input&&u.avail_in!==0||gr.status===FINISH_STATE&&c!==Z_FINISH$3)return err(u,u.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);gr.strm=u;const _r=gr.last_flush;if(gr.last_flush=c,gr.status===INIT_STATE)if(gr.wrap===2)u.adler=0,put_byte(gr,31),put_byte(gr,139),put_byte(gr,8),gr.gzhead?(put_byte(gr,(gr.gzhead.text?1:0)+(gr.gzhead.hcrc?2:0)+(gr.gzhead.extra?4:0)+(gr.gzhead.name?8:0)+(gr.gzhead.comment?16:0)),put_byte(gr,gr.gzhead.time&255),put_byte(gr,gr.gzhead.time>>8&255),put_byte(gr,gr.gzhead.time>>16&255),put_byte(gr,gr.gzhead.time>>24&255),put_byte(gr,gr.level===9?2:gr.strategy>=Z_HUFFMAN_ONLY||gr.level<2?4:0),put_byte(gr,gr.gzhead.os&255),gr.gzhead.extra&&gr.gzhead.extra.length&&(put_byte(gr,gr.gzhead.extra.length&255),put_byte(gr,gr.gzhead.extra.length>>8&255)),gr.gzhead.hcrc&&(u.adler=crc32_1(u.adler,gr.pending_buf,gr.pending,0)),gr.gzindex=0,gr.status=EXTRA_STATE):(put_byte(gr,0),put_byte(gr,0),put_byte(gr,0),put_byte(gr,0),put_byte(gr,0),put_byte(gr,gr.level===9?2:gr.strategy>=Z_HUFFMAN_ONLY||gr.level<2?4:0),put_byte(gr,OS_CODE),gr.status=BUSY_STATE);else{let br=Z_DEFLATED$2+(gr.w_bits-8<<4)<<8,wr=-1;gr.strategy>=Z_HUFFMAN_ONLY||gr.level<2?wr=0:gr.level<6?wr=1:gr.level===6?wr=2:wr=3,br|=wr<<6,gr.strstart!==0&&(br|=PRESET_DICT),br+=31-br%31,gr.status=BUSY_STATE,putShortMSB(gr,br),gr.strstart!==0&&(putShortMSB(gr,u.adler>>>16),putShortMSB(gr,u.adler&65535)),u.adler=1}if(gr.status===EXTRA_STATE)if(gr.gzhead.extra){for(d=gr.pending;gr.gzindex<(gr.gzhead.extra.length&65535)&&!(gr.pending===gr.pending_buf_size&&(gr.gzhead.hcrc&&gr.pending>d&&(u.adler=crc32_1(u.adler,gr.pending_buf,gr.pending-d,d)),flush_pending(u),d=gr.pending,gr.pending===gr.pending_buf_size));)put_byte(gr,gr.gzhead.extra[gr.gzindex]&255),gr.gzindex++;gr.gzhead.hcrc&&gr.pending>d&&(u.adler=crc32_1(u.adler,gr.pending_buf,gr.pending-d,d)),gr.gzindex===gr.gzhead.extra.length&&(gr.gzindex=0,gr.status=NAME_STATE)}else gr.status=NAME_STATE;if(gr.status===NAME_STATE)if(gr.gzhead.name){d=gr.pending;do{if(gr.pending===gr.pending_buf_size&&(gr.gzhead.hcrc&&gr.pending>d&&(u.adler=crc32_1(u.adler,gr.pending_buf,gr.pending-d,d)),flush_pending(u),d=gr.pending,gr.pending===gr.pending_buf_size)){y=1;break}gr.gzindex<gr.gzhead.name.length?y=gr.gzhead.name.charCodeAt(gr.gzindex++)&255:y=0,put_byte(gr,y)}while(y!==0);gr.gzhead.hcrc&&gr.pending>d&&(u.adler=crc32_1(u.adler,gr.pending_buf,gr.pending-d,d)),y===0&&(gr.gzindex=0,gr.status=COMMENT_STATE)}else gr.status=COMMENT_STATE;if(gr.status===COMMENT_STATE)if(gr.gzhead.comment){d=gr.pending;do{if(gr.pending===gr.pending_buf_size&&(gr.gzhead.hcrc&&gr.pending>d&&(u.adler=crc32_1(u.adler,gr.pending_buf,gr.pending-d,d)),flush_pending(u),d=gr.pending,gr.pending===gr.pending_buf_size)){y=1;break}gr.gzindex<gr.gzhead.comment.length?y=gr.gzhead.comment.charCodeAt(gr.gzindex++)&255:y=0,put_byte(gr,y)}while(y!==0);gr.gzhead.hcrc&&gr.pending>d&&(u.adler=crc32_1(u.adler,gr.pending_buf,gr.pending-d,d)),y===0&&(gr.status=HCRC_STATE)}else gr.status=HCRC_STATE;if(gr.status===HCRC_STATE&&(gr.gzhead.hcrc?(gr.pending+2>gr.pending_buf_size&&flush_pending(u),gr.pending+2<=gr.pending_buf_size&&(put_byte(gr,u.adler&255),put_byte(gr,u.adler>>8&255),u.adler=0,gr.status=BUSY_STATE)):gr.status=BUSY_STATE),gr.pending!==0){if(flush_pending(u),u.avail_out===0)return gr.last_flush=-1,Z_OK$3}else if(u.avail_in===0&&rank(c)<=rank(_r)&&c!==Z_FINISH$3)return err(u,Z_BUF_ERROR$1);if(gr.status===FINISH_STATE&&u.avail_in!==0)return err(u,Z_BUF_ERROR$1);if(u.avail_in!==0||gr.lookahead!==0||c!==Z_NO_FLUSH$2&&gr.status!==FINISH_STATE){let br=gr.strategy===Z_HUFFMAN_ONLY?deflate_huff(gr,c):gr.strategy===Z_RLE?deflate_rle(gr,c):configuration_table[gr.level].func(gr,c);if((br===BS_FINISH_STARTED||br===BS_FINISH_DONE)&&(gr.status=FINISH_STATE),br===BS_NEED_MORE||br===BS_FINISH_STARTED)return u.avail_out===0&&(gr.last_flush=-1),Z_OK$3;if(br===BS_BLOCK_DONE&&(c===Z_PARTIAL_FLUSH?_tr_align(gr):c!==Z_BLOCK$1&&(_tr_stored_block(gr,0,0,!1),c===Z_FULL_FLUSH$1&&(zero(gr.head),gr.lookahead===0&&(gr.strstart=0,gr.block_start=0,gr.insert=0))),flush_pending(u),u.avail_out===0))return gr.last_flush=-1,Z_OK$3}return c!==Z_FINISH$3?Z_OK$3:gr.wrap<=0?Z_STREAM_END$3:(gr.wrap===2?(put_byte(gr,u.adler&255),put_byte(gr,u.adler>>8&255),put_byte(gr,u.adler>>16&255),put_byte(gr,u.adler>>24&255),put_byte(gr,u.total_in&255),put_byte(gr,u.total_in>>8&255),put_byte(gr,u.total_in>>16&255),put_byte(gr,u.total_in>>24&255)):(putShortMSB(gr,u.adler>>>16),putShortMSB(gr,u.adler&65535)),flush_pending(u),gr.wrap>0&&(gr.wrap=-gr.wrap),gr.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=u=>{if(!u||!u.state)return Z_STREAM_ERROR$2;const c=u.state.status;return c!==INIT_STATE&&c!==EXTRA_STATE&&c!==NAME_STATE&&c!==COMMENT_STATE&&c!==HCRC_STATE&&c!==BUSY_STATE&&c!==FINISH_STATE?err(u,Z_STREAM_ERROR$2):(u.state=null,c===BUSY_STATE?err(u,Z_DATA_ERROR$2):Z_OK$3)},deflateSetDictionary=(u,c)=>{let d=c.length;if(!u||!u.state)return Z_STREAM_ERROR$2;const y=u.state,gr=y.wrap;if(gr===2||gr===1&&y.status!==INIT_STATE||y.lookahead)return Z_STREAM_ERROR$2;if(gr===1&&(u.adler=adler32_1(u.adler,c,d,0)),y.wrap=0,d>=y.w_size){gr===0&&(zero(y.head),y.strstart=0,y.block_start=0,y.insert=0);let Er=new Uint8Array(y.w_size);Er.set(c.subarray(d-y.w_size,d),0),c=Er,d=y.w_size}const _r=u.avail_in,br=u.next_in,wr=u.input;for(u.avail_in=d,u.next_in=0,u.input=c,fill_window(y);y.lookahead>=MIN_MATCH;){let Er=y.strstart,Or=y.lookahead-(MIN_MATCH-1);do y.ins_h=HASH(y,y.ins_h,y.window[Er+MIN_MATCH-1]),y.prev[Er&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=Er,Er++;while(--Or);y.strstart=Er,y.lookahead=MIN_MATCH-1,fill_window(y)}return y.strstart+=y.lookahead,y.block_start=y.strstart,y.insert=y.lookahead,y.lookahead=0,y.match_length=y.prev_length=MIN_MATCH-1,y.match_available=0,u.next_in=br,u.input=wr,u.avail_in=_r,y.wrap=gr,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(u,c)=>Object.prototype.hasOwnProperty.call(u,c);var assign$2=function(u){const c=Array.prototype.slice.call(arguments,1);for(;c.length;){const d=c.shift();if(!!d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(const y in d)_has(d,y)&&(u[y]=d[y])}}return u},flattenChunks=u=>{let c=0;for(let y=0,gr=u.length;y<gr;y++)c+=u[y].length;const d=new Uint8Array(c);for(let y=0,gr=0,_r=u.length;y<_r;y++){let br=u[y];d.set(br,gr),gr+=br.length}return d},common={assign:assign$2,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let u=0;u<256;u++)_utf8len[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=u=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(u);let c,d,y,gr,_r,br=u.length,wr=0;for(gr=0;gr<br;gr++)d=u.charCodeAt(gr),(d&64512)===55296&&gr+1<br&&(y=u.charCodeAt(gr+1),(y&64512)===56320&&(d=65536+(d-55296<<10)+(y-56320),gr++)),wr+=d<128?1:d<2048?2:d<65536?3:4;for(c=new Uint8Array(wr),_r=0,gr=0;_r<wr;gr++)d=u.charCodeAt(gr),(d&64512)===55296&&gr+1<br&&(y=u.charCodeAt(gr+1),(y&64512)===56320&&(d=65536+(d-55296<<10)+(y-56320),gr++)),d<128?c[_r++]=d:d<2048?(c[_r++]=192|d>>>6,c[_r++]=128|d&63):d<65536?(c[_r++]=224|d>>>12,c[_r++]=128|d>>>6&63,c[_r++]=128|d&63):(c[_r++]=240|d>>>18,c[_r++]=128|d>>>12&63,c[_r++]=128|d>>>6&63,c[_r++]=128|d&63);return c};const buf2binstring=(u,c)=>{if(c<65534&&u.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,u.length===c?u:u.subarray(0,c));let d="";for(let y=0;y<c;y++)d+=String.fromCharCode(u[y]);return d};var buf2string=(u,c)=>{const d=c||u.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(u.subarray(0,c));let y,gr;const _r=new Array(d*2);for(gr=0,y=0;y<d;){let br=u[y++];if(br<128){_r[gr++]=br;continue}let wr=_utf8len[br];if(wr>4){_r[gr++]=65533,y+=wr-1;continue}for(br&=wr===2?31:wr===3?15:7;wr>1&&y<d;)br=br<<6|u[y++]&63,wr--;if(wr>1){_r[gr++]=65533;continue}br<65536?_r[gr++]=br:(br-=65536,_r[gr++]=55296|br>>10&1023,_r[gr++]=56320|br&1023)}return buf2binstring(_r,gr)},utf8border=(u,c)=>{c=c||u.length,c>u.length&&(c=u.length);let d=c-1;for(;d>=0&&(u[d]&192)===128;)d--;return d<0||d===0?c:d+_utf8len[u[d]]>c?d:c},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(u){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},u||{});let c=this.options;c.raw&&c.windowBits>0?c.windowBits=-c.windowBits:c.gzip&&c.windowBits>0&&c.windowBits<16&&(c.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let d=deflate_1$2.deflateInit2(this.strm,c.level,c.method,c.windowBits,c.memLevel,c.strategy);if(d!==Z_OK$2)throw new Error(messages[d]);if(c.header&&deflate_1$2.deflateSetHeader(this.strm,c.header),c.dictionary){let y;if(typeof c.dictionary=="string"?y=strings.string2buf(c.dictionary):toString$1.call(c.dictionary)==="[object ArrayBuffer]"?y=new Uint8Array(c.dictionary):y=c.dictionary,d=deflate_1$2.deflateSetDictionary(this.strm,y),d!==Z_OK$2)throw new Error(messages[d]);this._dict_set=!0}}Deflate$1.prototype.push=function(u,c){const d=this.strm,y=this.options.chunkSize;let gr,_r;if(this.ended)return!1;for(c===~~c?_r=c:_r=c===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof u=="string"?d.input=strings.string2buf(u):toString$1.call(u)==="[object ArrayBuffer]"?d.input=new Uint8Array(u):d.input=u,d.next_in=0,d.avail_in=d.input.length;;){if(d.avail_out===0&&(d.output=new Uint8Array(y),d.next_out=0,d.avail_out=y),(_r===Z_SYNC_FLUSH||_r===Z_FULL_FLUSH)&&d.avail_out<=6){this.onData(d.output.subarray(0,d.next_out)),d.avail_out=0;continue}if(gr=deflate_1$2.deflate(d,_r),gr===Z_STREAM_END$2)return d.next_out>0&&this.onData(d.output.subarray(0,d.next_out)),gr=deflate_1$2.deflateEnd(this.strm),this.onEnd(gr),this.ended=!0,gr===Z_OK$2;if(d.avail_out===0){this.onData(d.output);continue}if(_r>0&&d.next_out>0){this.onData(d.output.subarray(0,d.next_out)),d.avail_out=0;continue}if(d.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(u){this.chunks.push(u)};Deflate$1.prototype.onEnd=function(u){u===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg};const BAD$1=30,TYPE$1=12;var inffast=function u(c,d){let y,gr,_r,br,wr,Er,Or,xr,kr,Mr,Cr,Nr,Ur,Dr,zr,Zr,Wr,tn,rn,Jr,Qr,an,mn,fn;const gn=c.state;y=c.next_in,mn=c.input,gr=y+(c.avail_in-5),_r=c.next_out,fn=c.output,br=_r-(d-c.avail_out),wr=_r+(c.avail_out-257),Er=gn.dmax,Or=gn.wsize,xr=gn.whave,kr=gn.wnext,Mr=gn.window,Cr=gn.hold,Nr=gn.bits,Ur=gn.lencode,Dr=gn.distcode,zr=(1<<gn.lenbits)-1,Zr=(1<<gn.distbits)-1;e:do{Nr<15&&(Cr+=mn[y++]<<Nr,Nr+=8,Cr+=mn[y++]<<Nr,Nr+=8),Wr=Ur[Cr&zr];t:for(;;){if(tn=Wr>>>24,Cr>>>=tn,Nr-=tn,tn=Wr>>>16&255,tn===0)fn[_r++]=Wr&65535;else if(tn&16){rn=Wr&65535,tn&=15,tn&&(Nr<tn&&(Cr+=mn[y++]<<Nr,Nr+=8),rn+=Cr&(1<<tn)-1,Cr>>>=tn,Nr-=tn),Nr<15&&(Cr+=mn[y++]<<Nr,Nr+=8,Cr+=mn[y++]<<Nr,Nr+=8),Wr=Dr[Cr&Zr];r:for(;;){if(tn=Wr>>>24,Cr>>>=tn,Nr-=tn,tn=Wr>>>16&255,tn&16){if(Jr=Wr&65535,tn&=15,Nr<tn&&(Cr+=mn[y++]<<Nr,Nr+=8,Nr<tn&&(Cr+=mn[y++]<<Nr,Nr+=8)),Jr+=Cr&(1<<tn)-1,Jr>Er){c.msg="invalid distance too far back",gn.mode=BAD$1;break e}if(Cr>>>=tn,Nr-=tn,tn=_r-br,Jr>tn){if(tn=Jr-tn,tn>xr&&gn.sane){c.msg="invalid distance too far back",gn.mode=BAD$1;break e}if(Qr=0,an=Mr,kr===0){if(Qr+=Or-tn,tn<rn){rn-=tn;do fn[_r++]=Mr[Qr++];while(--tn);Qr=_r-Jr,an=fn}}else if(kr<tn){if(Qr+=Or+kr-tn,tn-=kr,tn<rn){rn-=tn;do fn[_r++]=Mr[Qr++];while(--tn);if(Qr=0,kr<rn){tn=kr,rn-=tn;do fn[_r++]=Mr[Qr++];while(--tn);Qr=_r-Jr,an=fn}}}else if(Qr+=kr-tn,tn<rn){rn-=tn;do fn[_r++]=Mr[Qr++];while(--tn);Qr=_r-Jr,an=fn}for(;rn>2;)fn[_r++]=an[Qr++],fn[_r++]=an[Qr++],fn[_r++]=an[Qr++],rn-=3;rn&&(fn[_r++]=an[Qr++],rn>1&&(fn[_r++]=an[Qr++]))}else{Qr=_r-Jr;do fn[_r++]=fn[Qr++],fn[_r++]=fn[Qr++],fn[_r++]=fn[Qr++],rn-=3;while(rn>2);rn&&(fn[_r++]=fn[Qr++],rn>1&&(fn[_r++]=fn[Qr++]))}}else if((tn&64)===0){Wr=Dr[(Wr&65535)+(Cr&(1<<tn)-1)];continue r}else{c.msg="invalid distance code",gn.mode=BAD$1;break e}break}}else if((tn&64)===0){Wr=Ur[(Wr&65535)+(Cr&(1<<tn)-1)];continue t}else if(tn&32){gn.mode=TYPE$1;break e}else{c.msg="invalid literal/length code",gn.mode=BAD$1;break e}break}}while(y<gr&&_r<wr);rn=Nr>>3,y-=rn,Nr-=rn<<3,Cr&=(1<<Nr)-1,c.next_in=y,c.next_out=_r,c.avail_in=y<gr?5+(gr-y):5-(y-gr),c.avail_out=_r<wr?257+(wr-_r):257-(_r-wr),gn.hold=Cr,gn.bits=Nr};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(u,c,d,y,gr,_r,br,wr)=>{const Er=wr.bits;let Or=0,xr=0,kr=0,Mr=0,Cr=0,Nr=0,Ur=0,Dr=0,zr=0,Zr=0,Wr,tn,rn,Jr,Qr,an=null,mn=0,fn;const gn=new Uint16Array(MAXBITS+1),Sn=new Uint16Array(MAXBITS+1);let Fr=null,Rr=0,Lr,Vr,Yr;for(Or=0;Or<=MAXBITS;Or++)gn[Or]=0;for(xr=0;xr<y;xr++)gn[c[d+xr]]++;for(Cr=Er,Mr=MAXBITS;Mr>=1&&gn[Mr]===0;Mr--);if(Cr>Mr&&(Cr=Mr),Mr===0)return gr[_r++]=1<<24|64<<16|0,gr[_r++]=1<<24|64<<16|0,wr.bits=1,0;for(kr=1;kr<Mr&&gn[kr]===0;kr++);for(Cr<kr&&(Cr=kr),Dr=1,Or=1;Or<=MAXBITS;Or++)if(Dr<<=1,Dr-=gn[Or],Dr<0)return-1;if(Dr>0&&(u===CODES$1||Mr!==1))return-1;for(Sn[1]=0,Or=1;Or<MAXBITS;Or++)Sn[Or+1]=Sn[Or]+gn[Or];for(xr=0;xr<y;xr++)c[d+xr]!==0&&(br[Sn[c[d+xr]]++]=xr);if(u===CODES$1?(an=Fr=br,fn=19):u===LENS$1?(an=lbase,mn-=257,Fr=lext,Rr-=257,fn=256):(an=dbase,Fr=dext,fn=-1),Zr=0,xr=0,Or=kr,Qr=_r,Nr=Cr,Ur=0,rn=-1,zr=1<<Cr,Jr=zr-1,u===LENS$1&&zr>ENOUGH_LENS$1||u===DISTS$1&&zr>ENOUGH_DISTS$1)return 1;for(;;){Lr=Or-Ur,br[xr]<fn?(Vr=0,Yr=br[xr]):br[xr]>fn?(Vr=Fr[Rr+br[xr]],Yr=an[mn+br[xr]]):(Vr=32+64,Yr=0),Wr=1<<Or-Ur,tn=1<<Nr,kr=tn;do tn-=Wr,gr[Qr+(Zr>>Ur)+tn]=Lr<<24|Vr<<16|Yr|0;while(tn!==0);for(Wr=1<<Or-1;Zr&Wr;)Wr>>=1;if(Wr!==0?(Zr&=Wr-1,Zr+=Wr):Zr=0,xr++,--gn[Or]===0){if(Or===Mr)break;Or=c[d+br[xr]]}if(Or>Cr&&(Zr&Jr)!==rn){for(Ur===0&&(Ur=Cr),Qr+=kr,Nr=Or-Ur,Dr=1<<Nr;Nr+Ur<Mr&&(Dr-=gn[Nr+Ur],!(Dr<=0));)Nr++,Dr<<=1;if(zr+=1<<Nr,u===LENS$1&&zr>ENOUGH_LENS$1||u===DISTS$1&&zr>ENOUGH_DISTS$1)return 1;rn=Zr&Jr,gr[rn]=Cr<<24|Nr<<16|Qr-_r|0}}return Zr!==0&&(gr[Qr+Zr]=Or-Ur<<24|64<<16|0),wr.bits=Cr,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=u=>(u>>>24&255)+(u>>>8&65280)+((u&65280)<<8)+((u&255)<<24);function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateResetKeep=u=>{if(!u||!u.state)return Z_STREAM_ERROR$1;const c=u.state;return u.total_in=u.total_out=c.total=0,u.msg="",c.wrap&&(u.adler=c.wrap&1),c.mode=HEAD,c.last=0,c.havedict=0,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=new Int32Array(ENOUGH_LENS),c.distcode=c.distdyn=new Int32Array(ENOUGH_DISTS),c.sane=1,c.back=-1,Z_OK$1},inflateReset=u=>{if(!u||!u.state)return Z_STREAM_ERROR$1;const c=u.state;return c.wsize=0,c.whave=0,c.wnext=0,inflateResetKeep(u)},inflateReset2=(u,c)=>{let d;if(!u||!u.state)return Z_STREAM_ERROR$1;const y=u.state;return c<0?(d=0,c=-c):(d=(c>>4)+1,c<48&&(c&=15)),c&&(c<8||c>15)?Z_STREAM_ERROR$1:(y.window!==null&&y.wbits!==c&&(y.window=null),y.wrap=d,y.wbits=c,inflateReset(u))},inflateInit2=(u,c)=>{if(!u)return Z_STREAM_ERROR$1;const d=new InflateState;u.state=d,d.window=null;const y=inflateReset2(u,c);return y!==Z_OK$1&&(u.state=null),y},inflateInit=u=>inflateInit2(u,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=u=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let c=0;for(;c<144;)u.lens[c++]=8;for(;c<256;)u.lens[c++]=9;for(;c<280;)u.lens[c++]=7;for(;c<288;)u.lens[c++]=8;for(inftrees(LENS,u.lens,0,288,lenfix,0,u.work,{bits:9}),c=0;c<32;)u.lens[c++]=5;inftrees(DISTS,u.lens,0,32,distfix,0,u.work,{bits:5}),virgin=!1}u.lencode=lenfix,u.lenbits=9,u.distcode=distfix,u.distbits=5},updatewindow=(u,c,d,y)=>{let gr;const _r=u.state;return _r.window===null&&(_r.wsize=1<<_r.wbits,_r.wnext=0,_r.whave=0,_r.window=new Uint8Array(_r.wsize)),y>=_r.wsize?(_r.window.set(c.subarray(d-_r.wsize,d),0),_r.wnext=0,_r.whave=_r.wsize):(gr=_r.wsize-_r.wnext,gr>y&&(gr=y),_r.window.set(c.subarray(d-y,d-y+gr),_r.wnext),y-=gr,y?(_r.window.set(c.subarray(d-y,d),0),_r.wnext=y,_r.whave=_r.wsize):(_r.wnext+=gr,_r.wnext===_r.wsize&&(_r.wnext=0),_r.whave<_r.wsize&&(_r.whave+=gr))),0},inflate$2=(u,c)=>{let d,y,gr,_r,br,wr,Er,Or,xr,kr,Mr,Cr,Nr,Ur,Dr=0,zr,Zr,Wr,tn,rn,Jr,Qr,an;const mn=new Uint8Array(4);let fn,gn;const Sn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!u||!u.state||!u.output||!u.input&&u.avail_in!==0)return Z_STREAM_ERROR$1;d=u.state,d.mode===TYPE&&(d.mode=TYPEDO),br=u.next_out,gr=u.output,Er=u.avail_out,_r=u.next_in,y=u.input,wr=u.avail_in,Or=d.hold,xr=d.bits,kr=wr,Mr=Er,an=Z_OK$1;e:for(;;)switch(d.mode){case HEAD:if(d.wrap===0){d.mode=TYPEDO;break}for(;xr<16;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if(d.wrap&2&&Or===35615){d.check=0,mn[0]=Or&255,mn[1]=Or>>>8&255,d.check=crc32_1(d.check,mn,2,0),Or=0,xr=0,d.mode=FLAGS;break}if(d.flags=0,d.head&&(d.head.done=!1),!(d.wrap&1)||(((Or&255)<<8)+(Or>>8))%31){u.msg="incorrect header check",d.mode=BAD;break}if((Or&15)!==Z_DEFLATED){u.msg="unknown compression method",d.mode=BAD;break}if(Or>>>=4,xr-=4,Qr=(Or&15)+8,d.wbits===0)d.wbits=Qr;else if(Qr>d.wbits){u.msg="invalid window size",d.mode=BAD;break}d.dmax=1<<d.wbits,u.adler=d.check=1,d.mode=Or&512?DICTID:TYPE,Or=0,xr=0;break;case FLAGS:for(;xr<16;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if(d.flags=Or,(d.flags&255)!==Z_DEFLATED){u.msg="unknown compression method",d.mode=BAD;break}if(d.flags&57344){u.msg="unknown header flags set",d.mode=BAD;break}d.head&&(d.head.text=Or>>8&1),d.flags&512&&(mn[0]=Or&255,mn[1]=Or>>>8&255,d.check=crc32_1(d.check,mn,2,0)),Or=0,xr=0,d.mode=TIME;case TIME:for(;xr<32;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}d.head&&(d.head.time=Or),d.flags&512&&(mn[0]=Or&255,mn[1]=Or>>>8&255,mn[2]=Or>>>16&255,mn[3]=Or>>>24&255,d.check=crc32_1(d.check,mn,4,0)),Or=0,xr=0,d.mode=OS;case OS:for(;xr<16;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}d.head&&(d.head.xflags=Or&255,d.head.os=Or>>8),d.flags&512&&(mn[0]=Or&255,mn[1]=Or>>>8&255,d.check=crc32_1(d.check,mn,2,0)),Or=0,xr=0,d.mode=EXLEN;case EXLEN:if(d.flags&1024){for(;xr<16;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}d.length=Or,d.head&&(d.head.extra_len=Or),d.flags&512&&(mn[0]=Or&255,mn[1]=Or>>>8&255,d.check=crc32_1(d.check,mn,2,0)),Or=0,xr=0}else d.head&&(d.head.extra=null);d.mode=EXTRA;case EXTRA:if(d.flags&1024&&(Cr=d.length,Cr>wr&&(Cr=wr),Cr&&(d.head&&(Qr=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Uint8Array(d.head.extra_len)),d.head.extra.set(y.subarray(_r,_r+Cr),Qr)),d.flags&512&&(d.check=crc32_1(d.check,y,Cr,_r)),wr-=Cr,_r+=Cr,d.length-=Cr),d.length))break e;d.length=0,d.mode=NAME;case NAME:if(d.flags&2048){if(wr===0)break e;Cr=0;do Qr=y[_r+Cr++],d.head&&Qr&&d.length<65536&&(d.head.name+=String.fromCharCode(Qr));while(Qr&&Cr<wr);if(d.flags&512&&(d.check=crc32_1(d.check,y,Cr,_r)),wr-=Cr,_r+=Cr,Qr)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=COMMENT;case COMMENT:if(d.flags&4096){if(wr===0)break e;Cr=0;do Qr=y[_r+Cr++],d.head&&Qr&&d.length<65536&&(d.head.comment+=String.fromCharCode(Qr));while(Qr&&Cr<wr);if(d.flags&512&&(d.check=crc32_1(d.check,y,Cr,_r)),wr-=Cr,_r+=Cr,Qr)break e}else d.head&&(d.head.comment=null);d.mode=HCRC;case HCRC:if(d.flags&512){for(;xr<16;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if(Or!==(d.check&65535)){u.msg="header crc mismatch",d.mode=BAD;break}Or=0,xr=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),u.adler=d.check=0,d.mode=TYPE;break;case DICTID:for(;xr<32;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}u.adler=d.check=zswap32(Or),Or=0,xr=0,d.mode=DICT;case DICT:if(d.havedict===0)return u.next_out=br,u.avail_out=Er,u.next_in=_r,u.avail_in=wr,d.hold=Or,d.bits=xr,Z_NEED_DICT$1;u.adler=d.check=1,d.mode=TYPE;case TYPE:if(c===Z_BLOCK||c===Z_TREES)break e;case TYPEDO:if(d.last){Or>>>=xr&7,xr-=xr&7,d.mode=CHECK;break}for(;xr<3;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}switch(d.last=Or&1,Or>>>=1,xr-=1,Or&3){case 0:d.mode=STORED;break;case 1:if(fixedtables(d),d.mode=LEN_,c===Z_TREES){Or>>>=2,xr-=2;break e}break;case 2:d.mode=TABLE;break;case 3:u.msg="invalid block type",d.mode=BAD}Or>>>=2,xr-=2;break;case STORED:for(Or>>>=xr&7,xr-=xr&7;xr<32;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if((Or&65535)!==(Or>>>16^65535)){u.msg="invalid stored block lengths",d.mode=BAD;break}if(d.length=Or&65535,Or=0,xr=0,d.mode=COPY_,c===Z_TREES)break e;case COPY_:d.mode=COPY;case COPY:if(Cr=d.length,Cr){if(Cr>wr&&(Cr=wr),Cr>Er&&(Cr=Er),Cr===0)break e;gr.set(y.subarray(_r,_r+Cr),br),wr-=Cr,_r+=Cr,Er-=Cr,br+=Cr,d.length-=Cr;break}d.mode=TYPE;break;case TABLE:for(;xr<14;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if(d.nlen=(Or&31)+257,Or>>>=5,xr-=5,d.ndist=(Or&31)+1,Or>>>=5,xr-=5,d.ncode=(Or&15)+4,Or>>>=4,xr-=4,d.nlen>286||d.ndist>30){u.msg="too many length or distance symbols",d.mode=BAD;break}d.have=0,d.mode=LENLENS;case LENLENS:for(;d.have<d.ncode;){for(;xr<3;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}d.lens[Sn[d.have++]]=Or&7,Or>>>=3,xr-=3}for(;d.have<19;)d.lens[Sn[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,fn={bits:d.lenbits},an=inftrees(CODES,d.lens,0,19,d.lencode,0,d.work,fn),d.lenbits=fn.bits,an){u.msg="invalid code lengths set",d.mode=BAD;break}d.have=0,d.mode=CODELENS;case CODELENS:for(;d.have<d.nlen+d.ndist;){for(;Dr=d.lencode[Or&(1<<d.lenbits)-1],zr=Dr>>>24,Zr=Dr>>>16&255,Wr=Dr&65535,!(zr<=xr);){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if(Wr<16)Or>>>=zr,xr-=zr,d.lens[d.have++]=Wr;else{if(Wr===16){for(gn=zr+2;xr<gn;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if(Or>>>=zr,xr-=zr,d.have===0){u.msg="invalid bit length repeat",d.mode=BAD;break}Qr=d.lens[d.have-1],Cr=3+(Or&3),Or>>>=2,xr-=2}else if(Wr===17){for(gn=zr+3;xr<gn;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}Or>>>=zr,xr-=zr,Qr=0,Cr=3+(Or&7),Or>>>=3,xr-=3}else{for(gn=zr+7;xr<gn;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}Or>>>=zr,xr-=zr,Qr=0,Cr=11+(Or&127),Or>>>=7,xr-=7}if(d.have+Cr>d.nlen+d.ndist){u.msg="invalid bit length repeat",d.mode=BAD;break}for(;Cr--;)d.lens[d.have++]=Qr}}if(d.mode===BAD)break;if(d.lens[256]===0){u.msg="invalid code -- missing end-of-block",d.mode=BAD;break}if(d.lenbits=9,fn={bits:d.lenbits},an=inftrees(LENS,d.lens,0,d.nlen,d.lencode,0,d.work,fn),d.lenbits=fn.bits,an){u.msg="invalid literal/lengths set",d.mode=BAD;break}if(d.distbits=6,d.distcode=d.distdyn,fn={bits:d.distbits},an=inftrees(DISTS,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,fn),d.distbits=fn.bits,an){u.msg="invalid distances set",d.mode=BAD;break}if(d.mode=LEN_,c===Z_TREES)break e;case LEN_:d.mode=LEN;case LEN:if(wr>=6&&Er>=258){u.next_out=br,u.avail_out=Er,u.next_in=_r,u.avail_in=wr,d.hold=Or,d.bits=xr,inffast(u,Mr),br=u.next_out,gr=u.output,Er=u.avail_out,_r=u.next_in,y=u.input,wr=u.avail_in,Or=d.hold,xr=d.bits,d.mode===TYPE&&(d.back=-1);break}for(d.back=0;Dr=d.lencode[Or&(1<<d.lenbits)-1],zr=Dr>>>24,Zr=Dr>>>16&255,Wr=Dr&65535,!(zr<=xr);){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if(Zr&&(Zr&240)===0){for(tn=zr,rn=Zr,Jr=Wr;Dr=d.lencode[Jr+((Or&(1<<tn+rn)-1)>>tn)],zr=Dr>>>24,Zr=Dr>>>16&255,Wr=Dr&65535,!(tn+zr<=xr);){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}Or>>>=tn,xr-=tn,d.back+=tn}if(Or>>>=zr,xr-=zr,d.back+=zr,d.length=Wr,Zr===0){d.mode=LIT;break}if(Zr&32){d.back=-1,d.mode=TYPE;break}if(Zr&64){u.msg="invalid literal/length code",d.mode=BAD;break}d.extra=Zr&15,d.mode=LENEXT;case LENEXT:if(d.extra){for(gn=d.extra;xr<gn;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}d.length+=Or&(1<<d.extra)-1,Or>>>=d.extra,xr-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=DIST;case DIST:for(;Dr=d.distcode[Or&(1<<d.distbits)-1],zr=Dr>>>24,Zr=Dr>>>16&255,Wr=Dr&65535,!(zr<=xr);){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if((Zr&240)===0){for(tn=zr,rn=Zr,Jr=Wr;Dr=d.distcode[Jr+((Or&(1<<tn+rn)-1)>>tn)],zr=Dr>>>24,Zr=Dr>>>16&255,Wr=Dr&65535,!(tn+zr<=xr);){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}Or>>>=tn,xr-=tn,d.back+=tn}if(Or>>>=zr,xr-=zr,d.back+=zr,Zr&64){u.msg="invalid distance code",d.mode=BAD;break}d.offset=Wr,d.extra=Zr&15,d.mode=DISTEXT;case DISTEXT:if(d.extra){for(gn=d.extra;xr<gn;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}d.offset+=Or&(1<<d.extra)-1,Or>>>=d.extra,xr-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){u.msg="invalid distance too far back",d.mode=BAD;break}d.mode=MATCH;case MATCH:if(Er===0)break e;if(Cr=Mr-Er,d.offset>Cr){if(Cr=d.offset-Cr,Cr>d.whave&&d.sane){u.msg="invalid distance too far back",d.mode=BAD;break}Cr>d.wnext?(Cr-=d.wnext,Nr=d.wsize-Cr):Nr=d.wnext-Cr,Cr>d.length&&(Cr=d.length),Ur=d.window}else Ur=gr,Nr=br-d.offset,Cr=d.length;Cr>Er&&(Cr=Er),Er-=Cr,d.length-=Cr;do gr[br++]=Ur[Nr++];while(--Cr);d.length===0&&(d.mode=LEN);break;case LIT:if(Er===0)break e;gr[br++]=d.length,Er--,d.mode=LEN;break;case CHECK:if(d.wrap){for(;xr<32;){if(wr===0)break e;wr--,Or|=y[_r++]<<xr,xr+=8}if(Mr-=Er,u.total_out+=Mr,d.total+=Mr,Mr&&(u.adler=d.check=d.flags?crc32_1(d.check,gr,Mr,br-Mr):adler32_1(d.check,gr,Mr,br-Mr)),Mr=Er,(d.flags?Or:zswap32(Or))!==d.check){u.msg="incorrect data check",d.mode=BAD;break}Or=0,xr=0}d.mode=LENGTH;case LENGTH:if(d.wrap&&d.flags){for(;xr<32;){if(wr===0)break e;wr--,Or+=y[_r++]<<xr,xr+=8}if(Or!==(d.total&4294967295)){u.msg="incorrect length check",d.mode=BAD;break}Or=0,xr=0}d.mode=DONE;case DONE:an=Z_STREAM_END$1;break e;case BAD:an=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return u.next_out=br,u.avail_out=Er,u.next_in=_r,u.avail_in=wr,d.hold=Or,d.bits=xr,(d.wsize||Mr!==u.avail_out&&d.mode<BAD&&(d.mode<CHECK||c!==Z_FINISH$1))&&updatewindow(u,u.output,u.next_out,Mr-u.avail_out),kr-=u.avail_in,Mr-=u.avail_out,u.total_in+=kr,u.total_out+=Mr,d.total+=Mr,d.wrap&&Mr&&(u.adler=d.check=d.flags?crc32_1(d.check,gr,Mr,u.next_out-Mr):adler32_1(d.check,gr,Mr,u.next_out-Mr)),u.data_type=d.bits+(d.last?64:0)+(d.mode===TYPE?128:0)+(d.mode===LEN_||d.mode===COPY_?256:0),(kr===0&&Mr===0||c===Z_FINISH$1)&&an===Z_OK$1&&(an=Z_BUF_ERROR),an},inflateEnd=u=>{if(!u||!u.state)return Z_STREAM_ERROR$1;let c=u.state;return c.window&&(c.window=null),u.state=null,Z_OK$1},inflateGetHeader=(u,c)=>{if(!u||!u.state)return Z_STREAM_ERROR$1;const d=u.state;return(d.wrap&2)===0?Z_STREAM_ERROR$1:(d.head=c,c.done=!1,Z_OK$1)},inflateSetDictionary=(u,c)=>{const d=c.length;let y,gr,_r;return!u||!u.state||(y=u.state,y.wrap!==0&&y.mode!==DICT)?Z_STREAM_ERROR$1:y.mode===DICT&&(gr=1,gr=adler32_1(gr,c,d,0),gr!==y.check)?Z_DATA_ERROR$1:(_r=updatewindow(u,c,d,d),_r?(y.mode=MEM,Z_MEM_ERROR$1):(y.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(u){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},u||{});const c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),c.windowBits>=0&&c.windowBits<16&&!(u&&u.windowBits)&&(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&(c.windowBits&15)===0&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let d=inflate_1$2.inflateInit2(this.strm,c.windowBits);if(d!==Z_OK)throw new Error(messages[d]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),c.dictionary&&(typeof c.dictionary=="string"?c.dictionary=strings.string2buf(c.dictionary):toString$2.call(c.dictionary)==="[object ArrayBuffer]"&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(d=inflate_1$2.inflateSetDictionary(this.strm,c.dictionary),d!==Z_OK)))throw new Error(messages[d])}Inflate$1.prototype.push=function(u,c){const d=this.strm,y=this.options.chunkSize,gr=this.options.dictionary;let _r,br,wr;if(this.ended)return!1;for(c===~~c?br=c:br=c===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(u)==="[object ArrayBuffer]"?d.input=new Uint8Array(u):d.input=u,d.next_in=0,d.avail_in=d.input.length;;){for(d.avail_out===0&&(d.output=new Uint8Array(y),d.next_out=0,d.avail_out=y),_r=inflate_1$2.inflate(d,br),_r===Z_NEED_DICT&&gr&&(_r=inflate_1$2.inflateSetDictionary(d,gr),_r===Z_OK?_r=inflate_1$2.inflate(d,br):_r===Z_DATA_ERROR&&(_r=Z_NEED_DICT));d.avail_in>0&&_r===Z_STREAM_END&&d.state.wrap>0&&u[d.next_in]!==0;)inflate_1$2.inflateReset(d),_r=inflate_1$2.inflate(d,br);switch(_r){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(_r),this.ended=!0,!1}if(wr=d.avail_out,d.next_out&&(d.avail_out===0||_r===Z_STREAM_END))if(this.options.to==="string"){let Er=strings.utf8border(d.output,d.next_out),Or=d.next_out-Er,xr=strings.buf2string(d.output,Er);d.next_out=Or,d.avail_out=y-Or,Or&&d.output.set(d.output.subarray(Er,Er+Or),0),this.onData(xr)}else this.onData(d.output.length===d.next_out?d.output:d.output.subarray(0,d.next_out));if(!(_r===Z_OK&&wr===0)){if(_r===Z_STREAM_END)return _r=inflate_1$2.inflateEnd(this.strm),this.onEnd(_r),this.ended=!0,!0;if(d.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(u){this.chunks.push(u)};Inflate$1.prototype.onEnd=function(u){u===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg};function inflate$1(u,c){const d=new Inflate$1(c);if(d.push(u),d.err)throw d.msg||messages[d.err];return d.result}function inflateRaw$1(u,c){return c=c||{},c.raw=!0,inflate$1(u,c)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate,assert$1={exports:{}},errors={},util$1={},types$3={},shams$1=function u(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var c={},d=Symbol("test"),y=Object(d);if(typeof d=="string"||Object.prototype.toString.call(d)!=="[object Symbol]"||Object.prototype.toString.call(y)!=="[object Symbol]")return!1;var gr=42;c[d]=gr;for(d in c)return!1;if(typeof Object.keys=="function"&&Object.keys(c).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(c).length!==0)return!1;var _r=Object.getOwnPropertySymbols(c);if(_r.length!==1||_r[0]!==d||!Object.prototype.propertyIsEnumerable.call(c,d))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var br=Object.getOwnPropertyDescriptor(c,d);if(br.value!==gr||br.enumerable!==!0)return!1}return!0},hasSymbols$1=shams$1,shams=function u(){return hasSymbols$1()&&!!Symbol.toStringTag},hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var u=typeof Symbol<"u"&&Symbol,c=shams$1;return hasSymbols=function(){return typeof u!="function"||typeof Symbol!="function"||typeof u("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:c()},hasSymbols}var implementation$3,hasRequiredImplementation$3;function requireImplementation$3(){if(hasRequiredImplementation$3)return implementation$3;hasRequiredImplementation$3=1;var u="Function.prototype.bind called on incompatible ",c=Array.prototype.slice,d=Object.prototype.toString,y="[object Function]";return implementation$3=function(_r){var br=this;if(typeof br!="function"||d.call(br)!==y)throw new TypeError(u+br);for(var wr=c.call(arguments,1),Er,Or=function(){if(this instanceof Er){var Nr=br.apply(this,wr.concat(c.call(arguments)));return Object(Nr)===Nr?Nr:this}else return br.apply(_r,wr.concat(c.call(arguments)))},xr=Math.max(0,br.length-wr.length),kr=[],Mr=0;Mr<xr;Mr++)kr.push("$"+Mr);if(Er=Function("binder","return function ("+kr.join(",")+"){ return binder.apply(this,arguments); }")(Or),br.prototype){var Cr=function(){};Cr.prototype=br.prototype,Er.prototype=new Cr,Cr.prototype=null}return Er},implementation$3}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var u=requireImplementation$3();return functionBind=Function.prototype.bind||u,functionBind}var src,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;var u=requireFunctionBind();return src=u.call(Function.call,Object.prototype.hasOwnProperty),src}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var u,c=SyntaxError,d=Function,y=TypeError,gr=function(fn){try{return d('"use strict"; return ('+fn+").constructor;")()}catch{}},_r=Object.getOwnPropertyDescriptor;if(_r)try{_r({},"")}catch{_r=null}var br=function(){throw new y},wr=_r?function(){try{return arguments.callee,br}catch{try{return _r(arguments,"callee").get}catch{return br}}}():br,Er=requireHasSymbols()(),Or=Object.getPrototypeOf||function(fn){return fn.__proto__},xr={},kr=typeof Uint8Array>"u"?u:Or(Uint8Array),Mr={"%AggregateError%":typeof AggregateError>"u"?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayIteratorPrototype%":Er?Or([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":xr,"%AsyncGenerator%":xr,"%AsyncGeneratorFunction%":xr,"%AsyncIteratorPrototype%":xr,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%BigInt%":typeof BigInt>"u"?u:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?u:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":xr,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Er?Or(Or([][Symbol.iterator]())):u,"%JSON%":typeof JSON=="object"?JSON:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Er?u:Or(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Er?u:Or(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Er?Or(""[Symbol.iterator]()):u,"%Symbol%":Er?Symbol:u,"%SyntaxError%":c,"%ThrowTypeError%":wr,"%TypedArray%":kr,"%TypeError%":y,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakRef%":typeof WeakRef>"u"?u:WeakRef,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet},Cr=function fn(gn){var Sn;if(gn==="%AsyncFunction%")Sn=gr("async function () {}");else if(gn==="%GeneratorFunction%")Sn=gr("function* () {}");else if(gn==="%AsyncGeneratorFunction%")Sn=gr("async function* () {}");else if(gn==="%AsyncGenerator%"){var Fr=fn("%AsyncGeneratorFunction%");Fr&&(Sn=Fr.prototype)}else if(gn==="%AsyncIteratorPrototype%"){var Rr=fn("%AsyncGenerator%");Rr&&(Sn=Or(Rr.prototype))}return Mr[gn]=Sn,Sn},Nr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ur=requireFunctionBind(),Dr=requireSrc(),zr=Ur.call(Function.call,Array.prototype.concat),Zr=Ur.call(Function.apply,Array.prototype.splice),Wr=Ur.call(Function.call,String.prototype.replace),tn=Ur.call(Function.call,String.prototype.slice),rn=Ur.call(Function.call,RegExp.prototype.exec),Jr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qr=/\\(\\)?/g,an=function(gn){var Sn=tn(gn,0,1),Fr=tn(gn,-1);if(Sn==="%"&&Fr!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Fr==="%"&&Sn!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var Rr=[];return Wr(gn,Jr,function(Lr,Vr,Yr,Xr){Rr[Rr.length]=Yr?Wr(Xr,Qr,"$1"):Vr||Lr}),Rr},mn=function(gn,Sn){var Fr=gn,Rr;if(Dr(Nr,Fr)&&(Rr=Nr[Fr],Fr="%"+Rr[0]+"%"),Dr(Mr,Fr)){var Lr=Mr[Fr];if(Lr===xr&&(Lr=Cr(Fr)),typeof Lr>"u"&&!Sn)throw new y("intrinsic "+gn+" exists, but is not available. Please file an issue!");return{alias:Rr,name:Fr,value:Lr}}throw new c("intrinsic "+gn+" does not exist!")};return getIntrinsic=function(gn,Sn){if(typeof gn!="string"||gn.length===0)throw new y("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Sn!="boolean")throw new y('"allowMissing" argument must be a boolean');if(rn(/^%?[^%]*%?$/,gn)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Fr=an(gn),Rr=Fr.length>0?Fr[0]:"",Lr=mn("%"+Rr+"%",Sn),Vr=Lr.name,Yr=Lr.value,Xr=!1,hn=Lr.alias;hn&&(Rr=hn[0],Zr(Fr,zr([0,1],hn)));for(var En=1,qr=!0;En<Fr.length;En+=1){var Br=Fr[En],Hr=tn(Br,0,1),_n=tn(Br,-1);if((Hr==='"'||Hr==="'"||Hr==="`"||_n==='"'||_n==="'"||_n==="`")&&Hr!==_n)throw new c("property names with quotes must have matching quotes");if((Br==="constructor"||!qr)&&(Xr=!0),Rr+="."+Br,Vr="%"+Rr+"%",Dr(Mr,Vr))Yr=Mr[Vr];else if(Yr!=null){if(!(Br in Yr)){if(!Sn)throw new y("base intrinsic for "+gn+" exists, but the property is not available.");return}if(_r&&En+1>=Fr.length){var on=_r(Yr,Br);qr=!!on,qr&&"get"in on&&!("originalValue"in on.get)?Yr=on.get:Yr=Yr[Br]}else qr=Dr(Yr,Br),Yr=Yr[Br];qr&&!Xr&&(Mr[Vr]=Yr)}}return Yr},getIntrinsic}var callBind$1={exports:{}},hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(u){var c=requireFunctionBind(),d=requireGetIntrinsic(),y=d("%Function.prototype.apply%"),gr=d("%Function.prototype.call%"),_r=d("%Reflect.apply%",!0)||c.call(gr,y),br=d("%Object.getOwnPropertyDescriptor%",!0),wr=d("%Object.defineProperty%",!0),Er=d("%Math.max%");if(wr)try{wr({},"a",{value:1})}catch{wr=null}u.exports=function(kr){var Mr=_r(c,gr,arguments);if(br&&wr){var Cr=br(Mr,"length");Cr.configurable&&wr(Mr,"length",{value:1+Er(0,kr.length-(arguments.length-1))})}return Mr};var Or=function(){return _r(c,y,arguments)};wr?wr(u.exports,"apply",{value:Or}):u.exports.apply=Or}(callBind$1)),callBind$1.exports}var GetIntrinsic=requireGetIntrinsic(),callBind=requireCallBind(),$indexOf$1=callBind(GetIntrinsic("String.prototype.indexOf")),callBound$3=function u(c,d){var y=GetIntrinsic(c,!!d);return typeof y=="function"&&$indexOf$1(c,".prototype.")>-1?callBind(y):y},hasToStringTag$4=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function u(c){return hasToStringTag$4&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:$toString$2(c)==="[object Arguments]"},isLegacyArguments=function u(c){return isStandardArguments(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&$toString$2(c)!=="[object Array]"&&$toString$2(c.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$2=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function u(c){if(typeof c!="function")return!1;if(isFnRegex.test(fnToStr$1.call(c)))return!0;if(!hasToStringTag$3){var d=toStr$2.call(c);return d==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var y=getGeneratorFunc();GeneratorFunction=y?getProto(y):!1}return getProto(c)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(u){u!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function u(c){try{var d=fnToStr.call(c);return constructorRegex.test(d)}catch{return!1}},tryFunctionObject=function u(c){try{return isES6ClassFn(c)?!1:(fnToStr.call(c),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function u(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(c){if((isIE68||!c)&&(typeof c>"u"||typeof c=="object"))try{var d=toStr$1.call(c);return(d===ddaClass||d===objectClass)&&c("")==null}catch{}return!1})}var isCallable$1=reflectApply?function u(c){if(isDDA(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(typeof c=="function"&&!c.prototype)return!0;try{reflectApply(c,null,badArrayLike)}catch(d){if(d!==isCallableMarker)return!1}return!isES6ClassFn(c)}:function u(c){if(isDDA(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(hasToStringTag$2)return tryFunctionObject(c);if(isES6ClassFn(c))return!1;var d=toStr$1.call(c);return d===fnClass||d===genClass||tryFunctionObject(c)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function u(c,d,y){for(var gr=0,_r=c.length;gr<_r;gr++)hasOwnProperty$1.call(c,gr)&&(y==null?d(c[gr],gr,c):d.call(y,c[gr],gr,c))},forEachString=function u(c,d,y){for(var gr=0,_r=c.length;gr<_r;gr++)y==null?d(c.charAt(gr),gr,c):d.call(y,c.charAt(gr),gr,c)},forEachObject=function u(c,d,y){for(var gr in c)hasOwnProperty$1.call(c,gr)&&(y==null?d(c[gr],gr,c):d.call(y,c[gr],gr,c))},forEach$2=function u(c,d,y){if(!isCallable(d))throw new TypeError("iterator must be a function");var gr;arguments.length>=3&&(gr=y),toStr.call(c)==="[object Array]"?forEachArray(c,d,gr):typeof c=="string"?forEachString(c,d,gr):forEachObject(c,d,gr)},forEach_1=forEach$2,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$3=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$2=function u(){for(var c=[],d=0;d<possibleNames.length;d++)typeof g$3[possibleNames[d]]=="function"&&(c[c.length]=possibleNames[d]);return c},getOwnPropertyDescriptor,hasRequiredGetOwnPropertyDescriptor;function requireGetOwnPropertyDescriptor(){if(hasRequiredGetOwnPropertyDescriptor)return getOwnPropertyDescriptor;hasRequiredGetOwnPropertyDescriptor=1;var u=requireGetIntrinsic(),c=u("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}return getOwnPropertyDescriptor=c,getOwnPropertyDescriptor}var forEach$1=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function u(c,d){for(var y=0;y<c.length;y+=1)if(c[y]===d)return y;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=requireGetOwnPropertyDescriptor(),getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(u){var c=new g$2[u];if(Symbol.toStringTag in c){var d=getPrototypeOf$1(c),y=gOPD$1(d,Symbol.toStringTag);if(!y){var gr=getPrototypeOf$1(d);y=gOPD$1(gr,Symbol.toStringTag)}toStrTags$1[u]=y.get}});var tryTypedArrays$1=function u(c){var d=!1;return forEach$1(toStrTags$1,function(y,gr){if(!d)try{d=y.call(c)===gr}catch{}}),d},isTypedArray$1=function u(c){if(!c||typeof c!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in c)){var d=$slice$1($toString$1(c),8,-1);return $indexOf(typedArrays$1,d)>-1}return gOPD$1?tryTypedArrays$1(c):!1},forEach=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=requireGetOwnPropertyDescriptor(),getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(u){if(typeof g$1[u]=="function"){var c=new g$1[u];if(Symbol.toStringTag in c){var d=getPrototypeOf(c),y=gOPD(d,Symbol.toStringTag);if(!y){var gr=getPrototypeOf(d);y=gOPD(gr,Symbol.toStringTag)}toStrTags[u]=y.get}}});var tryTypedArrays=function u(c){var d=!1;return forEach(toStrTags,function(y,gr){if(!d)try{var _r=y.call(c);_r===gr&&(d=_r)}catch{}}),d},isTypedArray=isTypedArray$1,whichTypedArray=function u(c){return isTypedArray(c)?!hasToStringTag||!(Symbol.toStringTag in c)?$slice($toString(c),8,-1):tryTypedArrays(c):!1};(function(u){var c=isArguments$2,d=isGeneratorFunction,y=whichTypedArray,gr=isTypedArray$1;function _r(xn){return xn.call.bind(xn)}var br=typeof BigInt<"u",wr=typeof Symbol<"u",Er=_r(Object.prototype.toString),Or=_r(Number.prototype.valueOf),xr=_r(String.prototype.valueOf),kr=_r(Boolean.prototype.valueOf);if(br)var Mr=_r(BigInt.prototype.valueOf);if(wr)var Cr=_r(Symbol.prototype.valueOf);function Nr(xn,Un){if(typeof xn!="object")return!1;try{return Un(xn),!0}catch{return!1}}u.isArgumentsObject=c,u.isGeneratorFunction=d,u.isTypedArray=gr;function Ur(xn){return typeof Promise<"u"&&xn instanceof Promise||xn!==null&&typeof xn=="object"&&typeof xn.then=="function"&&typeof xn.catch=="function"}u.isPromise=Ur;function Dr(xn){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(xn):gr(xn)||Hr(xn)}u.isArrayBufferView=Dr;function zr(xn){return y(xn)==="Uint8Array"}u.isUint8Array=zr;function Zr(xn){return y(xn)==="Uint8ClampedArray"}u.isUint8ClampedArray=Zr;function Wr(xn){return y(xn)==="Uint16Array"}u.isUint16Array=Wr;function tn(xn){return y(xn)==="Uint32Array"}u.isUint32Array=tn;function rn(xn){return y(xn)==="Int8Array"}u.isInt8Array=rn;function Jr(xn){return y(xn)==="Int16Array"}u.isInt16Array=Jr;function Qr(xn){return y(xn)==="Int32Array"}u.isInt32Array=Qr;function an(xn){return y(xn)==="Float32Array"}u.isFloat32Array=an;function mn(xn){return y(xn)==="Float64Array"}u.isFloat64Array=mn;function fn(xn){return y(xn)==="BigInt64Array"}u.isBigInt64Array=fn;function gn(xn){return y(xn)==="BigUint64Array"}u.isBigUint64Array=gn;function Sn(xn){return Er(xn)==="[object Map]"}Sn.working=typeof Map<"u"&&Sn(new Map);function Fr(xn){return typeof Map>"u"?!1:Sn.working?Sn(xn):xn instanceof Map}u.isMap=Fr;function Rr(xn){return Er(xn)==="[object Set]"}Rr.working=typeof Set<"u"&&Rr(new Set);function Lr(xn){return typeof Set>"u"?!1:Rr.working?Rr(xn):xn instanceof Set}u.isSet=Lr;function Vr(xn){return Er(xn)==="[object WeakMap]"}Vr.working=typeof WeakMap<"u"&&Vr(new WeakMap);function Yr(xn){return typeof WeakMap>"u"?!1:Vr.working?Vr(xn):xn instanceof WeakMap}u.isWeakMap=Yr;function Xr(xn){return Er(xn)==="[object WeakSet]"}Xr.working=typeof WeakSet<"u"&&Xr(new WeakSet);function hn(xn){return Xr(xn)}u.isWeakSet=hn;function En(xn){return Er(xn)==="[object ArrayBuffer]"}En.working=typeof ArrayBuffer<"u"&&En(new ArrayBuffer);function qr(xn){return typeof ArrayBuffer>"u"?!1:En.working?En(xn):xn instanceof ArrayBuffer}u.isArrayBuffer=qr;function Br(xn){return Er(xn)==="[object DataView]"}Br.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Br(new DataView(new ArrayBuffer(1),0,1));function Hr(xn){return typeof DataView>"u"?!1:Br.working?Br(xn):xn instanceof DataView}u.isDataView=Hr;var _n=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function on(xn){return Er(xn)==="[object SharedArrayBuffer]"}function sn(xn){return typeof _n>"u"?!1:(typeof on.working>"u"&&(on.working=on(new _n)),on.working?on(xn):xn instanceof _n)}u.isSharedArrayBuffer=sn;function yn(xn){return Er(xn)==="[object AsyncFunction]"}u.isAsyncFunction=yn;function wn(xn){return Er(xn)==="[object Map Iterator]"}u.isMapIterator=wn;function In(xn){return Er(xn)==="[object Set Iterator]"}u.isSetIterator=In;function Mn(xn){return Er(xn)==="[object Generator]"}u.isGeneratorObject=Mn;function Ln(xn){return Er(xn)==="[object WebAssembly.Module]"}u.isWebAssemblyCompiledModule=Ln;function Cn(xn){return Nr(xn,Or)}u.isNumberObject=Cn;function ln(xn){return Nr(xn,xr)}u.isStringObject=ln;function pn(xn){return Nr(xn,kr)}u.isBooleanObject=pn;function On(xn){return br&&Nr(xn,Mr)}u.isBigIntObject=On;function Nn(xn){return wr&&Nr(xn,Cr)}u.isSymbolObject=Nn;function kn(xn){return Cn(xn)||ln(xn)||pn(xn)||On(xn)||Nn(xn)}u.isBoxedPrimitive=kn;function Fn(xn){return typeof Uint8Array<"u"&&(qr(xn)||sn(xn))}u.isAnyArrayBuffer=Fn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(xn){Object.defineProperty(u,xn,{enumerable:!1,value:function(){throw new Error(xn+" is not supported in userland")}})})})(types$3);var isBufferBrowser=function u(c){return c&&typeof c=="object"&&typeof c.copy=="function"&&typeof c.fill=="function"&&typeof c.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(c,d){d&&(c.super_=d,c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(c,d){if(d){c.super_=d;var y=function(){};y.prototype=d.prototype,c.prototype=new y,c.prototype.constructor=c}};(function(u){var c=Object.getOwnPropertyDescriptors||function(Hr){for(var _n=Object.keys(Hr),on={},sn=0;sn<_n.length;sn++)on[_n[sn]]=Object.getOwnPropertyDescriptor(Hr,_n[sn]);return on},d=/%[sdj%]/g;u.format=function(Br){if(!rn(Br)){for(var Hr=[],_n=0;_n<arguments.length;_n++)Hr.push(br(arguments[_n]));return Hr.join(" ")}for(var _n=1,on=arguments,sn=on.length,yn=String(Br).replace(d,function(In){if(In==="%%")return"%";if(_n>=sn)return In;switch(In){case"%s":return String(on[_n++]);case"%d":return Number(on[_n++]);case"%j":try{return JSON.stringify(on[_n++])}catch{return"[Circular]"}default:return In}}),wn=on[_n];_n<sn;wn=on[++_n])Zr(wn)||!mn(wn)?yn+=" "+wn:yn+=" "+br(wn);return yn},u.deprecate=function(Br,Hr){if(typeof process<"u"&&process.noDeprecation===!0)return Br;if(typeof process>"u")return function(){return u.deprecate(Br,Hr).apply(this,arguments)};var _n=!1;function on(){if(!_n){if(process.throwDeprecation)throw new Error(Hr);process.traceDeprecation?console.trace(Hr):console.error(Hr),_n=!0}return Br.apply(this,arguments)}return on};var y={},gr=/^$/;if(process.env.NODE_DEBUG){var _r=process.env.NODE_DEBUG;_r=_r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),gr=new RegExp("^"+_r+"$","i")}u.debuglog=function(Br){if(Br=Br.toUpperCase(),!y[Br])if(gr.test(Br)){var Hr=process.pid;y[Br]=function(){var _n=u.format.apply(u,arguments);console.error("%s %d: %s",Br,Hr,_n)}}else y[Br]=function(){};return y[Br]};function br(Br,Hr){var _n={seen:[],stylize:Er};return arguments.length>=3&&(_n.depth=arguments[2]),arguments.length>=4&&(_n.colors=arguments[3]),zr(Hr)?_n.showHidden=Hr:Hr&&u._extend(_n,Hr),Qr(_n.showHidden)&&(_n.showHidden=!1),Qr(_n.depth)&&(_n.depth=2),Qr(_n.colors)&&(_n.colors=!1),Qr(_n.customInspect)&&(_n.customInspect=!0),_n.colors&&(_n.stylize=wr),xr(_n,Br,_n.depth)}u.inspect=br,br.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},br.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function wr(Br,Hr){var _n=br.styles[Hr];return _n?"\x1B["+br.colors[_n][0]+"m"+Br+"\x1B["+br.colors[_n][1]+"m":Br}function Er(Br,Hr){return Br}function Or(Br){var Hr={};return Br.forEach(function(_n,on){Hr[_n]=!0}),Hr}function xr(Br,Hr,_n){if(Br.customInspect&&Hr&&Sn(Hr.inspect)&&Hr.inspect!==u.inspect&&!(Hr.constructor&&Hr.constructor.prototype===Hr)){var on=Hr.inspect(_n,Br);return rn(on)||(on=xr(Br,on,_n)),on}var sn=kr(Br,Hr);if(sn)return sn;var yn=Object.keys(Hr),wn=Or(yn);if(Br.showHidden&&(yn=Object.getOwnPropertyNames(Hr)),gn(Hr)&&(yn.indexOf("message")>=0||yn.indexOf("description")>=0))return Mr(Hr);if(yn.length===0){if(Sn(Hr)){var In=Hr.name?": "+Hr.name:"";return Br.stylize("[Function"+In+"]","special")}if(an(Hr))return Br.stylize(RegExp.prototype.toString.call(Hr),"regexp");if(fn(Hr))return Br.stylize(Date.prototype.toString.call(Hr),"date");if(gn(Hr))return Mr(Hr)}var Mn="",Ln=!1,Cn=["{","}"];if(Dr(Hr)&&(Ln=!0,Cn=["[","]"]),Sn(Hr)){var ln=Hr.name?": "+Hr.name:"";Mn=" [Function"+ln+"]"}if(an(Hr)&&(Mn=" "+RegExp.prototype.toString.call(Hr)),fn(Hr)&&(Mn=" "+Date.prototype.toUTCString.call(Hr)),gn(Hr)&&(Mn=" "+Mr(Hr)),yn.length===0&&(!Ln||Hr.length==0))return Cn[0]+Mn+Cn[1];if(_n<0)return an(Hr)?Br.stylize(RegExp.prototype.toString.call(Hr),"regexp"):Br.stylize("[Object]","special");Br.seen.push(Hr);var pn;return Ln?pn=Cr(Br,Hr,_n,wn,yn):pn=yn.map(function(On){return Nr(Br,Hr,_n,wn,On,Ln)}),Br.seen.pop(),Ur(pn,Mn,Cn)}function kr(Br,Hr){if(Qr(Hr))return Br.stylize("undefined","undefined");if(rn(Hr)){var _n="'"+JSON.stringify(Hr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Br.stylize(_n,"string")}if(tn(Hr))return Br.stylize(""+Hr,"number");if(zr(Hr))return Br.stylize(""+Hr,"boolean");if(Zr(Hr))return Br.stylize("null","null")}function Mr(Br){return"["+Error.prototype.toString.call(Br)+"]"}function Cr(Br,Hr,_n,on,sn){for(var yn=[],wn=0,In=Hr.length;wn<In;++wn)Xr(Hr,String(wn))?yn.push(Nr(Br,Hr,_n,on,String(wn),!0)):yn.push("");return sn.forEach(function(Mn){Mn.match(/^\d+$/)||yn.push(Nr(Br,Hr,_n,on,Mn,!0))}),yn}function Nr(Br,Hr,_n,on,sn,yn){var wn,In,Mn;if(Mn=Object.getOwnPropertyDescriptor(Hr,sn)||{value:Hr[sn]},Mn.get?Mn.set?In=Br.stylize("[Getter/Setter]","special"):In=Br.stylize("[Getter]","special"):Mn.set&&(In=Br.stylize("[Setter]","special")),Xr(on,sn)||(wn="["+sn+"]"),In||(Br.seen.indexOf(Mn.value)<0?(Zr(_n)?In=xr(Br,Mn.value,null):In=xr(Br,Mn.value,_n-1),In.indexOf(`
`)>-1&&(yn?In=In.split(`
`).map(function(Ln){return"  "+Ln}).join(`
`).substr(2):In=`
`+In.split(`
`).map(function(Ln){return"   "+Ln}).join(`
`))):In=Br.stylize("[Circular]","special")),Qr(wn)){if(yn&&sn.match(/^\d+$/))return In;wn=JSON.stringify(""+sn),wn.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(wn=wn.substr(1,wn.length-2),wn=Br.stylize(wn,"name")):(wn=wn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),wn=Br.stylize(wn,"string"))}return wn+": "+In}function Ur(Br,Hr,_n){var on=Br.reduce(function(sn,yn){return yn.indexOf(`
`)>=0,sn+yn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return on>60?_n[0]+(Hr===""?"":Hr+`
 `)+" "+Br.join(`,
  `)+" "+_n[1]:_n[0]+Hr+" "+Br.join(", ")+" "+_n[1]}u.types=types$3;function Dr(Br){return Array.isArray(Br)}u.isArray=Dr;function zr(Br){return typeof Br=="boolean"}u.isBoolean=zr;function Zr(Br){return Br===null}u.isNull=Zr;function Wr(Br){return Br==null}u.isNullOrUndefined=Wr;function tn(Br){return typeof Br=="number"}u.isNumber=tn;function rn(Br){return typeof Br=="string"}u.isString=rn;function Jr(Br){return typeof Br=="symbol"}u.isSymbol=Jr;function Qr(Br){return Br===void 0}u.isUndefined=Qr;function an(Br){return mn(Br)&&Rr(Br)==="[object RegExp]"}u.isRegExp=an,u.types.isRegExp=an;function mn(Br){return typeof Br=="object"&&Br!==null}u.isObject=mn;function fn(Br){return mn(Br)&&Rr(Br)==="[object Date]"}u.isDate=fn,u.types.isDate=fn;function gn(Br){return mn(Br)&&(Rr(Br)==="[object Error]"||Br instanceof Error)}u.isError=gn,u.types.isNativeError=gn;function Sn(Br){return typeof Br=="function"}u.isFunction=Sn;function Fr(Br){return Br===null||typeof Br=="boolean"||typeof Br=="number"||typeof Br=="string"||typeof Br=="symbol"||typeof Br>"u"}u.isPrimitive=Fr,u.isBuffer=isBufferBrowser;function Rr(Br){return Object.prototype.toString.call(Br)}function Lr(Br){return Br<10?"0"+Br.toString(10):Br.toString(10)}var Vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Yr(){var Br=new Date,Hr=[Lr(Br.getHours()),Lr(Br.getMinutes()),Lr(Br.getSeconds())].join(":");return[Br.getDate(),Vr[Br.getMonth()],Hr].join(" ")}u.log=function(){console.log("%s - %s",Yr(),u.format.apply(u,arguments))},u.inherits=inherits_browser.exports,u._extend=function(Br,Hr){if(!Hr||!mn(Hr))return Br;for(var _n=Object.keys(Hr),on=_n.length;on--;)Br[_n[on]]=Hr[_n[on]];return Br};function Xr(Br,Hr){return Object.prototype.hasOwnProperty.call(Br,Hr)}var hn=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;u.promisify=function(Hr){if(typeof Hr!="function")throw new TypeError('The "original" argument must be of type Function');if(hn&&Hr[hn]){var _n=Hr[hn];if(typeof _n!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(_n,hn,{value:_n,enumerable:!1,writable:!1,configurable:!0}),_n}function _n(){for(var on,sn,yn=new Promise(function(Mn,Ln){on=Mn,sn=Ln}),wn=[],In=0;In<arguments.length;In++)wn.push(arguments[In]);wn.push(function(Mn,Ln){Mn?sn(Mn):on(Ln)});try{Hr.apply(this,wn)}catch(Mn){sn(Mn)}return yn}return Object.setPrototypeOf(_n,Object.getPrototypeOf(Hr)),hn&&Object.defineProperty(_n,hn,{value:_n,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(_n,c(Hr))},u.promisify.custom=hn;function En(Br,Hr){if(!Br){var _n=new Error("Promise was rejected with a falsy value");_n.reason=Br,Br=_n}return Hr(Br)}function qr(Br){if(typeof Br!="function")throw new TypeError('The "original" argument must be of type Function');function Hr(){for(var _n=[],on=0;on<arguments.length;on++)_n.push(arguments[on]);var sn=_n.pop();if(typeof sn!="function")throw new TypeError("The last argument must be of type Function");var yn=this,wn=function(){return sn.apply(yn,arguments)};Br.apply(this,_n).then(function(In){process.nextTick(wn.bind(null,null,In))},function(In){process.nextTick(En.bind(null,In,wn))})}return Object.setPrototypeOf(Hr,Object.getPrototypeOf(Br)),Object.defineProperties(Hr,c(Br)),Hr}u.callbackify=qr})(util$1);var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function u(Ur){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(zr){return typeof zr}:u=function(zr){return zr&&typeof Symbol=="function"&&zr.constructor===Symbol&&zr!==Symbol.prototype?"symbol":typeof zr},u(Ur)}function c(Ur,Dr){if(!(Ur instanceof Dr))throw new TypeError("Cannot call a class as a function")}function d(Ur,Dr){return Dr&&(u(Dr)==="object"||typeof Dr=="function")?Dr:y(Ur)}function y(Ur){if(Ur===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ur}function gr(Ur){return gr=Object.setPrototypeOf?Object.getPrototypeOf:function(zr){return zr.__proto__||Object.getPrototypeOf(zr)},gr(Ur)}function _r(Ur,Dr){if(typeof Dr!="function"&&Dr!==null)throw new TypeError("Super expression must either be null or a function");Ur.prototype=Object.create(Dr&&Dr.prototype,{constructor:{value:Ur,writable:!0,configurable:!0}}),Dr&&br(Ur,Dr)}function br(Ur,Dr){return br=Object.setPrototypeOf||function(Zr,Wr){return Zr.__proto__=Wr,Zr},br(Ur,Dr)}var wr={},Er,Or;function xr(Ur,Dr,zr){zr||(zr=Error);function Zr(tn,rn,Jr){return typeof Dr=="string"?Dr:Dr(tn,rn,Jr)}var Wr=function(tn){_r(rn,tn);function rn(Jr,Qr,an){var mn;return c(this,rn),mn=d(this,gr(rn).call(this,Zr(Jr,Qr,an))),mn.code=Ur,mn}return rn}(zr);wr[Ur]=Wr}function kr(Ur,Dr){if(Array.isArray(Ur)){var zr=Ur.length;return Ur=Ur.map(function(Zr){return String(Zr)}),zr>2?"one of ".concat(Dr," ").concat(Ur.slice(0,zr-1).join(", "),", or ")+Ur[zr-1]:zr===2?"one of ".concat(Dr," ").concat(Ur[0]," or ").concat(Ur[1]):"of ".concat(Dr," ").concat(Ur[0])}else return"of ".concat(Dr," ").concat(String(Ur))}function Mr(Ur,Dr,zr){return Ur.substr(!zr||zr<0?0:+zr,Dr.length)===Dr}function Cr(Ur,Dr,zr){return(zr===void 0||zr>Ur.length)&&(zr=Ur.length),Ur.substring(zr-Dr.length,zr)===Dr}function Nr(Ur,Dr,zr){return typeof zr!="number"&&(zr=0),zr+Dr.length>Ur.length?!1:Ur.indexOf(Dr,zr)!==-1}return xr("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),xr("ERR_INVALID_ARG_TYPE",function(Ur,Dr,zr){Er===void 0&&(Er=requireAssert()),Er(typeof Ur=="string","'name' must be a string");var Zr;typeof Dr=="string"&&Mr(Dr,"not ")?(Zr="must not be",Dr=Dr.replace(/^not /,"")):Zr="must be";var Wr;if(Cr(Ur," argument"))Wr="The ".concat(Ur," ").concat(Zr," ").concat(kr(Dr,"type"));else{var tn=Nr(Ur,".")?"property":"argument";Wr='The "'.concat(Ur,'" ').concat(tn," ").concat(Zr," ").concat(kr(Dr,"type"))}return Wr+=". Received type ".concat(u(zr)),Wr},TypeError),xr("ERR_INVALID_ARG_VALUE",function(Ur,Dr){var zr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";Or===void 0&&(Or=util$1);var Zr=Or.inspect(Dr);return Zr.length>128&&(Zr="".concat(Zr.slice(0,128),"...")),"The argument '".concat(Ur,"' ").concat(zr,". Received ").concat(Zr)},TypeError),xr("ERR_INVALID_RETURN_VALUE",function(Ur,Dr,zr){var Zr;return zr&&zr.constructor&&zr.constructor.name?Zr="instance of ".concat(zr.constructor.name):Zr="type ".concat(u(zr)),"Expected ".concat(Ur,' to be returned from the "').concat(Dr,'"')+" function but got ".concat(Zr,".")},TypeError),xr("ERR_MISSING_ARGS",function(){for(var Ur=arguments.length,Dr=new Array(Ur),zr=0;zr<Ur;zr++)Dr[zr]=arguments[zr];Er===void 0&&(Er=requireAssert()),Er(Dr.length>0,"At least one arg needs to be specified");var Zr="The ",Wr=Dr.length;switch(Dr=Dr.map(function(tn){return'"'.concat(tn,'"')}),Wr){case 1:Zr+="".concat(Dr[0]," argument");break;case 2:Zr+="".concat(Dr[0]," and ").concat(Dr[1]," arguments");break;default:Zr+=Dr.slice(0,Wr-1).join(", "),Zr+=", and ".concat(Dr[Wr-1]," arguments");break}return"".concat(Zr," must be specified")},TypeError),errors.codes=wr,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function u(Lr){for(var Vr=1;Vr<arguments.length;Vr++){var Yr=arguments[Vr]!=null?arguments[Vr]:{},Xr=Object.keys(Yr);typeof Object.getOwnPropertySymbols=="function"&&(Xr=Xr.concat(Object.getOwnPropertySymbols(Yr).filter(function(hn){return Object.getOwnPropertyDescriptor(Yr,hn).enumerable}))),Xr.forEach(function(hn){c(Lr,hn,Yr[hn])})}return Lr}function c(Lr,Vr,Yr){return Vr in Lr?Object.defineProperty(Lr,Vr,{value:Yr,enumerable:!0,configurable:!0,writable:!0}):Lr[Vr]=Yr,Lr}function d(Lr,Vr){if(!(Lr instanceof Vr))throw new TypeError("Cannot call a class as a function")}function y(Lr,Vr){for(var Yr=0;Yr<Vr.length;Yr++){var Xr=Vr[Yr];Xr.enumerable=Xr.enumerable||!1,Xr.configurable=!0,"value"in Xr&&(Xr.writable=!0),Object.defineProperty(Lr,Xr.key,Xr)}}function gr(Lr,Vr,Yr){return Vr&&y(Lr.prototype,Vr),Yr&&y(Lr,Yr),Lr}function _r(Lr,Vr){return Vr&&(Nr(Vr)==="object"||typeof Vr=="function")?Vr:br(Lr)}function br(Lr){if(Lr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Lr}function wr(Lr,Vr){if(typeof Vr!="function"&&Vr!==null)throw new TypeError("Super expression must either be null or a function");Lr.prototype=Object.create(Vr&&Vr.prototype,{constructor:{value:Lr,writable:!0,configurable:!0}}),Vr&&Mr(Lr,Vr)}function Er(Lr){var Vr=typeof Map=="function"?new Map:void 0;return Er=function(Xr){if(Xr===null||!kr(Xr))return Xr;if(typeof Xr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Vr<"u"){if(Vr.has(Xr))return Vr.get(Xr);Vr.set(Xr,hn)}function hn(){return xr(Xr,arguments,Cr(this).constructor)}return hn.prototype=Object.create(Xr.prototype,{constructor:{value:hn,enumerable:!1,writable:!0,configurable:!0}}),Mr(hn,Xr)},Er(Lr)}function Or(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function xr(Lr,Vr,Yr){return Or()?xr=Reflect.construct:xr=function(hn,En,qr){var Br=[null];Br.push.apply(Br,En);var Hr=Function.bind.apply(hn,Br),_n=new Hr;return qr&&Mr(_n,qr.prototype),_n},xr.apply(null,arguments)}function kr(Lr){return Function.toString.call(Lr).indexOf("[native code]")!==-1}function Mr(Lr,Vr){return Mr=Object.setPrototypeOf||function(Xr,hn){return Xr.__proto__=hn,Xr},Mr(Lr,Vr)}function Cr(Lr){return Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(Yr){return Yr.__proto__||Object.getPrototypeOf(Yr)},Cr(Lr)}function Nr(Lr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nr=function(Yr){return typeof Yr}:Nr=function(Yr){return Yr&&typeof Symbol=="function"&&Yr.constructor===Symbol&&Yr!==Symbol.prototype?"symbol":typeof Yr},Nr(Lr)}var Ur=util$1,Dr=Ur.inspect,zr=requireErrors(),Zr=zr.codes.ERR_INVALID_ARG_TYPE;function Wr(Lr,Vr,Yr){return(Yr===void 0||Yr>Lr.length)&&(Yr=Lr.length),Lr.substring(Yr-Vr.length,Yr)===Vr}function tn(Lr,Vr){if(Vr=Math.floor(Vr),Lr.length==0||Vr==0)return"";var Yr=Lr.length*Vr;for(Vr=Math.floor(Math.log(Vr)/Math.log(2));Vr;)Lr+=Lr,Vr--;return Lr+=Lr.substring(0,Yr-Lr.length),Lr}var rn="",Jr="",Qr="",an="",mn={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},fn=10;function gn(Lr){var Vr=Object.keys(Lr),Yr=Object.create(Object.getPrototypeOf(Lr));return Vr.forEach(function(Xr){Yr[Xr]=Lr[Xr]}),Object.defineProperty(Yr,"message",{value:Lr.message}),Yr}function Sn(Lr){return Dr(Lr,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Fr(Lr,Vr,Yr){var Xr="",hn="",En=0,qr="",Br=!1,Hr=Sn(Lr),_n=Hr.split(`
`),on=Sn(Vr).split(`
`),sn=0,yn="";if(Yr==="strictEqual"&&Nr(Lr)==="object"&&Nr(Vr)==="object"&&Lr!==null&&Vr!==null&&(Yr="strictEqualObject"),_n.length===1&&on.length===1&&_n[0]!==on[0]){var wn=_n[0].length+on[0].length;if(wn<=fn){if((Nr(Lr)!=="object"||Lr===null)&&(Nr(Vr)!=="object"||Vr===null)&&(Lr!==0||Vr!==0))return"".concat(mn[Yr],`

`)+"".concat(_n[0]," !== ").concat(on[0],`
`)}else if(Yr!=="strictEqualObject"){var In=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(wn<In){for(;_n[0][sn]===on[0][sn];)sn++;sn>2&&(yn=`
  `.concat(tn(" ",sn),"^"),sn=0)}}}for(var Mn=_n[_n.length-1],Ln=on[on.length-1];Mn===Ln&&(sn++<2?qr=`
  `.concat(Mn).concat(qr):Xr=Mn,_n.pop(),on.pop(),!(_n.length===0||on.length===0));)Mn=_n[_n.length-1],Ln=on[on.length-1];var Cn=Math.max(_n.length,on.length);if(Cn===0){var ln=Hr.split(`
`);if(ln.length>30)for(ln[26]="".concat(rn,"...").concat(an);ln.length>27;)ln.pop();return"".concat(mn.notIdentical,`

`).concat(ln.join(`
`),`
`)}sn>3&&(qr=`
`.concat(rn,"...").concat(an).concat(qr),Br=!0),Xr!==""&&(qr=`
  `.concat(Xr).concat(qr),Xr="");var pn=0,On=mn[Yr]+`
`.concat(Jr,"+ actual").concat(an," ").concat(Qr,"- expected").concat(an),Nn=" ".concat(rn,"...").concat(an," Lines skipped");for(sn=0;sn<Cn;sn++){var kn=sn-En;if(_n.length<sn+1)kn>1&&sn>2&&(kn>4?(hn+=`
`.concat(rn,"...").concat(an),Br=!0):kn>3&&(hn+=`
  `.concat(on[sn-2]),pn++),hn+=`
  `.concat(on[sn-1]),pn++),En=sn,Xr+=`
`.concat(Qr,"-").concat(an," ").concat(on[sn]),pn++;else if(on.length<sn+1)kn>1&&sn>2&&(kn>4?(hn+=`
`.concat(rn,"...").concat(an),Br=!0):kn>3&&(hn+=`
  `.concat(_n[sn-2]),pn++),hn+=`
  `.concat(_n[sn-1]),pn++),En=sn,hn+=`
`.concat(Jr,"+").concat(an," ").concat(_n[sn]),pn++;else{var Fn=on[sn],xn=_n[sn],Un=xn!==Fn&&(!Wr(xn,",")||xn.slice(0,-1)!==Fn);Un&&Wr(Fn,",")&&Fn.slice(0,-1)===xn&&(Un=!1,xn+=","),Un?(kn>1&&sn>2&&(kn>4?(hn+=`
`.concat(rn,"...").concat(an),Br=!0):kn>3&&(hn+=`
  `.concat(_n[sn-2]),pn++),hn+=`
  `.concat(_n[sn-1]),pn++),En=sn,hn+=`
`.concat(Jr,"+").concat(an," ").concat(xn),Xr+=`
`.concat(Qr,"-").concat(an," ").concat(Fn),pn+=2):(hn+=Xr,Xr="",(kn===1||sn===0)&&(hn+=`
  `.concat(xn),pn++))}if(pn>20&&sn<Cn-2)return"".concat(On).concat(Nn,`
`).concat(hn,`
`).concat(rn,"...").concat(an).concat(Xr,`
`)+"".concat(rn,"...").concat(an)}return"".concat(On).concat(Br?Nn:"",`
`).concat(hn).concat(Xr).concat(qr).concat(yn)}var Rr=function(Lr){wr(Vr,Lr);function Vr(Yr){var Xr;if(d(this,Vr),Nr(Yr)!=="object"||Yr===null)throw new Zr("options","Object",Yr);var hn=Yr.message,En=Yr.operator,qr=Yr.stackStartFn,Br=Yr.actual,Hr=Yr.expected,_n=Error.stackTraceLimit;if(Error.stackTraceLimit=0,hn!=null)Xr=_r(this,Cr(Vr).call(this,String(hn)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(rn="\x1B[34m",Jr="\x1B[32m",an="\x1B[39m",Qr="\x1B[31m"):(rn="",Jr="",an="",Qr="")),Nr(Br)==="object"&&Br!==null&&Nr(Hr)==="object"&&Hr!==null&&"stack"in Br&&Br instanceof Error&&"stack"in Hr&&Hr instanceof Error&&(Br=gn(Br),Hr=gn(Hr)),En==="deepStrictEqual"||En==="strictEqual")Xr=_r(this,Cr(Vr).call(this,Fr(Br,Hr,En)));else if(En==="notDeepStrictEqual"||En==="notStrictEqual"){var on=mn[En],sn=Sn(Br).split(`
`);if(En==="notStrictEqual"&&Nr(Br)==="object"&&Br!==null&&(on=mn.notStrictEqualObject),sn.length>30)for(sn[26]="".concat(rn,"...").concat(an);sn.length>27;)sn.pop();sn.length===1?Xr=_r(this,Cr(Vr).call(this,"".concat(on," ").concat(sn[0]))):Xr=_r(this,Cr(Vr).call(this,"".concat(on,`

`).concat(sn.join(`
`),`
`)))}else{var yn=Sn(Br),wn="",In=mn[En];En==="notDeepEqual"||En==="notEqual"?(yn="".concat(mn[En],`

`).concat(yn),yn.length>1024&&(yn="".concat(yn.slice(0,1021),"..."))):(wn="".concat(Sn(Hr)),yn.length>512&&(yn="".concat(yn.slice(0,509),"...")),wn.length>512&&(wn="".concat(wn.slice(0,509),"...")),En==="deepEqual"||En==="equal"?yn="".concat(In,`

`).concat(yn,`

should equal

`):wn=" ".concat(En," ").concat(wn)),Xr=_r(this,Cr(Vr).call(this,"".concat(yn).concat(wn)))}return Error.stackTraceLimit=_n,Xr.generatedMessage=!hn,Object.defineProperty(br(Xr),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Xr.code="ERR_ASSERTION",Xr.actual=Br,Xr.expected=Hr,Xr.operator=En,Error.captureStackTrace&&Error.captureStackTrace(br(Xr),qr),Xr.stack,Xr.name="AssertionError",_r(Xr)}return gr(Vr,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Dr.custom,value:function(Xr,hn){return Dr(this,u({},hn,{customInspect:!1,depth:0}))}}]),Vr}(Er(Error));return assertion_error=Rr,assertion_error}var es6ObjectAssign,hasRequiredEs6ObjectAssign;function requireEs6ObjectAssign(){if(hasRequiredEs6ObjectAssign)return es6ObjectAssign;hasRequiredEs6ObjectAssign=1;function u(d,y){if(d==null)throw new TypeError("Cannot convert first argument to object");for(var gr=Object(d),_r=1;_r<arguments.length;_r++){var br=arguments[_r];if(br!=null)for(var wr=Object.keys(Object(br)),Er=0,Or=wr.length;Er<Or;Er++){var xr=wr[Er],kr=Object.getOwnPropertyDescriptor(br,xr);kr!==void 0&&kr.enumerable&&(gr[xr]=br[xr])}}return gr}function c(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:u})}return es6ObjectAssign={assign:u,polyfill:c},es6ObjectAssign}var isArguments$1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments$1;hasRequiredIsArguments=1;var u=Object.prototype.toString;return isArguments$1=function(d){var y=u.call(d),gr=y==="[object Arguments]";return gr||(gr=y!=="[object Array]"&&d!==null&&typeof d=="object"&&typeof d.length=="number"&&d.length>=0&&u.call(d.callee)==="[object Function]"),gr},isArguments$1}var implementation$2,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$2;hasRequiredImplementation$2=1;var u;if(!Object.keys){var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString,y=requireIsArguments(),gr=Object.prototype.propertyIsEnumerable,_r=!gr.call({toString:null},"toString"),br=gr.call(function(){},"prototype"),wr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Er=function(Mr){var Cr=Mr.constructor;return Cr&&Cr.prototype===Mr},Or={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},xr=function(){if(typeof window>"u")return!1;for(var Mr in window)try{if(!Or["$"+Mr]&&c.call(window,Mr)&&window[Mr]!==null&&typeof window[Mr]=="object")try{Er(window[Mr])}catch{return!0}}catch{return!0}return!1}(),kr=function(Mr){if(typeof window>"u"||!xr)return Er(Mr);try{return Er(Mr)}catch{return!1}};u=function(Cr){var Nr=Cr!==null&&typeof Cr=="object",Ur=d.call(Cr)==="[object Function]",Dr=y(Cr),zr=Nr&&d.call(Cr)==="[object String]",Zr=[];if(!Nr&&!Ur&&!Dr)throw new TypeError("Object.keys called on a non-object");var Wr=br&&Ur;if(zr&&Cr.length>0&&!c.call(Cr,0))for(var tn=0;tn<Cr.length;++tn)Zr.push(String(tn));if(Dr&&Cr.length>0)for(var rn=0;rn<Cr.length;++rn)Zr.push(String(rn));else for(var Jr in Cr)!(Wr&&Jr==="prototype")&&c.call(Cr,Jr)&&Zr.push(String(Jr));if(_r)for(var Qr=kr(Cr),an=0;an<wr.length;++an)!(Qr&&wr[an]==="constructor")&&c.call(Cr,wr[an])&&Zr.push(wr[an]);return Zr}}return implementation$2=u,implementation$2}var objectKeys$1,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys$1;hasRequiredObjectKeys=1;var u=Array.prototype.slice,c=requireIsArguments(),d=Object.keys,y=d?function(br){return d(br)}:requireImplementation$2(),gr=Object.keys;return y.shim=function(){if(Object.keys){var br=function(){var wr=Object.keys(arguments);return wr&&wr.length===arguments.length}(1,2);br||(Object.keys=function(Er){return c(Er)?gr(u.call(Er)):gr(Er)})}else Object.keys=y;return Object.keys||y},objectKeys$1=y,objectKeys$1}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var u=requireGetIntrinsic(),c=u("%Object.defineProperty%",!0),d=function(){if(c)try{return c({},"a",{value:1}),!0}catch{return!1}return!1};return d.hasArrayLengthDefineBug=function(){if(!d())return null;try{return c([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=d,hasPropertyDescriptors_1}var defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var u=requireObjectKeys(),c=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",d=Object.prototype.toString,y=Array.prototype.concat,gr=Object.defineProperty,_r=function(xr){return typeof xr=="function"&&d.call(xr)==="[object Function]"},br=requireHasPropertyDescriptors()(),wr=gr&&br,Er=function(xr,kr,Mr,Cr){kr in xr&&(!_r(Cr)||!Cr())||(wr?gr(xr,kr,{configurable:!0,enumerable:!1,value:Mr,writable:!0}):xr[kr]=Mr)},Or=function(xr,kr){var Mr=arguments.length>2?arguments[2]:{},Cr=u(kr);c&&(Cr=y.call(Cr,Object.getOwnPropertySymbols(kr)));for(var Nr=0;Nr<Cr.length;Nr+=1)Er(xr,Cr[Nr],kr[Cr[Nr]],Mr[Cr[Nr]])};return Or.supportsDescriptors=!!wr,defineProperties_1=Or,defineProperties_1}var implementation$1,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$1;hasRequiredImplementation$1=1;var u=function(c){return c!==c};return implementation$1=function(d,y){return d===0&&y===0?1/d===1/y:!!(d===y||u(d)&&u(y))},implementation$1}var polyfill$1,hasRequiredPolyfill$1;function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$1;hasRequiredPolyfill$1=1;var u=requireImplementation$1();return polyfill$1=function(){return typeof Object.is=="function"?Object.is:u},polyfill$1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var u=requirePolyfill$1(),c=requireDefineProperties();return shim$1=function(){var y=u();return c(Object,{is:y},{is:function(){return Object.is!==y}}),y},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var u=requireDefineProperties(),c=requireCallBind(),d=requireImplementation$1(),y=requirePolyfill$1(),gr=requireShim$1(),_r=c(y(),Object);return u(_r,{getPolyfill:y,implementation:d,shim:gr}),objectIs=_r,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(c){return c!==c}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var u=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:u},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var u=requireDefineProperties(),c=requirePolyfill();return shim=function(){var y=c();return u(Number,{isNaN:y},{isNaN:function(){return Number.isNaN!==y}}),y},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var u=requireCallBind(),c=requireDefineProperties(),d=requireImplementation(),y=requirePolyfill(),gr=requireShim(),_r=u(y(),Number);return c(_r,{getPolyfill:y,implementation:d,shim:gr}),isNan=_r,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function u(dn,vn){return y(dn)||d(dn,vn)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(dn,vn){var Rn=[],Bn=!0,jn=!1,Tr=void 0;try{for(var Sr=dn[Symbol.iterator](),Ar;!(Bn=(Ar=Sr.next()).done)&&(Rn.push(Ar.value),!(vn&&Rn.length===vn));Bn=!0);}catch(Pr){jn=!0,Tr=Pr}finally{try{!Bn&&Sr.return!=null&&Sr.return()}finally{if(jn)throw Tr}}return Rn}function y(dn){if(Array.isArray(dn))return dn}function gr(dn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gr=function(Rn){return typeof Rn}:gr=function(Rn){return Rn&&typeof Symbol=="function"&&Rn.constructor===Symbol&&Rn!==Symbol.prototype?"symbol":typeof Rn},gr(dn)}var _r=/a/g.flags!==void 0,br=function(vn){var Rn=[];return vn.forEach(function(Bn){return Rn.push(Bn)}),Rn},wr=function(vn){var Rn=[];return vn.forEach(function(Bn,jn){return Rn.push([jn,Bn])}),Rn},Er=Object.is?Object.is:requireObjectIs(),Or=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},xr=Number.isNaN?Number.isNaN:requireIsNan();function kr(dn){return dn.call.bind(dn)}var Mr=kr(Object.prototype.hasOwnProperty),Cr=kr(Object.prototype.propertyIsEnumerable),Nr=kr(Object.prototype.toString),Ur=util$1.types,Dr=Ur.isAnyArrayBuffer,zr=Ur.isArrayBufferView,Zr=Ur.isDate,Wr=Ur.isMap,tn=Ur.isRegExp,rn=Ur.isSet,Jr=Ur.isNativeError,Qr=Ur.isBoxedPrimitive,an=Ur.isNumberObject,mn=Ur.isStringObject,fn=Ur.isBooleanObject,gn=Ur.isBigIntObject,Sn=Ur.isSymbolObject,Fr=Ur.isFloat32Array,Rr=Ur.isFloat64Array;function Lr(dn){if(dn.length===0||dn.length>10)return!0;for(var vn=0;vn<dn.length;vn++){var Rn=dn.charCodeAt(vn);if(Rn<48||Rn>57)return!0}return dn.length===10&&dn>=Math.pow(2,32)}function Vr(dn){return Object.keys(dn).filter(Lr).concat(Or(dn).filter(Object.prototype.propertyIsEnumerable.bind(dn)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function Yr(dn,vn){if(dn===vn)return 0;for(var Rn=dn.length,Bn=vn.length,jn=0,Tr=Math.min(Rn,Bn);jn<Tr;++jn)if(dn[jn]!==vn[jn]){Rn=dn[jn],Bn=vn[jn];break}return Rn<Bn?-1:Bn<Rn?1:0}var Xr=!0,hn=!1,En=0,qr=1,Br=2,Hr=3;function _n(dn,vn){return _r?dn.source===vn.source&&dn.flags===vn.flags:RegExp.prototype.toString.call(dn)===RegExp.prototype.toString.call(vn)}function on(dn,vn){if(dn.byteLength!==vn.byteLength)return!1;for(var Rn=0;Rn<dn.byteLength;Rn++)if(dn[Rn]!==vn[Rn])return!1;return!0}function sn(dn,vn){return dn.byteLength!==vn.byteLength?!1:Yr(new Uint8Array(dn.buffer,dn.byteOffset,dn.byteLength),new Uint8Array(vn.buffer,vn.byteOffset,vn.byteLength))===0}function yn(dn,vn){return dn.byteLength===vn.byteLength&&Yr(new Uint8Array(dn),new Uint8Array(vn))===0}function wn(dn,vn){return an(dn)?an(vn)&&Er(Number.prototype.valueOf.call(dn),Number.prototype.valueOf.call(vn)):mn(dn)?mn(vn)&&String.prototype.valueOf.call(dn)===String.prototype.valueOf.call(vn):fn(dn)?fn(vn)&&Boolean.prototype.valueOf.call(dn)===Boolean.prototype.valueOf.call(vn):gn(dn)?gn(vn)&&BigInt.prototype.valueOf.call(dn)===BigInt.prototype.valueOf.call(vn):Sn(vn)&&Symbol.prototype.valueOf.call(dn)===Symbol.prototype.valueOf.call(vn)}function In(dn,vn,Rn,Bn){if(dn===vn)return dn!==0?!0:Rn?Er(dn,vn):!0;if(Rn){if(gr(dn)!=="object")return typeof dn=="number"&&xr(dn)&&xr(vn);if(gr(vn)!=="object"||dn===null||vn===null||Object.getPrototypeOf(dn)!==Object.getPrototypeOf(vn))return!1}else{if(dn===null||gr(dn)!=="object")return vn===null||gr(vn)!=="object"?dn==vn:!1;if(vn===null||gr(vn)!=="object")return!1}var jn=Nr(dn),Tr=Nr(vn);if(jn!==Tr)return!1;if(Array.isArray(dn)){if(dn.length!==vn.length)return!1;var Sr=Vr(dn),Ar=Vr(vn);return Sr.length!==Ar.length?!1:Ln(dn,vn,Rn,Bn,qr,Sr)}if(jn==="[object Object]"&&(!Wr(dn)&&Wr(vn)||!rn(dn)&&rn(vn)))return!1;if(Zr(dn)){if(!Zr(vn)||Date.prototype.getTime.call(dn)!==Date.prototype.getTime.call(vn))return!1}else if(tn(dn)){if(!tn(vn)||!_n(dn,vn))return!1}else if(Jr(dn)||dn instanceof Error){if(dn.message!==vn.message||dn.name!==vn.name)return!1}else if(zr(dn)){if(!Rn&&(Fr(dn)||Rr(dn))){if(!on(dn,vn))return!1}else if(!sn(dn,vn))return!1;var Pr=Vr(dn),jr=Vr(vn);return Pr.length!==jr.length?!1:Ln(dn,vn,Rn,Bn,En,Pr)}else{if(rn(dn))return!rn(vn)||dn.size!==vn.size?!1:Ln(dn,vn,Rn,Bn,Br);if(Wr(dn))return!Wr(vn)||dn.size!==vn.size?!1:Ln(dn,vn,Rn,Bn,Hr);if(Dr(dn)){if(!yn(dn,vn))return!1}else if(Qr(dn)&&!wn(dn,vn))return!1}return Ln(dn,vn,Rn,Bn,En)}function Mn(dn,vn){return vn.filter(function(Rn){return Cr(dn,Rn)})}function Ln(dn,vn,Rn,Bn,jn,Tr){if(arguments.length===5){Tr=Object.keys(dn);var Sr=Object.keys(vn);if(Tr.length!==Sr.length)return!1}for(var Ar=0;Ar<Tr.length;Ar++)if(!Mr(vn,Tr[Ar]))return!1;if(Rn&&arguments.length===5){var Pr=Or(dn);if(Pr.length!==0){var jr=0;for(Ar=0;Ar<Pr.length;Ar++){var Gr=Pr[Ar];if(Cr(dn,Gr)){if(!Cr(vn,Gr))return!1;Tr.push(Gr),jr++}else if(Cr(vn,Gr))return!1}var nn=Or(vn);if(Pr.length!==nn.length&&Mn(vn,nn).length!==jr)return!1}else{var Kn=Or(vn);if(Kn.length!==0&&Mn(vn,Kn).length!==0)return!1}}if(Tr.length===0&&(jn===En||jn===qr&&dn.length===0||dn.size===0))return!0;if(Bn===void 0)Bn={val1:new Map,val2:new Map,position:0};else{var Yn=Bn.val1.get(dn);if(Yn!==void 0){var Hn=Bn.val2.get(vn);if(Hn!==void 0)return Yn===Hn}Bn.position++}Bn.val1.set(dn,Bn.position),Bn.val2.set(vn,Bn.position);var Jn=xn(dn,vn,Rn,Tr,Bn,jn);return Bn.val1.delete(dn),Bn.val2.delete(vn),Jn}function Cn(dn,vn,Rn,Bn){for(var jn=br(dn),Tr=0;Tr<jn.length;Tr++){var Sr=jn[Tr];if(In(vn,Sr,Rn,Bn))return dn.delete(Sr),!0}return!1}function ln(dn){switch(gr(dn)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":dn=+dn;case"number":if(xr(dn))return!1}return!0}function pn(dn,vn,Rn){var Bn=ln(Rn);return Bn??(vn.has(Bn)&&!dn.has(Bn))}function On(dn,vn,Rn,Bn,jn){var Tr=ln(Rn);if(Tr!=null)return Tr;var Sr=vn.get(Tr);return Sr===void 0&&!vn.has(Tr)||!In(Bn,Sr,!1,jn)?!1:!dn.has(Tr)&&In(Bn,Sr,!1,jn)}function Nn(dn,vn,Rn,Bn){for(var jn=null,Tr=br(dn),Sr=0;Sr<Tr.length;Sr++){var Ar=Tr[Sr];if(gr(Ar)==="object"&&Ar!==null)jn===null&&(jn=new Set),jn.add(Ar);else if(!vn.has(Ar)){if(Rn||!pn(dn,vn,Ar))return!1;jn===null&&(jn=new Set),jn.add(Ar)}}if(jn!==null){for(var Pr=br(vn),jr=0;jr<Pr.length;jr++){var Gr=Pr[jr];if(gr(Gr)==="object"&&Gr!==null){if(!Cn(jn,Gr,Rn,Bn))return!1}else if(!Rn&&!dn.has(Gr)&&!Cn(jn,Gr,Rn,Bn))return!1}return jn.size===0}return!0}function kn(dn,vn,Rn,Bn,jn,Tr){for(var Sr=br(dn),Ar=0;Ar<Sr.length;Ar++){var Pr=Sr[Ar];if(In(Rn,Pr,jn,Tr)&&In(Bn,vn.get(Pr),jn,Tr))return dn.delete(Pr),!0}return!1}function Fn(dn,vn,Rn,Bn){for(var jn=null,Tr=wr(dn),Sr=0;Sr<Tr.length;Sr++){var Ar=u(Tr[Sr],2),Pr=Ar[0],jr=Ar[1];if(gr(Pr)==="object"&&Pr!==null)jn===null&&(jn=new Set),jn.add(Pr);else{var Gr=vn.get(Pr);if(Gr===void 0&&!vn.has(Pr)||!In(jr,Gr,Rn,Bn)){if(Rn||!On(dn,vn,Pr,jr,Bn))return!1;jn===null&&(jn=new Set),jn.add(Pr)}}}if(jn!==null){for(var nn=wr(vn),Kn=0;Kn<nn.length;Kn++){var Yn=u(nn[Kn],2),Pr=Yn[0],Hn=Yn[1];if(gr(Pr)==="object"&&Pr!==null){if(!kn(jn,dn,Pr,Hn,Rn,Bn))return!1}else if(!Rn&&(!dn.has(Pr)||!In(dn.get(Pr),Hn,!1,Bn))&&!kn(jn,dn,Pr,Hn,!1,Bn))return!1}return jn.size===0}return!0}function xn(dn,vn,Rn,Bn,jn,Tr){var Sr=0;if(Tr===Br){if(!Nn(dn,vn,Rn,jn))return!1}else if(Tr===Hr){if(!Fn(dn,vn,Rn,jn))return!1}else if(Tr===qr)for(;Sr<dn.length;Sr++)if(Mr(dn,Sr)){if(!Mr(vn,Sr)||!In(dn[Sr],vn[Sr],Rn,jn))return!1}else{if(Mr(vn,Sr))return!1;for(var Ar=Object.keys(dn);Sr<Ar.length;Sr++){var Pr=Ar[Sr];if(!Mr(vn,Pr)||!In(dn[Pr],vn[Pr],Rn,jn))return!1}return Ar.length===Object.keys(vn).length}for(Sr=0;Sr<Bn.length;Sr++){var jr=Bn[Sr];if(!In(dn[jr],vn[jr],Rn,jn))return!1}return!0}function Un(dn,vn){return In(dn,vn,hn)}function Dn(dn,vn){return In(dn,vn,Xr)}return comparisons={isDeepEqual:Un,isDeepStrictEqual:Dn},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$1.exports;hasRequiredAssert=1;function u(qr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(Hr){return typeof Hr}:u=function(Hr){return Hr&&typeof Symbol=="function"&&Hr.constructor===Symbol&&Hr!==Symbol.prototype?"symbol":typeof Hr},u(qr)}function c(qr,Br){if(!(qr instanceof Br))throw new TypeError("Cannot call a class as a function")}var d=requireErrors(),y=d.codes,gr=y.ERR_AMBIGUOUS_ARGUMENT,_r=y.ERR_INVALID_ARG_TYPE,br=y.ERR_INVALID_ARG_VALUE,wr=y.ERR_INVALID_RETURN_VALUE,Er=y.ERR_MISSING_ARGS,Or=requireAssertion_error(),xr=util$1,kr=xr.inspect,Mr=util$1.types,Cr=Mr.isPromise,Nr=Mr.isRegExp,Ur=Object.assign?Object.assign:requireEs6ObjectAssign().assign,Dr=Object.is?Object.is:requireObjectIs(),zr,Zr;function Wr(){var qr=requireComparisons();zr=qr.isDeepEqual,Zr=qr.isDeepStrictEqual}var tn=!1,rn=assert$1.exports=fn,Jr={};function Qr(qr){throw qr.message instanceof Error?qr.message:new Or(qr)}function an(qr,Br,Hr,_n,on){var sn=arguments.length,yn;if(sn===0)yn="Failed";else if(sn===1)Hr=qr,qr=void 0;else{if(tn===!1){tn=!0;var wn=process.emitWarning?process.emitWarning:console.warn.bind(console);wn("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}sn===2&&(_n="!=")}if(Hr instanceof Error)throw Hr;var In={actual:qr,expected:Br,operator:_n===void 0?"fail":_n,stackStartFn:on||an};Hr!==void 0&&(In.message=Hr);var Mn=new Or(In);throw yn&&(Mn.message=yn,Mn.generatedMessage=!0),Mn}rn.fail=an,rn.AssertionError=Or;function mn(qr,Br,Hr,_n){if(!Hr){var on=!1;if(Br===0)on=!0,_n="No value argument passed to `assert.ok()`";else if(_n instanceof Error)throw _n;var sn=new Or({actual:Hr,expected:!0,message:_n,operator:"==",stackStartFn:qr});throw sn.generatedMessage=on,sn}}function fn(){for(var qr=arguments.length,Br=new Array(qr),Hr=0;Hr<qr;Hr++)Br[Hr]=arguments[Hr];mn.apply(void 0,[fn,Br.length].concat(Br))}rn.ok=fn,rn.equal=function qr(Br,Hr,_n){if(arguments.length<2)throw new Er("actual","expected");Br!=Hr&&Qr({actual:Br,expected:Hr,message:_n,operator:"==",stackStartFn:qr})},rn.notEqual=function qr(Br,Hr,_n){if(arguments.length<2)throw new Er("actual","expected");Br==Hr&&Qr({actual:Br,expected:Hr,message:_n,operator:"!=",stackStartFn:qr})},rn.deepEqual=function qr(Br,Hr,_n){if(arguments.length<2)throw new Er("actual","expected");zr===void 0&&Wr(),zr(Br,Hr)||Qr({actual:Br,expected:Hr,message:_n,operator:"deepEqual",stackStartFn:qr})},rn.notDeepEqual=function qr(Br,Hr,_n){if(arguments.length<2)throw new Er("actual","expected");zr===void 0&&Wr(),zr(Br,Hr)&&Qr({actual:Br,expected:Hr,message:_n,operator:"notDeepEqual",stackStartFn:qr})},rn.deepStrictEqual=function qr(Br,Hr,_n){if(arguments.length<2)throw new Er("actual","expected");zr===void 0&&Wr(),Zr(Br,Hr)||Qr({actual:Br,expected:Hr,message:_n,operator:"deepStrictEqual",stackStartFn:qr})},rn.notDeepStrictEqual=gn;function gn(qr,Br,Hr){if(arguments.length<2)throw new Er("actual","expected");zr===void 0&&Wr(),Zr(qr,Br)&&Qr({actual:qr,expected:Br,message:Hr,operator:"notDeepStrictEqual",stackStartFn:gn})}rn.strictEqual=function qr(Br,Hr,_n){if(arguments.length<2)throw new Er("actual","expected");Dr(Br,Hr)||Qr({actual:Br,expected:Hr,message:_n,operator:"strictEqual",stackStartFn:qr})},rn.notStrictEqual=function qr(Br,Hr,_n){if(arguments.length<2)throw new Er("actual","expected");Dr(Br,Hr)&&Qr({actual:Br,expected:Hr,message:_n,operator:"notStrictEqual",stackStartFn:qr})};var Sn=function qr(Br,Hr,_n){var on=this;c(this,qr),Hr.forEach(function(sn){sn in Br&&(_n!==void 0&&typeof _n[sn]=="string"&&Nr(Br[sn])&&Br[sn].test(_n[sn])?on[sn]=_n[sn]:on[sn]=Br[sn])})};function Fr(qr,Br,Hr,_n,on,sn){if(!(Hr in qr)||!Zr(qr[Hr],Br[Hr])){if(!_n){var yn=new Sn(qr,on),wn=new Sn(Br,on,qr),In=new Or({actual:yn,expected:wn,operator:"deepStrictEqual",stackStartFn:sn});throw In.actual=qr,In.expected=Br,In.operator=sn.name,In}Qr({actual:qr,expected:Br,message:_n,operator:sn.name,stackStartFn:sn})}}function Rr(qr,Br,Hr,_n){if(typeof Br!="function"){if(Nr(Br))return Br.test(qr);if(arguments.length===2)throw new _r("expected",["Function","RegExp"],Br);if(u(qr)!=="object"||qr===null){var on=new Or({actual:qr,expected:Br,message:Hr,operator:"deepStrictEqual",stackStartFn:_n});throw on.operator=_n.name,on}var sn=Object.keys(Br);if(Br instanceof Error)sn.push("name","message");else if(sn.length===0)throw new br("error",Br,"may not be an empty object");return zr===void 0&&Wr(),sn.forEach(function(yn){typeof qr[yn]=="string"&&Nr(Br[yn])&&Br[yn].test(qr[yn])||Fr(qr,Br,yn,Hr,sn,_n)}),!0}return Br.prototype!==void 0&&qr instanceof Br?!0:Error.isPrototypeOf(Br)?!1:Br.call({},qr)===!0}function Lr(qr){if(typeof qr!="function")throw new _r("fn","Function",qr);try{qr()}catch(Br){return Br}return Jr}function Vr(qr){return Cr(qr)||qr!==null&&u(qr)==="object"&&typeof qr.then=="function"&&typeof qr.catch=="function"}function Yr(qr){return Promise.resolve().then(function(){var Br;if(typeof qr=="function"){if(Br=qr(),!Vr(Br))throw new wr("instance of Promise","promiseFn",Br)}else if(Vr(qr))Br=qr;else throw new _r("promiseFn",["Function","Promise"],qr);return Promise.resolve().then(function(){return Br}).then(function(){return Jr}).catch(function(Hr){return Hr})})}function Xr(qr,Br,Hr,_n){if(typeof Hr=="string"){if(arguments.length===4)throw new _r("error",["Object","Error","Function","RegExp"],Hr);if(u(Br)==="object"&&Br!==null){if(Br.message===Hr)throw new gr("error/message",'The error message "'.concat(Br.message,'" is identical to the message.'))}else if(Br===Hr)throw new gr("error/message",'The error "'.concat(Br,'" is identical to the message.'));_n=Hr,Hr=void 0}else if(Hr!=null&&u(Hr)!=="object"&&typeof Hr!="function")throw new _r("error",["Object","Error","Function","RegExp"],Hr);if(Br===Jr){var on="";Hr&&Hr.name&&(on+=" (".concat(Hr.name,")")),on+=_n?": ".concat(_n):".";var sn=qr.name==="rejects"?"rejection":"exception";Qr({actual:void 0,expected:Hr,operator:qr.name,message:"Missing expected ".concat(sn).concat(on),stackStartFn:qr})}if(Hr&&!Rr(Br,Hr,_n,qr))throw Br}function hn(qr,Br,Hr,_n){if(Br!==Jr){if(typeof Hr=="string"&&(_n=Hr,Hr=void 0),!Hr||Rr(Br,Hr)){var on=_n?": ".concat(_n):".",sn=qr.name==="doesNotReject"?"rejection":"exception";Qr({actual:Br,expected:Hr,operator:qr.name,message:"Got unwanted ".concat(sn).concat(on,`
`)+'Actual message: "'.concat(Br&&Br.message,'"'),stackStartFn:qr})}throw Br}}rn.throws=function qr(Br){for(var Hr=arguments.length,_n=new Array(Hr>1?Hr-1:0),on=1;on<Hr;on++)_n[on-1]=arguments[on];Xr.apply(void 0,[qr,Lr(Br)].concat(_n))},rn.rejects=function qr(Br){for(var Hr=arguments.length,_n=new Array(Hr>1?Hr-1:0),on=1;on<Hr;on++)_n[on-1]=arguments[on];return Yr(Br).then(function(sn){return Xr.apply(void 0,[qr,sn].concat(_n))})},rn.doesNotThrow=function qr(Br){for(var Hr=arguments.length,_n=new Array(Hr>1?Hr-1:0),on=1;on<Hr;on++)_n[on-1]=arguments[on];hn.apply(void 0,[qr,Lr(Br)].concat(_n))},rn.doesNotReject=function qr(Br){for(var Hr=arguments.length,_n=new Array(Hr>1?Hr-1:0),on=1;on<Hr;on++)_n[on-1]=arguments[on];return Yr(Br).then(function(sn){return hn.apply(void 0,[qr,sn].concat(_n))})},rn.ifError=function qr(Br){if(Br!=null){var Hr="ifError got unwanted exception: ";u(Br)==="object"&&typeof Br.message=="string"?Br.message.length===0&&Br.constructor?Hr+=Br.constructor.name:Hr+=Br.message:Hr+=kr(Br);var _n=new Or({actual:Br,expected:null,operator:"ifError",message:Hr,stackStartFn:qr}),on=Br.stack;if(typeof on=="string"){var sn=on.split(`
`);sn.shift();for(var yn=_n.stack.split(`
`),wn=0;wn<sn.length;wn++){var In=yn.indexOf(sn[wn]);if(In!==-1){yn=yn.slice(0,In);break}}_n.stack="".concat(yn.join(`
`),`
`).concat(sn.join(`
`))}throw _n}};function En(){for(var qr=arguments.length,Br=new Array(qr),Hr=0;Hr<qr;Hr++)Br[Hr]=arguments[Hr];mn.apply(void 0,[En,Br.length].concat(Br))}return rn.strict=Ur(En,rn,{equal:rn.strictEqual,deepEqual:rn.deepStrictEqual,notEqual:rn.notStrictEqual,notDeepEqual:rn.notDeepStrictEqual}),rn.strict.strict=rn.strict,assert$1.exports}var assertExports=requireAssert(),g=Object.freeze({__proto__:null,encode:function(u){return u.reduce((c,d)=>c+d.toString(16).padStart(2,"0"),"0x")},decode:function(u){u.indexOf("0x")===0&&(u=u.substr(2)),u.length%2==1&&(u="0"+u);let c=u.match(/.{2}/g);return c===null?buffer$2.Buffer.from([]):buffer$2.Buffer.from(c.map(d=>parseInt(d,16)))}});function w(u){return new TextDecoder("utf-8").decode(u)}function v(u){return new TextEncoder().encode(u)}var b$1=Object.freeze({__proto__:null,decode:w,encode:v});function A$1(u){return bs58.encode(u)}var _=Object.freeze({__proto__:null,encode:A$1,decode:function(u){return bs58.decode(u)}});function E$1(u){return buffer$2.Buffer.from(toByteArray_1(u))}var S=Object.freeze({__proto__:null,encode:function(u){return fromByteArray_1(u)},decode:E$1}),I$1=Object.freeze({__proto__:null,hex:g,utf8:b$1,bs58:_,base64:S});function k$1(u){const c=new Map;return u.errors&&u.errors.forEach(d=>{var y;let gr=(y=d.msg)!==null&&y!==void 0?y:d.name;c.set(d.code,gr)}),c}function x(u,...c){if(u.args.length!=c.length)throw new Error("Invalid argument length");const d={};let y=0;return u.args.forEach(gr=>{d[gr.name]=c[y],y+=1}),d}function M(u,c={}){u.forEach(d=>{if("accounts"in d)M(d.accounts,c[d.name]);else if(c[d.name]===void 0)throw new Error(`Invalid arguments: ${d.name} not provided.`)})}function P(u){return u instanceof PublicKey?u:new PublicKey(u)}class T extends TypeError{constructor(c,d){let y;const{message:gr,..._r}=c,{path:br}=c;super(br.length===0?gr:"At path: "+br.join(".")+" -- "+gr),Object.assign(this,_r),this.name=this.constructor.name,this.failures=()=>{var wr;return(wr=y)!=null?wr:y=[c,...d()]}}}function C$1(u){return typeof u=="object"&&u!=null}function L$1(u){return typeof u=="string"?JSON.stringify(u):""+u}function O$1(u,c,d,y){if(u===!0)return;u===!1?u={}:typeof u=="string"&&(u={message:u});const{path:gr,branch:_r}=c,{type:br}=d,{refinement:wr,message:Er="Expected a value of type `"+br+"`"+(wr?" with refinement `"+wr+"`":"")+", but received: `"+L$1(y)+"`"}=u;return{value:y,type:br,refinement:wr,key:gr[gr.length-1],path:gr,branch:_r,...u,message:Er}}function*B(u,c,d,y){var gr;C$1(gr=u)&&typeof gr[Symbol.iterator]=="function"||(u=[u]);for(const _r of u){const br=O$1(_r,c,d,y);br&&(yield br)}}function*D(u,c,d={}){const{path:y=[],branch:gr=[u],coerce:_r=!1,mask:br=!1}=d,wr={path:y,branch:gr};if(_r&&(u=c.coercer(u,wr),br&&c.type!=="type"&&C$1(c.schema)&&C$1(u)&&!Array.isArray(u)))for(const Or in u)c.schema[Or]===void 0&&delete u[Or];let Er=!0;for(const Or of c.validator(u,wr))Er=!1,yield[Or,void 0];for(let[Or,xr,kr]of c.entries(u,wr)){const Mr=D(xr,kr,{path:Or===void 0?y:[...y,Or],branch:Or===void 0?gr:[...gr,xr],coerce:_r,mask:br});for(const Cr of Mr)Cr[0]?(Er=!1,yield[Cr[0],void 0]):_r&&(xr=Cr[1],Or===void 0?u=xr:u instanceof Map?u.set(Or,xr):u instanceof Set?u.add(xr):C$1(u)&&(u[Or]=xr))}if(Er)for(const Or of c.refiner(u,wr))Er=!1,yield[Or,void 0];Er&&(yield[void 0,u])}class z{constructor(c){const{type:d,schema:y,validator:gr,refiner:_r,coercer:br=Er=>Er,entries:wr=function*(){}}=c;this.type=d,this.schema=y,this.entries=wr,this.coercer=br,this.validator=gr?(Er,Or)=>B(gr(Er,Or),Or,this,Er):()=>[],this.refiner=_r?(Er,Or)=>B(_r(Er,Or),Or,this,Er):()=>[]}assert(c){return function(d,y){const gr=R$1(d,y);if(gr[0])throw gr[0]}(c,this)}create(c){return N$1(c,this)}is(c){return j(c,this)}mask(c){return function(d,y){const gr=R$1(d,y,{coerce:!0,mask:!0});if(gr[0])throw gr[0];return gr[1]}(c,this)}validate(c,d={}){return R$1(c,this,d)}}function N$1(u,c){const d=R$1(u,c,{coerce:!0});if(d[0])throw d[0];return d[1]}function j(u,c){return!R$1(u,c)[0]}function R$1(u,c,d={}){const y=D(u,c,d),gr=function(_r){const{done:br,value:wr}=_r.next();return br?void 0:wr}(y);return gr[0]?[new T(gr[0],function*(){for(const _r of y)_r[0]&&(yield _r[0])}),void 0]:[void 0,gr[1]]}function U(u,c){return new z({type:u,schema:null,validator:c})}function V(u){return new z({type:"array",schema:u,*entries(c){if(u&&Array.isArray(c))for(const[d,y]of c.entries())yield[d,y,u]},coercer:c=>Array.isArray(c)?c.slice():c,validator:c=>Array.isArray(c)||"Expected an array value, but received: "+L$1(c)})}function $(u){const c=L$1(u),d=typeof u;return new z({type:"literal",schema:d==="string"||d==="number"||d==="boolean"?u:null,validator:y=>y===u||"Expected the literal `"+c+"`, but received: "+L$1(y)})}function q(u){return new z({...u,validator:(c,d)=>c===null||u.validator(c,d),refiner:(c,d)=>c===null||u.refiner(c,d)})}function K(){return U("number",u=>typeof u=="number"&&!isNaN(u)||"Expected a number, but received: "+L$1(u))}function F(u){return new z({...u,validator:(c,d)=>c===void 0||u.validator(c,d),refiner:(c,d)=>c===void 0||u.refiner(c,d)})}function W(){return U("string",u=>typeof u=="string"||"Expected a string, but received: "+L$1(u))}function G(u){const c=Object.keys(u);return new z({type:"type",schema:u,*entries(d){if(C$1(d))for(const y of c)yield[y,d[y],u[y]]},validator:d=>C$1(d)||"Expected an object, but received: "+L$1(d)})}function H(u){const c=u.map(d=>d.type).join(" | ");return new z({type:"union",schema:null,validator(d,y){const gr=[];for(const _r of u){const[...br]=D(d,_r,y),[wr]=br;if(!wr[0])return[];for(const[Er]of br)Er&&gr.push(Er)}return["Expected the value to satisfy a union of `"+c+"`, but received: "+L$1(d),...gr]}})}function J(){return U("unknown",()=>!0)}async function Z(u,c,d){if(c.length<=99)return await Q(u,c,d);{const y=function(gr,_r){return Array.apply(0,new Array(Math.ceil(gr.length/_r))).map((br,wr)=>gr.slice(wr*_r,(wr+1)*_r))}(c,99);return(await Promise.all(y.map(gr=>Q(u,gr,d)))).flat()}}async function Q(u,c,d){const y=d??u.commitment;return(await u.getMultipleAccountsInfo(c,y)).map((gr,_r)=>gr===null?null:{publicKey:c[_r],account:gr})}async function X(u,c,d,y,gr){d&&d.length>0&&c.sign(...d);const _r=c._compile(),br=_r.serialize(),wr=c._serialize(br).toString("base64"),Er={encoding:"base64",commitment:y??u.commitment};if(gr){const kr=(Array.isArray(gr)?gr:_r.nonProgramIds()).map(Mr=>Mr.toBase58());Er.accounts={encoding:"base64",addresses:kr}}d&&(Er.sigVerify=!0);const Or=[wr,Er],xr=N$1(await u._rpcRequest("simulateTransaction",Or),rt);if("error"in xr){let kr;if("data"in xr.error&&(kr=xr.error.data.logs,kr&&Array.isArray(kr))){const Mr=`
    `,Cr=Mr+kr.join(Mr);console.error(xr.error.message,Cr)}throw new SendTransactionError("failed to simulate transaction: "+xr.error.message,kr)}return xr.result}function Y(u){return function(c,d,y){return new z({...c,coercer:(gr,_r)=>j(gr,d)?c.coercer(y(gr,_r),_r):c.coercer(gr,_r)})}(et(u),tt,c=>"error"in c?c:{...c,result:N$1(c.result,u)})}const tt=et(J());function et(u){return H([G({jsonrpc:$("2.0"),id:W(),result:u}),G({jsonrpc:$("2.0"),id:W(),error:G({code:J(),message:W(),data:F(U("any",()=>!0))})})])}const rt=(nt=G({err:q(H([G({}),W()])),logs:q(V(W())),accounts:F(q(V(q(G({executable:U("boolean",u=>typeof u=="boolean"),owner:W(),lamports:K(),data:V(W()),rentEpoch:F(K())}))))),unitsConsumed:F(K())}),Y(G({context:G({slot:K()}),value:nt})));var nt,it=Object.freeze({__proto__:null,invoke:async function(u,c,d,y){u=P(u),y||(y=dt());const gr=new Transaction;if(gr.add(new TransactionInstruction({programId:u,keys:c??[],data:d})),y.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await y.sendAndConfirm(gr,[])},getMultipleAccounts:Z,simulateTransaction:X});class ot{constructor(c,d,y){this.connection=c,this.wallet=d,this.opts=y}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(c,d){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(c,d,y){var gr;y===void 0&&(y=this.opts),c.feePayer=this.wallet.publicKey,c.recentBlockhash=(await this.connection.getRecentBlockhash(y.preflightCommitment)).blockhash,c=await this.wallet.signTransaction(c),(d??[]).forEach(br=>{c.partialSign(br)});const _r=c.serialize();try{return await at(this.connection,_r,y)}catch(br){if(br instanceof ct){const wr=await this.connection.getTransaction(A$1(c.signature),{commitment:"confirmed"});if(wr){const Er=(gr=wr.meta)===null||gr===void 0?void 0:gr.logMessages;throw Er?new SendTransactionError(br.message,Er):br}throw br}throw br}}async sendAll(c,d){d===void 0&&(d=this.opts);const y=await this.connection.getRecentBlockhash(d.preflightCommitment);let gr=c.map(wr=>{var Er;let Or=wr.tx,xr=(Er=wr.signers)!==null&&Er!==void 0?Er:[];return Or.feePayer=this.wallet.publicKey,Or.recentBlockhash=y.blockhash,xr.forEach(kr=>{Or.partialSign(kr)}),Or});const _r=await this.wallet.signAllTransactions(gr),br=[];for(let wr=0;wr<gr.length;wr+=1){const Er=_r[wr].serialize();br.push(await at(this.connection,Er,d))}return br}async simulate(c,d,y,gr){c.feePayer=this.wallet.publicKey,c.recentBlockhash=(await this.connection.getLatestBlockhash(y??this.connection.commitment)).blockhash,c=await this.wallet.signTransaction(c);const _r=await X(this.connection,c,d,y,gr);if(_r.value.err)throw new st(_r.value);return _r.value}}class st extends Error{constructor(c,d){super(d),this.simulationResponse=c}}async function at(u,c,d){const y=d&&{skipPreflight:d.skipPreflight,preflightCommitment:d.preflightCommitment||d.commitment},gr=await u.sendRawTransaction(c,y),_r=(await u.confirmTransaction(gr,d&&d.commitment)).value;if(_r.err)throw new ct(`Raw transaction ${gr} failed (${JSON.stringify(_r)})`);return gr}class ct extends Error{constructor(c){super(c)}}function ut(u){lt=u}function dt(){return lt===null?ot.local():lt}let lt=null;const ht=new Set(["anchor-deprecated-state","debug-logs"]),ft=new Map;function pt(u){return ft.get(u)!==void 0}var mt=Object.freeze({__proto__:null,set:function(u){if(!ht.has(u))throw new Error("Invalid feature");ft.set(u,!0)},isSet:pt});class yt extends Error{constructor(c){super(c),this.name="IdlError"}}class gt{constructor(c){this.stack=c}static parse(c){var d;const y=/^Program (\w*) invoke/,gr=/^Program \w* success/,_r=[];for(let br=0;br<c.length;br++){if(gr.exec(c[br])){_r.pop();continue}const wr=(d=y.exec(c[br]))===null||d===void 0?void 0:d[1];wr&&_r.push(new PublicKey(wr))}return new gt(_r)}}class wt extends Error{constructor(c,d,y,gr,_r,br){super(y.join(`
`).replace("Program log: ","")),this.errorLogs=y,this.logs=gr,this.error={errorCode:c,errorMessage:d,comparedValues:br,origin:_r},this._programErrorStack=gt.parse(gr)}static parse(c){if(!c)return null;const d=c.findIndex(Or=>Or.startsWith("Program log: AnchorError"));if(d===-1)return null;const y=c[d],gr=[y];let _r;if(d+1<c.length){if(c[d+1]==="Program log: Left:"){const Or=/^Program log: (.*)$/,xr=Or.exec(c[d+2])[1],kr=Or.exec(c[d+4])[1];_r=[new PublicKey(xr),new PublicKey(kr)],gr.push(...c.slice(d+1,d+5))}else if(c[d+1].startsWith("Program log: Left:")){const Or=/^Program log: (Left|Right): (.*)$/,xr=Or.exec(c[d+1])[2],kr=Or.exec(c[d+2])[2];gr.push(...c.slice(d+1,d+3)),_r=[xr,kr]}}const br=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(y),wr=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(y),Er=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(y);if(br){const[Or,xr,kr]=br.slice(1,4),Mr={code:Or,number:parseInt(xr)};return new wt(Mr,kr,gr,c,void 0,_r)}if(wr){const[Or,xr,kr,Mr,Cr]=wr.slice(1,6),Nr={code:kr,number:parseInt(Mr)},Ur={file:Or,line:parseInt(xr)};return new wt(Nr,Cr,gr,c,Ur,_r)}if(Er){const[Or,xr,kr,Mr]=Er.slice(1,5),Cr=Or,Nr={code:xr,number:parseInt(kr)};return new wt(Nr,Mr,gr,c,Cr,_r)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class vt extends Error{constructor(c,d,y){super(),this.code=c,this.msg=d,this.logs=y,y&&(this._programErrorStack=gt.parse(y))}static parse(c,d){const y=c.toString();let gr,_r;if(y.includes("custom program error:")){let wr=y.split("custom program error: ");if(wr.length!==2)return null;gr=wr[1]}else{const wr=y.match(/"Custom":([0-9]+)}/g);if(!wr||wr.length>1)return null;gr=wr[0].match(/([0-9]+)/g)[0]}try{_r=parseInt(gr)}catch{return null}let br=d.get(_r);return br!==void 0?new vt(_r,br,c.logs):(br=_t.get(_r),br!==void 0?new vt(_r,br,c.logs):null)}get program(){var c;return(c=this._programErrorStack)===null||c===void 0?void 0:c.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var c;return(c=this._programErrorStack)===null||c===void 0?void 0:c.stack}toString(){return this.msg}}function bt(u,c){pt("debug-logs")&&console.log("Translating error:",u);const d=wt.parse(u.logs);if(d)return d;const y=vt.parse(u,c);if(y)return y;if(u.logs){const gr={get:function(_r,br){return br==="programErrorStack"?_r.programErrorStack.stack:br==="program"?_r.programErrorStack.stack[u.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return u.programErrorStack=gt.parse(u.logs),new Proxy(u,gr)}return u}const At={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},_t=new Map([[At.InstructionMissing,"8 byte instruction identifier not provided"],[At.InstructionFallbackNotFound,"Fallback functions are not supported"],[At.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[At.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[At.IdlInstructionStub,"The program was compiled without idl instructions"],[At.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[At.ConstraintMut,"A mut constraint was violated"],[At.ConstraintHasOne,"A has_one constraint was violated"],[At.ConstraintSigner,"A signer constraint was violated"],[At.ConstraintRaw,"A raw constraint was violated"],[At.ConstraintOwner,"An owner constraint was violated"],[At.ConstraintRentExempt,"A rent exemption constraint was violated"],[At.ConstraintSeeds,"A seeds constraint was violated"],[At.ConstraintExecutable,"An executable constraint was violated"],[At.ConstraintState,"A state constraint was violated"],[At.ConstraintAssociated,"An associated constraint was violated"],[At.ConstraintAssociatedInit,"An associated init constraint was violated"],[At.ConstraintClose,"A close constraint was violated"],[At.ConstraintAddress,"An address constraint was violated"],[At.ConstraintZero,"Expected zero account discriminant"],[At.ConstraintTokenMint,"A token mint constraint was violated"],[At.ConstraintTokenOwner,"A token owner constraint was violated"],[At.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[At.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[At.ConstraintMintDecimals,"A mint decimals constraint was violated"],[At.ConstraintSpace,"A space constraint was violated"],[At.RequireViolated,"A require expression was violated"],[At.RequireEqViolated,"A require_eq expression was violated"],[At.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[At.RequireNeqViolated,"A require_neq expression was violated"],[At.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[At.RequireGtViolated,"A require_gt expression was violated"],[At.RequireGteViolated,"A require_gte expression was violated"],[At.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[At.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[At.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[At.AccountDidNotDeserialize,"Failed to deserialize the account"],[At.AccountDidNotSerialize,"Failed to serialize the account"],[At.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[At.AccountNotMutable,"The given account is not mutable"],[At.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[At.InvalidProgramId,"Program ID was not as expected"],[At.InvalidProgramExecutable,"Program account is not executable"],[At.AccountNotSigner,"The given account did not sign"],[At.AccountNotSystemOwned,"The given account is not owned by the system program"],[At.AccountNotInitialized,"The program expected this account to be already initialized"],[At.AccountNotProgramData,"The given account is not a program data account"],[At.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[At.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[At.StateInvalidAddress,"The given state account does not have the correct address"],[At.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[At.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Et=function(){return Et=Object.assign||function(u){for(var c,d=1,y=arguments.length;d<y;d++)for(var gr in c=arguments[d])Object.prototype.hasOwnProperty.call(c,gr)&&(u[gr]=c[gr]);return u},Et.apply(this,arguments)};function St(u){return u.toLowerCase()}var It=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],kt=/[^A-Z0-9]+/gi;function xt(u,c,d){return c instanceof RegExp?u.replace(c,d):c.reduce(function(y,gr){return y.replace(gr,d)},u)}function Mt(u,c){return c===void 0&&(c={}),function(d,y){y===void 0&&(y={});for(var gr=y.splitRegexp,_r=gr===void 0?It:gr,br=y.stripRegexp,wr=br===void 0?kt:br,Er=y.transform,Or=Er===void 0?St:Er,xr=y.delimiter,kr=xr===void 0?" ":xr,Mr=xt(xt(d,_r,"$1\0$2"),wr,"\0"),Cr=0,Nr=Mr.length;Mr.charAt(Cr)==="\0";)Cr++;for(;Mr.charAt(Nr-1)==="\0";)Nr--;return Mr.slice(Cr,Nr).split("\0").map(Or).join(kr)}(u,Et({delimiter:"."},c))}class Pt{static fieldLayout(c,d){const y=c.name!==void 0?camelcase.exports(c.name):void 0;switch(c.type){case"bool":return lib.bool(y);case"u8":return lib.u8(y);case"i8":return lib.i8(y);case"u16":return lib.u16(y);case"i16":return lib.i16(y);case"u32":return lib.u32(y);case"i32":return lib.i32(y);case"f32":return lib.f32(y);case"u64":return lib.u64(y);case"i64":return lib.i64(y);case"f64":return lib.f64(y);case"u128":return lib.u128(y);case"i128":return lib.i128(y);case"bytes":return lib.vecU8(y);case"string":return lib.str(y);case"publicKey":return lib.publicKey(y);default:if("vec"in c.type)return lib.vec(Pt.fieldLayout({name:void 0,type:c.type.vec},d),y);if("option"in c.type)return lib.option(Pt.fieldLayout({name:void 0,type:c.type.option},d),y);if("defined"in c.type){const gr=c.type.defined;if(d===void 0)throw new yt("User defined types not provided");const _r=d.filter(br=>br.name===gr);if(_r.length!==1)throw new yt(`Type not found: ${JSON.stringify(c)}`);return Pt.typeDefLayout(_r[0],d,y)}if("array"in c.type){let gr=c.type.array[0],_r=c.type.array[1],br=Pt.fieldLayout({name:void 0,type:gr},d);return lib.array(br,_r,y)}throw new Error(`Not yet implemented: ${c}`)}}static typeDefLayout(c,d=[],y){if(c.type.kind==="struct"){const gr=c.type.fields.map(_r=>Pt.fieldLayout(_r,d));return lib.struct(gr,y)}if(c.type.kind==="enum"){let gr=c.type.variants.map(_r=>{const br=camelcase.exports(_r.name);if(_r.fields===void 0)return lib.struct([],br);const wr=_r.fields.map(Er=>{if(!Er.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Pt.fieldLayout(Er,d)});return lib.struct(wr,br)});return y!==void 0?lib.rustEnum(gr).replicate(y):lib.rustEnum(gr,y)}throw new Error(`Unknown type kint: ${c}`)}}class Tt{constructor(c){this.idl=c,this.ixLayout=Tt.parseIxLayout(c);const d=new Map;c.instructions.forEach(y=>{const gr=Lt("global",y.name);d.set(bs58.encode(gr),{layout:this.ixLayout.get(y.name),name:y.name})}),c.state&&c.state.methods.map(y=>{const gr=Lt("state",y.name);d.set(bs58.encode(gr),{layout:this.ixLayout.get(y.name),name:y.name})}),this.sighashLayouts=d}encode(c,d){return this._encode("global",c,d)}encodeState(c,d){return this._encode("state",c,d)}_encode(c,d,y){const gr=buffer$2.Buffer.alloc(1e3),_r=camelcase.exports(d),br=this.ixLayout.get(_r);if(!br)throw new Error(`Unknown method: ${_r}`);const wr=br.encode(y,gr),Er=gr.slice(0,wr);return buffer$2.Buffer.concat([Lt(c,d),Er])}static parseIxLayout(c){const d=(c.state?c.state.methods:[]).map(y=>{let gr=y.args.map(br=>{var wr,Er;return Pt.fieldLayout(br,Array.from([...(wr=c.accounts)!==null&&wr!==void 0?wr:[],...(Er=c.types)!==null&&Er!==void 0?Er:[]]))});const _r=camelcase.exports(y.name);return[_r,lib.struct(gr,_r)]}).concat(c.instructions.map(y=>{let gr=y.args.map(br=>{var wr,Er;return Pt.fieldLayout(br,Array.from([...(wr=c.accounts)!==null&&wr!==void 0?wr:[],...(Er=c.types)!==null&&Er!==void 0?Er:[]]))});const _r=camelcase.exports(y.name);return[_r,lib.struct(gr,_r)]}));return new Map(d)}decode(c,d="hex"){typeof c=="string"&&(c=d==="hex"?buffer$2.Buffer.from(c,"hex"):bs58.decode(c));let y=bs58.encode(c.slice(0,8)),gr=c.slice(8);const _r=this.sighashLayouts.get(y);return _r?{data:_r.layout.decode(gr),name:_r.name}:null}format(c,d){return Ct.format(c,d,this.idl)}}class Ct{static format(c,d,y){const gr=y.instructions.filter(wr=>c.name===wr.name)[0];if(gr===void 0)return console.error("Invalid instruction given"),null;const _r=gr.args.map(wr=>({name:wr.name,type:Ct.formatIdlType(wr.type),data:Ct.formatIdlData(wr,c.data[wr.name],y.types)})),br=Ct.flattenIdlAccounts(gr.accounts);return{args:_r,accounts:d.map((wr,Er)=>Er<br.length?{name:br[Er].name,...wr}:{name:void 0,...wr})}}static formatIdlType(c){if(typeof c=="string")return c;if("vec"in c)return`Vec<${this.formatIdlType(c.vec)}>`;if("option"in c)return`Option<${this.formatIdlType(c.option)}>`;if("defined"in c)return c.defined;if("array"in c)return`Array<${c.array[0]}; ${c.array[1]}>`;throw new Error(`Unknown IDL type: ${c}`)}static formatIdlData(c,d,y){if(typeof c.type=="string")return d.toString();if(c.type.hasOwnProperty("vec"))return"["+d.map(gr=>this.formatIdlData({name:"",type:c.type.vec},gr)).join(", ")+"]";if(c.type.hasOwnProperty("option"))return d===null?"null":this.formatIdlData({name:"",type:c.type.option},d,y);if(c.type.hasOwnProperty("defined")){if(y===void 0)throw new Error("User defined types not provided");const gr=y.filter(_r=>_r.name===c.type.defined);if(gr.length!==1)throw new Error(`Type not found: ${c.type.defined}`);return Ct.formatIdlDataDefined(gr[0],d,y)}return"unknown"}static formatIdlDataDefined(c,d,y){if(c.type.kind==="struct"){const gr=c.type;return"{ "+Object.keys(d).map(_r=>{const br=gr.fields.filter(wr=>wr.name===_r)[0];if(br===void 0)throw new Error("Unable to find type");return _r+": "+Ct.formatIdlData(br,d[_r],y)}).join(", ")+" }"}if(c.type.variants.length===0)return"{}";if(c.type.variants[0].name){const gr=c.type.variants,_r=Object.keys(d)[0],br=d[_r],wr=Object.keys(br).map(Or=>{var xr;const kr=br[Or],Mr=(xr=gr[_r])===null||xr===void 0?void 0:xr.filter(Cr=>Cr.name===Or)[0];if(Mr===void 0)throw new Error("Unable to find variant");return Or+": "+Ct.formatIdlData(Mr,kr,y)}).join(", "),Er=camelcase.exports(_r,{pascalCase:!0});return wr.length===0?Er:`${Er} { ${wr} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(c,d){return c.map(y=>{const gr=function(_r){const br=_r.replace(/([A-Z])/g," $1");return br.charAt(0).toUpperCase()+br.slice(1)}(y.name);if(y.hasOwnProperty("accounts")){const _r=d?`${d} > ${gr}`:gr;return Ct.flattenIdlAccounts(y.accounts,_r)}return{...y,name:d?`${d} > ${gr}`:gr}}).flat()}}function Lt(u,c){var d;let y=`${u}:${d===void 0&&(d={}),Mt(c,Et({delimiter:"_"},d))}`;return buffer$2.Buffer.from(sha256.exports.sha256.digest(y)).slice(0,8)}function Ot(u,c){if(c.type.kind==="enum"){let d=c.type.variants.map(y=>y.fields===void 0?0:y.fields.map(gr=>{if(typeof gr!="object"||!("name"in gr))throw new Error("Tuple enum variants not yet implemented.");return Bt(u,gr.type)}).reduce((gr,_r)=>gr+_r));return Math.max(...d)+1}return c.type.fields===void 0?0:c.type.fields.map(d=>Bt(u,d.type)).reduce((d,y)=>d+y,0)}function Bt(u,c){var d,y;switch(c){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in c)return 1;if("option"in c)return 1+Bt(u,c.option);if("coption"in c)return 4+Bt(u,c.coption);if("defined"in c){const gr=(y=(d=u.types)===null||d===void 0?void 0:d.filter(_r=>_r.name===c.defined))!==null&&y!==void 0?y:[];if(gr.length!==1)throw new yt(`Type not found: ${JSON.stringify(c)}`);return Ot(u,gr[0])}if("array"in c){let gr=c.array[0],_r=c.array[1];return Bt(u,gr)*_r}throw new Error(`Invalid type ${JSON.stringify(c)}`)}}const Dt=8;class zt{constructor(c){if(c.accounts===void 0)return void(this.accountLayouts=new Map);const d=c.accounts.map(y=>[y.name,Pt.typeDefLayout(y,c.types)]);this.accountLayouts=new Map(d),this.idl=c}async encode(c,d){const y=buffer$2.Buffer.alloc(1e3),gr=this.accountLayouts.get(c);if(!gr)throw new Error(`Unknown account: ${c}`);const _r=gr.encode(d,y);let br=y.slice(0,_r),wr=zt.accountDiscriminator(c);return buffer$2.Buffer.concat([wr,br])}decode(c,d){if(zt.accountDiscriminator(c).compare(d.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(c,d)}decodeUnchecked(c,d){const y=d.slice(8),gr=this.accountLayouts.get(c);if(!gr)throw new Error(`Unknown account: ${c}`);return gr.decode(y)}memcmp(c,d){const y=zt.accountDiscriminator(c);return{offset:0,bytes:bs58.encode(d?buffer$2.Buffer.concat([y,d]):y)}}size(c){var d;return 8+((d=Ot(this.idl,c))!==null&&d!==void 0?d:0)}static accountDiscriminator(c){return buffer$2.Buffer.from(sha256.exports.sha256.digest(`account:${camelcase.exports(c,{pascalCase:!0})}`)).slice(0,8)}}class Nt{constructor(c){if(c.events===void 0)return void(this.layouts=new Map);const d=c.events.map(y=>{let gr={name:y.name,type:{kind:"struct",fields:y.fields.map(_r=>({name:_r.name,type:_r.type}))}};return[y.name,Pt.typeDefLayout(gr,c.types)]});this.layouts=new Map(d),this.discriminators=new Map(c.events===void 0?[]:c.events.map(y=>[fromByteArray_1(jt(y.name)),y.name]))}decode(c){let d;try{d=buffer$2.Buffer.from(toByteArray_1(c))}catch{return null}const y=fromByteArray_1(d.slice(0,8)),gr=this.discriminators.get(y);if(gr===void 0)return null;const _r=this.layouts.get(gr);if(!_r)throw new Error(`Unknown event: ${gr}`);return{data:_r.decode(d.slice(8)),name:gr}}}function jt(u){return buffer$2.Buffer.from(sha256.exports.sha256.digest(`event:${u}`)).slice(0,8)}class Rt{constructor(c){if(c.state===void 0)throw new Error("Idl state not defined.");this.layout=Pt.typeDefLayout(c.state.struct,c.types)}async encode(c,d){const y=buffer$2.Buffer.alloc(1e3),gr=this.layout.encode(d,y),_r=await Ut(c),br=y.slice(0,gr);return buffer$2.Buffer.concat([_r,br])}decode(c){const d=c.slice(8);return this.layout.decode(d)}}async function Ut(u){let c=pt("anchor-deprecated-state")?"account":"state";return buffer$2.Buffer.from(sha256.exports.sha256.digest(`${c}:${u}`)).slice(0,8)}class Vt{constructor(c){this.instruction=new Tt(c),this.accounts=new zt(c),this.events=new Nt(c),c.state&&(this.state=new Rt(c))}}var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}class Kt{constructor(c,d){if(!Number.isInteger(c))throw new TypeError("span must be an integer");this.span=c,this.property=d}makeDestinationObject(){return{}}decode(c,d){throw new Error("Layout is abstract")}encode(c,d,y){throw new Error("Layout is abstract")}getSpan(c,d){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(c){const d=Object.create(this.constructor.prototype);return Object.assign(d,this),d.property=c,d}fromArray(c){}}var Ft=Kt;class Wt extends Kt{isCount(){throw new Error("ExternalLayout is abstract")}}class Gt extends Wt{constructor(c,d,y){if(!(c instanceof Kt))throw new TypeError("layout must be a Layout");if(d===void 0)d=0;else if(!Number.isInteger(d))throw new TypeError("offset must be integer or undefined");super(c.span,y||c.property),this.layout=c,this.offset=d}isCount(){return this.layout instanceof Ht||this.layout instanceof Jt}decode(c,d){return d===void 0&&(d=0),this.layout.decode(c,d+this.offset)}encode(c,d,y){return y===void 0&&(y=0),this.layout.encode(c,d,y+this.offset)}}class Ht extends Kt{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d){return d===void 0&&(d=0),c.readUIntLE(d,this.span)}encode(c,d,y){return y===void 0&&(y=0),d.writeUIntLE(c,y,this.span),this.span}}class Jt extends Kt{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d){return d===void 0&&(d=0),c.readUIntBE(d,this.span)}encode(c,d,y){return y===void 0&&(y=0),d.writeUIntBE(c,y,this.span),this.span}}const Zt=Math.pow(2,32);class Qt extends Kt{constructor(c){super(8,c)}decode(c,d){d===void 0&&(d=0);const y=c.readUInt32LE(d);return function(gr,_r){return gr*Zt+_r}(c.readUInt32LE(d+4),y)}encode(c,d,y){y===void 0&&(y=0);const gr=function(_r){const br=Math.floor(_r/Zt);return{hi32:br,lo32:_r-br*Zt}}(c);return d.writeUInt32LE(gr.lo32,y),d.writeUInt32LE(gr.hi32,y+4),8}}class Xt extends Kt{constructor(c,d,y){if(!Array.isArray(c)||!c.reduce((_r,br)=>_r&&br instanceof Kt,!0))throw new TypeError("fields must be array of Layout instances");typeof d=="boolean"&&y===void 0&&(y=d,d=void 0);for(const _r of c)if(0>_r.span&&_r.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let gr=-1;try{gr=c.reduce((_r,br)=>_r+br.getSpan(),0)}catch{}super(gr,d),this.fields=c,this.decodePrefixes=!!y}getSpan(c,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let y=0;try{y=this.fields.reduce((gr,_r)=>{const br=_r.getSpan(c,d);return d+=br,gr+br},0)}catch{throw new RangeError("indeterminate span")}return y}decode(c,d){d===void 0&&(d=0);const y=this.makeDestinationObject();for(const gr of this.fields)if(gr.property!==void 0&&(y[gr.property]=gr.decode(c,d)),d+=gr.getSpan(c,d),this.decodePrefixes&&c.length===d)break;return y}encode(c,d,y){y===void 0&&(y=0);const gr=y;let _r=0,br=0;for(const wr of this.fields){let Er=wr.span;if(br=0<Er?Er:0,wr.property!==void 0){const Or=c[wr.property];Or!==void 0&&(br=wr.encode(Or,d,y),0>Er&&(Er=wr.getSpan(d,y)))}_r=y,y+=Er}return _r+br-gr}fromArray(c){const d=this.makeDestinationObject();for(const y of this.fields)y.property!==void 0&&0<c.length&&(d[y.property]=c.shift());return d}layoutFor(c){if(typeof c!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===c)return d}offsetOf(c){if(typeof c!="string")throw new TypeError("property must be string");let d=0;for(const y of this.fields){if(y.property===c)return d;0>y.span?d=-1:0<=d&&(d+=y.span)}}}class Yt{constructor(c){this.property=c}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class te extends Yt{constructor(c,d){if(!(c instanceof Wt&&c.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(d||c.property||"variant"),this.layout=c}decode(c,d){return this.layout.decode(c,d)}encode(c,d,y){return this.layout.encode(c,d,y)}}class ee extends Kt{constructor(c,d,y){const gr=c instanceof Ht||c instanceof Jt;if(gr)c=new te(new Gt(c));else if(c instanceof Wt&&c.isCount())c=new te(c);else if(!(c instanceof Yt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(d===void 0&&(d=null),!(d===null||d instanceof Kt))throw new TypeError("defaultLayout must be null or a Layout");if(d!==null){if(0>d.span)throw new Error("defaultLayout must have constant span");d.property===void 0&&(d=d.replicate("content"))}let _r=-1;d&&(_r=d.span,0<=_r&&gr&&(_r+=c.layout.span)),super(_r,y),this.discriminator=c,this.usesPrefixDiscriminator=gr,this.defaultLayout=d,this.registry={};let br=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(wr){return br(wr)},this.configGetSourceVariant=function(wr){br=wr.bind(this)}}getSpan(c,d){if(0<=this.span)return this.span;d===void 0&&(d=0);const y=this.getVariant(c,d);if(!y)throw new Error("unable to determine span for unrecognized variant");return y.getSpan(c,d)}defaultGetSourceVariant(c){if(c.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&c.hasOwnProperty(this.defaultLayout.property))return;const d=this.registry[c[this.discriminator.property]];if(d&&(!d.layout||c.hasOwnProperty(d.property)))return d}else for(const d in this.registry){const y=this.registry[d];if(c.hasOwnProperty(y.property))return y}throw new Error("unable to infer src variant")}decode(c,d){let y;d===void 0&&(d=0);const gr=this.discriminator,_r=gr.decode(c,d);let br=this.registry[_r];if(br===void 0){let wr=0;br=this.defaultLayout,this.usesPrefixDiscriminator&&(wr=gr.layout.span),y=this.makeDestinationObject(),y[gr.property]=_r,y[br.property]=this.defaultLayout.decode(c,d+wr)}else y=br.decode(c,d);return y}encode(c,d,y){y===void 0&&(y=0);const gr=this.getSourceVariant(c);if(gr===void 0){const _r=this.discriminator,br=this.defaultLayout;let wr=0;return this.usesPrefixDiscriminator&&(wr=_r.layout.span),_r.encode(c[_r.property],d,y),wr+br.encode(c[br.property],d,y+wr)}return gr.encode(c,d,y)}addVariant(c,d,y){const gr=new re(this,c,d,y);return this.registry[c]=gr,gr}getVariant(c,d){let y=c;return Buffer.isBuffer(c)&&(d===void 0&&(d=0),y=this.discriminator.decode(c,d)),this.registry[y]}}class re extends Kt{constructor(c,d,y,gr){if(!(c instanceof ee))throw new TypeError("union must be a Union");if(!Number.isInteger(d)||0>d)throw new TypeError("variant must be a (non-negative) integer");if(typeof y=="string"&&gr===void 0&&(gr=y,y=null),y){if(!(y instanceof Kt))throw new TypeError("layout must be a Layout");if(c.defaultLayout!==null&&0<=y.span&&y.span>c.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof gr!="string")throw new TypeError("variant must have a String property")}let _r=c.span;0>c.span&&(_r=y?y.span:0,0<=_r&&c.usesPrefixDiscriminator&&(_r+=c.discriminator.layout.span)),super(_r,gr),this.union=c,this.variant=d,this.layout=y||null}getSpan(c,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let y=0;return this.union.usesPrefixDiscriminator&&(y=this.union.discriminator.layout.span),y+this.layout.getSpan(c,d+y)}decode(c,d){const y=this.makeDestinationObject();if(d===void 0&&(d=0),this!==this.union.getVariant(c,d))throw new Error("variant mismatch");let gr=0;return this.union.usesPrefixDiscriminator&&(gr=this.union.discriminator.layout.span),this.layout?y[this.property]=this.layout.decode(c,d+gr):this.property?y[this.property]=!0:this.union.usesPrefixDiscriminator&&(y[this.union.discriminator.property]=this.variant),y}encode(c,d,y){y===void 0&&(y=0);let gr=0;if(this.union.usesPrefixDiscriminator&&(gr=this.union.discriminator.layout.span),this.layout&&!c.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,d,y);let _r=gr;if(this.layout&&(this.layout.encode(c[this.property],d,y+gr),_r+=this.layout.getSpan(d,y+gr),0<=this.union.span&&_r>this.union.span))throw new Error("encoded variant overruns containing union");return _r}fromArray(c){if(this.layout)return this.layout.fromArray(c)}}class ne extends Kt{constructor(c,d){if(!(c instanceof Wt&&c.isCount()||Number.isInteger(c)&&0<=c))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let y=-1;c instanceof Wt||(y=c),super(y,d),this.length=c}getSpan(c,d){let y=this.span;return 0>y&&(y=this.length.decode(c,d)),y}decode(c,d){d===void 0&&(d=0);let y=this.span;return 0>y&&(y=this.length.decode(c,d)),c.slice(d,d+y)}encode(c,d,y){let gr=this.length;if(this.length instanceof Wt&&(gr=c.length),!Buffer.isBuffer(c)||gr!==c.length)throw new TypeError((_r="Blob.encode",((br=this).property?_r+"["+br.property+"]":_r)+" requires (length "+gr+") Buffer as src"));var _r,br;if(y+gr>d.length)throw new RangeError("encoding overruns Buffer");return d.write(c.toString("hex"),y,gr,"hex"),this.length instanceof Wt&&this.length.encode(gr,d,y),gr}}var ie=u=>new Ht(1,u),oe=u=>new Qt(u),se=(u,c,d)=>new Xt(u,c,d),ae=(u,c)=>new ne(u,c);class ce{constructor(c){}encode(c,d){switch(camelcase.exports(c)){case"initializeMint":return function({decimals:y,mintAuthority:gr,freezeAuthority:_r}){return pe({initializeMint:{decimals:y,mintAuthority:gr.toBuffer(),freezeAuthorityOption:!!_r,freezeAuthority:(_r||PublicKey.default).toBuffer()}})}(d);case"initializeAccount":return pe({initializeAccount:{}});case"initializeMultisig":return function({m:y}){return pe({initializeMultisig:{m:y}})}(d);case"transfer":return function({amount:y}){return pe({transfer:{amount:y}})}(d);case"approve":return function({amount:y}){return pe({approve:{amount:y}})}(d);case"revoke":return pe({revoke:{}});case"setAuthority":return function({authorityType:y,newAuthority:gr}){return pe({setAuthority:{authorityType:y,newAuthority:gr}})}(d);case"mintTo":return function({amount:y}){return pe({mintTo:{amount:y}})}(d);case"burn":return function({amount:y}){return pe({burn:{amount:y}})}(d);case"closeAccount":return pe({closeAccount:{}});case"freezeAccount":return pe({freezeAccount:{}});case"thawAccount":return pe({thawAccount:{}});case"transferChecked":return function({amount:y,decimals:gr}){return pe({transferChecked:{amount:y,decimals:gr}})}(d);case"approvedChecked":return function({amount:y,decimals:gr}){return pe({approveChecked:{amount:y,decimals:gr}})}(d);case"mintToChecked":return function({amount:y,decimals:gr}){return pe({mintToChecked:{amount:y,decimals:gr}})}(d);case"burnChecked":return function({amount:y,decimals:gr}){return pe({burnChecked:{amount:y,decimals:gr}})}(d);case"intializeAccount2":return function({authority:y}){return pe({initilaizeAccount2:{authority:y}})}(d);case"syncNative":return pe({syncNative:{}});case"initializeAccount3":return function({authority:y}){return pe({initializeAccount3:{authority:y}})}(d);case"initializeMultisig2":return function({m:y}){return pe({initializeMultisig2:{m:y}})}(d);case"initializeMint2":return function({decimals:y,mintAuthority:gr,freezeAuthority:_r}){return pe({encodeInitializeMint2:{decimals:y,mintAuthority:gr,freezeAuthority:_r}})}(d);default:throw new Error(`Invalid instruction: ${c}`)}}encodeState(c,d){throw new Error("SPL token does not have state")}}const ue=(de=ie("instruction"),new ee(de,le,he));var de,le,he;function fe(u){return ae(32,u)}function pe(u){let c=Buffer.alloc(me),d=ue.encode(u,c);return c.slice(0,d)}ue.addVariant(0,se([ie("decimals"),ae(32,"mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint"),ue.addVariant(1,se([]),"initializeAccount"),ue.addVariant(2,se([ie("m")]),"initializeMultisig"),ue.addVariant(3,se([oe("amount")]),"transfer"),ue.addVariant(4,se([oe("amount")]),"approve"),ue.addVariant(5,se([]),"revoke"),ue.addVariant(6,se([ie("authorityType"),ie("newAuthorityOption"),fe("newAuthority")]),"setAuthority"),ue.addVariant(7,se([oe("amount")]),"mintTo"),ue.addVariant(8,se([oe("amount")]),"burn"),ue.addVariant(9,se([]),"closeAccount"),ue.addVariant(10,se([]),"freezeAccount"),ue.addVariant(11,se([]),"thawAccount"),ue.addVariant(12,se([oe("amount"),ie("decimals")]),"transferChecked"),ue.addVariant(13,se([oe("amount"),ie("decimals")]),"approvedChecked"),ue.addVariant(14,se([oe("amount"),ie("decimals")]),"mintToChecked"),ue.addVariant(15,se([oe("amount"),ie("decimals")]),"burnedChecked"),ue.addVariant(16,se([fe("authority")]),"InitializeAccount2"),ue.addVariant(17,se([]),"syncNative"),ue.addVariant(18,se([fe("authority")]),"initializeAccount3"),ue.addVariant(19,se([ie("m")]),"initializeMultisig2"),ue.addVariant(20,se([ie("decimals"),fe("mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint2");const me=Math.max(...Object.values(ue.registry).map(u=>u.span));class ye{constructor(c){}encode(c,d){throw new Error("SPL token does not have state")}decode(c){throw new Error("SPL token does not have state")}}function ge(u){return new be(ae(8),c=>Se.fromBuffer(c),c=>c.toBuffer(),u)}function we(u){return new be(ae(32),c=>new PublicKey(c),c=>c.toBuffer(),u)}function ve(u,c){return new Ae(u,c)}class be extends Ft{constructor(c,d,y,gr){super(c.span,gr),this.layout=c,this.decoder=d,this.encoder=y}decode(c,d){return this.decoder(this.layout.decode(c,d))}encode(c,d,y){return this.layout.encode(this.encoder(c),d,y)}getSpan(c,d){return this.layout.getSpan(c,d)}}class Ae extends Ft{constructor(c,d){super(-1,d),this.layout=c,this.discriminator=(y=>new Ht(4,y))()}encode(c,d,y=0){return c==null?this.layout.span+this.discriminator.encode(0,d,y):(this.discriminator.encode(1,d,y),this.layout.encode(c,d,y+4)+4)}decode(c,d=0){const y=this.discriminator.decode(c,d);if(y===0)return null;if(y===1)return this.layout.decode(c,d+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(c,d=0){return this.layout.getSpan(c,d+4)+4}}function _e(u){if(u===0)return!1;if(u===1)return!0;throw new Error("Invalid bool: "+u)}function Ee(u){return u?1:0}class Se extends BN{toBuffer(){const c=super.toArray().reverse(),d=Buffer.from(c);if(d.length===8)return d;if(d.length>=8)throw new Error("u64 too large");const y=Buffer.alloc(8);return d.copy(y),y}static fromBuffer(c){if(c.length!==8)throw new Error(`Invalid buffer length: ${c.length}`);return new Se([...c].reverse().map(d=>`00${d.toString(16)}`.slice(-2)).join(""),16)}}class Ie{constructor(c){this.idl=c}async encode(c,d){switch(c){case"token":{const y=Buffer.alloc(165),gr=xe.encode(d,y);return y.slice(0,gr)}case"mint":{const y=Buffer.alloc(82),gr=ke.encode(d,y);return y.slice(0,gr)}default:throw new Error(`Invalid account name: ${c}`)}}decode(c,d){return this.decodeUnchecked(c,d)}decodeUnchecked(c,d){switch(c){case"token":return function(y){return xe.decode(y)}(d);case"mint":return function(y){return ke.decode(y)}(d);default:throw new Error(`Invalid account name: ${c}`)}}memcmp(c,d){switch(c){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${c}`)}}size(c){var d;return(d=Ot(this.idl,c))!==null&&d!==void 0?d:0}}const ke=se([ve(we(),"mintAuthority"),ge("supply"),ie("decimals"),function(u){return new be(ie(),_e,Ee,u)}("isInitialized"),ve(we(),"freezeAuthority")]),xe=se([we("mint"),we("authority"),ge("amount"),ve(we(),"delegate"),ie("state"),ve(ge(),"isNative"),ge("delegatedAmount"),ve(we(),"closeAuthority")]);class Me{constructor(c){}decode(c){throw new Error("SPL token program does not have events")}}class Pe{constructor(c){this.instruction=new ce(c),this.accounts=new Ie(c),this.events=new Me(c),this.state=new ye(c)}}var Te=Object.freeze({__proto__:null,hash:function(u){return sha256.exports.sha256(u)}});function Ce(u,c,d){const y=buffer$2.Buffer.concat([u.toBuffer(),buffer$2.Buffer.from(c),d.toBuffer()]),gr=sha256.exports.sha256.digest(y);return new PublicKey(buffer$2.Buffer.from(gr))}function Le(u,c){let d=buffer$2.Buffer.alloc(0);u.forEach(function(_r){if(_r.length>32)throw new TypeError("Max seed length exceeded");d=buffer$2.Buffer.concat([d,Be(_r)])}),d=buffer$2.Buffer.concat([d,c.toBuffer(),buffer$2.Buffer.from("ProgramDerivedAddress")]);let y=sha256.exports.sha256(new Uint8Array(d)),gr=new BN(y,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(gr)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(gr)}function Oe(u,c){let d,y=255;for(;y!=0;){try{d=Le(u.concat(buffer$2.Buffer.from([y])),c)}catch(gr){if(gr instanceof TypeError)throw gr;y--;continue}return[d,y]}throw new Error("Unable to find a viable program address nonce")}const Be=u=>u instanceof buffer$2.Buffer?u:u instanceof Uint8Array?buffer$2.Buffer.from(u.buffer,u.byteOffset,u.byteLength):buffer$2.Buffer.from(u);async function De(u,...c){let d=[buffer$2.Buffer.from([97,110,99,104,111,114])];c.forEach(gr=>{d.push(gr instanceof buffer$2.Buffer?gr:P(gr).toBuffer())});const[y]=await PublicKey.findProgramAddress(d,P(u));return y}var ze=Object.freeze({__proto__:null,createWithSeedSync:Ce,createProgramAddressSync:Le,findProgramAddressSync:Oe,associated:De});const Ne=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),je=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Re=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:je,associatedAddress:async function({mint:u,owner:c}){return(await PublicKey.findProgramAddress([c.toBuffer(),Ne.toBuffer(),u.toBuffer()],je))[0]}}),Ue={exports:{}};(function(u,c){var d=typeof self<"u"?self:$t,y=function(){function _r(){this.fetch=!1,this.DOMException=d.DOMException}return _r.prototype=d,new _r}();(function(_r){(function(br){var wr="URLSearchParams"in _r,Er="Symbol"in _r&&"iterator"in Symbol,Or="FileReader"in _r&&"Blob"in _r&&function(){try{return new Blob,!0}catch{return!1}}(),xr="FormData"in _r,kr="ArrayBuffer"in _r;if(kr)var Mr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Cr=ArrayBuffer.isView||function(Fr){return Fr&&Mr.indexOf(Object.prototype.toString.call(Fr))>-1};function Nr(Fr){if(typeof Fr!="string"&&(Fr=String(Fr)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Fr))throw new TypeError("Invalid character in header field name");return Fr.toLowerCase()}function Ur(Fr){return typeof Fr!="string"&&(Fr=String(Fr)),Fr}function Dr(Fr){var Rr={next:function(){var Lr=Fr.shift();return{done:Lr===void 0,value:Lr}}};return Er&&(Rr[Symbol.iterator]=function(){return Rr}),Rr}function zr(Fr){this.map={},Fr instanceof zr?Fr.forEach(function(Rr,Lr){this.append(Lr,Rr)},this):Array.isArray(Fr)?Fr.forEach(function(Rr){this.append(Rr[0],Rr[1])},this):Fr&&Object.getOwnPropertyNames(Fr).forEach(function(Rr){this.append(Rr,Fr[Rr])},this)}function Zr(Fr){if(Fr.bodyUsed)return Promise.reject(new TypeError("Already read"));Fr.bodyUsed=!0}function Wr(Fr){return new Promise(function(Rr,Lr){Fr.onload=function(){Rr(Fr.result)},Fr.onerror=function(){Lr(Fr.error)}})}function tn(Fr){var Rr=new FileReader,Lr=Wr(Rr);return Rr.readAsArrayBuffer(Fr),Lr}function rn(Fr){if(Fr.slice)return Fr.slice(0);var Rr=new Uint8Array(Fr.byteLength);return Rr.set(new Uint8Array(Fr)),Rr.buffer}function Jr(){return this.bodyUsed=!1,this._initBody=function(Fr){var Rr;this._bodyInit=Fr,Fr?typeof Fr=="string"?this._bodyText=Fr:Or&&Blob.prototype.isPrototypeOf(Fr)?this._bodyBlob=Fr:xr&&FormData.prototype.isPrototypeOf(Fr)?this._bodyFormData=Fr:wr&&URLSearchParams.prototype.isPrototypeOf(Fr)?this._bodyText=Fr.toString():kr&&Or&&(Rr=Fr)&&DataView.prototype.isPrototypeOf(Rr)?(this._bodyArrayBuffer=rn(Fr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):kr&&(ArrayBuffer.prototype.isPrototypeOf(Fr)||Cr(Fr))?this._bodyArrayBuffer=rn(Fr):this._bodyText=Fr=Object.prototype.toString.call(Fr):this._bodyText="",this.headers.get("content-type")||(typeof Fr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):wr&&URLSearchParams.prototype.isPrototypeOf(Fr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Or&&(this.blob=function(){var Fr=Zr(this);if(Fr)return Fr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Zr(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(tn)}),this.text=function(){var Fr=Zr(this);if(Fr)return Fr;if(this._bodyBlob)return function(Rr){var Lr=new FileReader,Vr=Wr(Lr);return Lr.readAsText(Rr),Vr}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(Rr){for(var Lr=new Uint8Array(Rr),Vr=new Array(Lr.length),Yr=0;Yr<Lr.length;Yr++)Vr[Yr]=String.fromCharCode(Lr[Yr]);return Vr.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},xr&&(this.formData=function(){return this.text().then(mn)}),this.json=function(){return this.text().then(JSON.parse)},this}zr.prototype.append=function(Fr,Rr){Fr=Nr(Fr),Rr=Ur(Rr);var Lr=this.map[Fr];this.map[Fr]=Lr?Lr+", "+Rr:Rr},zr.prototype.delete=function(Fr){delete this.map[Nr(Fr)]},zr.prototype.get=function(Fr){return Fr=Nr(Fr),this.has(Fr)?this.map[Fr]:null},zr.prototype.has=function(Fr){return this.map.hasOwnProperty(Nr(Fr))},zr.prototype.set=function(Fr,Rr){this.map[Nr(Fr)]=Ur(Rr)},zr.prototype.forEach=function(Fr,Rr){for(var Lr in this.map)this.map.hasOwnProperty(Lr)&&Fr.call(Rr,this.map[Lr],Lr,this)},zr.prototype.keys=function(){var Fr=[];return this.forEach(function(Rr,Lr){Fr.push(Lr)}),Dr(Fr)},zr.prototype.values=function(){var Fr=[];return this.forEach(function(Rr){Fr.push(Rr)}),Dr(Fr)},zr.prototype.entries=function(){var Fr=[];return this.forEach(function(Rr,Lr){Fr.push([Lr,Rr])}),Dr(Fr)},Er&&(zr.prototype[Symbol.iterator]=zr.prototype.entries);var Qr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function an(Fr,Rr){var Lr,Vr,Yr=(Rr=Rr||{}).body;if(Fr instanceof an){if(Fr.bodyUsed)throw new TypeError("Already read");this.url=Fr.url,this.credentials=Fr.credentials,Rr.headers||(this.headers=new zr(Fr.headers)),this.method=Fr.method,this.mode=Fr.mode,this.signal=Fr.signal,Yr||Fr._bodyInit==null||(Yr=Fr._bodyInit,Fr.bodyUsed=!0)}else this.url=String(Fr);if(this.credentials=Rr.credentials||this.credentials||"same-origin",!Rr.headers&&this.headers||(this.headers=new zr(Rr.headers)),this.method=(Lr=Rr.method||this.method||"GET",Vr=Lr.toUpperCase(),Qr.indexOf(Vr)>-1?Vr:Lr),this.mode=Rr.mode||this.mode||null,this.signal=Rr.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Yr)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Yr)}function mn(Fr){var Rr=new FormData;return Fr.trim().split("&").forEach(function(Lr){if(Lr){var Vr=Lr.split("="),Yr=Vr.shift().replace(/\+/g," "),Xr=Vr.join("=").replace(/\+/g," ");Rr.append(decodeURIComponent(Yr),decodeURIComponent(Xr))}}),Rr}function fn(Fr,Rr){Rr||(Rr={}),this.type="default",this.status=Rr.status===void 0?200:Rr.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Rr?Rr.statusText:"OK",this.headers=new zr(Rr.headers),this.url=Rr.url||"",this._initBody(Fr)}an.prototype.clone=function(){return new an(this,{body:this._bodyInit})},Jr.call(an.prototype),Jr.call(fn.prototype),fn.prototype.clone=function(){return new fn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new zr(this.headers),url:this.url})},fn.error=function(){var Fr=new fn(null,{status:0,statusText:""});return Fr.type="error",Fr};var gn=[301,302,303,307,308];fn.redirect=function(Fr,Rr){if(gn.indexOf(Rr)===-1)throw new RangeError("Invalid status code");return new fn(null,{status:Rr,headers:{location:Fr}})},br.DOMException=_r.DOMException;try{new br.DOMException}catch{br.DOMException=function(Rr,Lr){this.message=Rr,this.name=Lr;var Vr=Error(Rr);this.stack=Vr.stack},br.DOMException.prototype=Object.create(Error.prototype),br.DOMException.prototype.constructor=br.DOMException}function Sn(Fr,Rr){return new Promise(function(Lr,Vr){var Yr=new an(Fr,Rr);if(Yr.signal&&Yr.signal.aborted)return Vr(new br.DOMException("Aborted","AbortError"));var Xr=new XMLHttpRequest;function hn(){Xr.abort()}Xr.onload=function(){var En,qr,Br={status:Xr.status,statusText:Xr.statusText,headers:(En=Xr.getAllResponseHeaders()||"",qr=new zr,En.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(_n){var on=_n.split(":"),sn=on.shift().trim();if(sn){var yn=on.join(":").trim();qr.append(sn,yn)}}),qr)};Br.url="responseURL"in Xr?Xr.responseURL:Br.headers.get("X-Request-URL");var Hr="response"in Xr?Xr.response:Xr.responseText;Lr(new fn(Hr,Br))},Xr.onerror=function(){Vr(new TypeError("Network request failed"))},Xr.ontimeout=function(){Vr(new TypeError("Network request failed"))},Xr.onabort=function(){Vr(new br.DOMException("Aborted","AbortError"))},Xr.open(Yr.method,Yr.url,!0),Yr.credentials==="include"?Xr.withCredentials=!0:Yr.credentials==="omit"&&(Xr.withCredentials=!1),"responseType"in Xr&&Or&&(Xr.responseType="blob"),Yr.headers.forEach(function(En,qr){Xr.setRequestHeader(qr,En)}),Yr.signal&&(Yr.signal.addEventListener("abort",hn),Xr.onreadystatechange=function(){Xr.readyState===4&&Yr.signal.removeEventListener("abort",hn)}),Xr.send(Yr._bodyInit===void 0?null:Yr._bodyInit)})}Sn.polyfill=!0,_r.fetch||(_r.fetch=Sn,_r.Headers=zr,_r.Request=an,_r.Response=fn),br.Headers=zr,br.Request=an,br.Response=fn,br.fetch=Sn,Object.defineProperty(br,"__esModule",{value:!0})})({})})(y),y.fetch.ponyfill=!0,delete y.fetch.polyfill;var gr=y;(c=gr.fetch).default=gr.fetch,c.fetch=gr.fetch,c.Headers=gr.Headers,c.Request=gr.Request,c.Response=gr.Response,u.exports=c})(Ue,Ue.exports);var Ve=qt(Ue.exports);async function $e(u,c){const d=await u.getAccountInfo(c);if(d===null)throw new Error("program account not found");const{program:y}=Ke(d.data),gr=await u.getAccountInfo(y.programdataAddress);if(gr===null)throw new Error("program data account not found");const{programData:_r}=Ke(gr.data);return _r}const qe=lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());function Ke(u){return qe.decode(u)}var Fe=Object.freeze({__proto__:null,verifiedBuild:async function(u,c,d=5){const y=`https://anchor.projectserum.com/api/v0/program/${c.toString()}/latest?limit=${d}`,[gr,_r]=await Promise.all([$e(u,c),Ve(y)]),br=(await _r.json()).filter(Er=>!Er.aborted&&Er.state==="Built"&&Er.verified==="Verified");if(br.length===0)return null;const wr=br[0];return gr.slot.toNumber()!==wr.verified_slot?null:wr},fetchData:$e,decodeUpgradeableLoaderState:Ke}),We=Object.freeze({__proto__:null,sha256:Te,rpc:it,publicKey:ze,bytes:I$1,token:Re,features:mt,registry:Fe});const Ge=lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);function He(u,c){var d,y;let gr={};const _r=u.args?u.args.length:0;if(c.length>_r){if(c.length!==_r+1)throw new Error(`provided too many arguments ${c} to instruction ${u?.name} expecting: ${(y=(d=u.args)===null||d===void 0?void 0:d.map(br=>br.name))!==null&&y!==void 0?y:[]}`);gr=c.pop()}return[c,gr]}class Je{static build(c,d,y){if(c.name==="_inner")throw new yt("the _inner name is reserved");const gr=(..._r)=>{const[br,wr]=He(c,[..._r]);M(c.accounts,wr.accounts);const Er=gr.accounts(wr.accounts);return wr.remainingAccounts!==void 0&&Er.push(...wr.remainingAccounts),pt("debug-logs")&&console.log("Outgoing account metas:",Er),new TransactionInstruction({keys:Er,programId:y,data:d(c.name,x(c,...br))})};return gr.accounts=_r=>Je.accountsArray(_r,c.accounts,c.name),gr}static accountsArray(c,d,y){return c?d.map(gr=>{if(("accounts"in gr?gr.accounts:void 0)!==void 0){const _r=c[gr.name];return Je.accountsArray(_r,gr.accounts,y).flat()}{const _r=gr;let br;try{br=P(c[gr.name])}catch{throw new Error(`Wrong input type for account "${gr.name}" in the instruction accounts object${y!==void 0?' for instruction "'+y+'"':""}. Expected PublicKey or string.`)}return{pubkey:br,isWritable:_r.isMut,isSigner:_r.isSigner}}}).flat():[]}}class Ze{static build(c,d,y,gr){return async(..._r)=>{var br;const wr=d(..._r),[,Er]=He(c,[..._r]);if(gr.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await gr.sendAndConfirm(wr,(br=Er.signers)!==null&&br!==void 0?br:[],Er.options)}catch(Or){throw bt(Or,y)}}}}class Qe{static build(c,d){return(...y)=>{var gr,_r,br;const[,wr]=He(c,[...y]),Er=new Transaction;if(wr.preInstructions&&wr.instructions)throw new Error("instructions is deprecated, use preInstructions");return(gr=wr.preInstructions)===null||gr===void 0||gr.forEach(Or=>Er.add(Or)),(_r=wr.instructions)===null||_r===void 0||_r.forEach(Or=>Er.add(Or)),Er.add(d(...y)),(br=wr.postInstructions)===null||br===void 0||br.forEach(Or=>Er.add(Or)),Er}}}class Xe{constructor(c,d,y=dt(),gr=new Vt(c)){this.provider=y,this.coder=gr,this._idl=c,this._programId=d,this._address=Ye(d),this._sub=null;const[_r,br,wr]=(()=>{var Er;let Or={},xr={},kr={};return(Er=c.state)===null||Er===void 0||Er.methods.forEach(Mr=>{const Cr=Je.build(Mr,(zr,Zr)=>gr.instruction.encodeState(zr,Zr),d);Cr.accounts=zr=>function(Wr,tn,rn,Jr){if(rn.name==="new"){const[Qr]=Oe([],Wr);if(tn.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:tn.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Ye(Wr),isWritable:!0,isSigner:!1},{pubkey:Qr,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:Wr,isWritable:!1,isSigner:!1}]}return M(rn.accounts,Jr),[{pubkey:Ye(Wr),isWritable:!0,isSigner:!1}]}(d,y,Mr,zr).concat(Je.accountsArray(zr,Mr.accounts,Mr.name));const Nr=Qe.build(Mr,Cr),Ur=Ze.build(Mr,Nr,k$1(c),y),Dr=camelcase.exports(Mr.name);Or[Dr]=Cr,xr[Dr]=Nr,kr[Dr]=Ur}),[Or,xr,kr]})();this.instruction=_r,this.transaction=br,this.rpc=wr}get programId(){return this._programId}async fetch(){const c=this.address(),d=await this.provider.connection.getAccountInfo(c);if(d===null)throw new Error(`Account does not exist ${c.toString()}`);const y=this._idl.state;if(!y)throw new Error("State is not specified in IDL.");if((await Ut(y.struct.name)).compare(d.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(d.data)}address(){return this._address}subscribe(c){if(this._sub!==null)return this._sub.ee;const d=new EventEmitter,y=this.provider.connection.onAccountChange(this.address(),gr=>{const _r=this.coder.state.decode(gr.data);d.emit("change",_r)},c);return this._sub={ee:d,listener:y},d}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function Ye(u){let[c]=Oe([],u);return Ce(c,"unversioned",u)}class tr{constructor(c,d,y,gr,_r){this._idlAccount=d,this._programId=y,this._provider=gr??dt(),this._coder=_r??new Vt(c),this._size=this._coder.accounts.size(d)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(c,d){const y=await this.getAccountInfo(c,d);return y===null?null:this._coder.accounts.decode(this._idlAccount.name,y.data)}async fetch(c,d){const y=await this.fetchNullable(c,d);if(y===null)throw new Error(`Account does not exist ${c.toString()}`);return y}async fetchMultiple(c,d){return(await Z(this._provider.connection,c.map(y=>P(y)),d)).map(y=>y==null?null:this._coder.accounts.decode(this._idlAccount.name,y?.account.data))}async all(c){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,c instanceof Buffer?c:void 0)},...Array.isArray(c)?c:[]]})).map(({pubkey:d,account:y})=>({publicKey:d,account:this._coder.accounts.decode(this._idlAccount.name,y.data)}))}subscribe(c,d){const y=er.get(c.toString());if(y)return y.ee;const gr=new EventEmitter;c=P(c);const _r=this._provider.connection.onAccountChange(c,br=>{const wr=this._coder.accounts.decode(this._idlAccount.name,br.data);gr.emit("change",wr)},d);return er.set(c.toString(),{ee:gr,listener:_r}),gr}async unsubscribe(c){let d=er.get(c.toString());d?er&&await this._provider.connection.removeAccountChangeListener(d.listener).then(()=>{er.delete(c.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(c,d){const y=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:c.publicKey,space:d??y,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(d??y),programId:this._programId})}async associated(...c){const d=await this.associatedAddress(...c);return await this.fetch(d)}async associatedAddress(...c){return await De(this._programId,...c)}async getAccountInfo(c,d){return await this._provider.connection.getAccountInfo(P(c),d)}}const er=new Map,rr=13,nr=14;class ir{constructor(c,d,y){this._programId=c,this._provider=d,this._eventParser=new or(c,y),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(c,d){var y;let gr=this._listenerIdCount;return this._listenerIdCount+=1,c in this._eventCallbacks||this._eventListeners.set(c,[]),this._eventListeners.set(c,((y=this._eventListeners.get(c))!==null&&y!==void 0?y:[]).concat(gr)),this._eventCallbacks.set(gr,[c,d]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(_r,br)=>{_r.err||this._eventParser.parseLogs(_r.logs,wr=>{const Er=this._eventListeners.get(wr.name);Er&&Er.forEach(Or=>{const xr=this._eventCallbacks.get(Or);if(xr){const[,kr]=xr;kr(wr.data,br.slot)}})})})),gr}async removeEventListener(c){const d=this._eventCallbacks.get(c);if(!d)throw new Error(`Event listener ${c} doesn't exist!`);const[y]=d;let gr=this._eventListeners.get(y);if(!gr)throw new Error(`Event listeners don't exist for ${y}!`);this._eventCallbacks.delete(c),gr=gr.filter(_r=>_r!==c),gr.length===0&&this._eventListeners.delete(y),this._eventCallbacks.size==0&&(assertExports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class or{constructor(c,d){this.coder=d,this.programId=c}parseLogs(c,d){const y=new ar(c),gr=new sr;let _r=y.next();for(;_r!==null;){let[br,wr,Er]=this.handleLog(gr,_r);br&&d(br),wr&&gr.push(wr),Er&&gr.pop(),_r=y.next()}}handleLog(c,d){return c.stack.length>0&&c.program()===this.programId.toString()?this.handleProgramLog(d):[null,...this.handleSystemLog(d)]}handleProgramLog(c){if(c.startsWith("Program log: ")||c.startsWith("Program data: ")){const d=c.startsWith("Program log: ")?c.slice(rr):c.slice(nr);return[this.coder.events.decode(d),null,!1]}return[null,...this.handleSystemLog(c)]}handleSystemLog(c){const d=c.split(":")[0];return d.match(/^Program (.*) success/g)!==null?[null,!0]:d.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:d.includes("invoke")?["cpi",!1]:[null,!1]}}class sr{constructor(){this.stack=[]}program(){return assertExports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(c){this.stack.push(c)}pop(){assertExports.ok(this.stack.length>0),this.stack.pop()}}class ar{constructor(c){this.logs=c}next(){if(this.logs.length===0)return null;let c=this.logs[0];return this.logs=this.logs.slice(1),c}}const cr=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function ur(){return new Pe(dr)}const dr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class lr{constructor(c,d,y,gr,_r,br){this._args=c,this._accounts=d,this._provider=y,this._programId=gr,this._idlIx=_r,this._accountStore=new hr(y,br)}async resolve(){for(let c=0;c<this._idlIx.accounts.length;c+=1){const d=this._idlIx.accounts[c],y=camelcase.exports(d.name);if(d.pda&&d.pda.seeds.length>0&&!this._accounts[y])await this.autoPopulatePda(d);else if(!d.isSigner||this._accounts[y])Reflect.has(lr.CONST_ACCOUNTS,y)&&!this._accounts[y]&&(this._accounts[y]=lr.CONST_ACCOUNTS[y]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[y]=this._provider.wallet.publicKey}}}async autoPopulatePda(c){if(!c.pda||!c.pda.seeds)throw new Error("Must have seeds");const d=await Promise.all(c.pda.seeds.map(_r=>this.toBuffer(_r))),y=await this.parseProgramId(c),[gr]=await PublicKey.findProgramAddress(d,y);this._accounts[camelcase.exports(c.name)]=gr}async parseProgramId(c){var d;if(!(!((d=c.pda)===null||d===void 0)&&d.programId))return this._programId;switch(c.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(c.pda.programId.value));case"arg":return this.argValue(c.pda.programId);case"account":return await this.accountValue(c.pda.programId);default:throw new Error(`Unexpected program seed kind: ${c.pda.programId.kind}`)}}async toBuffer(c){switch(c.kind){case"const":return this.toBufferConst(c);case"arg":return await this.toBufferArg(c);case"account":return await this.toBufferAccount(c);default:throw new Error(`Unexpected seed kind: ${c.kind}`)}}toBufferConst(c){return this.toBufferValue(c.type,c.value)}async toBufferArg(c){const d=this.argValue(c);return this.toBufferValue(c.type,d)}argValue(c){const d=camelcase.exports(c.path.split(".")[0]),y=this._idlIx.args.findIndex(gr=>gr.name===d);if(y===-1)throw new Error(`Unable to find argument for seed: ${d}`);return this._args[y]}async toBufferAccount(c){const d=await this.accountValue(c);return this.toBufferValue(c.type,d)}async accountValue(c){const d=c.path.split("."),y=d[0],gr=this._accounts[camelcase.exports(y)];if(d.length===1)return gr;const _r=await this._accountStore.fetchAccount(c.account,gr);return this.parseAccountValue(_r,d.slice(1))}parseAccountValue(c,d){let y;for(;d.length>0;)y=c[camelcase.exports(d[0])],d=d.slice(1);return y}toBufferValue(c,d){switch(c){case"u8":return Buffer.from([d]);case"u16":let y=Buffer.alloc(2);return y.writeUInt16LE(d),y;case"u32":let gr=Buffer.alloc(4);return gr.writeUInt32LE(d),gr;case"u64":let _r=Buffer.alloc(8);return _r.writeBigUInt64LE(BigInt(d)),_r;case"string":return Buffer.from(v(d));case"publicKey":return d.toBuffer();default:if(c.array)return Buffer.from(d);throw new Error(`Unexpected seed type: ${c}`)}}}lr.CONST_ACCOUNTS={systemProgram:SystemProgram.programId,tokenProgram:Ne,associatedTokenProgram:je,rent:SYSVAR_RENT_PUBKEY};class hr{constructor(c,d){this._provider=c,this._accounts=d,this._cache=new Map}async fetchAccount(c,d){const y=d.toString();if(!this._cache.has(y))if(c==="TokenAccount"){const gr=await this._provider.connection.getAccountInfo(d);if(gr===null)throw new Error(`invalid account info for ${y}`);const _r=ur().accounts.decode("token",gr.data);this._cache.set(y,_r)}else{const gr=this._accounts[camelcase.exports(c)].fetch(d);this._cache.set(y,gr)}return this._cache.get(y)}}class fr{static build(c,d,y,gr,_r,br,wr,Er,Or){return(...xr)=>new pr(xr,gr,_r,br,wr,Er,c,d,y,Or)}}class pr{constructor(c,d,y,gr,_r,br,wr,Er,Or,xr){this._args=c,this._ixFn=d,this._txFn=y,this._rpcFn=gr,this._simulateFn=_r,this._viewFn=br,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new lr(c,this._accounts,wr,Er,Or,xr)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(c){return Object.assign(this._accounts,c),this}signers(c){return this._signers=this._signers.concat(c),this}remainingAccounts(c){return this._remainingAccounts=this._remainingAccounts.concat(c),this}preInstructions(c){return this._preInstructions=this._preInstructions.concat(c),this}postInstructions(c){return this._postInstructions=this._postInstructions.concat(c),this}async rpc(c){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:c})}async view(c){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:c})}async simulate(c){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:c})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class mr{constructor(c,d,y,gr){d=P(d),y||(y=dt()),this._idl=c,this._provider=y,this._programId=d,this._coder=gr??new Vt(c),this._events=new ir(this._programId,y,this._coder);const[_r,br,wr,Er,Or,xr,kr,Mr]=class{static build(Cr,Nr,Ur,Dr){const zr={},Zr={},Wr={},tn={},rn={},Jr={},Qr=k$1(Cr),an=Cr.accounts?class{static build(fn,gn,Sn,Fr){var Rr;const Lr={};return(Rr=fn.accounts)===null||Rr===void 0||Rr.forEach(Vr=>{const Yr=camelcase.exports(Vr.name);Lr[Yr]=new tr(fn,Vr,Sn,Fr,gn)}),Lr}}.build(Cr,Nr,Ur,Dr):{},mn=class{static build(fn,gn,Sn,Fr){if(fn.state!==void 0)return new Xe(fn,Sn,Fr,gn)}}.build(Cr,Nr,Ur,Dr);return Cr.instructions.forEach(fn=>{const gn=Je.build(fn,(Xr,hn)=>Nr.instruction.encode(Xr,hn),Ur),Sn=Qe.build(fn,gn),Fr=Ze.build(fn,Sn,Qr,Dr),Rr=class{static build(Xr,hn,En,qr,Br,Hr,_n){return async(...on)=>{var sn;const yn=hn(...on),[,wn]=He(Xr,[...on]);let In;if(qr.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{In=await qr.simulate(yn,wn.signers,(sn=wn.options)===null||sn===void 0?void 0:sn.commitment)}catch(Cn){throw bt(Cn,En)}if(In===void 0)throw new Error("Unable to simulate transaction");const Mn=In.logs;if(!Mn)throw new Error("Simulated logs not found");const Ln=[];return _n.events&&new or(Hr,Br).parseLogs(Mn,Cn=>{Ln.push(Cn)}),{events:Ln,raw:Mn}}}}.build(fn,Sn,Qr,Dr,Nr,Ur,Cr),Lr=class{static build(Xr,hn,En,qr){const Br=hn.accounts.find(_n=>_n.isMut),Hr=!!hn.returns;if(!Br&&Hr)return async(..._n)=>{var on,sn;let yn=await En(..._n);const wn=`Program return: ${Xr} `;let In=yn.raw.find(Cn=>Cn.startsWith(wn));if(!In)throw new Error("View expected return log");let Mn=E$1(In.slice(wn.length)),Ln=hn.returns;if(!Ln)throw new Error("View expected return type");return Pt.fieldLayout({type:Ln},Array.from([...(on=qr.accounts)!==null&&on!==void 0?on:[],...(sn=qr.types)!==null&&sn!==void 0?sn:[]])).decode(Mn)}}}.build(Ur,fn,Rr,Cr),Vr=fr.build(Dr,Ur,fn,gn,Sn,Fr,Rr,Lr,an),Yr=camelcase.exports(fn.name);Zr[Yr]=gn,Wr[Yr]=Sn,zr[Yr]=Fr,tn[Yr]=Rr,rn[Yr]=Vr,Lr&&(Jr[Yr]=Lr)}),[zr,Zr,Wr,an,tn,rn,mn,Jr]}}.build(c,this._coder,d,y);this.rpc=_r,this.instruction=br,this.transaction=wr,this.account=Er,this.simulate=Or,this.methods=xr,this.state=kr,this.views=Mr}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(c,d){const y=P(c),gr=await mr.fetchIdl(y,d);if(!gr)throw new Error(`IDL not found for program: ${c.toString()}`);return new mr(gr,y,d)}static async fetchIdl(c,d){d=d??dt();const y=P(c),gr=await async function(Or){const xr=(await PublicKey.findProgramAddress([],Or))[0];return await PublicKey.createWithSeed(xr,"anchor:idl",Or)}(y),_r=await d.connection.getAccountInfo(gr);if(!_r)return null;let br=(wr=_r.data.slice(8),Ge.decode(wr));var wr;const Er=inflate_1(br.data);return JSON.parse(w(Er))}addEventListener(c,d){return this._events.addEventListener(c,d)}async removeEventListener(c){return await this._events.removeEventListener(c)}}class yr{static token(c){return function(d){return new mr(dr,cr,d,ur())}(c)}}const browser=Object.freeze(Object.defineProperty({__proto__:null,web3:index_browser_esm$1,ACCOUNT_DISCRIMINATOR_SIZE:Dt,AccountClient:tr,AnchorError:wt,AnchorProvider:ot,BorshAccountsCoder:zt,BorshCoder:Vt,BorshEventCoder:Nt,BorshInstructionCoder:Tt,BorshStateCoder:Rt,EventManager:ir,EventParser:or,IdlError:yt,LangErrorCode:At,LangErrorMessage:_t,MethodsBuilderFactory:fr,Program:mr,ProgramError:vt,ProgramErrorStack:gt,Spl:yr,SplTokenCoder:Pe,StateClient:Xe,eventDiscriminator:jt,getProvider:dt,parseIdlErrors:k$1,setProvider:ut,splitArgsAndCtx:He,stateDiscriminator:Ut,toInstruction:x,translateAddress:P,translateError:bt,utils:We,validateAccounts:M,BN},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser);var stakingIdl={};Object.defineProperty(stakingIdl,"__esModule",{value:!0});stakingIdl.stakingIdl=void 0;stakingIdl.stakingIdl={version:"0.1.0",name:"atlas_staking",instructions:[{name:"cancelUnstake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[]},{name:"createStakingAccount",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"harvest",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStaking",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerStake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"Mint",path:"stake_mint"},{kind:"account",type:"publicKey",account:"Mint",path:"reward_mint"}]}},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"}]},{name:"settle",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[{name:"updatedStakingPeriod",type:"u16"}]},{name:"stakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeAmount",type:"u64"}]},{name:"unstakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCooldownPeriod",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"cooldownPeriod",type:"u64"}]},{name:"updateRewardMultiplier",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"rewardMultiplier",type:"u64"},{name:"newStakingPeriod",type:"u16"}]},{name:"withdrawTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"RegisteredStake",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"rewardMint",type:"publicKey"},{name:"currentPeriod",type:"u16"},{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"},{name:"bump",type:"u8"}]}},{name:"StakingAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"registeredStake",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"totalStake",type:"u64"},{name:"activeStake",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"paidRewards",type:"u64"},{name:"currentPeriod",type:"u16"},{name:"stakedAtTs",type:"i64"},{name:"lastPendingRewardCalcTs",type:"i64"},{name:"lastHarvestTs",type:"i64"},{name:"unstakedTs",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StakingVars",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"bump",type:"u8"}]}}],errors:[{code:6e3,name:"InvalidMint",msg:"Invalid Token Mint"},{code:6001,name:"InvalidOwner",msg:"Account now owned by user"},{code:6002,name:"InsufficientFunds",msg:"Insufficient token balance"},{code:6003,name:"InvalidAuthority",msg:"Invalid authority for this account"},{code:6004,name:"InvalidDepositQty",msg:"Invalid deposit quantity"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"StakeOnCooldown",msg:"Cannot stake while account is on cooldown"},{code:6007,name:"InvalidEscrowAuth",msg:"Invalid escrow authority"},{code:6008,name:"WithdrawOnCooldown",msg:"Cannot withdraw before cooldown period has elapsed"},{code:6009,name:"InvalidPeriod",msg:"Staking account must be in the same period as the Registered Stake"},{code:6010,name:"NotOnCooldown",msg:"Staking account is not on cooldown"}],metadata:{}};Object.defineProperty(getStakingProgram$1,"__esModule",{value:!0});getStakingProgram$1.getStakingProgram=getStakingProgram$1.getStakingIdl=void 0;const anchor_1$c=require$$0$1,stakingIdl_1=stakingIdl;function getStakingIdl(u){const c=stakingIdl_1.stakingIdl;return c.metadata.address=u.toBase58(),c}getStakingProgram$1.getStakingIdl=getStakingIdl;function getStakingProgram({connection:u,programId:c}){const d=getStakingIdl(c),y=new anchor_1$c.AnchorProvider(u,null,null);return new anchor_1$c.Program(d,c,y)}getStakingProgram$1.getStakingProgram=getStakingProgram;(function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(getStakingProgram$1,u)})(utils$3);var __awaiter$j=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(cancelUnstake,"__esModule",{value:!0});cancelUnstake.cancelUnstakeInstruction=void 0;const utils_1$e=utils$3;function cancelUnstakeInstruction({connection:u,user:c,registeredStake:d,programId:y}){return __awaiter$j(this,void 0,void 0,function*(){const gr=(0,utils_1$e.getStakingProgram)({connection:u,programId:y}),_r={instructions:[],signers:[]},br=yield gr.methods.cancelUnstake().accounts({user:c,registeredStake:d}).instruction();return _r.instructions.push(br),_r})}cancelUnstake.cancelUnstakeInstruction=cancelUnstakeInstruction;var createStakeAccount={},__awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(createStakeAccount,"__esModule",{value:!0});createStakeAccount.createStakingAccountInstruction=void 0;const utils_1$d=utils$3;function createStakingAccountInstruction({connection:u,user:c,registeredStake:d,programId:y}){return __awaiter$i(this,void 0,void 0,function*(){const gr=(0,utils_1$d.getStakingProgram)({connection:u,programId:y}),_r={instructions:[],signers:[]},br=yield gr.methods.createStakingAccount().accounts({user:c,registeredStake:d}).instruction();return _r.instructions.push(br),_r})}createStakeAccount.createStakingAccountInstruction=createStakingAccountInstruction;var harvestRewards={},token={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.associatedAddress=u.ASSOCIATED_PROGRAM_ID=u.TOKEN_PROGRAM_ID=void 0;const c=require$$0$2;u.TOKEN_PROGRAM_ID=new c.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),u.ASSOCIATED_PROGRAM_ID=new c.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function d({mint:y,owner:gr}){return(await c.PublicKey.findProgramAddress([gr.toBuffer(),u.TOKEN_PROGRAM_ID.toBuffer(),y.toBuffer()],u.ASSOCIATED_PROGRAM_ID))[0]}u.associatedAddress=d})(token);var util={},helpers$1={};function _defineProperty(u,c,d){return c in u?Object.defineProperty(u,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[c]=d,u}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code.length;i$2<len;++i$2)lookup[i$2]=code[i$2],revLookup[code.charCodeAt(i$2)]=i$2;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(u){var c=u.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=u.indexOf("=");d===-1&&(d=c);var y=d===c?0:4-d%4;return[d,y]}function byteLength(u){var c=getLens(u),d=c[0],y=c[1];return(d+y)*3/4-y}function _byteLength(u,c,d){return(c+d)*3/4-d}function toByteArray(u){var c,d=getLens(u),y=d[0],gr=d[1],_r=new Arr(_byteLength(u,y,gr)),br=0,wr=gr>0?y-4:y,Er;for(Er=0;Er<wr;Er+=4)c=revLookup[u.charCodeAt(Er)]<<18|revLookup[u.charCodeAt(Er+1)]<<12|revLookup[u.charCodeAt(Er+2)]<<6|revLookup[u.charCodeAt(Er+3)],_r[br++]=c>>16&255,_r[br++]=c>>8&255,_r[br++]=c&255;return gr===2&&(c=revLookup[u.charCodeAt(Er)]<<2|revLookup[u.charCodeAt(Er+1)]>>4,_r[br++]=c&255),gr===1&&(c=revLookup[u.charCodeAt(Er)]<<10|revLookup[u.charCodeAt(Er+1)]<<4|revLookup[u.charCodeAt(Er+2)]>>2,_r[br++]=c>>8&255,_r[br++]=c&255),_r}function tripletToBase64(u){return lookup[u>>18&63]+lookup[u>>12&63]+lookup[u>>6&63]+lookup[u&63]}function encodeChunk(u,c,d){for(var y,gr=[],_r=c;_r<d;_r+=3)y=(u[_r]<<16&16711680)+(u[_r+1]<<8&65280)+(u[_r+2]&255),gr.push(tripletToBase64(y));return gr.join("")}function fromByteArray(u){for(var c,d=u.length,y=d%3,gr=[],_r=16383,br=0,wr=d-y;br<wr;br+=_r)gr.push(encodeChunk(u,br,br+_r>wr?wr:br+_r));return y===1?(c=u[d-1],gr.push(lookup[c>>2]+lookup[c<<4&63]+"==")):y===2&&(c=(u[d-2]<<8)+u[d-1],gr.push(lookup[c>>10]+lookup[c>>4&63]+lookup[c<<2&63]+"=")),gr.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(u,c,d,y,gr){var _r,br,wr=gr*8-y-1,Er=(1<<wr)-1,Or=Er>>1,xr=-7,kr=d?gr-1:0,Mr=d?-1:1,Cr=u[c+kr];for(kr+=Mr,_r=Cr&(1<<-xr)-1,Cr>>=-xr,xr+=wr;xr>0;_r=_r*256+u[c+kr],kr+=Mr,xr-=8);for(br=_r&(1<<-xr)-1,_r>>=-xr,xr+=y;xr>0;br=br*256+u[c+kr],kr+=Mr,xr-=8);if(_r===0)_r=1-Or;else{if(_r===Er)return br?NaN:(Cr?-1:1)*(1/0);br=br+Math.pow(2,y),_r=_r-Or}return(Cr?-1:1)*br*Math.pow(2,_r-y)};ieee754.write=function(u,c,d,y,gr,_r){var br,wr,Er,Or=_r*8-gr-1,xr=(1<<Or)-1,kr=xr>>1,Mr=gr===23?Math.pow(2,-24)-Math.pow(2,-77):0,Cr=y?0:_r-1,Nr=y?1:-1,Ur=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(wr=isNaN(c)?1:0,br=xr):(br=Math.floor(Math.log(c)/Math.LN2),c*(Er=Math.pow(2,-br))<1&&(br--,Er*=2),br+kr>=1?c+=Mr/Er:c+=Mr*Math.pow(2,1-kr),c*Er>=2&&(br++,Er/=2),br+kr>=xr?(wr=0,br=xr):br+kr>=1?(wr=(c*Er-1)*Math.pow(2,gr),br=br+kr):(wr=c*Math.pow(2,kr-1)*Math.pow(2,gr),br=0));gr>=8;u[d+Cr]=wr&255,Cr+=Nr,wr/=256,gr-=8);for(br=br<<gr|wr,Or+=gr;Or>0;u[d+Cr]=br&255,Cr+=Nr,br/=256,Or-=8);u[d+Cr-Nr]|=Ur*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(u){const c=base64Js,d=ieee754,y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=wr,u.SlowBuffer=Zr,u.INSPECT_MAX_BYTES=50;const gr=2147483647;u.kMaxLength=gr,wr.TYPED_ARRAY_SUPPORT=_r(),!wr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function _r(){try{const Tr=new Uint8Array(1),Sr={foo:function(){return 42}};return Object.setPrototypeOf(Sr,Uint8Array.prototype),Object.setPrototypeOf(Tr,Sr),Tr.foo()===42}catch{return!1}}Object.defineProperty(wr.prototype,"parent",{enumerable:!0,get:function(){if(!!wr.isBuffer(this))return this.buffer}}),Object.defineProperty(wr.prototype,"offset",{enumerable:!0,get:function(){if(!!wr.isBuffer(this))return this.byteOffset}});function br(Tr){if(Tr>gr)throw new RangeError('The value "'+Tr+'" is invalid for option "size"');const Sr=new Uint8Array(Tr);return Object.setPrototypeOf(Sr,wr.prototype),Sr}function wr(Tr,Sr,Ar){if(typeof Tr=="number"){if(typeof Sr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return kr(Tr)}return Er(Tr,Sr,Ar)}wr.poolSize=8192;function Er(Tr,Sr,Ar){if(typeof Tr=="string")return Mr(Tr,Sr);if(ArrayBuffer.isView(Tr))return Nr(Tr);if(Tr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tr);if(dn(Tr,ArrayBuffer)||Tr&&dn(Tr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dn(Tr,SharedArrayBuffer)||Tr&&dn(Tr.buffer,SharedArrayBuffer)))return Ur(Tr,Sr,Ar);if(typeof Tr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Pr=Tr.valueOf&&Tr.valueOf();if(Pr!=null&&Pr!==Tr)return wr.from(Pr,Sr,Ar);const jr=Dr(Tr);if(jr)return jr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Tr[Symbol.toPrimitive]=="function")return wr.from(Tr[Symbol.toPrimitive]("string"),Sr,Ar);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Tr)}wr.from=function(Tr,Sr,Ar){return Er(Tr,Sr,Ar)},Object.setPrototypeOf(wr.prototype,Uint8Array.prototype),Object.setPrototypeOf(wr,Uint8Array);function Or(Tr){if(typeof Tr!="number")throw new TypeError('"size" argument must be of type number');if(Tr<0)throw new RangeError('The value "'+Tr+'" is invalid for option "size"')}function xr(Tr,Sr,Ar){return Or(Tr),Tr<=0?br(Tr):Sr!==void 0?typeof Ar=="string"?br(Tr).fill(Sr,Ar):br(Tr).fill(Sr):br(Tr)}wr.alloc=function(Tr,Sr,Ar){return xr(Tr,Sr,Ar)};function kr(Tr){return Or(Tr),br(Tr<0?0:zr(Tr)|0)}wr.allocUnsafe=function(Tr){return kr(Tr)},wr.allocUnsafeSlow=function(Tr){return kr(Tr)};function Mr(Tr,Sr){if((typeof Sr!="string"||Sr==="")&&(Sr="utf8"),!wr.isEncoding(Sr))throw new TypeError("Unknown encoding: "+Sr);const Ar=Wr(Tr,Sr)|0;let Pr=br(Ar);const jr=Pr.write(Tr,Sr);return jr!==Ar&&(Pr=Pr.slice(0,jr)),Pr}function Cr(Tr){const Sr=Tr.length<0?0:zr(Tr.length)|0,Ar=br(Sr);for(let Pr=0;Pr<Sr;Pr+=1)Ar[Pr]=Tr[Pr]&255;return Ar}function Nr(Tr){if(dn(Tr,Uint8Array)){const Sr=new Uint8Array(Tr);return Ur(Sr.buffer,Sr.byteOffset,Sr.byteLength)}return Cr(Tr)}function Ur(Tr,Sr,Ar){if(Sr<0||Tr.byteLength<Sr)throw new RangeError('"offset" is outside of buffer bounds');if(Tr.byteLength<Sr+(Ar||0))throw new RangeError('"length" is outside of buffer bounds');let Pr;return Sr===void 0&&Ar===void 0?Pr=new Uint8Array(Tr):Ar===void 0?Pr=new Uint8Array(Tr,Sr):Pr=new Uint8Array(Tr,Sr,Ar),Object.setPrototypeOf(Pr,wr.prototype),Pr}function Dr(Tr){if(wr.isBuffer(Tr)){const Sr=zr(Tr.length)|0,Ar=br(Sr);return Ar.length===0||Tr.copy(Ar,0,0,Sr),Ar}if(Tr.length!==void 0)return typeof Tr.length!="number"||vn(Tr.length)?br(0):Cr(Tr);if(Tr.type==="Buffer"&&Array.isArray(Tr.data))return Cr(Tr.data)}function zr(Tr){if(Tr>=gr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+gr.toString(16)+" bytes");return Tr|0}function Zr(Tr){return+Tr!=Tr&&(Tr=0),wr.alloc(+Tr)}wr.isBuffer=function(Sr){return Sr!=null&&Sr._isBuffer===!0&&Sr!==wr.prototype},wr.compare=function(Sr,Ar){if(dn(Sr,Uint8Array)&&(Sr=wr.from(Sr,Sr.offset,Sr.byteLength)),dn(Ar,Uint8Array)&&(Ar=wr.from(Ar,Ar.offset,Ar.byteLength)),!wr.isBuffer(Sr)||!wr.isBuffer(Ar))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Sr===Ar)return 0;let Pr=Sr.length,jr=Ar.length;for(let Gr=0,nn=Math.min(Pr,jr);Gr<nn;++Gr)if(Sr[Gr]!==Ar[Gr]){Pr=Sr[Gr],jr=Ar[Gr];break}return Pr<jr?-1:jr<Pr?1:0},wr.isEncoding=function(Sr){switch(String(Sr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},wr.concat=function(Sr,Ar){if(!Array.isArray(Sr))throw new TypeError('"list" argument must be an Array of Buffers');if(Sr.length===0)return wr.alloc(0);let Pr;if(Ar===void 0)for(Ar=0,Pr=0;Pr<Sr.length;++Pr)Ar+=Sr[Pr].length;const jr=wr.allocUnsafe(Ar);let Gr=0;for(Pr=0;Pr<Sr.length;++Pr){let nn=Sr[Pr];if(dn(nn,Uint8Array))Gr+nn.length>jr.length?(wr.isBuffer(nn)||(nn=wr.from(nn)),nn.copy(jr,Gr)):Uint8Array.prototype.set.call(jr,nn,Gr);else if(wr.isBuffer(nn))nn.copy(jr,Gr);else throw new TypeError('"list" argument must be an Array of Buffers');Gr+=nn.length}return jr};function Wr(Tr,Sr){if(wr.isBuffer(Tr))return Tr.length;if(ArrayBuffer.isView(Tr)||dn(Tr,ArrayBuffer))return Tr.byteLength;if(typeof Tr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Tr);const Ar=Tr.length,Pr=arguments.length>2&&arguments[2]===!0;if(!Pr&&Ar===0)return 0;let jr=!1;for(;;)switch(Sr){case"ascii":case"latin1":case"binary":return Ar;case"utf8":case"utf-8":return kn(Tr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ar*2;case"hex":return Ar>>>1;case"base64":return Un(Tr).length;default:if(jr)return Pr?-1:kn(Tr).length;Sr=(""+Sr).toLowerCase(),jr=!0}}wr.byteLength=Wr;function tn(Tr,Sr,Ar){let Pr=!1;if((Sr===void 0||Sr<0)&&(Sr=0),Sr>this.length||((Ar===void 0||Ar>this.length)&&(Ar=this.length),Ar<=0)||(Ar>>>=0,Sr>>>=0,Ar<=Sr))return"";for(Tr||(Tr="utf8");;)switch(Tr){case"hex":return hn(this,Sr,Ar);case"utf8":case"utf-8":return Rr(this,Sr,Ar);case"ascii":return Yr(this,Sr,Ar);case"latin1":case"binary":return Xr(this,Sr,Ar);case"base64":return Fr(this,Sr,Ar);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return En(this,Sr,Ar);default:if(Pr)throw new TypeError("Unknown encoding: "+Tr);Tr=(Tr+"").toLowerCase(),Pr=!0}}wr.prototype._isBuffer=!0;function rn(Tr,Sr,Ar){const Pr=Tr[Sr];Tr[Sr]=Tr[Ar],Tr[Ar]=Pr}wr.prototype.swap16=function(){const Sr=this.length;if(Sr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ar=0;Ar<Sr;Ar+=2)rn(this,Ar,Ar+1);return this},wr.prototype.swap32=function(){const Sr=this.length;if(Sr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ar=0;Ar<Sr;Ar+=4)rn(this,Ar,Ar+3),rn(this,Ar+1,Ar+2);return this},wr.prototype.swap64=function(){const Sr=this.length;if(Sr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ar=0;Ar<Sr;Ar+=8)rn(this,Ar,Ar+7),rn(this,Ar+1,Ar+6),rn(this,Ar+2,Ar+5),rn(this,Ar+3,Ar+4);return this},wr.prototype.toString=function(){const Sr=this.length;return Sr===0?"":arguments.length===0?Rr(this,0,Sr):tn.apply(this,arguments)},wr.prototype.toLocaleString=wr.prototype.toString,wr.prototype.equals=function(Sr){if(!wr.isBuffer(Sr))throw new TypeError("Argument must be a Buffer");return this===Sr?!0:wr.compare(this,Sr)===0},wr.prototype.inspect=function(){let Sr="";const Ar=u.INSPECT_MAX_BYTES;return Sr=this.toString("hex",0,Ar).replace(/(.{2})/g,"$1 ").trim(),this.length>Ar&&(Sr+=" ... "),"<Buffer "+Sr+">"},y&&(wr.prototype[y]=wr.prototype.inspect),wr.prototype.compare=function(Sr,Ar,Pr,jr,Gr){if(dn(Sr,Uint8Array)&&(Sr=wr.from(Sr,Sr.offset,Sr.byteLength)),!wr.isBuffer(Sr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Sr);if(Ar===void 0&&(Ar=0),Pr===void 0&&(Pr=Sr?Sr.length:0),jr===void 0&&(jr=0),Gr===void 0&&(Gr=this.length),Ar<0||Pr>Sr.length||jr<0||Gr>this.length)throw new RangeError("out of range index");if(jr>=Gr&&Ar>=Pr)return 0;if(jr>=Gr)return-1;if(Ar>=Pr)return 1;if(Ar>>>=0,Pr>>>=0,jr>>>=0,Gr>>>=0,this===Sr)return 0;let nn=Gr-jr,Kn=Pr-Ar;const Yn=Math.min(nn,Kn),Hn=this.slice(jr,Gr),Jn=Sr.slice(Ar,Pr);for(let Gn=0;Gn<Yn;++Gn)if(Hn[Gn]!==Jn[Gn]){nn=Hn[Gn],Kn=Jn[Gn];break}return nn<Kn?-1:Kn<nn?1:0};function Jr(Tr,Sr,Ar,Pr,jr){if(Tr.length===0)return-1;if(typeof Ar=="string"?(Pr=Ar,Ar=0):Ar>2147483647?Ar=2147483647:Ar<-2147483648&&(Ar=-2147483648),Ar=+Ar,vn(Ar)&&(Ar=jr?0:Tr.length-1),Ar<0&&(Ar=Tr.length+Ar),Ar>=Tr.length){if(jr)return-1;Ar=Tr.length-1}else if(Ar<0)if(jr)Ar=0;else return-1;if(typeof Sr=="string"&&(Sr=wr.from(Sr,Pr)),wr.isBuffer(Sr))return Sr.length===0?-1:Qr(Tr,Sr,Ar,Pr,jr);if(typeof Sr=="number")return Sr=Sr&255,typeof Uint8Array.prototype.indexOf=="function"?jr?Uint8Array.prototype.indexOf.call(Tr,Sr,Ar):Uint8Array.prototype.lastIndexOf.call(Tr,Sr,Ar):Qr(Tr,[Sr],Ar,Pr,jr);throw new TypeError("val must be string, number or Buffer")}function Qr(Tr,Sr,Ar,Pr,jr){let Gr=1,nn=Tr.length,Kn=Sr.length;if(Pr!==void 0&&(Pr=String(Pr).toLowerCase(),Pr==="ucs2"||Pr==="ucs-2"||Pr==="utf16le"||Pr==="utf-16le")){if(Tr.length<2||Sr.length<2)return-1;Gr=2,nn/=2,Kn/=2,Ar/=2}function Yn(Jn,Gn){return Gr===1?Jn[Gn]:Jn.readUInt16BE(Gn*Gr)}let Hn;if(jr){let Jn=-1;for(Hn=Ar;Hn<nn;Hn++)if(Yn(Tr,Hn)===Yn(Sr,Jn===-1?0:Hn-Jn)){if(Jn===-1&&(Jn=Hn),Hn-Jn+1===Kn)return Jn*Gr}else Jn!==-1&&(Hn-=Hn-Jn),Jn=-1}else for(Ar+Kn>nn&&(Ar=nn-Kn),Hn=Ar;Hn>=0;Hn--){let Jn=!0;for(let Gn=0;Gn<Kn;Gn++)if(Yn(Tr,Hn+Gn)!==Yn(Sr,Gn)){Jn=!1;break}if(Jn)return Hn}return-1}wr.prototype.includes=function(Sr,Ar,Pr){return this.indexOf(Sr,Ar,Pr)!==-1},wr.prototype.indexOf=function(Sr,Ar,Pr){return Jr(this,Sr,Ar,Pr,!0)},wr.prototype.lastIndexOf=function(Sr,Ar,Pr){return Jr(this,Sr,Ar,Pr,!1)};function an(Tr,Sr,Ar,Pr){Ar=Number(Ar)||0;const jr=Tr.length-Ar;Pr?(Pr=Number(Pr),Pr>jr&&(Pr=jr)):Pr=jr;const Gr=Sr.length;Pr>Gr/2&&(Pr=Gr/2);let nn;for(nn=0;nn<Pr;++nn){const Kn=parseInt(Sr.substr(nn*2,2),16);if(vn(Kn))return nn;Tr[Ar+nn]=Kn}return nn}function mn(Tr,Sr,Ar,Pr){return Dn(kn(Sr,Tr.length-Ar),Tr,Ar,Pr)}function fn(Tr,Sr,Ar,Pr){return Dn(Fn(Sr),Tr,Ar,Pr)}function gn(Tr,Sr,Ar,Pr){return Dn(Un(Sr),Tr,Ar,Pr)}function Sn(Tr,Sr,Ar,Pr){return Dn(xn(Sr,Tr.length-Ar),Tr,Ar,Pr)}wr.prototype.write=function(Sr,Ar,Pr,jr){if(Ar===void 0)jr="utf8",Pr=this.length,Ar=0;else if(Pr===void 0&&typeof Ar=="string")jr=Ar,Pr=this.length,Ar=0;else if(isFinite(Ar))Ar=Ar>>>0,isFinite(Pr)?(Pr=Pr>>>0,jr===void 0&&(jr="utf8")):(jr=Pr,Pr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Gr=this.length-Ar;if((Pr===void 0||Pr>Gr)&&(Pr=Gr),Sr.length>0&&(Pr<0||Ar<0)||Ar>this.length)throw new RangeError("Attempt to write outside buffer bounds");jr||(jr="utf8");let nn=!1;for(;;)switch(jr){case"hex":return an(this,Sr,Ar,Pr);case"utf8":case"utf-8":return mn(this,Sr,Ar,Pr);case"ascii":case"latin1":case"binary":return fn(this,Sr,Ar,Pr);case"base64":return gn(this,Sr,Ar,Pr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sn(this,Sr,Ar,Pr);default:if(nn)throw new TypeError("Unknown encoding: "+jr);jr=(""+jr).toLowerCase(),nn=!0}},wr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fr(Tr,Sr,Ar){return Sr===0&&Ar===Tr.length?c.fromByteArray(Tr):c.fromByteArray(Tr.slice(Sr,Ar))}function Rr(Tr,Sr,Ar){Ar=Math.min(Tr.length,Ar);const Pr=[];let jr=Sr;for(;jr<Ar;){const Gr=Tr[jr];let nn=null,Kn=Gr>239?4:Gr>223?3:Gr>191?2:1;if(jr+Kn<=Ar){let Yn,Hn,Jn,Gn;switch(Kn){case 1:Gr<128&&(nn=Gr);break;case 2:Yn=Tr[jr+1],(Yn&192)===128&&(Gn=(Gr&31)<<6|Yn&63,Gn>127&&(nn=Gn));break;case 3:Yn=Tr[jr+1],Hn=Tr[jr+2],(Yn&192)===128&&(Hn&192)===128&&(Gn=(Gr&15)<<12|(Yn&63)<<6|Hn&63,Gn>2047&&(Gn<55296||Gn>57343)&&(nn=Gn));break;case 4:Yn=Tr[jr+1],Hn=Tr[jr+2],Jn=Tr[jr+3],(Yn&192)===128&&(Hn&192)===128&&(Jn&192)===128&&(Gn=(Gr&15)<<18|(Yn&63)<<12|(Hn&63)<<6|Jn&63,Gn>65535&&Gn<1114112&&(nn=Gn))}}nn===null?(nn=65533,Kn=1):nn>65535&&(nn-=65536,Pr.push(nn>>>10&1023|55296),nn=56320|nn&1023),Pr.push(nn),jr+=Kn}return Vr(Pr)}const Lr=4096;function Vr(Tr){const Sr=Tr.length;if(Sr<=Lr)return String.fromCharCode.apply(String,Tr);let Ar="",Pr=0;for(;Pr<Sr;)Ar+=String.fromCharCode.apply(String,Tr.slice(Pr,Pr+=Lr));return Ar}function Yr(Tr,Sr,Ar){let Pr="";Ar=Math.min(Tr.length,Ar);for(let jr=Sr;jr<Ar;++jr)Pr+=String.fromCharCode(Tr[jr]&127);return Pr}function Xr(Tr,Sr,Ar){let Pr="";Ar=Math.min(Tr.length,Ar);for(let jr=Sr;jr<Ar;++jr)Pr+=String.fromCharCode(Tr[jr]);return Pr}function hn(Tr,Sr,Ar){const Pr=Tr.length;(!Sr||Sr<0)&&(Sr=0),(!Ar||Ar<0||Ar>Pr)&&(Ar=Pr);let jr="";for(let Gr=Sr;Gr<Ar;++Gr)jr+=Rn[Tr[Gr]];return jr}function En(Tr,Sr,Ar){const Pr=Tr.slice(Sr,Ar);let jr="";for(let Gr=0;Gr<Pr.length-1;Gr+=2)jr+=String.fromCharCode(Pr[Gr]+Pr[Gr+1]*256);return jr}wr.prototype.slice=function(Sr,Ar){const Pr=this.length;Sr=~~Sr,Ar=Ar===void 0?Pr:~~Ar,Sr<0?(Sr+=Pr,Sr<0&&(Sr=0)):Sr>Pr&&(Sr=Pr),Ar<0?(Ar+=Pr,Ar<0&&(Ar=0)):Ar>Pr&&(Ar=Pr),Ar<Sr&&(Ar=Sr);const jr=this.subarray(Sr,Ar);return Object.setPrototypeOf(jr,wr.prototype),jr};function qr(Tr,Sr,Ar){if(Tr%1!==0||Tr<0)throw new RangeError("offset is not uint");if(Tr+Sr>Ar)throw new RangeError("Trying to access beyond buffer length")}wr.prototype.readUintLE=wr.prototype.readUIntLE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr],Gr=1,nn=0;for(;++nn<Ar&&(Gr*=256);)jr+=this[Sr+nn]*Gr;return jr},wr.prototype.readUintBE=wr.prototype.readUIntBE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr+--Ar],Gr=1;for(;Ar>0&&(Gr*=256);)jr+=this[Sr+--Ar]*Gr;return jr},wr.prototype.readUint8=wr.prototype.readUInt8=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,1,this.length),this[Sr]},wr.prototype.readUint16LE=wr.prototype.readUInt16LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,2,this.length),this[Sr]|this[Sr+1]<<8},wr.prototype.readUint16BE=wr.prototype.readUInt16BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,2,this.length),this[Sr]<<8|this[Sr+1]},wr.prototype.readUint32LE=wr.prototype.readUInt32LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),(this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16)+this[Sr+3]*16777216},wr.prototype.readUint32BE=wr.prototype.readUInt32BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]*16777216+(this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3])},wr.prototype.readBigUInt64LE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=Ar+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24,Gr=this[++Sr]+this[++Sr]*2**8+this[++Sr]*2**16+Pr*2**24;return BigInt(jr)+(BigInt(Gr)<<BigInt(32))}),wr.prototype.readBigUInt64BE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=Ar*2**24+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr],Gr=this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Pr;return(BigInt(jr)<<BigInt(32))+BigInt(Gr)}),wr.prototype.readIntLE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=this[Sr],Gr=1,nn=0;for(;++nn<Ar&&(Gr*=256);)jr+=this[Sr+nn]*Gr;return Gr*=128,jr>=Gr&&(jr-=Math.pow(2,8*Ar)),jr},wr.prototype.readIntBE=function(Sr,Ar,Pr){Sr=Sr>>>0,Ar=Ar>>>0,Pr||qr(Sr,Ar,this.length);let jr=Ar,Gr=1,nn=this[Sr+--jr];for(;jr>0&&(Gr*=256);)nn+=this[Sr+--jr]*Gr;return Gr*=128,nn>=Gr&&(nn-=Math.pow(2,8*Ar)),nn},wr.prototype.readInt8=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,1,this.length),this[Sr]&128?(255-this[Sr]+1)*-1:this[Sr]},wr.prototype.readInt16LE=function(Sr,Ar){Sr=Sr>>>0,Ar||qr(Sr,2,this.length);const Pr=this[Sr]|this[Sr+1]<<8;return Pr&32768?Pr|4294901760:Pr},wr.prototype.readInt16BE=function(Sr,Ar){Sr=Sr>>>0,Ar||qr(Sr,2,this.length);const Pr=this[Sr+1]|this[Sr]<<8;return Pr&32768?Pr|4294901760:Pr},wr.prototype.readInt32LE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16|this[Sr+3]<<24},wr.prototype.readInt32BE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),this[Sr]<<24|this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3]},wr.prototype.readBigInt64LE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=this[Sr+4]+this[Sr+5]*2**8+this[Sr+6]*2**16+(Pr<<24);return(BigInt(jr)<<BigInt(32))+BigInt(Ar+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24)}),wr.prototype.readBigInt64BE=Bn(function(Sr){Sr=Sr>>>0,ln(Sr,"offset");const Ar=this[Sr],Pr=this[Sr+7];(Ar===void 0||Pr===void 0)&&pn(Sr,this.length-8);const jr=(Ar<<24)+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr];return(BigInt(jr)<<BigInt(32))+BigInt(this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Pr)}),wr.prototype.readFloatLE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),d.read(this,Sr,!0,23,4)},wr.prototype.readFloatBE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,4,this.length),d.read(this,Sr,!1,23,4)},wr.prototype.readDoubleLE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,8,this.length),d.read(this,Sr,!0,52,8)},wr.prototype.readDoubleBE=function(Sr,Ar){return Sr=Sr>>>0,Ar||qr(Sr,8,this.length),d.read(this,Sr,!1,52,8)};function Br(Tr,Sr,Ar,Pr,jr,Gr){if(!wr.isBuffer(Tr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Sr>jr||Sr<Gr)throw new RangeError('"value" argument is out of bounds');if(Ar+Pr>Tr.length)throw new RangeError("Index out of range")}wr.prototype.writeUintLE=wr.prototype.writeUIntLE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,Pr=Pr>>>0,!jr){const Kn=Math.pow(2,8*Pr)-1;Br(this,Sr,Ar,Pr,Kn,0)}let Gr=1,nn=0;for(this[Ar]=Sr&255;++nn<Pr&&(Gr*=256);)this[Ar+nn]=Sr/Gr&255;return Ar+Pr},wr.prototype.writeUintBE=wr.prototype.writeUIntBE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,Pr=Pr>>>0,!jr){const Kn=Math.pow(2,8*Pr)-1;Br(this,Sr,Ar,Pr,Kn,0)}let Gr=Pr-1,nn=1;for(this[Ar+Gr]=Sr&255;--Gr>=0&&(nn*=256);)this[Ar+Gr]=Sr/nn&255;return Ar+Pr},wr.prototype.writeUint8=wr.prototype.writeUInt8=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,1,255,0),this[Ar]=Sr&255,Ar+1},wr.prototype.writeUint16LE=wr.prototype.writeUInt16LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,65535,0),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,Ar+2},wr.prototype.writeUint16BE=wr.prototype.writeUInt16BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,65535,0),this[Ar]=Sr>>>8,this[Ar+1]=Sr&255,Ar+2},wr.prototype.writeUint32LE=wr.prototype.writeUInt32LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,4294967295,0),this[Ar+3]=Sr>>>24,this[Ar+2]=Sr>>>16,this[Ar+1]=Sr>>>8,this[Ar]=Sr&255,Ar+4},wr.prototype.writeUint32BE=wr.prototype.writeUInt32BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,4294967295,0),this[Ar]=Sr>>>24,this[Ar+1]=Sr>>>16,this[Ar+2]=Sr>>>8,this[Ar+3]=Sr&255,Ar+4};function Hr(Tr,Sr,Ar,Pr,jr){Cn(Sr,Pr,jr,Tr,Ar,7);let Gr=Number(Sr&BigInt(4294967295));Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr,Gr=Gr>>8,Tr[Ar++]=Gr;let nn=Number(Sr>>BigInt(32)&BigInt(4294967295));return Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,nn=nn>>8,Tr[Ar++]=nn,Ar}function _n(Tr,Sr,Ar,Pr,jr){Cn(Sr,Pr,jr,Tr,Ar,7);let Gr=Number(Sr&BigInt(4294967295));Tr[Ar+7]=Gr,Gr=Gr>>8,Tr[Ar+6]=Gr,Gr=Gr>>8,Tr[Ar+5]=Gr,Gr=Gr>>8,Tr[Ar+4]=Gr;let nn=Number(Sr>>BigInt(32)&BigInt(4294967295));return Tr[Ar+3]=nn,nn=nn>>8,Tr[Ar+2]=nn,nn=nn>>8,Tr[Ar+1]=nn,nn=nn>>8,Tr[Ar]=nn,Ar+8}wr.prototype.writeBigUInt64LE=Bn(function(Sr,Ar=0){return Hr(this,Sr,Ar,BigInt(0),BigInt("0xffffffffffffffff"))}),wr.prototype.writeBigUInt64BE=Bn(function(Sr,Ar=0){return _n(this,Sr,Ar,BigInt(0),BigInt("0xffffffffffffffff"))}),wr.prototype.writeIntLE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,!jr){const Yn=Math.pow(2,8*Pr-1);Br(this,Sr,Ar,Pr,Yn-1,-Yn)}let Gr=0,nn=1,Kn=0;for(this[Ar]=Sr&255;++Gr<Pr&&(nn*=256);)Sr<0&&Kn===0&&this[Ar+Gr-1]!==0&&(Kn=1),this[Ar+Gr]=(Sr/nn>>0)-Kn&255;return Ar+Pr},wr.prototype.writeIntBE=function(Sr,Ar,Pr,jr){if(Sr=+Sr,Ar=Ar>>>0,!jr){const Yn=Math.pow(2,8*Pr-1);Br(this,Sr,Ar,Pr,Yn-1,-Yn)}let Gr=Pr-1,nn=1,Kn=0;for(this[Ar+Gr]=Sr&255;--Gr>=0&&(nn*=256);)Sr<0&&Kn===0&&this[Ar+Gr+1]!==0&&(Kn=1),this[Ar+Gr]=(Sr/nn>>0)-Kn&255;return Ar+Pr},wr.prototype.writeInt8=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,1,127,-128),Sr<0&&(Sr=255+Sr+1),this[Ar]=Sr&255,Ar+1},wr.prototype.writeInt16LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,32767,-32768),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,Ar+2},wr.prototype.writeInt16BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,2,32767,-32768),this[Ar]=Sr>>>8,this[Ar+1]=Sr&255,Ar+2},wr.prototype.writeInt32LE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,2147483647,-2147483648),this[Ar]=Sr&255,this[Ar+1]=Sr>>>8,this[Ar+2]=Sr>>>16,this[Ar+3]=Sr>>>24,Ar+4},wr.prototype.writeInt32BE=function(Sr,Ar,Pr){return Sr=+Sr,Ar=Ar>>>0,Pr||Br(this,Sr,Ar,4,2147483647,-2147483648),Sr<0&&(Sr=4294967295+Sr+1),this[Ar]=Sr>>>24,this[Ar+1]=Sr>>>16,this[Ar+2]=Sr>>>8,this[Ar+3]=Sr&255,Ar+4},wr.prototype.writeBigInt64LE=Bn(function(Sr,Ar=0){return Hr(this,Sr,Ar,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),wr.prototype.writeBigInt64BE=Bn(function(Sr,Ar=0){return _n(this,Sr,Ar,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function on(Tr,Sr,Ar,Pr,jr,Gr){if(Ar+Pr>Tr.length)throw new RangeError("Index out of range");if(Ar<0)throw new RangeError("Index out of range")}function sn(Tr,Sr,Ar,Pr,jr){return Sr=+Sr,Ar=Ar>>>0,jr||on(Tr,Sr,Ar,4),d.write(Tr,Sr,Ar,Pr,23,4),Ar+4}wr.prototype.writeFloatLE=function(Sr,Ar,Pr){return sn(this,Sr,Ar,!0,Pr)},wr.prototype.writeFloatBE=function(Sr,Ar,Pr){return sn(this,Sr,Ar,!1,Pr)};function yn(Tr,Sr,Ar,Pr,jr){return Sr=+Sr,Ar=Ar>>>0,jr||on(Tr,Sr,Ar,8),d.write(Tr,Sr,Ar,Pr,52,8),Ar+8}wr.prototype.writeDoubleLE=function(Sr,Ar,Pr){return yn(this,Sr,Ar,!0,Pr)},wr.prototype.writeDoubleBE=function(Sr,Ar,Pr){return yn(this,Sr,Ar,!1,Pr)},wr.prototype.copy=function(Sr,Ar,Pr,jr){if(!wr.isBuffer(Sr))throw new TypeError("argument should be a Buffer");if(Pr||(Pr=0),!jr&&jr!==0&&(jr=this.length),Ar>=Sr.length&&(Ar=Sr.length),Ar||(Ar=0),jr>0&&jr<Pr&&(jr=Pr),jr===Pr||Sr.length===0||this.length===0)return 0;if(Ar<0)throw new RangeError("targetStart out of bounds");if(Pr<0||Pr>=this.length)throw new RangeError("Index out of range");if(jr<0)throw new RangeError("sourceEnd out of bounds");jr>this.length&&(jr=this.length),Sr.length-Ar<jr-Pr&&(jr=Sr.length-Ar+Pr);const Gr=jr-Pr;return this===Sr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ar,Pr,jr):Uint8Array.prototype.set.call(Sr,this.subarray(Pr,jr),Ar),Gr},wr.prototype.fill=function(Sr,Ar,Pr,jr){if(typeof Sr=="string"){if(typeof Ar=="string"?(jr=Ar,Ar=0,Pr=this.length):typeof Pr=="string"&&(jr=Pr,Pr=this.length),jr!==void 0&&typeof jr!="string")throw new TypeError("encoding must be a string");if(typeof jr=="string"&&!wr.isEncoding(jr))throw new TypeError("Unknown encoding: "+jr);if(Sr.length===1){const nn=Sr.charCodeAt(0);(jr==="utf8"&&nn<128||jr==="latin1")&&(Sr=nn)}}else typeof Sr=="number"?Sr=Sr&255:typeof Sr=="boolean"&&(Sr=Number(Sr));if(Ar<0||this.length<Ar||this.length<Pr)throw new RangeError("Out of range index");if(Pr<=Ar)return this;Ar=Ar>>>0,Pr=Pr===void 0?this.length:Pr>>>0,Sr||(Sr=0);let Gr;if(typeof Sr=="number")for(Gr=Ar;Gr<Pr;++Gr)this[Gr]=Sr;else{const nn=wr.isBuffer(Sr)?Sr:wr.from(Sr,jr),Kn=nn.length;if(Kn===0)throw new TypeError('The value "'+Sr+'" is invalid for argument "value"');for(Gr=0;Gr<Pr-Ar;++Gr)this[Gr+Ar]=nn[Gr%Kn]}return this};const wn={};function In(Tr,Sr,Ar){wn[Tr]=class extends Ar{constructor(){super(),Object.defineProperty(this,"message",{value:Sr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Tr}]`,this.stack,delete this.name}get code(){return Tr}set code(jr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:jr,writable:!0})}toString(){return`${this.name} [${Tr}]: ${this.message}`}}}In("ERR_BUFFER_OUT_OF_BOUNDS",function(Tr){return Tr?`${Tr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),In("ERR_INVALID_ARG_TYPE",function(Tr,Sr){return`The "${Tr}" argument must be of type number. Received type ${typeof Sr}`},TypeError),In("ERR_OUT_OF_RANGE",function(Tr,Sr,Ar){let Pr=`The value of "${Tr}" is out of range.`,jr=Ar;return Number.isInteger(Ar)&&Math.abs(Ar)>2**32?jr=Mn(String(Ar)):typeof Ar=="bigint"&&(jr=String(Ar),(Ar>BigInt(2)**BigInt(32)||Ar<-(BigInt(2)**BigInt(32)))&&(jr=Mn(jr)),jr+="n"),Pr+=` It must be ${Sr}. Received ${jr}`,Pr},RangeError);function Mn(Tr){let Sr="",Ar=Tr.length;const Pr=Tr[0]==="-"?1:0;for(;Ar>=Pr+4;Ar-=3)Sr=`_${Tr.slice(Ar-3,Ar)}${Sr}`;return`${Tr.slice(0,Ar)}${Sr}`}function Ln(Tr,Sr,Ar){ln(Sr,"offset"),(Tr[Sr]===void 0||Tr[Sr+Ar]===void 0)&&pn(Sr,Tr.length-(Ar+1))}function Cn(Tr,Sr,Ar,Pr,jr,Gr){if(Tr>Ar||Tr<Sr){const nn=typeof Sr=="bigint"?"n":"";let Kn;throw Gr>3?Sr===0||Sr===BigInt(0)?Kn=`>= 0${nn} and < 2${nn} ** ${(Gr+1)*8}${nn}`:Kn=`>= -(2${nn} ** ${(Gr+1)*8-1}${nn}) and < 2 ** ${(Gr+1)*8-1}${nn}`:Kn=`>= ${Sr}${nn} and <= ${Ar}${nn}`,new wn.ERR_OUT_OF_RANGE("value",Kn,Tr)}Ln(Pr,jr,Gr)}function ln(Tr,Sr){if(typeof Tr!="number")throw new wn.ERR_INVALID_ARG_TYPE(Sr,"number",Tr)}function pn(Tr,Sr,Ar){throw Math.floor(Tr)!==Tr?(ln(Tr,Ar),new wn.ERR_OUT_OF_RANGE(Ar||"offset","an integer",Tr)):Sr<0?new wn.ERR_BUFFER_OUT_OF_BOUNDS:new wn.ERR_OUT_OF_RANGE(Ar||"offset",`>= ${Ar?1:0} and <= ${Sr}`,Tr)}const On=/[^+/0-9A-Za-z-_]/g;function Nn(Tr){if(Tr=Tr.split("=")[0],Tr=Tr.trim().replace(On,""),Tr.length<2)return"";for(;Tr.length%4!==0;)Tr=Tr+"=";return Tr}function kn(Tr,Sr){Sr=Sr||1/0;let Ar;const Pr=Tr.length;let jr=null;const Gr=[];for(let nn=0;nn<Pr;++nn){if(Ar=Tr.charCodeAt(nn),Ar>55295&&Ar<57344){if(!jr){if(Ar>56319){(Sr-=3)>-1&&Gr.push(239,191,189);continue}else if(nn+1===Pr){(Sr-=3)>-1&&Gr.push(239,191,189);continue}jr=Ar;continue}if(Ar<56320){(Sr-=3)>-1&&Gr.push(239,191,189),jr=Ar;continue}Ar=(jr-55296<<10|Ar-56320)+65536}else jr&&(Sr-=3)>-1&&Gr.push(239,191,189);if(jr=null,Ar<128){if((Sr-=1)<0)break;Gr.push(Ar)}else if(Ar<2048){if((Sr-=2)<0)break;Gr.push(Ar>>6|192,Ar&63|128)}else if(Ar<65536){if((Sr-=3)<0)break;Gr.push(Ar>>12|224,Ar>>6&63|128,Ar&63|128)}else if(Ar<1114112){if((Sr-=4)<0)break;Gr.push(Ar>>18|240,Ar>>12&63|128,Ar>>6&63|128,Ar&63|128)}else throw new Error("Invalid code point")}return Gr}function Fn(Tr){const Sr=[];for(let Ar=0;Ar<Tr.length;++Ar)Sr.push(Tr.charCodeAt(Ar)&255);return Sr}function xn(Tr,Sr){let Ar,Pr,jr;const Gr=[];for(let nn=0;nn<Tr.length&&!((Sr-=2)<0);++nn)Ar=Tr.charCodeAt(nn),Pr=Ar>>8,jr=Ar%256,Gr.push(jr),Gr.push(Pr);return Gr}function Un(Tr){return c.toByteArray(Nn(Tr))}function Dn(Tr,Sr,Ar,Pr){let jr;for(jr=0;jr<Pr&&!(jr+Ar>=Sr.length||jr>=Tr.length);++jr)Sr[jr+Ar]=Tr[jr];return jr}function dn(Tr,Sr){return Tr instanceof Sr||Tr!=null&&Tr.constructor!=null&&Tr.constructor.name!=null&&Tr.constructor.name===Sr.name}function vn(Tr){return Tr!==Tr}const Rn=function(){const Tr="0123456789abcdef",Sr=new Array(256);for(let Ar=0;Ar<16;++Ar){const Pr=Ar*16;for(let jr=0;jr<16;++jr)Sr[Pr+jr]=Tr[Ar]+Tr[jr]}return Sr}();function Bn(Tr){return typeof BigInt>"u"?jn:Tr}function jn(){throw new Error("BigInt not supported")}})(buffer);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},inherits;typeof Object.create=="function"?inherits=function(c,d){c.super_=d,c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(c,d){c.super_=d;var y=function(){};y.prototype=d.prototype,c.prototype=new y,c.prototype.constructor=c};var inherits$1=inherits;function inspect$1(u,c){var d={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),isBoolean(c)?d.showHidden=c:c&&_extend(d,c),isUndefined(d.showHidden)&&(d.showHidden=!1),isUndefined(d.depth)&&(d.depth=2),isUndefined(d.colors)&&(d.colors=!1),isUndefined(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=stylizeWithColor),formatValue(d,u,d.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(u,c){var d=inspect$1.styles[c];return d?"\x1B["+inspect$1.colors[d][0]+"m"+u+"\x1B["+inspect$1.colors[d][1]+"m":u}function stylizeNoColor(u,c){return u}function arrayToHash(u){var c={};return u.forEach(function(d,y){c[d]=!0}),c}function formatValue(u,c,d){if(u.customInspect&&c&&isFunction$1(c.inspect)&&c.inspect!==inspect$1&&!(c.constructor&&c.constructor.prototype===c)){var y=c.inspect(d,u);return isString(y)||(y=formatValue(u,y,d)),y}var gr=formatPrimitive(u,c);if(gr)return gr;var _r=Object.keys(c),br=arrayToHash(_r);if(u.showHidden&&(_r=Object.getOwnPropertyNames(c)),isError(c)&&(_r.indexOf("message")>=0||_r.indexOf("description")>=0))return formatError(c);if(_r.length===0){if(isFunction$1(c)){var wr=c.name?": "+c.name:"";return u.stylize("[Function"+wr+"]","special")}if(isRegExp(c))return u.stylize(RegExp.prototype.toString.call(c),"regexp");if(isDate(c))return u.stylize(Date.prototype.toString.call(c),"date");if(isError(c))return formatError(c)}var Er="",Or=!1,xr=["{","}"];if(isArray$1(c)&&(Or=!0,xr=["[","]"]),isFunction$1(c)){var kr=c.name?": "+c.name:"";Er=" [Function"+kr+"]"}if(isRegExp(c)&&(Er=" "+RegExp.prototype.toString.call(c)),isDate(c)&&(Er=" "+Date.prototype.toUTCString.call(c)),isError(c)&&(Er=" "+formatError(c)),_r.length===0&&(!Or||c.length==0))return xr[0]+Er+xr[1];if(d<0)return isRegExp(c)?u.stylize(RegExp.prototype.toString.call(c),"regexp"):u.stylize("[Object]","special");u.seen.push(c);var Mr;return Or?Mr=formatArray(u,c,d,br,_r):Mr=_r.map(function(Cr){return formatProperty(u,c,d,br,Cr,Or)}),u.seen.pop(),reduceToSingleString(Mr,Er,xr)}function formatPrimitive(u,c){if(isUndefined(c))return u.stylize("undefined","undefined");if(isString(c)){var d="'"+JSON.stringify(c).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return u.stylize(d,"string")}if(isNumber(c))return u.stylize(""+c,"number");if(isBoolean(c))return u.stylize(""+c,"boolean");if(isNull(c))return u.stylize("null","null")}function formatError(u){return"["+Error.prototype.toString.call(u)+"]"}function formatArray(u,c,d,y,gr){for(var _r=[],br=0,wr=c.length;br<wr;++br)hasOwnProperty(c,String(br))?_r.push(formatProperty(u,c,d,y,String(br),!0)):_r.push("");return gr.forEach(function(Er){Er.match(/^\d+$/)||_r.push(formatProperty(u,c,d,y,Er,!0))}),_r}function formatProperty(u,c,d,y,gr,_r){var br,wr,Er;if(Er=Object.getOwnPropertyDescriptor(c,gr)||{value:c[gr]},Er.get?Er.set?wr=u.stylize("[Getter/Setter]","special"):wr=u.stylize("[Getter]","special"):Er.set&&(wr=u.stylize("[Setter]","special")),hasOwnProperty(y,gr)||(br="["+gr+"]"),wr||(u.seen.indexOf(Er.value)<0?(isNull(d)?wr=formatValue(u,Er.value,null):wr=formatValue(u,Er.value,d-1),wr.indexOf(`
`)>-1&&(_r?wr=wr.split(`
`).map(function(Or){return"  "+Or}).join(`
`).substr(2):wr=`
`+wr.split(`
`).map(function(Or){return"   "+Or}).join(`
`))):wr=u.stylize("[Circular]","special")),isUndefined(br)){if(_r&&gr.match(/^\d+$/))return wr;br=JSON.stringify(""+gr),br.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(br=br.substr(1,br.length-2),br=u.stylize(br,"name")):(br=br.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),br=u.stylize(br,"string"))}return br+": "+wr}function reduceToSingleString(u,c,d){var y=u.reduce(function(gr,_r){return _r.indexOf(`
`)>=0,gr+_r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return y>60?d[0]+(c===""?"":c+`
 `)+" "+u.join(`,
  `)+" "+d[1]:d[0]+c+" "+u.join(", ")+" "+d[1]}function isArray$1(u){return Array.isArray(u)}function isBoolean(u){return typeof u=="boolean"}function isNull(u){return u===null}function isNumber(u){return typeof u=="number"}function isString(u){return typeof u=="string"}function isUndefined(u){return u===void 0}function isRegExp(u){return isObject$1(u)&&objectToString(u)==="[object RegExp]"}function isObject$1(u){return typeof u=="object"&&u!==null}function isDate(u){return isObject$1(u)&&objectToString(u)==="[object Date]"}function isError(u){return isObject$1(u)&&(objectToString(u)==="[object Error]"||u instanceof Error)}function isFunction$1(u){return typeof u=="function"}function isPrimitive(u){return u===null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||typeof u=="symbol"||typeof u>"u"}function objectToString(u){return Object.prototype.toString.call(u)}function _extend(u,c){if(!c||!isObject$1(c))return u;for(var d=Object.keys(c),y=d.length;y--;)u[d[y]]=c[d[y]];return u}function hasOwnProperty(u,c){return Object.prototype.hasOwnProperty.call(u,c)}function compare(u,c){if(u===c)return 0;for(var d=u.length,y=c.length,gr=0,_r=Math.min(d,y);gr<_r;++gr)if(u[gr]!==c[gr]){d=u[gr],y=c[gr];break}return d<y?-1:y<d?1:0}var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(u){var c=[];for(var d in u)hasOwn.call(u,d)&&c.push(d);return c},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return typeof _functionsHaveNames<"u"?_functionsHaveNames:_functionsHaveNames=function(){return function(){}.name==="foo"}()}function pToString(u){return Object.prototype.toString.call(u)}function isView(u){return buffer.isBuffer(u)||typeof global$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u?!!(u instanceof DataView||u.buffer&&u.buffer instanceof ArrayBuffer):!1}function assert(u,c){u||fail$1(u,!0,c,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(u){if(!!isFunction$1(u)){if(functionsHaveNames())return u.name;var c=u.toString(),d=c.match(regex);return d&&d[1]}}assert.AssertionError=AssertionError;function AssertionError(u){this.name="AssertionError",this.actual=u.actual,this.expected=u.expected,this.operator=u.operator,u.message?(this.message=u.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var c=u.stackStartFunction||fail$1;if(Error.captureStackTrace)Error.captureStackTrace(this,c);else{var d=new Error;if(d.stack){var y=d.stack,gr=getName(c),_r=y.indexOf(`
`+gr);if(_r>=0){var br=y.indexOf(`
`,_r+1);y=y.substring(br+1)}this.stack=y}}}inherits$1(AssertionError,Error);function truncate(u,c){return typeof u=="string"?u.length<c?u:u.slice(0,c):u}function inspect(u){if(functionsHaveNames()||!isFunction$1(u))return inspect$1(u);var c=getName(u),d=c?": "+c:"";return"[Function"+d+"]"}function getMessage(u){return truncate(inspect(u.actual),128)+" "+u.operator+" "+truncate(inspect(u.expected),128)}function fail$1(u,c,d,y,gr){throw new AssertionError({message:d,actual:u,expected:c,operator:y,stackStartFunction:gr})}assert.fail=fail$1;function ok(u,c){u||fail$1(u,!0,c,"==",ok)}assert.ok=ok;assert.equal=equal;function equal(u,c,d){u!=c&&fail$1(u,c,d,"==",equal)}assert.notEqual=notEqual;function notEqual(u,c,d){u==c&&fail$1(u,c,d,"!=",notEqual)}assert.deepEqual=deepEqual$1;function deepEqual$1(u,c,d){_deepEqual(u,c,!1)||fail$1(u,c,d,"deepEqual",deepEqual$1)}assert.deepStrictEqual=deepStrictEqual;function deepStrictEqual(u,c,d){_deepEqual(u,c,!0)||fail$1(u,c,d,"deepStrictEqual",deepStrictEqual)}function _deepEqual(u,c,d,y){if(u===c)return!0;if(buffer.isBuffer(u)&&buffer.isBuffer(c))return compare(u,c)===0;if(isDate(u)&&isDate(c))return u.getTime()===c.getTime();if(isRegExp(u)&&isRegExp(c))return u.source===c.source&&u.global===c.global&&u.multiline===c.multiline&&u.lastIndex===c.lastIndex&&u.ignoreCase===c.ignoreCase;if((u===null||typeof u!="object")&&(c===null||typeof c!="object"))return d?u===c:u==c;if(isView(u)&&isView(c)&&pToString(u)===pToString(c)&&!(u instanceof Float32Array||u instanceof Float64Array))return compare(new Uint8Array(u.buffer),new Uint8Array(c.buffer))===0;if(buffer.isBuffer(u)!==buffer.isBuffer(c))return!1;y=y||{actual:[],expected:[]};var gr=y.actual.indexOf(u);return gr!==-1&&gr===y.expected.indexOf(c)?!0:(y.actual.push(u),y.expected.push(c),objEquiv(u,c,d,y))}function isArguments(u){return Object.prototype.toString.call(u)=="[object Arguments]"}function objEquiv(u,c,d,y){if(u==null||c===null||c===void 0)return!1;if(isPrimitive(u)||isPrimitive(c))return u===c;if(d&&Object.getPrototypeOf(u)!==Object.getPrototypeOf(c))return!1;var gr=isArguments(u),_r=isArguments(c);if(gr&&!_r||!gr&&_r)return!1;if(gr)return u=pSlice.call(u),c=pSlice.call(c),_deepEqual(u,c,d);var br=objectKeys(u),wr=objectKeys(c),Er,Or;if(br.length!==wr.length)return!1;for(br.sort(),wr.sort(),Or=br.length-1;Or>=0;Or--)if(br[Or]!==wr[Or])return!1;for(Or=br.length-1;Or>=0;Or--)if(Er=br[Or],!_deepEqual(u[Er],c[Er],d,y))return!1;return!0}assert.notDeepEqual=notDeepEqual;function notDeepEqual(u,c,d){_deepEqual(u,c,!1)&&fail$1(u,c,d,"notDeepEqual",notDeepEqual)}assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(u,c,d){_deepEqual(u,c,!0)&&fail$1(u,c,d,"notDeepStrictEqual",notDeepStrictEqual)}assert.strictEqual=strictEqual;function strictEqual(u,c,d){u!==c&&fail$1(u,c,d,"===",strictEqual)}assert.notStrictEqual=notStrictEqual;function notStrictEqual(u,c,d){u===c&&fail$1(u,c,d,"!==",notStrictEqual)}function expectedException(u,c){if(!u||!c)return!1;if(Object.prototype.toString.call(c)=="[object RegExp]")return c.test(u);try{if(u instanceof c)return!0}catch{}return Error.isPrototypeOf(c)?!1:c.call({},u)===!0}function _tryBlock(u){var c;try{u()}catch(d){c=d}return c}function _throws(u,c,d,y){var gr;if(typeof c!="function")throw new TypeError('"block" argument must be a function');typeof d=="string"&&(y=d,d=null),gr=_tryBlock(c),y=(d&&d.name?" ("+d.name+").":".")+(y?" "+y:"."),u&&!gr&&fail$1(gr,d,"Missing expected exception"+y);var _r=typeof y=="string",br=!u&&isError(gr),wr=!u&&gr&&!d;if((br&&_r&&expectedException(gr,d)||wr)&&fail$1(gr,d,"Got unwanted exception"+y),u&&gr&&d&&!expectedException(gr,d)||!u&&gr)throw gr}assert.throws=throws;function throws(u,c,d){_throws(!0,u,c,d)}assert.doesNotThrow=doesNotThrow;function doesNotThrow(u,c,d){_throws(!1,u,c,d)}assert.ifError=ifError;function ifError(u){if(u)throw u}class Layout{constructor(c,d){if(!Number.isInteger(c))throw new TypeError("span must be an integer");this.span=c,this.property=d}makeDestinationObject(){return{}}decode(c,d){throw new Error("Layout is abstract")}encode(c,d,y){throw new Error("Layout is abstract")}getSpan(c,d){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(c){const d=Object.create(this.constructor.prototype);return Object.assign(d,this),d.property=c,d}fromArray(c){}}function nameWithProperty(u,c){return c.property?u+"["+c.property+"]":u}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(c,d){if(super(c,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(c,d){return d===void 0&&(d=0),c.readUIntLE(d,this.span)}encode(c,d,y){return y===void 0&&(y=0),d.writeUIntLE(c,y,this.span),this.span}}class Structure extends Layout{constructor(c,d,y){if(!(Array.isArray(c)&&c.reduce((_r,br)=>_r&&br instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof d=="boolean"&&y===void 0&&(y=d,d=void 0);for(const _r of c)if(0>_r.span&&_r.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let gr=-1;try{gr=c.reduce((_r,br)=>_r+br.getSpan(),0)}catch{}super(gr,d),this.fields=c,this.decodePrefixes=!!y}getSpan(c,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let y=0;try{y=this.fields.reduce((gr,_r)=>{const br=_r.getSpan(c,d);return d+=br,gr+br},0)}catch{throw new RangeError("indeterminate span")}return y}decode(c,d){d===void 0&&(d=0);const y=this.makeDestinationObject();for(const gr of this.fields)if(gr.property!==void 0&&(y[gr.property]=gr.decode(c,d)),d+=gr.getSpan(c,d),this.decodePrefixes&&c.length===d)break;return y}encode(c,d,y){y===void 0&&(y=0);const gr=y;let _r=0,br=0;for(const wr of this.fields){let Er=wr.span;if(br=0<Er?Er:0,wr.property!==void 0){const Or=c[wr.property];Or!==void 0&&(br=wr.encode(Or,d,y),0>Er&&(Er=wr.getSpan(d,y)))}_r=y,y+=Er}return _r+br-gr}fromArray(c){const d=this.makeDestinationObject();for(const y of this.fields)y.property!==void 0&&0<c.length&&(d[y.property]=c.shift());return d}layoutFor(c){if(typeof c!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===c)return d}offsetOf(c){if(typeof c!="string")throw new TypeError("property must be string");let d=0;for(const y of this.fields){if(y.property===c)return d;0>y.span?d=-1:0<=d&&(d+=y.span)}}}class Blob$1 extends Layout{constructor(c,d){if(!(c instanceof ExternalLayout&&c.isCount()||Number.isInteger(c)&&0<=c))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let y=-1;c instanceof ExternalLayout||(y=c),super(y,d),this.length=c}getSpan(c,d){let y=this.span;return 0>y&&(y=this.length.decode(c,d)),y}decode(c,d){d===void 0&&(d=0);let y=this.span;return 0>y&&(y=this.length.decode(c,d)),c.slice(d,d+y)}encode(c,d,y){let gr=this.length;if(this.length instanceof ExternalLayout&&(gr=c.length),!(buffer.Buffer.isBuffer(c)&&gr===c.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+gr+") Buffer as src");if(y+gr>d.length)throw new RangeError("encoding overruns Buffer");return d.write(c.toString("hex"),y,gr,"hex"),this.length instanceof ExternalLayout&&this.length.encode(gr,d,y),gr}}var u8=u=>new UInt(1,u),u32=u=>new UInt(4,u),struct=(u,c,d)=>new Structure(u,c,d),blob=(u,c)=>new Blob$1(u,c);const publicKey=(u="publicKey")=>blob(32,u),uint64=(u="uint64")=>blob(8,u);function sendAndConfirmTransaction$1(u,c,d,...y){return sendAndConfirmTransaction$2(c,d,y,{skipPreflight:!1})}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(u){return buffer.Buffer.from(u.toBuffer())}class u64 extends BN{toBuffer(){const c=super.toArray().reverse(),d=buffer.Buffer.from(c);if(d.length===8)return d;assert(d.length<8,"u64 too large");const y=buffer.Buffer.alloc(8);return d.copy(y),y}static fromBuffer(c){return assert(c.length===8,`Invalid buffer length: ${c.length}`),new u64([...c].reverse().map(d=>`00${d.toString(16)}`.slice(-2)).join(""),16)}}function isAccount(u){return"publicKey"in u}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(c,d,y,gr){_defineProperty(this,"connection",void 0),_defineProperty(this,"publicKey",void 0),_defineProperty(this,"programId",void 0),_defineProperty(this,"associatedProgramId",void 0),_defineProperty(this,"payer",void 0),Object.assign(this,{connection:c,publicKey:d,programId:y,payer:gr,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(c){return await c.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(c){return await c.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(c){return await c.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(c,d,y,gr,_r,br){const wr=Keypair.generate(),Er=new Token(c,wr.publicKey,br,d),Or=await Token.getMinBalanceRentForExemptMint(c),xr=new Transaction;return xr.add(SystemProgram.createAccount({fromPubkey:d.publicKey,newAccountPubkey:wr.publicKey,lamports:Or,space:MintLayout.span,programId:br})),xr.add(Token.createInitMintInstruction(br,wr.publicKey,_r,y,gr)),await sendAndConfirmTransaction$1("createAccount and InitializeMint",c,xr,d,wr),Er}async createAccount(c){const d=await Token.getMinBalanceRentForExemptAccount(this.connection),y=Keypair.generate(),gr=new Transaction;gr.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:y.publicKey,lamports:d,space:AccountLayout.span,programId:this.programId}));const _r=this.publicKey;return gr.add(Token.createInitAccountInstruction(this.programId,_r,y.publicKey,c)),await sendAndConfirmTransaction$1("createAccount and InitializeAccount",this.connection,gr,this.payer,y),y.publicKey}async createAssociatedTokenAccount(c){const d=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,c);return this.createAssociatedTokenAccountInternal(c,d)}async createAssociatedTokenAccountInternal(c,d){return await sendAndConfirmTransaction$1("CreateAssociatedTokenAccount",this.connection,new Transaction().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,d,c,this.payer.publicKey)),this.payer),d}async getOrCreateAssociatedAccountInfo(c){const d=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,c);try{return await this.getAccountInfo(d)}catch(y){if(y.message===FAILED_TO_FIND_ACCOUNT||y.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(c,d)}catch{}return await this.getAccountInfo(d)}else throw y}}static async createWrappedNativeAccount(c,d,y,gr,_r){const br=await Token.getMinBalanceRentForExemptAccount(c),wr=Keypair.generate(),Er=new Transaction;return Er.add(SystemProgram.createAccount({fromPubkey:gr.publicKey,newAccountPubkey:wr.publicKey,lamports:br,space:AccountLayout.span,programId:d})),Er.add(SystemProgram.transfer({fromPubkey:gr.publicKey,toPubkey:wr.publicKey,lamports:_r})),Er.add(Token.createInitAccountInstruction(d,NATIVE_MINT,wr.publicKey,y)),await sendAndConfirmTransaction$1("createAccount, transfer, and initializeAccount",c,Er,gr,wr),wr.publicKey}async createMultisig(c,d){const y=Keypair.generate(),gr=await Token.getMinBalanceRentForExemptMultisig(this.connection),_r=new Transaction;_r.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:y.publicKey,lamports:gr,space:MultisigLayout.span,programId:this.programId}));let br=[{pubkey:y.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];d.forEach(Or=>br.push({pubkey:Or,isSigner:!1,isWritable:!1}));const wr=struct([u8("instruction"),u8("m")]),Er=buffer.Buffer.alloc(wr.span);return wr.encode({instruction:2,m:c},Er),_r.add({keys:br,programId:this.programId,data:Er}),await sendAndConfirmTransaction$1("createAccount and InitializeMultisig",this.connection,_r,this.payer,y),y.publicKey}async getMintInfo(){const c=await this.connection.getAccountInfo(this.publicKey);if(c===null)throw new Error("Failed to find mint account");if(!c.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(c.owner)}`);if(c.data.length!=MintLayout.span)throw new Error("Invalid mint size");const d=buffer.Buffer.from(c.data),y=MintLayout.decode(d);return y.mintAuthorityOption===0?y.mintAuthority=null:y.mintAuthority=new PublicKey(y.mintAuthority),y.supply=u64.fromBuffer(y.supply),y.isInitialized=y.isInitialized!=0,y.freezeAuthorityOption===0?y.freezeAuthority=null:y.freezeAuthority=new PublicKey(y.freezeAuthority),y}async getAccountInfo(c,d){const y=await this.connection.getAccountInfo(c,d);if(y===null)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!y.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(y.data.length!=AccountLayout.span)throw new Error("Invalid account size");const gr=buffer.Buffer.from(y.data),_r=AccountLayout.decode(gr);if(_r.address=c,_r.mint=new PublicKey(_r.mint),_r.owner=new PublicKey(_r.owner),_r.amount=u64.fromBuffer(_r.amount),_r.delegateOption===0?(_r.delegate=null,_r.delegatedAmount=new u64):(_r.delegate=new PublicKey(_r.delegate),_r.delegatedAmount=u64.fromBuffer(_r.delegatedAmount)),_r.isInitialized=_r.state!==0,_r.isFrozen=_r.state===2,_r.isNativeOption===1?(_r.rentExemptReserve=u64.fromBuffer(_r.isNative),_r.isNative=!0):(_r.rentExemptReserve=null,_r.isNative=!1),_r.closeAuthorityOption===0?_r.closeAuthority=null:_r.closeAuthority=new PublicKey(_r.closeAuthority),!_r.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(_r.mint)} !== ${JSON.stringify(this.publicKey)}`);return _r}async getMultisigInfo(c){const d=await this.connection.getAccountInfo(c);if(d===null)throw new Error("Failed to find multisig");if(!d.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(d.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const y=buffer.Buffer.from(d.data),gr=MultisigLayout.decode(y);return gr.signer1=new PublicKey(gr.signer1),gr.signer2=new PublicKey(gr.signer2),gr.signer3=new PublicKey(gr.signer3),gr.signer4=new PublicKey(gr.signer4),gr.signer5=new PublicKey(gr.signer5),gr.signer6=new PublicKey(gr.signer6),gr.signer7=new PublicKey(gr.signer7),gr.signer8=new PublicKey(gr.signer8),gr.signer9=new PublicKey(gr.signer9),gr.signer10=new PublicKey(gr.signer10),gr.signer11=new PublicKey(gr.signer11),gr}async transfer(c,d,y,gr,_r){let br,wr;return isAccount(y)?(br=y.publicKey,wr=[y]):(br=y,wr=gr),await sendAndConfirmTransaction$1("Transfer",this.connection,new Transaction().add(Token.createTransferInstruction(this.programId,c,d,br,gr,_r)),this.payer,...wr)}async approve(c,d,y,gr,_r){let br,wr;isAccount(y)?(br=y.publicKey,wr=[y]):(br=y,wr=gr),await sendAndConfirmTransaction$1("Approve",this.connection,new Transaction().add(Token.createApproveInstruction(this.programId,c,d,br,gr,_r)),this.payer,...wr)}async revoke(c,d,y){let gr,_r;isAccount(d)?(gr=d.publicKey,_r=[d]):(gr=d,_r=y),await sendAndConfirmTransaction$1("Revoke",this.connection,new Transaction().add(Token.createRevokeInstruction(this.programId,c,gr,y)),this.payer,..._r)}async setAuthority(c,d,y,gr,_r){let br,wr;isAccount(gr)?(br=gr.publicKey,wr=[gr]):(br=gr,wr=_r),await sendAndConfirmTransaction$1("SetAuthority",this.connection,new Transaction().add(Token.createSetAuthorityInstruction(this.programId,c,d,y,br,_r)),this.payer,...wr)}async mintTo(c,d,y,gr){let _r,br;isAccount(d)?(_r=d.publicKey,br=[d]):(_r=d,br=y),await sendAndConfirmTransaction$1("MintTo",this.connection,new Transaction().add(Token.createMintToInstruction(this.programId,this.publicKey,c,_r,y,gr)),this.payer,...br)}async burn(c,d,y,gr){let _r,br;isAccount(d)?(_r=d.publicKey,br=[d]):(_r=d,br=y),await sendAndConfirmTransaction$1("Burn",this.connection,new Transaction().add(Token.createBurnInstruction(this.programId,this.publicKey,c,_r,y,gr)),this.payer,...br)}async closeAccount(c,d,y,gr){let _r,br;isAccount(y)?(_r=y.publicKey,br=[y]):(_r=y,br=gr),await sendAndConfirmTransaction$1("CloseAccount",this.connection,new Transaction().add(Token.createCloseAccountInstruction(this.programId,c,d,_r,gr)),this.payer,...br)}async freezeAccount(c,d,y){let gr,_r;isAccount(d)?(gr=d.publicKey,_r=[d]):(gr=d,_r=y),await sendAndConfirmTransaction$1("FreezeAccount",this.connection,new Transaction().add(Token.createFreezeAccountInstruction(this.programId,c,this.publicKey,gr,y)),this.payer,..._r)}async thawAccount(c,d,y){let gr,_r;isAccount(d)?(gr=d.publicKey,_r=[d]):(gr=d,_r=y),await sendAndConfirmTransaction$1("ThawAccount",this.connection,new Transaction().add(Token.createThawAccountInstruction(this.programId,c,this.publicKey,gr,y)),this.payer,..._r)}async transferChecked(c,d,y,gr,_r,br){let wr,Er;return isAccount(y)?(wr=y.publicKey,Er=[y]):(wr=y,Er=gr),await sendAndConfirmTransaction$1("TransferChecked",this.connection,new Transaction().add(Token.createTransferCheckedInstruction(this.programId,c,this.publicKey,d,wr,gr,_r,br)),this.payer,...Er)}async approveChecked(c,d,y,gr,_r,br){let wr,Er;isAccount(y)?(wr=y.publicKey,Er=[y]):(wr=y,Er=gr),await sendAndConfirmTransaction$1("ApproveChecked",this.connection,new Transaction().add(Token.createApproveCheckedInstruction(this.programId,c,this.publicKey,d,wr,gr,_r,br)),this.payer,...Er)}async mintToChecked(c,d,y,gr,_r){let br,wr;isAccount(d)?(br=d.publicKey,wr=[d]):(br=d,wr=y),await sendAndConfirmTransaction$1("MintToChecked",this.connection,new Transaction().add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,c,br,y,gr,_r)),this.payer,...wr)}async burnChecked(c,d,y,gr,_r){let br,wr;isAccount(d)?(br=d.publicKey,wr=[d]):(br=d,wr=y),await sendAndConfirmTransaction$1("BurnChecked",this.connection,new Transaction().add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,c,br,y,gr,_r)),this.payer,...wr)}async syncNative(c){await sendAndConfirmTransaction$1("SyncNative",this.connection,new Transaction().add(Token.createSyncNativeInstruction(this.programId,c)),this.payer)}static createInitMintInstruction(c,d,y,gr,_r){let br=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const wr=struct([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let Er=buffer.Buffer.alloc(1024);{const Or=wr.encode({instruction:0,decimals:y,mintAuthority:pubkeyToBuffer(gr),option:_r===null?0:1,freezeAuthority:pubkeyToBuffer(_r||new PublicKey(0))},Er);Er=Er.slice(0,Or)}return new TransactionInstruction({keys:br,programId:c,data:Er})}static createInitAccountInstruction(c,d,y,gr){const _r=[{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],br=struct([u8("instruction")]),wr=buffer.Buffer.alloc(br.span);return br.encode({instruction:1},wr),new TransactionInstruction({keys:_r,programId:c,data:wr})}static createTransferInstruction(c,d,y,gr,_r,br){const wr=struct([u8("instruction"),uint64("amount")]),Er=buffer.Buffer.alloc(wr.span);wr.encode({instruction:3,amount:new u64(br).toBuffer()},Er);let Or=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0}];return _r.length===0?Or.push({pubkey:gr,isSigner:!0,isWritable:!1}):(Or.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(xr=>Or.push({pubkey:xr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Or,programId:c,data:Er})}static createApproveInstruction(c,d,y,gr,_r,br){const wr=struct([u8("instruction"),uint64("amount")]),Er=buffer.Buffer.alloc(wr.span);wr.encode({instruction:4,amount:new u64(br).toBuffer()},Er);let Or=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return _r.length===0?Or.push({pubkey:gr,isSigner:!0,isWritable:!1}):(Or.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(xr=>Or.push({pubkey:xr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Or,programId:c,data:Er})}static createRevokeInstruction(c,d,y,gr){const _r=struct([u8("instruction")]),br=buffer.Buffer.alloc(_r.span);_r.encode({instruction:5},br);let wr=[{pubkey:d,isSigner:!1,isWritable:!0}];return gr.length===0?wr.push({pubkey:y,isSigner:!0,isWritable:!1}):(wr.push({pubkey:y,isSigner:!1,isWritable:!1}),gr.forEach(Er=>wr.push({pubkey:Er.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:wr,programId:c,data:br})}static createSetAuthorityInstruction(c,d,y,gr,_r,br){const wr=struct([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let Er=buffer.Buffer.alloc(1024);{const xr=wr.encode({instruction:6,authorityType:AuthorityTypeCodes[gr],option:y===null?0:1,newAuthority:pubkeyToBuffer(y||new PublicKey(0))},Er);Er=Er.slice(0,xr)}let Or=[{pubkey:d,isSigner:!1,isWritable:!0}];return br.length===0?Or.push({pubkey:_r,isSigner:!0,isWritable:!1}):(Or.push({pubkey:_r,isSigner:!1,isWritable:!1}),br.forEach(xr=>Or.push({pubkey:xr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Or,programId:c,data:Er})}static createMintToInstruction(c,d,y,gr,_r,br){const wr=struct([u8("instruction"),uint64("amount")]),Er=buffer.Buffer.alloc(wr.span);wr.encode({instruction:7,amount:new u64(br).toBuffer()},Er);let Or=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0}];return _r.length===0?Or.push({pubkey:gr,isSigner:!0,isWritable:!1}):(Or.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(xr=>Or.push({pubkey:xr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Or,programId:c,data:Er})}static createBurnInstruction(c,d,y,gr,_r,br){const wr=struct([u8("instruction"),uint64("amount")]),Er=buffer.Buffer.alloc(wr.span);wr.encode({instruction:8,amount:new u64(br).toBuffer()},Er);let Or=[{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0}];return _r.length===0?Or.push({pubkey:gr,isSigner:!0,isWritable:!1}):(Or.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(xr=>Or.push({pubkey:xr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Or,programId:c,data:Er})}static createCloseAccountInstruction(c,d,y,gr,_r){const br=struct([u8("instruction")]),wr=buffer.Buffer.alloc(br.span);br.encode({instruction:9},wr);let Er=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0}];return _r.length===0?Er.push({pubkey:gr,isSigner:!0,isWritable:!1}):(Er.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(Or=>Er.push({pubkey:Or.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Er,programId:c,data:wr})}static createFreezeAccountInstruction(c,d,y,gr,_r){const br=struct([u8("instruction")]),wr=buffer.Buffer.alloc(br.span);br.encode({instruction:10},wr);let Er=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return _r.length===0?Er.push({pubkey:gr,isSigner:!0,isWritable:!1}):(Er.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(Or=>Er.push({pubkey:Or.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Er,programId:c,data:wr})}static createThawAccountInstruction(c,d,y,gr,_r){const br=struct([u8("instruction")]),wr=buffer.Buffer.alloc(br.span);br.encode({instruction:11},wr);let Er=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return _r.length===0?Er.push({pubkey:gr,isSigner:!0,isWritable:!1}):(Er.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(Or=>Er.push({pubkey:Or.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Er,programId:c,data:wr})}static createTransferCheckedInstruction(c,d,y,gr,_r,br,wr,Er){const Or=struct([u8("instruction"),uint64("amount"),u8("decimals")]),xr=buffer.Buffer.alloc(Or.span);Or.encode({instruction:12,amount:new u64(wr).toBuffer(),decimals:Er},xr);let kr=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:gr,isSigner:!1,isWritable:!0}];return br.length===0?kr.push({pubkey:_r,isSigner:!0,isWritable:!1}):(kr.push({pubkey:_r,isSigner:!1,isWritable:!1}),br.forEach(Mr=>kr.push({pubkey:Mr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:kr,programId:c,data:xr})}static createApproveCheckedInstruction(c,d,y,gr,_r,br,wr,Er){const Or=struct([u8("instruction"),uint64("amount"),u8("decimals")]),xr=buffer.Buffer.alloc(Or.span);Or.encode({instruction:13,amount:new u64(wr).toBuffer(),decimals:Er},xr);let kr=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:gr,isSigner:!1,isWritable:!1}];return br.length===0?kr.push({pubkey:_r,isSigner:!0,isWritable:!1}):(kr.push({pubkey:_r,isSigner:!1,isWritable:!1}),br.forEach(Mr=>kr.push({pubkey:Mr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:kr,programId:c,data:xr})}static createMintToCheckedInstruction(c,d,y,gr,_r,br,wr){const Er=struct([u8("instruction"),uint64("amount"),u8("decimals")]),Or=buffer.Buffer.alloc(Er.span);Er.encode({instruction:14,amount:new u64(br).toBuffer(),decimals:wr},Or);let xr=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0}];return _r.length===0?xr.push({pubkey:gr,isSigner:!0,isWritable:!1}):(xr.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(kr=>xr.push({pubkey:kr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:xr,programId:c,data:Or})}static createBurnCheckedInstruction(c,d,y,gr,_r,br,wr){const Er=struct([u8("instruction"),uint64("amount"),u8("decimals")]),Or=buffer.Buffer.alloc(Er.span);Er.encode({instruction:15,amount:new u64(br).toBuffer(),decimals:wr},Or);let xr=[{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0}];return _r.length===0?xr.push({pubkey:gr,isSigner:!0,isWritable:!1}):(xr.push({pubkey:gr,isSigner:!1,isWritable:!1}),_r.forEach(kr=>xr.push({pubkey:kr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:xr,programId:c,data:Or})}static createSyncNativeInstruction(c,d){const y=struct([u8("instruction")]),gr=buffer.Buffer.alloc(y.span);y.encode({instruction:17},gr);let _r=[{pubkey:d,isSigner:!1,isWritable:!0}];return new TransactionInstruction({keys:_r,programId:c,data:gr})}static async getAssociatedTokenAddress(c,d,y,gr,_r=!1){if(!_r&&!PublicKey.isOnCurve(gr.toBuffer()))throw new Error(`Owner cannot sign: ${gr.toString()}`);return(await PublicKey.findProgramAddress([gr.toBuffer(),d.toBuffer(),y.toBuffer()],c))[0]}static createAssociatedTokenAccountInstruction(c,d,y,gr,_r,br){const wr=buffer.Buffer.alloc(0);let Er=[{pubkey:br,isSigner:!0,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!0},{pubkey:_r,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:Er,programId:c,data:wr})}}const index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID,AccountLayout,MintLayout,NATIVE_MINT,TOKEN_PROGRAM_ID,Token,u64},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_browser_esm);var hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers$1;hasRequiredHelpers=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(Cr,Nr,Ur,Dr){function zr(Zr){return Zr instanceof Ur?Zr:new Ur(function(Wr){Wr(Zr)})}return new(Ur||(Ur=Promise))(function(Zr,Wr){function tn(Qr){try{Jr(Dr.next(Qr))}catch(an){Wr(an)}}function rn(Qr){try{Jr(Dr.throw(Qr))}catch(an){Wr(an)}}function Jr(Qr){Qr.done?Zr(Qr.value):zr(Qr.value).then(tn,rn)}Jr((Dr=Dr.apply(Cr,Nr||[])).next())})};Object.defineProperty(helpers$1,"__esModule",{value:!0}),helpers$1.getAccountInfo=helpers$1.getTokenAccount=helpers$1.getAssociatedTokenAddress=helpers$1.convertFactionStringToNum=helpers$1.longToByteArray=helpers$1.byteArrayToLong=helpers$1.stringToByteArray=helpers$1.byteArrayToString=void 0;const c=requireDist(),d=require$$0$1,y=require$$0$2,gr=require$$1$1;function _r(Cr){return String.fromCharCode(...Cr)}helpers$1.byteArrayToString=_r;function br(Cr,Nr){if(Cr.length>Nr)return null;let Ur=[];for(let Dr=0;Dr<Nr;Dr+=1){let zr=32;Dr<Cr.length&&(zr=Cr.charCodeAt(Dr)),Ur=Ur.concat([zr])}return Ur}helpers$1.stringToByteArray=br;function wr(Cr){let Nr=0;for(let Ur=Cr.length-1;Ur>=0;Ur-=1)Nr=Nr*256+Cr[Ur];return Nr}helpers$1.byteArrayToLong=wr;function Er(Cr){const Nr=[0,0,0,0,0,0,0,0];for(let Ur=0;Ur<Nr.length;Ur+=1){const Dr=Cr&255;Nr[Ur]=Dr,Cr=(Cr-Dr)/256}return Nr}helpers$1.longToByteArray=Er;function Or(Cr){return u(this,void 0,void 0,function*(){switch(Cr.toLowerCase()){case"mud":return c.FactionType.MUD;case"oni":return c.FactionType.ONI;case"ustur":return c.FactionType.Ustur;default:return c.FactionType.Unenlisted}})}helpers$1.convertFactionStringToNum=Or;function xr(Cr,Nr){return u(this,void 0,void 0,function*(){const[Ur]=yield y.PublicKey.findProgramAddress([Cr.toBuffer(),gr.TOKEN_PROGRAM_ID.toBuffer(),Nr.toBuffer()],gr.ASSOCIATED_TOKEN_PROGRAM_ID);return Ur})}helpers$1.getAssociatedTokenAddress=xr;function kr(Cr,Nr,Ur,Dr=Nr,zr){return u(this,void 0,void 0,function*(){const{value:Zr}=yield Cr.getParsedTokenAccountsByOwner(Nr,{mint:Ur});let Wr=null;if(zr===void 0){let tn=null;for(const rn of Zr)if(rn.account.data.parsed.type==="account"){const Jr=rn.account.data.parsed,Qr=new d.BN(Jr.info.tokenAmount.amount);(tn===null||Qr.gt(tn))&&(Wr=rn.pubkey,tn=Qr)}}else{let tn=null;for(const rn of Zr)if(rn.account.data.parsed.type==="account"){const Jr=rn.account.data.parsed,Qr=new d.BN(Jr.info.tokenAmount.amount);Qr.gt(new d.BN(zr))&&(tn===null||Qr.lt(tn))&&(Wr=rn.pubkey,tn=Qr)}}if(Wr===null){const tn=yield xr(Nr,Ur),{value:rn}=yield Cr.getParsedAccountInfo(tn,"confirmed");if(rn===null||rn.owner.equals(y.SystemProgram.programId))return{tokenAccount:tn,createInstruction:gr.Token.createAssociatedTokenAccountInstruction(gr.ASSOCIATED_TOKEN_PROGRAM_ID,gr.TOKEN_PROGRAM_ID,Ur,tn,Nr,Dr)};if("program"in rn.data&&rn.data.parsed.type==="account"&&new y.PublicKey(rn.data.parsed.info.owner).equals(Nr))return{tokenAccount:tn};{const Jr=d.web3.Keypair.generate();return{tokenAccount:Jr,createInstruction:gr.Token.createInitAccountInstruction(gr.TOKEN_PROGRAM_ID,Ur,Jr.publicKey,Nr)}}}else return{tokenAccount:Wr}})}helpers$1.getTokenAccount=kr;function Mr(Cr,Nr){return u(this,void 0,void 0,function*(){const{value:Ur}=yield Cr.getParsedAccountInfo(Nr);return Ur.data})}return helpers$1.getAccountInfo=Mr,helpers$1}var wallet={},__awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(wallet,"__esModule",{value:!0});wallet.sendAndConfirmTransaction=void 0;const web3_js_1$3=require$$0$2;function sendAndConfirmTransaction(u,c,...d){return __awaiter$h(this,void 0,void 0,function*(){let y="";try{y=yield(0,web3_js_1$3.sendAndConfirmTransaction)(u,c,d,{skipPreflight:!0,commitment:"singleGossip",preflightCommitment:null})}catch(gr){console.log(gr)}return y})}wallet.sendAndConfirmTransaction=sendAndConfirmTransaction;var gmHelper$1={},marketplace={},instruction_builders={},BaseParams={};Object.defineProperty(BaseParams,"__esModule",{value:!0});var cancelOrder={},pda_getters$3={},order_getters={},getMarketplaceProgram$1={},gmIdl={};Object.defineProperty(gmIdl,"__esModule",{value:!0});gmIdl.baseIdl=void 0;gmIdl.baseIdl={version:"0.1.0",name:"marketplace",instructions:[{name:"addRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"deleteRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"}]},{name:"deregisterCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMarketplace",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateCurrencyVault",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCurrencyRoyalty",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"processInitializeBuy",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processInitializeSell",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!1,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"receive_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processExchange",accounts:[{name:"orderTaker",isMut:!0,isSigner:!0},{name:"orderTakerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderTakerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"assetMint",isMut:!1,isSigner:!1},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",account:"OrderAccount",path:"order_account.order_initializer_pubkey"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"saVault",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"atlasStaking",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1},{name:"stakingAccount",isMut:!1,isSigner:!1}],args:[{name:"purchaseQuantity",type:"u64"},{name:"expectedPrice",type:"u64"},{name:"seller",type:"publicKey"}]},{name:"processCancel",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeOpenOrdersCounter",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!1,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"MarketVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"bump",type:"u8"}]}},{name:"OpenOrdersCounter",type:{kind:"struct",fields:[{name:"openOrderCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"OrderAccount",type:{kind:"struct",fields:[{name:"orderInitializerPubkey",type:"publicKey"},{name:"currencyMint",type:"publicKey"},{name:"assetMint",type:"publicKey"},{name:"initializerCurrencyTokenAccount",type:"publicKey"},{name:"initializerAssetTokenAccount",type:"publicKey"},{name:"orderSide",type:{defined:"OrderSide"}},{name:"price",type:"u64"},{name:"orderOriginationQty",type:"u64"},{name:"orderRemainingQty",type:"u64"},{name:"createdAtTimestamp",type:"i64"}]}},{name:"RegisteredCurrency",type:{kind:"struct",fields:[{name:"tokenMint",type:"publicKey"},{name:"saCurrencyVault",type:"publicKey"},{name:"royalty",type:"u64"},{name:"bump",type:"u8"},{name:"royaltyTiers",type:{vec:{defined:"RoyaltyTier"}}}]}}],types:[{name:"RoyaltyTier",type:{kind:"struct",fields:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]}},{name:"OrderSide",type:{kind:"enum",variants:[{name:"Buy"},{name:"Sell"}]}},{name:"TokenType",type:{kind:"enum",variants:[{name:"Asset"},{name:"Currency"}]}}],errors:[{code:6e3,name:"InvalidDestinationAccount",msg:"Invalid Destination Token Account"},{code:6001,name:"InvalidInstruction",msg:"Invalid instruction."},{code:6002,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6003,name:"InvalidOfferAccountOwner",msg:"Invalid Offer Account Owner"},{code:6004,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"InvalidUpdateAuthorityAccount",msg:"Invalid Update Authority account"},{code:6007,name:"InvalidOrderVaultAuthorityAccount",msg:"Invalid Order Vault Authority account"},{code:6008,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6009,name:"InsufficientBalance",msg:"Insufficient Balance"},{code:6010,name:"InvalidOrderDuration",msg:"Invalid Order Duration"},{code:6011,name:"InvalidOriginationQty",msg:"Origination quantity must be greater than 0"},{code:6012,name:"InsufficientOrderQty",msg:"Insufficient Order Quantity Remaining"},{code:6013,name:"InvalidRoyalty",msg:"Invalid Royalty Value"},{code:6014,name:"InvalidCounter",msg:"Invalid Open Order Counter"},{code:6015,name:"MintDecimalError",msg:"Mint must be zero decimal"},{code:6016,name:"InvalidOrderAccountError",msg:"Order Account does not match provided account"},{code:6017,name:"InvalidRoyaltyTier",msg:"No royalty tier exists with provided stake amount"},{code:6018,name:"RoyaltyTierLength",msg:"Royalty Tier vector cannot hold any additional tiers"},{code:6019,name:"InvalidOrderPrice",msg:"Order price did not match expected price"},{code:6020,name:"DuplicateRoyaltyTier",msg:"Royalty tier already exists"},{code:6021,name:"InvalidSeller",msg:"Order seller did not match expected seller"}],metadata:{}};var gmLogsIdl$1={};Object.defineProperty(gmLogsIdl$1,"__esModule",{value:!0});gmLogsIdl$1.baseIdl=void 0;gmLogsIdl$1.baseIdl={version:"0.1.0",name:"gm_logs",instructions:[],events:[{name:"RegisterCurrencyMemo",fields:[{name:"updateAuthorityAccount",type:"publicKey",index:!1},{name:"registeredCurrency",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"saCurrencyVault",type:"publicKey",index:!1},{name:"royalty",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"InitializeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"ExchangeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"CancelOrderMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]}],metadata:{}};var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,c,d,y){y===void 0&&(y=d);var gr=Object.getOwnPropertyDescriptor(c,d);(!gr||("get"in gr?!c.__esModule:gr.writable||gr.configurable))&&(gr={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(u,y,gr)}:function(u,c,d,y){y===void 0&&(y=d),u[y]=c[d]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var d in u)d!=="default"&&Object.prototype.hasOwnProperty.call(u,d)&&__createBinding$1(c,u,d);return __setModuleDefault$1(c,u),c};Object.defineProperty(getMarketplaceProgram$1,"__esModule",{value:!0});getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram$1.getGmLogsIDL=getMarketplaceProgram$1.getGmIDL=void 0;const anchor_1$b=require$$0$1,gmIdl_1=gmIdl,gmLogsIdl=__importStar$1(gmLogsIdl$1);function getGmIDL(u){const c=gmIdl_1.baseIdl;return c.metadata.address=u.toBase58(),c}getMarketplaceProgram$1.getGmIDL=getGmIDL;function getGmLogsIDL(u){const c=gmLogsIdl.baseIdl;return c.metadata.address=u.toBase58(),c}getMarketplaceProgram$1.getGmLogsIDL=getGmLogsIDL;function getMarketplaceProgram({connection:u,programId:c}){const d=getGmIDL(c),y=new anchor_1$b.AnchorProvider(u,null,null);return new anchor_1$b.Program(d,c,y)}getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram;var __awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(order_getters,"__esModule",{value:!0});order_getters.getSingleOrder=order_getters.getOpenOrdersForPlayerAndAsset=order_getters.getOpenOrdersForPlayerAndCurrency=order_getters.getOpenOrdersForAsset=order_getters.getOpenOrdersForCurrency=order_getters.getOpenOrdersForPlayer=order_getters.getAllOpenOrders=void 0;const anchor_1$a=require$$0$1,getMarketplaceProgram_1$1=getMarketplaceProgram$1;function getAllOpenOrders(u,c){return __awaiter$g(this,void 0,void 0,function*(){const d=new anchor_1$a.AnchorProvider(u,null,null),y=(0,getMarketplaceProgram_1$1.getGmIDL)(c),gr=new anchor_1$a.Program(y,c,d),_r=[{dataSize:201}];return yield gr.account.orderAccount.all(_r)})}order_getters.getAllOpenOrders=getAllOpenOrders;function getOpenOrdersForPlayer(u,c,d){return __awaiter$g(this,void 0,void 0,function*(){const y=new anchor_1$a.AnchorProvider(u,null,null),gr=(0,getMarketplaceProgram_1$1.getGmIDL)(d),_r=new anchor_1$a.Program(gr,d,y),br=[{dataSize:201},{memcmp:{offset:8,bytes:c.toBase58()}}];return yield _r.account.orderAccount.all(br)})}order_getters.getOpenOrdersForPlayer=getOpenOrdersForPlayer;function getOpenOrdersForCurrency(u,c,d){return __awaiter$g(this,void 0,void 0,function*(){const y=new anchor_1$a.AnchorProvider(u,null,null),gr=(0,getMarketplaceProgram_1$1.getGmIDL)(d),_r=new anchor_1$a.Program(gr,d,y),br=[{dataSize:201},{memcmp:{offset:40,bytes:c.toBase58()}}];return yield _r.account.orderAccount.all(br)})}order_getters.getOpenOrdersForCurrency=getOpenOrdersForCurrency;function getOpenOrdersForAsset(u,c,d){return __awaiter$g(this,void 0,void 0,function*(){const y=new anchor_1$a.AnchorProvider(u,null,null),gr=(0,getMarketplaceProgram_1$1.getGmIDL)(d),_r=new anchor_1$a.Program(gr,d,y),br=[{dataSize:201},{memcmp:{offset:72,bytes:c.toBase58()}}];return yield _r.account.orderAccount.all(br)})}order_getters.getOpenOrdersForAsset=getOpenOrdersForAsset;function getOpenOrdersForPlayerAndCurrency(u,c,d,y){return __awaiter$g(this,void 0,void 0,function*(){const gr=new anchor_1$a.AnchorProvider(u,null,null),_r=(0,getMarketplaceProgram_1$1.getGmIDL)(y),br=new anchor_1$a.Program(_r,y,gr),wr=[{dataSize:201},{memcmp:{offset:40,bytes:d.toBase58()}},{memcmp:{offset:8,bytes:c.toBase58()}}];return yield br.account.orderAccount.all(wr)})}order_getters.getOpenOrdersForPlayerAndCurrency=getOpenOrdersForPlayerAndCurrency;function getOpenOrdersForPlayerAndAsset(u,c,d,y){return __awaiter$g(this,void 0,void 0,function*(){const gr=new anchor_1$a.AnchorProvider(u,null,null),_r=(0,getMarketplaceProgram_1$1.getGmIDL)(y),br=new anchor_1$a.Program(_r,y,gr),wr=[{dataSize:201},{memcmp:{offset:72,bytes:d.toBase58()}},{memcmp:{offset:8,bytes:c.toBase58()}}];return yield br.account.orderAccount.all(wr)})}order_getters.getOpenOrdersForPlayerAndAsset=getOpenOrdersForPlayerAndAsset;function getSingleOrder(u,c,d){return __awaiter$g(this,void 0,void 0,function*(){const y=new anchor_1$a.AnchorProvider(u,null,null),gr=(0,getMarketplaceProgram_1$1.getGmIDL)(d);return yield new anchor_1$a.Program(gr,d,y).account.orderAccount.fetch(c)})}order_getters.getSingleOrder=getSingleOrder;var pda_getters$2={},seeds$1={};Object.defineProperty(seeds$1,"__esModule",{value:!0});seeds$1.OPEN_ORDERS_COUNTER=seeds$1.REGISTERED_CURRENCY_SEED=seeds$1.ORDER_VAULT_AUTH_SEED=seeds$1.ORDER_VAULT_SEED=seeds$1.MARKET_VARS_SEED=void 0;seeds$1.MARKET_VARS_SEED=Buffer.from("market-vars");seeds$1.ORDER_VAULT_SEED=Buffer.from("order-vault-account");seeds$1.ORDER_VAULT_AUTH_SEED=Buffer.from("order-vault-auth");seeds$1.REGISTERED_CURRENCY_SEED=Buffer.from("registered-currency");seeds$1.OPEN_ORDERS_COUNTER=Buffer.from("open-orders-counter");var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,c,d,y){y===void 0&&(y=d);var gr=Object.getOwnPropertyDescriptor(c,d);(!gr||("get"in gr?!c.__esModule:gr.writable||gr.configurable))&&(gr={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(u,y,gr)}:function(u,c,d,y){y===void 0&&(y=d),u[y]=c[d]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var d in u)d!=="default"&&Object.prototype.hasOwnProperty.call(u,d)&&__createBinding(c,u,d);return __setModuleDefault(c,u),c},__awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(pda_getters$2,"__esModule",{value:!0});pda_getters$2.getOpenOrdersCounter=pda_getters$2.getAllRegisteredCurrencies=pda_getters$2.getRegisteredCurrencyAccount=pda_getters$2.getOrderVaultAuth=pda_getters$2.getOrderVault=pda_getters$2.getMarketVarsAccount=void 0;const anchor_1$9=require$$0$1,web3_js_1$2=require$$0$2,Seeds=__importStar(seeds$1),getMarketplaceProgram_1=getMarketplaceProgram$1;function getMarketVarsAccount(u){return __awaiter$f(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.MARKET_VARS_SEED],u)})}pda_getters$2.getMarketVarsAccount=getMarketVarsAccount;function getOrderVault(u,c,d){return __awaiter$f(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_SEED,u.toBuffer(),c.toBuffer()],d)})}pda_getters$2.getOrderVault=getOrderVault;function getOrderVaultAuth(u,c){return __awaiter$f(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_AUTH_SEED,u.toBuffer()],c)})}pda_getters$2.getOrderVaultAuth=getOrderVaultAuth;function getRegisteredCurrencyAccount(u,c){return __awaiter$f(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.REGISTERED_CURRENCY_SEED,c.toBuffer()],u)})}pda_getters$2.getRegisteredCurrencyAccount=getRegisteredCurrencyAccount;function getAllRegisteredCurrencies(u,c){return __awaiter$f(this,void 0,void 0,function*(){const d=new anchor_1$9.AnchorProvider(u,null,null),y=(0,getMarketplaceProgram_1.getGmIDL)(c),gr=new anchor_1$9.Program(y,c,d),_r=[{dataSize:1686}],br=yield gr.account.registeredCurrency.all(_r),wr=[];for(const Er of br){const Or={mint:Er.account.tokenMint,royalty:Er.account.royalty,saVault:Er.account.saCurrencyVault};wr.push(Or)}return wr})}pda_getters$2.getAllRegisteredCurrencies=getAllRegisteredCurrencies;function getOpenOrdersCounter(u,c,d){return __awaiter$f(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.OPEN_ORDERS_COUNTER,u.toBuffer(),c.toBuffer()],d)})}pda_getters$2.getOpenOrdersCounter=getOpenOrdersCounter;var pda_info_getters$1={},hasRequiredPda_info_getters;function requirePda_info_getters(){if(hasRequiredPda_info_getters)return pda_info_getters$1;hasRequiredPda_info_getters=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(xr,kr,Mr,Cr){function Nr(Ur){return Ur instanceof Mr?Ur:new Mr(function(Dr){Dr(Ur)})}return new(Mr||(Mr=Promise))(function(Ur,Dr){function zr(tn){try{Wr(Cr.next(tn))}catch(rn){Dr(rn)}}function Zr(tn){try{Wr(Cr.throw(tn))}catch(rn){Dr(rn)}}function Wr(tn){tn.done?Ur(tn.value):Nr(tn.value).then(zr,Zr)}Wr((Cr=Cr.apply(xr,kr||[])).next())})};Object.defineProperty(pda_info_getters$1,"__esModule",{value:!0}),pda_info_getters$1.getRoyaltyReductionForStakingAccount=pda_info_getters$1.getRoyaltyReductionForUserAndMint=pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=pda_info_getters$1.getRegisteredCurrencyAccountInfo=pda_info_getters$1.getMarketVarsAccountInfo=void 0;const c=require$$0$1,d=pda_getters$2,y=getMarketplaceProgram$1,gr=requireAtlasStaking();function _r(xr,kr){return u(this,void 0,void 0,function*(){const Mr=(0,y.getMarketplaceProgram)({connection:xr,programId:kr}),[Cr]=yield(0,d.getMarketVarsAccount)(kr);return yield Mr.account.marketVars.fetch(Cr)})}pda_info_getters$1.getMarketVarsAccountInfo=_r;function br(xr,kr,Mr){return u(this,void 0,void 0,function*(){const Cr=(0,y.getMarketplaceProgram)({connection:xr,programId:kr}),[Nr]=yield(0,d.getRegisteredCurrencyAccount)(kr,Mr);return yield Cr.account.registeredCurrency.fetch(Nr)})}pda_info_getters$1.getRegisteredCurrencyAccountInfo=br;function wr(xr,kr,Mr){return u(this,void 0,void 0,function*(){return yield(0,y.getMarketplaceProgram)({connection:xr,programId:kr}).account.registeredCurrency.fetch(Mr)})}pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=wr;function Er(xr,kr,Mr,Cr,Nr,Ur){return u(this,void 0,void 0,function*(){let Dr=0;const zr=yield wr(xr,kr,Nr),[Zr]=yield(0,gr.getStakingAccount)(Mr,Cr,Ur),Wr=yield(0,gr.getStakingAccountInfo)(xr,Zr,Mr);if(Wr.unstakedTs.eq(new c.BN(0))){const tn=zr.royaltyTiers;let rn=new c.BN(0);for(const Jr of tn)Wr.totalStake.gte(Jr.stakeAmount)&&(rn=Jr.discount);Dr=rn.toNumber()/1e4}return Dr})}pda_info_getters$1.getRoyaltyReductionForUserAndMint=Er;function Or(xr,kr,Mr,Cr,Nr){return u(this,void 0,void 0,function*(){let Ur=0;const Dr=yield wr(xr,kr,Nr),zr=yield(0,gr.getStakingAccountInfo)(xr,Cr,Mr);if(zr.unstakedTs.eq(new c.BN(0))){const Zr=Dr.royaltyTiers;let Wr=new c.BN(0);for(const tn of Zr)zr.totalStake.gte(tn.stakeAmount)&&(Wr=tn.discount);Ur=Wr.toNumber()/1e4}return Ur})}return pda_info_getters$1.getRoyaltyReductionForStakingAccount=Or,pda_info_getters$1}var hasRequiredPda_getters;function requirePda_getters(){return hasRequiredPda_getters||(hasRequiredPda_getters=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(order_getters,u),d(pda_getters$2,u),d(requirePda_info_getters(),u),d(seeds$1,u)}(pda_getters$3)),pda_getters$3}var createOrderCounter={},utils={},gmHelper={},__awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(gmHelper,"__esModule",{value:!0});gmHelper.convertDecimalPriceToBn=gmHelper.initializeAtaForMint=gmHelper.getOrderSide=void 0;const anchor_1$8=require$$0$1,token_1$2=token,spl_token_1=require$$1$1,getOrderSide=u=>JSON.stringify(u.orderSide)===JSON.stringify({buy:{}})?"BuySide":"SellSide";gmHelper.getOrderSide=getOrderSide;function initializeAtaForMint({mint:u,owner:c,connection:d}){return __awaiter$e(this,void 0,void 0,function*(){const y=[],gr=yield(0,token_1$2.associatedAddress)({mint:u,owner:c});return(yield d.getAccountInfo(gr))===null&&y.push(spl_token_1.Token.createAssociatedTokenAccountInstruction(spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1.TOKEN_PROGRAM_ID,u,gr,c,c)),{account:gr,instructions:y}})}gmHelper.initializeAtaForMint=initializeAtaForMint;const convertDecimalPriceToBn=(u,c)=>new anchor_1$8.BN(u*Math.pow(10,c));gmHelper.convertDecimalPriceToBn=convertDecimalPriceToBn;(function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(getMarketplaceProgram$1,u),d(gmHelper,u)})(utils);var __awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(createOrderCounter,"__esModule",{value:!0});createOrderCounter.createOrderCounterInstruction=void 0;const utils_1$c=utils;function createOrderCounterInstruction({connection:u,payer:c,initializerMainAccount:d,depositMint:y,programId:gr}){return __awaiter$d(this,void 0,void 0,function*(){return yield(0,utils_1$c.getMarketplaceProgram)({connection:u,programId:gr}).methods.initializeOpenOrdersCounter().accounts({payer:c,user:d,depositMint:y}).instruction()})}createOrderCounter.createOrderCounterInstruction=createOrderCounterInstruction;var hasRequiredCancelOrder;function requireCancelOrder(){if(hasRequiredCancelOrder)return cancelOrder;hasRequiredCancelOrder=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(wr,Er,Or,xr){function kr(Mr){return Mr instanceof Or?Mr:new Or(function(Cr){Cr(Mr)})}return new(Or||(Or=Promise))(function(Mr,Cr){function Nr(zr){try{Dr(xr.next(zr))}catch(Zr){Cr(Zr)}}function Ur(zr){try{Dr(xr.throw(zr))}catch(Zr){Cr(Zr)}}function Dr(zr){zr.done?Mr(zr.value):kr(zr.value).then(Nr,Ur)}Dr((xr=xr.apply(wr,Er||[])).next())})};Object.defineProperty(cancelOrder,"__esModule",{value:!0}),cancelOrder.createCancelOrderInstruction=void 0;const c=require$$0$1,d=requirePda_getters(),y=createOrderCounter,gr=utils,_r=requireUtil();function br({connection:wr,orderInitializer:Er,orderAccount:Or,programId:xr,payer:kr=Er}){return u(this,void 0,void 0,function*(){const Mr=(0,gr.getMarketplaceProgram)({connection:wr,programId:xr}),Cr={signers:[],instructions:[]},Nr=yield Mr.account.orderAccount.fetch(Or),Dr=(0,gr.getOrderSide)(Nr)==="SellSide"?Nr.assetMint:Nr.currencyMint;let zr=null,Zr=null;const Wr=yield(0,_r.getTokenAccount)(wr,Er,Dr);zr=Wr.tokenAccount,"createInstruction"in Wr&&Cr.instructions.push(Wr.createInstruction),zr instanceof c.web3.Keypair?(Zr=zr.publicKey,Cr.signers.push(zr)):Zr=zr;const[tn]=yield(0,d.getOpenOrdersCounter)(Er,Dr,xr);if((yield wr.getAccountInfo(tn))===null){const Qr=yield(0,y.createOrderCounterInstruction)({connection:wr,payer:kr,initializerMainAccount:Er,depositMint:Dr,programId:xr});Cr.instructions.push(Qr)}const Jr=yield Mr.methods.processCancel().accounts({signer:kr,depositMint:Dr,orderInitializer:Er,initializerDepositTokenAccount:Zr,orderAccount:Or}).instruction();return Cr.instructions.push(Jr),Cr})}return cancelOrder.createCancelOrderInstruction=br,cancelOrder}var createOrder={},hasRequiredCreateOrder;function requireCreateOrder(){if(hasRequiredCreateOrder)return createOrder;hasRequiredCreateOrder=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(Or,xr,kr,Mr){function Cr(Nr){return Nr instanceof kr?Nr:new kr(function(Ur){Ur(Nr)})}return new(kr||(kr=Promise))(function(Nr,Ur){function Dr(Wr){try{Zr(Mr.next(Wr))}catch(tn){Ur(tn)}}function zr(Wr){try{Zr(Mr.throw(Wr))}catch(tn){Ur(tn)}}function Zr(Wr){Wr.done?Nr(Wr.value):Cr(Wr.value).then(Dr,zr)}Zr((Mr=Mr.apply(Or,xr||[])).next())})};Object.defineProperty(createOrder,"__esModule",{value:!0}),createOrder.createInitializeSellOrderInstruction=createOrder.createInitializeBuyOrderInstruction=void 0;const c=require$$0$1,d=utils,y=requireUtil(),gr=requirePda_getters(),_r=createOrderCounter,br=requireUtil();function wr({connection:Or,initializerMainAccount:xr,initializerDepositTokenAccount:kr,price:Mr,originationQty:Cr,depositMint:Nr,receiveMint:Ur,programId:Dr}){return u(this,void 0,void 0,function*(){const zr=(0,d.getMarketplaceProgram)({connection:Or,programId:Dr}),Zr={signers:[],instructions:[]};let Wr=null,tn=null;const rn=yield(0,y.getTokenAccount)(Or,xr,Ur);Wr=rn.tokenAccount,"createInstruction"in rn&&Zr.instructions.push(rn.createInstruction),Wr instanceof c.web3.Keypair?(tn=Wr.publicKey,Zr.signers.push(Wr)):tn=Wr;const[Jr]=yield(0,gr.getOpenOrdersCounter)(xr,Nr,Dr);if((yield Or.getAccountInfo(Jr))===null){const gn=yield(0,_r.createOrderCounterInstruction)({connection:Or,payer:xr,initializerMainAccount:xr,depositMint:Nr,programId:Dr});Zr.instructions.push(gn)}const an=c.web3.Keypair.generate();Zr.signers.push(an);const mn=yield(0,br.createAccountInstruction)(Or,xr,an,Dr);Zr.instructions.push(mn);const fn=yield zr.methods.processInitializeBuy(Mr,new c.BN(Cr)).accounts({orderInitializer:xr,initializerDepositTokenAccount:kr,initializerReceiveTokenAccount:tn,orderAccount:an.publicKey,depositMint:Nr,receiveMint:Ur}).signers([an]).instruction();return Zr.instructions.push(fn),{orderAccount:an.publicKey,ixSet:Zr}})}createOrder.createInitializeBuyOrderInstruction=wr;function Er({connection:Or,initializerMainAccount:xr,initializerDepositTokenAccount:kr,price:Mr,originationQty:Cr,depositMint:Nr,receiveMint:Ur,programId:Dr}){return u(this,void 0,void 0,function*(){const zr=(0,d.getMarketplaceProgram)({connection:Or,programId:Dr}),Zr={signers:[],instructions:[]};let Wr=null,tn=null;const rn=yield(0,y.getTokenAccount)(Or,xr,Ur);Wr=rn.tokenAccount,"createInstruction"in rn&&Zr.instructions.push(rn.createInstruction),Wr instanceof c.web3.Keypair?(tn=Wr.publicKey,Zr.signers.push(Wr)):tn=Wr;const[Jr]=yield(0,gr.getOpenOrdersCounter)(xr,Nr,Dr);if((yield Or.getAccountInfo(Jr))===null){const gn=yield(0,_r.createOrderCounterInstruction)({connection:Or,payer:xr,initializerMainAccount:xr,depositMint:Nr,programId:Dr});Zr.instructions.push(gn)}const an=c.web3.Keypair.generate();Zr.signers.push(an);const mn=yield(0,br.createAccountInstruction)(Or,xr,an,Dr);Zr.instructions.push(mn);const fn=yield zr.methods.processInitializeSell(Mr,new c.BN(Cr)).accounts({orderInitializer:xr,initializerDepositTokenAccount:kr,initializerReceiveTokenAccount:tn,orderAccount:an.publicKey,depositMint:Nr,receiveMint:Ur}).signers([an]).instruction();return Zr.instructions.push(fn),{orderAccount:an.publicKey,ixSet:Zr}})}return createOrder.createInitializeSellOrderInstruction=Er,createOrder}var deregisterCurrency={},__awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(deregisterCurrency,"__esModule",{value:!0});deregisterCurrency.createDeregisterCurrencyInstruction=void 0;const utils_1$b=utils;function createDeregisterCurrencyInstruction({connection:u,updateAuthorityAccount:c,currencyMint:d,programId:y}){return __awaiter$c(this,void 0,void 0,function*(){const _r=[yield(0,utils_1$b.getMarketplaceProgram)({connection:u,programId:y}).methods.deregisterCurrency().accounts({updateAuthorityAccount:c,currencyMint:d}).instruction()];return{accounts:[],instructions:_r}})}deregisterCurrency.createDeregisterCurrencyInstruction=createDeregisterCurrencyInstruction;var exchangeOrder={},models={},Order={},big={exports:{}};(function(u){(function(c){var d,y=20,gr=1,_r=1e6,br=1e6,wr=-7,Er=21,Or=!1,xr="[big.js] ",kr=xr+"Invalid ",Mr=kr+"decimal places",Cr=kr+"rounding mode",Nr=xr+"Division by zero",Ur={},Dr=void 0,zr=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Zr(){function Jr(Qr){var an=this;if(!(an instanceof Jr))return Qr===Dr?Zr():new Jr(Qr);if(Qr instanceof Jr)an.s=Qr.s,an.e=Qr.e,an.c=Qr.c.slice();else{if(typeof Qr!="string"){if(Jr.strict===!0&&typeof Qr!="bigint")throw TypeError(kr+"value");Qr=Qr===0&&1/Qr<0?"-0":String(Qr)}Wr(an,Qr)}an.constructor=Jr}return Jr.prototype=Ur,Jr.DP=y,Jr.RM=gr,Jr.NE=wr,Jr.PE=Er,Jr.strict=Or,Jr.roundDown=0,Jr.roundHalfUp=1,Jr.roundHalfEven=2,Jr.roundUp=3,Jr}function Wr(Jr,Qr){var an,mn,fn;if(!zr.test(Qr))throw Error(kr+"number");for(Jr.s=Qr.charAt(0)=="-"?(Qr=Qr.slice(1),-1):1,(an=Qr.indexOf("."))>-1&&(Qr=Qr.replace(".","")),(mn=Qr.search(/e/i))>0?(an<0&&(an=mn),an+=+Qr.slice(mn+1),Qr=Qr.substring(0,mn)):an<0&&(an=Qr.length),fn=Qr.length,mn=0;mn<fn&&Qr.charAt(mn)=="0";)++mn;if(mn==fn)Jr.c=[Jr.e=0];else{for(;fn>0&&Qr.charAt(--fn)=="0";);for(Jr.e=an-mn-1,Jr.c=[],an=0;mn<=fn;)Jr.c[an++]=+Qr.charAt(mn++)}return Jr}function tn(Jr,Qr,an,mn){var fn=Jr.c;if(an===Dr&&(an=Jr.constructor.RM),an!==0&&an!==1&&an!==2&&an!==3)throw Error(Cr);if(Qr<1)mn=an===3&&(mn||!!fn[0])||Qr===0&&(an===1&&fn[0]>=5||an===2&&(fn[0]>5||fn[0]===5&&(mn||fn[1]!==Dr))),fn.length=1,mn?(Jr.e=Jr.e-Qr+1,fn[0]=1):fn[0]=Jr.e=0;else if(Qr<fn.length){if(mn=an===1&&fn[Qr]>=5||an===2&&(fn[Qr]>5||fn[Qr]===5&&(mn||fn[Qr+1]!==Dr||fn[Qr-1]&1))||an===3&&(mn||!!fn[0]),fn.length=Qr,mn){for(;++fn[--Qr]>9;)if(fn[Qr]=0,Qr===0){++Jr.e,fn.unshift(1);break}}for(Qr=fn.length;!fn[--Qr];)fn.pop()}return Jr}function rn(Jr,Qr,an){var mn=Jr.e,fn=Jr.c.join(""),gn=fn.length;if(Qr)fn=fn.charAt(0)+(gn>1?"."+fn.slice(1):"")+(mn<0?"e":"e+")+mn;else if(mn<0){for(;++mn;)fn="0"+fn;fn="0."+fn}else if(mn>0)if(++mn>gn)for(mn-=gn;mn--;)fn+="0";else mn<gn&&(fn=fn.slice(0,mn)+"."+fn.slice(mn));else gn>1&&(fn=fn.charAt(0)+"."+fn.slice(1));return Jr.s<0&&an?"-"+fn:fn}Ur.abs=function(){var Jr=new this.constructor(this);return Jr.s=1,Jr},Ur.cmp=function(Jr){var Qr,an=this,mn=an.c,fn=(Jr=new an.constructor(Jr)).c,gn=an.s,Sn=Jr.s,Fr=an.e,Rr=Jr.e;if(!mn[0]||!fn[0])return mn[0]?gn:fn[0]?-Sn:0;if(gn!=Sn)return gn;if(Qr=gn<0,Fr!=Rr)return Fr>Rr^Qr?1:-1;for(Sn=(Fr=mn.length)<(Rr=fn.length)?Fr:Rr,gn=-1;++gn<Sn;)if(mn[gn]!=fn[gn])return mn[gn]>fn[gn]^Qr?1:-1;return Fr==Rr?0:Fr>Rr^Qr?1:-1},Ur.div=function(Jr){var Qr=this,an=Qr.constructor,mn=Qr.c,fn=(Jr=new an(Jr)).c,gn=Qr.s==Jr.s?1:-1,Sn=an.DP;if(Sn!==~~Sn||Sn<0||Sn>_r)throw Error(Mr);if(!fn[0])throw Error(Nr);if(!mn[0])return Jr.s=gn,Jr.c=[Jr.e=0],Jr;var Fr,Rr,Lr,Vr,Yr,Xr=fn.slice(),hn=Fr=fn.length,En=mn.length,qr=mn.slice(0,Fr),Br=qr.length,Hr=Jr,_n=Hr.c=[],on=0,sn=Sn+(Hr.e=Qr.e-Jr.e)+1;for(Hr.s=gn,gn=sn<0?0:sn,Xr.unshift(0);Br++<Fr;)qr.push(0);do{for(Lr=0;Lr<10;Lr++){if(Fr!=(Br=qr.length))Vr=Fr>Br?1:-1;else for(Yr=-1,Vr=0;++Yr<Fr;)if(fn[Yr]!=qr[Yr]){Vr=fn[Yr]>qr[Yr]?1:-1;break}if(Vr<0){for(Rr=Br==Fr?fn:Xr;Br;){if(qr[--Br]<Rr[Br]){for(Yr=Br;Yr&&!qr[--Yr];)qr[Yr]=9;--qr[Yr],qr[Br]+=10}qr[Br]-=Rr[Br]}for(;!qr[0];)qr.shift()}else break}_n[on++]=Vr?Lr:++Lr,qr[0]&&Vr?qr[Br]=mn[hn]||0:qr=[mn[hn]]}while((hn++<En||qr[0]!==Dr)&&gn--);return!_n[0]&&on!=1&&(_n.shift(),Hr.e--,sn--),on>sn&&tn(Hr,sn,an.RM,qr[0]!==Dr),Hr},Ur.eq=function(Jr){return this.cmp(Jr)===0},Ur.gt=function(Jr){return this.cmp(Jr)>0},Ur.gte=function(Jr){return this.cmp(Jr)>-1},Ur.lt=function(Jr){return this.cmp(Jr)<0},Ur.lte=function(Jr){return this.cmp(Jr)<1},Ur.minus=Ur.sub=function(Jr){var Qr,an,mn,fn,gn=this,Sn=gn.constructor,Fr=gn.s,Rr=(Jr=new Sn(Jr)).s;if(Fr!=Rr)return Jr.s=-Rr,gn.plus(Jr);var Lr=gn.c.slice(),Vr=gn.e,Yr=Jr.c,Xr=Jr.e;if(!Lr[0]||!Yr[0])return Yr[0]?Jr.s=-Rr:Lr[0]?Jr=new Sn(gn):Jr.s=1,Jr;if(Fr=Vr-Xr){for((fn=Fr<0)?(Fr=-Fr,mn=Lr):(Xr=Vr,mn=Yr),mn.reverse(),Rr=Fr;Rr--;)mn.push(0);mn.reverse()}else for(an=((fn=Lr.length<Yr.length)?Lr:Yr).length,Fr=Rr=0;Rr<an;Rr++)if(Lr[Rr]!=Yr[Rr]){fn=Lr[Rr]<Yr[Rr];break}if(fn&&(mn=Lr,Lr=Yr,Yr=mn,Jr.s=-Jr.s),(Rr=(an=Yr.length)-(Qr=Lr.length))>0)for(;Rr--;)Lr[Qr++]=0;for(Rr=Qr;an>Fr;){if(Lr[--an]<Yr[an]){for(Qr=an;Qr&&!Lr[--Qr];)Lr[Qr]=9;--Lr[Qr],Lr[an]+=10}Lr[an]-=Yr[an]}for(;Lr[--Rr]===0;)Lr.pop();for(;Lr[0]===0;)Lr.shift(),--Xr;return Lr[0]||(Jr.s=1,Lr=[Xr=0]),Jr.c=Lr,Jr.e=Xr,Jr},Ur.mod=function(Jr){var Qr,an=this,mn=an.constructor,fn=an.s,gn=(Jr=new mn(Jr)).s;if(!Jr.c[0])throw Error(Nr);return an.s=Jr.s=1,Qr=Jr.cmp(an)==1,an.s=fn,Jr.s=gn,Qr?new mn(an):(fn=mn.DP,gn=mn.RM,mn.DP=mn.RM=0,an=an.div(Jr),mn.DP=fn,mn.RM=gn,this.minus(an.times(Jr)))},Ur.neg=function(){var Jr=new this.constructor(this);return Jr.s=-Jr.s,Jr},Ur.plus=Ur.add=function(Jr){var Qr,an,mn,fn=this,gn=fn.constructor;if(Jr=new gn(Jr),fn.s!=Jr.s)return Jr.s=-Jr.s,fn.minus(Jr);var Sn=fn.e,Fr=fn.c,Rr=Jr.e,Lr=Jr.c;if(!Fr[0]||!Lr[0])return Lr[0]||(Fr[0]?Jr=new gn(fn):Jr.s=fn.s),Jr;if(Fr=Fr.slice(),Qr=Sn-Rr){for(Qr>0?(Rr=Sn,mn=Lr):(Qr=-Qr,mn=Fr),mn.reverse();Qr--;)mn.push(0);mn.reverse()}for(Fr.length-Lr.length<0&&(mn=Lr,Lr=Fr,Fr=mn),Qr=Lr.length,an=0;Qr;Fr[Qr]%=10)an=(Fr[--Qr]=Fr[Qr]+Lr[Qr]+an)/10|0;for(an&&(Fr.unshift(an),++Rr),Qr=Fr.length;Fr[--Qr]===0;)Fr.pop();return Jr.c=Fr,Jr.e=Rr,Jr},Ur.pow=function(Jr){var Qr=this,an=new Qr.constructor("1"),mn=an,fn=Jr<0;if(Jr!==~~Jr||Jr<-br||Jr>br)throw Error(kr+"exponent");for(fn&&(Jr=-Jr);Jr&1&&(mn=mn.times(Qr)),Jr>>=1,!!Jr;)Qr=Qr.times(Qr);return fn?an.div(mn):mn},Ur.prec=function(Jr,Qr){if(Jr!==~~Jr||Jr<1||Jr>_r)throw Error(kr+"precision");return tn(new this.constructor(this),Jr,Qr)},Ur.round=function(Jr,Qr){if(Jr===Dr)Jr=0;else if(Jr!==~~Jr||Jr<-_r||Jr>_r)throw Error(Mr);return tn(new this.constructor(this),Jr+this.e+1,Qr)},Ur.sqrt=function(){var Jr,Qr,an,mn=this,fn=mn.constructor,gn=mn.s,Sn=mn.e,Fr=new fn("0.5");if(!mn.c[0])return new fn(mn);if(gn<0)throw Error(xr+"No square root");gn=Math.sqrt(mn+""),gn===0||gn===1/0?(Qr=mn.c.join(""),Qr.length+Sn&1||(Qr+="0"),gn=Math.sqrt(Qr),Sn=((Sn+1)/2|0)-(Sn<0||Sn&1),Jr=new fn((gn==1/0?"5e":(gn=gn.toExponential()).slice(0,gn.indexOf("e")+1))+Sn)):Jr=new fn(gn+""),Sn=Jr.e+(fn.DP+=4);do an=Jr,Jr=Fr.times(an.plus(mn.div(an)));while(an.c.slice(0,Sn).join("")!==Jr.c.slice(0,Sn).join(""));return tn(Jr,(fn.DP-=4)+Jr.e+1,fn.RM)},Ur.times=Ur.mul=function(Jr){var Qr,an=this,mn=an.constructor,fn=an.c,gn=(Jr=new mn(Jr)).c,Sn=fn.length,Fr=gn.length,Rr=an.e,Lr=Jr.e;if(Jr.s=an.s==Jr.s?1:-1,!fn[0]||!gn[0])return Jr.c=[Jr.e=0],Jr;for(Jr.e=Rr+Lr,Sn<Fr&&(Qr=fn,fn=gn,gn=Qr,Lr=Sn,Sn=Fr,Fr=Lr),Qr=new Array(Lr=Sn+Fr);Lr--;)Qr[Lr]=0;for(Rr=Fr;Rr--;){for(Fr=0,Lr=Sn+Rr;Lr>Rr;)Fr=Qr[Lr]+gn[Rr]*fn[Lr-Rr-1]+Fr,Qr[Lr--]=Fr%10,Fr=Fr/10|0;Qr[Lr]=Fr}for(Fr?++Jr.e:Qr.shift(),Rr=Qr.length;!Qr[--Rr];)Qr.pop();return Jr.c=Qr,Jr},Ur.toExponential=function(Jr,Qr){var an=this,mn=an.c[0];if(Jr!==Dr){if(Jr!==~~Jr||Jr<0||Jr>_r)throw Error(Mr);for(an=tn(new an.constructor(an),++Jr,Qr);an.c.length<Jr;)an.c.push(0)}return rn(an,!0,!!mn)},Ur.toFixed=function(Jr,Qr){var an=this,mn=an.c[0];if(Jr!==Dr){if(Jr!==~~Jr||Jr<0||Jr>_r)throw Error(Mr);for(an=tn(new an.constructor(an),Jr+an.e+1,Qr),Jr=Jr+an.e+1;an.c.length<Jr;)an.c.push(0)}return rn(an,!1,!!mn)},Ur.toJSON=Ur.toString=function(){var Jr=this,Qr=Jr.constructor;return rn(Jr,Jr.e<=Qr.NE||Jr.e>=Qr.PE,!!Jr.c[0])},Ur.toNumber=function(){var Jr=Number(rn(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(Jr.toString()))throw Error(xr+"Imprecise conversion");return Jr},Ur.toPrecision=function(Jr,Qr){var an=this,mn=an.constructor,fn=an.c[0];if(Jr!==Dr){if(Jr!==~~Jr||Jr<1||Jr>_r)throw Error(kr+"precision");for(an=tn(new mn(an),Jr,Qr);an.c.length<Jr;)an.c.push(0)}return rn(an,Jr<=an.e||an.e<=mn.NE||an.e>=mn.PE,!!fn)},Ur.valueOf=function(){var Jr=this,Qr=Jr.constructor;if(Qr.strict===!0)throw Error(xr+"valueOf disallowed");return rn(Jr,Jr.e<=Qr.NE||Jr.e>=Qr.PE,!0)},d=Zr(),d.default=d.Big=d,u.exports?u.exports=d:c.Big=d})(commonjsGlobal)})(big);function die(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),y=1;y<c;y++)d[y-1]=arguments[y];throw new Error(typeof u=="number"?"[MobX] minified error nr: "+u+(d.length?" "+d.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+u)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:mockGlobal}var assign$1=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(u){var c=!1;return function(){if(!c)return c=!0,u.apply(this,arguments)}}var noop$1=function u(){};function isFunction(u){return typeof u=="function"}function isStringish(u){var c=typeof u;switch(c){case"string":case"symbol":case"number":return!0}return!1}function isObject(u){return u!==null&&typeof u=="object"}function isPlainObject(u){if(!isObject(u))return!1;var c=Object.getPrototypeOf(u);if(c==null)return!0;var d=Object.hasOwnProperty.call(c,"constructor")&&c.constructor;return typeof d=="function"&&d.toString()===plainObjectString}function isGenerator(u){var c=u?.constructor;return c?c.name==="GeneratorFunction"||c.displayName==="GeneratorFunction":!1}function addHiddenProp$1(u,c,d){defineProperty(u,c,{enumerable:!1,writable:!0,configurable:!0,value:d})}function addHiddenFinalProp(u,c,d){defineProperty(u,c,{enumerable:!1,writable:!1,configurable:!0,value:d})}function createInstanceofPredicate(u,c){var d="isMobX"+u;return c.prototype[d]=!0,function(y){return isObject(y)&&y[d]===!0}}function isES6Map(u){return u instanceof Map}function isES6Set(u){return u instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(u){var c=Object.keys(u);if(!hasGetOwnPropertySymbols)return c;var d=Object.getOwnPropertySymbols(u);return d.length?[].concat(c,d.filter(function(y){return objectPrototype.propertyIsEnumerable.call(u,y)})):c}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:Object.getOwnPropertyNames;function toPrimitive(u){return u===null?null:typeof u=="object"?""+u:u}function hasProp(u,c){return objectPrototype.hasOwnProperty.call(u,c)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function u(c){var d={};return ownKeys(c).forEach(function(y){d[y]=getDescriptor(c,y)}),d};function _defineProperties(u,c){for(var d=0;d<c.length;d++){var y=c[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}function _createClass(u,c,d){return c&&_defineProperties(u.prototype,c),d&&_defineProperties(u,d),Object.defineProperty(u,"prototype",{writable:!1}),u}function _extends(){return _extends=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(u[y]=d[y])}return u},_extends.apply(this,arguments)}function _inheritsLoose(u,c){u.prototype=Object.create(c.prototype),u.prototype.constructor=u,_setPrototypeOf(u,c)}function _setPrototypeOf(u,c){return _setPrototypeOf=Object.setPrototypeOf||function(y,gr){return y.__proto__=gr,y},_setPrototypeOf(u,c)}function _assertThisInitialized(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function _unsupportedIterableToArray(u,c){if(!!u){if(typeof u=="string")return _arrayLikeToArray(u,c);var d=Object.prototype.toString.call(u).slice(8,-1);if(d==="Object"&&u.constructor&&(d=u.constructor.name),d==="Map"||d==="Set")return Array.from(u);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return _arrayLikeToArray(u,c)}}function _arrayLikeToArray(u,c){(c==null||c>u.length)&&(c=u.length);for(var d=0,y=new Array(c);d<c;d++)y[d]=u[d];return y}function _createForOfIteratorHelperLoose(u,c){var d=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(d)return(d=d.call(u)).next.bind(d);if(Array.isArray(u)||(d=_unsupportedIterableToArray(u))||c&&u&&typeof u.length=="number"){d&&(u=d);var y=0;return function(){return y>=u.length?{done:!0}:{done:!1,value:u[y++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(u){function c(d,y){storeAnnotation(d,y,u)}return Object.assign(c,u)}function storeAnnotation(u,c,d){hasProp(u,storedAnnotationsSymbol)||addHiddenProp$1(u,storedAnnotationsSymbol,_extends({},u[storedAnnotationsSymbol])),isOverride(d)||(u[storedAnnotationsSymbol][c]=d)}function collectStoredAnnotations(u){return hasProp(u,storedAnnotationsSymbol)||addHiddenProp$1(u,storedAnnotationsSymbol,_extends({},u[storedAnnotationsSymbol])),u[storedAnnotationsSymbol]}var $mobx=Symbol("mobx administration"),Atom=function(){function u(d){d===void 0&&(d="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=d}var c=u.prototype;return c.onBO=function(){this.onBOL&&this.onBOL.forEach(function(y){return y()})},c.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(y){return y()})},c.reportObserved=function(){return reportObserved(this)},c.reportChanged=function(){startBatch(),propagateChanged(this),endBatch()},c.toString=function(){return this.name_},u}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(u,c,d){c===void 0&&(c=noop$1),d===void 0&&(d=noop$1);var y=new Atom(u);return c!==noop$1&&onBecomeObserved(y,c),d!==noop$1&&onBecomeUnobserved(y,d),y}function identityComparer(u,c){return u===c}function structuralComparer(u,c){return deepEqual(u,c)}function shallowComparer(u,c){return deepEqual(u,c,1)}function defaultComparer(u,c){return Object.is?Object.is(u,c):u===c?u!==0||1/u===1/c:u!==u&&c!==c}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(u,c,d){return isObservable(u)?u:Array.isArray(u)?observable.array(u,{name:d}):isPlainObject(u)?observable.object(u,void 0,{name:d}):isES6Map(u)?observable.map(u,{name:d}):isES6Set(u)?observable.set(u,{name:d}):typeof u=="function"&&!isAction(u)&&!isFlow(u)?isGenerator(u)?flow(u):autoAction(d,u):u}function shallowEnhancer(u,c,d){if(u==null||isObservableObject(u)||isObservableArray(u)||isObservableMap(u)||isObservableSet(u))return u;if(Array.isArray(u))return observable.array(u,{name:d,deep:!1});if(isPlainObject(u))return observable.object(u,void 0,{name:d,deep:!1});if(isES6Map(u))return observable.map(u,{name:d,deep:!1});if(isES6Set(u))return observable.set(u,{name:d,deep:!1})}function referenceEnhancer(u){return u}function refStructEnhancer(u,c){return deepEqual(u,c)?c:u}var OVERRIDE="override",override=createDecoratorAnnotation({annotationType_:OVERRIDE,make_,extend_});function isOverride(u){return u.annotationType_===OVERRIDE}function make_(u,c){return 0}function extend_(u,c,d,y){die("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function createActionAnnotation(u,c){return{annotationType_:u,options_:c,make_:make_$1,extend_:extend_$1}}function make_$1(u,c,d,y){var gr;if((gr=this.options_)!=null&&gr.bound)return this.extend_(u,c,d,!1)===null?0:1;if(y===u.target_)return this.extend_(u,c,d,!1)===null?0:2;if(isAction(d.value))return 1;var _r=createActionDescriptor(u,this,c,d,!1);return defineProperty(y,c,_r),2}function extend_$1(u,c,d,y){var gr=createActionDescriptor(u,this,c,d);return u.defineProperty_(c,gr,y)}function assertActionDescriptor(u,c,d,y){c.annotationType_,y.value}function createActionDescriptor(u,c,d,y,gr){var _r,br,wr,Er,Or,xr,kr;gr===void 0&&(gr=globalState.safeDescriptors),assertActionDescriptor(u,c,d,y);var Mr=y.value;if((_r=c.options_)!=null&&_r.bound){var Cr;Mr=Mr.bind((Cr=u.proxy_)!=null?Cr:u.target_)}return{value:createAction((br=(wr=c.options_)==null?void 0:wr.name)!=null?br:d.toString(),Mr,(Er=(Or=c.options_)==null?void 0:Or.autoAction)!=null?Er:!1,(xr=c.options_)!=null&&xr.bound?(kr=u.proxy_)!=null?kr:u.target_:void 0),configurable:gr?u.isPlainObject_:!0,enumerable:!1,writable:!gr}}function createFlowAnnotation(u,c){return{annotationType_:u,options_:c,make_:make_$2,extend_:extend_$2}}function make_$2(u,c,d,y){var gr;if(y===u.target_)return this.extend_(u,c,d,!1)===null?0:2;if((gr=this.options_)!=null&&gr.bound&&(!hasProp(u.target_,c)||!isFlow(u.target_[c]))&&this.extend_(u,c,d,!1)===null)return 0;if(isFlow(d.value))return 1;var _r=createFlowDescriptor(u,this,c,d,!1,!1);return defineProperty(y,c,_r),2}function extend_$2(u,c,d,y){var gr,_r=createFlowDescriptor(u,this,c,d,(gr=this.options_)==null?void 0:gr.bound);return u.defineProperty_(c,_r,y)}function assertFlowDescriptor(u,c,d,y){c.annotationType_,y.value}function createFlowDescriptor(u,c,d,y,gr,_r){_r===void 0&&(_r=globalState.safeDescriptors),assertFlowDescriptor(u,c,d,y);var br=y.value;if(isFlow(br)||(br=flow(br)),gr){var wr;br=br.bind((wr=u.proxy_)!=null?wr:u.target_),br.isMobXFlow=!0}return{value:br,configurable:_r?u.isPlainObject_:!0,enumerable:!1,writable:!_r}}function createComputedAnnotation(u,c){return{annotationType_:u,options_:c,make_:make_$3,extend_:extend_$3}}function make_$3(u,c,d){return this.extend_(u,c,d,!1)===null?0:1}function extend_$3(u,c,d,y){return assertComputedDescriptor(u,this,c,d),u.defineComputedProperty_(c,_extends({},this.options_,{get:d.get,set:d.set}),y)}function assertComputedDescriptor(u,c,d,y){c.annotationType_,y.get}function createObservableAnnotation(u,c){return{annotationType_:u,options_:c,make_:make_$4,extend_:extend_$4}}function make_$4(u,c,d){return this.extend_(u,c,d,!1)===null?0:1}function extend_$4(u,c,d,y){var gr,_r;return assertObservableDescriptor(u,this),u.defineObservableProperty_(c,d.value,(gr=(_r=this.options_)==null?void 0:_r.enhancer)!=null?gr:deepEnhancer,y)}function assertObservableDescriptor(u,c,d,y){c.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(u){return{annotationType_:AUTO,options_:u,make_:make_$5,extend_:extend_$5}}function make_$5(u,c,d,y){var gr,_r;if(d.get)return computed.make_(u,c,d,y);if(d.set){var br=createAction(c.toString(),d.set);return y===u.target_?u.defineProperty_(c,{configurable:globalState.safeDescriptors?u.isPlainObject_:!0,set:br})===null?0:2:(defineProperty(y,c,{configurable:!0,set:br}),2)}if(y!==u.target_&&typeof d.value=="function"){var wr;if(isGenerator(d.value)){var Er,Or=(Er=this.options_)!=null&&Er.autoBind?flow.bound:flow;return Or.make_(u,c,d,y)}var xr=(wr=this.options_)!=null&&wr.autoBind?autoAction.bound:autoAction;return xr.make_(u,c,d,y)}var kr=((gr=this.options_)==null?void 0:gr.deep)===!1?observable.ref:observable;if(typeof d.value=="function"&&(_r=this.options_)!=null&&_r.autoBind){var Mr;d.value=d.value.bind((Mr=u.proxy_)!=null?Mr:u.target_)}return kr.make_(u,c,d,y)}function extend_$5(u,c,d,y){var gr,_r;if(d.get)return computed.extend_(u,c,d,y);if(d.set)return u.defineProperty_(c,{configurable:globalState.safeDescriptors?u.isPlainObject_:!0,set:createAction(c.toString(),d.set)},y);if(typeof d.value=="function"&&(gr=this.options_)!=null&&gr.autoBind){var br;d.value=d.value.bind((br=u.proxy_)!=null?br:u.target_)}var wr=((_r=this.options_)==null?void 0:_r.deep)===!1?observable.ref:observable;return wr.extend_(u,c,d,y)}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(u){return u||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(u){return u.deep===!0?deepEnhancer:u.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(u.defaultDecorator)}function getAnnotationFromOptions(u){var c;return u?(c=u.defaultDecorator)!=null?c:createAutoAnnotation(u):void 0}function getEnhancerFromAnnotation(u){var c,d;return u&&(c=(d=u.options_)==null?void 0:d.enhancer)!=null?c:deepEnhancer}function createObservable(u,c,d){if(isStringish(c)){storeAnnotation(u,c,observableAnnotation);return}return isObservable(u)?u:isPlainObject(u)?observable.object(u,c,d):Array.isArray(u)?observable.array(u,c):isES6Map(u)?observable.map(u,c):isES6Set(u)?observable.set(u,c):typeof u=="object"&&u!==null?u:observable.box(u,c)}Object.assign(createObservable,observableDecoratorAnnotation);var observableFactories={box:function u(c,d){var y=asCreateObservableOptions(d);return new ObservableValue(c,getEnhancerFromOptions(y),y.name,!0,y.equals)},array:function u(c,d){var y=asCreateObservableOptions(d);return(globalState.useProxies===!1||y.proxy===!1?createLegacyArray:createObservableArray)(c,getEnhancerFromOptions(y),y.name)},map:function u(c,d){var y=asCreateObservableOptions(d);return new ObservableMap(c,getEnhancerFromOptions(y),y.name)},set:function u(c,d){var y=asCreateObservableOptions(d);return new ObservableSet(c,getEnhancerFromOptions(y),y.name)},object:function u(c,d,y){return extendObservable(globalState.useProxies===!1||y?.proxy===!1?asObservableObject({},y):asDynamicObservableObject({},y),c,d)},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable=assign$1(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function u(c,d){if(isStringish(d))return storeAnnotation(c,d,computedAnnotation);if(isPlainObject(c))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,c));var y=isPlainObject(d)?d:{};return y.get=c,y.name||(y.name=c.name||""),new ComputedValue(y)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(u,c,d,y){d===void 0&&(d=!1);function gr(){return executeAction(u,d,c,y||this,arguments)}return gr.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=u,Object.defineProperty(gr,"name",tmpNameDescriptor)),gr}function executeAction(u,c,d,y,gr){var _r=_startAction(u,c);try{return d.apply(y,gr)}catch(br){throw _r.error_=br,br}finally{_endAction(_r)}}function _startAction(u,c,d,y){var gr=!1,_r=0,br=globalState.trackingDerivation,wr=!c||!br;startBatch();var Er=globalState.allowStateChanges;wr&&(untrackedStart(),Er=allowStateChangesStart(!0));var Or=allowStateReadsStart(!0),xr={runAsAction_:wr,prevDerivation_:br,prevAllowStateChanges_:Er,prevAllowStateReads_:Or,notifySpy_:gr,startTime_:_r,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=xr.actionId_,xr}function _endAction(u){currentActionId!==u.actionId_&&die(30),currentActionId=u.parentActionId_,u.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(u.prevAllowStateChanges_),allowStateReadsEnd(u.prevAllowStateReads_),endBatch(),u.runAsAction_&&untrackedEnd(u.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(u,c){var d=allowStateChangesStart(u);try{return c()}finally{allowStateChangesEnd(d)}}function allowStateChangesStart(u){var c=globalState.allowStateChanges;return globalState.allowStateChanges=u,c}function allowStateChangesEnd(u){globalState.allowStateChanges=u}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(u){_inheritsLoose(c,u);function c(y,gr,_r,br,wr){var Er;return _r===void 0&&(_r="ObservableValue"),wr===void 0&&(wr=comparer.default),Er=u.call(this,_r)||this,Er.enhancer=void 0,Er.name_=void 0,Er.equals=void 0,Er.hasUnreportedChange_=!1,Er.interceptors_=void 0,Er.changeListeners_=void 0,Er.value_=void 0,Er.dehancer=void 0,Er.enhancer=gr,Er.name_=_r,Er.equals=wr,Er.value_=gr(y,void 0,_r),Er}var d=c.prototype;return d.dehanceValue=function(gr){return this.dehancer!==void 0?this.dehancer(gr):gr},d.set=function(gr){this.value_,gr=this.prepareNewValue_(gr),gr!==globalState.UNCHANGED&&this.setNewValue_(gr)},d.prepareNewValue_=function(gr){if(hasInterceptors(this)){var _r=interceptChange(this,{object:this,type:UPDATE,newValue:gr});if(!_r)return globalState.UNCHANGED;gr=_r.newValue}return gr=this.enhancer(gr,this.value_,this.name_),this.equals(this.value_,gr)?globalState.UNCHANGED:gr},d.setNewValue_=function(gr){var _r=this.value_;this.value_=gr,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:gr,oldValue:_r})},d.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},d.intercept_=function(gr){return registerInterceptor(this,gr)},d.observe_=function(gr,_r){return _r&&gr({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,gr)},d.raw=function(){return this.value_},d.toJSON=function(){return this.get()},d.toString=function(){return this.name_+"["+this.value_+"]"},d.valueOf=function(){return toPrimitive(this.get())},d[_Symbol$toPrimitive]=function(){return this.valueOf()},c}(Atom),isObservableValue=createInstanceofPredicate("ObservableValue",ObservableValue),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function u(d){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,d.get||die(31),this.derivation=d.get,this.name_=d.name||"ComputedValue",d.set&&(this.setter_=createAction("ComputedValue-setter",d.set)),this.equals_=d.equals||(d.compareStructural||d.struct?comparer.structural:comparer.default),this.scope_=d.context,this.requiresReaction_=d.requiresReaction,this.keepAlive_=!!d.keepAlive}var c=u.prototype;return c.onBecomeStale_=function(){propagateMaybeChanged(this)},c.onBO=function(){this.onBOL&&this.onBOL.forEach(function(y){return y()})},c.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(y){return y()})},c.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var y=globalState.trackingContext;this.keepAlive_&&!y&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=y}var gr=this.value_;if(isCaughtException(gr))throw gr.cause;return gr},c.set=function(y){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,y)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},c.trackAndCompute=function(){var y=this.value_,gr=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,_r=this.computeValue_(!0),br=gr||isCaughtException(y)||isCaughtException(_r)||!this.equals_(y,_r);return br&&(this.value_=_r),br},c.computeValue_=function(y){this.isComputing_=!0;var gr=allowStateChangesStart(!1),_r;if(y)_r=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)_r=this.derivation.call(this.scope_);else try{_r=this.derivation.call(this.scope_)}catch(br){_r=new CaughtException(br)}return allowStateChangesEnd(gr),this.isComputing_=!1,_r},c.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},c.observe_=function(y,gr){var _r=this,br=!0,wr=void 0;return autorun(function(){var Er=_r.get();if(!br||gr){var Or=untrackedStart();y({observableKind:"computed",debugObjectName:_r.name_,type:UPDATE,object:_r,newValue:Er,oldValue:wr}),untrackedEnd(Or)}br=!1,wr=Er})},c.warnAboutUntrackedRead_=function(){},c.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},c.valueOf=function(){return toPrimitive(this.get())},c[_Symbol$toPrimitive$1]=function(){return this.valueOf()},u}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(u){u[u.NOT_TRACKING_=-1]="NOT_TRACKING_",u[u.UP_TO_DATE_=0]="UP_TO_DATE_",u[u.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",u[u.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(u){u[u.NONE=0]="NONE",u[u.LOG=1]="LOG",u[u.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function u(c){this.cause=void 0,this.cause=c};function isCaughtException(u){return u instanceof CaughtException}function shouldCompute(u){switch(u.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var c=allowStateReadsStart(!0),d=untrackedStart(),y=u.observing_,gr=y.length,_r=0;_r<gr;_r++){var br=y[_r];if(isComputedValue(br)){if(globalState.disableErrorBoundaries)br.get();else try{br.get()}catch{return untrackedEnd(d),allowStateReadsEnd(c),!0}if(u.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(d),allowStateReadsEnd(c),!0}}return changeDependenciesStateTo0(u),untrackedEnd(d),allowStateReadsEnd(c),!1}}}function isComputingDerivation(){return globalState.trackingDerivation!==null}function checkIfStateModificationsAreAllowed(u){}function trackDerivedFunction(u,c,d){var y=allowStateReadsStart(!0);changeDependenciesStateTo0(u),u.newObserving_=new Array(u.observing_.length+100),u.unboundDepsCount_=0,u.runId_=++globalState.runId;var gr=globalState.trackingDerivation;globalState.trackingDerivation=u,globalState.inBatch++;var _r;if(globalState.disableErrorBoundaries===!0)_r=c.call(d);else try{_r=c.call(d)}catch(br){_r=new CaughtException(br)}return globalState.inBatch--,globalState.trackingDerivation=gr,bindDependencies(u),allowStateReadsEnd(y),_r}function bindDependencies(u){for(var c=u.observing_,d=u.observing_=u.newObserving_,y=IDerivationState_.UP_TO_DATE_,gr=0,_r=u.unboundDepsCount_,br=0;br<_r;br++){var wr=d[br];wr.diffValue_===0&&(wr.diffValue_=1,gr!==br&&(d[gr]=wr),gr++),wr.dependenciesState_>y&&(y=wr.dependenciesState_)}for(d.length=gr,u.newObserving_=null,_r=c.length;_r--;){var Er=c[_r];Er.diffValue_===0&&removeObserver(Er,u),Er.diffValue_=0}for(;gr--;){var Or=d[gr];Or.diffValue_===1&&(Or.diffValue_=0,addObserver(Or,u))}y!==IDerivationState_.UP_TO_DATE_&&(u.dependenciesState_=y,u.onBecomeStale_())}function clearObserving(u){var c=u.observing_;u.observing_=[];for(var d=c.length;d--;)removeObserver(c[d],u);u.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(u){var c=untrackedStart();try{return u()}finally{untrackedEnd(c)}}function untrackedStart(){var u=globalState.trackingDerivation;return globalState.trackingDerivation=null,u}function untrackedEnd(u){globalState.trackingDerivation=u}function allowStateReadsStart(u){var c=globalState.allowStateReads;return globalState.allowStateReads=u,c}function allowStateReadsEnd(u){globalState.allowStateReads=u}function changeDependenciesStateTo0(u){if(u.dependenciesState_!==IDerivationState_.UP_TO_DATE_){u.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var c=u.observing_,d=c.length;d--;)c[d].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var persistentKeys=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],MobXGlobals=function u(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){var u=getGlobal();return u.__mobxInstanceCount>0&&!u.__mobxGlobals&&(canMergeGlobalState=!1),u.__mobxGlobals&&u.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?u.__mobxGlobals?(u.__mobxInstanceCount+=1,u.__mobxGlobals.UNCHANGED||(u.__mobxGlobals.UNCHANGED={}),u.__mobxGlobals):(u.__mobxInstanceCount=1,u.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){if((globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState){var u=getGlobal();--u.__mobxInstanceCount===0&&(u.__mobxGlobals=void 0),globalState=new MobXGlobals}}function getGlobalState(){return globalState}function resetGlobalState(){var u=new MobXGlobals;for(var c in u)persistentKeys.indexOf(c)===-1&&(globalState[c]=u[c]);globalState.allowStateChanges=!globalState.enforceActions}function hasObservers(u){return u.observers_&&u.observers_.size>0}function getObservers(u){return u.observers_}function addObserver(u,c){u.observers_.add(c),u.lowestObserverState_>c.dependenciesState_&&(u.lowestObserverState_=c.dependenciesState_)}function removeObserver(u,c){u.observers_.delete(c),u.observers_.size===0&&queueForUnobservation(u)}function queueForUnobservation(u){u.isPendingUnobservation_===!1&&(u.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(u))}function startBatch(){globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var u=globalState.pendingUnobservations,c=0;c<u.length;c++){var d=u[c];d.isPendingUnobservation_=!1,d.observers_.size===0&&(d.isBeingObserved_&&(d.isBeingObserved_=!1,d.onBUO()),d instanceof ComputedValue&&d.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(u){var c=globalState.trackingDerivation;return c!==null?(c.runId_!==u.lastAccessedBy_&&(u.lastAccessedBy_=c.runId_,c.newObserving_[c.unboundDepsCount_++]=u,!u.isBeingObserved_&&globalState.trackingContext&&(u.isBeingObserved_=!0,u.onBO())),!0):(u.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(u),!1)}function propagateChanged(u){u.lowestObserverState_!==IDerivationState_.STALE_&&(u.lowestObserverState_=IDerivationState_.STALE_,u.observers_.forEach(function(c){c.dependenciesState_===IDerivationState_.UP_TO_DATE_&&c.onBecomeStale_(),c.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(u){u.lowestObserverState_!==IDerivationState_.STALE_&&(u.lowestObserverState_=IDerivationState_.STALE_,u.observers_.forEach(function(c){c.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?c.dependenciesState_=IDerivationState_.STALE_:c.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(u.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(u){u.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(u.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,u.observers_.forEach(function(c){c.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(c.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,c.onBecomeStale_())}))}var Reaction=function(){function u(d,y,gr,_r){d===void 0&&(d="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=d,this.onInvalidate_=y,this.errorHandler_=gr,this.requiresObservable_=_r}var c=u.prototype;return c.onBecomeStale_=function(){this.schedule_()},c.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},c.isScheduled=function(){return this.isScheduled_},c.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var y=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(gr){this.reportExceptionInDerivation_(gr)}}globalState.trackingContext=y,endBatch()}},c.track=function(y){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var gr=globalState.trackingContext;globalState.trackingContext=this;var _r=trackDerivedFunction(this,y,void 0);globalState.trackingContext=gr,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(_r)&&this.reportExceptionInDerivation_(_r.cause),endBatch()}},c.reportExceptionInDerivation_=function(y){var gr=this;if(this.errorHandler_){this.errorHandler_(y,this);return}if(globalState.disableErrorBoundaries)throw y;var _r="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(_r,y),globalState.globalReactionErrorHandlers.forEach(function(br){return br(y,gr)})},c.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},c.getDisposer_=function(){var y=this.dispose.bind(this);return y[$mobx]=this,y},c.toString=function(){return"Reaction["+this.name_+"]"},c.trace=function(y){y===void 0&&(y=!1),trace(this,y)},u}();function onReactionError(u){return globalState.globalReactionErrorHandlers.push(u),function(){var c=globalState.globalReactionErrorHandlers.indexOf(u);c>=0&&globalState.globalReactionErrorHandlers.splice(c,1)}}var MAX_REACTION_ITERATIONS=100,reactionScheduler=function u(c){return c()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var u=globalState.pendingReactions,c=0;u.length>0;){++c===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+u[0]),u.splice(0));for(var d=u.splice(0),y=0,gr=d.length;y<gr;y++)d[y].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(u){var c=reactionScheduler;reactionScheduler=function(y){return u(function(){return c(y)})}}function isSpyEnabled(){return!1}function spyReport(u){}function spyReportStart(u){}function spyReportEnd(u){}function spy(u){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(u){var c=function(y,gr){if(isFunction(y))return createAction(y.name||DEFAULT_ACTION_NAME,y,u);if(isFunction(gr))return createAction(y,gr,u);if(isStringish(gr))return storeAnnotation(y,gr,u?autoActionAnnotation:actionAnnotation);if(isStringish(y))return createDecoratorAnnotation(createActionAnnotation(u?AUTOACTION:ACTION,{name:y,autoAction:u}))};return c}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(u){return executeAction(u.name||DEFAULT_ACTION_NAME,!1,u,this,void 0)}function isAction(u){return isFunction(u)&&u.isMobxAction===!0}function autorun(u,c){var d,y;c===void 0&&(c=EMPTY_OBJECT);var gr=(d=(y=c)==null?void 0:y.name)!=null?d:"Autorun",_r=!c.scheduler&&!c.delay,br;if(_r)br=new Reaction(gr,function(){this.track(Or)},c.onError,c.requiresObservable);else{var wr=createSchedulerFromOptions(c),Er=!1;br=new Reaction(gr,function(){Er||(Er=!0,wr(function(){Er=!1,br.isDisposed_||br.track(Or)}))},c.onError,c.requiresObservable)}function Or(){u(br)}return br.schedule_(),br.getDisposer_()}var run=function u(c){return c()};function createSchedulerFromOptions(u){return u.scheduler?u.scheduler:u.delay?function(c){return setTimeout(c,u.delay)}:run}function reaction(u,c,d){var y;d===void 0&&(d=EMPTY_OBJECT);var gr=(y=d.name)!=null?y:"Reaction",_r=action(gr,d.onError?wrapErrorHandler(d.onError,c):c),br=!d.scheduler&&!d.delay,wr=createSchedulerFromOptions(d),Er=!0,Or=!1,xr,kr,Mr=d.compareStructural?comparer.structural:d.equals||comparer.default,Cr=new Reaction(gr,function(){Er||br?Nr():Or||(Or=!0,wr(Nr))},d.onError,d.requiresObservable);function Nr(){if(Or=!1,!Cr.isDisposed_){var Ur=!1;Cr.track(function(){var Dr=allowStateChanges(!1,function(){return u(Cr)});Ur=Er||!Mr(xr,Dr),kr=xr,xr=Dr}),(Er&&d.fireImmediately||!Er&&Ur)&&_r(xr,kr,Cr),Er=!1}}return Cr.schedule_(),Cr.getDisposer_()}function wrapErrorHandler(u,c){return function(){try{return c.apply(this,arguments)}catch(d){u.call(this,d)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(u,c,d){return interceptHook(ON_BECOME_OBSERVED,u,c,d)}function onBecomeUnobserved(u,c,d){return interceptHook(ON_BECOME_UNOBSERVED,u,c,d)}function interceptHook(u,c,d,y){var gr=typeof y=="function"?getAtom(c,d):getAtom(c),_r=isFunction(y)?y:d,br=u+"L";return gr[br]?gr[br].add(_r):gr[br]=new Set([_r]),function(){var wr=gr[br];wr&&(wr.delete(_r),wr.size===0&&delete gr[br])}}var NEVER="never",ALWAYS="always",OBSERVED="observed";function configure(u){u.isolateGlobalState===!0&&isolateGlobalState();var c=u.useProxies,d=u.enforceActions;if(c!==void 0&&(globalState.useProxies=c===ALWAYS?!0:c===NEVER?!1:typeof Proxy<"u"),c==="ifavailable"&&(globalState.verifyProxies=!0),d!==void 0){var y=d===ALWAYS?ALWAYS:d===OBSERVED;globalState.enforceActions=y,globalState.allowStateChanges=!(y===!0||y===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(gr){gr in u&&(globalState[gr]=!!u[gr])}),globalState.allowStateReads=!globalState.observableRequiresReaction,u.reactionScheduler&&setReactionScheduler(u.reactionScheduler)}function extendObservable(u,c,d,y){var gr=getOwnPropertyDescriptors(c),_r=asObservableObject(u,y)[$mobx];startBatch();try{ownKeys(gr).forEach(function(br){_r.extend_(br,gr[br],d&&br in d?d[br]:!0)})}finally{endBatch()}return u}function getDependencyTree(u,c){return nodeToDependencyTree(getAtom(u,c))}function nodeToDependencyTree(u){var c={name:u.name_};return u.observing_&&u.observing_.length>0&&(c.dependencies=unique(u.observing_).map(nodeToDependencyTree)),c}function getObserverTree(u,c){return nodeToObserverTree(getAtom(u,c))}function nodeToObserverTree(u){var c={name:u.name_};return hasObservers(u)&&(c.observers=Array.from(getObservers(u)).map(nodeToObserverTree)),c}function unique(u){return Array.from(new Set(u))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);function isFlowCancellationError(u){return u instanceof FlowCancellationError}var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function u(c,d){if(isStringish(d))return storeAnnotation(c,d,flowAnnotation);var y=c,gr=y.name||"<unnamed flow>",_r=function(){var wr=this,Er=arguments,Or=++generatorId,xr=action(gr+" - runid: "+Or+" - init",y).apply(wr,Er),kr,Mr=void 0,Cr=new Promise(function(Nr,Ur){var Dr=0;kr=Ur;function zr(tn){Mr=void 0;var rn;try{rn=action(gr+" - runid: "+Or+" - yield "+Dr++,xr.next).call(xr,tn)}catch(Jr){return Ur(Jr)}Wr(rn)}function Zr(tn){Mr=void 0;var rn;try{rn=action(gr+" - runid: "+Or+" - yield "+Dr++,xr.throw).call(xr,tn)}catch(Jr){return Ur(Jr)}Wr(rn)}function Wr(tn){if(isFunction(tn?.then)){tn.then(Wr,Ur);return}return tn.done?Nr(tn.value):(Mr=Promise.resolve(tn.value),Mr.then(zr,Zr))}zr(void 0)});return Cr.cancel=action(gr+" - runid: "+Or+" - cancel",function(){try{Mr&&cancelPromise(Mr);var Nr=xr.return(void 0),Ur=Promise.resolve(Nr.value);Ur.then(noop$1,noop$1),cancelPromise(Ur),kr(new FlowCancellationError)}catch(Dr){kr(Dr)}}),Cr};return _r.isMobXFlow=!0,_r},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(u){isFunction(u.cancel)&&u.cancel()}function flowResult(u){return u}function isFlow(u){return u?.isMobXFlow===!0}function interceptReads(u,c,d){var y;return isObservableMap(u)||isObservableArray(u)||isObservableValue(u)?y=getAdministration(u):isObservableObject(u)&&(y=getAdministration(u,c)),y.dehancer=typeof c=="function"?c:d,function(){y.dehancer=void 0}}function intercept(u,c,d){return isFunction(d)?interceptProperty(u,c,d):interceptInterceptable(u,c)}function interceptInterceptable(u,c){return getAdministration(u).intercept_(c)}function interceptProperty(u,c,d){return getAdministration(u,c).intercept_(d)}function _isComputed(u,c){if(c===void 0)return isComputedValue(u);if(isObservableObject(u)===!1||!u[$mobx].values_.has(c))return!1;var d=getAtom(u,c);return isComputedValue(d)}function isComputed(u){return _isComputed(u)}function isComputedProp(u,c){return _isComputed(u,c)}function _isObservable(u,c){return u?c!==void 0?isObservableObject(u)?u[$mobx].values_.has(c):!1:isObservableObject(u)||!!u[$mobx]||isAtom(u)||isReaction(u)||isComputedValue(u):!1}function isObservable(u){return _isObservable(u)}function isObservableProp(u,c){return _isObservable(u,c)}function keys(u){if(isObservableObject(u))return u[$mobx].keys_();if(isObservableMap(u)||isObservableSet(u))return Array.from(u.keys());if(isObservableArray(u))return u.map(function(c,d){return d});die(5)}function values(u){if(isObservableObject(u))return keys(u).map(function(c){return u[c]});if(isObservableMap(u))return keys(u).map(function(c){return u.get(c)});if(isObservableSet(u))return Array.from(u.values());if(isObservableArray(u))return u.slice();die(6)}function entries(u){if(isObservableObject(u))return keys(u).map(function(c){return[c,u[c]]});if(isObservableMap(u))return keys(u).map(function(c){return[c,u.get(c)]});if(isObservableSet(u))return Array.from(u.entries());if(isObservableArray(u))return u.map(function(c,d){return[d,c]});die(7)}function set(u,c,d){if(arguments.length===2&&!isObservableSet(u)){startBatch();var y=c;try{for(var gr in y)set(u,gr,y[gr])}finally{endBatch()}return}isObservableObject(u)?u[$mobx].set_(c,d):isObservableMap(u)?u.set(c,d):isObservableSet(u)?u.add(c):isObservableArray(u)?(typeof c!="number"&&(c=parseInt(c,10)),c<0&&die("Invalid index: '"+c+"'"),startBatch(),c>=u.length&&(u.length=c+1),u[c]=d,endBatch()):die(8)}function remove(u,c){isObservableObject(u)?u[$mobx].delete_(c):isObservableMap(u)||isObservableSet(u)?u.delete(c):isObservableArray(u)?(typeof c!="number"&&(c=parseInt(c,10)),u.splice(c,1)):die(9)}function has(u,c){if(isObservableObject(u))return u[$mobx].has_(c);if(isObservableMap(u))return u.has(c);if(isObservableSet(u))return u.has(c);if(isObservableArray(u))return c>=0&&c<u.length;die(10)}function get(u,c){if(!!has(u,c)){if(isObservableObject(u))return u[$mobx].get_(c);if(isObservableMap(u))return u.get(c);if(isObservableArray(u))return u[c];die(11)}}function apiDefineProperty(u,c,d){if(isObservableObject(u))return u[$mobx].defineProperty_(c,d);die(39)}function apiOwnKeys(u){if(isObservableObject(u))return u[$mobx].ownKeys_();die(38)}function observe(u,c,d,y){return isFunction(d)?observeObservableProperty(u,c,d,y):observeObservable(u,c,d)}function observeObservable(u,c,d){return getAdministration(u).observe_(c,d)}function observeObservableProperty(u,c,d,y){return getAdministration(u,c).observe_(d,y)}function cache(u,c,d){return u.set(c,d),d}function toJSHelper(u,c){if(u==null||typeof u!="object"||u instanceof Date||!isObservable(u))return u;if(isObservableValue(u)||isComputedValue(u))return toJSHelper(u.get(),c);if(c.has(u))return c.get(u);if(isObservableArray(u)){var d=cache(c,u,new Array(u.length));return u.forEach(function(br,wr){d[wr]=toJSHelper(br,c)}),d}if(isObservableSet(u)){var y=cache(c,u,new Set);return u.forEach(function(br){y.add(toJSHelper(br,c))}),y}if(isObservableMap(u)){var gr=cache(c,u,new Map);return u.forEach(function(br,wr){gr.set(wr,toJSHelper(br,c))}),gr}else{var _r=cache(c,u,{});return apiOwnKeys(u).forEach(function(br){objectPrototype.propertyIsEnumerable.call(u,br)&&(_r[br]=toJSHelper(u[br],c))}),_r}}function toJS(u,c){return toJSHelper(u,new Map)}function trace(){die("trace() is not available in production builds");for(var u=!1,c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];typeof d[d.length-1]=="boolean"&&(u=d.pop());var gr=getAtomFromArgs(d);if(!gr)return die("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");gr.isTracing_===TraceMode.NONE&&console.log("[mobx.trace] '"+gr.name_+"' tracing enabled"),gr.isTracing_=u?TraceMode.BREAK:TraceMode.LOG}function getAtomFromArgs(u){switch(u.length){case 0:return globalState.trackingDerivation;case 1:return getAtom(u[0]);case 2:return getAtom(u[0],u[1])}}function transaction(u,c){c===void 0&&(c=void 0),startBatch();try{return u.apply(c)}finally{endBatch()}}function when(u,c,d){return arguments.length===1||c&&typeof c=="object"?whenPromise(u,c):_when(u,c,d||{})}function _when(u,c,d){var y;if(typeof d.timeout=="number"){var gr=new Error("WHEN_TIMEOUT");y=setTimeout(function(){if(!br[$mobx].isDisposed_)if(br(),d.onError)d.onError(gr);else throw gr},d.timeout)}d.name="When";var _r=createAction("When-effect",c),br=autorun(function(wr){var Er=allowStateChanges(!1,u);Er&&(wr.dispose(),y&&clearTimeout(y),_r())},d);return br}function whenPromise(u,c){var d,y=new Promise(function(gr,_r){var br=_when(u,gr,_extends({},c,{onError:_r}));d=function(){br(),_r(new Error("WHEN_CANCELLED"))}});return y.cancel=d,y}function getAdm(u){return u[$mobx]}var objectProxyTraps={has:function u(c,d){return getAdm(c).has_(d)},get:function u(c,d){return getAdm(c).get_(d)},set:function u(c,d,y){var gr;return isStringish(d)?(gr=getAdm(c).set_(d,y,!0))!=null?gr:!0:!1},deleteProperty:function u(c,d){var y;return isStringish(d)?(y=getAdm(c).delete_(d,!0))!=null?y:!0:!1},defineProperty:function u(c,d,y){var gr;return(gr=getAdm(c).defineProperty_(d,y))!=null?gr:!0},ownKeys:function u(c){return getAdm(c).ownKeys_()},preventExtensions:function u(c){die(13)}};function asDynamicObservableObject(u,c){var d,y;return assertProxies(),u=asObservableObject(u,c),(y=(d=u[$mobx]).proxy_)!=null?y:d.proxy_=new Proxy(u,objectProxyTraps)}function hasInterceptors(u){return u.interceptors_!==void 0&&u.interceptors_.length>0}function registerInterceptor(u,c){var d=u.interceptors_||(u.interceptors_=[]);return d.push(c),once(function(){var y=d.indexOf(c);y!==-1&&d.splice(y,1)})}function interceptChange(u,c){var d=untrackedStart();try{for(var y=[].concat(u.interceptors_||[]),gr=0,_r=y.length;gr<_r&&(c=y[gr](c),c&&!c.type&&die(14),!!c);gr++);return c}finally{untrackedEnd(d)}}function hasListeners(u){return u.changeListeners_!==void 0&&u.changeListeners_.length>0}function registerListener(u,c){var d=u.changeListeners_||(u.changeListeners_=[]);return d.push(c),once(function(){var y=d.indexOf(c);y!==-1&&d.splice(y,1)})}function notifyListeners(u,c){var d=untrackedStart(),y=u.changeListeners_;if(!!y){y=y.slice();for(var gr=0,_r=y.length;gr<_r;gr++)y[gr](c);untrackedEnd(d)}}function makeObservable(u,c,d){var y=asObservableObject(u,d)[$mobx];startBatch();try{var gr;(gr=c)!=null||(c=collectStoredAnnotations(u)),ownKeys(c).forEach(function(_r){return y.make_(_r,c[_r])})}finally{endBatch()}return u}var keysSymbol=Symbol("mobx-keys");function makeAutoObservable(u,c,d){if(isPlainObject(u))return extendObservable(u,u,c,d);var y=asObservableObject(u,d)[$mobx];if(!u[keysSymbol]){var gr=Object.getPrototypeOf(u),_r=new Set([].concat(ownKeys(u),ownKeys(gr)));_r.delete("constructor"),_r.delete($mobx),addHiddenProp$1(gr,keysSymbol,_r)}startBatch();try{u[keysSymbol].forEach(function(br){return y.make_(br,c&&br in c?c[br]:!0)})}finally{endBatch()}return u}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function u(c,d){var y=c[$mobx];return d===$mobx?y:d==="length"?y.getArrayLength_():typeof d=="string"&&!isNaN(d)?y.get_(parseInt(d)):hasProp(arrayExtensions,d)?arrayExtensions[d]:c[d]},set:function u(c,d,y){var gr=c[$mobx];return d==="length"&&gr.setArrayLength_(y),typeof d=="symbol"||isNaN(d)?c[d]=y:gr.set_(parseInt(d),y),!0},preventExtensions:function u(){die(15)}},ObservableArrayAdministration=function(){function u(d,y,gr,_r){d===void 0&&(d="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=gr,this.legacyMode_=_r,this.atom_=new Atom(d),this.enhancer_=function(br,wr){return y(br,wr,"ObservableArray[..]")}}var c=u.prototype;return c.dehanceValue_=function(y){return this.dehancer!==void 0?this.dehancer(y):y},c.dehanceValues_=function(y){return this.dehancer!==void 0&&y.length>0?y.map(this.dehancer):y},c.intercept_=function(y){return registerInterceptor(this,y)},c.observe_=function(y,gr){return gr===void 0&&(gr=!1),gr&&y({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,y)},c.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},c.setArrayLength_=function(y){(typeof y!="number"||isNaN(y)||y<0)&&die("Out of range: "+y);var gr=this.values_.length;if(y!==gr)if(y>gr){for(var _r=new Array(y-gr),br=0;br<y-gr;br++)_r[br]=void 0;this.spliceWithArray_(gr,0,_r)}else this.spliceWithArray_(y,gr-y)},c.updateArrayLength_=function(y,gr){y!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=gr,this.legacyMode_&&gr>0&&reserveArrayBuffer(y+gr+1)},c.spliceWithArray_=function(y,gr,_r){var br=this;this.atom_;var wr=this.values_.length;if(y===void 0?y=0:y>wr?y=wr:y<0&&(y=Math.max(0,wr+y)),arguments.length===1?gr=wr-y:gr==null?gr=0:gr=Math.max(0,Math.min(gr,wr-y)),_r===void 0&&(_r=EMPTY_ARRAY),hasInterceptors(this)){var Er=interceptChange(this,{object:this.proxy_,type:SPLICE,index:y,removedCount:gr,added:_r});if(!Er)return EMPTY_ARRAY;gr=Er.removedCount,_r=Er.added}if(_r=_r.length===0?_r:_r.map(function(kr){return br.enhancer_(kr,void 0)}),this.legacyMode_){var Or=_r.length-gr;this.updateArrayLength_(wr,Or)}var xr=this.spliceItemsIntoValues_(y,gr,_r);return(gr!==0||_r.length!==0)&&this.notifyArraySplice_(y,_r,xr),this.dehanceValues_(xr)},c.spliceItemsIntoValues_=function(y,gr,_r){if(_r.length<MAX_SPLICE_SIZE){var br;return(br=this.values_).splice.apply(br,[y,gr].concat(_r))}else{var wr=this.values_.slice(y,y+gr),Er=this.values_.slice(y+gr);this.values_.length+=_r.length-gr;for(var Or=0;Or<_r.length;Or++)this.values_[y+Or]=_r[Or];for(var xr=0;xr<Er.length;xr++)this.values_[y+_r.length+xr]=Er[xr];return wr}},c.notifyArrayChildUpdate_=function(y,gr,_r){var br=!this.owned_&&isSpyEnabled(),wr=hasListeners(this),Er=wr||br?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:y,newValue:gr,oldValue:_r}:null;this.atom_.reportChanged(),wr&&notifyListeners(this,Er)},c.notifyArraySplice_=function(y,gr,_r){var br=!this.owned_&&isSpyEnabled(),wr=hasListeners(this),Er=wr||br?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:y,removed:_r,added:gr,removedCount:_r.length,addedCount:gr.length}:null;this.atom_.reportChanged(),wr&&notifyListeners(this,Er)},c.get_=function(y){if(y<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[y]);console.warn("[mobx.array] Attempt to read an array index ("+y+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},c.set_=function(y,gr){var _r=this.values_;if(y<_r.length){this.atom_;var br=_r[y];if(hasInterceptors(this)){var wr=interceptChange(this,{type:UPDATE,object:this.proxy_,index:y,newValue:gr});if(!wr)return;gr=wr.newValue}gr=this.enhancer_(gr,br);var Er=gr!==br;Er&&(_r[y]=gr,this.notifyArrayChildUpdate_(y,gr,br))}else y===_r.length?this.spliceWithArray_(y,0,[gr]):die(17,y,_r.length)},u}();function createObservableArray(u,c,d,y){d===void 0&&(d="ObservableArray"),y===void 0&&(y=!1),assertProxies();var gr=new ObservableArrayAdministration(d,c,y,!1);addHiddenFinalProp(gr.values_,$mobx,gr);var _r=new Proxy(gr.values_,arrayTraps);if(gr.proxy_=_r,u&&u.length){var br=allowStateChangesStart(!0);gr.spliceWithArray_(0,0,u),allowStateChangesEnd(br)}return _r}var arrayExtensions={clear:function u(){return this.splice(0)},replace:function u(c){var d=this[$mobx];return d.spliceWithArray_(0,d.values_.length,c)},toJSON:function u(){return this.slice()},splice:function u(c,d){for(var y=arguments.length,gr=new Array(y>2?y-2:0),_r=2;_r<y;_r++)gr[_r-2]=arguments[_r];var br=this[$mobx];switch(arguments.length){case 0:return[];case 1:return br.spliceWithArray_(c);case 2:return br.spliceWithArray_(c,d)}return br.spliceWithArray_(c,d,gr)},spliceWithArray:function u(c,d,y){return this[$mobx].spliceWithArray_(c,d,y)},push:function u(){for(var c=this[$mobx],d=arguments.length,y=new Array(d),gr=0;gr<d;gr++)y[gr]=arguments[gr];return c.spliceWithArray_(c.values_.length,0,y),c.values_.length},pop:function u(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function u(){return this.splice(0,1)[0]},unshift:function u(){for(var c=this[$mobx],d=arguments.length,y=new Array(d),gr=0;gr<d;gr++)y[gr]=arguments[gr];return c.spliceWithArray_(0,0,y),c.values_.length},reverse:function u(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function u(){globalState.trackingDerivation&&die(37,"sort");var c=this.slice();return c.sort.apply(c,arguments),this.replace(c),this},remove:function u(c){var d=this[$mobx],y=d.dehanceValues_(d.values_).indexOf(c);return y>-1?(this.splice(y,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(u,c){typeof Array.prototype[u]=="function"&&(arrayExtensions[u]=c(u))}function simpleFunc(u){return function(){var c=this[$mobx];c.atom_.reportObserved();var d=c.dehanceValues_(c.values_);return d[u].apply(d,arguments)}}function mapLikeFunc(u){return function(c,d){var y=this,gr=this[$mobx];gr.atom_.reportObserved();var _r=gr.dehanceValues_(gr.values_);return _r[u](function(br,wr){return c.call(d,br,wr,y)})}}function reduceLikeFunc(u){return function(){var c=this,d=this[$mobx];d.atom_.reportObserved();var y=d.dehanceValues_(d.values_),gr=arguments[0];return arguments[0]=function(_r,br,wr){return gr(_r,br,wr,c)},y[u].apply(y,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(u){return isObject(u)&&isObservableArrayAdministration(u[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function u(d,y,gr){var _r=this;y===void 0&&(y=deepEnhancer),gr===void 0&&(gr="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=y,this.name_=gr,isFunction(Map)||die(18),this.keysAtom_=createAtom("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,allowStateChanges(!0,function(){_r.merge(d)})}var c=u.prototype;return c.has_=function(y){return this.data_.has(y)},c.has=function(y){var gr=this;if(!globalState.trackingDerivation)return this.has_(y);var _r=this.hasMap_.get(y);if(!_r){var br=_r=new ObservableValue(this.has_(y),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(y,br),onBecomeUnobserved(br,function(){return gr.hasMap_.delete(y)})}return _r.get()},c.set=function(y,gr){var _r=this.has_(y);if(hasInterceptors(this)){var br=interceptChange(this,{type:_r?UPDATE:ADD,object:this,newValue:gr,name:y});if(!br)return this;gr=br.newValue}return _r?this.updateValue_(y,gr):this.addValue_(y,gr),this},c.delete=function(y){var gr=this;if(this.keysAtom_,hasInterceptors(this)){var _r=interceptChange(this,{type:DELETE,object:this,name:y});if(!_r)return!1}if(this.has_(y)){var br=isSpyEnabled(),wr=hasListeners(this),Er=wr||br?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(y).value_,name:y}:null;return transaction(function(){var Or;gr.keysAtom_.reportChanged(),(Or=gr.hasMap_.get(y))==null||Or.setNewValue_(!1);var xr=gr.data_.get(y);xr.setNewValue_(void 0),gr.data_.delete(y)}),wr&&notifyListeners(this,Er),!0}return!1},c.updateValue_=function(y,gr){var _r=this.data_.get(y);if(gr=_r.prepareNewValue_(gr),gr!==globalState.UNCHANGED){var br=isSpyEnabled(),wr=hasListeners(this),Er=wr||br?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:_r.value_,name:y,newValue:gr}:null;_r.setNewValue_(gr),wr&&notifyListeners(this,Er)}},c.addValue_=function(y,gr){var _r=this;this.keysAtom_,transaction(function(){var Or,xr=new ObservableValue(gr,_r.enhancer_,"ObservableMap.key",!1);_r.data_.set(y,xr),gr=xr.value_,(Or=_r.hasMap_.get(y))==null||Or.setNewValue_(!0),_r.keysAtom_.reportChanged()});var br=isSpyEnabled(),wr=hasListeners(this),Er=wr||br?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:y,newValue:gr}:null;wr&&notifyListeners(this,Er)},c.get=function(y){return this.has(y)?this.dehanceValue_(this.data_.get(y).get()):this.dehanceValue_(void 0)},c.dehanceValue_=function(y){return this.dehancer!==void 0?this.dehancer(y):y},c.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},c.values=function(){var y=this,gr=this.keys();return makeIterable({next:function(){var br=gr.next(),wr=br.done,Er=br.value;return{done:wr,value:wr?void 0:y.get(Er)}}})},c.entries=function(){var y=this,gr=this.keys();return makeIterable({next:function(){var br=gr.next(),wr=br.done,Er=br.value;return{done:wr,value:wr?void 0:[Er,y.get(Er)]}}})},c[_Symbol$iterator]=function(){return this.entries()},c.forEach=function(y,gr){for(var _r=_createForOfIteratorHelperLoose(this),br;!(br=_r()).done;){var wr=br.value,Er=wr[0],Or=wr[1];y.call(gr,Or,Er,this)}},c.merge=function(y){var gr=this;return isObservableMap(y)&&(y=new Map(y)),transaction(function(){isPlainObject(y)?getPlainObjectKeys(y).forEach(function(_r){return gr.set(_r,y[_r])}):Array.isArray(y)?y.forEach(function(_r){var br=_r[0],wr=_r[1];return gr.set(br,wr)}):isES6Map(y)?(y.constructor!==Map&&die(19,y),y.forEach(function(_r,br){return gr.set(br,_r)})):y!=null&&die(20,y)}),this},c.clear=function(){var y=this;transaction(function(){untracked(function(){for(var gr=_createForOfIteratorHelperLoose(y.keys()),_r;!(_r=gr()).done;){var br=_r.value;y.delete(br)}})})},c.replace=function(y){var gr=this;return transaction(function(){for(var _r=convertToMap(y),br=new Map,wr=!1,Er=_createForOfIteratorHelperLoose(gr.data_.keys()),Or;!(Or=Er()).done;){var xr=Or.value;if(!_r.has(xr)){var kr=gr.delete(xr);if(kr)wr=!0;else{var Mr=gr.data_.get(xr);br.set(xr,Mr)}}}for(var Cr=_createForOfIteratorHelperLoose(_r.entries()),Nr;!(Nr=Cr()).done;){var Ur=Nr.value,Dr=Ur[0],zr=Ur[1],Zr=gr.data_.has(Dr);if(gr.set(Dr,zr),gr.data_.has(Dr)){var Wr=gr.data_.get(Dr);br.set(Dr,Wr),Zr||(wr=!0)}}if(!wr)if(gr.data_.size!==br.size)gr.keysAtom_.reportChanged();else for(var tn=gr.data_.keys(),rn=br.keys(),Jr=tn.next(),Qr=rn.next();!Jr.done;){if(Jr.value!==Qr.value){gr.keysAtom_.reportChanged();break}Jr=tn.next(),Qr=rn.next()}gr.data_=br}),this},c.toString=function(){return"[object ObservableMap]"},c.toJSON=function(){return Array.from(this)},c.observe_=function(y,gr){return registerListener(this,y)},c.intercept_=function(y){return registerInterceptor(this,y)},_createClass(u,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),u}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(u){if(isES6Map(u)||isObservableMap(u))return u;if(Array.isArray(u))return new Map(u);if(isPlainObject(u)){var c=new Map;for(var d in u)c.set(d,u[d]);return c}else return die(21,u)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function u(d,y,gr){y===void 0&&(y=deepEnhancer),gr===void 0&&(gr="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=gr,isFunction(Set)||die(22),this.atom_=createAtom(this.name_),this.enhancer_=function(_r,br){return y(_r,br,gr)},d&&this.replace(d)}var c=u.prototype;return c.dehanceValue_=function(y){return this.dehancer!==void 0?this.dehancer(y):y},c.clear=function(){var y=this;transaction(function(){untracked(function(){for(var gr=_createForOfIteratorHelperLoose(y.data_.values()),_r;!(_r=gr()).done;){var br=_r.value;y.delete(br)}})})},c.forEach=function(y,gr){for(var _r=_createForOfIteratorHelperLoose(this),br;!(br=_r()).done;){var wr=br.value;y.call(gr,wr,wr,this)}},c.add=function(y){var gr=this;if(this.atom_,hasInterceptors(this)){var _r=interceptChange(this,{type:ADD,object:this,newValue:y});if(!_r)return this}if(!this.has(y)){transaction(function(){gr.data_.add(gr.enhancer_(y,void 0)),gr.atom_.reportChanged()});var br=!1,wr=hasListeners(this),Er=wr||br?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:y}:null;wr&&notifyListeners(this,Er)}return this},c.delete=function(y){var gr=this;if(hasInterceptors(this)){var _r=interceptChange(this,{type:DELETE,object:this,oldValue:y});if(!_r)return!1}if(this.has(y)){var br=!1,wr=hasListeners(this),Er=wr||br?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:y}:null;return transaction(function(){gr.atom_.reportChanged(),gr.data_.delete(y)}),wr&&notifyListeners(this,Er),!0}return!1},c.has=function(y){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(y))},c.entries=function(){var y=0,gr=Array.from(this.keys()),_r=Array.from(this.values());return makeIterable({next:function(){var wr=y;return y+=1,wr<_r.length?{value:[gr[wr],_r[wr]],done:!1}:{done:!0}}})},c.keys=function(){return this.values()},c.values=function(){this.atom_.reportObserved();var y=this,gr=0,_r=Array.from(this.data_.values());return makeIterable({next:function(){return gr<_r.length?{value:y.dehanceValue_(_r[gr++]),done:!1}:{done:!0}}})},c.replace=function(y){var gr=this;return isObservableSet(y)&&(y=new Set(y)),transaction(function(){Array.isArray(y)?(gr.clear(),y.forEach(function(_r){return gr.add(_r)})):isES6Set(y)?(gr.clear(),y.forEach(function(_r){return gr.add(_r)})):y!=null&&die("Cannot initialize set from "+y)}),this},c.observe_=function(y,gr){return registerListener(this,y)},c.intercept_=function(y){return registerInterceptor(this,y)},c.toJSON=function(){return Array.from(this)},c.toString=function(){return"[object ObservableSet]"},c[_Symbol$iterator$1]=function(){return this.values()},_createClass(u,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),u}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function u(d,y,gr,_r){y===void 0&&(y=new Map),_r===void 0&&(_r=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=d,this.values_=y,this.name_=gr,this.defaultAnnotation_=_r,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject(this.target_)}var c=u.prototype;return c.getObservablePropValue_=function(y){return this.values_.get(y).get()},c.setObservablePropValue_=function(y,gr){var _r=this.values_.get(y);if(_r instanceof ComputedValue)return _r.set(gr),!0;if(hasInterceptors(this)){var br=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:y,newValue:gr});if(!br)return null;gr=br.newValue}if(gr=_r.prepareNewValue_(gr),gr!==globalState.UNCHANGED){var wr=hasListeners(this),Er=!1,Or=wr||Er?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:_r.value_,name:y,newValue:gr}:null;_r.setNewValue_(gr),wr&&notifyListeners(this,Or)}return!0},c.get_=function(y){return globalState.trackingDerivation&&!hasProp(this.target_,y)&&this.has_(y),this.target_[y]},c.set_=function(y,gr,_r){return _r===void 0&&(_r=!1),hasProp(this.target_,y)?this.values_.has(y)?this.setObservablePropValue_(y,gr):_r?Reflect.set(this.target_,y,gr):(this.target_[y]=gr,!0):this.extend_(y,{value:gr,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,_r)},c.has_=function(y){if(!globalState.trackingDerivation)return y in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var gr=this.pendingKeys_.get(y);return gr||(gr=new ObservableValue(y in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(y,gr)),gr.get()},c.make_=function(y,gr){if(gr===!0&&(gr=this.defaultAnnotation_),gr!==!1){if(!(y in this.target_)){var _r;if((_r=this.target_[storedAnnotationsSymbol])!=null&&_r[y])return;die(1,gr.annotationType_,this.name_+"."+y.toString())}for(var br=this.target_;br&&br!==objectPrototype;){var wr=getDescriptor(br,y);if(wr){var Er=gr.make_(this,y,wr,br);if(Er===0)return;if(Er===1)break}br=Object.getPrototypeOf(br)}recordAnnotationApplied(this,gr,y)}},c.extend_=function(y,gr,_r,br){if(br===void 0&&(br=!1),_r===!0&&(_r=this.defaultAnnotation_),_r===!1)return this.defineProperty_(y,gr,br);var wr=_r.extend_(this,y,gr,br);return wr&&recordAnnotationApplied(this,_r,y),wr},c.defineProperty_=function(y,gr,_r){_r===void 0&&(_r=!1);try{startBatch();var br=this.delete_(y);if(!br)return br;if(hasInterceptors(this)){var wr=interceptChange(this,{object:this.proxy_||this.target_,name:y,type:ADD,newValue:gr.value});if(!wr)return null;var Er=wr.newValue;gr.value!==Er&&(gr=_extends({},gr,{value:Er}))}if(_r){if(!Reflect.defineProperty(this.target_,y,gr))return!1}else defineProperty(this.target_,y,gr);this.notifyPropertyAddition_(y,gr.value)}finally{endBatch()}return!0},c.defineObservableProperty_=function(y,gr,_r,br){br===void 0&&(br=!1);try{startBatch();var wr=this.delete_(y);if(!wr)return wr;if(hasInterceptors(this)){var Er=interceptChange(this,{object:this.proxy_||this.target_,name:y,type:ADD,newValue:gr});if(!Er)return null;gr=Er.newValue}var Or=getCachedObservablePropDescriptor(y),xr={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:Or.get,set:Or.set};if(br){if(!Reflect.defineProperty(this.target_,y,xr))return!1}else defineProperty(this.target_,y,xr);var kr=new ObservableValue(gr,_r,"ObservableObject.key",!1);this.values_.set(y,kr),this.notifyPropertyAddition_(y,kr.value_)}finally{endBatch()}return!0},c.defineComputedProperty_=function(y,gr,_r){_r===void 0&&(_r=!1);try{startBatch();var br=this.delete_(y);if(!br)return br;if(hasInterceptors(this)){var wr=interceptChange(this,{object:this.proxy_||this.target_,name:y,type:ADD,newValue:void 0});if(!wr)return null}gr.name||(gr.name="ObservableObject.key"),gr.context=this.proxy_||this.target_;var Er=getCachedObservablePropDescriptor(y),Or={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:Er.get,set:Er.set};if(_r){if(!Reflect.defineProperty(this.target_,y,Or))return!1}else defineProperty(this.target_,y,Or);this.values_.set(y,new ComputedValue(gr)),this.notifyPropertyAddition_(y,void 0)}finally{endBatch()}return!0},c.delete_=function(y,gr){if(gr===void 0&&(gr=!1),!hasProp(this.target_,y))return!0;if(hasInterceptors(this)){var _r=interceptChange(this,{object:this.proxy_||this.target_,name:y,type:REMOVE});if(!_r)return null}try{var br,wr;startBatch();var Er=hasListeners(this),Or=!1,xr=this.values_.get(y),kr=void 0;if(!xr&&(Er||Or)){var Mr;kr=(Mr=getDescriptor(this.target_,y))==null?void 0:Mr.value}if(gr){if(!Reflect.deleteProperty(this.target_,y))return!1}else delete this.target_[y];if(xr&&(this.values_.delete(y),xr instanceof ObservableValue&&(kr=xr.value_),propagateChanged(xr)),this.keysAtom_.reportChanged(),(br=this.pendingKeys_)==null||(wr=br.get(y))==null||wr.set(y in this.target_),Er||Or){var Cr={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:kr,name:y};Er&&notifyListeners(this,Cr)}}finally{endBatch()}return!0},c.observe_=function(y,gr){return registerListener(this,y)},c.intercept_=function(y){return registerInterceptor(this,y)},c.notifyPropertyAddition_=function(y,gr){var _r,br,wr=hasListeners(this),Er=!1;if(wr||Er){var Or=wr||Er?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:y,newValue:gr}:null;wr&&notifyListeners(this,Or)}(_r=this.pendingKeys_)==null||(br=_r.get(y))==null||br.set(!0),this.keysAtom_.reportChanged()},c.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},c.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},u}();function asObservableObject(u,c){var d;if(hasProp(u,$mobx))return u;var y=(d=c?.name)!=null?d:"ObservableObject",gr=new ObservableObjectAdministration(u,new Map,String(y),getAnnotationFromOptions(c));return addHiddenProp$1(u,$mobx,gr),u}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(u){return descriptorCache[u]||(descriptorCache[u]={get:function(){return this[$mobx].getObservablePropValue_(u)},set:function(d){return this[$mobx].setObservablePropValue_(u,d)}})}function isObservableObject(u){return isObject(u)?isObservableObjectAdministration(u[$mobx]):!1}function recordAnnotationApplied(u,c,d){var y;(y=u.target_[storedAnnotationsSymbol])==null||delete y[d]}var ENTRY_0=createArrayEntryDescriptor(0),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function u(){};function inherit(u,c){Object.setPrototypeOf?Object.setPrototypeOf(u.prototype,c):u.prototype.__proto__!==void 0?u.prototype.__proto__=c:u.prototype=c}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(u,c,d){_inheritsLoose(y,u);function y(_r,br,wr,Er){var Or;wr===void 0&&(wr="ObservableArray"),Er===void 0&&(Er=!1),Or=u.call(this)||this;var xr=new ObservableArrayAdministration(wr,br,Er,!0);if(xr.proxy_=_assertThisInitialized(Or),addHiddenFinalProp(_assertThisInitialized(Or),$mobx,xr),_r&&_r.length){var kr=allowStateChangesStart(!0);Or.spliceWithArray(0,0,_r),allowStateChangesEnd(kr)}return Object.defineProperty(_assertThisInitialized(Or),"0",ENTRY_0),Or}var gr=y.prototype;return gr.concat=function(){this[$mobx].atom_.reportObserved();for(var br=arguments.length,wr=new Array(br),Er=0;Er<br;Er++)wr[Er]=arguments[Er];return Array.prototype.concat.apply(this.slice(),wr.map(function(Or){return isObservableArray(Or)?Or.slice():Or}))},gr[d]=function(){var _r=this,br=0;return makeIterable({next:function(){return br<_r.length?{value:_r[br++],done:!1}:{done:!0,value:void 0}}})},_createClass(y,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(br){this[$mobx].setArrayLength_(br)}},{key:c,get:function(){return"Array"}}]),y}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(u){var c=u[0],d=u[1];c!=="concat"&&addHiddenProp$1(LegacyObservableArray.prototype,c,d)});function createArrayEntryDescriptor(u){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(u)},set:function(d){this[$mobx].set_(u,d)}}}function createArrayBufferItem(u){defineProperty(LegacyObservableArray.prototype,""+u,createArrayEntryDescriptor(u))}function reserveArrayBuffer(u){if(u>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var c=OBSERVABLE_ARRAY_BUFFER_SIZE;c<u+100;c++)createArrayBufferItem(c);OBSERVABLE_ARRAY_BUFFER_SIZE=u}}reserveArrayBuffer(1e3);function createLegacyArray(u,c,d){return new LegacyObservableArray(u,c,d)}function getAtom(u,c){if(typeof u=="object"&&u!==null){if(isObservableArray(u))return c!==void 0&&die(23),u[$mobx].atom_;if(isObservableSet(u))return u[$mobx];if(isObservableMap(u)){if(c===void 0)return u.keysAtom_;var d=u.data_.get(c)||u.hasMap_.get(c);return d||die(25,c,getDebugName(u)),d}if(isObservableObject(u)){if(!c)return die(26);var y=u[$mobx].values_.get(c);return y||die(27,c,getDebugName(u)),y}if(isAtom(u)||isComputedValue(u)||isReaction(u))return u}else if(isFunction(u)&&isReaction(u[$mobx]))return u[$mobx];die(28)}function getAdministration(u,c){if(u||die(29),c!==void 0)return getAdministration(getAtom(u,c));if(isAtom(u)||isComputedValue(u)||isReaction(u)||isObservableMap(u)||isObservableSet(u))return u;if(u[$mobx])return u[$mobx];die(24,u)}function getDebugName(u,c){var d;if(c!==void 0)d=getAtom(u,c);else{if(isAction(u))return u.name;isObservableObject(u)||isObservableMap(u)||isObservableSet(u)?d=getAdministration(u):d=getAtom(u)}return d.name_}var toString=objectPrototype.toString;function deepEqual(u,c,d){return d===void 0&&(d=-1),eq(u,c,d)}function eq(u,c,d,y,gr){if(u===c)return u!==0||1/u===1/c;if(u==null||c==null)return!1;if(u!==u)return c!==c;var _r=typeof u;if(_r!=="function"&&_r!=="object"&&typeof c!="object")return!1;var br=toString.call(u);if(br!==toString.call(c))return!1;switch(br){case"[object RegExp]":case"[object String]":return""+u==""+c;case"[object Number]":return+u!=+u?+c!=+c:+u==0?1/+u===1/c:+u==+c;case"[object Date]":case"[object Boolean]":return+u==+c;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(u)===Symbol.valueOf.call(c);case"[object Map]":case"[object Set]":d>=0&&d++;break}u=unwrap(u),c=unwrap(c);var wr=br==="[object Array]";if(!wr){if(typeof u!="object"||typeof c!="object")return!1;var Er=u.constructor,Or=c.constructor;if(Er!==Or&&!(isFunction(Er)&&Er instanceof Er&&isFunction(Or)&&Or instanceof Or)&&"constructor"in u&&"constructor"in c)return!1}if(d===0)return!1;d<0&&(d=-1),y=y||[],gr=gr||[];for(var xr=y.length;xr--;)if(y[xr]===u)return gr[xr]===c;if(y.push(u),gr.push(c),wr){if(xr=u.length,xr!==c.length)return!1;for(;xr--;)if(!eq(u[xr],c[xr],d-1,y,gr))return!1}else{var kr=Object.keys(u),Mr;if(xr=kr.length,Object.keys(c).length!==xr)return!1;for(;xr--;)if(Mr=kr[xr],!(hasProp(c,Mr)&&eq(u[Mr],c[Mr],d-1,y,gr)))return!1}return y.pop(),gr.pop(),!0}function unwrap(u){return isObservableArray(u)?u.slice():isES6Map(u)||isObservableMap(u)||isES6Set(u)||isObservableSet(u)?Array.from(u.entries()):u}function makeIterable(u){return u[Symbol.iterator]=getSelf,u}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(u){var c=getGlobal();typeof c[u]>"u"&&die("MobX requires global '"+u+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});const mobx_esm=Object.freeze(Object.defineProperty({__proto__:null,$mobx,FlowCancellationError,ObservableMap,ObservableSet,Reaction,_allowStateChanges:allowStateChanges,_allowStateChangesInsideComputed:runInAction,_allowStateReadsEnd:allowStateReadsEnd,_allowStateReadsStart:allowStateReadsStart,_autoAction:autoAction,_endAction,_getAdministration:getAdministration,_getGlobalState:getGlobalState,_interceptReads:interceptReads,_isComputingDerivation:isComputingDerivation,_resetGlobalState:resetGlobalState,_startAction,action,autorun,comparer,computed,configure,createAtom,defineProperty:apiDefineProperty,entries,extendObservable,flow,flowResult,get,getAtom,getDebugName,getDependencyTree,getObserverTree,has,intercept,isAction,isBoxedObservable:isObservableValue,isComputed,isComputedProp,isFlow,isFlowCancellationError,isObservable,isObservableArray,isObservableMap,isObservableObject,isObservableProp,isObservableSet,keys,makeAutoObservable,makeObservable,observable,observe,onBecomeObserved,onBecomeUnobserved,onReactionError,override,ownKeys:apiOwnKeys,reaction,remove,runInAction,set,spy,toJS,trace,transaction,untracked,values,when},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(mobx_esm);(function(u){var c=commonjsGlobal&&commonjsGlobal.__importDefault||function(wr){return wr&&wr.__esModule?wr:{default:wr}};Object.defineProperty(u,"__esModule",{value:!0}),u.Order=u.OrderSide=void 0;const d=require$$0$1,y=c(big.exports),gr=require$$1;var _r;(function(wr){wr.Buy="buy",wr.Sell="sell"})(_r=u.OrderSide||(u.OrderSide={}));class br{constructor(Er){this.id="",this.orderType=_r.Buy,this.orderMint="",this.currencyMint="",this.currencyDecimals=0,this.price=new d.BN(0),this.orderQtyRemaining=0,this.orderOriginationQty=0,this.owner="",this.ownerAssetTokenAccount="",this.ownerCurrencyTokenAccount="",this.createdAt=0,this.slotContext=0,Er&&(this.id=Er.id,this.orderType=Er.orderType,this.orderMint=Er.orderMint,this.currencyMint=Er.currencyMint,this.currencyDecimals=Er.currencyDecimals,this.price=Er.price,this.orderQtyRemaining=Er.orderQtyRemaining,this.orderOriginationQty=Er.orderOriginationQty,this.owner=Er.owner,this.ownerAssetTokenAccount=Er.ownerAssetTokenAccount,this.ownerCurrencyTokenAccount=Er.ownerCurrencyTokenAccount,this.createdAt=Er.createdAt,this.slotContext=Er.slotContext),(0,gr.makeObservable)(this,{orderQtyRemaining:gr.observable})}get decimalDivisor(){return new y.default(10).pow(this.currencyDecimals)}get bigNumberPrice(){return new y.default(this.price.toString())}get uiPrice(){return this.bigNumberPrice.div(this.decimalDivisor).toNumber()}priceForQuantity(Er=1){return this.bigNumberPrice.mul(Er).div(this.decimalDivisor).toNumber()}}u.Order=br})(Order);(function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(Order,u)})(models);var hasRequiredExchangeOrder;function requireExchangeOrder(){if(hasRequiredExchangeOrder)return exchangeOrder;hasRequiredExchangeOrder=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(Or,xr,kr,Mr){function Cr(Nr){return Nr instanceof kr?Nr:new kr(function(Ur){Ur(Nr)})}return new(kr||(kr=Promise))(function(Nr,Ur){function Dr(Wr){try{Zr(Mr.next(Wr))}catch(tn){Ur(tn)}}function zr(Wr){try{Zr(Mr.throw(Wr))}catch(tn){Ur(tn)}}function Zr(Wr){Wr.done?Nr(Wr.value):Cr(Wr.value).then(Dr,zr)}Zr((Mr=Mr.apply(Or,xr||[])).next())})};Object.defineProperty(exchangeOrder,"__esModule",{value:!0}),exchangeOrder.createExchangeInstruction=void 0;const c=require$$0$1,d=require$$0$2,y=utils,gr=requirePda_getters(),_r=requirePda_getters(),br=requireUtil(),wr=models;function Er({connection:Or,orderAccount:xr,purchaseQty:kr,orderTaker:Mr,orderTakerDepositTokenAccount:Cr,programId:Nr,expectedPrice:Ur,orderType:Dr,assetMint:zr,currencyMint:Zr,orderInitializer:Wr,saVault:tn,stakingProgramId:rn,registeredStake:Jr,stakingAccount:Qr}){return u(this,void 0,void 0,function*(){const an=(0,y.getMarketplaceProgram)({connection:Or,programId:Nr}),mn={signers:[],instructions:[]};rn===null&&(rn=c.web3.Keypair.generate().publicKey),Jr===null&&(Jr=c.web3.Keypair.generate().publicKey),Qr===null&&(Qr=c.web3.Keypair.generate().publicKey);const fn=Dr===wr.OrderSide.Sell?new d.PublicKey(zr):new d.PublicKey(Zr),gn=Dr===wr.OrderSide.Sell?new d.PublicKey(Zr):new d.PublicKey(zr);let Sn=null,Fr=null,Rr=null,Lr=yield(0,br.getTokenAccount)(Or,Wr,fn,Mr);"createInstruction"in Lr?(mn.instructions.push(Lr.createInstruction),Lr.tokenAccount instanceof c.web3.Keypair?(Sn=Lr.tokenAccount.publicKey,mn.signers.push(Lr.tokenAccount)):Sn=Lr.tokenAccount):Sn=Lr.tokenAccount,Lr=yield(0,br.getTokenAccount)(Or,Wr,gn,Mr),"createInstruction"in Lr?(mn.instructions.push(Lr.createInstruction),Lr.tokenAccount instanceof c.web3.Keypair?(Fr=Lr.tokenAccount.publicKey,mn.signers.push(Lr.tokenAccount)):Fr=Lr.tokenAccount):Fr=Lr.tokenAccount;const[Vr]=yield(0,gr.getOrderVault)(Wr,fn,Nr),[Yr]=yield(0,_r.getOpenOrdersCounter)(Wr,fn,Nr);Lr=yield(0,br.getTokenAccount)(Or,Mr,fn),"createInstruction"in Lr?(mn.instructions.push(Lr.createInstruction),Lr.tokenAccount instanceof c.web3.Keypair?(Rr=Lr.tokenAccount.publicKey,mn.signers.push(Lr.tokenAccount)):Rr=Lr.tokenAccount):Rr=Lr.tokenAccount;const Xr=Dr===wr.OrderSide.Buy?Mr:Wr,hn=yield an.methods.processExchange(new c.BN(kr),Ur,Xr).accounts({orderTaker:Mr,orderTakerDepositTokenAccount:Cr,orderTakerReceiveTokenAccount:Rr,currencyMint:Zr,assetMint:zr,orderInitializer:Wr,initializerDepositTokenAccount:Sn,initializerReceiveTokenAccount:Fr,orderVaultAccount:Vr,orderAccount:xr,openOrdersCounter:Yr,saVault:tn,atlasStaking:rn,registeredStake:Jr,stakingAccount:Qr}).instruction();return mn.instructions.push(hn),mn})}return exchangeOrder.createExchangeInstruction=Er,exchangeOrder}var initializeMarketplace={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(initializeMarketplace,"__esModule",{value:!0});initializeMarketplace.createInitializeMarketInstruction=void 0;const utils_1$a=utils;function createInitializeMarketInstruction({connection:u,updateAuthorityAccount:c,programId:d}){return __awaiter$b(this,void 0,void 0,function*(){const gr=[yield(0,utils_1$a.getMarketplaceProgram)({connection:u,programId:d}).methods.initializeMarketplace().accounts({updateAuthorityAccount:c}).instruction()];return{accounts:[],instructions:gr}})}initializeMarketplace.createInitializeMarketInstruction=createInitializeMarketInstruction;var registerCurrency={},__awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(registerCurrency,"__esModule",{value:!0});registerCurrency.createRegisterCurrencyInstruction=void 0;const anchor_1$7=require$$0$1,utils_1$9=utils;function createRegisterCurrencyInstruction({connection:u,updateAuthorityAccount:c,royalty:d,saCurrencyVault:y,currencyMint:gr,programId:_r}){return __awaiter$a(this,void 0,void 0,function*(){const wr=[yield(0,utils_1$9.getMarketplaceProgram)({connection:u,programId:_r}).methods.registerCurrency(new anchor_1$7.BN(d)).accounts({updateAuthorityAccount:c,saCurrencyVault:y,currencyMint:gr}).instruction()];return{accounts:[],instructions:wr}})}registerCurrency.createRegisterCurrencyInstruction=createRegisterCurrencyInstruction;var royaltyTiers={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(royaltyTiers,"__esModule",{value:!0});royaltyTiers.updateRoyaltyTier=royaltyTiers.deleteRoyaltyTier=royaltyTiers.addRoyaltyTier=void 0;const anchor_1$6=require$$0$1,utils_1$8=utils;function addRoyaltyTier({connection:u,updateAuthorityAccount:c,registeredCurrency:d,stakeAmount:y,discount:gr,programId:_r}){return __awaiter$9(this,void 0,void 0,function*(){const br=(0,utils_1$8.getMarketplaceProgram)({connection:u,programId:_r}),wr={signers:[],instructions:[]},Er=yield br.methods.addRoyaltyTier(new anchor_1$6.BN(y),new anchor_1$6.BN(gr)).accounts({updateAuthorityAccount:c,registeredCurrency:d}).instruction();return wr.instructions.push(Er),wr})}royaltyTiers.addRoyaltyTier=addRoyaltyTier;function deleteRoyaltyTier({connection:u,updateAuthorityAccount:c,registeredCurrency:d,stakeAmount:y,programId:gr}){return __awaiter$9(this,void 0,void 0,function*(){const _r=(0,utils_1$8.getMarketplaceProgram)({connection:u,programId:gr}),br={signers:[],instructions:[]},wr=yield _r.methods.deleteRoyaltyTier(new anchor_1$6.BN(y)).accounts({updateAuthorityAccount:c,registeredCurrency:d}).instruction();return br.instructions.push(wr),br})}royaltyTiers.deleteRoyaltyTier=deleteRoyaltyTier;function updateRoyaltyTier({connection:u,updateAuthorityAccount:c,registeredCurrency:d,stakeAmount:y,discount:gr,programId:_r}){return __awaiter$9(this,void 0,void 0,function*(){const br=(0,utils_1$8.getMarketplaceProgram)({connection:u,programId:_r}),wr={signers:[],instructions:[]},Er=yield br.methods.updateRoyaltyTier(new anchor_1$6.BN(y),new anchor_1$6.BN(gr)).accounts({updateAuthorityAccount:c,registeredCurrency:d}).instruction();return wr.instructions.push(Er),wr})}royaltyTiers.updateRoyaltyTier=updateRoyaltyTier;var updateCurrency={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(updateCurrency,"__esModule",{value:!0});updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=void 0;const anchor_1$5=require$$0$1,utils_1$7=utils;function createUpdateRegisteredCurrencyRoyaltyInstruction({connection:u,updateAuthorityAccount:c,royalty:d,currencyMint:y,programId:gr}){return __awaiter$8(this,void 0,void 0,function*(){const br=[yield(0,utils_1$7.getMarketplaceProgram)({connection:u,programId:gr}).methods.updateCurrencyRoyalty(new anchor_1$5.BN(d)).accounts({updateAuthorityAccount:c,currencyMint:y}).instruction()];return{accounts:[],instructions:br}})}updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=createUpdateRegisteredCurrencyRoyaltyInstruction;function createUpdateRegisteredCurrencyVaultInstruction({connection:u,updateAuthorityAccount:c,saCurrencyVault:d,currencyMint:y,programId:gr}){return __awaiter$8(this,void 0,void 0,function*(){const br=[yield(0,utils_1$7.getMarketplaceProgram)({connection:u,programId:gr}).methods.updateCurrencyVault().accounts({updateAuthorityAccount:c,saCurrencyVault:d,currencyMint:y}).instruction()];return{accounts:[],instructions:br}})}updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=createUpdateRegisteredCurrencyVaultInstruction;var hasRequiredInstruction_builders$1;function requireInstruction_builders$1(){return hasRequiredInstruction_builders$1||(hasRequiredInstruction_builders$1=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(BaseParams,u),d(requireCancelOrder(),u),d(requireCreateOrder(),u),d(deregisterCurrency,u),d(requireExchangeOrder(),u),d(initializeMarketplace,u),d(registerCurrency,u),d(royaltyTiers,u),d(updateCurrency,u)}(instruction_builders)),instruction_builders}var types$2={},marketplace_accounts={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.GmLogs=void 0,function(c){c.CancelOrderMemo="CancelOrderMemo",c.ExchangeMemo="ExchangeMemo",c.InitializeMemo="InitializeMemo",c.RegisterCurrencyMemo="RegisterCurrencyMemo"}(u.GmLogs||(u.GmLogs={}))})(marketplace_accounts);var services$1={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.GmEventType=void 0,function(c){c[c.orderAdded=0]="orderAdded",c[c.orderRemoved=1]="orderRemoved",c[c.orderModified=2]="orderModified"}(u.GmEventType||(u.GmEventType={}))})(services$1);(function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(gmIdl,u),d(marketplace_accounts,u),d(services$1,u)})(types$2);var services={},GmOrderbookService={},NOOP=function(){},IDENTITY=function(u){return u};function fail(u){throw new Error("[mobx-utils] "+u)}function invariant(u,c){c===void 0&&(c="Illegal state"),u||fail(c)}function addHiddenProp(u,c,d){Object.defineProperty(u,c,{enumerable:!1,writable:!0,configurable:!0,value:d})}var deepFields=function(u){return u&&u!==Object.prototype&&Object.getOwnPropertyNames(u).concat(deepFields(Object.getPrototypeOf(u))||[])},distinctDeepFields=function(u){var c=deepFields(u),d=c.filter(function(y,gr){return c.indexOf(y)===gr});return d},getAllMethodsAndProperties=function(u){return distinctDeepFields(u).filter(function(c){return c!=="constructor"&&!~c.indexOf("__")})},PENDING="pending",FULFILLED="fulfilled",REJECTED="rejected";function caseImpl(u){switch(this.state){case PENDING:return u.pending&&u.pending(this.value);case REJECTED:return u.rejected&&u.rejected(this.value);case FULFILLED:return u.fulfilled?u.fulfilled(this.value):this.value}}function fromPromise(u,c){if(invariant(arguments.length<=2,"fromPromise expects up to two arguments"),invariant(typeof u=="function"||typeof u=="object"&&u&&typeof u.then=="function","Please pass a promise or function to fromPromise"),u.isPromiseBasedObservable===!0)return u;typeof u=="function"&&(u=new Promise(u));var d=u;u.then(action("observableFromPromise-resolve",function(gr){d.value=gr,d.state=FULFILLED}),action("observableFromPromise-reject",function(gr){d.value=gr,d.state=REJECTED})),d.isPromiseBasedObservable=!0,d.case=caseImpl;var y=c&&c.state===FULFILLED?c.value:void 0;return extendObservable(d,{value:y,state:PENDING},{},{deep:!1}),d}(function(u){u.reject=action("fromPromise.reject",function(d){var y=u(Promise.reject(d));return y.state=REJECTED,y.value=d,y});function c(d){d===void 0&&(d=void 0);var y=u(Promise.resolve(d));return y.state=FULFILLED,y.value=d,y}u.resolve=action("fromPromise.resolve",c)})(fromPromise||(fromPromise={}));function isPromiseBasedObservable(u){return u&&u.isPromiseBasedObservable===!0}var __spreadArrays=function(){for(var u=0,c=0,d=arguments.length;c<d;c++)u+=arguments[c].length;for(var y=Array(u),gr=0,c=0;c<d;c++)for(var _r=arguments[c],br=0,wr=_r.length;br<wr;br++,gr++)y[gr]=_r[br];return y};function moveItem(u,c,d){if(checkIndex(u,c),checkIndex(u,d),c!==d){var y=u.slice(),gr;return c<d?gr=__spreadArrays(y.slice(0,c),y.slice(c+1,d+1),[y[c]],y.slice(d+1)):gr=__spreadArrays(y.slice(0,d),[y[c]],y.slice(d,c),y.slice(c+1)),u.replace(gr),u}}function checkIndex(u,c){if(c<0)throw new Error("[mobx.array] Index out of bounds: "+c+" is negative");var d=u.length;if(c>=d)throw new Error("[mobx.array] Index out of bounds: "+c+" is not smaller than "+d)}function lazyObservable(u,c){c===void 0&&(c=void 0);var d=!1,y=observable.box(c,{deep:!1}),gr=observable.box(!1),_r=function(){return d||(d=!0,allowStateChanges(!0,function(){gr.set(!0)}),u(function(wr){allowStateChanges(!0,function(){y.set(wr),gr.set(!1)})})),y.get()},br=action("lazyObservable-reset",function(){return d=!1,y.set(c),y.get()});return{current:_r,refresh:function(){return d?(d=!1,_r()):y.get()},reset:function(){return br()},get pending(){return gr.get()}}}function fromResource(u,c,d){c===void 0&&(c=NOOP),d===void 0&&(d=void 0);var y=!1,gr=!1,_r=d,br=function(){y&&(y=!1,c())},wr=createAtom("ResourceBasedObservable",function(){invariant(!y&&!gr),y=!0,u(function(Er){allowStateChanges(!0,function(){_r=Er,wr.reportChanged()})})},br);return{current:function(){invariant(!gr,"subscribingObservable has already been disposed");var Er=wr.reportObserved();return!Er&&!y&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),_r},dispose:function(){gr=!0,br()},isAlive:function(){return y}}}var __decorate=function(u,c,d,y){var gr=arguments.length,_r=gr<3?c:y===null?y=Object.getOwnPropertyDescriptor(c,d):y,br;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_r=Reflect.decorate(u,c,d,y);else for(var wr=u.length-1;wr>=0;wr--)(br=u[wr])&&(_r=(gr<3?br(_r):gr>3?br(c,d,_r):br(c,d))||_r);return gr>3&&_r&&Object.defineProperty(c,d,_r),_r};function observableSymbol(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function toStream(u,c){var d;c===void 0&&(c=!1);var y=computed(u);return d={subscribe:function(gr){return typeof gr=="function"?{unsubscribe:observe(y,function(_r){var br=_r.newValue;return gr(br)},c)}:gr&&typeof gr=="object"&&gr.next?{unsubscribe:observe(y,function(_r){var br=_r.newValue;return gr.next(br)},c)}:{unsubscribe:function(){}}}},d[observableSymbol()]=function(){return this},d}var StreamListener=function(){function u(c,d){var y=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),makeObservable(this),runInAction(function(){y.current=d,y.subscription=c.subscribe(y)})}return Object.defineProperty(u.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(u.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(c){this.current=c}}),Object.defineProperty(u.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(u.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(c){this.current=c,this.dispose()}}),__decorate([observable.ref],u.prototype,"current",void 0),__decorate([action.bound],u.prototype,"next",null),__decorate([action.bound],u.prototype,"complete",null),__decorate([action.bound],u.prototype,"error",null),u}();function fromStream(u,c){return c===void 0&&(c=void 0),new StreamListener(u,c)}var __assign=function(){return __assign=Object.assign||function(u){for(var c,d=1,y=arguments.length;d<y;d++){c=arguments[d];for(var gr in c)Object.prototype.hasOwnProperty.call(c,gr)&&(u[gr]=c[gr])}return u},__assign.apply(this,arguments)},__decorate$1=function(u,c,d,y){var gr=arguments.length,_r=gr<3?c:y===null?y=Object.getOwnPropertyDescriptor(c,d):y,br;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_r=Reflect.decorate(u,c,d,y);else for(var wr=u.length-1;wr>=0;wr--)(br=u[wr])&&(_r=(gr<3?br(_r):gr>3?br(c,d,_r):br(c,d))||_r);return gr>3&&_r&&Object.defineProperty(c,d,_r),_r},RESERVED_NAMES=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],ViewModel=function(){function u(c){var d=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(gr){return d.localValues.has(gr)}}),makeObservable(this),invariant(isObservableObject(c),"createViewModel expects an observable object");var y=getAllMethodsAndProperties(this);getAllMethodsAndProperties(c).forEach(function(gr){var _r;if(!y.includes(gr)&&!(gr===$mobx||gr==="__mobxDidRunLazyInitializers")){if(invariant(RESERVED_NAMES.indexOf(gr)===-1,"The propertyname "+gr+" is reserved and cannot be used with viewModels"),isComputedProp(c,gr)){var br=getAdministration(c,gr),wr=br.derivation.bind(d),Er=(_r=br.setter_)===null||_r===void 0?void 0:_r.bind(d);d.localComputedValues.set(gr,computed(wr,{set:Er}))}var Or=Object.getOwnPropertyDescriptor(c,gr),xr=Or?{enumerable:Or.enumerable}:{};Object.defineProperty(d,gr,__assign(__assign({},xr),{configurable:!0,get:function(){return isComputedProp(c,gr)?d.localComputedValues.get(gr).get():d.isPropertyDirty(gr)?d.localValues.get(gr):d.model[gr]},set:action(function(kr){isComputedProp(c,gr)?d.localComputedValues.get(gr).set(kr):kr!==d.model[gr]?d.localValues.set(gr,kr):d.localValues.delete(gr)})}))}})}return Object.defineProperty(u.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var c=this;keys(this.localValues).forEach(function(d){var y=c.localValues.get(d),gr=c.model[d];isObservableArray(gr)?gr.replace(y):isObservableMap(gr)?(gr.clear(),gr.merge(y)):isComputed(y)||(c.model[d]=y)}),this.localValues.clear()}}),Object.defineProperty(u.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(u.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(c){this.localValues.delete(c)}}),__decorate$1([computed],u.prototype,"isDirty",null),__decorate$1([computed],u.prototype,"changedValues",null),__decorate$1([action.bound],u.prototype,"submit",null),__decorate$1([action.bound],u.prototype,"reset",null),__decorate$1([action.bound],u.prototype,"resetProperty",null),u}();function createViewModel(u){return new ViewModel(u)}function keepAlive(u,c){var d=getAtom(u,c);if(!d)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return observe(d,function(){})}function queueProcessor(u,c,d){if(d===void 0&&(d=0),!isObservableArray(u))throw new Error("Expected observable array as first argument");isAction(c)||(c=action("queueProcessor",c));var y=function(){var gr=u.slice(0);runInAction(function(){return u.splice(0)}),gr.forEach(c)};return d>0?autorun(y,{delay:d}):autorun(y)}function chunkProcessor(u,c,d,y){if(d===void 0&&(d=0),y===void 0&&(y=0),!isObservableArray(u))throw new Error("Expected observable array as first argument");isAction(c)||(c=action("chunkProcessor",c));var gr=function(){for(var _r=function(){var br=y===0?u.length:Math.min(u.length,y),wr=u.slice(0,br);runInAction(function(){return u.splice(0,br)}),c(wr)};u.length>0;)_r()};return d>0?autorun(gr,{delay:d}):autorun(gr)}var tickers={};function now(u){return u===void 0&&(u=1e3),isComputingDerivation()?(tickers[u]||(typeof u=="number"?tickers[u]=createIntervalTicker(u):tickers[u]=createAnimationFrameTicker()),tickers[u].current()):Date.now()}function createIntervalTicker(u){var c;return fromResource(function(d){d(Date.now()),c=setInterval(function(){return d(Date.now())},u)},function(){clearInterval(c)},Date.now())}function createAnimationFrameTicker(){var u=fromResource(function(c){c(Date.now());function d(){window.requestAnimationFrame(function(){c(Date.now()),u.isAlive()&&d()})}d()},function(){},Date.now());return u}function expr(u){return isComputingDerivation()||console.warn("'expr' should only be used inside other reactive functions."),computed(u).get()}var __assign$1=function(){return __assign$1=Object.assign||function(u){for(var c,d=1,y=arguments.length;d<y;d++){c=arguments[d];for(var gr in c)Object.prototype.hasOwnProperty.call(c,gr)&&(u[gr]=c[gr])}return u},__assign$1.apply(this,arguments)},memoizationId=0;function createTransformer(u,c){invariant(typeof u=="function"&&u.length<2,"createTransformer expects a function that accepts one argument");var d={},y=void 0,gr=!1,_r=void 0;typeof c=="object"?(y=c.onCleanup,gr=c.keepAlive!==void 0?c.keepAlive:!1,_r=c.debugNameGenerator):typeof c=="function"&&(y=c);function br(Er,Or){var xr,kr={};typeof c=="object"?(y=c.onCleanup,_r=c.debugNameGenerator,kr=c):typeof c=="function"?y=c:(y=void 0,_r=void 0);var Mr=_r?_r(Or):"Transformer-"+u.name+"-"+Er,Cr=computed(function(){return xr=u(Or)},__assign$1(__assign$1({},kr),{name:Mr}));if(!gr)var Nr=onBecomeUnobserved(Cr,function(){delete d[Er],Nr(),y&&y(xr,Or)});return Cr}var wr=!1;return function(Er){var Or=getMemoizationId(Er),xr=d[Or];if(xr)return xr.get();if(!gr&&!isComputingDerivation()){wr||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),wr=!0);var kr=u(Er);return y&&y(kr,Er),kr}return xr=d[Or]=br(Or,Er),xr.get()}}function getMemoizationId(u){var c=typeof u;if(c==="string")return"string:"+u;if(c==="number")return"number:"+u;if(u===null||c!=="object"&&c!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(u));var d=u.$transformId;return d===void 0&&(d="memoizationId:"+ ++memoizationId,addHiddenProp(u,"$transformId",d)),d}function buildPath(u){if(!u)return"ROOT";for(var c=[];u.parent;)c.push(u.path),u=u.parent;return c.reverse().join("/")}function isRecursivelyObservable(u){return isObservableObject(u)||isObservableArray(u)||isObservableMap(u)}function deepObserve(u,c){var d=new WeakMap;function y(wr){var Er=d.get(wr.object);gr(wr,Er),c(wr,buildPath(Er),u)}function gr(wr,Er){switch(wr.type){case"add":_r(wr.newValue,Er,wr.name);break;case"update":br(wr.oldValue),_r(wr.newValue,Er,wr.name||""+wr.index);break;case"remove":case"delete":br(wr.oldValue);break;case"splice":wr.removed.map(br),wr.added.forEach(function(kr,Mr){return _r(kr,Er,""+(wr.index+Mr))});for(var Or=wr.index+wr.addedCount;Or<wr.object.length;Or++)if(isRecursivelyObservable(wr.object[Or])){var xr=d.get(wr.object[Or]);xr&&(xr.path=""+Or)}break}}function _r(wr,Er,Or){if(isRecursivelyObservable(wr)){var xr=d.get(wr);if(xr){if(xr.parent!==Er||xr.path!==Or)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+buildPath(Er)+"/"+Or+"',")+(" but it already exists at '"+buildPath(xr.parent)+"/"+xr.path+"'"))}else{var kr={parent:Er,path:Or,dispose:observe(wr,y)};d.set(wr,kr),entries(wr).forEach(function(Mr){var Cr=Mr[0],Nr=Mr[1];return _r(Nr,kr,Cr)})}}}function br(wr){if(isRecursivelyObservable(wr)){var Er=d.get(wr);if(!Er)return;d.delete(wr),Er.dispose(),values(wr).forEach(br)}}return _r(u,void 0,""),function(){br(u)}}var __extends=function(){var u=function(c,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,gr){y.__proto__=gr}||function(y,gr){for(var _r in gr)Object.prototype.hasOwnProperty.call(gr,_r)&&(y[_r]=gr[_r])},u(c,d)};return function(c,d){u(c,d);function y(){this.constructor=c}c.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),ObservableGroupMap=function(u){__extends(c,u);function c(d,y,gr){var _r=gr===void 0?{}:gr,br=_r.name,wr=br===void 0?"ogm"+(Math.random()*1e3|0):br,Er=_r.keyToName,Or=Er===void 0?function(Mr){return""+Mr}:Er,xr=u.call(this)||this;Object.defineProperty(xr,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(xr,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(xr,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(xr,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(xr,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),xr._keyToName=Or,xr._groupBy=y,xr._ogmInfoKey=Symbol("ogmInfo"+wr),xr._base=d;for(var kr=0;kr<d.length;kr++)xr._addItem(d[kr]);return xr._disposeBaseObserver=observe(xr._base,function(Mr){if(Mr.type==="splice")transaction(function(){for(var Cr=0,Nr=Mr.removed;Cr<Nr.length;Cr++){var Ur=Nr[Cr];xr._removeItem(Ur)}for(var Dr=0,zr=Mr.added;Dr<zr.length;Dr++){var Zr=zr[Dr];xr._addItem(Zr)}});else if(Mr.type==="update")transaction(function(){xr._removeItem(Mr.oldValue),xr._addItem(Mr.newValue)});else throw new Error("illegal state")}),xr}return Object.defineProperty(c.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(c.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(d){throw new Error("not supported")}}),Object.defineProperty(c.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(d,y){throw new Error("not supported")}}),Object.defineProperty(c.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var d=0;d<this._base.length;d++){var y=this._base[d],gr=y[this._ogmInfoKey];gr.reaction(),delete y[this._ogmInfoKey]}}}),Object.defineProperty(c.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(d){var y=u.prototype.get.call(this,d);return y===void 0&&(y=observable([],{name:"GroupArray["+this._keyToName(d)+"]",deep:!1}),u.prototype.set.call(this,d,y)),y}}),Object.defineProperty(c.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(d,y){var gr=u.prototype.get.call(this,d);gr.length===1?u.prototype.delete.call(this,d):(y===gr.length-1||(gr[y]=gr[gr.length-1],gr[y][this._ogmInfoKey].groupArrIndex=y),gr.length--)}}),Object.defineProperty(c.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(d){var y=this,gr=this._groupBy(d),_r=this._getGroupArr(gr),br={groupByValue:gr,groupArrIndex:_r.length,reaction:reaction(function(){return y._groupBy(d)},function(wr,Er){var Or=d[y._ogmInfoKey];y._removeFromGroupArr(Or.groupByValue,Or.groupArrIndex);var xr=y._getGroupArr(wr),kr=xr.length;xr.push(d),Or.groupByValue=wr,Or.groupArrIndex=kr})};Object.defineProperty(d,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:br}),_r.push(d)}}),Object.defineProperty(c.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(d){var y=d[this._ogmInfoKey];this._removeFromGroupArr(y.groupByValue,y.groupArrIndex),y.reaction(),delete d[this._ogmInfoKey]}}),c}(ObservableMap),DeepMapEntry=function(){function u(c,d){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:d}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var y=this.closest=this.root=c,gr=0;gr<this.args.length-1&&(y=y.get(d[gr]),y);gr++)this.closest=y;this.closestIdx=gr}return Object.defineProperty(u.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var c=this.args.length;return this.closestIdx>=c-1&&this.closest.has(this.args[c-1])}}),Object.defineProperty(u.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(u.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(c){this.assertNotDisposed();for(var d=this.args.length,y=this.closest,gr=this.closestIdx;gr<d-1;gr++){var _r=new Map;y.set(this.args[gr],_r),y=_r}this.closestIdx=d-1,this.closest=y,y.set(this.args[d-1],c)}}),Object.defineProperty(u.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var c=this.args.length;this.closest.delete(this.args[c-1]);for(var d=this.root,y=[d],gr=0;gr<c-1;gr++)d=d.get(this.args[gr]),y.push(d);for(var gr=y.length-1;gr>0;gr--)y[gr].size===0&&y[gr-1].delete(this.args[gr-1]);this.isDisposed=!0}}),Object.defineProperty(u.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),u}(),DeepMap=function(){function u(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(u.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(c){if(this.argsLength===-1)this.argsLength=c.length;else if(this.argsLength!==c.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+c.length);return this.last&&(this.last.isDisposed=!0),this.last=new DeepMapEntry(this.store,c)}}),u}(),__assign$2=function(){return __assign$2=Object.assign||function(u){for(var c,d=1,y=arguments.length;d<y;d++){c=arguments[d];for(var gr in c)Object.prototype.hasOwnProperty.call(c,gr)&&(u[gr]=c[gr])}return u},__assign$2.apply(this,arguments)},__spreadArrays$1=function(){for(var u=0,c=0,d=arguments.length;c<d;c++)u+=arguments[c].length;for(var y=Array(u),gr=0,c=0;c<d;c++)for(var _r=arguments[c],br=0,wr=_r.length;br<wr;br++,gr++)y[gr]=_r[br];return y};function computedFn(u,c){if(c===void 0&&(c=!1),isAction(u))throw new Error("computedFn shouldn't be used on actions");var d=!1,y=0,gr=typeof c=="boolean"?{keepAlive:c}:c,_r=new DeepMap;return function(){for(var br=this,wr=[],Er=0;Er<arguments.length;Er++)wr[Er]=arguments[Er];var Or=_r.entry(wr);if(Or.exists())return Or.get().get();if(!gr.keepAlive&&!isComputingDerivation())return d||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),d=!0),u.apply(this,wr);var xr,kr=computed(function(){return xr=u.apply(br,wr)},__assign$2(__assign$2({},gr),{name:"computedFn("+(gr.name||u.name)+"#"+ ++y+")"}));return Or.set(kr),gr.keepAlive||onBecomeUnobserved(kr,function(){_r.entry(wr).delete(),gr.onCleanup&&gr.onCleanup.apply(gr,__spreadArrays$1([xr],wr)),xr=void 0}),kr.get()}}const mobxUtils_module=Object.freeze(Object.defineProperty({__proto__:null,FULFILLED,IDENTITY,NOOP,ObservableGroupMap,PENDING,REJECTED,ViewModel,addHiddenProp,chunkProcessor,computedFn,createTransformer,createViewModel,deepObserve,expr,fail,get fromPromise(){return fromPromise},fromResource,fromStream,getAllMethodsAndProperties,invariant,isPromiseBasedObservable,keepAlive,lazyObservable,moveItem,now,queueProcessor,toStream},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(mobxUtils_module);var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(u,c){(function(){var d,y="4.17.21",gr=200,_r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",br="Expected a function",wr="Invalid `variable` option passed into `_.template`",Er="__lodash_hash_undefined__",Or=500,xr="__lodash_placeholder__",kr=1,Mr=2,Cr=4,Nr=1,Ur=2,Dr=1,zr=2,Zr=4,Wr=8,tn=16,rn=32,Jr=64,Qr=128,an=256,mn=512,fn=30,gn="...",Sn=800,Fr=16,Rr=1,Lr=2,Vr=3,Yr=1/0,Xr=9007199254740991,hn=17976931348623157e292,En=0/0,qr=4294967295,Br=qr-1,Hr=qr>>>1,_n=[["ary",Qr],["bind",Dr],["bindKey",zr],["curry",Wr],["curryRight",tn],["flip",mn],["partial",rn],["partialRight",Jr],["rearg",an]],on="[object Arguments]",sn="[object Array]",yn="[object AsyncFunction]",wn="[object Boolean]",In="[object Date]",Mn="[object DOMException]",Ln="[object Error]",Cn="[object Function]",ln="[object GeneratorFunction]",pn="[object Map]",On="[object Number]",Nn="[object Null]",kn="[object Object]",Fn="[object Promise]",xn="[object Proxy]",Un="[object RegExp]",Dn="[object Set]",dn="[object String]",vn="[object Symbol]",Rn="[object Undefined]",Bn="[object WeakMap]",jn="[object WeakSet]",Tr="[object ArrayBuffer]",Sr="[object DataView]",Ar="[object Float32Array]",Pr="[object Float64Array]",jr="[object Int8Array]",Gr="[object Int16Array]",nn="[object Int32Array]",Kn="[object Uint8Array]",Yn="[object Uint8ClampedArray]",Hn="[object Uint16Array]",Jn="[object Uint32Array]",Gn=/\b__p \+= '';/g,Oi=/\b(__p \+=) '' \+/g,Hs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vi=/&(?:amp|lt|gt|quot|#39);/g,Si=/[&<>"']/g,Vs=RegExp(vi.source),xi=RegExp(Si.source),Ti=/<%-([\s\S]+?)%>/g,qs=/<%([\s\S]+?)%>/g,Ai=/<%=([\s\S]+?)%>/g,ki=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ws=/^\w*$/,Ri=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_i=/[\\^$.*+?()[\]{}|]/g,Gs=RegExp(_i.source),bi=/^\s+/,$i=/\s/,Ys=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pi=/\{\n\/\* \[wrapped with (.+)\] \*/,Bi=/,? & /,Zs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ci=/[()=,{}\[\]\/\s]/,Mi=/\\(\\)?/g,Js=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ei=/\w*$/,Li=/^[-+]0x[0-9a-f]+$/i,ys=/^0b[01]+$/i,ms=/^\[object .+?Constructor\]$/,_s=/^0o[0-7]+$/i,bs=/^(?:0|[1-9]\d*)$/,ws=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$o=/($^)/,vs=/['\n\r\u2028\u2029\\]/g,Po="\\ud800-\\udfff",Ss="\\u0300-\\u036f",As="\\ufe20-\\ufe2f",Es="\\u20d0-\\u20ff",Jo=Ss+As+Es,Qo="\\u2700-\\u27bf",Xo="a-z\\xdf-\\xf6\\xf8-\\xff",Is="\\xac\\xb1\\xd7\\xf7",Os="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xs="\\u2000-\\u206f",Ts=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",es="A-Z\\xc0-\\xd6\\xd8-\\xde",Yc="\\ufe0e\\ufe0f",Zc=Is+Os+xs+Ts,Ua="['\u2019]",mf="["+Po+"]",Jc="["+Zc+"]",Qs="["+Jo+"]",Qc="\\d+",_f="["+Qo+"]",Xc="["+Xo+"]",eu="[^"+Po+Zc+Qc+Qo+Xo+es+"]",Fa="\\ud83c[\\udffb-\\udfff]",bf="(?:"+Qs+"|"+Fa+")",tu="[^"+Po+"]",ja="(?:\\ud83c[\\udde6-\\uddff]){2}",Ka="[\\ud800-\\udbff][\\udc00-\\udfff]",ts="["+es+"]",ru="\\u200d",nu="(?:"+Xc+"|"+eu+")",wf="(?:"+ts+"|"+eu+")",iu="(?:"+Ua+"(?:d|ll|m|re|s|t|ve))?",ou="(?:"+Ua+"(?:D|LL|M|RE|S|T|VE))?",su=bf+"?",au="["+Yc+"]?",vf="(?:"+ru+"(?:"+[tu,ja,Ka].join("|")+")"+au+su+")*",Sf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Af="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cu=au+su+vf,Ef="(?:"+[_f,ja,Ka].join("|")+")"+cu,If="(?:"+[tu+Qs+"?",Qs,ja,Ka,mf].join("|")+")",Of=RegExp(Ua,"g"),xf=RegExp(Qs,"g"),za=RegExp(Fa+"(?="+Fa+")|"+If+cu,"g"),Tf=RegExp([ts+"?"+Xc+"+"+iu+"(?="+[Jc,ts,"$"].join("|")+")",wf+"+"+ou+"(?="+[Jc,ts+nu,"$"].join("|")+")",ts+"?"+nu+"+"+iu,ts+"+"+ou,Af,Sf,Qc,Ef].join("|"),"g"),kf=RegExp("["+ru+Po+Jo+Yc+"]"),Rf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$f=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pf=-1,mi={};mi[Ar]=mi[Pr]=mi[jr]=mi[Gr]=mi[nn]=mi[Kn]=mi[Yn]=mi[Hn]=mi[Jn]=!0,mi[on]=mi[sn]=mi[Tr]=mi[wn]=mi[Sr]=mi[In]=mi[Ln]=mi[Cn]=mi[pn]=mi[On]=mi[kn]=mi[Un]=mi[Dn]=mi[dn]=mi[Bn]=!1;var yi={};yi[on]=yi[sn]=yi[Tr]=yi[Sr]=yi[wn]=yi[In]=yi[Ar]=yi[Pr]=yi[jr]=yi[Gr]=yi[nn]=yi[pn]=yi[On]=yi[kn]=yi[Un]=yi[Dn]=yi[dn]=yi[vn]=yi[Kn]=yi[Yn]=yi[Hn]=yi[Jn]=!0,yi[Ln]=yi[Cn]=yi[Bn]=!1;var Bf={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Cf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nf=parseFloat,Df=parseInt,uu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Uf=typeof self=="object"&&self&&self.Object===Object&&self,zi=uu||Uf||Function("return this")(),Ha=c&&!c.nodeType&&c,Ko=Ha&&!0&&u&&!u.nodeType&&u,lu=Ko&&Ko.exports===Ha,Va=lu&&uu.process,so=function(){try{var $n=Ko&&Ko.require&&Ko.require("util").types;return $n||Va&&Va.binding&&Va.binding("util")}catch{}}(),fu=so&&so.isArrayBuffer,du=so&&so.isDate,hu=so&&so.isMap,pu=so&&so.isRegExp,gu=so&&so.isSet,yu=so&&so.isTypedArray;function eo($n,Vn,zn){switch(zn.length){case 0:return $n.call(Vn);case 1:return $n.call(Vn,zn[0]);case 2:return $n.call(Vn,zn[0],zn[1]);case 3:return $n.call(Vn,zn[0],zn[1],zn[2])}return $n.apply(Vn,zn)}function Ff($n,Vn,zn,Xn){for(var ii=-1,di=$n==null?0:$n.length;++ii<di;){var Fi=$n[ii];Vn(Xn,Fi,zn(Fi),$n)}return Xn}function ao($n,Vn){for(var zn=-1,Xn=$n==null?0:$n.length;++zn<Xn&&Vn($n[zn],zn,$n)!==!1;);return $n}function jf($n,Vn){for(var zn=$n==null?0:$n.length;zn--&&Vn($n[zn],zn,$n)!==!1;);return $n}function mu($n,Vn){for(var zn=-1,Xn=$n==null?0:$n.length;++zn<Xn;)if(!Vn($n[zn],zn,$n))return!1;return!0}function Bo($n,Vn){for(var zn=-1,Xn=$n==null?0:$n.length,ii=0,di=[];++zn<Xn;){var Fi=$n[zn];Vn(Fi,zn,$n)&&(di[ii++]=Fi)}return di}function Xs($n,Vn){var zn=$n==null?0:$n.length;return!!zn&&rs($n,Vn,0)>-1}function qa($n,Vn,zn){for(var Xn=-1,ii=$n==null?0:$n.length;++Xn<ii;)if(zn(Vn,$n[Xn]))return!0;return!1}function wi($n,Vn){for(var zn=-1,Xn=$n==null?0:$n.length,ii=Array(Xn);++zn<Xn;)ii[zn]=Vn($n[zn],zn,$n);return ii}function Co($n,Vn){for(var zn=-1,Xn=Vn.length,ii=$n.length;++zn<Xn;)$n[ii+zn]=Vn[zn];return $n}function Wa($n,Vn,zn,Xn){var ii=-1,di=$n==null?0:$n.length;for(Xn&&di&&(zn=$n[++ii]);++ii<di;)zn=Vn(zn,$n[ii],ii,$n);return zn}function Kf($n,Vn,zn,Xn){var ii=$n==null?0:$n.length;for(Xn&&ii&&(zn=$n[--ii]);ii--;)zn=Vn(zn,$n[ii],ii,$n);return zn}function Ga($n,Vn){for(var zn=-1,Xn=$n==null?0:$n.length;++zn<Xn;)if(Vn($n[zn],zn,$n))return!0;return!1}var zf=Ya("length");function Hf($n){return $n.split("")}function Vf($n){return $n.match(Zs)||[]}function _u($n,Vn,zn){var Xn;return zn($n,function(ii,di,Fi){if(Vn(ii,di,Fi))return Xn=di,!1}),Xn}function ea($n,Vn,zn,Xn){for(var ii=$n.length,di=zn+(Xn?1:-1);Xn?di--:++di<ii;)if(Vn($n[di],di,$n))return di;return-1}function rs($n,Vn,zn){return Vn===Vn?nd($n,Vn,zn):ea($n,bu,zn)}function qf($n,Vn,zn,Xn){for(var ii=zn-1,di=$n.length;++ii<di;)if(Xn($n[ii],Vn))return ii;return-1}function bu($n){return $n!==$n}function wu($n,Vn){var zn=$n==null?0:$n.length;return zn?Ja($n,Vn)/zn:En}function Ya($n){return function(Vn){return Vn==null?d:Vn[$n]}}function Za($n){return function(Vn){return $n==null?d:$n[Vn]}}function vu($n,Vn,zn,Xn,ii){return ii($n,function(di,Fi,gi){zn=Xn?(Xn=!1,di):Vn(zn,di,Fi,gi)}),zn}function Wf($n,Vn){var zn=$n.length;for($n.sort(Vn);zn--;)$n[zn]=$n[zn].value;return $n}function Ja($n,Vn){for(var zn,Xn=-1,ii=$n.length;++Xn<ii;){var di=Vn($n[Xn]);di!==d&&(zn=zn===d?di:zn+di)}return zn}function Qa($n,Vn){for(var zn=-1,Xn=Array($n);++zn<$n;)Xn[zn]=Vn(zn);return Xn}function Gf($n,Vn){return wi(Vn,function(zn){return[zn,$n[zn]]})}function Su($n){return $n&&$n.slice(0,Ou($n)+1).replace(bi,"")}function to($n){return function(Vn){return $n(Vn)}}function Xa($n,Vn){return wi(Vn,function(zn){return $n[zn]})}function ks($n,Vn){return $n.has(Vn)}function Au($n,Vn){for(var zn=-1,Xn=$n.length;++zn<Xn&&rs(Vn,$n[zn],0)>-1;);return zn}function Eu($n,Vn){for(var zn=$n.length;zn--&&rs(Vn,$n[zn],0)>-1;);return zn}function Yf($n,Vn){for(var zn=$n.length,Xn=0;zn--;)$n[zn]===Vn&&++Xn;return Xn}var Zf=Za(Bf),Jf=Za(Cf);function Qf($n){return"\\"+Lf[$n]}function Xf($n,Vn){return $n==null?d:$n[Vn]}function ns($n){return kf.test($n)}function ed($n){return Rf.test($n)}function td($n){for(var Vn,zn=[];!(Vn=$n.next()).done;)zn.push(Vn.value);return zn}function ec($n){var Vn=-1,zn=Array($n.size);return $n.forEach(function(Xn,ii){zn[++Vn]=[ii,Xn]}),zn}function Iu($n,Vn){return function(zn){return $n(Vn(zn))}}function Mo($n,Vn){for(var zn=-1,Xn=$n.length,ii=0,di=[];++zn<Xn;){var Fi=$n[zn];(Fi===Vn||Fi===xr)&&($n[zn]=xr,di[ii++]=zn)}return di}function ta($n){var Vn=-1,zn=Array($n.size);return $n.forEach(function(Xn){zn[++Vn]=Xn}),zn}function rd($n){var Vn=-1,zn=Array($n.size);return $n.forEach(function(Xn){zn[++Vn]=[Xn,Xn]}),zn}function nd($n,Vn,zn){for(var Xn=zn-1,ii=$n.length;++Xn<ii;)if($n[Xn]===Vn)return Xn;return-1}function id($n,Vn,zn){for(var Xn=zn+1;Xn--;)if($n[Xn]===Vn)return Xn;return Xn}function os($n){return ns($n)?sd($n):zf($n)}function go($n){return ns($n)?ad($n):Hf($n)}function Ou($n){for(var Vn=$n.length;Vn--&&$i.test($n.charAt(Vn)););return Vn}var od=Za(Mf);function sd($n){for(var Vn=za.lastIndex=0;za.test($n);)++Vn;return Vn}function ad($n){return $n.match(za)||[]}function cd($n){return $n.match(Tf)||[]}var ud=function $n(Vn){Vn=Vn==null?zi:ss.defaults(zi.Object(),Vn,ss.pick(zi,$f));var zn=Vn.Array,Xn=Vn.Date,ii=Vn.Error,di=Vn.Function,Fi=Vn.Math,gi=Vn.Object,tc=Vn.RegExp,ld=Vn.String,co=Vn.TypeError,ra=zn.prototype,fd=di.prototype,as=gi.prototype,na=Vn["__core-js_shared__"],ia=fd.toString,pi=as.hasOwnProperty,dd=0,xu=function(){var vr=/[^.]+$/.exec(na&&na.keys&&na.keys.IE_PROTO||"");return vr?"Symbol(src)_1."+vr:""}(),oa=as.toString,hd=ia.call(gi),pd=zi._,gd=tc("^"+ia.call(pi).replace(_i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sa=lu?Vn.Buffer:d,Lo=Vn.Symbol,aa=Vn.Uint8Array,Tu=sa?sa.allocUnsafe:d,ca=Iu(gi.getPrototypeOf,gi),ku=gi.create,Ru=as.propertyIsEnumerable,ua=ra.splice,$u=Lo?Lo.isConcatSpreadable:d,Rs=Lo?Lo.iterator:d,zo=Lo?Lo.toStringTag:d,la=function(){try{var vr=Go(gi,"defineProperty");return vr({},"",{}),vr}catch{}}(),yd=Vn.clearTimeout!==zi.clearTimeout&&Vn.clearTimeout,md=Xn&&Xn.now!==zi.Date.now&&Xn.now,_d=Vn.setTimeout!==zi.setTimeout&&Vn.setTimeout,fa=Fi.ceil,da=Fi.floor,rc=gi.getOwnPropertySymbols,bd=sa?sa.isBuffer:d,Pu=Vn.isFinite,wd=ra.join,vd=Iu(gi.keys,gi),ji=Fi.max,Vi=Fi.min,Sd=Xn.now,Ad=Vn.parseInt,Bu=Fi.random,Ed=ra.reverse,nc=Go(Vn,"DataView"),$s=Go(Vn,"Map"),ic=Go(Vn,"Promise"),cs=Go(Vn,"Set"),Ps=Go(Vn,"WeakMap"),Bs=Go(gi,"create"),ha=Ps&&new Ps,us={},Id=Yo(nc),Od=Yo($s),xd=Yo(ic),Td=Yo(cs),kd=Yo(Ps),pa=Lo?Lo.prototype:d,Cs=pa?pa.valueOf:d,Cu=pa?pa.toString:d;function cn(vr){if(Ni(vr)&&!oi(vr)&&!(vr instanceof li)){if(vr instanceof uo)return vr;if(pi.call(vr,"__wrapped__"))return Ml(vr)}return new uo(vr)}var ls=function(){function vr(){}return function(Ir){if(!Ii(Ir))return{};if(ku)return ku(Ir);vr.prototype=Ir;var $r=new vr;return vr.prototype=d,$r}}();function ga(){}function uo(vr,Ir){this.__wrapped__=vr,this.__actions__=[],this.__chain__=!!Ir,this.__index__=0,this.__values__=d}cn.templateSettings={escape:Ti,evaluate:qs,interpolate:Ai,variable:"",imports:{_:cn}},cn.prototype=ga.prototype,cn.prototype.constructor=cn,uo.prototype=ls(ga.prototype),uo.prototype.constructor=uo;function li(vr){this.__wrapped__=vr,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qr,this.__views__=[]}function Rd(){var vr=new li(this.__wrapped__);return vr.__actions__=Zi(this.__actions__),vr.__dir__=this.__dir__,vr.__filtered__=this.__filtered__,vr.__iteratees__=Zi(this.__iteratees__),vr.__takeCount__=this.__takeCount__,vr.__views__=Zi(this.__views__),vr}function $d(){if(this.__filtered__){var vr=new li(this);vr.__dir__=-1,vr.__filtered__=!0}else vr=this.clone(),vr.__dir__*=-1;return vr}function Pd(){var vr=this.__wrapped__.value(),Ir=this.__dir__,$r=oi(vr),Kr=Ir<0,en=$r?vr.length:0,un=Hh(0,en,this.__views__),An=un.start,Tn=un.end,Pn=Tn-An,qn=Kr?Tn:An-1,Wn=this.__iteratees__,Zn=Wn.length,Qn=0,ei=Vi(Pn,this.__takeCount__);if(!$r||!Kr&&en==Pn&&ei==Pn)return il(vr,this.__actions__);var ri=[];e:for(;Pn--&&Qn<ei;){qn+=Ir;for(var ai=-1,ni=vr[qn];++ai<Zn;){var ui=Wn[ai],fi=ui.iteratee,io=ui.type,Yi=fi(ni);if(io==Lr)ni=Yi;else if(!Yi){if(io==Rr)continue e;break e}}ri[Qn++]=ni}return ri}li.prototype=ls(ga.prototype),li.prototype.constructor=li;function Ho(vr){var Ir=-1,$r=vr==null?0:vr.length;for(this.clear();++Ir<$r;){var Kr=vr[Ir];this.set(Kr[0],Kr[1])}}function Bd(){this.__data__=Bs?Bs(null):{},this.size=0}function Cd(vr){var Ir=this.has(vr)&&delete this.__data__[vr];return this.size-=Ir?1:0,Ir}function Md(vr){var Ir=this.__data__;if(Bs){var $r=Ir[vr];return $r===Er?d:$r}return pi.call(Ir,vr)?Ir[vr]:d}function Ld(vr){var Ir=this.__data__;return Bs?Ir[vr]!==d:pi.call(Ir,vr)}function Nd(vr,Ir){var $r=this.__data__;return this.size+=this.has(vr)?0:1,$r[vr]=Bs&&Ir===d?Er:Ir,this}Ho.prototype.clear=Bd,Ho.prototype.delete=Cd,Ho.prototype.get=Md,Ho.prototype.has=Ld,Ho.prototype.set=Nd;function So(vr){var Ir=-1,$r=vr==null?0:vr.length;for(this.clear();++Ir<$r;){var Kr=vr[Ir];this.set(Kr[0],Kr[1])}}function Dd(){this.__data__=[],this.size=0}function Ud(vr){var Ir=this.__data__,$r=ya(Ir,vr);if($r<0)return!1;var Kr=Ir.length-1;return $r==Kr?Ir.pop():ua.call(Ir,$r,1),--this.size,!0}function Fd(vr){var Ir=this.__data__,$r=ya(Ir,vr);return $r<0?d:Ir[$r][1]}function jd(vr){return ya(this.__data__,vr)>-1}function Kd(vr,Ir){var $r=this.__data__,Kr=ya($r,vr);return Kr<0?(++this.size,$r.push([vr,Ir])):$r[Kr][1]=Ir,this}So.prototype.clear=Dd,So.prototype.delete=Ud,So.prototype.get=Fd,So.prototype.has=jd,So.prototype.set=Kd;function Ao(vr){var Ir=-1,$r=vr==null?0:vr.length;for(this.clear();++Ir<$r;){var Kr=vr[Ir];this.set(Kr[0],Kr[1])}}function zd(){this.size=0,this.__data__={hash:new Ho,map:new($s||So),string:new Ho}}function Hd(vr){var Ir=ka(this,vr).delete(vr);return this.size-=Ir?1:0,Ir}function Vd(vr){return ka(this,vr).get(vr)}function qd(vr){return ka(this,vr).has(vr)}function Wd(vr,Ir){var $r=ka(this,vr),Kr=$r.size;return $r.set(vr,Ir),this.size+=$r.size==Kr?0:1,this}Ao.prototype.clear=zd,Ao.prototype.delete=Hd,Ao.prototype.get=Vd,Ao.prototype.has=qd,Ao.prototype.set=Wd;function Vo(vr){var Ir=-1,$r=vr==null?0:vr.length;for(this.__data__=new Ao;++Ir<$r;)this.add(vr[Ir])}function Gd(vr){return this.__data__.set(vr,Er),this}function Yd(vr){return this.__data__.has(vr)}Vo.prototype.add=Vo.prototype.push=Gd,Vo.prototype.has=Yd;function yo(vr){var Ir=this.__data__=new So(vr);this.size=Ir.size}function Zd(){this.__data__=new So,this.size=0}function Jd(vr){var Ir=this.__data__,$r=Ir.delete(vr);return this.size=Ir.size,$r}function Qd(vr){return this.__data__.get(vr)}function Xd(vr){return this.__data__.has(vr)}function eh(vr,Ir){var $r=this.__data__;if($r instanceof So){var Kr=$r.__data__;if(!$s||Kr.length<gr-1)return Kr.push([vr,Ir]),this.size=++$r.size,this;$r=this.__data__=new Ao(Kr)}return $r.set(vr,Ir),this.size=$r.size,this}yo.prototype.clear=Zd,yo.prototype.delete=Jd,yo.prototype.get=Qd,yo.prototype.has=Xd,yo.prototype.set=eh;function Mu(vr,Ir){var $r=oi(vr),Kr=!$r&&Zo(vr),en=!$r&&!Kr&&jo(vr),un=!$r&&!Kr&&!en&&ps(vr),An=$r||Kr||en||un,Tn=An?Qa(vr.length,ld):[],Pn=Tn.length;for(var qn in vr)(Ir||pi.call(vr,qn))&&!(An&&(qn=="length"||en&&(qn=="offset"||qn=="parent")||un&&(qn=="buffer"||qn=="byteLength"||qn=="byteOffset")||xo(qn,Pn)))&&Tn.push(qn);return Tn}function Lu(vr){var Ir=vr.length;return Ir?vr[gc(0,Ir-1)]:d}function th(vr,Ir){return Ra(Zi(vr),qo(Ir,0,vr.length))}function rh(vr){return Ra(Zi(vr))}function oc(vr,Ir,$r){($r!==d&&!mo(vr[Ir],$r)||$r===d&&!(Ir in vr))&&Eo(vr,Ir,$r)}function Ms(vr,Ir,$r){var Kr=vr[Ir];(!(pi.call(vr,Ir)&&mo(Kr,$r))||$r===d&&!(Ir in vr))&&Eo(vr,Ir,$r)}function ya(vr,Ir){for(var $r=vr.length;$r--;)if(mo(vr[$r][0],Ir))return $r;return-1}function nh(vr,Ir,$r,Kr){return No(vr,function(en,un,An){Ir(Kr,en,$r(en),An)}),Kr}function Nu(vr,Ir){return vr&&wo(Ir,Ki(Ir),vr)}function ih(vr,Ir){return vr&&wo(Ir,Qi(Ir),vr)}function Eo(vr,Ir,$r){Ir=="__proto__"&&la?la(vr,Ir,{configurable:!0,enumerable:!0,value:$r,writable:!0}):vr[Ir]=$r}function sc(vr,Ir){for(var $r=-1,Kr=Ir.length,en=zn(Kr),un=vr==null;++$r<Kr;)en[$r]=un?d:Fc(vr,Ir[$r]);return en}function qo(vr,Ir,$r){return vr===vr&&($r!==d&&(vr=vr<=$r?vr:$r),Ir!==d&&(vr=vr>=Ir?vr:Ir)),vr}function lo(vr,Ir,$r,Kr,en,un){var An,Tn=Ir&kr,Pn=Ir&Mr,qn=Ir&Cr;if($r&&(An=en?$r(vr,Kr,en,un):$r(vr)),An!==d)return An;if(!Ii(vr))return vr;var Wn=oi(vr);if(Wn){if(An=qh(vr),!Tn)return Zi(vr,An)}else{var Zn=qi(vr),Qn=Zn==Cn||Zn==ln;if(jo(vr))return al(vr,Tn);if(Zn==kn||Zn==on||Qn&&!en){if(An=Pn||Qn?{}:Ol(vr),!Tn)return Pn?Mh(vr,ih(An,vr)):Ch(vr,Nu(An,vr))}else{if(!yi[Zn])return en?vr:{};An=Wh(vr,Zn,Tn)}}un||(un=new yo);var ei=un.get(vr);if(ei)return ei;un.set(vr,An),tf(vr)?vr.forEach(function(ni){An.add(lo(ni,Ir,$r,ni,vr,un))}):Xl(vr)&&vr.forEach(function(ni,ui){An.set(ui,lo(ni,Ir,$r,ui,vr,un))});var ri=qn?Pn?Oc:Ic:Pn?Qi:Ki,ai=Wn?d:ri(vr);return ao(ai||vr,function(ni,ui){ai&&(ui=ni,ni=vr[ui]),Ms(An,ui,lo(ni,Ir,$r,ui,vr,un))}),An}function oh(vr){var Ir=Ki(vr);return function($r){return Du($r,vr,Ir)}}function Du(vr,Ir,$r){var Kr=$r.length;if(vr==null)return!Kr;for(vr=gi(vr);Kr--;){var en=$r[Kr],un=Ir[en],An=vr[en];if(An===d&&!(en in vr)||!un(An))return!1}return!0}function Uu(vr,Ir,$r){if(typeof vr!="function")throw new co(br);return Ks(function(){vr.apply(d,$r)},Ir)}function Ls(vr,Ir,$r,Kr){var en=-1,un=Xs,An=!0,Tn=vr.length,Pn=[],qn=Ir.length;if(!Tn)return Pn;$r&&(Ir=wi(Ir,to($r))),Kr?(un=qa,An=!1):Ir.length>=gr&&(un=ks,An=!1,Ir=new Vo(Ir));e:for(;++en<Tn;){var Wn=vr[en],Zn=$r==null?Wn:$r(Wn);if(Wn=Kr||Wn!==0?Wn:0,An&&Zn===Zn){for(var Qn=qn;Qn--;)if(Ir[Qn]===Zn)continue e;Pn.push(Wn)}else un(Ir,Zn,Kr)||Pn.push(Wn)}return Pn}var No=dl(bo),Fu=dl(cc,!0);function sh(vr,Ir){var $r=!0;return No(vr,function(Kr,en,un){return $r=!!Ir(Kr,en,un),$r}),$r}function ma(vr,Ir,$r){for(var Kr=-1,en=vr.length;++Kr<en;){var un=vr[Kr],An=Ir(un);if(An!=null&&(Tn===d?An===An&&!no(An):$r(An,Tn)))var Tn=An,Pn=un}return Pn}function ah(vr,Ir,$r,Kr){var en=vr.length;for($r=si($r),$r<0&&($r=-$r>en?0:en+$r),Kr=Kr===d||Kr>en?en:si(Kr),Kr<0&&(Kr+=en),Kr=$r>Kr?0:nf(Kr);$r<Kr;)vr[$r++]=Ir;return vr}function ju(vr,Ir){var $r=[];return No(vr,function(Kr,en,un){Ir(Kr,en,un)&&$r.push(Kr)}),$r}function Hi(vr,Ir,$r,Kr,en){var un=-1,An=vr.length;for($r||($r=Yh),en||(en=[]);++un<An;){var Tn=vr[un];Ir>0&&$r(Tn)?Ir>1?Hi(Tn,Ir-1,$r,Kr,en):Co(en,Tn):Kr||(en[en.length]=Tn)}return en}var ac=hl(),Ku=hl(!0);function bo(vr,Ir){return vr&&ac(vr,Ir,Ki)}function cc(vr,Ir){return vr&&Ku(vr,Ir,Ki)}function ba(vr,Ir){return Bo(Ir,function($r){return To(vr[$r])})}function Wo(vr,Ir){Ir=Uo(Ir,vr);for(var $r=0,Kr=Ir.length;vr!=null&&$r<Kr;)vr=vr[vo(Ir[$r++])];return $r&&$r==Kr?vr:d}function zu(vr,Ir,$r){var Kr=Ir(vr);return oi(vr)?Kr:Co(Kr,$r(vr))}function Wi(vr){return vr==null?vr===d?Rn:Nn:zo&&zo in gi(vr)?zh(vr):rp(vr)}function uc(vr,Ir){return vr>Ir}function ch(vr,Ir){return vr!=null&&pi.call(vr,Ir)}function uh(vr,Ir){return vr!=null&&Ir in gi(vr)}function lh(vr,Ir,$r){return vr>=Vi(Ir,$r)&&vr<ji(Ir,$r)}function lc(vr,Ir,$r){for(var Kr=$r?qa:Xs,en=vr[0].length,un=vr.length,An=un,Tn=zn(un),Pn=1/0,qn=[];An--;){var Wn=vr[An];An&&Ir&&(Wn=wi(Wn,to(Ir))),Pn=Vi(Wn.length,Pn),Tn[An]=!$r&&(Ir||en>=120&&Wn.length>=120)?new Vo(An&&Wn):d}Wn=vr[0];var Zn=-1,Qn=Tn[0];e:for(;++Zn<en&&qn.length<Pn;){var ei=Wn[Zn],ri=Ir?Ir(ei):ei;if(ei=$r||ei!==0?ei:0,!(Qn?ks(Qn,ri):Kr(qn,ri,$r))){for(An=un;--An;){var ai=Tn[An];if(!(ai?ks(ai,ri):Kr(vr[An],ri,$r)))continue e}Qn&&Qn.push(ri),qn.push(ei)}}return qn}function fh(vr,Ir,$r,Kr){return bo(vr,function(en,un,An){Ir(Kr,$r(en),un,An)}),Kr}function Ns(vr,Ir,$r){Ir=Uo(Ir,vr),vr=Rl(vr,Ir);var Kr=vr==null?vr:vr[vo(ho(Ir))];return Kr==null?d:eo(Kr,vr,$r)}function Hu(vr){return Ni(vr)&&Wi(vr)==on}function dh(vr){return Ni(vr)&&Wi(vr)==Tr}function hh(vr){return Ni(vr)&&Wi(vr)==In}function Ds(vr,Ir,$r,Kr,en){return vr===Ir?!0:vr==null||Ir==null||!Ni(vr)&&!Ni(Ir)?vr!==vr&&Ir!==Ir:ph(vr,Ir,$r,Kr,Ds,en)}function ph(vr,Ir,$r,Kr,en,un){var An=oi(vr),Tn=oi(Ir),Pn=An?sn:qi(vr),qn=Tn?sn:qi(Ir);Pn=Pn==on?kn:Pn,qn=qn==on?kn:qn;var Wn=Pn==kn,Zn=qn==kn,Qn=Pn==qn;if(Qn&&jo(vr)){if(!jo(Ir))return!1;An=!0,Wn=!1}if(Qn&&!Wn)return un||(un=new yo),An||ps(vr)?Al(vr,Ir,$r,Kr,en,un):jh(vr,Ir,Pn,$r,Kr,en,un);if(!($r&Nr)){var ei=Wn&&pi.call(vr,"__wrapped__"),ri=Zn&&pi.call(Ir,"__wrapped__");if(ei||ri){var ai=ei?vr.value():vr,ni=ri?Ir.value():Ir;return un||(un=new yo),en(ai,ni,$r,Kr,un)}}return Qn?(un||(un=new yo),Kh(vr,Ir,$r,Kr,en,un)):!1}function gh(vr){return Ni(vr)&&qi(vr)==pn}function fc(vr,Ir,$r,Kr){var en=$r.length,un=en,An=!Kr;if(vr==null)return!un;for(vr=gi(vr);en--;){var Tn=$r[en];if(An&&Tn[2]?Tn[1]!==vr[Tn[0]]:!(Tn[0]in vr))return!1}for(;++en<un;){Tn=$r[en];var Pn=Tn[0],qn=vr[Pn],Wn=Tn[1];if(An&&Tn[2]){if(qn===d&&!(Pn in vr))return!1}else{var Zn=new yo;if(Kr)var Qn=Kr(qn,Wn,Pn,vr,Ir,Zn);if(!(Qn===d?Ds(Wn,qn,Nr|Ur,Kr,Zn):Qn))return!1}}return!0}function Vu(vr){if(!Ii(vr)||Jh(vr))return!1;var Ir=To(vr)?gd:ms;return Ir.test(Yo(vr))}function yh(vr){return Ni(vr)&&Wi(vr)==Un}function mh(vr){return Ni(vr)&&qi(vr)==Dn}function _h(vr){return Ni(vr)&&La(vr.length)&&!!mi[Wi(vr)]}function qu(vr){return typeof vr=="function"?vr:vr==null?Xi:typeof vr=="object"?oi(vr)?Yu(vr[0],vr[1]):Gu(vr):gf(vr)}function dc(vr){if(!js(vr))return vd(vr);var Ir=[];for(var $r in gi(vr))pi.call(vr,$r)&&$r!="constructor"&&Ir.push($r);return Ir}function bh(vr){if(!Ii(vr))return tp(vr);var Ir=js(vr),$r=[];for(var Kr in vr)Kr=="constructor"&&(Ir||!pi.call(vr,Kr))||$r.push(Kr);return $r}function hc(vr,Ir){return vr<Ir}function Wu(vr,Ir){var $r=-1,Kr=Ji(vr)?zn(vr.length):[];return No(vr,function(en,un,An){Kr[++$r]=Ir(en,un,An)}),Kr}function Gu(vr){var Ir=Tc(vr);return Ir.length==1&&Ir[0][2]?Tl(Ir[0][0],Ir[0][1]):function($r){return $r===vr||fc($r,vr,Ir)}}function Yu(vr,Ir){return Rc(vr)&&xl(Ir)?Tl(vo(vr),Ir):function($r){var Kr=Fc($r,vr);return Kr===d&&Kr===Ir?jc($r,vr):Ds(Ir,Kr,Nr|Ur)}}function wa(vr,Ir,$r,Kr,en){vr!==Ir&&ac(Ir,function(un,An){if(en||(en=new yo),Ii(un))wh(vr,Ir,An,$r,wa,Kr,en);else{var Tn=Kr?Kr(Pc(vr,An),un,An+"",vr,Ir,en):d;Tn===d&&(Tn=un),oc(vr,An,Tn)}},Qi)}function wh(vr,Ir,$r,Kr,en,un,An){var Tn=Pc(vr,$r),Pn=Pc(Ir,$r),qn=An.get(Pn);if(qn){oc(vr,$r,qn);return}var Wn=un?un(Tn,Pn,$r+"",vr,Ir,An):d,Zn=Wn===d;if(Zn){var Qn=oi(Pn),ei=!Qn&&jo(Pn),ri=!Qn&&!ei&&ps(Pn);Wn=Pn,Qn||ei||ri?oi(Tn)?Wn=Tn:Di(Tn)?Wn=Zi(Tn):ei?(Zn=!1,Wn=al(Pn,!0)):ri?(Zn=!1,Wn=cl(Pn,!0)):Wn=[]:zs(Pn)||Zo(Pn)?(Wn=Tn,Zo(Tn)?Wn=of(Tn):(!Ii(Tn)||To(Tn))&&(Wn=Ol(Pn))):Zn=!1}Zn&&(An.set(Pn,Wn),en(Wn,Pn,Kr,un,An),An.delete(Pn)),oc(vr,$r,Wn)}function Zu(vr,Ir){var $r=vr.length;if(!!$r)return Ir+=Ir<0?$r:0,xo(Ir,$r)?vr[Ir]:d}function Ju(vr,Ir,$r){Ir.length?Ir=wi(Ir,function(un){return oi(un)?function(An){return Wo(An,un.length===1?un[0]:un)}:un}):Ir=[Xi];var Kr=-1;Ir=wi(Ir,to(ti()));var en=Wu(vr,function(un,An,Tn){var Pn=wi(Ir,function(qn){return qn(un)});return{criteria:Pn,index:++Kr,value:un}});return Wf(en,function(un,An){return Bh(un,An,$r)})}function vh(vr,Ir){return Qu(vr,Ir,function($r,Kr){return jc(vr,Kr)})}function Qu(vr,Ir,$r){for(var Kr=-1,en=Ir.length,un={};++Kr<en;){var An=Ir[Kr],Tn=Wo(vr,An);$r(Tn,An)&&Us(un,Uo(An,vr),Tn)}return un}function Sh(vr){return function(Ir){return Wo(Ir,vr)}}function pc(vr,Ir,$r,Kr){var en=Kr?qf:rs,un=-1,An=Ir.length,Tn=vr;for(vr===Ir&&(Ir=Zi(Ir)),$r&&(Tn=wi(vr,to($r)));++un<An;)for(var Pn=0,qn=Ir[un],Wn=$r?$r(qn):qn;(Pn=en(Tn,Wn,Pn,Kr))>-1;)Tn!==vr&&ua.call(Tn,Pn,1),ua.call(vr,Pn,1);return vr}function Xu(vr,Ir){for(var $r=vr?Ir.length:0,Kr=$r-1;$r--;){var en=Ir[$r];if($r==Kr||en!==un){var un=en;xo(en)?ua.call(vr,en,1):_c(vr,en)}}return vr}function gc(vr,Ir){return vr+da(Bu()*(Ir-vr+1))}function Ah(vr,Ir,$r,Kr){for(var en=-1,un=ji(fa((Ir-vr)/($r||1)),0),An=zn(un);un--;)An[Kr?un:++en]=vr,vr+=$r;return An}function yc(vr,Ir){var $r="";if(!vr||Ir<1||Ir>Xr)return $r;do Ir%2&&($r+=vr),Ir=da(Ir/2),Ir&&(vr+=vr);while(Ir);return $r}function ci(vr,Ir){return Bc(kl(vr,Ir,Xi),vr+"")}function Eh(vr){return Lu(gs(vr))}function Ih(vr,Ir){var $r=gs(vr);return Ra($r,qo(Ir,0,$r.length))}function Us(vr,Ir,$r,Kr){if(!Ii(vr))return vr;Ir=Uo(Ir,vr);for(var en=-1,un=Ir.length,An=un-1,Tn=vr;Tn!=null&&++en<un;){var Pn=vo(Ir[en]),qn=$r;if(Pn==="__proto__"||Pn==="constructor"||Pn==="prototype")return vr;if(en!=An){var Wn=Tn[Pn];qn=Kr?Kr(Wn,Pn,Tn):d,qn===d&&(qn=Ii(Wn)?Wn:xo(Ir[en+1])?[]:{})}Ms(Tn,Pn,qn),Tn=Tn[Pn]}return vr}var el=ha?function(vr,Ir){return ha.set(vr,Ir),vr}:Xi,Oh=la?function(vr,Ir){return la(vr,"toString",{configurable:!0,enumerable:!1,value:zc(Ir),writable:!0})}:Xi;function xh(vr){return Ra(gs(vr))}function fo(vr,Ir,$r){var Kr=-1,en=vr.length;Ir<0&&(Ir=-Ir>en?0:en+Ir),$r=$r>en?en:$r,$r<0&&($r+=en),en=Ir>$r?0:$r-Ir>>>0,Ir>>>=0;for(var un=zn(en);++Kr<en;)un[Kr]=vr[Kr+Ir];return un}function Th(vr,Ir){var $r;return No(vr,function(Kr,en,un){return $r=Ir(Kr,en,un),!$r}),!!$r}function va(vr,Ir,$r){var Kr=0,en=vr==null?Kr:vr.length;if(typeof Ir=="number"&&Ir===Ir&&en<=Hr){for(;Kr<en;){var un=Kr+en>>>1,An=vr[un];An!==null&&!no(An)&&($r?An<=Ir:An<Ir)?Kr=un+1:en=un}return en}return mc(vr,Ir,Xi,$r)}function mc(vr,Ir,$r,Kr){var en=0,un=vr==null?0:vr.length;if(un===0)return 0;Ir=$r(Ir);for(var An=Ir!==Ir,Tn=Ir===null,Pn=no(Ir),qn=Ir===d;en<un;){var Wn=da((en+un)/2),Zn=$r(vr[Wn]),Qn=Zn!==d,ei=Zn===null,ri=Zn===Zn,ai=no(Zn);if(An)var ni=Kr||ri;else qn?ni=ri&&(Kr||Qn):Tn?ni=ri&&Qn&&(Kr||!ei):Pn?ni=ri&&Qn&&!ei&&(Kr||!ai):ei||ai?ni=!1:ni=Kr?Zn<=Ir:Zn<Ir;ni?en=Wn+1:un=Wn}return Vi(un,Br)}function tl(vr,Ir){for(var $r=-1,Kr=vr.length,en=0,un=[];++$r<Kr;){var An=vr[$r],Tn=Ir?Ir(An):An;if(!$r||!mo(Tn,Pn)){var Pn=Tn;un[en++]=An===0?0:An}}return un}function rl(vr){return typeof vr=="number"?vr:no(vr)?En:+vr}function ro(vr){if(typeof vr=="string")return vr;if(oi(vr))return wi(vr,ro)+"";if(no(vr))return Cu?Cu.call(vr):"";var Ir=vr+"";return Ir=="0"&&1/vr==-Yr?"-0":Ir}function Do(vr,Ir,$r){var Kr=-1,en=Xs,un=vr.length,An=!0,Tn=[],Pn=Tn;if($r)An=!1,en=qa;else if(un>=gr){var qn=Ir?null:Uh(vr);if(qn)return ta(qn);An=!1,en=ks,Pn=new Vo}else Pn=Ir?[]:Tn;e:for(;++Kr<un;){var Wn=vr[Kr],Zn=Ir?Ir(Wn):Wn;if(Wn=$r||Wn!==0?Wn:0,An&&Zn===Zn){for(var Qn=Pn.length;Qn--;)if(Pn[Qn]===Zn)continue e;Ir&&Pn.push(Zn),Tn.push(Wn)}else en(Pn,Zn,$r)||(Pn!==Tn&&Pn.push(Zn),Tn.push(Wn))}return Tn}function _c(vr,Ir){return Ir=Uo(Ir,vr),vr=Rl(vr,Ir),vr==null||delete vr[vo(ho(Ir))]}function nl(vr,Ir,$r,Kr){return Us(vr,Ir,$r(Wo(vr,Ir)),Kr)}function Sa(vr,Ir,$r,Kr){for(var en=vr.length,un=Kr?en:-1;(Kr?un--:++un<en)&&Ir(vr[un],un,vr););return $r?fo(vr,Kr?0:un,Kr?un+1:en):fo(vr,Kr?un+1:0,Kr?en:un)}function il(vr,Ir){var $r=vr;return $r instanceof li&&($r=$r.value()),Wa(Ir,function(Kr,en){return en.func.apply(en.thisArg,Co([Kr],en.args))},$r)}function bc(vr,Ir,$r){var Kr=vr.length;if(Kr<2)return Kr?Do(vr[0]):[];for(var en=-1,un=zn(Kr);++en<Kr;)for(var An=vr[en],Tn=-1;++Tn<Kr;)Tn!=en&&(un[en]=Ls(un[en]||An,vr[Tn],Ir,$r));return Do(Hi(un,1),Ir,$r)}function ol(vr,Ir,$r){for(var Kr=-1,en=vr.length,un=Ir.length,An={};++Kr<en;){var Tn=Kr<un?Ir[Kr]:d;$r(An,vr[Kr],Tn)}return An}function wc(vr){return Di(vr)?vr:[]}function vc(vr){return typeof vr=="function"?vr:Xi}function Uo(vr,Ir){return oi(vr)?vr:Rc(vr,Ir)?[vr]:Cl(hi(vr))}var kh=ci;function Fo(vr,Ir,$r){var Kr=vr.length;return $r=$r===d?Kr:$r,!Ir&&$r>=Kr?vr:fo(vr,Ir,$r)}var sl=yd||function(vr){return zi.clearTimeout(vr)};function al(vr,Ir){if(Ir)return vr.slice();var $r=vr.length,Kr=Tu?Tu($r):new vr.constructor($r);return vr.copy(Kr),Kr}function Sc(vr){var Ir=new vr.constructor(vr.byteLength);return new aa(Ir).set(new aa(vr)),Ir}function Rh(vr,Ir){var $r=Ir?Sc(vr.buffer):vr.buffer;return new vr.constructor($r,vr.byteOffset,vr.byteLength)}function $h(vr){var Ir=new vr.constructor(vr.source,Ei.exec(vr));return Ir.lastIndex=vr.lastIndex,Ir}function Ph(vr){return Cs?gi(Cs.call(vr)):{}}function cl(vr,Ir){var $r=Ir?Sc(vr.buffer):vr.buffer;return new vr.constructor($r,vr.byteOffset,vr.length)}function ul(vr,Ir){if(vr!==Ir){var $r=vr!==d,Kr=vr===null,en=vr===vr,un=no(vr),An=Ir!==d,Tn=Ir===null,Pn=Ir===Ir,qn=no(Ir);if(!Tn&&!qn&&!un&&vr>Ir||un&&An&&Pn&&!Tn&&!qn||Kr&&An&&Pn||!$r&&Pn||!en)return 1;if(!Kr&&!un&&!qn&&vr<Ir||qn&&$r&&en&&!Kr&&!un||Tn&&$r&&en||!An&&en||!Pn)return-1}return 0}function Bh(vr,Ir,$r){for(var Kr=-1,en=vr.criteria,un=Ir.criteria,An=en.length,Tn=$r.length;++Kr<An;){var Pn=ul(en[Kr],un[Kr]);if(Pn){if(Kr>=Tn)return Pn;var qn=$r[Kr];return Pn*(qn=="desc"?-1:1)}}return vr.index-Ir.index}function ll(vr,Ir,$r,Kr){for(var en=-1,un=vr.length,An=$r.length,Tn=-1,Pn=Ir.length,qn=ji(un-An,0),Wn=zn(Pn+qn),Zn=!Kr;++Tn<Pn;)Wn[Tn]=Ir[Tn];for(;++en<An;)(Zn||en<un)&&(Wn[$r[en]]=vr[en]);for(;qn--;)Wn[Tn++]=vr[en++];return Wn}function fl(vr,Ir,$r,Kr){for(var en=-1,un=vr.length,An=-1,Tn=$r.length,Pn=-1,qn=Ir.length,Wn=ji(un-Tn,0),Zn=zn(Wn+qn),Qn=!Kr;++en<Wn;)Zn[en]=vr[en];for(var ei=en;++Pn<qn;)Zn[ei+Pn]=Ir[Pn];for(;++An<Tn;)(Qn||en<un)&&(Zn[ei+$r[An]]=vr[en++]);return Zn}function Zi(vr,Ir){var $r=-1,Kr=vr.length;for(Ir||(Ir=zn(Kr));++$r<Kr;)Ir[$r]=vr[$r];return Ir}function wo(vr,Ir,$r,Kr){var en=!$r;$r||($r={});for(var un=-1,An=Ir.length;++un<An;){var Tn=Ir[un],Pn=Kr?Kr($r[Tn],vr[Tn],Tn,$r,vr):d;Pn===d&&(Pn=vr[Tn]),en?Eo($r,Tn,Pn):Ms($r,Tn,Pn)}return $r}function Ch(vr,Ir){return wo(vr,kc(vr),Ir)}function Mh(vr,Ir){return wo(vr,El(vr),Ir)}function Aa(vr,Ir){return function($r,Kr){var en=oi($r)?Ff:nh,un=Ir?Ir():{};return en($r,vr,ti(Kr,2),un)}}function fs(vr){return ci(function(Ir,$r){var Kr=-1,en=$r.length,un=en>1?$r[en-1]:d,An=en>2?$r[2]:d;for(un=vr.length>3&&typeof un=="function"?(en--,un):d,An&&Gi($r[0],$r[1],An)&&(un=en<3?d:un,en=1),Ir=gi(Ir);++Kr<en;){var Tn=$r[Kr];Tn&&vr(Ir,Tn,Kr,un)}return Ir})}function dl(vr,Ir){return function($r,Kr){if($r==null)return $r;if(!Ji($r))return vr($r,Kr);for(var en=$r.length,un=Ir?en:-1,An=gi($r);(Ir?un--:++un<en)&&Kr(An[un],un,An)!==!1;);return $r}}function hl(vr){return function(Ir,$r,Kr){for(var en=-1,un=gi(Ir),An=Kr(Ir),Tn=An.length;Tn--;){var Pn=An[vr?Tn:++en];if($r(un[Pn],Pn,un)===!1)break}return Ir}}function Lh(vr,Ir,$r){var Kr=Ir&Dr,en=Fs(vr);function un(){var An=this&&this!==zi&&this instanceof un?en:vr;return An.apply(Kr?$r:this,arguments)}return un}function pl(vr){return function(Ir){Ir=hi(Ir);var $r=ns(Ir)?go(Ir):d,Kr=$r?$r[0]:Ir.charAt(0),en=$r?Fo($r,1).join(""):Ir.slice(1);return Kr[vr]()+en}}function ds(vr){return function(Ir){return Wa(hf(df(Ir).replace(Of,"")),vr,"")}}function Fs(vr){return function(){var Ir=arguments;switch(Ir.length){case 0:return new vr;case 1:return new vr(Ir[0]);case 2:return new vr(Ir[0],Ir[1]);case 3:return new vr(Ir[0],Ir[1],Ir[2]);case 4:return new vr(Ir[0],Ir[1],Ir[2],Ir[3]);case 5:return new vr(Ir[0],Ir[1],Ir[2],Ir[3],Ir[4]);case 6:return new vr(Ir[0],Ir[1],Ir[2],Ir[3],Ir[4],Ir[5]);case 7:return new vr(Ir[0],Ir[1],Ir[2],Ir[3],Ir[4],Ir[5],Ir[6])}var $r=ls(vr.prototype),Kr=vr.apply($r,Ir);return Ii(Kr)?Kr:$r}}function Nh(vr,Ir,$r){var Kr=Fs(vr);function en(){for(var un=arguments.length,An=zn(un),Tn=un,Pn=hs(en);Tn--;)An[Tn]=arguments[Tn];var qn=un<3&&An[0]!==Pn&&An[un-1]!==Pn?[]:Mo(An,Pn);if(un-=qn.length,un<$r)return bl(vr,Ir,Ea,en.placeholder,d,An,qn,d,d,$r-un);var Wn=this&&this!==zi&&this instanceof en?Kr:vr;return eo(Wn,this,An)}return en}function gl(vr){return function(Ir,$r,Kr){var en=gi(Ir);if(!Ji(Ir)){var un=ti($r,3);Ir=Ki(Ir),$r=function(Tn){return un(en[Tn],Tn,en)}}var An=vr(Ir,$r,Kr);return An>-1?en[un?Ir[An]:An]:d}}function yl(vr){return Oo(function(Ir){var $r=Ir.length,Kr=$r,en=uo.prototype.thru;for(vr&&Ir.reverse();Kr--;){var un=Ir[Kr];if(typeof un!="function")throw new co(br);if(en&&!An&&Ta(un)=="wrapper")var An=new uo([],!0)}for(Kr=An?Kr:$r;++Kr<$r;){un=Ir[Kr];var Tn=Ta(un),Pn=Tn=="wrapper"?xc(un):d;Pn&&$c(Pn[0])&&Pn[1]==(Qr|Wr|rn|an)&&!Pn[4].length&&Pn[9]==1?An=An[Ta(Pn[0])].apply(An,Pn[3]):An=un.length==1&&$c(un)?An[Tn]():An.thru(un)}return function(){var qn=arguments,Wn=qn[0];if(An&&qn.length==1&&oi(Wn))return An.plant(Wn).value();for(var Zn=0,Qn=$r?Ir[Zn].apply(this,qn):Wn;++Zn<$r;)Qn=Ir[Zn].call(this,Qn);return Qn}})}function Ea(vr,Ir,$r,Kr,en,un,An,Tn,Pn,qn){var Wn=Ir&Qr,Zn=Ir&Dr,Qn=Ir&zr,ei=Ir&(Wr|tn),ri=Ir&mn,ai=Qn?d:Fs(vr);function ni(){for(var ui=arguments.length,fi=zn(ui),io=ui;io--;)fi[io]=arguments[io];if(ei)var Yi=hs(ni),oo=Yf(fi,Yi);if(Kr&&(fi=ll(fi,Kr,en,ei)),un&&(fi=fl(fi,un,An,ei)),ui-=oo,ei&&ui<qn){var Ui=Mo(fi,Yi);return bl(vr,Ir,Ea,ni.placeholder,$r,fi,Ui,Tn,Pn,qn-ui)}var _o=Zn?$r:this,Ro=Qn?_o[vr]:vr;return ui=fi.length,Tn?fi=np(fi,Tn):ri&&ui>1&&fi.reverse(),Wn&&Pn<ui&&(fi.length=Pn),this&&this!==zi&&this instanceof ni&&(Ro=ai||Fs(Ro)),Ro.apply(_o,fi)}return ni}function ml(vr,Ir){return function($r,Kr){return fh($r,vr,Ir(Kr),{})}}function Ia(vr,Ir){return function($r,Kr){var en;if($r===d&&Kr===d)return Ir;if($r!==d&&(en=$r),Kr!==d){if(en===d)return Kr;typeof $r=="string"||typeof Kr=="string"?($r=ro($r),Kr=ro(Kr)):($r=rl($r),Kr=rl(Kr)),en=vr($r,Kr)}return en}}function Ac(vr){return Oo(function(Ir){return Ir=wi(Ir,to(ti())),ci(function($r){var Kr=this;return vr(Ir,function(en){return eo(en,Kr,$r)})})})}function Oa(vr,Ir){Ir=Ir===d?" ":ro(Ir);var $r=Ir.length;if($r<2)return $r?yc(Ir,vr):Ir;var Kr=yc(Ir,fa(vr/os(Ir)));return ns(Ir)?Fo(go(Kr),0,vr).join(""):Kr.slice(0,vr)}function Dh(vr,Ir,$r,Kr){var en=Ir&Dr,un=Fs(vr);function An(){for(var Tn=-1,Pn=arguments.length,qn=-1,Wn=Kr.length,Zn=zn(Wn+Pn),Qn=this&&this!==zi&&this instanceof An?un:vr;++qn<Wn;)Zn[qn]=Kr[qn];for(;Pn--;)Zn[qn++]=arguments[++Tn];return eo(Qn,en?$r:this,Zn)}return An}function _l(vr){return function(Ir,$r,Kr){return Kr&&typeof Kr!="number"&&Gi(Ir,$r,Kr)&&($r=Kr=d),Ir=ko(Ir),$r===d?($r=Ir,Ir=0):$r=ko($r),Kr=Kr===d?Ir<$r?1:-1:ko(Kr),Ah(Ir,$r,Kr,vr)}}function xa(vr){return function(Ir,$r){return typeof Ir=="string"&&typeof $r=="string"||(Ir=po(Ir),$r=po($r)),vr(Ir,$r)}}function bl(vr,Ir,$r,Kr,en,un,An,Tn,Pn,qn){var Wn=Ir&Wr,Zn=Wn?An:d,Qn=Wn?d:An,ei=Wn?un:d,ri=Wn?d:un;Ir|=Wn?rn:Jr,Ir&=~(Wn?Jr:rn),Ir&Zr||(Ir&=~(Dr|zr));var ai=[vr,Ir,en,ei,Zn,ri,Qn,Tn,Pn,qn],ni=$r.apply(d,ai);return $c(vr)&&$l(ni,ai),ni.placeholder=Kr,Pl(ni,vr,Ir)}function Ec(vr){var Ir=Fi[vr];return function($r,Kr){if($r=po($r),Kr=Kr==null?0:Vi(si(Kr),292),Kr&&Pu($r)){var en=(hi($r)+"e").split("e"),un=Ir(en[0]+"e"+(+en[1]+Kr));return en=(hi(un)+"e").split("e"),+(en[0]+"e"+(+en[1]-Kr))}return Ir($r)}}var Uh=cs&&1/ta(new cs([,-0]))[1]==Yr?function(vr){return new cs(vr)}:qc;function wl(vr){return function(Ir){var $r=qi(Ir);return $r==pn?ec(Ir):$r==Dn?rd(Ir):Gf(Ir,vr(Ir))}}function Io(vr,Ir,$r,Kr,en,un,An,Tn){var Pn=Ir&zr;if(!Pn&&typeof vr!="function")throw new co(br);var qn=Kr?Kr.length:0;if(qn||(Ir&=~(rn|Jr),Kr=en=d),An=An===d?An:ji(si(An),0),Tn=Tn===d?Tn:si(Tn),qn-=en?en.length:0,Ir&Jr){var Wn=Kr,Zn=en;Kr=en=d}var Qn=Pn?d:xc(vr),ei=[vr,Ir,$r,Kr,en,Wn,Zn,un,An,Tn];if(Qn&&ep(ei,Qn),vr=ei[0],Ir=ei[1],$r=ei[2],Kr=ei[3],en=ei[4],Tn=ei[9]=ei[9]===d?Pn?0:vr.length:ji(ei[9]-qn,0),!Tn&&Ir&(Wr|tn)&&(Ir&=~(Wr|tn)),!Ir||Ir==Dr)var ri=Lh(vr,Ir,$r);else Ir==Wr||Ir==tn?ri=Nh(vr,Ir,Tn):(Ir==rn||Ir==(Dr|rn))&&!en.length?ri=Dh(vr,Ir,$r,Kr):ri=Ea.apply(d,ei);var ai=Qn?el:$l;return Pl(ai(ri,ei),vr,Ir)}function vl(vr,Ir,$r,Kr){return vr===d||mo(vr,as[$r])&&!pi.call(Kr,$r)?Ir:vr}function Sl(vr,Ir,$r,Kr,en,un){return Ii(vr)&&Ii(Ir)&&(un.set(Ir,vr),wa(vr,Ir,d,Sl,un),un.delete(Ir)),vr}function Fh(vr){return zs(vr)?d:vr}function Al(vr,Ir,$r,Kr,en,un){var An=$r&Nr,Tn=vr.length,Pn=Ir.length;if(Tn!=Pn&&!(An&&Pn>Tn))return!1;var qn=un.get(vr),Wn=un.get(Ir);if(qn&&Wn)return qn==Ir&&Wn==vr;var Zn=-1,Qn=!0,ei=$r&Ur?new Vo:d;for(un.set(vr,Ir),un.set(Ir,vr);++Zn<Tn;){var ri=vr[Zn],ai=Ir[Zn];if(Kr)var ni=An?Kr(ai,ri,Zn,Ir,vr,un):Kr(ri,ai,Zn,vr,Ir,un);if(ni!==d){if(ni)continue;Qn=!1;break}if(ei){if(!Ga(Ir,function(ui,fi){if(!ks(ei,fi)&&(ri===ui||en(ri,ui,$r,Kr,un)))return ei.push(fi)})){Qn=!1;break}}else if(!(ri===ai||en(ri,ai,$r,Kr,un))){Qn=!1;break}}return un.delete(vr),un.delete(Ir),Qn}function jh(vr,Ir,$r,Kr,en,un,An){switch($r){case Sr:if(vr.byteLength!=Ir.byteLength||vr.byteOffset!=Ir.byteOffset)return!1;vr=vr.buffer,Ir=Ir.buffer;case Tr:return!(vr.byteLength!=Ir.byteLength||!un(new aa(vr),new aa(Ir)));case wn:case In:case On:return mo(+vr,+Ir);case Ln:return vr.name==Ir.name&&vr.message==Ir.message;case Un:case dn:return vr==Ir+"";case pn:var Tn=ec;case Dn:var Pn=Kr&Nr;if(Tn||(Tn=ta),vr.size!=Ir.size&&!Pn)return!1;var qn=An.get(vr);if(qn)return qn==Ir;Kr|=Ur,An.set(vr,Ir);var Wn=Al(Tn(vr),Tn(Ir),Kr,en,un,An);return An.delete(vr),Wn;case vn:if(Cs)return Cs.call(vr)==Cs.call(Ir)}return!1}function Kh(vr,Ir,$r,Kr,en,un){var An=$r&Nr,Tn=Ic(vr),Pn=Tn.length,qn=Ic(Ir),Wn=qn.length;if(Pn!=Wn&&!An)return!1;for(var Zn=Pn;Zn--;){var Qn=Tn[Zn];if(!(An?Qn in Ir:pi.call(Ir,Qn)))return!1}var ei=un.get(vr),ri=un.get(Ir);if(ei&&ri)return ei==Ir&&ri==vr;var ai=!0;un.set(vr,Ir),un.set(Ir,vr);for(var ni=An;++Zn<Pn;){Qn=Tn[Zn];var ui=vr[Qn],fi=Ir[Qn];if(Kr)var io=An?Kr(fi,ui,Qn,Ir,vr,un):Kr(ui,fi,Qn,vr,Ir,un);if(!(io===d?ui===fi||en(ui,fi,$r,Kr,un):io)){ai=!1;break}ni||(ni=Qn=="constructor")}if(ai&&!ni){var Yi=vr.constructor,oo=Ir.constructor;Yi!=oo&&"constructor"in vr&&"constructor"in Ir&&!(typeof Yi=="function"&&Yi instanceof Yi&&typeof oo=="function"&&oo instanceof oo)&&(ai=!1)}return un.delete(vr),un.delete(Ir),ai}function Oo(vr){return Bc(kl(vr,d,Dl),vr+"")}function Ic(vr){return zu(vr,Ki,kc)}function Oc(vr){return zu(vr,Qi,El)}var xc=ha?function(vr){return ha.get(vr)}:qc;function Ta(vr){for(var Ir=vr.name+"",$r=us[Ir],Kr=pi.call(us,Ir)?$r.length:0;Kr--;){var en=$r[Kr],un=en.func;if(un==null||un==vr)return en.name}return Ir}function hs(vr){var Ir=pi.call(cn,"placeholder")?cn:vr;return Ir.placeholder}function ti(){var vr=cn.iteratee||Hc;return vr=vr===Hc?qu:vr,arguments.length?vr(arguments[0],arguments[1]):vr}function ka(vr,Ir){var $r=vr.__data__;return Zh(Ir)?$r[typeof Ir=="string"?"string":"hash"]:$r.map}function Tc(vr){for(var Ir=Ki(vr),$r=Ir.length;$r--;){var Kr=Ir[$r],en=vr[Kr];Ir[$r]=[Kr,en,xl(en)]}return Ir}function Go(vr,Ir){var $r=Xf(vr,Ir);return Vu($r)?$r:d}function zh(vr){var Ir=pi.call(vr,zo),$r=vr[zo];try{vr[zo]=d;var Kr=!0}catch{}var en=oa.call(vr);return Kr&&(Ir?vr[zo]=$r:delete vr[zo]),en}var kc=rc?function(vr){return vr==null?[]:(vr=gi(vr),Bo(rc(vr),function(Ir){return Ru.call(vr,Ir)}))}:Wc,El=rc?function(vr){for(var Ir=[];vr;)Co(Ir,kc(vr)),vr=ca(vr);return Ir}:Wc,qi=Wi;(nc&&qi(new nc(new ArrayBuffer(1)))!=Sr||$s&&qi(new $s)!=pn||ic&&qi(ic.resolve())!=Fn||cs&&qi(new cs)!=Dn||Ps&&qi(new Ps)!=Bn)&&(qi=function(vr){var Ir=Wi(vr),$r=Ir==kn?vr.constructor:d,Kr=$r?Yo($r):"";if(Kr)switch(Kr){case Id:return Sr;case Od:return pn;case xd:return Fn;case Td:return Dn;case kd:return Bn}return Ir});function Hh(vr,Ir,$r){for(var Kr=-1,en=$r.length;++Kr<en;){var un=$r[Kr],An=un.size;switch(un.type){case"drop":vr+=An;break;case"dropRight":Ir-=An;break;case"take":Ir=Vi(Ir,vr+An);break;case"takeRight":vr=ji(vr,Ir-An);break}}return{start:vr,end:Ir}}function Vh(vr){var Ir=vr.match(Pi);return Ir?Ir[1].split(Bi):[]}function Il(vr,Ir,$r){Ir=Uo(Ir,vr);for(var Kr=-1,en=Ir.length,un=!1;++Kr<en;){var An=vo(Ir[Kr]);if(!(un=vr!=null&&$r(vr,An)))break;vr=vr[An]}return un||++Kr!=en?un:(en=vr==null?0:vr.length,!!en&&La(en)&&xo(An,en)&&(oi(vr)||Zo(vr)))}function qh(vr){var Ir=vr.length,$r=new vr.constructor(Ir);return Ir&&typeof vr[0]=="string"&&pi.call(vr,"index")&&($r.index=vr.index,$r.input=vr.input),$r}function Ol(vr){return typeof vr.constructor=="function"&&!js(vr)?ls(ca(vr)):{}}function Wh(vr,Ir,$r){var Kr=vr.constructor;switch(Ir){case Tr:return Sc(vr);case wn:case In:return new Kr(+vr);case Sr:return Rh(vr,$r);case Ar:case Pr:case jr:case Gr:case nn:case Kn:case Yn:case Hn:case Jn:return cl(vr,$r);case pn:return new Kr;case On:case dn:return new Kr(vr);case Un:return $h(vr);case Dn:return new Kr;case vn:return Ph(vr)}}function Gh(vr,Ir){var $r=Ir.length;if(!$r)return vr;var Kr=$r-1;return Ir[Kr]=($r>1?"& ":"")+Ir[Kr],Ir=Ir.join($r>2?", ":" "),vr.replace(Ys,`{
/* [wrapped with `+Ir+`] */
`)}function Yh(vr){return oi(vr)||Zo(vr)||!!($u&&vr&&vr[$u])}function xo(vr,Ir){var $r=typeof vr;return Ir=Ir??Xr,!!Ir&&($r=="number"||$r!="symbol"&&bs.test(vr))&&vr>-1&&vr%1==0&&vr<Ir}function Gi(vr,Ir,$r){if(!Ii($r))return!1;var Kr=typeof Ir;return(Kr=="number"?Ji($r)&&xo(Ir,$r.length):Kr=="string"&&Ir in $r)?mo($r[Ir],vr):!1}function Rc(vr,Ir){if(oi(vr))return!1;var $r=typeof vr;return $r=="number"||$r=="symbol"||$r=="boolean"||vr==null||no(vr)?!0:Ws.test(vr)||!ki.test(vr)||Ir!=null&&vr in gi(Ir)}function Zh(vr){var Ir=typeof vr;return Ir=="string"||Ir=="number"||Ir=="symbol"||Ir=="boolean"?vr!=="__proto__":vr===null}function $c(vr){var Ir=Ta(vr),$r=cn[Ir];if(typeof $r!="function"||!(Ir in li.prototype))return!1;if(vr===$r)return!0;var Kr=xc($r);return!!Kr&&vr===Kr[0]}function Jh(vr){return!!xu&&xu in vr}var Qh=na?To:Gc;function js(vr){var Ir=vr&&vr.constructor,$r=typeof Ir=="function"&&Ir.prototype||as;return vr===$r}function xl(vr){return vr===vr&&!Ii(vr)}function Tl(vr,Ir){return function($r){return $r==null?!1:$r[vr]===Ir&&(Ir!==d||vr in gi($r))}}function Xh(vr){var Ir=Ca(vr,function(Kr){return $r.size===Or&&$r.clear(),Kr}),$r=Ir.cache;return Ir}function ep(vr,Ir){var $r=vr[1],Kr=Ir[1],en=$r|Kr,un=en<(Dr|zr|Qr),An=Kr==Qr&&$r==Wr||Kr==Qr&&$r==an&&vr[7].length<=Ir[8]||Kr==(Qr|an)&&Ir[7].length<=Ir[8]&&$r==Wr;if(!(un||An))return vr;Kr&Dr&&(vr[2]=Ir[2],en|=$r&Dr?0:Zr);var Tn=Ir[3];if(Tn){var Pn=vr[3];vr[3]=Pn?ll(Pn,Tn,Ir[4]):Tn,vr[4]=Pn?Mo(vr[3],xr):Ir[4]}return Tn=Ir[5],Tn&&(Pn=vr[5],vr[5]=Pn?fl(Pn,Tn,Ir[6]):Tn,vr[6]=Pn?Mo(vr[5],xr):Ir[6]),Tn=Ir[7],Tn&&(vr[7]=Tn),Kr&Qr&&(vr[8]=vr[8]==null?Ir[8]:Vi(vr[8],Ir[8])),vr[9]==null&&(vr[9]=Ir[9]),vr[0]=Ir[0],vr[1]=en,vr}function tp(vr){var Ir=[];if(vr!=null)for(var $r in gi(vr))Ir.push($r);return Ir}function rp(vr){return oa.call(vr)}function kl(vr,Ir,$r){return Ir=ji(Ir===d?vr.length-1:Ir,0),function(){for(var Kr=arguments,en=-1,un=ji(Kr.length-Ir,0),An=zn(un);++en<un;)An[en]=Kr[Ir+en];en=-1;for(var Tn=zn(Ir+1);++en<Ir;)Tn[en]=Kr[en];return Tn[Ir]=$r(An),eo(vr,this,Tn)}}function Rl(vr,Ir){return Ir.length<2?vr:Wo(vr,fo(Ir,0,-1))}function np(vr,Ir){for(var $r=vr.length,Kr=Vi(Ir.length,$r),en=Zi(vr);Kr--;){var un=Ir[Kr];vr[Kr]=xo(un,$r)?en[un]:d}return vr}function Pc(vr,Ir){if(!(Ir==="constructor"&&typeof vr[Ir]=="function")&&Ir!="__proto__")return vr[Ir]}var $l=Bl(el),Ks=_d||function(vr,Ir){return zi.setTimeout(vr,Ir)},Bc=Bl(Oh);function Pl(vr,Ir,$r){var Kr=Ir+"";return Bc(vr,Gh(Kr,ip(Vh(Kr),$r)))}function Bl(vr){var Ir=0,$r=0;return function(){var Kr=Sd(),en=Fr-(Kr-$r);if($r=Kr,en>0){if(++Ir>=Sn)return arguments[0]}else Ir=0;return vr.apply(d,arguments)}}function Ra(vr,Ir){var $r=-1,Kr=vr.length,en=Kr-1;for(Ir=Ir===d?Kr:Ir;++$r<Ir;){var un=gc($r,en),An=vr[un];vr[un]=vr[$r],vr[$r]=An}return vr.length=Ir,vr}var Cl=Xh(function(vr){var Ir=[];return vr.charCodeAt(0)===46&&Ir.push(""),vr.replace(Ri,function($r,Kr,en,un){Ir.push(en?un.replace(Mi,"$1"):Kr||$r)}),Ir});function vo(vr){if(typeof vr=="string"||no(vr))return vr;var Ir=vr+"";return Ir=="0"&&1/vr==-Yr?"-0":Ir}function Yo(vr){if(vr!=null){try{return ia.call(vr)}catch{}try{return vr+""}catch{}}return""}function ip(vr,Ir){return ao(_n,function($r){var Kr="_."+$r[0];Ir&$r[1]&&!Xs(vr,Kr)&&vr.push(Kr)}),vr.sort()}function Ml(vr){if(vr instanceof li)return vr.clone();var Ir=new uo(vr.__wrapped__,vr.__chain__);return Ir.__actions__=Zi(vr.__actions__),Ir.__index__=vr.__index__,Ir.__values__=vr.__values__,Ir}function op(vr,Ir,$r){($r?Gi(vr,Ir,$r):Ir===d)?Ir=1:Ir=ji(si(Ir),0);var Kr=vr==null?0:vr.length;if(!Kr||Ir<1)return[];for(var en=0,un=0,An=zn(fa(Kr/Ir));en<Kr;)An[un++]=fo(vr,en,en+=Ir);return An}function sp(vr){for(var Ir=-1,$r=vr==null?0:vr.length,Kr=0,en=[];++Ir<$r;){var un=vr[Ir];un&&(en[Kr++]=un)}return en}function ap(){var vr=arguments.length;if(!vr)return[];for(var Ir=zn(vr-1),$r=arguments[0],Kr=vr;Kr--;)Ir[Kr-1]=arguments[Kr];return Co(oi($r)?Zi($r):[$r],Hi(Ir,1))}var cp=ci(function(vr,Ir){return Di(vr)?Ls(vr,Hi(Ir,1,Di,!0)):[]}),up=ci(function(vr,Ir){var $r=ho(Ir);return Di($r)&&($r=d),Di(vr)?Ls(vr,Hi(Ir,1,Di,!0),ti($r,2)):[]}),lp=ci(function(vr,Ir){var $r=ho(Ir);return Di($r)&&($r=d),Di(vr)?Ls(vr,Hi(Ir,1,Di,!0),d,$r):[]});function fp(vr,Ir,$r){var Kr=vr==null?0:vr.length;return Kr?(Ir=$r||Ir===d?1:si(Ir),fo(vr,Ir<0?0:Ir,Kr)):[]}function dp(vr,Ir,$r){var Kr=vr==null?0:vr.length;return Kr?(Ir=$r||Ir===d?1:si(Ir),Ir=Kr-Ir,fo(vr,0,Ir<0?0:Ir)):[]}function hp(vr,Ir){return vr&&vr.length?Sa(vr,ti(Ir,3),!0,!0):[]}function pp(vr,Ir){return vr&&vr.length?Sa(vr,ti(Ir,3),!0):[]}function gp(vr,Ir,$r,Kr){var en=vr==null?0:vr.length;return en?($r&&typeof $r!="number"&&Gi(vr,Ir,$r)&&($r=0,Kr=en),ah(vr,Ir,$r,Kr)):[]}function Ll(vr,Ir,$r){var Kr=vr==null?0:vr.length;if(!Kr)return-1;var en=$r==null?0:si($r);return en<0&&(en=ji(Kr+en,0)),ea(vr,ti(Ir,3),en)}function Nl(vr,Ir,$r){var Kr=vr==null?0:vr.length;if(!Kr)return-1;var en=Kr-1;return $r!==d&&(en=si($r),en=$r<0?ji(Kr+en,0):Vi(en,Kr-1)),ea(vr,ti(Ir,3),en,!0)}function Dl(vr){var Ir=vr==null?0:vr.length;return Ir?Hi(vr,1):[]}function yp(vr){var Ir=vr==null?0:vr.length;return Ir?Hi(vr,Yr):[]}function mp(vr,Ir){var $r=vr==null?0:vr.length;return $r?(Ir=Ir===d?1:si(Ir),Hi(vr,Ir)):[]}function _p(vr){for(var Ir=-1,$r=vr==null?0:vr.length,Kr={};++Ir<$r;){var en=vr[Ir];Kr[en[0]]=en[1]}return Kr}function Ul(vr){return vr&&vr.length?vr[0]:d}function bp(vr,Ir,$r){var Kr=vr==null?0:vr.length;if(!Kr)return-1;var en=$r==null?0:si($r);return en<0&&(en=ji(Kr+en,0)),rs(vr,Ir,en)}function wp(vr){var Ir=vr==null?0:vr.length;return Ir?fo(vr,0,-1):[]}var vp=ci(function(vr){var Ir=wi(vr,wc);return Ir.length&&Ir[0]===vr[0]?lc(Ir):[]}),Sp=ci(function(vr){var Ir=ho(vr),$r=wi(vr,wc);return Ir===ho($r)?Ir=d:$r.pop(),$r.length&&$r[0]===vr[0]?lc($r,ti(Ir,2)):[]}),Ap=ci(function(vr){var Ir=ho(vr),$r=wi(vr,wc);return Ir=typeof Ir=="function"?Ir:d,Ir&&$r.pop(),$r.length&&$r[0]===vr[0]?lc($r,d,Ir):[]});function Ep(vr,Ir){return vr==null?"":wd.call(vr,Ir)}function ho(vr){var Ir=vr==null?0:vr.length;return Ir?vr[Ir-1]:d}function Ip(vr,Ir,$r){var Kr=vr==null?0:vr.length;if(!Kr)return-1;var en=Kr;return $r!==d&&(en=si($r),en=en<0?ji(Kr+en,0):Vi(en,Kr-1)),Ir===Ir?id(vr,Ir,en):ea(vr,bu,en,!0)}function Op(vr,Ir){return vr&&vr.length?Zu(vr,si(Ir)):d}var xp=ci(Fl);function Fl(vr,Ir){return vr&&vr.length&&Ir&&Ir.length?pc(vr,Ir):vr}function Tp(vr,Ir,$r){return vr&&vr.length&&Ir&&Ir.length?pc(vr,Ir,ti($r,2)):vr}function kp(vr,Ir,$r){return vr&&vr.length&&Ir&&Ir.length?pc(vr,Ir,d,$r):vr}var Rp=Oo(function(vr,Ir){var $r=vr==null?0:vr.length,Kr=sc(vr,Ir);return Xu(vr,wi(Ir,function(en){return xo(en,$r)?+en:en}).sort(ul)),Kr});function $p(vr,Ir){var $r=[];if(!(vr&&vr.length))return $r;var Kr=-1,en=[],un=vr.length;for(Ir=ti(Ir,3);++Kr<un;){var An=vr[Kr];Ir(An,Kr,vr)&&($r.push(An),en.push(Kr))}return Xu(vr,en),$r}function Cc(vr){return vr==null?vr:Ed.call(vr)}function Pp(vr,Ir,$r){var Kr=vr==null?0:vr.length;return Kr?($r&&typeof $r!="number"&&Gi(vr,Ir,$r)?(Ir=0,$r=Kr):(Ir=Ir==null?0:si(Ir),$r=$r===d?Kr:si($r)),fo(vr,Ir,$r)):[]}function Bp(vr,Ir){return va(vr,Ir)}function Cp(vr,Ir,$r){return mc(vr,Ir,ti($r,2))}function Mp(vr,Ir){var $r=vr==null?0:vr.length;if($r){var Kr=va(vr,Ir);if(Kr<$r&&mo(vr[Kr],Ir))return Kr}return-1}function Lp(vr,Ir){return va(vr,Ir,!0)}function Np(vr,Ir,$r){return mc(vr,Ir,ti($r,2),!0)}function Dp(vr,Ir){var $r=vr==null?0:vr.length;if($r){var Kr=va(vr,Ir,!0)-1;if(mo(vr[Kr],Ir))return Kr}return-1}function Up(vr){return vr&&vr.length?tl(vr):[]}function Fp(vr,Ir){return vr&&vr.length?tl(vr,ti(Ir,2)):[]}function jp(vr){var Ir=vr==null?0:vr.length;return Ir?fo(vr,1,Ir):[]}function Kp(vr,Ir,$r){return vr&&vr.length?(Ir=$r||Ir===d?1:si(Ir),fo(vr,0,Ir<0?0:Ir)):[]}function zp(vr,Ir,$r){var Kr=vr==null?0:vr.length;return Kr?(Ir=$r||Ir===d?1:si(Ir),Ir=Kr-Ir,fo(vr,Ir<0?0:Ir,Kr)):[]}function Hp(vr,Ir){return vr&&vr.length?Sa(vr,ti(Ir,3),!1,!0):[]}function Vp(vr,Ir){return vr&&vr.length?Sa(vr,ti(Ir,3)):[]}var qp=ci(function(vr){return Do(Hi(vr,1,Di,!0))}),Wp=ci(function(vr){var Ir=ho(vr);return Di(Ir)&&(Ir=d),Do(Hi(vr,1,Di,!0),ti(Ir,2))}),Gp=ci(function(vr){var Ir=ho(vr);return Ir=typeof Ir=="function"?Ir:d,Do(Hi(vr,1,Di,!0),d,Ir)});function Yp(vr){return vr&&vr.length?Do(vr):[]}function Zp(vr,Ir){return vr&&vr.length?Do(vr,ti(Ir,2)):[]}function Jp(vr,Ir){return Ir=typeof Ir=="function"?Ir:d,vr&&vr.length?Do(vr,d,Ir):[]}function Mc(vr){if(!(vr&&vr.length))return[];var Ir=0;return vr=Bo(vr,function($r){if(Di($r))return Ir=ji($r.length,Ir),!0}),Qa(Ir,function($r){return wi(vr,Ya($r))})}function jl(vr,Ir){if(!(vr&&vr.length))return[];var $r=Mc(vr);return Ir==null?$r:wi($r,function(Kr){return eo(Ir,d,Kr)})}var Qp=ci(function(vr,Ir){return Di(vr)?Ls(vr,Ir):[]}),Xp=ci(function(vr){return bc(Bo(vr,Di))}),eg=ci(function(vr){var Ir=ho(vr);return Di(Ir)&&(Ir=d),bc(Bo(vr,Di),ti(Ir,2))}),tg=ci(function(vr){var Ir=ho(vr);return Ir=typeof Ir=="function"?Ir:d,bc(Bo(vr,Di),d,Ir)}),rg=ci(Mc);function ng(vr,Ir){return ol(vr||[],Ir||[],Ms)}function ig(vr,Ir){return ol(vr||[],Ir||[],Us)}var og=ci(function(vr){var Ir=vr.length,$r=Ir>1?vr[Ir-1]:d;return $r=typeof $r=="function"?(vr.pop(),$r):d,jl(vr,$r)});function Kl(vr){var Ir=cn(vr);return Ir.__chain__=!0,Ir}function sg(vr,Ir){return Ir(vr),vr}function $a(vr,Ir){return Ir(vr)}var ag=Oo(function(vr){var Ir=vr.length,$r=Ir?vr[0]:0,Kr=this.__wrapped__,en=function(un){return sc(un,vr)};return Ir>1||this.__actions__.length||!(Kr instanceof li)||!xo($r)?this.thru(en):(Kr=Kr.slice($r,+$r+(Ir?1:0)),Kr.__actions__.push({func:$a,args:[en],thisArg:d}),new uo(Kr,this.__chain__).thru(function(un){return Ir&&!un.length&&un.push(d),un}))});function cg(){return Kl(this)}function ug(){return new uo(this.value(),this.__chain__)}function lg(){this.__values__===d&&(this.__values__=rf(this.value()));var vr=this.__index__>=this.__values__.length,Ir=vr?d:this.__values__[this.__index__++];return{done:vr,value:Ir}}function fg(){return this}function dg(vr){for(var Ir,$r=this;$r instanceof ga;){var Kr=Ml($r);Kr.__index__=0,Kr.__values__=d,Ir?en.__wrapped__=Kr:Ir=Kr;var en=Kr;$r=$r.__wrapped__}return en.__wrapped__=vr,Ir}function hg(){var vr=this.__wrapped__;if(vr instanceof li){var Ir=vr;return this.__actions__.length&&(Ir=new li(this)),Ir=Ir.reverse(),Ir.__actions__.push({func:$a,args:[Cc],thisArg:d}),new uo(Ir,this.__chain__)}return this.thru(Cc)}function pg(){return il(this.__wrapped__,this.__actions__)}var gg=Aa(function(vr,Ir,$r){pi.call(vr,$r)?++vr[$r]:Eo(vr,$r,1)});function yg(vr,Ir,$r){var Kr=oi(vr)?mu:sh;return $r&&Gi(vr,Ir,$r)&&(Ir=d),Kr(vr,ti(Ir,3))}function mg(vr,Ir){var $r=oi(vr)?Bo:ju;return $r(vr,ti(Ir,3))}var _g=gl(Ll),bg=gl(Nl);function wg(vr,Ir){return Hi(Pa(vr,Ir),1)}function vg(vr,Ir){return Hi(Pa(vr,Ir),Yr)}function Sg(vr,Ir,$r){return $r=$r===d?1:si($r),Hi(Pa(vr,Ir),$r)}function zl(vr,Ir){var $r=oi(vr)?ao:No;return $r(vr,ti(Ir,3))}function Hl(vr,Ir){var $r=oi(vr)?jf:Fu;return $r(vr,ti(Ir,3))}var Ag=Aa(function(vr,Ir,$r){pi.call(vr,$r)?vr[$r].push(Ir):Eo(vr,$r,[Ir])});function Eg(vr,Ir,$r,Kr){vr=Ji(vr)?vr:gs(vr),$r=$r&&!Kr?si($r):0;var en=vr.length;return $r<0&&($r=ji(en+$r,0)),Na(vr)?$r<=en&&vr.indexOf(Ir,$r)>-1:!!en&&rs(vr,Ir,$r)>-1}var Ig=ci(function(vr,Ir,$r){var Kr=-1,en=typeof Ir=="function",un=Ji(vr)?zn(vr.length):[];return No(vr,function(An){un[++Kr]=en?eo(Ir,An,$r):Ns(An,Ir,$r)}),un}),Og=Aa(function(vr,Ir,$r){Eo(vr,$r,Ir)});function Pa(vr,Ir){var $r=oi(vr)?wi:Wu;return $r(vr,ti(Ir,3))}function xg(vr,Ir,$r,Kr){return vr==null?[]:(oi(Ir)||(Ir=Ir==null?[]:[Ir]),$r=Kr?d:$r,oi($r)||($r=$r==null?[]:[$r]),Ju(vr,Ir,$r))}var Tg=Aa(function(vr,Ir,$r){vr[$r?0:1].push(Ir)},function(){return[[],[]]});function kg(vr,Ir,$r){var Kr=oi(vr)?Wa:vu,en=arguments.length<3;return Kr(vr,ti(Ir,4),$r,en,No)}function Rg(vr,Ir,$r){var Kr=oi(vr)?Kf:vu,en=arguments.length<3;return Kr(vr,ti(Ir,4),$r,en,Fu)}function $g(vr,Ir){var $r=oi(vr)?Bo:ju;return $r(vr,Ma(ti(Ir,3)))}function Pg(vr){var Ir=oi(vr)?Lu:Eh;return Ir(vr)}function Bg(vr,Ir,$r){($r?Gi(vr,Ir,$r):Ir===d)?Ir=1:Ir=si(Ir);var Kr=oi(vr)?th:Ih;return Kr(vr,Ir)}function Cg(vr){var Ir=oi(vr)?rh:xh;return Ir(vr)}function Mg(vr){if(vr==null)return 0;if(Ji(vr))return Na(vr)?os(vr):vr.length;var Ir=qi(vr);return Ir==pn||Ir==Dn?vr.size:dc(vr).length}function Lg(vr,Ir,$r){var Kr=oi(vr)?Ga:Th;return $r&&Gi(vr,Ir,$r)&&(Ir=d),Kr(vr,ti(Ir,3))}var Ng=ci(function(vr,Ir){if(vr==null)return[];var $r=Ir.length;return $r>1&&Gi(vr,Ir[0],Ir[1])?Ir=[]:$r>2&&Gi(Ir[0],Ir[1],Ir[2])&&(Ir=[Ir[0]]),Ju(vr,Hi(Ir,1),[])}),Ba=md||function(){return zi.Date.now()};function Dg(vr,Ir){if(typeof Ir!="function")throw new co(br);return vr=si(vr),function(){if(--vr<1)return Ir.apply(this,arguments)}}function Vl(vr,Ir,$r){return Ir=$r?d:Ir,Ir=vr&&Ir==null?vr.length:Ir,Io(vr,Qr,d,d,d,d,Ir)}function ql(vr,Ir){var $r;if(typeof Ir!="function")throw new co(br);return vr=si(vr),function(){return--vr>0&&($r=Ir.apply(this,arguments)),vr<=1&&(Ir=d),$r}}var Lc=ci(function(vr,Ir,$r){var Kr=Dr;if($r.length){var en=Mo($r,hs(Lc));Kr|=rn}return Io(vr,Kr,Ir,$r,en)}),Wl=ci(function(vr,Ir,$r){var Kr=Dr|zr;if($r.length){var en=Mo($r,hs(Wl));Kr|=rn}return Io(Ir,Kr,vr,$r,en)});function Gl(vr,Ir,$r){Ir=$r?d:Ir;var Kr=Io(vr,Wr,d,d,d,d,d,Ir);return Kr.placeholder=Gl.placeholder,Kr}function Yl(vr,Ir,$r){Ir=$r?d:Ir;var Kr=Io(vr,tn,d,d,d,d,d,Ir);return Kr.placeholder=Yl.placeholder,Kr}function Zl(vr,Ir,$r){var Kr,en,un,An,Tn,Pn,qn=0,Wn=!1,Zn=!1,Qn=!0;if(typeof vr!="function")throw new co(br);Ir=po(Ir)||0,Ii($r)&&(Wn=!!$r.leading,Zn="maxWait"in $r,un=Zn?ji(po($r.maxWait)||0,Ir):un,Qn="trailing"in $r?!!$r.trailing:Qn);function ei(Ui){var _o=Kr,Ro=en;return Kr=en=d,qn=Ui,An=vr.apply(Ro,_o),An}function ri(Ui){return qn=Ui,Tn=Ks(ui,Ir),Wn?ei(Ui):An}function ai(Ui){var _o=Ui-Pn,Ro=Ui-qn,yf=Ir-_o;return Zn?Vi(yf,un-Ro):yf}function ni(Ui){var _o=Ui-Pn,Ro=Ui-qn;return Pn===d||_o>=Ir||_o<0||Zn&&Ro>=un}function ui(){var Ui=Ba();if(ni(Ui))return fi(Ui);Tn=Ks(ui,ai(Ui))}function fi(Ui){return Tn=d,Qn&&Kr?ei(Ui):(Kr=en=d,An)}function io(){Tn!==d&&sl(Tn),qn=0,Kr=Pn=en=Tn=d}function Yi(){return Tn===d?An:fi(Ba())}function oo(){var Ui=Ba(),_o=ni(Ui);if(Kr=arguments,en=this,Pn=Ui,_o){if(Tn===d)return ri(Pn);if(Zn)return sl(Tn),Tn=Ks(ui,Ir),ei(Pn)}return Tn===d&&(Tn=Ks(ui,Ir)),An}return oo.cancel=io,oo.flush=Yi,oo}var Ug=ci(function(vr,Ir){return Uu(vr,1,Ir)}),Fg=ci(function(vr,Ir,$r){return Uu(vr,po(Ir)||0,$r)});function jg(vr){return Io(vr,mn)}function Ca(vr,Ir){if(typeof vr!="function"||Ir!=null&&typeof Ir!="function")throw new co(br);var $r=function(){var Kr=arguments,en=Ir?Ir.apply(this,Kr):Kr[0],un=$r.cache;if(un.has(en))return un.get(en);var An=vr.apply(this,Kr);return $r.cache=un.set(en,An)||un,An};return $r.cache=new(Ca.Cache||Ao),$r}Ca.Cache=Ao;function Ma(vr){if(typeof vr!="function")throw new co(br);return function(){var Ir=arguments;switch(Ir.length){case 0:return!vr.call(this);case 1:return!vr.call(this,Ir[0]);case 2:return!vr.call(this,Ir[0],Ir[1]);case 3:return!vr.call(this,Ir[0],Ir[1],Ir[2])}return!vr.apply(this,Ir)}}function Kg(vr){return ql(2,vr)}var zg=kh(function(vr,Ir){Ir=Ir.length==1&&oi(Ir[0])?wi(Ir[0],to(ti())):wi(Hi(Ir,1),to(ti()));var $r=Ir.length;return ci(function(Kr){for(var en=-1,un=Vi(Kr.length,$r);++en<un;)Kr[en]=Ir[en].call(this,Kr[en]);return eo(vr,this,Kr)})}),Nc=ci(function(vr,Ir){var $r=Mo(Ir,hs(Nc));return Io(vr,rn,d,Ir,$r)}),Jl=ci(function(vr,Ir){var $r=Mo(Ir,hs(Jl));return Io(vr,Jr,d,Ir,$r)}),Hg=Oo(function(vr,Ir){return Io(vr,an,d,d,d,Ir)});function Vg(vr,Ir){if(typeof vr!="function")throw new co(br);return Ir=Ir===d?Ir:si(Ir),ci(vr,Ir)}function qg(vr,Ir){if(typeof vr!="function")throw new co(br);return Ir=Ir==null?0:ji(si(Ir),0),ci(function($r){var Kr=$r[Ir],en=Fo($r,0,Ir);return Kr&&Co(en,Kr),eo(vr,this,en)})}function Wg(vr,Ir,$r){var Kr=!0,en=!0;if(typeof vr!="function")throw new co(br);return Ii($r)&&(Kr="leading"in $r?!!$r.leading:Kr,en="trailing"in $r?!!$r.trailing:en),Zl(vr,Ir,{leading:Kr,maxWait:Ir,trailing:en})}function Gg(vr){return Vl(vr,1)}function Yg(vr,Ir){return Nc(vc(Ir),vr)}function Zg(){if(!arguments.length)return[];var vr=arguments[0];return oi(vr)?vr:[vr]}function Jg(vr){return lo(vr,Cr)}function Qg(vr,Ir){return Ir=typeof Ir=="function"?Ir:d,lo(vr,Cr,Ir)}function Xg(vr){return lo(vr,kr|Cr)}function ey(vr,Ir){return Ir=typeof Ir=="function"?Ir:d,lo(vr,kr|Cr,Ir)}function ty(vr,Ir){return Ir==null||Du(vr,Ir,Ki(Ir))}function mo(vr,Ir){return vr===Ir||vr!==vr&&Ir!==Ir}var ry=xa(uc),ny=xa(function(vr,Ir){return vr>=Ir}),Zo=Hu(function(){return arguments}())?Hu:function(vr){return Ni(vr)&&pi.call(vr,"callee")&&!Ru.call(vr,"callee")},oi=zn.isArray,iy=fu?to(fu):dh;function Ji(vr){return vr!=null&&La(vr.length)&&!To(vr)}function Di(vr){return Ni(vr)&&Ji(vr)}function oy(vr){return vr===!0||vr===!1||Ni(vr)&&Wi(vr)==wn}var jo=bd||Gc,sy=du?to(du):hh;function ay(vr){return Ni(vr)&&vr.nodeType===1&&!zs(vr)}function cy(vr){if(vr==null)return!0;if(Ji(vr)&&(oi(vr)||typeof vr=="string"||typeof vr.splice=="function"||jo(vr)||ps(vr)||Zo(vr)))return!vr.length;var Ir=qi(vr);if(Ir==pn||Ir==Dn)return!vr.size;if(js(vr))return!dc(vr).length;for(var $r in vr)if(pi.call(vr,$r))return!1;return!0}function uy(vr,Ir){return Ds(vr,Ir)}function ly(vr,Ir,$r){$r=typeof $r=="function"?$r:d;var Kr=$r?$r(vr,Ir):d;return Kr===d?Ds(vr,Ir,d,$r):!!Kr}function Dc(vr){if(!Ni(vr))return!1;var Ir=Wi(vr);return Ir==Ln||Ir==Mn||typeof vr.message=="string"&&typeof vr.name=="string"&&!zs(vr)}function fy(vr){return typeof vr=="number"&&Pu(vr)}function To(vr){if(!Ii(vr))return!1;var Ir=Wi(vr);return Ir==Cn||Ir==ln||Ir==yn||Ir==xn}function Ql(vr){return typeof vr=="number"&&vr==si(vr)}function La(vr){return typeof vr=="number"&&vr>-1&&vr%1==0&&vr<=Xr}function Ii(vr){var Ir=typeof vr;return vr!=null&&(Ir=="object"||Ir=="function")}function Ni(vr){return vr!=null&&typeof vr=="object"}var Xl=hu?to(hu):gh;function dy(vr,Ir){return vr===Ir||fc(vr,Ir,Tc(Ir))}function hy(vr,Ir,$r){return $r=typeof $r=="function"?$r:d,fc(vr,Ir,Tc(Ir),$r)}function py(vr){return ef(vr)&&vr!=+vr}function gy(vr){if(Qh(vr))throw new ii(_r);return Vu(vr)}function yy(vr){return vr===null}function my(vr){return vr==null}function ef(vr){return typeof vr=="number"||Ni(vr)&&Wi(vr)==On}function zs(vr){if(!Ni(vr)||Wi(vr)!=kn)return!1;var Ir=ca(vr);if(Ir===null)return!0;var $r=pi.call(Ir,"constructor")&&Ir.constructor;return typeof $r=="function"&&$r instanceof $r&&ia.call($r)==hd}var Uc=pu?to(pu):yh;function _y(vr){return Ql(vr)&&vr>=-Xr&&vr<=Xr}var tf=gu?to(gu):mh;function Na(vr){return typeof vr=="string"||!oi(vr)&&Ni(vr)&&Wi(vr)==dn}function no(vr){return typeof vr=="symbol"||Ni(vr)&&Wi(vr)==vn}var ps=yu?to(yu):_h;function by(vr){return vr===d}function wy(vr){return Ni(vr)&&qi(vr)==Bn}function vy(vr){return Ni(vr)&&Wi(vr)==jn}var Sy=xa(hc),Ay=xa(function(vr,Ir){return vr<=Ir});function rf(vr){if(!vr)return[];if(Ji(vr))return Na(vr)?go(vr):Zi(vr);if(Rs&&vr[Rs])return td(vr[Rs]());var Ir=qi(vr),$r=Ir==pn?ec:Ir==Dn?ta:gs;return $r(vr)}function ko(vr){if(!vr)return vr===0?vr:0;if(vr=po(vr),vr===Yr||vr===-Yr){var Ir=vr<0?-1:1;return Ir*hn}return vr===vr?vr:0}function si(vr){var Ir=ko(vr),$r=Ir%1;return Ir===Ir?$r?Ir-$r:Ir:0}function nf(vr){return vr?qo(si(vr),0,qr):0}function po(vr){if(typeof vr=="number")return vr;if(no(vr))return En;if(Ii(vr)){var Ir=typeof vr.valueOf=="function"?vr.valueOf():vr;vr=Ii(Ir)?Ir+"":Ir}if(typeof vr!="string")return vr===0?vr:+vr;vr=Su(vr);var $r=ys.test(vr);return $r||_s.test(vr)?Df(vr.slice(2),$r?2:8):Li.test(vr)?En:+vr}function of(vr){return wo(vr,Qi(vr))}function Ey(vr){return vr?qo(si(vr),-Xr,Xr):vr===0?vr:0}function hi(vr){return vr==null?"":ro(vr)}var Iy=fs(function(vr,Ir){if(js(Ir)||Ji(Ir)){wo(Ir,Ki(Ir),vr);return}for(var $r in Ir)pi.call(Ir,$r)&&Ms(vr,$r,Ir[$r])}),sf=fs(function(vr,Ir){wo(Ir,Qi(Ir),vr)}),Da=fs(function(vr,Ir,$r,Kr){wo(Ir,Qi(Ir),vr,Kr)}),Oy=fs(function(vr,Ir,$r,Kr){wo(Ir,Ki(Ir),vr,Kr)}),xy=Oo(sc);function Ty(vr,Ir){var $r=ls(vr);return Ir==null?$r:Nu($r,Ir)}var ky=ci(function(vr,Ir){vr=gi(vr);var $r=-1,Kr=Ir.length,en=Kr>2?Ir[2]:d;for(en&&Gi(Ir[0],Ir[1],en)&&(Kr=1);++$r<Kr;)for(var un=Ir[$r],An=Qi(un),Tn=-1,Pn=An.length;++Tn<Pn;){var qn=An[Tn],Wn=vr[qn];(Wn===d||mo(Wn,as[qn])&&!pi.call(vr,qn))&&(vr[qn]=un[qn])}return vr}),Ry=ci(function(vr){return vr.push(d,Sl),eo(af,d,vr)});function $y(vr,Ir){return _u(vr,ti(Ir,3),bo)}function Py(vr,Ir){return _u(vr,ti(Ir,3),cc)}function By(vr,Ir){return vr==null?vr:ac(vr,ti(Ir,3),Qi)}function Cy(vr,Ir){return vr==null?vr:Ku(vr,ti(Ir,3),Qi)}function My(vr,Ir){return vr&&bo(vr,ti(Ir,3))}function Ly(vr,Ir){return vr&&cc(vr,ti(Ir,3))}function Ny(vr){return vr==null?[]:ba(vr,Ki(vr))}function Dy(vr){return vr==null?[]:ba(vr,Qi(vr))}function Fc(vr,Ir,$r){var Kr=vr==null?d:Wo(vr,Ir);return Kr===d?$r:Kr}function Uy(vr,Ir){return vr!=null&&Il(vr,Ir,ch)}function jc(vr,Ir){return vr!=null&&Il(vr,Ir,uh)}var Fy=ml(function(vr,Ir,$r){Ir!=null&&typeof Ir.toString!="function"&&(Ir=oa.call(Ir)),vr[Ir]=$r},zc(Xi)),jy=ml(function(vr,Ir,$r){Ir!=null&&typeof Ir.toString!="function"&&(Ir=oa.call(Ir)),pi.call(vr,Ir)?vr[Ir].push($r):vr[Ir]=[$r]},ti),Ky=ci(Ns);function Ki(vr){return Ji(vr)?Mu(vr):dc(vr)}function Qi(vr){return Ji(vr)?Mu(vr,!0):bh(vr)}function zy(vr,Ir){var $r={};return Ir=ti(Ir,3),bo(vr,function(Kr,en,un){Eo($r,Ir(Kr,en,un),Kr)}),$r}function Hy(vr,Ir){var $r={};return Ir=ti(Ir,3),bo(vr,function(Kr,en,un){Eo($r,en,Ir(Kr,en,un))}),$r}var Vy=fs(function(vr,Ir,$r){wa(vr,Ir,$r)}),af=fs(function(vr,Ir,$r,Kr){wa(vr,Ir,$r,Kr)}),qy=Oo(function(vr,Ir){var $r={};if(vr==null)return $r;var Kr=!1;Ir=wi(Ir,function(un){return un=Uo(un,vr),Kr||(Kr=un.length>1),un}),wo(vr,Oc(vr),$r),Kr&&($r=lo($r,kr|Mr|Cr,Fh));for(var en=Ir.length;en--;)_c($r,Ir[en]);return $r});function Wy(vr,Ir){return cf(vr,Ma(ti(Ir)))}var Gy=Oo(function(vr,Ir){return vr==null?{}:vh(vr,Ir)});function cf(vr,Ir){if(vr==null)return{};var $r=wi(Oc(vr),function(Kr){return[Kr]});return Ir=ti(Ir),Qu(vr,$r,function(Kr,en){return Ir(Kr,en[0])})}function Yy(vr,Ir,$r){Ir=Uo(Ir,vr);var Kr=-1,en=Ir.length;for(en||(en=1,vr=d);++Kr<en;){var un=vr==null?d:vr[vo(Ir[Kr])];un===d&&(Kr=en,un=$r),vr=To(un)?un.call(vr):un}return vr}function Zy(vr,Ir,$r){return vr==null?vr:Us(vr,Ir,$r)}function Jy(vr,Ir,$r,Kr){return Kr=typeof Kr=="function"?Kr:d,vr==null?vr:Us(vr,Ir,$r,Kr)}var uf=wl(Ki),lf=wl(Qi);function Qy(vr,Ir,$r){var Kr=oi(vr),en=Kr||jo(vr)||ps(vr);if(Ir=ti(Ir,4),$r==null){var un=vr&&vr.constructor;en?$r=Kr?new un:[]:Ii(vr)?$r=To(un)?ls(ca(vr)):{}:$r={}}return(en?ao:bo)(vr,function(An,Tn,Pn){return Ir($r,An,Tn,Pn)}),$r}function Xy(vr,Ir){return vr==null?!0:_c(vr,Ir)}function em(vr,Ir,$r){return vr==null?vr:nl(vr,Ir,vc($r))}function tm(vr,Ir,$r,Kr){return Kr=typeof Kr=="function"?Kr:d,vr==null?vr:nl(vr,Ir,vc($r),Kr)}function gs(vr){return vr==null?[]:Xa(vr,Ki(vr))}function rm(vr){return vr==null?[]:Xa(vr,Qi(vr))}function nm(vr,Ir,$r){return $r===d&&($r=Ir,Ir=d),$r!==d&&($r=po($r),$r=$r===$r?$r:0),Ir!==d&&(Ir=po(Ir),Ir=Ir===Ir?Ir:0),qo(po(vr),Ir,$r)}function im(vr,Ir,$r){return Ir=ko(Ir),$r===d?($r=Ir,Ir=0):$r=ko($r),vr=po(vr),lh(vr,Ir,$r)}function om(vr,Ir,$r){if($r&&typeof $r!="boolean"&&Gi(vr,Ir,$r)&&(Ir=$r=d),$r===d&&(typeof Ir=="boolean"?($r=Ir,Ir=d):typeof vr=="boolean"&&($r=vr,vr=d)),vr===d&&Ir===d?(vr=0,Ir=1):(vr=ko(vr),Ir===d?(Ir=vr,vr=0):Ir=ko(Ir)),vr>Ir){var Kr=vr;vr=Ir,Ir=Kr}if($r||vr%1||Ir%1){var en=Bu();return Vi(vr+en*(Ir-vr+Nf("1e-"+((en+"").length-1))),Ir)}return gc(vr,Ir)}var sm=ds(function(vr,Ir,$r){return Ir=Ir.toLowerCase(),vr+($r?ff(Ir):Ir)});function ff(vr){return Kc(hi(vr).toLowerCase())}function df(vr){return vr=hi(vr),vr&&vr.replace(ws,Zf).replace(xf,"")}function am(vr,Ir,$r){vr=hi(vr),Ir=ro(Ir);var Kr=vr.length;$r=$r===d?Kr:qo(si($r),0,Kr);var en=$r;return $r-=Ir.length,$r>=0&&vr.slice($r,en)==Ir}function cm(vr){return vr=hi(vr),vr&&xi.test(vr)?vr.replace(Si,Jf):vr}function um(vr){return vr=hi(vr),vr&&Gs.test(vr)?vr.replace(_i,"\\$&"):vr}var lm=ds(function(vr,Ir,$r){return vr+($r?"-":"")+Ir.toLowerCase()}),fm=ds(function(vr,Ir,$r){return vr+($r?" ":"")+Ir.toLowerCase()}),dm=pl("toLowerCase");function hm(vr,Ir,$r){vr=hi(vr),Ir=si(Ir);var Kr=Ir?os(vr):0;if(!Ir||Kr>=Ir)return vr;var en=(Ir-Kr)/2;return Oa(da(en),$r)+vr+Oa(fa(en),$r)}function pm(vr,Ir,$r){vr=hi(vr),Ir=si(Ir);var Kr=Ir?os(vr):0;return Ir&&Kr<Ir?vr+Oa(Ir-Kr,$r):vr}function gm(vr,Ir,$r){vr=hi(vr),Ir=si(Ir);var Kr=Ir?os(vr):0;return Ir&&Kr<Ir?Oa(Ir-Kr,$r)+vr:vr}function ym(vr,Ir,$r){return $r||Ir==null?Ir=0:Ir&&(Ir=+Ir),Ad(hi(vr).replace(bi,""),Ir||0)}function mm(vr,Ir,$r){return($r?Gi(vr,Ir,$r):Ir===d)?Ir=1:Ir=si(Ir),yc(hi(vr),Ir)}function _m(){var vr=arguments,Ir=hi(vr[0]);return vr.length<3?Ir:Ir.replace(vr[1],vr[2])}var bm=ds(function(vr,Ir,$r){return vr+($r?"_":"")+Ir.toLowerCase()});function wm(vr,Ir,$r){return $r&&typeof $r!="number"&&Gi(vr,Ir,$r)&&(Ir=$r=d),$r=$r===d?qr:$r>>>0,$r?(vr=hi(vr),vr&&(typeof Ir=="string"||Ir!=null&&!Uc(Ir))&&(Ir=ro(Ir),!Ir&&ns(vr))?Fo(go(vr),0,$r):vr.split(Ir,$r)):[]}var vm=ds(function(vr,Ir,$r){return vr+($r?" ":"")+Kc(Ir)});function Sm(vr,Ir,$r){return vr=hi(vr),$r=$r==null?0:qo(si($r),0,vr.length),Ir=ro(Ir),vr.slice($r,$r+Ir.length)==Ir}function Am(vr,Ir,$r){var Kr=cn.templateSettings;$r&&Gi(vr,Ir,$r)&&(Ir=d),vr=hi(vr),Ir=Da({},Ir,Kr,vl);var en=Da({},Ir.imports,Kr.imports,vl),un=Ki(en),An=Xa(en,un),Tn,Pn,qn=0,Wn=Ir.interpolate||$o,Zn="__p += '",Qn=tc((Ir.escape||$o).source+"|"+Wn.source+"|"+(Wn===Ai?Js:$o).source+"|"+(Ir.evaluate||$o).source+"|$","g"),ei="//# sourceURL="+(pi.call(Ir,"sourceURL")?(Ir.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pf+"]")+`
`;vr.replace(Qn,function(ni,ui,fi,io,Yi,oo){return fi||(fi=io),Zn+=vr.slice(qn,oo).replace(vs,Qf),ui&&(Tn=!0,Zn+=`' +
__e(`+ui+`) +
'`),Yi&&(Pn=!0,Zn+=`';
`+Yi+`;
__p += '`),fi&&(Zn+=`' +
((__t = (`+fi+`)) == null ? '' : __t) +
'`),qn=oo+ni.length,ni}),Zn+=`';
`;var ri=pi.call(Ir,"variable")&&Ir.variable;if(!ri)Zn=`with (obj) {
`+Zn+`
}
`;else if(Ci.test(ri))throw new ii(wr);Zn=(Pn?Zn.replace(Gn,""):Zn).replace(Oi,"$1").replace(Hs,"$1;"),Zn="function("+(ri||"obj")+`) {
`+(ri?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Tn?", __e = _.escape":"")+(Pn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Zn+`return __p
}`;var ai=pf(function(){return di(un,ei+"return "+Zn).apply(d,An)});if(ai.source=Zn,Dc(ai))throw ai;return ai}function Em(vr){return hi(vr).toLowerCase()}function Im(vr){return hi(vr).toUpperCase()}function Om(vr,Ir,$r){if(vr=hi(vr),vr&&($r||Ir===d))return Su(vr);if(!vr||!(Ir=ro(Ir)))return vr;var Kr=go(vr),en=go(Ir),un=Au(Kr,en),An=Eu(Kr,en)+1;return Fo(Kr,un,An).join("")}function xm(vr,Ir,$r){if(vr=hi(vr),vr&&($r||Ir===d))return vr.slice(0,Ou(vr)+1);if(!vr||!(Ir=ro(Ir)))return vr;var Kr=go(vr),en=Eu(Kr,go(Ir))+1;return Fo(Kr,0,en).join("")}function Tm(vr,Ir,$r){if(vr=hi(vr),vr&&($r||Ir===d))return vr.replace(bi,"");if(!vr||!(Ir=ro(Ir)))return vr;var Kr=go(vr),en=Au(Kr,go(Ir));return Fo(Kr,en).join("")}function km(vr,Ir){var $r=fn,Kr=gn;if(Ii(Ir)){var en="separator"in Ir?Ir.separator:en;$r="length"in Ir?si(Ir.length):$r,Kr="omission"in Ir?ro(Ir.omission):Kr}vr=hi(vr);var un=vr.length;if(ns(vr)){var An=go(vr);un=An.length}if($r>=un)return vr;var Tn=$r-os(Kr);if(Tn<1)return Kr;var Pn=An?Fo(An,0,Tn).join(""):vr.slice(0,Tn);if(en===d)return Pn+Kr;if(An&&(Tn+=Pn.length-Tn),Uc(en)){if(vr.slice(Tn).search(en)){var qn,Wn=Pn;for(en.global||(en=tc(en.source,hi(Ei.exec(en))+"g")),en.lastIndex=0;qn=en.exec(Wn);)var Zn=qn.index;Pn=Pn.slice(0,Zn===d?Tn:Zn)}}else if(vr.indexOf(ro(en),Tn)!=Tn){var Qn=Pn.lastIndexOf(en);Qn>-1&&(Pn=Pn.slice(0,Qn))}return Pn+Kr}function Rm(vr){return vr=hi(vr),vr&&Vs.test(vr)?vr.replace(vi,od):vr}var $m=ds(function(vr,Ir,$r){return vr+($r?" ":"")+Ir.toUpperCase()}),Kc=pl("toUpperCase");function hf(vr,Ir,$r){return vr=hi(vr),Ir=$r?d:Ir,Ir===d?ed(vr)?cd(vr):Vf(vr):vr.match(Ir)||[]}var pf=ci(function(vr,Ir){try{return eo(vr,d,Ir)}catch($r){return Dc($r)?$r:new ii($r)}}),Pm=Oo(function(vr,Ir){return ao(Ir,function($r){$r=vo($r),Eo(vr,$r,Lc(vr[$r],vr))}),vr});function Bm(vr){var Ir=vr==null?0:vr.length,$r=ti();return vr=Ir?wi(vr,function(Kr){if(typeof Kr[1]!="function")throw new co(br);return[$r(Kr[0]),Kr[1]]}):[],ci(function(Kr){for(var en=-1;++en<Ir;){var un=vr[en];if(eo(un[0],this,Kr))return eo(un[1],this,Kr)}})}function Cm(vr){return oh(lo(vr,kr))}function zc(vr){return function(){return vr}}function Mm(vr,Ir){return vr==null||vr!==vr?Ir:vr}var Lm=yl(),Nm=yl(!0);function Xi(vr){return vr}function Hc(vr){return qu(typeof vr=="function"?vr:lo(vr,kr))}function Dm(vr){return Gu(lo(vr,kr))}function Um(vr,Ir){return Yu(vr,lo(Ir,kr))}var Fm=ci(function(vr,Ir){return function($r){return Ns($r,vr,Ir)}}),jm=ci(function(vr,Ir){return function($r){return Ns(vr,$r,Ir)}});function Vc(vr,Ir,$r){var Kr=Ki(Ir),en=ba(Ir,Kr);$r==null&&!(Ii(Ir)&&(en.length||!Kr.length))&&($r=Ir,Ir=vr,vr=this,en=ba(Ir,Ki(Ir)));var un=!(Ii($r)&&"chain"in $r)||!!$r.chain,An=To(vr);return ao(en,function(Tn){var Pn=Ir[Tn];vr[Tn]=Pn,An&&(vr.prototype[Tn]=function(){var qn=this.__chain__;if(un||qn){var Wn=vr(this.__wrapped__),Zn=Wn.__actions__=Zi(this.__actions__);return Zn.push({func:Pn,args:arguments,thisArg:vr}),Wn.__chain__=qn,Wn}return Pn.apply(vr,Co([this.value()],arguments))})}),vr}function Km(){return zi._===this&&(zi._=pd),this}function qc(){}function zm(vr){return vr=si(vr),ci(function(Ir){return Zu(Ir,vr)})}var Hm=Ac(wi),Vm=Ac(mu),qm=Ac(Ga);function gf(vr){return Rc(vr)?Ya(vo(vr)):Sh(vr)}function Wm(vr){return function(Ir){return vr==null?d:Wo(vr,Ir)}}var Gm=_l(),Ym=_l(!0);function Wc(){return[]}function Gc(){return!1}function Zm(){return{}}function Jm(){return""}function Qm(){return!0}function Xm(vr,Ir){if(vr=si(vr),vr<1||vr>Xr)return[];var $r=qr,Kr=Vi(vr,qr);Ir=ti(Ir),vr-=qr;for(var en=Qa(Kr,Ir);++$r<vr;)Ir($r);return en}function e0(vr){return oi(vr)?wi(vr,vo):no(vr)?[vr]:Zi(Cl(hi(vr)))}function t0(vr){var Ir=++dd;return hi(vr)+Ir}var r0=Ia(function(vr,Ir){return vr+Ir},0),n0=Ec("ceil"),i0=Ia(function(vr,Ir){return vr/Ir},1),o0=Ec("floor");function s0(vr){return vr&&vr.length?ma(vr,Xi,uc):d}function a0(vr,Ir){return vr&&vr.length?ma(vr,ti(Ir,2),uc):d}function c0(vr){return wu(vr,Xi)}function u0(vr,Ir){return wu(vr,ti(Ir,2))}function l0(vr){return vr&&vr.length?ma(vr,Xi,hc):d}function f0(vr,Ir){return vr&&vr.length?ma(vr,ti(Ir,2),hc):d}var d0=Ia(function(vr,Ir){return vr*Ir},1),h0=Ec("round"),p0=Ia(function(vr,Ir){return vr-Ir},0);function g0(vr){return vr&&vr.length?Ja(vr,Xi):0}function y0(vr,Ir){return vr&&vr.length?Ja(vr,ti(Ir,2)):0}return cn.after=Dg,cn.ary=Vl,cn.assign=Iy,cn.assignIn=sf,cn.assignInWith=Da,cn.assignWith=Oy,cn.at=xy,cn.before=ql,cn.bind=Lc,cn.bindAll=Pm,cn.bindKey=Wl,cn.castArray=Zg,cn.chain=Kl,cn.chunk=op,cn.compact=sp,cn.concat=ap,cn.cond=Bm,cn.conforms=Cm,cn.constant=zc,cn.countBy=gg,cn.create=Ty,cn.curry=Gl,cn.curryRight=Yl,cn.debounce=Zl,cn.defaults=ky,cn.defaultsDeep=Ry,cn.defer=Ug,cn.delay=Fg,cn.difference=cp,cn.differenceBy=up,cn.differenceWith=lp,cn.drop=fp,cn.dropRight=dp,cn.dropRightWhile=hp,cn.dropWhile=pp,cn.fill=gp,cn.filter=mg,cn.flatMap=wg,cn.flatMapDeep=vg,cn.flatMapDepth=Sg,cn.flatten=Dl,cn.flattenDeep=yp,cn.flattenDepth=mp,cn.flip=jg,cn.flow=Lm,cn.flowRight=Nm,cn.fromPairs=_p,cn.functions=Ny,cn.functionsIn=Dy,cn.groupBy=Ag,cn.initial=wp,cn.intersection=vp,cn.intersectionBy=Sp,cn.intersectionWith=Ap,cn.invert=Fy,cn.invertBy=jy,cn.invokeMap=Ig,cn.iteratee=Hc,cn.keyBy=Og,cn.keys=Ki,cn.keysIn=Qi,cn.map=Pa,cn.mapKeys=zy,cn.mapValues=Hy,cn.matches=Dm,cn.matchesProperty=Um,cn.memoize=Ca,cn.merge=Vy,cn.mergeWith=af,cn.method=Fm,cn.methodOf=jm,cn.mixin=Vc,cn.negate=Ma,cn.nthArg=zm,cn.omit=qy,cn.omitBy=Wy,cn.once=Kg,cn.orderBy=xg,cn.over=Hm,cn.overArgs=zg,cn.overEvery=Vm,cn.overSome=qm,cn.partial=Nc,cn.partialRight=Jl,cn.partition=Tg,cn.pick=Gy,cn.pickBy=cf,cn.property=gf,cn.propertyOf=Wm,cn.pull=xp,cn.pullAll=Fl,cn.pullAllBy=Tp,cn.pullAllWith=kp,cn.pullAt=Rp,cn.range=Gm,cn.rangeRight=Ym,cn.rearg=Hg,cn.reject=$g,cn.remove=$p,cn.rest=Vg,cn.reverse=Cc,cn.sampleSize=Bg,cn.set=Zy,cn.setWith=Jy,cn.shuffle=Cg,cn.slice=Pp,cn.sortBy=Ng,cn.sortedUniq=Up,cn.sortedUniqBy=Fp,cn.split=wm,cn.spread=qg,cn.tail=jp,cn.take=Kp,cn.takeRight=zp,cn.takeRightWhile=Hp,cn.takeWhile=Vp,cn.tap=sg,cn.throttle=Wg,cn.thru=$a,cn.toArray=rf,cn.toPairs=uf,cn.toPairsIn=lf,cn.toPath=e0,cn.toPlainObject=of,cn.transform=Qy,cn.unary=Gg,cn.union=qp,cn.unionBy=Wp,cn.unionWith=Gp,cn.uniq=Yp,cn.uniqBy=Zp,cn.uniqWith=Jp,cn.unset=Xy,cn.unzip=Mc,cn.unzipWith=jl,cn.update=em,cn.updateWith=tm,cn.values=gs,cn.valuesIn=rm,cn.without=Qp,cn.words=hf,cn.wrap=Yg,cn.xor=Xp,cn.xorBy=eg,cn.xorWith=tg,cn.zip=rg,cn.zipObject=ng,cn.zipObjectDeep=ig,cn.zipWith=og,cn.entries=uf,cn.entriesIn=lf,cn.extend=sf,cn.extendWith=Da,Vc(cn,cn),cn.add=r0,cn.attempt=pf,cn.camelCase=sm,cn.capitalize=ff,cn.ceil=n0,cn.clamp=nm,cn.clone=Jg,cn.cloneDeep=Xg,cn.cloneDeepWith=ey,cn.cloneWith=Qg,cn.conformsTo=ty,cn.deburr=df,cn.defaultTo=Mm,cn.divide=i0,cn.endsWith=am,cn.eq=mo,cn.escape=cm,cn.escapeRegExp=um,cn.every=yg,cn.find=_g,cn.findIndex=Ll,cn.findKey=$y,cn.findLast=bg,cn.findLastIndex=Nl,cn.findLastKey=Py,cn.floor=o0,cn.forEach=zl,cn.forEachRight=Hl,cn.forIn=By,cn.forInRight=Cy,cn.forOwn=My,cn.forOwnRight=Ly,cn.get=Fc,cn.gt=ry,cn.gte=ny,cn.has=Uy,cn.hasIn=jc,cn.head=Ul,cn.identity=Xi,cn.includes=Eg,cn.indexOf=bp,cn.inRange=im,cn.invoke=Ky,cn.isArguments=Zo,cn.isArray=oi,cn.isArrayBuffer=iy,cn.isArrayLike=Ji,cn.isArrayLikeObject=Di,cn.isBoolean=oy,cn.isBuffer=jo,cn.isDate=sy,cn.isElement=ay,cn.isEmpty=cy,cn.isEqual=uy,cn.isEqualWith=ly,cn.isError=Dc,cn.isFinite=fy,cn.isFunction=To,cn.isInteger=Ql,cn.isLength=La,cn.isMap=Xl,cn.isMatch=dy,cn.isMatchWith=hy,cn.isNaN=py,cn.isNative=gy,cn.isNil=my,cn.isNull=yy,cn.isNumber=ef,cn.isObject=Ii,cn.isObjectLike=Ni,cn.isPlainObject=zs,cn.isRegExp=Uc,cn.isSafeInteger=_y,cn.isSet=tf,cn.isString=Na,cn.isSymbol=no,cn.isTypedArray=ps,cn.isUndefined=by,cn.isWeakMap=wy,cn.isWeakSet=vy,cn.join=Ep,cn.kebabCase=lm,cn.last=ho,cn.lastIndexOf=Ip,cn.lowerCase=fm,cn.lowerFirst=dm,cn.lt=Sy,cn.lte=Ay,cn.max=s0,cn.maxBy=a0,cn.mean=c0,cn.meanBy=u0,cn.min=l0,cn.minBy=f0,cn.stubArray=Wc,cn.stubFalse=Gc,cn.stubObject=Zm,cn.stubString=Jm,cn.stubTrue=Qm,cn.multiply=d0,cn.nth=Op,cn.noConflict=Km,cn.noop=qc,cn.now=Ba,cn.pad=hm,cn.padEnd=pm,cn.padStart=gm,cn.parseInt=ym,cn.random=om,cn.reduce=kg,cn.reduceRight=Rg,cn.repeat=mm,cn.replace=_m,cn.result=Yy,cn.round=h0,cn.runInContext=$n,cn.sample=Pg,cn.size=Mg,cn.snakeCase=bm,cn.some=Lg,cn.sortedIndex=Bp,cn.sortedIndexBy=Cp,cn.sortedIndexOf=Mp,cn.sortedLastIndex=Lp,cn.sortedLastIndexBy=Np,cn.sortedLastIndexOf=Dp,cn.startCase=vm,cn.startsWith=Sm,cn.subtract=p0,cn.sum=g0,cn.sumBy=y0,cn.template=Am,cn.times=Xm,cn.toFinite=ko,cn.toInteger=si,cn.toLength=nf,cn.toLower=Em,cn.toNumber=po,cn.toSafeInteger=Ey,cn.toString=hi,cn.toUpper=Im,cn.trim=Om,cn.trimEnd=xm,cn.trimStart=Tm,cn.truncate=km,cn.unescape=Rm,cn.uniqueId=t0,cn.upperCase=$m,cn.upperFirst=Kc,cn.each=zl,cn.eachRight=Hl,cn.first=Ul,Vc(cn,function(){var vr={};return bo(cn,function(Ir,$r){pi.call(cn.prototype,$r)||(vr[$r]=Ir)}),vr}(),{chain:!1}),cn.VERSION=y,ao(["bind","bindKey","curry","curryRight","partial","partialRight"],function(vr){cn[vr].placeholder=cn}),ao(["drop","take"],function(vr,Ir){li.prototype[vr]=function($r){$r=$r===d?1:ji(si($r),0);var Kr=this.__filtered__&&!Ir?new li(this):this.clone();return Kr.__filtered__?Kr.__takeCount__=Vi($r,Kr.__takeCount__):Kr.__views__.push({size:Vi($r,qr),type:vr+(Kr.__dir__<0?"Right":"")}),Kr},li.prototype[vr+"Right"]=function($r){return this.reverse()[vr]($r).reverse()}}),ao(["filter","map","takeWhile"],function(vr,Ir){var $r=Ir+1,Kr=$r==Rr||$r==Vr;li.prototype[vr]=function(en){var un=this.clone();return un.__iteratees__.push({iteratee:ti(en,3),type:$r}),un.__filtered__=un.__filtered__||Kr,un}}),ao(["head","last"],function(vr,Ir){var $r="take"+(Ir?"Right":"");li.prototype[vr]=function(){return this[$r](1).value()[0]}}),ao(["initial","tail"],function(vr,Ir){var $r="drop"+(Ir?"":"Right");li.prototype[vr]=function(){return this.__filtered__?new li(this):this[$r](1)}}),li.prototype.compact=function(){return this.filter(Xi)},li.prototype.find=function(vr){return this.filter(vr).head()},li.prototype.findLast=function(vr){return this.reverse().find(vr)},li.prototype.invokeMap=ci(function(vr,Ir){return typeof vr=="function"?new li(this):this.map(function($r){return Ns($r,vr,Ir)})}),li.prototype.reject=function(vr){return this.filter(Ma(ti(vr)))},li.prototype.slice=function(vr,Ir){vr=si(vr);var $r=this;return $r.__filtered__&&(vr>0||Ir<0)?new li($r):(vr<0?$r=$r.takeRight(-vr):vr&&($r=$r.drop(vr)),Ir!==d&&(Ir=si(Ir),$r=Ir<0?$r.dropRight(-Ir):$r.take(Ir-vr)),$r)},li.prototype.takeRightWhile=function(vr){return this.reverse().takeWhile(vr).reverse()},li.prototype.toArray=function(){return this.take(qr)},bo(li.prototype,function(vr,Ir){var $r=/^(?:filter|find|map|reject)|While$/.test(Ir),Kr=/^(?:head|last)$/.test(Ir),en=cn[Kr?"take"+(Ir=="last"?"Right":""):Ir],un=Kr||/^find/.test(Ir);!en||(cn.prototype[Ir]=function(){var An=this.__wrapped__,Tn=Kr?[1]:arguments,Pn=An instanceof li,qn=Tn[0],Wn=Pn||oi(An),Zn=function(ui){var fi=en.apply(cn,Co([ui],Tn));return Kr&&Qn?fi[0]:fi};Wn&&$r&&typeof qn=="function"&&qn.length!=1&&(Pn=Wn=!1);var Qn=this.__chain__,ei=!!this.__actions__.length,ri=un&&!Qn,ai=Pn&&!ei;if(!un&&Wn){An=ai?An:new li(this);var ni=vr.apply(An,Tn);return ni.__actions__.push({func:$a,args:[Zn],thisArg:d}),new uo(ni,Qn)}return ri&&ai?vr.apply(this,Tn):(ni=this.thru(Zn),ri?Kr?ni.value()[0]:ni.value():ni)})}),ao(["pop","push","shift","sort","splice","unshift"],function(vr){var Ir=ra[vr],$r=/^(?:push|sort|unshift)$/.test(vr)?"tap":"thru",Kr=/^(?:pop|shift)$/.test(vr);cn.prototype[vr]=function(){var en=arguments;if(Kr&&!this.__chain__){var un=this.value();return Ir.apply(oi(un)?un:[],en)}return this[$r](function(An){return Ir.apply(oi(An)?An:[],en)})}}),bo(li.prototype,function(vr,Ir){var $r=cn[Ir];if($r){var Kr=$r.name+"";pi.call(us,Kr)||(us[Kr]=[]),us[Kr].push({name:Ir,func:$r})}}),us[Ea(d,zr).name]=[{name:"wrapper",func:d}],li.prototype.clone=Rd,li.prototype.reverse=$d,li.prototype.value=Pd,cn.prototype.at=ag,cn.prototype.chain=cg,cn.prototype.commit=ug,cn.prototype.next=lg,cn.prototype.plant=dg,cn.prototype.reverse=hg,cn.prototype.toJSON=cn.prototype.valueOf=cn.prototype.value=pg,cn.prototype.first=cn.prototype.head,Rs&&(cn.prototype[Rs]=fg),cn},ss=ud();Ko?((Ko.exports=ss)._=ss,Ha._=ss):zi._=ss}).call(commonjsGlobal)})(lodash,lodash.exports);var OrderCacheService$1={};Object.defineProperty(OrderCacheService$1,"__esModule",{value:!0});OrderCacheService$1.OrderCacheService=void 0;const lodash_1=lodash.exports,mobx_1=require$$1,Order_1=Order,types_1=types$2;class OrderCacheService{constructor(){this.endTriggered=!1,this.observableData={buyOrdersCache:new Map,sellOrdersCache:new Map},this.orderChanges=(0,mobx_1.observable)([]),this.observableData=(0,mobx_1.makeAutoObservable)(this.observableData),(0,mobx_1.makeObservable)(this,{buyOrdersCache:mobx_1.computed,sellOrdersCache:mobx_1.computed,allOrdersCache:mobx_1.computed})}get buyOrdersCache(){return this.observableData.buyOrdersCache}get sellOrdersCache(){return this.observableData.sellOrdersCache}get allOrdersCache(){const c=new Map;return this.buyOrdersCache.forEach(d=>{d.forEach((y,gr)=>{c.set(gr,y)})}),this.sellOrdersCache.forEach(d=>{d.forEach((y,gr)=>{c.set(gr,y)})}),c}get mints(){return(0,lodash_1.union)(Array.from(this.buyOrdersCache.keys()),Array.from(this.sellOrdersCache.keys()))}get orders(){return this.allOrdersCache}get buyOrders(){const c=new Map;return this.buyOrdersCache.forEach(d=>{d.forEach(y=>{c.set(y.id,y)})}),c}get sellOrders(){const c=new Map;return this.sellOrdersCache.forEach(d=>{d.forEach(y=>{c.set(y.id,y)})}),c}clearOrders(){const{allOrdersCache:c}=this;c.forEach(d=>{(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderRemoved,order:d})})}),this.buyOrdersCache.clear(),this.sellOrdersCache.clear()}getAllOrdersCache(){return this.allOrdersCache}getOrderCacheByType(c){return c===Order_1.OrderSide.Buy?this.getBuyOrderCache():this.getSellOrderCache()}getBuyOrderCache(){return new Map(this.buyOrdersCache)}getSellOrderCache(){return new Map(this.sellOrdersCache)}getOrderById(c){return this.allOrdersCache.get(c)}addOrder(c){const d=this.getOrdersForType(c.orderType);d.get(c.orderMint)||d.set(c.orderMint,new Map);const y=d.get(c.orderMint),gr=y.get(c.id);return gr&&gr.slotContext>c.slotContext?gr:(y.set(c.id,c),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderAdded,order:c})}),c)}updateOrder(c){const y=this.getOrdersForType(c.orderType).get(c.orderMint),gr=y.get(c.id);if(!!gr){if(gr.orderQtyRemaining!==c.orderQtyRemaining&&c.slotContext>gr.slotContext){const _r=(0,lodash_1.clone)(gr);_r.orderQtyRemaining=c.orderQtyRemaining,y.set(c.id,_r),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderModified,order:c})})}return c}}cancelOrder(c){return this.getOrdersForType(c.orderType).get(c.orderMint).delete(c.id)?((0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderRemoved,order:c})}),!0):!1}getOrdersForType(c){return c===Order_1.OrderSide.Buy?this.buyOrdersCache:this.sellOrdersCache}}OrderCacheService$1.OrderCacheService=OrderCacheService;var GmClientService={},helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.createTransactionFromInstructions=void 0;const web3_js_1$1=require$$0$2,createTransactionFromInstructions=u=>{const c=new web3_js_1$1.Transaction;return c.add(...u),c};helpers.createTransactionFromInstructions=createTransactionFromInstructions;var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.ONE_MILLION=void 0;constants.ONE_MILLION=1e6;var hasRequiredGmClientService;function requireGmClientService(){if(hasRequiredGmClientService)return GmClientService;hasRequiredGmClientService=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(xr,kr,Mr,Cr){function Nr(Ur){return Ur instanceof Mr?Ur:new Mr(function(Dr){Dr(Ur)})}return new(Mr||(Mr=Promise))(function(Ur,Dr){function zr(tn){try{Wr(Cr.next(tn))}catch(rn){Dr(rn)}}function Zr(tn){try{Wr(Cr.throw(tn))}catch(rn){Dr(rn)}}function Wr(tn){tn.done?Ur(tn.value):Nr(tn.value).then(zr,Zr)}Wr((Cr=Cr.apply(xr,kr||[])).next())})};Object.defineProperty(GmClientService,"__esModule",{value:!0}),GmClientService.GmClientService=void 0;const c=require$$0$2,d=requireInstruction_builders$1(),y=requirePda_getters(),gr=helpers,_r=requireUtil(),br=Order,wr=constants,Er=utils;class Or{constructor(){this.currencyInfo=[]}getRegisteredCurrencies(kr,Mr,Cr=!1){var Nr;return u(this,void 0,void 0,function*(){if(((Nr=this.currencyInfo)===null||Nr===void 0?void 0:Nr.length)&&!Cr)return this.currencyInfo;const Ur=[],Dr=yield(0,y.getAllRegisteredCurrencies)(kr,Mr);for(const zr of Dr){const{mint:Zr,royalty:Wr,saVault:tn}=zr,rn=yield kr.getTokenSupply(Zr,"recent"),{decimals:Jr}=rn.value;Ur.push({decimals:Jr,mint:Zr.toString(),royaltyPercentageAsDecimal:Wr.toNumber()/wr.ONE_MILLION,saVault:tn.toString()})}return this.currencyInfo=Ur,this.currencyInfo})}getAllOpenOrders(kr,Mr){return u(this,void 0,void 0,function*(){const Cr=yield(0,y.getAllOpenOrders)(kr,Mr),Nr=yield kr.getSlot();return this.accountItemsToOrders(kr,Mr,Cr,Nr)})}getOpenOrdersForPlayer(kr,Mr,Cr){return u(this,void 0,void 0,function*(){const Nr=yield(0,y.getOpenOrdersForPlayer)(kr,Mr,Cr),Ur=yield kr.getSlot();return this.accountItemsToOrders(kr,Cr,Nr,Ur)})}getOpenOrdersForCurrency(kr,Mr,Cr){return u(this,void 0,void 0,function*(){const Nr=yield(0,y.getOpenOrdersForCurrency)(kr,Mr,Cr),Ur=yield kr.getSlot();return this.accountItemsToOrders(kr,Cr,Nr,Ur)})}getOpenOrdersForAsset(kr,Mr,Cr){return u(this,void 0,void 0,function*(){const Nr=yield(0,y.getOpenOrdersForAsset)(kr,Mr,Cr),Ur=yield kr.getSlot();return this.accountItemsToOrders(kr,Cr,Nr,Ur)})}getOpenOrdersForPlayerAndCurrency(kr,Mr,Cr,Nr){return u(this,void 0,void 0,function*(){const Ur=yield(0,y.getOpenOrdersForPlayerAndCurrency)(kr,Mr,Cr,Nr),Dr=yield kr.getSlot();return this.accountItemsToOrders(kr,Nr,Ur,Dr)})}getOpenOrdersForPlayerAndAsset(kr,Mr,Cr,Nr){return u(this,void 0,void 0,function*(){const Ur=yield(0,y.getOpenOrdersForPlayerAndAsset)(kr,Mr,Cr,Nr),Dr=yield kr.getSlot();return this.accountItemsToOrders(kr,Nr,Ur,Dr)})}getOpenOrder(kr,Mr,Cr){return u(this,void 0,void 0,function*(){const Nr=yield(0,y.getSingleOrder)(kr,Mr,Cr),Ur={publicKey:Mr,account:Nr},Dr=yield kr.getSlot(),[zr]=yield this.accountItemsToOrders(kr,Cr,[Ur],Dr);return zr})}getInitializeOrderTransaction(kr,Mr,Cr,Nr,Ur,Dr,zr,Zr){return u(this,void 0,void 0,function*(){let Wr=d.createInitializeSellOrderInstruction,tn=Cr,rn=Nr;Zr===br.OrderSide.Buy&&(Wr=d.createInitializeBuyOrderInstruction,tn=Nr,rn=Cr);const Jr=yield(0,_r.getAssociatedTokenAddress)(Mr,tn),{ixSet:Qr}=yield Wr({connection:kr,depositMint:tn,initializerDepositTokenAccount:Jr,initializerMainAccount:Mr,originationQty:Ur,price:Dr,programId:zr,receiveMint:rn}),{signers:an,instructions:mn}=Qr;return{transaction:(0,gr.createTransactionFromInstructions)(mn),signers:an}})}getBnPriceForCurrency(kr,Mr,Cr,Nr){return u(this,void 0,void 0,function*(){const Ur=yield this.getRegisteredCurrencies(kr,Nr),{decimals:Dr}=Ur.find(zr=>zr.mint.toString()===Cr.toString());return(0,Er.convertDecimalPriceToBn)(Mr,Dr)})}getCancelOrderTransaction(kr,Mr,Cr,Nr){return u(this,void 0,void 0,function*(){const{instructions:Ur,signers:Dr}=yield(0,d.createCancelOrderInstruction)({connection:kr,orderAccount:Mr,orderInitializer:Cr,programId:Nr});return{transaction:(0,gr.createTransactionFromInstructions)(Ur),signers:Dr}})}getCreateExchangeTransaction(kr,Mr,Cr,Nr,Ur){return u(this,void 0,void 0,function*(){const Dr=new c.PublicKey(Mr.id),zr=new c.PublicKey(Mr.orderMint),Zr=new c.PublicKey(Mr.currencyMint),Wr=new c.PublicKey(Mr.owner),tn=yield(0,_r.getAssociatedTokenAddress)(Cr,Mr.orderType===br.OrderSide.Buy?zr:Zr),rn=yield this.getRegisteredCurrencies(kr,Ur),{saVault:Jr}=rn.find(fn=>fn.mint===Mr.currencyMint),{instructions:Qr,signers:an}=yield(0,d.createExchangeInstruction)({connection:kr,orderAccount:Dr,purchaseQty:Nr,orderTaker:Cr,orderTakerDepositTokenAccount:tn,programId:Ur,expectedPrice:Mr.price,orderType:Mr.orderType,assetMint:zr,currencyMint:Zr,orderInitializer:Wr,saVault:new c.PublicKey(Jr)});return{transaction:(0,gr.createTransactionFromInstructions)(Qr),signers:an}})}accountItemsToOrders(kr,Mr,Cr,Nr){return u(this,void 0,void 0,function*(){if(!Cr.length)return[];const Ur=yield this.getRegisteredCurrencies(kr,Mr);return Cr.map(Dr=>{const zr=Dr.publicKey.toString(),Zr=Object.keys(Dr.account.orderSide)[0]==="buy"?br.OrderSide.Buy:br.OrderSide.Sell,Wr=Dr.account.assetMint.toString(),tn=Dr.account.currencyMint.toString(),rn=Dr.account.price,Jr=Dr.account.orderRemainingQty.toNumber(),Qr=Dr.account.orderOriginationQty.toNumber(),an=Dr.account.orderInitializerPubkey.toString(),mn=Dr.account.initializerAssetTokenAccount.toString(),fn=Dr.account.initializerCurrencyTokenAccount.toString(),gn=Dr.account.createdAtTimestamp.toNumber(),{decimals:Sn}=Ur.find(Fr=>Fr.mint.toString()===tn);return new br.Order({id:zr,orderType:Zr,orderMint:Wr,currencyMint:tn,currencyDecimals:Sn,price:rn,orderQtyRemaining:Jr,orderOriginationQty:Qr,owner:an,ownerAssetTokenAccount:mn,ownerCurrencyTokenAccount:fn,createdAt:gn,slotContext:Nr})})})}}return GmClientService.GmClientService=Or,GmClientService}var GmEventService={},hasRequiredGmEventService;function requireGmEventService(){if(hasRequiredGmEventService)return GmEventService;hasRequiredGmEventService=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(Er,Or,xr,kr){function Mr(Cr){return Cr instanceof xr?Cr:new xr(function(Nr){Nr(Cr)})}return new(xr||(xr=Promise))(function(Cr,Nr){function Ur(Zr){try{zr(kr.next(Zr))}catch(Wr){Nr(Wr)}}function Dr(Zr){try{zr(kr.throw(Zr))}catch(Wr){Nr(Wr)}}function zr(Zr){Zr.done?Cr(Zr.value):Mr(Zr.value).then(Ur,Dr)}zr((kr=kr.apply(Er,Or||[])).next())})};Object.defineProperty(GmEventService,"__esModule",{value:!0}),GmEventService.GmEventService=void 0;const c=require$$0$1,d=models,y=types$2,gr=requireGmClientService(),_r=utils,br=types$2;class wr{constructor(Or,xr,kr){this.registeredCurrencyInfo={},this.eventListeners=[],this.queuedEvents=[],this.connection=Or,this.programId=xr,this.commitment=kr||Or.commitment,this.handleOrderCreated=this.handleOrderCreated.bind(this),this.handleOrderExchanged=this.handleOrderExchanged.bind(this),this.handleOrderCanceled=this.handleOrderCanceled.bind(this)}initialize(){return u(this,void 0,void 0,function*(){this.idl=(0,_r.getGmLogsIDL)(this.programId),this.provider=new c.AnchorProvider(this.connection,null,{commitment:this.commitment}),this.program=new c.Program(this.idl,this.programId,this.provider,{instruction:new c.BorshInstructionCoder(this.idl),accounts:new c.BorshAccountsCoder(this.idl),state:null,events:new c.BorshEventCoder(this.idl)}),yield this.setCurrencyInfo();const Or=this.program.addEventListener(br.GmLogs.InitializeMemo,this.handleOrderCreated),xr=this.program.addEventListener(br.GmLogs.ExchangeMemo,this.handleOrderExchanged),kr=this.program.addEventListener(br.GmLogs.CancelOrderMemo,this.handleOrderCanceled),Mr=this.program.addEventListener(br.GmLogs.RegisterCurrencyMemo,this.handleCurrencyRegistered);this.eventListeners.push(Or,xr,kr,Mr)})}end(){return u(this,void 0,void 0,function*(){for(const Or of this.eventListeners)yield this.program.removeEventListener(Or);this.eventListeners=[],this.onEvent=null})}setEventHandler(Or){this.onEvent=Or;for(const xr of this.queuedEvents)this.onEvent(xr.eventType,xr.order,xr.slotContext)}setCurrencyInfo(){return u(this,void 0,void 0,function*(){const xr=yield new gr.GmClientService().getRegisteredCurrencies(this.connection,this.programId,!0);for(const kr of xr)this.registeredCurrencyInfo[kr.mint]=kr})}getParsedOrderFromEvent(Or,xr){const kr=this.registeredCurrencyInfo[Or.currencyMint.toString()];if(!kr)return null;const{decimals:Mr}=kr;return new d.Order({id:Or.orderId.toString(),orderType:Or.orderSide===0?d.OrderSide.Buy:d.OrderSide.Sell,orderMint:Or.assetMint.toString(),currencyMint:Or.currencyMint.toString(),currencyDecimals:Mr,price:Or.price,orderQtyRemaining:Or.orderRemainingQty.toNumber(),orderOriginationQty:Or.orderOriginationQty.toNumber(),owner:Or.orderInitializerPubkey.toString(),ownerAssetTokenAccount:Or.initializerAssetTokenAccount.toString(),ownerCurrencyTokenAccount:Or.initializerCurrencyTokenAccount.toString(),createdAt:Or.createdAtTimestamp.toNumber(),slotContext:xr})}handleOrderCreated(Or,xr){this.processEvent(y.GmEventType.orderAdded,this.getParsedOrderFromEvent(Or,xr),xr)}handleOrderExchanged(Or,xr){this.processEvent(y.GmEventType.orderModified,this.getParsedOrderFromEvent(Or,xr),xr)}handleOrderCanceled(Or,xr){this.processEvent(y.GmEventType.orderRemoved,this.getParsedOrderFromEvent(Or,xr),xr)}processEvent(Or,xr,kr){if(!this.onEvent){this.queuedEvents.push({eventType:Or,order:xr,slotContext:kr});return}this.onEvent(Or,xr,kr)}handleCurrencyRegistered(){return u(this,void 0,void 0,function*(){yield this.setCurrencyInfo()})}}return GmEventService.GmEventService=wr,GmEventService}var hasRequiredGmOrderbookService;function requireGmOrderbookService(){if(hasRequiredGmOrderbookService)return GmOrderbookService;hasRequiredGmOrderbookService=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(Er,Or,xr,kr){function Mr(Cr){return Cr instanceof xr?Cr:new xr(function(Nr){Nr(Cr)})}return new(xr||(xr=Promise))(function(Cr,Nr){function Ur(Zr){try{zr(kr.next(Zr))}catch(Wr){Nr(Wr)}}function Dr(Zr){try{zr(kr.throw(Zr))}catch(Wr){Nr(Wr)}}function zr(Zr){Zr.done?Cr(Zr.value):Mr(Zr.value).then(Ur,Dr)}zr((kr=kr.apply(Er,Or||[])).next())})};Object.defineProperty(GmOrderbookService,"__esModule",{value:!0}),GmOrderbookService.GmOrderbookService=void 0;const c=require$$0,d=lodash.exports,y=OrderCacheService$1,gr=types$2,_r=requireGmClientService(),br=requireGmEventService();class wr{constructor(Or,xr,kr=60){this.gmClientService=new _r.GmClientService,this.eventCallBacks=[],this.changeObserverDisposer=null,this.lastEventTimestamp=this.getNow(),this.isReloading=!1,this.connection=Or,this.marketplaceProgramId=xr,this.healthcheckThreshold=kr,this.orderCacheService=new y.OrderCacheService,this.gmClientService=new _r.GmClientService,this.gmEventService=new br.GmEventService(this.connection,this.marketplaceProgramId),this.handleMarketplaceEvent=this.handleMarketplaceEvent.bind(this)}initialize(){return u(this,void 0,void 0,function*(){return yield this.gmEventService.initialize(),this.changeObserverDisposer=(0,c.queueProcessor)(this.orderCacheService.orderChanges,Or=>{this.eventCallBacks.forEach(xr=>xr.onEvent(Or))},250),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.loadInitialOrders(),this.healthcheckTimer=setInterval(()=>{!this.getIsServiceHealthy()&&!this.isReloading&&this.resetOrdersData()},wr.HEALTH_CHECK_RATE),this.orderCacheService.mints.length})}end(){return u(this,void 0,void 0,function*(){return yield this.gmEventService.end(),this.eventCallBacks=[],this.changeObserverDisposer=null,!0})}getIsServiceHealthy(){return this.getNow()-this.lastEventTimestamp<=this.healthcheckThreshold}resetOrdersData(){return u(this,void 0,void 0,function*(){this.isReloading||(this.isReloading=!0,yield this.resetEventService(),yield this.refetchOrderData(),this.lastEventTimestamp=this.getNow(),this.isReloading=!1)})}resetEventService(){return u(this,void 0,void 0,function*(){yield this.gmEventService.end(),this.gmEventService=new br.GmEventService(this.connection,this.marketplaceProgramId),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.gmEventService.initialize()})}refetchOrderData(){return u(this,void 0,void 0,function*(){const Or=this.orderCacheService.getAllOrdersCache();try{const xr=yield this.connection.getSlot("confirmed"),kr=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId),Mr=new Map;for(const Cr of kr){Mr.set(Cr.id,Cr);const Nr=Or.get(Cr.id);Nr?Nr&&Nr.orderQtyRemaining!==Cr.orderQtyRemaining&&this.updateOrderInCache(Cr):this.addOrderToCache(Cr)}for(const Cr of Array.from(Or.values()))Cr.slotContext<xr&&!Mr.get(Cr.id)&&this.removeOrderFromCache(Cr)}catch(xr){console.log("There was an error refreshing all marketplace data",xr)}})}addOnEventHandler(Or){this.eventCallBacks.push(Or)}removeOnEventHandler(Or){(0,d.pull)(this.eventCallBacks,Or)}loadInitialOrders(){return u(this,void 0,void 0,function*(){try{const Or=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId);for(const xr of Or)this.addOrderToCache(xr)}catch(Or){console.log(Or)}return this.orderCacheService.getAllOrdersCache().size})}addOrderToCache(Or){return this.orderCacheService.addOrder(Or)}removeOrderFromCache(Or){return this.orderCacheService.cancelOrder(Or)}updateOrderInCache(Or){return this.orderCacheService.updateOrder(Or)}getBuyOrders(){return this.orderCacheService.buyOrdersCache}getBuyOrdersForMint(Or){return this.orderCacheService.buyOrdersCache.get(Or)}getSellOrders(){return this.orderCacheService.sellOrdersCache}getSellOrdersForMint(Or){return this.orderCacheService.sellOrdersCache.get(Or)}getOrdersByType(Or){return Or==="buy"?this.getBuyOrders():this.getSellOrders()}getBuyOrdersByCurrencyAndItem(Or,xr){const kr=this.getBuyOrdersForMint(xr);if(!kr)return[];const Mr=[...kr.values()];return Mr.length?this.filterOrdersByCurrency(Or,Mr):[]}getSellOrdersByCurrencyAndItem(Or,xr){const kr=this.getSellOrdersForMint(xr);if(!kr)return[];const Mr=[...kr.values()];return Mr.length?this.filterOrdersByCurrency(Or,Mr):[]}filterOrdersByCurrency(Or,xr){return xr.length?xr.filter(kr=>kr.currencyMint===Or):[]}getOrderById(Or){return this.orderCacheService.getOrderById(Or)}getAllOrdersByItemMint(Or){const xr=new Map,kr=this.getSellOrdersForMint(Or),Mr=this.getBuyOrdersForMint(Or);if(kr)for(const Cr of kr.values())xr.set(Cr.id,Cr);if(Mr)for(const Cr of Mr.values())xr.set(Cr.id,Cr);return xr}getAllMints(){return this.orderCacheService.mints}getAllOrdersForUserAddress(Or){const xr=this.orderCacheService.getAllOrdersCache();return Array.from(xr.values()).filter(Cr=>Cr.owner===Or)}handleOrderAddedEvent(Or){this.addOrderToCache(Or)}handleOrderModifiedEvent(Or){if(Or.orderQtyRemaining===0){this.removeOrderFromCache(Or);return}this.updateOrderInCache(Or)}handleOrderCanceledEvent(Or){this.removeOrderFromCache(Or)}handleMarketplaceEvent(Or,xr){if(!!xr)switch(this.lastEventTimestamp=this.getNow(),Or){case gr.GmEventType.orderAdded:this.handleOrderAddedEvent(xr);break;case gr.GmEventType.orderModified:this.handleOrderModifiedEvent(xr);break;case gr.GmEventType.orderRemoved:this.handleOrderCanceledEvent(xr);break}}getNow(){return new Date().getTime()/1e3}}return GmOrderbookService.GmOrderbookService=wr,wr.HEALTH_CHECK_RATE=5e3,GmOrderbookService}var hasRequiredServices;function requireServices(){return hasRequiredServices||(hasRequiredServices=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(requireGmOrderbookService(),u),d(requireGmClientService(),u),d(requireGmEventService(),u)}(services)),services}var hasRequiredMarketplace;function requireMarketplace(){return hasRequiredMarketplace||(hasRequiredMarketplace=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(requireInstruction_builders$1(),u),d(requirePda_getters(),u),d(types$2,u),d(utils,u),d(models,u),d(requireServices(),u)}(marketplace)),marketplace}var hasRequiredGmHelper;function requireGmHelper(){if(hasRequiredGmHelper)return gmHelper$1;hasRequiredGmHelper=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(br,wr,Er,Or){function xr(kr){return kr instanceof Er?kr:new Er(function(Mr){Mr(kr)})}return new(Er||(Er=Promise))(function(kr,Mr){function Cr(Dr){try{Ur(Or.next(Dr))}catch(zr){Mr(zr)}}function Nr(Dr){try{Ur(Or.throw(Dr))}catch(zr){Mr(zr)}}function Ur(Dr){Dr.done?kr(Dr.value):xr(Dr.value).then(Cr,Nr)}Ur((Or=Or.apply(br,wr||[])).next())})};Object.defineProperty(gmHelper$1,"__esModule",{value:!0}),gmHelper$1.createAccountTransaction=gmHelper$1.createAccountInstruction=void 0;const c=require$$0$1,d=require$$0$2,y=requireMarketplace();function gr(br,wr,Er,Or){return u(this,void 0,void 0,function*(){const xr=(0,y.getGmIDL)(Or),kr=new c.AnchorProvider(br,null,null),Mr=new c.Program(xr,Or,kr);return d.SystemProgram.createAccount({fromPubkey:wr,newAccountPubkey:Er.publicKey,space:Mr.account.orderAccount.size,lamports:yield br.getMinimumBalanceForRentExemption(Mr.account.orderAccount.size),programId:Or})})}gmHelper$1.createAccountInstruction=gr;function _r(br,wr,Er,Or){return u(this,void 0,void 0,function*(){const xr=(0,y.getGmIDL)(Or),kr=new c.AnchorProvider(br,null,null),Mr=new c.Program(xr,Or,kr),Cr=new d.Transaction({recentBlockhash:(yield br.getLatestBlockhash()).blockhash,feePayer:wr});return Cr.add(d.SystemProgram.createAccount({fromPubkey:wr,newAccountPubkey:Er.publicKey,space:Mr.account.orderAccount.size,lamports:yield br.getMinimumBalanceForRentExemption(Mr.account.orderAccount.size),programId:Or})),Cr})}return gmHelper$1.createAccountTransaction=_r,gmHelper$1}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(requireHelpers(),u),d(wallet,u),d(requireGmHelper(),u)}(util)),util}var hasRequiredHarvestRewards;function requireHarvestRewards(){if(hasRequiredHarvestRewards)return harvestRewards;hasRequiredHarvestRewards=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(br,wr,Er,Or){function xr(kr){return kr instanceof Er?kr:new Er(function(Mr){Mr(kr)})}return new(Er||(Er=Promise))(function(kr,Mr){function Cr(Dr){try{Ur(Or.next(Dr))}catch(zr){Mr(zr)}}function Nr(Dr){try{Ur(Or.throw(Dr))}catch(zr){Mr(zr)}}function Ur(Dr){Dr.done?kr(Dr.value):xr(Dr.value).then(Cr,Nr)}Ur((Or=Or.apply(br,wr||[])).next())})};Object.defineProperty(harvestRewards,"__esModule",{value:!0}),harvestRewards.harvestRewardsInstruction=void 0;const c=require$$0$1,d=token,y=requireUtil(),gr=utils$3;function _r({connection:br,user:wr,rewardMint:Er,registeredStake:Or,stakingAccount:xr,programId:kr}){return u(this,void 0,void 0,function*(){const Mr=(0,gr.getStakingProgram)({connection:br,programId:kr}),Cr={signers:[],instructions:[]};let Nr=null,Ur=null;const Dr=yield(0,y.getTokenAccount)(br,wr,Er);Nr=Dr.tokenAccount,"createInstruction"in Dr&&Cr.instructions.push(Dr.createInstruction),Nr instanceof c.web3.Keypair?(Ur=Nr.publicKey,Cr.signers.push(Nr)):Ur=Nr;const zr=yield(0,d.associatedAddress)({owner:Or,mint:Er}),Zr=yield Mr.methods.harvest().accounts({user:wr,rewardMint:Er,registeredStake:Or,stakingAccount:xr,userRewardAccount:Ur,rewardAta:zr}).instruction();return Cr.instructions.push(Zr),Cr})}return harvestRewards.harvestRewardsInstruction=_r,harvestRewards}var initializeStaking={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(initializeStaking,"__esModule",{value:!0});initializeStaking.createInitializeStakingInstruction=void 0;const utils_1$6=utils$3;function createInitializeStakingInstruction({connection:u,updateAuthorityAccount:c,programId:d}){return __awaiter$7(this,void 0,void 0,function*(){const y=(0,utils_1$6.getStakingProgram)({connection:u,programId:d}),gr={signers:[],instructions:[]},_r=yield y.methods.initializeStaking().accounts({updateAuthorityAccount:c}).instruction();return gr.instructions.push(_r),gr})}initializeStaking.createInitializeStakingInstruction=createInitializeStakingInstruction;var registerStake={},pda_getters$1={},pda_getters={},seeds={};Object.defineProperty(seeds,"__esModule",{value:!0});seeds.ESCROW_AUTH=seeds.STAKING_VARS=seeds.STAKING_ESCROW=seeds.STAKING_ACCOUNT=seeds.REWARD_AUTH=seeds.REWARD_ACCOUNT=seeds.REGISTERED_STAKE=void 0;seeds.REGISTERED_STAKE=Buffer.from("registered-stake");seeds.REWARD_ACCOUNT=Buffer.from("reward-account");seeds.REWARD_AUTH=Buffer.from("reward-vault-authority");seeds.STAKING_ACCOUNT=Buffer.from("staking-account");seeds.STAKING_ESCROW=Buffer.from("staking-escrow");seeds.STAKING_VARS=Buffer.from("staking-vars");seeds.ESCROW_AUTH=Buffer.from("escrow-auth");var __awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(pda_getters,"__esModule",{value:!0});pda_getters.getRewardAuth=pda_getters.getTokenEscrow=pda_getters.getStakingVarsAccount=pda_getters.getStakingAccountsForRegisteredStake=pda_getters.getStakingAccount=pda_getters.getRegisteredStake=void 0;const anchor_1$4=require$$0$1,web3_js_1=require$$0$2,utils_1$5=utils$3,seeds_1=seeds;function getRegisteredStake(u,c,d,y){return __awaiter$6(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.REGISTERED_STAKE,c.toBuffer(),d.toBuffer(),y.toBuffer()],u)})}pda_getters.getRegisteredStake=getRegisteredStake;function getStakingAccount(u,c,d){return __awaiter$6(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_ACCOUNT,c.toBuffer(),d.toBuffer()],u)})}pda_getters.getStakingAccount=getStakingAccount;function getStakingAccountsForRegisteredStake(u,c,d){return __awaiter$6(this,void 0,void 0,function*(){const y=new anchor_1$4.AnchorProvider(u,null,null),gr=(0,utils_1$5.getStakingIdl)(c),_r=new anchor_1$4.Program(gr,c,y),br=[{dataSize:171},{memcmp:{offset:40,bytes:d.toBase58()}}];return yield _r.account.stakingAccount.all(br)})}pda_getters.getStakingAccountsForRegisteredStake=getStakingAccountsForRegisteredStake;function getStakingVarsAccount(u){return __awaiter$6(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_VARS],u)})}pda_getters.getStakingVarsAccount=getStakingVarsAccount;function getTokenEscrow(u,c,d){return __awaiter$6(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_ESCROW,c.toBuffer(),d.toBuffer()],u)})}pda_getters.getTokenEscrow=getTokenEscrow;function getRewardAuth(u,c){return __awaiter$6(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.REWARD_AUTH,c.toBuffer()],u)})}pda_getters.getRewardAuth=getRewardAuth;var pda_info_getters={},__awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(pda_info_getters,"__esModule",{value:!0});pda_info_getters.getStakingVarsAccountInfo=pda_info_getters.getStakingAccountInfo=pda_info_getters.getRegisteredStakeAccountInfo=void 0;const getStakingProgram_1=getStakingProgram$1,pda_getters_1$1=pda_getters;function getRegisteredStakeAccountInfo(u,c,d){return __awaiter$5(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:u,programId:d}).account.registeredStake.fetch(c)})}pda_info_getters.getRegisteredStakeAccountInfo=getRegisteredStakeAccountInfo;function getStakingAccountInfo(u,c,d){return __awaiter$5(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:u,programId:d}).account.stakingAccount.fetch(c)})}pda_info_getters.getStakingAccountInfo=getStakingAccountInfo;function getStakingVarsAccountInfo(u,c){return __awaiter$5(this,void 0,void 0,function*(){const d=(0,getStakingProgram_1.getStakingProgram)({connection:u,programId:c}),[y]=yield(0,pda_getters_1$1.getStakingVarsAccount)(c);return yield d.account.stakingVars.fetch(y)})}pda_info_getters.getStakingVarsAccountInfo=getStakingVarsAccountInfo;(function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(pda_getters,u),d(pda_info_getters,u),d(seeds,u)})(pda_getters$1);var __awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(registerStake,"__esModule",{value:!0});registerStake.registerStakeInstruction=void 0;const anchor_1$3=require$$0$1,token_1$1=token,pda_getters_1=pda_getters$1,utils_1$4=utils$3;function registerStakeInstruction({connection:u,authority:c,rewardMultiplier:d,stakeMint:y,rewardMint:gr,cooldownPeriod:_r,programId:br}){return __awaiter$4(this,void 0,void 0,function*(){const wr=(0,utils_1$4.getStakingProgram)({connection:u,programId:br}),Er={instructions:[],signers:[]},[Or]=yield(0,pda_getters_1.getRegisteredStake)(br,c,y,gr),xr=yield(0,token_1$1.associatedAddress)({owner:Or,mint:gr}),kr=yield wr.methods.registerStake(new anchor_1$3.BN(d),new anchor_1$3.BN(_r)).accounts({authority:c,stakeMint:y,rewardMint:gr,rewardAta:xr}).instruction();return Er.instructions.push(kr),Er})}registerStake.registerStakeInstruction=registerStakeInstruction;var settle={},__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(settle,"__esModule",{value:!0});settle.createSettleStakingAccountInstruction=void 0;const utils_1$3=utils$3;function createSettleStakingAccountInstruction({connection:u,authority:c,registeredStake:d,stakingAccount:y,updatedStakingPeriod:gr,programId:_r}){return __awaiter$3(this,void 0,void 0,function*(){const br=(0,utils_1$3.getStakingProgram)({connection:u,programId:_r}),wr={instructions:[],signers:[]},Er=yield br.methods.settle(gr).accounts({authority:c,registeredStake:d,stakingAccount:y}).instruction();return wr.instructions.push(Er),wr})}settle.createSettleStakingAccountInstruction=createSettleStakingAccountInstruction;var stakeTokens={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(stakeTokens,"__esModule",{value:!0});stakeTokens.stakeTokensInstruction=void 0;const anchor_1$2=require$$0$1,token_1=token,utils_1$2=utils$3;function stakeTokensInstruction({connection:u,user:c,stakeMint:d,tokenSource:y,stakeQuantity:gr,registeredStake:_r,stakingAccount:br,programId:wr}){return __awaiter$2(this,void 0,void 0,function*(){const Er=(0,utils_1$2.getStakingProgram)({connection:u,programId:wr}),Or=yield(0,token_1.associatedAddress)({owner:br,mint:d}),xr={instructions:[],signers:[]},kr=yield Er.methods.stakeTokens(new anchor_1$2.BN(gr)).accounts({user:c,stakeMint:d,tokenSource:y,registeredStake:_r,tokenEscrow:Or}).instruction();return xr.instructions.push(kr),xr})}stakeTokens.stakeTokensInstruction=stakeTokensInstruction;var unstakeTokens={},hasRequiredUnstakeTokens;function requireUnstakeTokens(){if(hasRequiredUnstakeTokens)return unstakeTokens;hasRequiredUnstakeTokens=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(wr,Er,Or,xr){function kr(Mr){return Mr instanceof Or?Mr:new Or(function(Cr){Cr(Mr)})}return new(Or||(Or=Promise))(function(Mr,Cr){function Nr(zr){try{Dr(xr.next(zr))}catch(Zr){Cr(Zr)}}function Ur(zr){try{Dr(xr.throw(zr))}catch(Zr){Cr(Zr)}}function Dr(zr){zr.done?Mr(zr.value):kr(zr.value).then(Nr,Ur)}Dr((xr=xr.apply(wr,Er||[])).next())})};Object.defineProperty(unstakeTokens,"__esModule",{value:!0}),unstakeTokens.unstakeTokensInstruction=void 0;const c=require$$0$1,d=token,y=requireUtil(),gr=pda_getters$1,_r=utils$3;function br({connection:wr,user:Er,registeredStake:Or,stakingAccount:xr,programId:kr}){return u(this,void 0,void 0,function*(){const Mr=(0,_r.getStakingProgram)({connection:wr,programId:kr}),Cr={signers:[],instructions:[]},Ur=(yield(0,gr.getRegisteredStakeAccountInfo)(wr,Or,kr)).rewardMint;let Dr=null,zr=null;const Zr=yield(0,y.getTokenAccount)(wr,Er,Ur);Dr=Zr.tokenAccount,"createInstruction"in Zr&&Cr.instructions.push(Zr.createInstruction),Dr instanceof c.web3.Keypair?(zr=Dr.publicKey,Cr.signers.push(Dr)):zr=Dr;const Wr=yield(0,d.associatedAddress)({owner:Or,mint:Ur}),tn=yield Mr.methods.unstakeTokens().accounts({user:Er,rewardMint:Ur,registeredStake:Or,stakingAccount:xr,userRewardAccount:zr,rewardAta:Wr}).instruction();return Cr.instructions.push(tn),Cr})}return unstakeTokens.unstakeTokensInstruction=br,unstakeTokens}var updateCooldownPeriod={},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(updateCooldownPeriod,"__esModule",{value:!0});updateCooldownPeriod.updateCooldownPeriodInstruction=void 0;const anchor_1$1=require$$0$1,utils_1$1=utils$3;function updateCooldownPeriodInstruction({connection:u,authority:c,registeredStake:d,cooldownPeriod:y,programId:gr}){return __awaiter$1(this,void 0,void 0,function*(){const _r=(0,utils_1$1.getStakingProgram)({connection:u,programId:gr}),br={instructions:[],signers:[]},wr=yield _r.methods.updateCooldownPeriod(new anchor_1$1.BN(y)).accounts({authority:c,registeredStake:d}).instruction();return br.instructions.push(wr),br})}updateCooldownPeriod.updateCooldownPeriodInstruction=updateCooldownPeriodInstruction;var updateRewardMultiplier={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(u,c,d,y){function gr(_r){return _r instanceof d?_r:new d(function(br){br(_r)})}return new(d||(d=Promise))(function(_r,br){function wr(xr){try{Or(y.next(xr))}catch(kr){br(kr)}}function Er(xr){try{Or(y.throw(xr))}catch(kr){br(kr)}}function Or(xr){xr.done?_r(xr.value):gr(xr.value).then(wr,Er)}Or((y=y.apply(u,c||[])).next())})};Object.defineProperty(updateRewardMultiplier,"__esModule",{value:!0});updateRewardMultiplier.updateRewardMultiplierInstruction=void 0;const anchor_1=require$$0$1,utils_1=utils$3;function updateRewardMultiplierInstruction({connection:u,authority:c,rewardMultiplier:d,registeredStake:y,newStakingPeriod:gr,programId:_r}){return __awaiter(this,void 0,void 0,function*(){const br=(0,utils_1.getStakingProgram)({connection:u,programId:_r}),wr={instructions:[],signers:[]},Er=yield br.methods.updateRewardMultiplier(new anchor_1.BN(d),gr).accounts({authority:c,registeredStake:y}).instruction();return wr.instructions.push(Er),wr})}updateRewardMultiplier.updateRewardMultiplierInstruction=updateRewardMultiplierInstruction;var withdrawTokens={},hasRequiredWithdrawTokens;function requireWithdrawTokens(){if(hasRequiredWithdrawTokens)return withdrawTokens;hasRequiredWithdrawTokens=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(br,wr,Er,Or){function xr(kr){return kr instanceof Er?kr:new Er(function(Mr){Mr(kr)})}return new(Er||(Er=Promise))(function(kr,Mr){function Cr(Dr){try{Ur(Or.next(Dr))}catch(zr){Mr(zr)}}function Nr(Dr){try{Ur(Or.throw(Dr))}catch(zr){Mr(zr)}}function Ur(Dr){Dr.done?kr(Dr.value):xr(Dr.value).then(Cr,Nr)}Ur((Or=Or.apply(br,wr||[])).next())})};Object.defineProperty(withdrawTokens,"__esModule",{value:!0}),withdrawTokens.withdrawTokensInstruction=void 0;const c=require$$0$1,d=token,y=utils$3,gr=requireUtil();function _r({connection:br,authority:wr,user:Er,stakeMint:Or,registeredStake:xr,stakingAccount:kr,programId:Mr}){return u(this,void 0,void 0,function*(){const Cr=(0,y.getStakingProgram)({connection:br,programId:Mr}),Nr=yield(0,d.associatedAddress)({owner:kr,mint:Or}),Ur={signers:[],instructions:[]};let Dr=null,zr=null;const Zr=yield(0,gr.getTokenAccount)(br,Er,Or);Dr=Zr.tokenAccount,"createInstruction"in Zr&&Ur.instructions.push(Zr.createInstruction),Dr instanceof c.web3.Keypair?(zr=Dr.publicKey,Ur.signers.push(Dr)):zr=Dr;const Wr=yield Cr.methods.withdrawTokens().accounts({user:Er,authority:wr,stakeMint:Or,tokenSource:zr,registeredStake:xr,stakingAccount:kr,tokenEscrow:Nr}).instruction();return Ur.instructions.push(Wr),Ur})}return withdrawTokens.withdrawTokensInstruction=_r,withdrawTokens}var hasRequiredInstruction_builders;function requireInstruction_builders(){return hasRequiredInstruction_builders||(hasRequiredInstruction_builders=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(baseParams,u),d(cancelUnstake,u),d(createStakeAccount,u),d(requireHarvestRewards(),u),d(initializeStaking,u),d(registerStake,u),d(settle,u),d(stakeTokens,u),d(requireUnstakeTokens(),u),d(updateCooldownPeriod,u),d(updateRewardMultiplier,u),d(requireWithdrawTokens(),u)}(instruction_builders$1)),instruction_builders$1}var types$1={},stakingProgramAccounts={};Object.defineProperty(stakingProgramAccounts,"__esModule",{value:!0});(function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(stakingIdl,u),d(stakingProgramAccounts,u)})(types$1);var hasRequiredAtlasStaking;function requireAtlasStaking(){return hasRequiredAtlasStaking||(hasRequiredAtlasStaking=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(requireInstruction_builders(),u),d(pda_getters$1,u),d(types$1,u),d(utils$3,u)}(atlasStaking)),atlasStaking}var factions={};(function(u){var c=commonjsGlobal&&commonjsGlobal.__awaiter||function(kr,Mr,Cr,Nr){function Ur(Dr){return Dr instanceof Cr?Dr:new Cr(function(zr){zr(Dr)})}return new(Cr||(Cr=Promise))(function(Dr,zr){function Zr(rn){try{tn(Nr.next(rn))}catch(Jr){zr(Jr)}}function Wr(rn){try{tn(Nr.throw(rn))}catch(Jr){zr(Jr)}}function tn(rn){rn.done?Dr(rn.value):Ur(rn.value).then(Zr,Wr)}tn((Nr=Nr.apply(kr,Mr||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.getPlayersOfFaction=u.getAllPlayers=u.getPlayer=u.enlistToFaction=u.getPlayerFactionPDA=u.getIDL=u.FactionType=void 0;const d=require$$0$1,y={version:"0.0.0",name:"enlist_to_faction",instructions:[{name:"processEnlistPlayer",accounts:[{name:"playerFactionAccount",isMut:!0,isSigner:!1},{name:"playerAccount",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"factionId",type:"u8"}]}],accounts:[{name:"PlayerFactionData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"enlistedAtTimestamp",type:"i64"},{name:"factionId",type:"u8"},{name:"bump",type:"u8"},{name:"padding",type:{array:["u64",5]}}]}}],errors:[{code:300,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."}],metadata:{}},gr="FACTION_ENLISTMENT";(function(kr){kr[kr.Unenlisted=-1]="Unenlisted",kr[kr.MUD=0]="MUD",kr[kr.ONI=1]="ONI",kr[kr.Ustur=2]="Ustur"})(u.FactionType||(u.FactionType={}));function _r(kr){const Mr=y;return Mr.metadata.address=kr.toBase58(),Mr}u.getIDL=_r;function br(kr,Mr){return c(this,void 0,void 0,function*(){return d.web3.PublicKey.findProgramAddress([Buffer.from(gr,"utf8"),kr.toBuffer()],Mr)})}u.getPlayerFactionPDA=br;function wr(kr,Mr,Cr,Nr){return c(this,void 0,void 0,function*(){const[Ur,Dr]=yield br(Cr,Nr),zr=_r(Nr),Zr=new d.AnchorProvider(kr,null,null);return yield new d.Program(zr,Nr,Zr).instruction.processEnlistPlayer(Dr,Mr,{accounts:{playerFactionAccount:Ur,playerAccount:Cr,systemProgram:d.web3.SystemProgram.programId,clock:d.web3.SYSVAR_CLOCK_PUBKEY}})})}u.enlistToFaction=wr;function Er(kr,Mr,Cr){return c(this,void 0,void 0,function*(){const Nr=new d.AnchorProvider(kr,null,null),Ur=_r(Cr),Dr=new d.Program(Ur,Cr,Nr),[zr]=yield br(Mr,Cr);return yield Dr.account.playerFactionData.fetch(zr)})}u.getPlayer=Er;function Or(kr,Mr){return c(this,void 0,void 0,function*(){const Cr=new d.AnchorProvider(kr,null,null),Nr=_r(Mr);return(yield new d.Program(Nr,Mr,Cr).account.playerFactionData.all()).map(Zr=>Zr.account)})}u.getAllPlayers=Or;function xr(kr,Mr,Cr){return c(this,void 0,void 0,function*(){const Nr=new d.AnchorProvider(kr,null,null),Ur=_r(Cr);return(yield new d.Program(Ur,Cr,Nr).account.playerFactionData.all()).map(Wr=>Wr.account).filter(Wr=>Wr.factionId==Mr)})}u.getPlayersOfFaction=xr})(factions);var gumdrop={},gumdropIdl={};Object.defineProperty(gumdropIdl,"__esModule",{value:!0});gumdropIdl.gumDropIdl=void 0;gumdropIdl.gumDropIdl={version:"0.0.0",name:"merkle_distributor",instructions:[{name:"newDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]},{name:"closeDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"receiver",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"walletBump",type:"u8"}]},{name:"claim",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"claimStatus",isMut:!0,isSigner:!1},{name:"from",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimCandy",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"claimCount",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"candyMachineConfig",isMut:!1,isSigner:!1},{name:"candyMachine",isMut:!0,isSigner:!1},{name:"candyMachineWallet",isMut:!0,isSigner:!1},{name:"candyMachineMint",isMut:!0,isSigner:!1},{name:"candyMachineMetadata",isMut:!0,isSigner:!1},{name:"candyMachineMasterEdition",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"candyMachineProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"walletBump",type:"u8"},{name:"claimBump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]}],accounts:[{name:"MerkleDistributor",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]}},{name:"ClaimStatus",type:{kind:"struct",fields:[{name:"isClaimed",type:"bool"},{name:"claimant",type:"publicKey"},{name:"claimedAt",type:"i64"},{name:"amount",type:"u64"}]}},{name:"ClaimCount",type:{kind:"struct",fields:[{name:"count",type:"u64"},{name:"claimant",type:"publicKey"}]}},{name:"CandyMachine",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"wallet",type:"publicKey"},{name:"tokenMint",type:{option:"publicKey"}},{name:"config",type:"publicKey"},{name:"data",type:{defined:"CandyMachineData"}},{name:"itemsRedeemed",type:"u64"},{name:"bump",type:"u8"}]}}],types:[{name:"CandyMachineData",type:{kind:"struct",fields:[{name:"uuid",type:"string"},{name:"price",type:"u64"},{name:"itemsAvailable",type:"u64"},{name:"goLiveDate",type:{option:"i64"}}]}}],events:[{name:"ClaimedEvent",fields:[{name:"index",type:"u64",index:!1},{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:300,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:301,name:"DropAlreadyClaimed",msg:"Drop already claimed."},{code:302,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:303,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:304,name:"TemporalMismatch",msg:"Temporal signer did not match distributor"}]};var hasRequiredGumdrop;function requireGumdrop(){return hasRequiredGumdrop||(hasRequiredGumdrop=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Ur,Dr,zr,Zr){Zr===void 0&&(Zr=zr);var Wr=Object.getOwnPropertyDescriptor(Dr,zr);(!Wr||("get"in Wr?!Dr.__esModule:Wr.writable||Wr.configurable))&&(Wr={enumerable:!0,get:function(){return Dr[zr]}}),Object.defineProperty(Ur,Zr,Wr)}:function(Ur,Dr,zr,Zr){Zr===void 0&&(Zr=zr),Ur[Zr]=Dr[zr]}),d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Ur,Dr){Object.defineProperty(Ur,"default",{enumerable:!0,value:Dr})}:function(Ur,Dr){Ur.default=Dr}),y=commonjsGlobal&&commonjsGlobal.__importStar||function(Ur){if(Ur&&Ur.__esModule)return Ur;var Dr={};if(Ur!=null)for(var zr in Ur)zr!=="default"&&Object.prototype.hasOwnProperty.call(Ur,zr)&&c(Dr,Ur,zr);return d(Dr,Ur),Dr},gr=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ur,Dr,zr,Zr){function Wr(tn){return tn instanceof zr?tn:new zr(function(rn){rn(tn)})}return new(zr||(zr=Promise))(function(tn,rn){function Jr(mn){try{an(Zr.next(mn))}catch(fn){rn(fn)}}function Qr(mn){try{an(Zr.throw(mn))}catch(fn){rn(fn)}}function an(mn){mn.done?tn(mn.value):Wr(mn.value).then(Jr,Qr)}an((Zr=Zr.apply(Ur,Dr||[])).next())})};Object.defineProperty(u,"__esModule",{value:!0}),u.claimTokenInstructions=u.getMultipleClaimStatusAccounts=u.getClaimStatusAccount=u.getClaimStatusKey=void 0;const _r=require$$0$1,br=require$$1$1,wr=y(bs58),Er=requireHelpers(),Or=gumdropIdl,xr=new _r.web3.PublicKey("gdrpGjVffourzkdDRrQmySw4aTHr8a3xmQzzxSwFD1a"),kr=(Ur,Dr,zr=xr)=>gr(void 0,void 0,void 0,function*(){return yield _r.web3.PublicKey.findProgramAddress([Buffer.from("ClaimStatus"),Ur.toArrayLike(Buffer,"le",8),Dr.toBuffer()],zr)});u.getClaimStatusKey=kr;const Mr=(Ur,Dr,zr,Zr=xr)=>gr(void 0,void 0,void 0,function*(){const Wr=new _r.AnchorProvider(Ur,null,null),tn=new _r.Program(Or.gumDropIdl,Zr,Wr),rn=yield(0,u.getClaimStatusKey)(Dr,zr,Zr);try{return yield tn.account.claimStatus.fetch(rn[0])}catch{return null}});u.getClaimStatusAccount=Mr;const Cr=(Ur,Dr,zr,Zr=xr)=>gr(void 0,void 0,void 0,function*(){const Wr=new _r.AnchorProvider(Ur,null,null),tn=new _r.Program(Or.gumDropIdl,Zr,Wr),rn=Dr.map(an=>(0,u.getClaimStatusKey)(an,zr,Zr)),Jr=(yield Promise.all(rn)).map(an=>an[0]);return yield tn.account.claimStatus.fetchMultiple(Jr)});u.getMultipleClaimStatusAccounts=Cr;const Nr=Ur=>gr(void 0,void 0,void 0,function*(){const{connection:Dr,claimUrl:zr,playerPublicKey:Zr,programId:Wr}=Ur,tn=new URLSearchParams(zr.split("?")[1]),rn=tn.get("distributor"),Jr=tn.get("handle"),Qr=tn.get("amount"),an=tn.get("index"),mn=tn.get("proof"),fn=tn.get("tokenAcc");if(!rn||!Jr||!Qr||!an||!mn||!fn)throw new Error("Invalid claim");const gn=mn===""?[]:mn.split(",").map(yn=>{const wn=Buffer.from(wr.decode(yn));if(wn.length!==32)throw new Error("Invalid proof hash length");return wn}),Sn=new _r.web3.PublicKey(rn),Fr=new _r.web3.PublicKey(fn),Rr=yield Dr.getAccountInfo(Fr);if(Rr===null)throw new Error("Could not fetch distributor token account");const Lr=br.AccountLayout.decode(Rr.data),Vr=new _r.web3.PublicKey(Lr.mint),Yr=new _r.web3.PublicKey(Jr),Xr=yield(0,Er.getAssociatedTokenAddress)(Yr,Vr),hn=yield Dr.getParsedTokenAccountsByOwner(Yr,{mint:Vr}),En=new _r.BN(an),qr=new _r.BN(Qr),[Br,Hr]=yield(0,u.getClaimStatusKey)(En,Sn,Wr),_n=new _r.AnchorProvider(Dr,null,null),on=new _r.Program(Or.gumDropIdl,Wr,_n),sn=[];return hn.value.length===0&&sn.push(br.Token.createAssociatedTokenAccountInstruction(br.ASSOCIATED_TOKEN_PROGRAM_ID,br.TOKEN_PROGRAM_ID,Vr,Xr,Yr,Zr)),sn.push(on.instruction.claim(Hr,En,qr,Zr,gn,{accounts:{distributor:Sn,claimStatus:Br,from:Fr,to:Xr,temporal:Zr,payer:Zr,tokenProgram:br.TOKEN_PROGRAM_ID,systemProgram:_r.web3.SystemProgram.programId}})),sn});u.claimTokenInstructions=Nr}(gumdrop)),gumdrop}var score={},scoreIdl={};Object.defineProperty(scoreIdl,"__esModule",{value:!0});scoreIdl.baseIdl=void 0;scoreIdl.baseIdl={version:"0.0.0",name:"score",instructions:[{name:"processInitialize",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"atlasMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processRegisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"scorevarsShipBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]},{name:"processDeregisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processUpdateRewardRate",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"newRewardRatePerSecond",type:"u64"}]},{name:"processInitialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerFactionAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processPartialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processRefuel",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"fuelTokenAccountSource",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"fuelQuantity",type:"u64"}]},{name:"processRefeed",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"foodTokenAccountSource",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"foodQuantity",type:"u64"}]},{name:"processRearm",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"armsTokenAccountSource",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"armsQuantity",type:"u64"}]},{name:"processRepair",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"toolkitQuantity",type:"u64"}]},{name:"processSettle",accounts:[{name:"playerAccount",isMut:!1,isSigner:!1},{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processHarvest",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processWithdrawFuel",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountReturn",isMut:!0,isSigner:!1},{name:"fuelMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawFood",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountReturn",isMut:!0,isSigner:!1},{name:"foodMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawArms",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountReturn",isMut:!0,isSigner:!1},{name:"armsMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawShips",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"shipTokenAccountReturn",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"},{name:"treasuryBump",type:"u8"}]},{name:"processCloseAccounts",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"shipBump",type:"u8"},{name:"fuelBump",type:"u8"},{name:"foodBump",type:"u8"},{name:"armsBump",type:"u8"},{name:"escrowAuthBump",type:"u8"}]}],accounts:[{name:"ScoreVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"fuelMint",type:"publicKey"},{name:"foodMint",type:"publicKey"},{name:"armsMint",type:"publicKey"},{name:"toolkitMint",type:"publicKey"}]}},{name:"ScoreVarsShip",type:{kind:"struct",fields:[{name:"shipMint",type:"publicKey"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]}},{name:"ShipStaking",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"factionId",type:"u8"},{name:"shipMint",type:"publicKey"},{name:"shipQuantityInEscrow",type:"u64"},{name:"fuelQuantityInEscrow",type:"u64"},{name:"foodQuantityInEscrow",type:"u64"},{name:"armsQuantityInEscrow",type:"u64"},{name:"fuelCurrentCapacity",type:"u64"},{name:"foodCurrentCapacity",type:"u64"},{name:"armsCurrentCapacity",type:"u64"},{name:"healthCurrentCapacity",type:"u64"},{name:"stakedAtTimestamp",type:"i64"},{name:"fueledAtTimestamp",type:"i64"},{name:"fedAtTimestamp",type:"i64"},{name:"armedAtTimestamp",type:"i64"},{name:"repairedAtTimestamp",type:"i64"},{name:"currentCapacityTimestamp",type:"i64"},{name:"totalTimeStaked",type:"u64"},{name:"stakedTimePaid",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"totalRewardsPaid",type:"u64"}]}}],types:[{name:"Resource",type:{kind:"enum",variants:[{name:"Arms"},{name:"Fuel"},{name:"Food"},{name:"Toolkits"}]}}],errors:[{code:300,name:"ScorevarsNotInitialized",msg:"Scorevars auth is not initialized"},{code:301,name:"ScorevarsAuthInvalid",msg:"Scorevars auth invalid"},{code:302,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."},{code:303,name:"InvalidShipError",msg:"Invalid Ship Mint"},{code:304,name:"InvalidResourceError",msg:"Invalid Resource Mint"},{code:305,name:"ZeroResourceError",msg:"Resource Quantity must be >0."},{code:306,name:"ZeroShipError",msg:"Ship Quantity must be >0."},{code:307,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:308,name:"ResourceAmountTooSmall",msg:"Resource Amount Too Small, would add 0 seconds to capacity"},{code:309,name:"InvalidScoreVarsAccount",msg:"Invalid ScoreVars account for ship Staking Account given"},{code:310,name:"InvalidResourceWithdraw",msg:"Invalid Resource Withdraw, nothing to withdraw"},{code:311,name:"InvalidShipStakingOwner",msg:"Invalid Ship Staking Owner"},{code:312,name:"InvalidShipWithdraw",msg:"Invalid Ship Withdraw"},{code:313,name:"NotEnoughToolkits",msg:"Not enough toolkits for Ship Withdraw"},{code:314,name:"EscrowAccountNotZero",msg:"Escrow account must be 0 to close accounts"},{code:315,name:"IncorrectTokenAccountOwner",msg:"Token account does not have correct owner!"},{code:316,name:"UninitializedTokenAccount",msg:"Token or Mint Account is not initialized!"},{code:317,name:"IncorrectTokenAccountMint",msg:"Token or Mint Account mint is not correct!"}],metadata:{}};var scoreLogIdl={};Object.defineProperty(scoreLogIdl,"__esModule",{value:!0});scoreLogIdl.scoreLogBaseIdl=void 0;scoreLogIdl.scoreLogBaseIdl={version:"0.0.0",name:"score_logs",instructions:[],events:[{name:"ProcessInitialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"factionId",type:"u8",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessPartialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"previousShipQuantity",type:"u64",index:!1},{name:"addedShipQuantity",type:"u64",index:!1},{name:"newShipQuantity",type:"u64",index:!1},{name:"partialDepositTimestamp",type:"i64",index:!1}]},{name:"ProcessRearmMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityToDeposit",type:"u64",index:!1},{name:"armedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefeedMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityToDeposit",type:"u64",index:!1},{name:"fedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefuelMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityToDeposit",type:"u64",index:!1},{name:"fueledAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRepairMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"toolkitQuantityToDeposit",type:"u64",index:!1},{name:"repairedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessHarvestMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"rewardPayout",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"harvestTimestamp",type:"i64",index:!1}]},{name:"ProcessSettleMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"settleTimestamp",type:"i64",index:!1}]},{name:"ProcessArmsWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityWithdrawn",type:"u64",index:!1},{name:"armsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFoodWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityWithdrawn",type:"u64",index:!1},{name:"foodWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFuelWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityWithdrawn",type:"u64",index:!1},{name:"fuelWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessWithdrawShipsMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"shipsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessCloseAccountMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"accountClosedTimestamp",type:"i64",index:!1}]}]};var hasRequiredScore;function requireScore(){if(hasRequiredScore)return score;hasRequiredScore=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(on,sn,yn,wn){function In(Mn){return Mn instanceof yn?Mn:new yn(function(Ln){Ln(Mn)})}return new(yn||(yn=Promise))(function(Mn,Ln){function Cn(On){try{pn(wn.next(On))}catch(Nn){Ln(Nn)}}function ln(On){try{pn(wn.throw(On))}catch(Nn){Ln(Nn)}}function pn(On){On.done?Mn(On.value):In(On.value).then(Cn,ln)}pn((wn=wn.apply(on,sn||[])).next())})};Object.defineProperty(score,"__esModule",{value:!0}),score.closeAccountsInstruction=score.createWithdrawShipsInstruction=score.createWithdrawArmsInstruction=score.createWithdrawFoodInstruction=score.createWithdrawFuelInstruction=score.createHarvestInstruction=score.createSettleInstruction=score.createRepairInstruction=score.createRefuelInstruction=score.createRefeedInstruction=score.createRearmInstruction=score.createPartialDepositInstruction=score.createInitialDepositInstruction=score.createUpdateRewardRateInstruction=score.createDeregisterShipInstruction=score.createRegisterShipInstruction=score.createScoreVarsInitializeInstruction=score.getAllFleetsForUserPublicKey=score.getAllFleets=score.getAllRegisteredShips=score.getScoreTreasuryAuthAccount=score.getScoreTreasuryTokenAccount=score.getScoreVarsShipInfo=score.decodeEvent=score.getShipStakingAccountInfo=score.getScoreVarsInfo=score.getShipStakingAccount=score.getScoreEscrowAuthAccount=score.getScoreEscrowAccount=score.getScoreVarsShipAccount=score.getScoreVarsAccount=score.getScoreIDL=void 0;const c=require$$0$1,d=require$$1$1,y=require$$0$2,gr=requireDist(),_r=scoreIdl,br=scoreLogIdl,wr=requireUtil(),Er=new c.web3.PublicKey("FACTNmq2FhA2QNTnGM2aWJH3i7zT3cND5CgvjYTjyVYe");function Or(on){const sn=_r.baseIdl;return sn.metadata.address=on.toBase58(),sn}score.getScoreIDL=Or;function xr(on){return u(this,void 0,void 0,function*(){return c.web3.PublicKey.findProgramAddress([Buffer.from("SCOREVARS")],on)})}score.getScoreVarsAccount=xr;function kr(on,sn){return u(this,void 0,void 0,function*(){return c.web3.PublicKey.findProgramAddress([Buffer.from("SCOREVARS_SHIP"),sn.toBuffer()],on)})}score.getScoreVarsShipAccount=kr;function Mr(on,sn,yn,wn){return u(this,void 0,void 0,function*(){const In=[Buffer.from("SCORE_ESCROW"),wn.toBuffer(),sn.toBuffer()];return yn!==null&&In.push(yn.toBuffer()),c.web3.PublicKey.findProgramAddress(In,on)})}score.getScoreEscrowAccount=Mr;function Cr(on,sn,yn){return u(this,void 0,void 0,function*(){return c.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_ESCROW_AUTHORITY"),yn.toBuffer(),sn.toBuffer()],on)})}score.getScoreEscrowAuthAccount=Cr;function Nr(on,sn,yn){return u(this,void 0,void 0,function*(){return c.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_INFO"),yn.toBuffer(),sn.toBuffer()],on)})}score.getShipStakingAccount=Nr;function Ur(on,sn){return u(this,void 0,void 0,function*(){const yn=new c.AnchorProvider(on,null,null),wn=Or(sn),In=new c.Program(wn,sn,yn),[Mn]=yield xr(sn);return yield In.account.scoreVars.fetch(Mn)})}score.getScoreVarsInfo=Ur;function Dr(on,sn,yn,wn){return u(this,void 0,void 0,function*(){const In=new c.AnchorProvider(on,null,null),Mn=Or(sn),Ln=new c.Program(Mn,sn,In),[Cn]=yield Nr(sn,yn,wn);return yield Ln.account.shipStaking.fetch(Cn)})}score.getShipStakingAccountInfo=Dr;function zr(on,sn,yn){return u(this,void 0,void 0,function*(){const wn=new c.AnchorProvider(on,null,null);return new c.Program(br.scoreLogBaseIdl,sn,wn).coder.events.decode(yn)})}score.decodeEvent=zr;function Zr(on,sn,yn){return u(this,void 0,void 0,function*(){const wn=new c.AnchorProvider(on,null,null),In=Or(sn),Mn=new c.Program(In,sn,wn),[Ln]=yield kr(sn,yn);return yield Mn.account.scoreVarsShip.fetch(Ln)})}score.getScoreVarsShipInfo=Zr;function Wr(on){return u(this,void 0,void 0,function*(){return c.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_TREASURY")],on)})}score.getScoreTreasuryTokenAccount=Wr;function tn(on){return u(this,void 0,void 0,function*(){return c.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_TREASURY_AUTHORITY")],on)})}score.getScoreTreasuryAuthAccount=tn;function rn(on,sn){return u(this,void 0,void 0,function*(){const yn=Or(sn),wn=new c.AnchorProvider(on,null,null),Mn=yield new c.Program(yn,sn,wn).account.scoreVarsShip.all(),Ln=[];for(const Cn of Mn)Ln.push(Cn.account);return Ln})}score.getAllRegisteredShips=rn;function Jr(on,sn){return u(this,void 0,void 0,function*(){const yn=Or(sn),wn=new c.AnchorProvider(on,null,null),Mn=yield new c.Program(yn,sn,wn).account.shipStaking.all(),Ln=[];for(const Cn of Mn)Ln.push(Cn.account);return Ln})}score.getAllFleets=Jr;function Qr(on,sn,yn){return u(this,void 0,void 0,function*(){const wn=Or(yn),In=new c.AnchorProvider(on,null,null),Mn=new c.Program(wn,yn,In),Ln=yield Mn.account.scoreVarsShip.all(),Cn=[];for(const On of Ln){const[Nn]=yield Nr(yn,On.account.shipMint,sn);Cn.push(Nn)}return(yield Mn.account.shipStaking.fetchMultiple(Cn)).filter(On=>On!==null).map(On=>On)})}score.getAllFleetsForUserPublicKey=Qr;function an(on,sn,yn,wn,In,Mn,Ln,Cn){return u(this,void 0,void 0,function*(){const ln=Or(Cn),pn=new c.AnchorProvider(on,null,null),On=new c.Program(ln,Cn,pn),[Nn,kn]=yield Wr(Cn),[Fn,xn]=yield tn(Cn),[Un,Dn]=yield xr(Cn);return yield On.instruction.processInitialize(Dn,kn,xn,{accounts:{updateAuthorityAccount:sn,scoreVarsAccount:Un,tokenProgram:d.TOKEN_PROGRAM_ID,systemProgram:y.SystemProgram.programId,rent:c.web3.SYSVAR_RENT_PUBKEY,treasuryTokenAccount:Nn,treasuryAuthorityAccount:Fn,atlasMint:yn,fuelMint:wn,foodMint:In,armsMint:Mn,toolkitMint:Ln},signers:[]})})}score.createScoreVarsInitializeInstruction=an;function mn(on,sn,yn,wn,In,Mn,Ln,Cn,ln,pn,On,Nn,kn){return u(this,void 0,void 0,function*(){const Fn=Or(kn),xn=new c.AnchorProvider(on,null,null),Un=new c.Program(Fn,kn,xn),[Dn,dn]=yield kr(kn,yn),[vn,Rn]=yield xr(kn);return yield Un.instruction.processRegisterShip(Rn,dn,new c.BN(Nn),wn,In,Mn,Ln,Cn,ln,pn,On,{accounts:{updateAuthorityAccount:sn,scoreVarsAccount:vn,scoreVarsShipAccount:Dn,shipMint:yn,systemProgram:y.SystemProgram.programId},signers:[]})})}score.createRegisterShipInstruction=mn;function fn(on,sn,yn,wn){return u(this,void 0,void 0,function*(){const In=Or(wn),Mn=new c.AnchorProvider(on,null,null),Ln=new c.Program(In,wn,Mn),[Cn,ln]=yield kr(wn,yn),[pn,On]=yield xr(wn);return yield Ln.instruction.processDeregisterShip(On,ln,{accounts:{updateAuthorityAccount:sn,scoreVarsAccount:pn,scoreVarsShipAccount:Cn,shipMint:yn},signers:[]})})}score.createDeregisterShipInstruction=fn;function gn(on,sn,yn,wn,In){return u(this,void 0,void 0,function*(){const Mn=Or(In),Ln=new c.AnchorProvider(on,null,null),Cn=new c.Program(Mn,In,Ln),[ln,pn]=yield kr(In,yn),[On,Nn]=yield xr(In);return yield Cn.instruction.processUpdateRewardRate(Nn,pn,new c.BN(wn),{accounts:{updateAuthorityAccount:sn,scoreVarsAccount:On,scoreVarsShipAccount:ln,shipMint:yn},signers:[]})})}score.createUpdateRewardRateInstruction=gn;function Sn(on,sn,yn,wn,In,Mn){return u(this,void 0,void 0,function*(){const[Ln,Cn]=yield Cr(Mn,wn,sn),[ln,pn]=yield Mr(Mn,wn,null,sn),[On,Nn]=yield Nr(Mn,wn,sn),[kn,Fn]=yield kr(Mn,wn),[xn]=yield(0,gr.getPlayerFactionPDA)(sn,Er),Un=Or(Mn),Dn=new c.AnchorProvider(on,null,null);return yield new c.Program(Un,Mn,Dn).instruction.processInitialDeposit(Nn,Fn,Cn,pn,new c.BN(yn),{accounts:{playerAccount:sn,shipStakingAccount:On,scoreVarsShipAccount:kn,playerFactionAccount:xn,escrowAuthority:Ln,systemProgram:c.web3.SystemProgram.programId,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,rent:c.web3.SYSVAR_RENT_PUBKEY,shipMint:wn,shipTokenAccountSource:In,shipTokenAccountEscrow:ln}})})}score.createInitialDepositInstruction=Sn;function Fr(on,sn,yn,wn,In,Mn){return u(this,void 0,void 0,function*(){const[Ln,Cn]=yield Cr(Mn,wn,sn),[ln,pn]=yield Mr(Mn,wn,null,sn),[On,Nn]=yield Nr(Mn,wn,sn),[kn,Fn]=yield kr(Mn,wn),xn=Or(Mn),Un=new c.AnchorProvider(on,null,null);return yield new c.Program(xn,Mn,Un).instruction.processPartialDeposit(Nn,Fn,Cn,pn,new c.BN(yn),{accounts:{playerAccount:sn,shipStakingAccount:On,scoreVarsShipAccount:kn,escrowAuthority:Ln,systemProgram:c.web3.SystemProgram.programId,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,shipMint:wn,shipTokenAccountSource:In,shipTokenAccountEscrow:ln}})})}score.createPartialDepositInstruction=Fr;function Rr(on,sn,yn,wn,In,Mn,Ln,Cn){return u(this,void 0,void 0,function*(){const[ln,pn]=yield Cr(Cn,In,yn),[On,Nn]=yield Mr(Cn,In,Mn,yn),[kn,Fn]=yield Nr(Cn,In,yn),[xn,Un]=yield kr(Cn,In),[Dn,dn]=yield xr(Cn),vn=Or(Cn),Rn=new c.AnchorProvider(on,null,null);return yield new c.Program(vn,Cn,Rn).instruction.processRearm(Fn,dn,Un,pn,Nn,new c.BN(wn),{accounts:{tokenOwnerAccount:sn,playerAccount:yn,shipStakingAccount:kn,scoreVarsAccount:Dn,scoreVarsShipAccount:xn,escrowAuthority:ln,systemProgram:c.web3.SystemProgram.programId,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,rent:c.web3.SYSVAR_RENT_PUBKEY,shipMint:In,armsMint:Mn,armsTokenAccountSource:Ln,armsTokenAccountEscrow:On}})})}score.createRearmInstruction=Rr;function Lr(on,sn,yn,wn,In,Mn,Ln,Cn){return u(this,void 0,void 0,function*(){const[ln,pn]=yield Cr(Cn,In,yn),[On,Nn]=yield Mr(Cn,In,Mn,yn),[kn,Fn]=yield Nr(Cn,In,yn),[xn,Un]=yield kr(Cn,In),[Dn,dn]=yield xr(Cn),vn=Or(Cn),Rn=new c.AnchorProvider(on,null,null);return yield new c.Program(vn,Cn,Rn).instruction.processRefeed(Fn,dn,Un,pn,Nn,new c.BN(wn),{accounts:{tokenOwnerAccount:sn,playerAccount:yn,shipStakingAccount:kn,scoreVarsAccount:Dn,scoreVarsShipAccount:xn,escrowAuthority:ln,systemProgram:c.web3.SystemProgram.programId,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,rent:c.web3.SYSVAR_RENT_PUBKEY,shipMint:In,foodMint:Mn,foodTokenAccountSource:Ln,foodTokenAccountEscrow:On}})})}score.createRefeedInstruction=Lr;function Vr(on,sn,yn,wn,In,Mn,Ln,Cn){return u(this,void 0,void 0,function*(){const[ln,pn]=yield Cr(Cn,In,yn),[On,Nn]=yield Mr(Cn,In,Mn,yn),[kn,Fn]=yield Nr(Cn,In,yn),[xn,Un]=yield kr(Cn,In),[Dn,dn]=yield xr(Cn),vn=Or(Cn),Rn=new c.AnchorProvider(on,null,null);return yield new c.Program(vn,Cn,Rn).instruction.processRefuel(Fn,dn,Un,pn,Nn,new c.BN(wn),{accounts:{tokenOwnerAccount:sn,playerAccount:yn,shipStakingAccount:kn,scoreVarsAccount:Dn,scoreVarsShipAccount:xn,escrowAuthority:ln,systemProgram:c.web3.SystemProgram.programId,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,rent:c.web3.SYSVAR_RENT_PUBKEY,shipMint:In,fuelMint:Mn,fuelTokenAccountSource:Ln,fuelTokenAccountEscrow:On}})})}score.createRefuelInstruction=Vr;function Yr(on,sn,yn,wn,In,Mn,Ln,Cn){return u(this,void 0,void 0,function*(){const[ln,pn]=yield Nr(Cn,In,yn),[On,Nn]=yield kr(Cn,In),[kn,Fn]=yield xr(Cn),xn=Or(Cn),Un=new c.AnchorProvider(on,null,null);return yield new c.Program(xn,Cn,Un).instruction.processRepair(pn,Fn,Nn,new c.BN(wn),{accounts:{tokenOwnerAccount:sn,playerAccount:yn,shipStakingAccount:ln,scoreVarsAccount:kn,scoreVarsShipAccount:On,systemProgram:c.web3.SystemProgram.programId,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,rent:c.web3.SYSVAR_RENT_PUBKEY,shipMint:In,toolkitMint:Mn,toolkitTokenAccountSource:Ln}})})}score.createRepairInstruction=Yr;function Xr(on,sn,yn,wn,In){return u(this,void 0,void 0,function*(){const[Mn,Ln]=yield Nr(In,wn,sn),[Cn,ln]=yield kr(In,wn),[pn,On]=yield xr(In),Nn=Or(In),kn=new c.AnchorProvider(on,null,null);return yield new c.Program(Nn,In,kn).instruction.processSettle(Ln,On,ln,{accounts:{playerAccount:sn,updateAuthorityAccount:yn,shipStakingAccount:Mn,scoreVarsShipAccount:Cn,scoreVarsAccount:pn,clock:c.web3.SYSVAR_CLOCK_PUBKEY,shipMint:wn}})})}score.createSettleInstruction=Xr;function hn(on,sn,yn,wn,In){return u(this,void 0,void 0,function*(){const[Mn,Ln]=yield Nr(In,wn,sn),[Cn,ln]=yield kr(In,wn),[pn,On]=yield Wr(In),[Nn,kn]=yield tn(In),Fn=Or(In),xn=new c.AnchorProvider(on,null,null),Un=new c.Program(Fn,In,xn),Dn={signers:[],instructions:[]};let dn;const vn=yield(0,wr.getTokenAccount)(on,sn,yn),Rn=vn.tokenAccount;"createInstruction"in vn&&Dn.instructions.push(vn.createInstruction),Rn instanceof c.web3.Keypair?(dn=Rn.publicKey,Dn.signers.push(Rn)):dn=Rn;const Bn=yield Un.instruction.processHarvest(Ln,ln,On,kn,{accounts:{playerAccount:sn,shipStakingAccount:Mn,scoreVarsShipAccount:Cn,playerAtlasTokenAccount:dn,treasuryTokenAccount:pn,treasuryAuthorityAccount:Nn,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,shipMint:wn}});return Dn.instructions.push(Bn),Dn})}score.createHarvestInstruction=hn;function En(on,sn,yn,wn,In){return u(this,void 0,void 0,function*(){const[Mn,Ln]=yield Cr(In,wn,sn),[Cn,ln]=yield Mr(In,wn,yn,sn),[pn,On]=yield Nr(In,wn,sn),[Nn,kn]=yield kr(In,wn),[Fn,xn]=yield xr(In),Un=Or(In),Dn=new c.AnchorProvider(on,null,null),dn=new c.Program(Un,In,Dn),vn={signers:[],instructions:[]};let Rn;const Bn=yield(0,wr.getTokenAccount)(on,sn,yn),jn=Bn.tokenAccount;"createInstruction"in Bn&&vn.instructions.push(Bn.createInstruction),jn instanceof c.web3.Keypair?(Rn=jn.publicKey,vn.signers.push(jn)):Rn=jn;const Tr=yield dn.instruction.processWithdrawFuel(On,xn,kn,Ln,ln,{accounts:{playerAccount:sn,shipStakingAccount:pn,scoreVarsAccount:Fn,scoreVarsShipAccount:Nn,fuelTokenAccountEscrow:Cn,fuelTokenAccountReturn:Rn,fuelMint:yn,escrowAuthority:Mn,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,shipMint:wn}});return vn.instructions.push(Tr),vn})}score.createWithdrawFuelInstruction=En;function qr(on,sn,yn,wn,In){return u(this,void 0,void 0,function*(){const[Mn,Ln]=yield Cr(In,wn,sn),[Cn,ln]=yield Mr(In,wn,yn,sn),[pn,On]=yield Nr(In,wn,sn),[Nn,kn]=yield kr(In,wn),[Fn,xn]=yield xr(In),Un=Or(In),Dn=new c.AnchorProvider(on,null,null),dn=new c.Program(Un,In,Dn),vn={signers:[],instructions:[]};let Rn;const Bn=yield(0,wr.getTokenAccount)(on,sn,yn),jn=Bn.tokenAccount;"createInstruction"in Bn&&vn.instructions.push(Bn.createInstruction),jn instanceof c.web3.Keypair?(Rn=jn.publicKey,vn.signers.push(jn)):Rn=jn;const Tr=yield dn.instruction.processWithdrawFood(On,xn,kn,Ln,ln,{accounts:{playerAccount:sn,shipStakingAccount:pn,scoreVarsAccount:Fn,scoreVarsShipAccount:Nn,foodTokenAccountEscrow:Cn,foodTokenAccountReturn:Rn,foodMint:yn,escrowAuthority:Mn,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,shipMint:wn}});return vn.instructions.push(Tr),vn})}score.createWithdrawFoodInstruction=qr;function Br(on,sn,yn,wn,In){return u(this,void 0,void 0,function*(){const[Mn,Ln]=yield Cr(In,wn,sn),[Cn,ln]=yield Mr(In,wn,yn,sn),[pn,On]=yield Nr(In,wn,sn),[Nn,kn]=yield kr(In,wn),[Fn,xn]=yield xr(In),Un=Or(In),Dn=new c.AnchorProvider(on,null,null),dn=new c.Program(Un,In,Dn),vn={signers:[],instructions:[]};let Rn;const Bn=yield(0,wr.getTokenAccount)(on,sn,yn),jn=Bn.tokenAccount;"createInstruction"in Bn&&vn.instructions.push(Bn.createInstruction),jn instanceof c.web3.Keypair?(Rn=jn.publicKey,vn.signers.push(jn)):Rn=jn;const Tr=yield dn.instruction.processWithdrawArms(On,xn,kn,Ln,ln,{accounts:{playerAccount:sn,shipStakingAccount:pn,scoreVarsAccount:Fn,scoreVarsShipAccount:Nn,armsTokenAccountEscrow:Cn,armsTokenAccountReturn:Rn,armsMint:yn,escrowAuthority:Mn,tokenProgram:d.TOKEN_PROGRAM_ID,clock:c.web3.SYSVAR_CLOCK_PUBKEY,shipMint:wn}});return vn.instructions.push(Tr),vn})}score.createWithdrawArmsInstruction=Br;function Hr(on,sn,yn,wn,In,Mn){return u(this,void 0,void 0,function*(){const[Ln,Cn]=yield Cr(Mn,yn,sn),[ln,pn]=yield Mr(Mn,yn,null,sn),[On,Nn]=yield Nr(Mn,yn,sn),[kn,Fn]=yield kr(Mn,yn),[xn,Un]=yield xr(Mn),[Dn,dn]=yield Wr(Mn),[vn,Rn]=yield tn(Mn),Bn={signers:[],instructions:[]},jn=Or(Mn),Tr=new c.AnchorProvider(on,null,null),Sr=new c.Program(jn,Mn,Tr);let Ar;const Pr=yield(0,wr.getTokenAccount)(on,sn,wn),jr=Pr.tokenAccount;"createInstruction"in Pr&&Bn.instructions.push(Pr.createInstruction),jr instanceof c.web3.Keypair?(Ar=jr.publicKey,Bn.signers.push(jr)):Ar=jr;let Gr;const nn=yield(0,wr.getTokenAccount)(on,sn,yn),Kn=nn.tokenAccount;"createInstruction"in nn&&Bn.instructions.push(nn.createInstruction),Kn instanceof c.web3.Keypair?(Gr=Kn.publicKey,Bn.signers.push(Kn)):Gr=Kn;let Yn;const Hn=yield(0,wr.getTokenAccount)(on,sn,In),Jn=Hn.tokenAccount;"createInstruction"in Hn&&Bn.instructions.push(Hn.createInstruction),Jn instanceof c.web3.Keypair?(Yn=Jn.publicKey,Bn.signers.push(Jn)):Yn=Jn;const Gn=yield Sr.instruction.processWithdrawShips(Nn,Un,Fn,Cn,pn,Rn,dn,{accounts:{playerAccount:sn,shipStakingAccount:On,scoreVarsAccount:xn,scoreVarsShipAccount:kn,playerAtlasTokenAccount:Ar,shipTokenAccountEscrow:ln,shipTokenAccountReturn:Gr,toolkitTokenAccountSource:Yn,treasuryTokenAccount:Dn,treasuryAuthorityAccount:vn,escrowAuthority:Ln,tokenProgram:d.TOKEN_PROGRAM_ID,systemProgram:c.web3.SystemProgram.programId,clock:c.web3.SYSVAR_CLOCK_PUBKEY,shipMint:yn,toolkitMint:In}});return Bn.instructions.push(Gn),Bn})}score.createWithdrawShipsInstruction=Hr;function _n(on,sn,yn,wn,In,Mn,Ln){return u(this,void 0,void 0,function*(){const[Cn,ln]=yield Cr(Ln,yn,sn),[pn,On]=yield Mr(Ln,yn,null,sn),[Nn,kn]=yield Mr(Ln,yn,wn,sn),[Fn,xn]=yield Mr(Ln,yn,In,sn),[Un,Dn]=yield Mr(Ln,yn,Mn,sn),[dn,vn]=yield xr(Ln),[Rn,Bn]=yield Nr(Ln,yn,sn),jn=Or(Ln),Tr=new c.AnchorProvider(on,null,null);return yield new c.Program(jn,Ln,Tr).instruction.processCloseAccounts(Bn,vn,On,kn,xn,Dn,ln,{accounts:{playerAccount:sn,shipStakingAccount:Rn,scoreVarsAccount:dn,shipTokenAccountEscrow:pn,fuelTokenAccountEscrow:Nn,foodTokenAccountEscrow:Fn,armsTokenAccountEscrow:Un,escrowAuthority:Cn,tokenProgram:d.TOKEN_PROGRAM_ID,systemProgram:c.web3.SystemProgram.programId,shipMint:yn,fuelMint:wn,foodMint:In,armsMint:Mn,clock:c.web3.SYSVAR_CLOCK_PUBKEY}})})}return score.closeAccountsInstruction=_n,score}var types={};Object.defineProperty(types,"__esModule",{value:!0});var scoreHelpers={},hasRequiredScoreHelpers;function requireScoreHelpers(){if(hasRequiredScoreHelpers)return scoreHelpers;hasRequiredScoreHelpers=1;var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(Dr,zr,Zr,Wr){function tn(rn){return rn instanceof Zr?rn:new Zr(function(Jr){Jr(rn)})}return new(Zr||(Zr=Promise))(function(rn,Jr){function Qr(fn){try{mn(Wr.next(fn))}catch(gn){Jr(gn)}}function an(fn){try{mn(Wr.throw(fn))}catch(gn){Jr(gn)}}function mn(fn){fn.done?rn(fn.value):tn(fn.value).then(Qr,an)}mn((Wr=Wr.apply(Dr,zr||[])).next())})},c=commonjsGlobal&&commonjsGlobal.__importDefault||function(Dr){return Dr&&Dr.__esModule?Dr:{default:Dr}};Object.defineProperty(scoreHelpers,"__esModule",{value:!0}),scoreHelpers.sendTokens=scoreHelpers.confirmTokenBalance=scoreHelpers.createMint=scoreHelpers.mintTokens=scoreHelpers.createAssociatedTokenAccountInstruction=scoreHelpers.createRequestUnitsInstruction=scoreHelpers.Numberu32=scoreHelpers.createATokenAccount=scoreHelpers.getAtaForMint=void 0;const d=require$$0$1,y=require$$1$1,gr=requireUtil(),_r=requireAssert(),br=c(bn.exports);function wr(Dr,zr){return u(this,void 0,void 0,function*(){return d.web3.PublicKey.findProgramAddress([zr.toBuffer(),y.TOKEN_PROGRAM_ID.toBuffer(),Dr.toBuffer()],y.ASSOCIATED_TOKEN_PROGRAM_ID)})}scoreHelpers.getAtaForMint=wr;function Er(Dr,zr,Zr,Wr){return u(this,void 0,void 0,function*(){Zr=Zr||Dr.wallet.publicKey,Wr=Wr||Dr.wallet.publicKey;const[tn]=yield wr(zr,Wr),rn=new d.web3.Transaction,Jr=yield kr(tn,Zr,Wr,zr);return rn.add(Jr),yield Dr.sendAndConfirm(rn),tn})}scoreHelpers.createATokenAccount=Er;class Or extends br.default{toBuffer(){const zr=super.toArray().reverse(),Zr=Buffer.from(zr);if(Zr.length===4)return Zr;const Wr=Buffer.alloc(4);return Zr.copy(Wr),Wr}static fromBuffer(zr){return new br.default([...zr].reverse().map(Zr=>`00${Zr.toString(16)}`.slice(-2)).join(""),16)}}scoreHelpers.Numberu32=Or;function xr(Dr){return u(this,void 0,void 0,function*(){const zr=new Or(1e6),Zr=Buffer.from([0]),Wr=zr.toBuffer();return new d.web3.TransactionInstruction({keys:[{pubkey:Dr,isSigner:!0,isWritable:!0}],programId:new d.web3.PublicKey("ComputeBudget111111111111111111111111111111"),data:Buffer.concat([Zr,Wr])})})}scoreHelpers.createRequestUnitsInstruction=xr;function kr(Dr,zr,Zr,Wr){return u(this,void 0,void 0,function*(){const tn=[{pubkey:zr,isSigner:!0,isWritable:!0},{pubkey:Dr,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:d.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:d.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new d.web3.TransactionInstruction({keys:tn,programId:y.ASSOCIATED_TOKEN_PROGRAM_ID,data:Buffer.from([])})})}scoreHelpers.createAssociatedTokenAccountInstruction=kr;function Mr(Dr,zr,Zr,Wr,tn){return u(this,void 0,void 0,function*(){const rn=new d.web3.Transaction;return tn=tn||Dr.wallet.publicKey,rn.add(y.Token.createMintToInstruction(y.TOKEN_PROGRAM_ID,zr,Zr,tn,[],Wr)),yield Dr.sendAndConfirm(rn)})}scoreHelpers.mintTokens=Mr;function Cr(Dr,zr,Zr,Wr){return u(this,void 0,void 0,function*(){const tn=d.web3.Keypair.generate(),rn=new d.web3.Transaction,Jr=yield Dr.connection.getMinimumBalanceForRentExemption(y.MintLayout.span);Zr=Zr||Dr.wallet.publicKey,Wr=Wr||Dr.wallet.publicKey;const Qr=d.web3.SystemProgram.createAccount({fromPubkey:Dr.wallet.publicKey,newAccountPubkey:tn.publicKey,lamports:Jr,space:y.MintLayout.span,programId:y.TOKEN_PROGRAM_ID});rn.add(Qr);const an=y.Token.createInitMintInstruction(y.TOKEN_PROGRAM_ID,tn.publicKey,zr,Zr,Wr);return rn.add(an),yield Dr.sendAndConfirm(rn,[tn]),tn.publicKey})}scoreHelpers.createMint=Cr;function Nr(Dr,zr,Zr,Wr){return u(this,void 0,void 0,function*(){const tn=yield Dr.connection.getAccountInfo(zr,"recent");if(Wr===!0&&(0,_r.strict)(tn===null),tn!==null){const rn=(0,gr.byteArrayToLong)(tn.data.slice(64,72));(0,_r.strict)(rn==Zr,`On-chain Token amount of ${rn} does not match expected amount ${Zr}`)}else console.log("Token account %s does not exist",zr.toString())})}scoreHelpers.confirmTokenBalance=Nr;function Ur(Dr,zr,Zr,Wr){return u(this,void 0,void 0,function*(){const tn=new d.web3.Transaction;return tn.add(y.Token.createTransferInstruction(y.TOKEN_PROGRAM_ID,zr,Zr,Dr.wallet.publicKey,[],Wr)),yield Dr.sendAndConfirm(tn)})}return scoreHelpers.sendTokens=Ur,scoreHelpers}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(u){var c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,gr,_r,br){br===void 0&&(br=_r);var wr=Object.getOwnPropertyDescriptor(gr,_r);(!wr||("get"in wr?!gr.__esModule:wr.writable||wr.configurable))&&(wr={enumerable:!0,get:function(){return gr[_r]}}),Object.defineProperty(y,br,wr)}:function(y,gr,_r,br){br===void 0&&(br=_r),y[br]=gr[_r]}),d=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,gr){for(var _r in y)_r!=="default"&&!Object.prototype.hasOwnProperty.call(gr,_r)&&c(gr,y,_r)};Object.defineProperty(u,"__esModule",{value:!0}),d(requireAtlasStaking(),u),d(factions,u),d(requireGumdrop(),u),d(requireMarketplace(),u),d(requireScore(),u),d(types,u),d(requireScoreHelpers(),u),d(requireGmHelper(),u),d(requireUtil(),u)}(dist)),dist}var distExports=requireDist();const NFTS_URL="https://galaxy.staratlas.com/nfts",TRADE_PROGRAM=new PublicKey("traderDnaR5w6Tcoi3NFm53i48FTDNbGjBSZwWXDRrg"),TOKEN_USDC=new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),TOKEN_ATLAS=new PublicKey("ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx"),Currencies=[{name:"USDC",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},{name:"ATLAS",mint:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx"}],SERUMRPC="https://solana-api.projectserum.com",useStaratlasGmStore=defineStore({id:"staratlasGmStore",state:()=>({client:new distExports.GmClientService,connection:new Connection(SERUMRPC),orders:[],atlasOrders:{buyOrders:[],sellOrders:[]},usdcOrders:{buyOrders:[],sellOrders:[]}}),actions:{getSumOrders(u,c){const d=this.orders.filter(y=>y.orderType===u&&y.currencyMint===c.toString()).flatMap(y=>y.orderOriginationQty);return Math.max.apply(Math,d)},async getOpenOrdersForAsset(u){await this.client.getOpenOrdersForAsset(this.connection,new PublicKey(u),TRADE_PROGRAM).then(c=>{this.orders=c,this.atlasOrders.buyOrders=this.orders.filter(d=>d.orderType==="buy"&&d.currencyMint===TOKEN_ATLAS.toString()).sort((d,y)=>d.uiPrice-y.uiPrice),this.atlasOrders.sellOrders=this.orders.filter(d=>d.orderType==="sell"&&d.currencyMint===TOKEN_ATLAS.toString()).sort((d,y)=>d.uiPrice-y.uiPrice),this.usdcOrders.buyOrders=this.orders.filter(d=>d.orderType==="buy"&&d.currencyMint===TOKEN_USDC.toString()).sort((d,y)=>d.uiPrice-y.uiPrice),this.usdcOrders.sellOrders=this.orders.filter(d=>d.orderType==="sell"&&d.currencyMint===TOKEN_USDC.toString()).sort((d,y)=>d.uiPrice-y.uiPrice)}).catch(c=>console.log("{getOpenOrdersForAssetError}: "+c))},async getOpenOrdersForPlayer(u){return await this.client.getOpenOrdersForPlayer(this.connection,new PublicKey(u),TRADE_PROGRAM)}}}),useAssetsStore=defineStore({id:"assetsStore",state:()=>({allAssets:{}}),actions:{async init(){this.allAssets=await fetch(NFTS_URL).then(u=>u.json()),console.log(this.allAssets)}}}),GENESYSGO="https://ssc-dao.genesysgo.net/",useSolanaNetworkStore=defineStore("solanaNetwork",{state:()=>({ws:{},connection:{},transactions_per_second:ref(0)}),actions:{init(){this.connection=new Connection(GENESYSGO,"confirmed")},async run_tps(){for(;;){let u=await this.connection.getRecentPerformanceSamples(5);this.transactions_per_second=0,u.forEach(c=>{this.transactions_per_second+=c.numTransactions/c.samplePeriodSecs}),this.transactions_per_second=this.transactions_per_second/u.length,await new Promise(c=>setTimeout(c,5e3))}}}}),_hoisted_1$a={class:"h-screen justify-between bg-gray-200 dark:bg-gray-900"},_sfc_main$b=defineComponent({__name:"App",setup(u){return onMounted(async()=>{useGlobalStore().init(),useTokenPriceStore(),useStaratlasGmStore();const d=useSolanaNetworkStore();d.init(),d.run_tps().catch(gr=>console.error(`tps monitor: ${gr}`)),await useAssetsStore().init(),useStaratlasGmStore().getOpenOrdersForAsset(useAssetsStore().allAssets?.find(gr=>useGlobalStore().symbol.includes(gr.symbol))?.mint??"").then(()=>{}).catch(gr=>console.log(gr))}),(c,d)=>{const y=resolveComponent("RouterView");return openBlock(),createElementBlock("div",_hoisted_1$a,[createVNode(NavBar,{class:"bg-gray-200 dark:bg-gray-900"}),createVNode(y,{class:"bg-gray-200 dark:bg-gray-900"}),createVNode(FooterComponent,{class:"bg-gray-200 dark:bg-gray-900"})])}}});/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(u){return u.__esModule||u[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(u,c){const d={};for(const y in c){const gr=c[y];d[y]=isArray(gr)?gr.map(u):u(gr)}return d}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=u=>u.replace(TRAILING_SLASH_RE,"");function parseURL(u,c,d="/"){let y,gr={},_r="",br="";const wr=c.indexOf("#");let Er=c.indexOf("?");return wr<Er&&wr>=0&&(Er=-1),Er>-1&&(y=c.slice(0,Er),_r=c.slice(Er+1,wr>-1?wr:c.length),gr=u(_r)),wr>-1&&(y=y||c.slice(0,wr),br=c.slice(wr,c.length)),y=resolveRelativePath(y??c,d),{fullPath:y+(_r&&"?")+_r+br,path:y,query:gr,hash:br}}function stringifyURL(u,c){const d=c.query?u(c.query):"";return c.path+(d&&"?")+d+(c.hash||"")}function stripBase(u,c){return!c||!u.toLowerCase().startsWith(c.toLowerCase())?u:u.slice(c.length)||"/"}function isSameRouteLocation(u,c,d){const y=c.matched.length-1,gr=d.matched.length-1;return y>-1&&y===gr&&isSameRouteRecord(c.matched[y],d.matched[gr])&&isSameRouteLocationParams(c.params,d.params)&&u(c.query)===u(d.query)&&c.hash===d.hash}function isSameRouteRecord(u,c){return(u.aliasOf||u)===(c.aliasOf||c)}function isSameRouteLocationParams(u,c){if(Object.keys(u).length!==Object.keys(c).length)return!1;for(const d in u)if(!isSameRouteLocationParamsValue(u[d],c[d]))return!1;return!0}function isSameRouteLocationParamsValue(u,c){return isArray(u)?isEquivalentArray(u,c):isArray(c)?isEquivalentArray(c,u):u===c}function isEquivalentArray(u,c){return isArray(c)?u.length===c.length&&u.every((d,y)=>d===c[y]):u.length===1&&u[0]===c}function resolveRelativePath(u,c){if(u.startsWith("/"))return u;if(!u)return c;const d=c.split("/"),y=u.split("/");let gr=d.length-1,_r,br;for(_r=0;_r<y.length;_r++)if(br=y[_r],br!==".")if(br==="..")gr>1&&gr--;else break;return d.slice(0,gr).join("/")+"/"+y.slice(_r-(_r===y.length?1:0)).join("/")}var NavigationType;(function(u){u.pop="pop",u.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(u){u.back="back",u.forward="forward",u.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(u){if(!u)if(isBrowser){const c=document.querySelector("base");u=c&&c.getAttribute("href")||"/",u=u.replace(/^\w+:\/\/[^\/]+/,"")}else u="/";return u[0]!=="/"&&u[0]!=="#"&&(u="/"+u),removeTrailingSlash(u)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(u,c){return u.replace(BEFORE_HASH_RE,"#")+c}function getElementPosition(u,c){const d=document.documentElement.getBoundingClientRect(),y=u.getBoundingClientRect();return{behavior:c.behavior,left:y.left-d.left-(c.left||0),top:y.top-d.top-(c.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(u){let c;if("el"in u){const d=u.el,y=typeof d=="string"&&d.startsWith("#"),gr=typeof d=="string"?y?document.getElementById(d.slice(1)):document.querySelector(d):d;if(!gr)return;c=getElementPosition(gr,u)}else c=u;"scrollBehavior"in document.documentElement.style?window.scrollTo(c):window.scrollTo(c.left!=null?c.left:window.pageXOffset,c.top!=null?c.top:window.pageYOffset)}function getScrollKey(u,c){return(history.state?history.state.position-c:-1)+u}const scrollPositions=new Map;function saveScrollPosition(u,c){scrollPositions.set(u,c)}function getSavedScrollPosition(u){const c=scrollPositions.get(u);return scrollPositions.delete(u),c}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(u,c){const{pathname:d,search:y,hash:gr}=c,_r=u.indexOf("#");if(_r>-1){let wr=gr.includes(u.slice(_r))?u.slice(_r).length:1,Er=gr.slice(wr);return Er[0]!=="/"&&(Er="/"+Er),stripBase(Er,"")}return stripBase(d,u)+y+gr}function useHistoryListeners(u,c,d,y){let gr=[],_r=[],br=null;const wr=({state:Mr})=>{const Cr=createCurrentLocation(u,location),Nr=d.value,Ur=c.value;let Dr=0;if(Mr){if(d.value=Cr,c.value=Mr,br&&br===Nr){br=null;return}Dr=Ur?Mr.position-Ur.position:0}else y(Cr);gr.forEach(zr=>{zr(d.value,Nr,{delta:Dr,type:NavigationType.pop,direction:Dr?Dr>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function Er(){br=d.value}function Or(Mr){gr.push(Mr);const Cr=()=>{const Nr=gr.indexOf(Mr);Nr>-1&&gr.splice(Nr,1)};return _r.push(Cr),Cr}function xr(){const{history:Mr}=window;!Mr.state||Mr.replaceState(assign({},Mr.state,{scroll:computeScrollPosition()}),"")}function kr(){for(const Mr of _r)Mr();_r=[],window.removeEventListener("popstate",wr),window.removeEventListener("beforeunload",xr)}return window.addEventListener("popstate",wr),window.addEventListener("beforeunload",xr),{pauseListeners:Er,listen:Or,destroy:kr}}function buildState(u,c,d,y=!1,gr=!1){return{back:u,current:c,forward:d,replaced:y,position:window.history.length,scroll:gr?computeScrollPosition():null}}function useHistoryStateNavigation(u){const{history:c,location:d}=window,y={value:createCurrentLocation(u,d)},gr={value:c.state};gr.value||_r(y.value,{back:null,current:y.value,forward:null,position:c.length-1,replaced:!0,scroll:null},!0);function _r(Er,Or,xr){const kr=u.indexOf("#"),Mr=kr>-1?(d.host&&document.querySelector("base")?u:u.slice(kr))+Er:createBaseLocation()+u+Er;try{c[xr?"replaceState":"pushState"](Or,"",Mr),gr.value=Or}catch(Cr){console.error(Cr),d[xr?"replace":"assign"](Mr)}}function br(Er,Or){const xr=assign({},c.state,buildState(gr.value.back,Er,gr.value.forward,!0),Or,{position:gr.value.position});_r(Er,xr,!0),y.value=Er}function wr(Er,Or){const xr=assign({},gr.value,c.state,{forward:Er,scroll:computeScrollPosition()});_r(xr.current,xr,!0);const kr=assign({},buildState(y.value,Er,null),{position:xr.position+1},Or);_r(Er,kr,!1),y.value=Er}return{location:y,state:gr,push:wr,replace:br}}function createWebHistory(u){u=normalizeBase(u);const c=useHistoryStateNavigation(u),d=useHistoryListeners(u,c.state,c.location,c.replace);function y(_r,br=!0){br||d.pauseListeners(),history.go(_r)}const gr=assign({location:"",base:u,go:y,createHref:createHref.bind(null,u)},c,d);return Object.defineProperty(gr,"location",{enumerable:!0,get:()=>c.location.value}),Object.defineProperty(gr,"state",{enumerable:!0,get:()=>c.state.value}),gr}function createWebHashHistory(u){return u=location.host?u||location.pathname+location.search:"",u.includes("#")||(u+="#"),createWebHistory(u)}function isRouteLocation(u){return typeof u=="string"||u&&typeof u=="object"}function isRouteName(u){return typeof u=="string"||typeof u=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(u){u[u.aborted=4]="aborted",u[u.cancelled=8]="cancelled",u[u.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(u,c){return assign(new Error,{type:u,[NavigationFailureSymbol]:!0},c)}function isNavigationFailure(u,c){return u instanceof Error&&NavigationFailureSymbol in u&&(c==null||!!(u.type&c))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(u,c){const d=assign({},BASE_PATH_PARSER_OPTIONS,c),y=[];let gr=d.start?"^":"";const _r=[];for(const Or of u){const xr=Or.length?[]:[90];d.strict&&!Or.length&&(gr+="/");for(let kr=0;kr<Or.length;kr++){const Mr=Or[kr];let Cr=40+(d.sensitive?.25:0);if(Mr.type===0)kr||(gr+="/"),gr+=Mr.value.replace(REGEX_CHARS_RE,"\\$&"),Cr+=40;else if(Mr.type===1){const{value:Nr,repeatable:Ur,optional:Dr,regexp:zr}=Mr;_r.push({name:Nr,repeatable:Ur,optional:Dr});const Zr=zr||BASE_PARAM_PATTERN;if(Zr!==BASE_PARAM_PATTERN){Cr+=10;try{new RegExp(`(${Zr})`)}catch(tn){throw new Error(`Invalid custom RegExp for param "${Nr}" (${Zr}): `+tn.message)}}let Wr=Ur?`((?:${Zr})(?:/(?:${Zr}))*)`:`(${Zr})`;kr||(Wr=Dr&&Or.length<2?`(?:/${Wr})`:"/"+Wr),Dr&&(Wr+="?"),gr+=Wr,Cr+=20,Dr&&(Cr+=-8),Ur&&(Cr+=-20),Zr===".*"&&(Cr+=-50)}xr.push(Cr)}y.push(xr)}if(d.strict&&d.end){const Or=y.length-1;y[Or][y[Or].length-1]+=.7000000000000001}d.strict||(gr+="/?"),d.end?gr+="$":d.strict&&(gr+="(?:/|$)");const br=new RegExp(gr,d.sensitive?"":"i");function wr(Or){const xr=Or.match(br),kr={};if(!xr)return null;for(let Mr=1;Mr<xr.length;Mr++){const Cr=xr[Mr]||"",Nr=_r[Mr-1];kr[Nr.name]=Cr&&Nr.repeatable?Cr.split("/"):Cr}return kr}function Er(Or){let xr="",kr=!1;for(const Mr of u){(!kr||!xr.endsWith("/"))&&(xr+="/"),kr=!1;for(const Cr of Mr)if(Cr.type===0)xr+=Cr.value;else if(Cr.type===1){const{value:Nr,repeatable:Ur,optional:Dr}=Cr,zr=Nr in Or?Or[Nr]:"";if(isArray(zr)&&!Ur)throw new Error(`Provided param "${Nr}" is an array but it is not repeatable (* or + modifiers)`);const Zr=isArray(zr)?zr.join("/"):zr;if(!Zr)if(Dr)Mr.length<2&&(xr.endsWith("/")?xr=xr.slice(0,-1):kr=!0);else throw new Error(`Missing required param "${Nr}"`);xr+=Zr}}return xr||"/"}return{re:br,score:y,keys:_r,parse:wr,stringify:Er}}function compareScoreArray(u,c){let d=0;for(;d<u.length&&d<c.length;){const y=c[d]-u[d];if(y)return y;d++}return u.length<c.length?u.length===1&&u[0]===40+40?-1:1:u.length>c.length?c.length===1&&c[0]===40+40?1:-1:0}function comparePathParserScore(u,c){let d=0;const y=u.score,gr=c.score;for(;d<y.length&&d<gr.length;){const _r=compareScoreArray(y[d],gr[d]);if(_r)return _r;d++}if(Math.abs(gr.length-y.length)===1){if(isLastScoreNegative(y))return 1;if(isLastScoreNegative(gr))return-1}return gr.length-y.length}function isLastScoreNegative(u){const c=u[u.length-1];return u.length>0&&c[c.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(u){if(!u)return[[]];if(u==="/")return[[ROOT_TOKEN]];if(!u.startsWith("/"))throw new Error(`Invalid path "${u}"`);function c(Cr){throw new Error(`ERR (${d})/"${Or}": ${Cr}`)}let d=0,y=d;const gr=[];let _r;function br(){_r&&gr.push(_r),_r=[]}let wr=0,Er,Or="",xr="";function kr(){!Or||(d===0?_r.push({type:0,value:Or}):d===1||d===2||d===3?(_r.length>1&&(Er==="*"||Er==="+")&&c(`A repeatable param (${Or}) must be alone in its segment. eg: '/:ids+.`),_r.push({type:1,value:Or,regexp:xr,repeatable:Er==="*"||Er==="+",optional:Er==="*"||Er==="?"})):c("Invalid state to consume buffer"),Or="")}function Mr(){Or+=Er}for(;wr<u.length;){if(Er=u[wr++],Er==="\\"&&d!==2){y=d,d=4;continue}switch(d){case 0:Er==="/"?(Or&&kr(),br()):Er===":"?(kr(),d=1):Mr();break;case 4:Mr(),d=y;break;case 1:Er==="("?d=2:VALID_PARAM_RE.test(Er)?Mr():(kr(),d=0,Er!=="*"&&Er!=="?"&&Er!=="+"&&wr--);break;case 2:Er===")"?xr[xr.length-1]=="\\"?xr=xr.slice(0,-1)+Er:d=3:xr+=Er;break;case 3:kr(),d=0,Er!=="*"&&Er!=="?"&&Er!=="+"&&wr--,xr="";break;default:c("Unknown state");break}}return d===2&&c(`Unfinished custom RegExp for param "${Or}"`),kr(),br(),gr}function createRouteRecordMatcher(u,c,d){const y=tokensToParser(tokenizePath(u.path),d),gr=assign(y,{record:u,parent:c,children:[],alias:[]});return c&&!gr.record.aliasOf==!c.record.aliasOf&&c.children.push(gr),gr}function createRouterMatcher(u,c){const d=[],y=new Map;c=mergeOptions({strict:!1,end:!0,sensitive:!1},c);function gr(xr){return y.get(xr)}function _r(xr,kr,Mr){const Cr=!Mr,Nr=normalizeRouteRecord(xr);Nr.aliasOf=Mr&&Mr.record;const Ur=mergeOptions(c,xr),Dr=[Nr];if("alias"in xr){const Wr=typeof xr.alias=="string"?[xr.alias]:xr.alias;for(const tn of Wr)Dr.push(assign({},Nr,{components:Mr?Mr.record.components:Nr.components,path:tn,aliasOf:Mr?Mr.record:Nr}))}let zr,Zr;for(const Wr of Dr){const{path:tn}=Wr;if(kr&&tn[0]!=="/"){const rn=kr.record.path,Jr=rn[rn.length-1]==="/"?"":"/";Wr.path=kr.record.path+(tn&&Jr+tn)}if(zr=createRouteRecordMatcher(Wr,kr,Ur),Mr?Mr.alias.push(zr):(Zr=Zr||zr,Zr!==zr&&Zr.alias.push(zr),Cr&&xr.name&&!isAliasRecord(zr)&&br(xr.name)),Nr.children){const rn=Nr.children;for(let Jr=0;Jr<rn.length;Jr++)_r(rn[Jr],zr,Mr&&Mr.children[Jr])}Mr=Mr||zr,Er(zr)}return Zr?()=>{br(Zr)}:noop}function br(xr){if(isRouteName(xr)){const kr=y.get(xr);kr&&(y.delete(xr),d.splice(d.indexOf(kr),1),kr.children.forEach(br),kr.alias.forEach(br))}else{const kr=d.indexOf(xr);kr>-1&&(d.splice(kr,1),xr.record.name&&y.delete(xr.record.name),xr.children.forEach(br),xr.alias.forEach(br))}}function wr(){return d}function Er(xr){let kr=0;for(;kr<d.length&&comparePathParserScore(xr,d[kr])>=0&&(xr.record.path!==d[kr].record.path||!isRecordChildOf(xr,d[kr]));)kr++;d.splice(kr,0,xr),xr.record.name&&!isAliasRecord(xr)&&y.set(xr.record.name,xr)}function Or(xr,kr){let Mr,Cr={},Nr,Ur;if("name"in xr&&xr.name){if(Mr=y.get(xr.name),!Mr)throw createRouterError(1,{location:xr});Ur=Mr.record.name,Cr=assign(paramsFromLocation(kr.params,Mr.keys.filter(Zr=>!Zr.optional).map(Zr=>Zr.name)),xr.params&&paramsFromLocation(xr.params,Mr.keys.map(Zr=>Zr.name))),Nr=Mr.stringify(Cr)}else if("path"in xr)Nr=xr.path,Mr=d.find(Zr=>Zr.re.test(Nr)),Mr&&(Cr=Mr.parse(Nr),Ur=Mr.record.name);else{if(Mr=kr.name?y.get(kr.name):d.find(Zr=>Zr.re.test(kr.path)),!Mr)throw createRouterError(1,{location:xr,currentLocation:kr});Ur=Mr.record.name,Cr=assign({},kr.params,xr.params),Nr=Mr.stringify(Cr)}const Dr=[];let zr=Mr;for(;zr;)Dr.unshift(zr.record),zr=zr.parent;return{name:Ur,path:Nr,params:Cr,matched:Dr,meta:mergeMetaFields(Dr)}}return u.forEach(xr=>_r(xr)),{addRoute:_r,resolve:Or,removeRoute:br,getRoutes:wr,getRecordMatcher:gr}}function paramsFromLocation(u,c){const d={};for(const y of c)y in u&&(d[y]=u[y]);return d}function normalizeRouteRecord(u){return{path:u.path,redirect:u.redirect,name:u.name,meta:u.meta||{},aliasOf:void 0,beforeEnter:u.beforeEnter,props:normalizeRecordProps(u),children:u.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in u?u.components||null:u.component&&{default:u.component}}}function normalizeRecordProps(u){const c={},d=u.props||!1;if("component"in u)c.default=d;else for(const y in u.components)c[y]=typeof d=="boolean"?d:d[y];return c}function isAliasRecord(u){for(;u;){if(u.record.aliasOf)return!0;u=u.parent}return!1}function mergeMetaFields(u){return u.reduce((c,d)=>assign(c,d.meta),{})}function mergeOptions(u,c){const d={};for(const y in u)d[y]=y in c?c[y]:u[y];return d}function isRecordChildOf(u,c){return c.children.some(d=>d===u||isRecordChildOf(u,d))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(u){return encodeURI(""+u).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(u){return commonEncode(u).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(u){return commonEncode(u).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(u){return encodeQueryValue(u).replace(EQUAL_RE,"%3D")}function encodePath(u){return commonEncode(u).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(u){return u==null?"":encodePath(u).replace(SLASH_RE,"%2F")}function decode(u){try{return decodeURIComponent(""+u)}catch{}return""+u}function parseQuery(u){const c={};if(u===""||u==="?")return c;const y=(u[0]==="?"?u.slice(1):u).split("&");for(let gr=0;gr<y.length;++gr){const _r=y[gr].replace(PLUS_RE," "),br=_r.indexOf("="),wr=decode(br<0?_r:_r.slice(0,br)),Er=br<0?null:decode(_r.slice(br+1));if(wr in c){let Or=c[wr];isArray(Or)||(Or=c[wr]=[Or]),Or.push(Er)}else c[wr]=Er}return c}function stringifyQuery(u){let c="";for(let d in u){const y=u[d];if(d=encodeQueryKey(d),y==null){y!==void 0&&(c+=(c.length?"&":"")+d);continue}(isArray(y)?y.map(_r=>_r&&encodeQueryValue(_r)):[y&&encodeQueryValue(y)]).forEach(_r=>{_r!==void 0&&(c+=(c.length?"&":"")+d,_r!=null&&(c+="="+_r))})}return c}function normalizeQuery(u){const c={};for(const d in u){const y=u[d];y!==void 0&&(c[d]=isArray(y)?y.map(gr=>gr==null?null:""+gr):y==null?y:""+y)}return c}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let u=[];function c(y){return u.push(y),()=>{const gr=u.indexOf(y);gr>-1&&u.splice(gr,1)}}function d(){u=[]}return{add:c,list:()=>u,reset:d}}function guardToPromiseFn(u,c,d,y,gr){const _r=y&&(y.enterCallbacks[gr]=y.enterCallbacks[gr]||[]);return()=>new Promise((br,wr)=>{const Er=kr=>{kr===!1?wr(createRouterError(4,{from:d,to:c})):kr instanceof Error?wr(kr):isRouteLocation(kr)?wr(createRouterError(2,{from:c,to:kr})):(_r&&y.enterCallbacks[gr]===_r&&typeof kr=="function"&&_r.push(kr),br())},Or=u.call(y&&y.instances[gr],c,d,Er);let xr=Promise.resolve(Or);u.length<3&&(xr=xr.then(Er)),xr.catch(kr=>wr(kr))})}function extractComponentsGuards(u,c,d,y){const gr=[];for(const _r of u)for(const br in _r.components){let wr=_r.components[br];if(!(c!=="beforeRouteEnter"&&!_r.instances[br]))if(isRouteComponent(wr)){const Or=(wr.__vccOpts||wr)[c];Or&&gr.push(guardToPromiseFn(Or,d,y,_r,br))}else{let Er=wr();gr.push(()=>Er.then(Or=>{if(!Or)return Promise.reject(new Error(`Couldn't resolve component "${br}" at "${_r.path}"`));const xr=isESModule(Or)?Or.default:Or;_r.components[br]=xr;const Mr=(xr.__vccOpts||xr)[c];return Mr&&guardToPromiseFn(Mr,d,y,_r,br)()}))}}return gr}function isRouteComponent(u){return typeof u=="object"||"displayName"in u||"props"in u||"__vccOpts"in u}function useLink(u){const c=inject(routerKey),d=inject(routeLocationKey),y=computed$1(()=>c.resolve(unref(u.to))),gr=computed$1(()=>{const{matched:Er}=y.value,{length:Or}=Er,xr=Er[Or-1],kr=d.matched;if(!xr||!kr.length)return-1;const Mr=kr.findIndex(isSameRouteRecord.bind(null,xr));if(Mr>-1)return Mr;const Cr=getOriginalPath(Er[Or-2]);return Or>1&&getOriginalPath(xr)===Cr&&kr[kr.length-1].path!==Cr?kr.findIndex(isSameRouteRecord.bind(null,Er[Or-2])):Mr}),_r=computed$1(()=>gr.value>-1&&includesParams(d.params,y.value.params)),br=computed$1(()=>gr.value>-1&&gr.value===d.matched.length-1&&isSameRouteLocationParams(d.params,y.value.params));function wr(Er={}){return guardEvent(Er)?c[unref(u.replace)?"replace":"push"](unref(u.to)).catch(noop):Promise.resolve()}return{route:y,href:computed$1(()=>y.value.href),isActive:_r,isExactActive:br,navigate:wr}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(u,{slots:c}){const d=reactive(useLink(u)),{options:y}=inject(routerKey),gr=computed$1(()=>({[getLinkClass(u.activeClass,y.linkActiveClass,"router-link-active")]:d.isActive,[getLinkClass(u.exactActiveClass,y.linkExactActiveClass,"router-link-exact-active")]:d.isExactActive}));return()=>{const _r=c.default&&c.default(d);return u.custom?_r:h("a",{"aria-current":d.isExactActive?u.ariaCurrentValue:null,href:d.href,onClick:d.navigate,class:gr.value},_r)}}}),RouterLink=RouterLinkImpl;function guardEvent(u){if(!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)&&!u.defaultPrevented&&!(u.button!==void 0&&u.button!==0)){if(u.currentTarget&&u.currentTarget.getAttribute){const c=u.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(c))return}return u.preventDefault&&u.preventDefault(),!0}}function includesParams(u,c){for(const d in c){const y=c[d],gr=u[d];if(typeof y=="string"){if(y!==gr)return!1}else if(!isArray(gr)||gr.length!==y.length||y.some((_r,br)=>_r!==gr[br]))return!1}return!0}function getOriginalPath(u){return u?u.aliasOf?u.aliasOf.path:u.path:""}const getLinkClass=(u,c,d)=>u??c??d,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(u,{attrs:c,slots:d}){const y=inject(routerViewLocationKey),gr=computed$1(()=>u.route||y.value),_r=inject(viewDepthKey,0),br=computed$1(()=>{let Or=unref(_r);const{matched:xr}=gr.value;let kr;for(;(kr=xr[Or])&&!kr.components;)Or++;return Or}),wr=computed$1(()=>gr.value.matched[br.value]);provide(viewDepthKey,computed$1(()=>br.value+1)),provide(matchedRouteKey,wr),provide(routerViewLocationKey,gr);const Er=ref();return watch(()=>[Er.value,wr.value,u.name],([Or,xr,kr],[Mr,Cr,Nr])=>{xr&&(xr.instances[kr]=Or,Cr&&Cr!==xr&&Or&&Or===Mr&&(xr.leaveGuards.size||(xr.leaveGuards=Cr.leaveGuards),xr.updateGuards.size||(xr.updateGuards=Cr.updateGuards))),Or&&xr&&(!Cr||!isSameRouteRecord(xr,Cr)||!Mr)&&(xr.enterCallbacks[kr]||[]).forEach(Ur=>Ur(Or))},{flush:"post"}),()=>{const Or=gr.value,xr=u.name,kr=wr.value,Mr=kr&&kr.components[xr];if(!Mr)return normalizeSlot(d.default,{Component:Mr,route:Or});const Cr=kr.props[xr],Nr=Cr?Cr===!0?Or.params:typeof Cr=="function"?Cr(Or):Cr:null,Dr=h(Mr,assign({},Nr,c,{onVnodeUnmounted:zr=>{zr.component.isUnmounted&&(kr.instances[xr]=null)},ref:Er}));return normalizeSlot(d.default,{Component:Dr,route:Or})||Dr}}});function normalizeSlot(u,c){if(!u)return null;const d=u(c);return d.length===1?d[0]:d}const RouterView=RouterViewImpl;function createRouter(u){const c=createRouterMatcher(u.routes,u),d=u.parseQuery||parseQuery,y=u.stringifyQuery||stringifyQuery,gr=u.history,_r=useCallbacks(),br=useCallbacks(),wr=useCallbacks(),Er=shallowRef(START_LOCATION_NORMALIZED);let Or=START_LOCATION_NORMALIZED;isBrowser&&u.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const xr=applyToParams.bind(null,on=>""+on),kr=applyToParams.bind(null,encodeParam),Mr=applyToParams.bind(null,decode);function Cr(on,sn){let yn,wn;return isRouteName(on)?(yn=c.getRecordMatcher(on),wn=sn):wn=on,c.addRoute(wn,yn)}function Nr(on){const sn=c.getRecordMatcher(on);sn&&c.removeRoute(sn)}function Ur(){return c.getRoutes().map(on=>on.record)}function Dr(on){return!!c.getRecordMatcher(on)}function zr(on,sn){if(sn=assign({},sn||Er.value),typeof on=="string"){const Cn=parseURL(d,on,sn.path),ln=c.resolve({path:Cn.path},sn),pn=gr.createHref(Cn.fullPath);return assign(Cn,ln,{params:Mr(ln.params),hash:decode(Cn.hash),redirectedFrom:void 0,href:pn})}let yn;if("path"in on)yn=assign({},on,{path:parseURL(d,on.path,sn.path).path});else{const Cn=assign({},on.params);for(const ln in Cn)Cn[ln]==null&&delete Cn[ln];yn=assign({},on,{params:kr(on.params)}),sn.params=kr(sn.params)}const wn=c.resolve(yn,sn),In=on.hash||"";wn.params=xr(Mr(wn.params));const Mn=stringifyURL(y,assign({},on,{hash:encodeHash(In),path:wn.path})),Ln=gr.createHref(Mn);return assign({fullPath:Mn,hash:In,query:y===stringifyQuery?normalizeQuery(on.query):on.query||{}},wn,{redirectedFrom:void 0,href:Ln})}function Zr(on){return typeof on=="string"?parseURL(d,on,Er.value.path):assign({},on)}function Wr(on,sn){if(Or!==on)return createRouterError(8,{from:sn,to:on})}function tn(on){return Qr(on)}function rn(on){return tn(assign(Zr(on),{replace:!0}))}function Jr(on){const sn=on.matched[on.matched.length-1];if(sn&&sn.redirect){const{redirect:yn}=sn;let wn=typeof yn=="function"?yn(on):yn;return typeof wn=="string"&&(wn=wn.includes("?")||wn.includes("#")?wn=Zr(wn):{path:wn},wn.params={}),assign({query:on.query,hash:on.hash,params:"path"in wn?{}:on.params},wn)}}function Qr(on,sn){const yn=Or=zr(on),wn=Er.value,In=on.state,Mn=on.force,Ln=on.replace===!0,Cn=Jr(yn);if(Cn)return Qr(assign(Zr(Cn),{state:typeof Cn=="object"?assign({},In,Cn.state):In,force:Mn,replace:Ln}),sn||yn);const ln=yn;ln.redirectedFrom=sn;let pn;return!Mn&&isSameRouteLocation(y,wn,yn)&&(pn=createRouterError(16,{to:ln,from:wn}),En(wn,wn,!0,!1)),(pn?Promise.resolve(pn):mn(ln,wn)).catch(On=>isNavigationFailure(On)?isNavigationFailure(On,2)?On:hn(On):Yr(On,ln,wn)).then(On=>{if(On){if(isNavigationFailure(On,2))return Qr(assign({replace:Ln},Zr(On.to),{state:typeof On.to=="object"?assign({},In,On.to.state):In,force:Mn}),sn||ln)}else On=gn(ln,wn,!0,Ln,In);return fn(ln,wn,On),On})}function an(on,sn){const yn=Wr(on,sn);return yn?Promise.reject(yn):Promise.resolve()}function mn(on,sn){let yn;const[wn,In,Mn]=extractChangingRecords(on,sn);yn=extractComponentsGuards(wn.reverse(),"beforeRouteLeave",on,sn);for(const Cn of wn)Cn.leaveGuards.forEach(ln=>{yn.push(guardToPromiseFn(ln,on,sn))});const Ln=an.bind(null,on,sn);return yn.push(Ln),runGuardQueue(yn).then(()=>{yn=[];for(const Cn of _r.list())yn.push(guardToPromiseFn(Cn,on,sn));return yn.push(Ln),runGuardQueue(yn)}).then(()=>{yn=extractComponentsGuards(In,"beforeRouteUpdate",on,sn);for(const Cn of In)Cn.updateGuards.forEach(ln=>{yn.push(guardToPromiseFn(ln,on,sn))});return yn.push(Ln),runGuardQueue(yn)}).then(()=>{yn=[];for(const Cn of on.matched)if(Cn.beforeEnter&&!sn.matched.includes(Cn))if(isArray(Cn.beforeEnter))for(const ln of Cn.beforeEnter)yn.push(guardToPromiseFn(ln,on,sn));else yn.push(guardToPromiseFn(Cn.beforeEnter,on,sn));return yn.push(Ln),runGuardQueue(yn)}).then(()=>(on.matched.forEach(Cn=>Cn.enterCallbacks={}),yn=extractComponentsGuards(Mn,"beforeRouteEnter",on,sn),yn.push(Ln),runGuardQueue(yn))).then(()=>{yn=[];for(const Cn of br.list())yn.push(guardToPromiseFn(Cn,on,sn));return yn.push(Ln),runGuardQueue(yn)}).catch(Cn=>isNavigationFailure(Cn,8)?Cn:Promise.reject(Cn))}function fn(on,sn,yn){for(const wn of wr.list())wn(on,sn,yn)}function gn(on,sn,yn,wn,In){const Mn=Wr(on,sn);if(Mn)return Mn;const Ln=sn===START_LOCATION_NORMALIZED,Cn=isBrowser?history.state:{};yn&&(wn||Ln?gr.replace(on.fullPath,assign({scroll:Ln&&Cn&&Cn.scroll},In)):gr.push(on.fullPath,In)),Er.value=on,En(on,sn,yn,Ln),hn()}let Sn;function Fr(){Sn||(Sn=gr.listen((on,sn,yn)=>{if(!_n.listening)return;const wn=zr(on),In=Jr(wn);if(In){Qr(assign(In,{replace:!0}),wn).catch(noop);return}Or=wn;const Mn=Er.value;isBrowser&&saveScrollPosition(getScrollKey(Mn.fullPath,yn.delta),computeScrollPosition()),mn(wn,Mn).catch(Ln=>isNavigationFailure(Ln,12)?Ln:isNavigationFailure(Ln,2)?(Qr(Ln.to,wn).then(Cn=>{isNavigationFailure(Cn,20)&&!yn.delta&&yn.type===NavigationType.pop&&gr.go(-1,!1)}).catch(noop),Promise.reject()):(yn.delta&&gr.go(-yn.delta,!1),Yr(Ln,wn,Mn))).then(Ln=>{Ln=Ln||gn(wn,Mn,!1),Ln&&(yn.delta&&!isNavigationFailure(Ln,8)?gr.go(-yn.delta,!1):yn.type===NavigationType.pop&&isNavigationFailure(Ln,20)&&gr.go(-1,!1)),fn(wn,Mn,Ln)}).catch(noop)}))}let Rr=useCallbacks(),Lr=useCallbacks(),Vr;function Yr(on,sn,yn){hn(on);const wn=Lr.list();return wn.length?wn.forEach(In=>In(on,sn,yn)):console.error(on),Promise.reject(on)}function Xr(){return Vr&&Er.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((on,sn)=>{Rr.add([on,sn])})}function hn(on){return Vr||(Vr=!on,Fr(),Rr.list().forEach(([sn,yn])=>on?yn(on):sn()),Rr.reset()),on}function En(on,sn,yn,wn){const{scrollBehavior:In}=u;if(!isBrowser||!In)return Promise.resolve();const Mn=!yn&&getSavedScrollPosition(getScrollKey(on.fullPath,0))||(wn||!yn)&&history.state&&history.state.scroll||null;return nextTick().then(()=>In(on,sn,Mn)).then(Ln=>Ln&&scrollToPosition(Ln)).catch(Ln=>Yr(Ln,on,sn))}const qr=on=>gr.go(on);let Br;const Hr=new Set,_n={currentRoute:Er,listening:!0,addRoute:Cr,removeRoute:Nr,hasRoute:Dr,getRoutes:Ur,resolve:zr,options:u,push:tn,replace:rn,go:qr,back:()=>qr(-1),forward:()=>qr(1),beforeEach:_r.add,beforeResolve:br.add,afterEach:wr.add,onError:Lr.add,isReady:Xr,install(on){const sn=this;on.component("RouterLink",RouterLink),on.component("RouterView",RouterView),on.config.globalProperties.$router=sn,Object.defineProperty(on.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(Er)}),isBrowser&&!Br&&Er.value===START_LOCATION_NORMALIZED&&(Br=!0,tn(gr.location).catch(In=>{}));const yn={};for(const In in START_LOCATION_NORMALIZED)yn[In]=computed$1(()=>Er.value[In]);on.provide(routerKey,sn),on.provide(routeLocationKey,reactive(yn)),on.provide(routerViewLocationKey,Er);const wn=on.unmount;Hr.add(on),on.unmount=function(){Hr.delete(on),Hr.size<1&&(Or=START_LOCATION_NORMALIZED,Sn&&Sn(),Sn=null,Er.value=START_LOCATION_NORMALIZED,Br=!1,Vr=!1),wn()}}};return _n}function runGuardQueue(u){return u.reduce((c,d)=>c.then(()=>d()),Promise.resolve())}function extractChangingRecords(u,c){const d=[],y=[],gr=[],_r=Math.max(c.matched.length,u.matched.length);for(let br=0;br<_r;br++){const wr=c.matched[br];wr&&(u.matched.find(Or=>isSameRouteRecord(Or,wr))?y.push(wr):d.push(wr));const Er=u.matched[br];Er&&(c.matched.find(Or=>isSameRouteRecord(Or,Er))||gr.push(Er))}return[d,y,gr]}const tailwind$1="",tailwind="",full_min="",__uno="",image="/assets/rouge_market_background_1.6f3823e2.webp",_hoisted_1$9={class:"background"},_hoisted_2$7={class:"pt-20"},_hoisted_3$5={class:"grid max-w-screen-xl px-4 py-8 mx-auto lg:gap-8 xl:gap-0 lg:py-16 lg:grid-cols-12"},_hoisted_4$5=createStaticVNode('<div class="mr-auto place-self-center lg:col-span-7" data-v-b73deab1><h1 class="max-w-2xl mb-4 text-4xl font-extrabold leading-none md:text-5xl xl:text-6xl text-gray-100 dark:text-gray-300" data-v-b73deab1> StarAtlas </h1><div class="max-w-2xl mb-4 text-4xl font-extrabold tracking-tight leading-none md:text-5xl xl:text-6xl text-gray-100 dark:text-gray-300 animate-fade-in-down animate-count-1 animate-duration-2s fw100" data-v-b73deab1> RougeMarket </div><p class="max-w-2xl mb-6 font-light text-gray-100 lg:mb-8 md:text-lg lg:text-xl text-gray-100 dark:text-gray-300" data-v-b73deab1> A cooperation between HEIM and S&amp;B </p><a class="inline-flex items-center justify-center px-5 py-3 mr-3 text-base font-medium text-center text-white rounded-lg bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-900" href="#" data-v-b73deab1> Get started <svg class="w-5 h-5 ml-2 -mr-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-v-b73deab1><path clip-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" fill-rule="evenodd" data-v-b73deab1></path></svg></a><a class="text-white inline-flex items-center justify-center px-5 py-3 font-medium text-center border border-gray-300 rounded-lg hover:bg-gray-100 focus:ring-4 focus:ring-gray-100" href="#" data-v-b73deab1> Speak to Sales </a></div>',1),_hoisted_5$4={class:"hidden lg:mt-0 lg:col-span-5 lg:flex animate-pulse animate-duration-5s shadow-2xl"},_hoisted_6$4=["src"],_sfc_main$a=defineComponent({__name:"HomeView",setup(u){return(c,d)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("section",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$5,[_hoisted_4$5,createBaseVNode("div",_hoisted_5$4,[createBaseVNode("img",{src:unref(image),alt:"mockup"},null,8,_hoisted_6$4)])])])]))}}),HomeView_vue_vue_type_style_index_0_scoped_b73deab1_lang="",Home=_export_sfc(_sfc_main$a,[["__scopeId","data-v-b73deab1"]]),_hoisted_1$8={class:"px-4 py-2 flex flex-row space-x-2 bg-gray-100 dark:bg-gray-800 shadow-xl rounded-box"},_hoisted_2$6={class:"flex flex-row space-x-1"},_hoisted_3$4=createBaseVNode("h2",null,"BTC/USDC",-1),_hoisted_4$4={class:"flex flex-row space-x-1"},_hoisted_5$3=createBaseVNode("h2",null,"SOL/USDC",-1),_hoisted_6$3={class:"flex flex-row space-x-1"},_hoisted_7$2=createBaseVNode("h2",null,"ATLAS/USDC",-1),_hoisted_8$3={class:"flex flex-row space-x-1"},_hoisted_9$2=createBaseVNode("h2",null,"POLIS/USDC",-1),_hoisted_10$1=createBaseVNode("div",{class:"i-carbon:ibm-cloud-pak-watson-aiops"},null,-1),_hoisted_11$1=createBaseVNode("sup",null,"TPS",-1),_sfc_main$9=defineComponent({__name:"InfoFeed",setup(u){const c=useTokenPriceStore(),d=useSolanaNetworkStore();return(y,gr)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$6,[_hoisted_3$4,createBaseVNode("h3",null,toDisplayString(unref(c).btc),1)]),createBaseVNode("div",_hoisted_4$4,[_hoisted_5$3,createBaseVNode("h3",null,toDisplayString(unref(c).sol),1)]),createBaseVNode("div",_hoisted_6$3,[_hoisted_7$2,createBaseVNode("h3",null,toDisplayString(unref(c).atlas),1)]),createBaseVNode("div",_hoisted_8$3,[_hoisted_9$2,createBaseVNode("h3",null,toDisplayString(unref(c).polis),1)]),createBaseVNode("div",{class:normalizeClass([unref(d).transactions_per_second<1e3?"text-red-400":"text-green-700","flex w-full justify-end flex-row space-x-1 items-center"])},[_hoisted_10$1,createBaseVNode("div",null,[createBaseVNode("p",null,toDisplayString(unref(d).transactions_per_second.toFixed(0)),1),_hoisted_11$1])],2)]))}}),_hoisted_1$7=createBaseVNode("h2",null,"Orderbook",-1),_hoisted_2$5=createBaseVNode("option",null,"ATLAS",-1),_hoisted_3$3=createBaseVNode("option",null,"USDC",-1),_hoisted_4$3=[_hoisted_2$5,_hoisted_3$3],_hoisted_5$2={class:"flex flex-row"},_hoisted_6$2={class:"order-type-container"},_hoisted_7$1=createBaseVNode("p",null,"Sell orders:",-1),_hoisted_8$2={class:"w-full flex flex-row rounded-full"},_hoisted_9$1={class:"sellSideText"},_hoisted_10={class:"order-type-container"},_hoisted_11=createBaseVNode("p",null,"Buy orders:",-1),_hoisted_12={class:"w-full flex flex-row rounded-full"},_hoisted_13={class:"buySideText"},_sfc_main$8=defineComponent({__name:"OrderbookList",setup(u){const{symbol:c}=storeToRefs(useGlobalStore()),{atlasOrders:d,usdcOrders:y}=storeToRefs(useStaratlasGmStore()),gr=ref("USDC");return watch(c,_r=>{useStaratlasGmStore().getOpenOrdersForAsset(useAssetsStore().allAssets?.find(br=>_r.includes(br.symbol))?.mint??"")}),(_r,br)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$7,createTextVNode(" "+toDisplayString(unref(c))+" ",1),createBaseVNode("div",null,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":br[0]||(br[0]=wr=>gr.value=wr)},_hoisted_4$3,512),[[vModelSelect,gr.value]]),createBaseVNode("div",_hoisted_5$2,[createBaseVNode("div",_hoisted_6$2,[_hoisted_7$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(gr.value==="ATLAS"?unref(d).sellOrders:unref(y).sellOrders,wr=>(openBlock(),createElementBlock("div",{key:wr.id},[createBaseVNode("div",_hoisted_8$2,[createBaseVNode("div",{style:normalizeStyle("width: "+wr.orderOriginationQty/unref(useStaratlasGmStore)().getSumOrders("sell",gr.value==="ATLAS"?unref(TOKEN_ATLAS):unref(TOKEN_USDC))*100+"%"),class:"flex flex-row sellSide"},[createBaseVNode("div",null,toDisplayString(wr.orderQtyRemaining),1)],4),createBaseVNode("div",{style:normalizeStyle("width: "+(1-wr.orderOriginationQty/unref(useStaratlasGmStore)().getSumOrders("sell",gr.value==="ATLAS"?unref(TOKEN_ATLAS):unref(TOKEN_USDC)))*100+"%"),class:"justify-end flex flex-row transparent"},[createBaseVNode("div",_hoisted_9$1,toDisplayString(wr.uiPrice),1)],4)])]))),128))]),createBaseVNode("div",_hoisted_10,[_hoisted_11,(openBlock(!0),createElementBlock(Fragment,null,renderList(gr.value==="ATLAS"?unref(d).buyOrders:unref(y).buyOrders,wr=>(openBlock(),createElementBlock("div",{key:wr.id},[createBaseVNode("div",_hoisted_12,[createBaseVNode("div",{style:normalizeStyle("width: "+(1-wr.orderOriginationQty/unref(useStaratlasGmStore)().getSumOrders("buy",gr.value==="ATLAS"?unref(TOKEN_ATLAS):unref(TOKEN_USDC)))*100+"%"),class:"flex flex-row transparent"},[createBaseVNode("div",_hoisted_13,toDisplayString(wr.uiPrice),1)],4),createBaseVNode("div",{style:normalizeStyle("width: "+wr.orderOriginationQty/unref(useStaratlasGmStore)().getSumOrders("buy",gr.value==="ATLAS"?unref(TOKEN_ATLAS):unref(TOKEN_USDC))*100+"%"),class:"justify-end flex flex-row buySide"},[createBaseVNode("div",null,toDisplayString(wr.orderQtyRemaining),1)],4)])]))),128))])])])],64))}}),OrderbookList_vue_vue_type_style_index_0_lang="";function e$1(u,c){const d={...u};for(const y in c)typeof u[y]!="object"||u[y]===null||Array.isArray(u[y])?c[y]!==void 0&&(d[y]=c[y]):d[y]=e$1(u[y],c[y]);return d}const t$1={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},i$1={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};let n=!1;function o$1(){return"CL v22.032 (internal id e2a841ff @ 2022-07-06T11:53:07.702Z)"}const s$1=class{constructor(u){if(this._id=`tradingview_${(1048576*(1+Math.random())|0).toString(16).substring(1)}`,this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!u.datafeed)throw new Error("Datafeed is not defined");if(this._options=e$1(i$1,u),u.preset){const c=t$1[u.preset];c?(this._options.disabled_features!==void 0?this._options.disabled_features=this._options.disabled_features.concat(c.disabled_features):this._options.disabled_features=c.disabled_features,this._options.enabled_features!==void 0?this._options.enabled_features=this._options.enabled_features.concat(c.enabled_features):this._options.enabled_features=c.enabled_features):console.warn("Unknown preset: `"+u.preset+"`")}this._options.theme==="Dark"&&this._options.loading_screen===void 0&&(this._options.loading_screen={backgroundColor:"#131722"}),this._options.debug&&(n||(n=!0,console.log("Using CL v22.032 (internal id e2a841ff @ 2022-07-06T11:53:07.702Z)"))),this._create()}onChartReady(u){this._ready?u.call(this):this._readyHandlers.push(u)}headerReady(){return this._innerWindowLoaded.then(()=>this._innerWindow().headerReady())}onGrayedObjectClicked(u){this._doWhenInnerApiLoaded(c=>{c.onGrayedObjectClicked(u)})}onShortcut(u,c){this._doWhenInnerWindowLoaded(d=>{d.createShortcutAction(u,c)})}subscribe(u,c){this._doWhenInnerApiLoaded(d=>{d.subscribe(u,c)})}unsubscribe(u,c){this._doWhenInnerApiLoaded(d=>{d.unsubscribe(u,c)})}chart(u){return this._innerAPI().chart(u)}getLanguage(){return this._options.locale}setSymbol(u,c,d){this._innerAPI().changeSymbol(u,c,d)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._doWhenInnerApiLoaded(u=>{u.closePopupsAndDialogs()})}selectLineTool(u){this._innerAPI().selectLineTool(u)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(u){this._innerAPI().saveChart(u)}load(u,c){this._innerAPI().loadChart({json:u,extendedData:c})}getSavedCharts(u){this._innerAPI().getSavedCharts(u)}loadChartFromServer(u){this._innerAPI().loadChartFromServer(u)}saveChartToServer(u,c,d){this._innerAPI().saveChartToServer(u,c,d)}removeChartFromServer(u,c){this._innerAPI().removeChartFromServer(u,c)}onContextMenu(u){this._doWhenInnerApiLoaded(c=>{c.onContextMenu(u)})}createButton(u){return this._innerWindow().createButton(u)}createDropdown(u){return this._innerWindow().createDropdown(u)}showNoticeDialog(u){this._doWhenInnerApiLoaded(c=>{c.showNoticeDialog(u)})}showConfirmDialog(u){this._doWhenInnerApiLoaded(c=>{c.showConfirmDialog(u)})}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}getStudyInputs(u){return this._innerAPI().getStudyInputs(u)}addCustomCSSFile(u){this._innerWindow().addCustomCSSFile(u)}applyOverrides(u){this._options=e$1(this._options,{overrides:u}),this._doWhenInnerWindowLoaded(c=>{c.applyOverrides(u)})}applyStudiesOverrides(u){this._doWhenInnerWindowLoaded(c=>{c.applyStudiesOverrides(u)})}watchList(){return this._innerAPI().watchlist()}news(){return this._innerAPI().news()}widgetbar(){return this._innerAPI().widgetbar()}activeChart(){return this._innerAPI().activeChart()}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(u){this._innerAPI().setLayout(u)}layoutName(){return this._innerAPI().layoutName()}changeTheme(u,c){return this._innerWindow().changeTheme(u,c)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._doWhenInnerApiLoaded(u=>{u.takeScreenshot()})}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllCharts(u){this._innerAPI().drawOnAllCharts(u)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(u){this._innerAPI().setIntervalLinkingEnabled(u)}setTimeFrame(u){this._innerAPI().setTimeFrame(u)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(u){return this._innerAPI().takeClientScreenshot(u)}navigationButtonsVisibility(){return this._innerWindow().getNavigationButtonsVisibility()}paneButtonsVisibility(){return this._innerWindow().getPaneButtonsVisibility()}dateFormat(){return this._innerWindow().getDateFormat()}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_doWhenInnerWindowLoaded(u){this._ready?u(this._innerWindow()):this._innerWindowLoaded.then(()=>{u(this._innerWindow())})}_doWhenInnerApiLoaded(u){this._doWhenInnerWindowLoaded(c=>{c.doWhenApiIsReady(()=>u(this._innerAPI()))})}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")}_create(){const u=this._render();this._options.container_id&&console.warn("`container_id` is now deprecated. Please use `container` instead to either still pass a string or an `HTMLElement`.");const c=this._options.container_id||this._options.container,d=typeof c=="string"?document.getElementById(c):c;if(d===null)throw new Error(`There is no such element - #${this._options.container}`);d.innerHTML=u,this._iFrame=d.querySelector(`#${this._id}`);const y=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(y.style.width="100%",this._options.fullscreen||(y.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(gr=>{const _r=()=>{y.removeEventListener("load",_r,!1),gr()};y.addEventListener("load",_r,!1)}),this._innerWindowLoaded.then(()=>{this._innerWindow().widgetReady(()=>{this._ready=!0;for(const gr of this._readyHandlers)try{gr.call(this)}catch(_r){console.error(_r)}this._innerWindow().initializationFinished()})})}_render(){const u=window;if(u[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides},this._options.saved_data)u[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(u[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");const c=(this._options.library_path||"")+`${encodeURIComponent(this._options.locale)}-tv-chart.e2a841ff.html#symbol=`+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+c+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'}};window.TradingView=window.TradingView||{},window.TradingView.version=o$1;function logMessage(u){}function getErrorMessage(u){return u===void 0?"":typeof u=="string"?u:u.message}class HistoryProvider{constructor(c,d){this._datafeedUrl=c,this._requester=d}getBars(c,d,y){const gr={symbol:c.ticker||"",resolution:d,from:y.from,to:y.to};return y.countBack!==void 0&&(gr.countback=y.countBack),c.currency_code!==void 0&&(gr.currencyCode=c.currency_code),c.unit_id!==void 0&&(gr.unitId=c.unit_id),new Promise((_r,br)=>{this._requester.sendRequest(this._datafeedUrl,"history",gr).then(wr=>{if(wr.s!=="ok"&&wr.s!=="no_data"){br(wr.errmsg);return}const Er=[],Or={noData:!1};if(wr.s==="no_data")Or.noData=!0,Or.nextTime=wr.nextTime;else{const xr=wr.v!==void 0,kr=wr.o!==void 0;for(let Mr=0;Mr<wr.t.length;++Mr){const Cr={time:wr.t[Mr]*1e3,close:parseFloat(wr.c[Mr]),open:parseFloat(wr.c[Mr]),high:parseFloat(wr.c[Mr]),low:parseFloat(wr.c[Mr])};kr&&(Cr.open=parseFloat(wr.o[Mr]),Cr.high=parseFloat(wr.h[Mr]),Cr.low=parseFloat(wr.l[Mr])),xr&&(Cr.volume=parseFloat(wr.v[Mr])),Er.push(Cr)}}_r({bars:Er,meta:Or})}).catch(wr=>{const Er=getErrorMessage(wr);console.warn(`HistoryProvider: getBars() failed, error=${Er}`),br(Er)})})}}class DataPulseProvider{constructor(c,d){this._subscribers={},this._requestsPending=0,this._historyProvider=c,setInterval(this._updateData.bind(this),d)}subscribeBars(c,d,y,gr){this._subscribers.hasOwnProperty(gr)||(this._subscribers[gr]={lastBarTime:null,listener:y,resolution:d,symbolInfo:c},`${gr}${c.name}${d}`,void 0)}unsubscribeBars(c){delete this._subscribers[c]}_updateData(){if(!(this._requestsPending>0)){this._requestsPending=0;for(const c in this._subscribers)this._requestsPending+=1,this._updateDataForSubscriber(c).then(()=>{this._requestsPending-=1,`${c}${this._requestsPending}`}).catch(d=>{this._requestsPending-=1,`${c}${getErrorMessage(d)}${this._requestsPending}`})}}_updateDataForSubscriber(c){const d=this._subscribers[c],y=parseInt((Date.now()/1e3).toString()),gr=y-periodLengthSeconds(d.resolution,10);return this._historyProvider.getBars(d.symbolInfo,d.resolution,{from:gr,to:y,countBack:2,firstDataRequest:!1}).then(_r=>{this._onSubscriberDataReceived(c,_r)})}_onSubscriberDataReceived(c,d){if(!this._subscribers.hasOwnProperty(c))return;const y=d.bars;if(y.length===0)return;const gr=y[y.length-1],_r=this._subscribers[c];if(_r.lastBarTime!==null&&gr.time<_r.lastBarTime)return;if(_r.lastBarTime!==null&&gr.time>_r.lastBarTime){if(y.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");const wr=y[y.length-2];_r.listener(wr)}_r.lastBarTime=gr.time,_r.listener(gr)}}function periodLengthSeconds(u,c){let d=0;return u==="D"||u==="1D"?d=c:u==="M"||u==="1M"?d=31*c:u==="W"||u==="1W"?d=7*c:d=c*parseInt(u)/(24*60),d*24*60*60}class QuotesPulseProvider{constructor(c){this._subscribers={},this._requestsPending=0,this._quotesProvider=c,setInterval(this._updateQuotes.bind(this,1),1e4),setInterval(this._updateQuotes.bind(this,0),6e4)}subscribeQuotes(c,d,y,gr){this._subscribers[gr]={symbols:c,fastSymbols:d,listener:y}}unsubscribeQuotes(c){delete this._subscribers[c]}_updateQuotes(c){if(!(this._requestsPending>0))for(const d in this._subscribers){this._requestsPending++;const y=this._subscribers[d];this._quotesProvider.getQuotes(c===1?y.fastSymbols:y.symbols).then(gr=>{this._requestsPending--,this._subscribers.hasOwnProperty(d)&&(y.listener(gr),`${d}${c}${this._requestsPending}`,void 0)}).catch(gr=>{this._requestsPending--,`${d}${c}${getErrorMessage(gr)}${this._requestsPending}`})}}}function extractField$1(u,c,d,y){const gr=u[c];return Array.isArray(gr)&&(!y||Array.isArray(gr[0]))?gr[d]:gr}function symbolKey(u,c,d){return u+(c!==void 0?"_%|#|%_"+c:"")+(d!==void 0?"_%|#|%_"+d:"")}class SymbolsStorage{constructor(c,d,y){this._exchangesList=["NYSE","FOREX","AMEX"],this._symbolsInfo={},this._symbolsList=[],this._datafeedUrl=c,this._datafeedSupportedResolutions=d,this._requester=y,this._readyPromise=this._init(),this._readyPromise.catch(gr=>{console.error(`SymbolsStorage: Cannot init, error=${gr.toString()}`)})}resolveSymbol(c,d,y){return this._readyPromise.then(()=>{const gr=this._symbolsInfo[symbolKey(c,d,y)];return gr===void 0?Promise.reject("invalid symbol"):Promise.resolve(gr)})}searchSymbols(c,d,y,gr){return this._readyPromise.then(()=>{const _r=[],br=c.length===0;c=c.toUpperCase();for(const Er of this._symbolsList){const Or=this._symbolsInfo[Er];if(Or===void 0||y.length>0&&Or.type!==y||d&&d.length>0&&Or.exchange!==d)continue;const xr=Or.name.toUpperCase().indexOf(c),kr=Or.description.toUpperCase().indexOf(c);if((br||xr>=0||kr>=0)&&!_r.some(Cr=>Cr.symbolInfo===Or)){const Cr=xr>=0?xr:8e3+kr;_r.push({symbolInfo:Or,weight:Cr})}}const wr=_r.sort((Er,Or)=>Er.weight-Or.weight).slice(0,gr).map(Er=>{const Or=Er.symbolInfo;return{symbol:Or.name,full_name:Or.full_name,description:Or.description,exchange:Or.exchange,params:[],type:Or.type,ticker:Or.name}});return Promise.resolve(wr)})}_init(){const c=[],d={};for(const y of this._exchangesList)d[y]||(d[y]=!0,c.push(this._requestExchangeData(y)));return Promise.all(c).then(()=>{this._symbolsList.sort()})}_requestExchangeData(c){return new Promise((d,y)=>{this._requester.sendRequest(this._datafeedUrl,"symbol_info",{group:c}).then(gr=>{try{this._onExchangeDataReceived(c,gr)}catch(_r){y(_r instanceof Error?_r:new Error(`SymbolsStorage: Unexpected exception ${_r}`));return}d()}).catch(gr=>{`${c}${getErrorMessage(gr)}`,d()})})}_onExchangeDataReceived(c,d){let y=0;try{const gr=d.symbol.length,_r=d.ticker!==void 0;for(;y<gr;++y){const br=d.symbol[y],wr=extractField$1(d,"exchange-listed",y),Er=extractField$1(d,"exchange-traded",y),Or=Er+":"+br,xr=extractField$1(d,"currency-code",y),kr=extractField$1(d,"unit-id",y),Mr=_r?extractField$1(d,"ticker",y):br,Cr={ticker:Mr,name:br,base_name:[wr+":"+br],full_name:Or,listed_exchange:wr,exchange:Er,currency_code:xr,original_currency_code:extractField$1(d,"original-currency-code",y),unit_id:kr,original_unit_id:extractField$1(d,"original-unit-id",y),unit_conversion_types:extractField$1(d,"unit-conversion-types",y,!0),description:extractField$1(d,"description",y),has_intraday:definedValueOrDefault(extractField$1(d,"has-intraday",y),!1),has_no_volume:definedValueOrDefault(extractField$1(d,"has-no-volume",y),void 0),visible_plots_set:definedValueOrDefault(extractField$1(d,"visible-plots-set",y),void 0),minmov:extractField$1(d,"minmovement",y)||extractField$1(d,"minmov",y)||0,minmove2:extractField$1(d,"minmove2",y)||extractField$1(d,"minmov2",y),fractional:extractField$1(d,"fractional",y),pricescale:extractField$1(d,"pricescale",y),type:extractField$1(d,"type",y),session:extractField$1(d,"session-regular",y),session_holidays:extractField$1(d,"session-holidays",y),corrections:extractField$1(d,"corrections",y),timezone:extractField$1(d,"timezone",y),supported_resolutions:definedValueOrDefault(extractField$1(d,"supported-resolutions",y,!0),this._datafeedSupportedResolutions),has_daily:definedValueOrDefault(extractField$1(d,"has-daily",y),!0),intraday_multipliers:definedValueOrDefault(extractField$1(d,"intraday-multipliers",y,!0),["1","5","15","30","60"]),has_weekly_and_monthly:extractField$1(d,"has-weekly-and-monthly",y),has_empty_bars:extractField$1(d,"has-empty-bars",y),volume_precision:definedValueOrDefault(extractField$1(d,"volume-precision",y),0),format:"price"};this._symbolsInfo[Mr]=Cr,this._symbolsInfo[br]=Cr,this._symbolsInfo[Or]=Cr,(xr!==void 0||kr!==void 0)&&(this._symbolsInfo[symbolKey(Mr,xr,kr)]=Cr,this._symbolsInfo[symbolKey(br,xr,kr)]=Cr,this._symbolsInfo[symbolKey(Or,xr,kr)]=Cr),this._symbolsList.push(br)}}catch(gr){throw new Error(`SymbolsStorage: API error when processing exchange ${c} symbol #${y} (${d.symbol[y]}): ${Object(gr).message}`)}}}function definedValueOrDefault(u,c){return u!==void 0?u:c}function extractField(u,c,d){const y=u[c];return Array.isArray(y)?y[d]:y}class UDFCompatibleDatafeedBase{constructor(c,d,y,gr=10*1e3){this._configuration=defaultConfiguration(),this._symbolsStorage=null,this._datafeedURL=c,this._requester=y,this._historyProvider=new HistoryProvider(c,this._requester),this._quotesProvider=d,this._dataPulseProvider=new DataPulseProvider(this._historyProvider,gr),this._quotesPulseProvider=new QuotesPulseProvider(this._quotesProvider),this._configurationReadyPromise=this._requestConfiguration().then(_r=>{_r===null&&(_r=defaultConfiguration()),this._setupWithConfiguration(_r)})}onReady(c){this._configurationReadyPromise.then(()=>{c(this._configuration)})}getQuotes(c,d,y){this._quotesProvider.getQuotes(c).then(d).catch(y)}subscribeQuotes(c,d,y,gr){this._quotesPulseProvider.subscribeQuotes(c,d,y,gr)}unsubscribeQuotes(c){this._quotesPulseProvider.unsubscribeQuotes(c)}getMarks(c,d,y,gr,_r){if(!this._configuration.supports_marks)return;const br={symbol:c.ticker||"",from:d,to:y,resolution:_r};this._send("marks",br).then(wr=>{if(!Array.isArray(wr)){const Er=[];for(let Or=0;Or<wr.id.length;++Or)Er.push({id:extractField(wr,"id",Or),time:extractField(wr,"time",Or),color:extractField(wr,"color",Or),text:extractField(wr,"text",Or),label:extractField(wr,"label",Or),labelFontColor:extractField(wr,"labelFontColor",Or),minSize:extractField(wr,"minSize",Or)});wr=Er}gr(wr)}).catch(wr=>{`${getErrorMessage(wr)}`,gr([])})}getTimescaleMarks(c,d,y,gr,_r){if(!this._configuration.supports_timescale_marks)return;const br={symbol:c.ticker||"",from:d,to:y,resolution:_r};this._send("timescale_marks",br).then(wr=>{if(!Array.isArray(wr)){const Er=[];for(let Or=0;Or<wr.id.length;++Or)Er.push({id:extractField(wr,"id",Or),time:extractField(wr,"time",Or),color:extractField(wr,"color",Or),label:extractField(wr,"label",Or),tooltip:extractField(wr,"tooltip",Or)});wr=Er}gr(wr)}).catch(wr=>{`${getErrorMessage(wr)}`,gr([])})}getServerTime(c){!this._configuration.supports_time||this._send("time").then(d=>{const y=parseInt(d);isNaN(y)||c(y)}).catch(d=>{`${getErrorMessage(d)}`})}searchSymbols(c,d,y,gr){if(this._configuration.supports_search){const _r={limit:30,query:c.toUpperCase(),type:y,exchange:d};this._send("search",_r).then(br=>{if(br.s!==void 0){`${br.errmsg}`,gr([]);return}gr(br)}).catch(br=>{`${c}${getErrorMessage(br)}`,gr([])})}else{if(this._symbolsStorage===null)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.searchSymbols(c,d,y,30).then(gr).catch(gr.bind(null,[]))}}resolveSymbol(c,d,y,gr){const _r=gr&&gr.currencyCode,br=gr&&gr.unitId;function wr(Er){d(Er)}if(this._configuration.supports_group_request){if(this._symbolsStorage===null)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.resolveSymbol(c,_r,br).then(wr).catch(y)}else{const Er={symbol:c};_r!==void 0&&(Er.currencyCode=_r),br!==void 0&&(Er.unitId=br),this._send("symbols",Er).then(Or=>{Or.s!==void 0?y("unknown_symbol"):wr(Or)}).catch(Or=>{`${getErrorMessage(Or)}`,y("unknown_symbol")})}}getBars(c,d,y,gr,_r){this._historyProvider.getBars(c,d,y).then(br=>{gr(br.bars,br.meta)}).catch(_r)}subscribeBars(c,d,y,gr,_r){this._dataPulseProvider.subscribeBars(c,d,y,gr)}unsubscribeBars(c){this._dataPulseProvider.unsubscribeBars(c)}_requestConfiguration(){return this._send("config").catch(c=>(`${getErrorMessage(c)}`,null))}_send(c,d){return this._requester.sendRequest(this._datafeedURL,c,d)}_setupWithConfiguration(c){if(this._configuration=c,c.exchanges===void 0&&(c.exchanges=[]),!c.supports_search&&!c.supports_group_request)throw new Error("Unsupported datafeed configuration. Must either support search, or support group request");(c.supports_group_request||!c.supports_search)&&(this._symbolsStorage=new SymbolsStorage(this._datafeedURL,c.supported_resolutions||[],this._requester)),`${JSON.stringify(c)}`}}function defaultConfiguration(){return{supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1}}class QuotesProvider{constructor(c,d){this._datafeedUrl=c,this._requester=d}getQuotes(c){return new Promise((d,y)=>{this._requester.sendRequest(this._datafeedUrl,"quotes",{symbols:c}).then(gr=>{gr.s==="ok"?d(gr.d):y(gr.errmsg)}).catch(gr=>{const _r=getErrorMessage(gr);y(`network error: ${_r}`)})})}}class Requester{constructor(c){c&&(this._headers=c)}sendRequest(c,d,y){if(y!==void 0){const _r=Object.keys(y);_r.length!==0&&(d+="?"),d+=_r.map(br=>`${encodeURIComponent(br)}=${encodeURIComponent(y[br].toString())}`).join("&")}const gr={credentials:"same-origin"};return this._headers!==void 0&&(gr.headers=this._headers),fetch(`${c}/${d}`,gr).then(_r=>_r.text()).then(_r=>JSON.parse(_r))}}class UDFCompatibleDatafeed extends UDFCompatibleDatafeedBase{constructor(c,d=10*1e3){const y=new Requester,gr=new QuotesProvider(c,y);super(c,gr,y,d)}}const TVChartContainer_vue_vue_type_style_index_0_scoped_729e11fe_lang="";function getLanguageFromURL(){const c=new RegExp("[\\?&]lang=([^&#]*)").exec(window.location.search);return c===null?null:decodeURIComponent(c[1].replace(/\+/g," "))}const _sfc_main$7={name:"TVChartContainer",tvWidget:null,setup(){const u=useGlobalStore(),{symbol:c}=storeToRefs(u);return{symbol:c}},mounted(){const u=this.$refs.chartContainer,c={symbol:useGlobalStore().symbol,debug:!0,datafeed:new UDFCompatibleDatafeed("http://localhost:3000"),interval:"1D",container:u,library_path:"/charting_library/",theme:"dark",locale:getLanguageFromURL()||"en",disabled_features:["use_localstorage_for_settings"],charts_storage_api_version:"1.1",client_id:"clientID",user_id:"someID",fullscreen:!1,autosize:!0,studies_overrides:{}},d=new s$1(c);this.tvWidget=d,d.onChartReady(()=>{d.headerReady().then(()=>{const y=d.createButton();y.setAttribute("title","Click to show a notification popup"),y.classList.add("apply-common-tooltip"),y.addEventListener("click",()=>d.showNoticeDialog({title:"Notification",body:"TradingView Charting Library API works correctly",callback:()=>{console.log("Noticed!")}})),y.innerHTML="Check API"}),d.activeChart().onSymbolChanged().subscribe(null,()=>useGlobalStore().symbol=d.activeChart().symbol())})},destroyed(){this.tvWidget!==null&&(this.tvWidget.remove(),this.tvWidget=null)}},_hoisted_1$6={ref:"chartContainer",class:"TVChartContainer"};function _sfc_render$2(u,c,d,y,gr,_r){return openBlock(),createElementBlock("div",_hoisted_1$6,null,512)}const TVChartContainer=_export_sfc(_sfc_main$7,[["render",_sfc_render$2],["__scopeId","data-v-729e11fe"]]),_hoisted_1$5={class:"p-3 bg-gray-100 dark:bg-gray-800 shadow-xl rounded-box"},_hoisted_2$4={class:"app"},_sfc_main$6=defineComponent({__name:"TradingViewChart",setup(u){return(c,d)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$4,[createVNode(TVChartContainer)])]))}}),TradingViewChart_vue_vue_type_style_index_0_scoped_08901dfd_lang="",TradingViewChart=_export_sfc(_sfc_main$6,[["__scopeId","data-v-08901dfd"]]),_hoisted_1$4={class:"p-3 bg-gray-100 dark:bg-gray-800 shadow-xl rounded-box"},_hoisted_2$3={class:"font-medium pb-1 text-center text-gray-500 dark:text-gray-400"},_hoisted_3$2={class:"flex justify-center flex-wrap -mb-px"},_hoisted_4$2={class:"mr-2"},_hoisted_5$1={class:"mr-2"},_hoisted_6$1=createStaticVNode('<div class="grid grid-cols-4 input-group gap-1"><span class="dark:bg-gray-400">Price</span><input class="col-span-2 input input-bordered input-sm dark:bg-gray-200" placeholder="2" type="text"><span class="dark:bg-gray-400">USD</span></div><div class="pt-1 grid grid-cols-4 input-group gap-1"><span class="dark:bg-gray-400">Size</span><input class="col-span-2 input input-bordered input-sm dark:bg-gray-200" placeholder="2" type="text"><span class="dark:bg-gray-400">#</span></div>',2),_hoisted_8$1={class:"py-2"},_sfc_main$5=defineComponent({__name:"OrderSetter",setup(u){const c=useGlobalStore();return(d,y)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("ul",_hoisted_3$2,[createBaseVNode("li",_hoisted_4$2,[createBaseVNode("a",{class:normalizeClass([unref(c).side==="buy"?"text-green-600 rounded-t-lg border-b-2 border-green-600 dark:text-green-500 dark:border-green-500":"","inline-block p-4 border-b-2 active hover:text-green-600 hover:border-green-300 dark:hover:text-green-300"]),onClick:y[0]||(y[0]=gr=>unref(c).side=unref(Side).BUY)},"BUY",2)]),createBaseVNode("li",_hoisted_5$1,[createBaseVNode("a",{class:normalizeClass([unref(c).side==="sell"?"text-red-600 rounded-t-lg border-b-3 border-red-600 dark:text-red-500 border-red-600 dark:border-red-500":"","inline-block p-4 border-b-2 active hover:text-red-600 hover:border-red-300 dark:hover:text-red-300"]),onClick:y[1]||(y[1]=gr=>unref(c).side=unref(Side).SELL)},"SELL",2)])])]),_hoisted_6$1,createBaseVNode("div",_hoisted_8$1,[createBaseVNode("button",{class:normalizeClass([unref(c).side==="sell"?"bg-red-500 hover:bg-red-400":"bg-green-500 hover:bg-green-400","w-full text-black btn btn-wide"])}," EXECUTE ",2)])]))}}),_hoisted_1$3={class:"p-2"},_hoisted_2$2={class:"grid grid-cols-3 gap-3"},_hoisted_3$1={class:"col-span-2"},_hoisted_4$1={class:"space-y-2"},_sfc_main$4=defineComponent({__name:"MarketplaceView",setup(u){return onMounted(async()=>{useGlobalStore().init(),useTokenPriceStore(),useStaratlasGmStore();const d=useSolanaNetworkStore();d.init(),d.run_tps().catch(gr=>console.error(`tps monitor: ${gr}`)),await useAssetsStore().init(),useStaratlasGmStore().getOpenOrdersForAsset(useAssetsStore().allAssets?.find(gr=>useGlobalStore().symbol.includes(gr.symbol))?.mint??"").then(()=>{}).catch(gr=>console.log(gr))}),(c,d)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(_sfc_main$9,{class:"mb-2"}),createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$1,[createVNode(TradingViewChart)]),createBaseVNode("div",_hoisted_4$1,[createVNode(_sfc_main$5),createVNode(_sfc_main$8)])])]))}}),_sfc_main$3={},_hoisted_1$2={class:"text-primary dark:text-xl"};function _sfc_render$1(u,c){return openBlock(),createElementBlock("h1",_hoisted_1$2,"P2P")}const PersonToPersonView=_export_sfc(_sfc_main$3,[["render",_sfc_render$1]]),_hoisted_1$1={class:"p-2"},_hoisted_2$1={class:"px-4 py-2 flex flex-col justify-center bg-gray-200 dark:bg-gray-800 shadow-xl rounded-box"},_hoisted_3=createBaseVNode("div",{class:"flex justify-center"},[createBaseVNode("h1",{class:"text-4xl"},"Orders")],-1),_hoisted_4={class:"flex justify-center"},_hoisted_5={key:0,class:"overflow-x-auto w-full"},_hoisted_6=createBaseVNode("tr",null,[createBaseVNode("th"),createBaseVNode("th",null,"Side"),createBaseVNode("th",null,"Name"),createBaseVNode("th",null,"Currency"),createBaseVNode("th",null,"Price"),createBaseVNode("th",null,"Amount")],-1),_hoisted_7={class:"avatar"},_hoisted_8={class:"mask mask-squircle w-12 h-12"},_hoisted_9=["src"],_sfc_main$2=defineComponent({__name:"OrdersView",setup(u){const{publicKey:c}=useWallet();let d=ref();return onMounted(async()=>{c.value!==null&&(d.value=await useStaratlasGmStore().getOpenOrdersForPlayer(c.value)),console.log(d.value)}),watch(()=>c,async y=>{y.value!==null&&(d.value=await useStaratlasGmStore().getOpenOrdersForPlayer(y.value))}),(y,gr)=>{const _r=resolveComponent("VTable");return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[_hoisted_3,createBaseVNode("div",_hoisted_4,[unref(d)?(openBlock(),createElementBlock("div",_hoisted_5,[createVNode(_r,{data:unref(d),class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},{head:withCtx(()=>[_hoisted_6]),body:withCtx(({rows:br})=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(br,wr=>(openBlock(),createElementBlock("tr",{key:wr.id,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[createBaseVNode("th",null,[createBaseVNode("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createBaseVNode("img",{src:"/public/sa_images/webp/"+wr.orderMint+".webp",alt:"Avatar Tailwind CSS Component"},null,8,_hoisted_9)])])]),createBaseVNode("th",null,toDisplayString(wr.orderType),1),createBaseVNode("td",null,toDisplayString(unref(useAssetsStore)().allAssets.find(Er=>Er.mint===wr.orderMint)?.name),1),createBaseVNode("td",null,toDisplayString(unref(Currencies).find(Er=>Er.mint===wr.currencyMint)?.name),1),createBaseVNode("td",null,toDisplayString(wr.uiPrice),1),createBaseVNode("td",null,toDisplayString(wr.orderOriginationQty)+"/"+toDisplayString(wr.orderQtyRemaining),1)]))),128))]),_:1},8,["data"])])):createCommentVNode("",!0)])])])}}});var PROVIDE_KEY="usehead",HEAD_COUNT_KEY="head:count",HEAD_ATTRS_KEY="data-head-attrs",BODY_TAG_ATTR_NAME="data-meta-body",createElement=(u,c,d)=>{const y=d.createElement(u);for(const gr of Object.keys(c))if(gr==="body"&&c.body===!0)y.setAttribute(BODY_TAG_ATTR_NAME,"true");else{let _r=c[gr];if(gr==="renderPriority"||gr==="key"||_r===!1)continue;gr==="children"?y.textContent=_r:y.setAttribute(gr,_r)}return y};function isEqualNode(u,c){if(u instanceof HTMLElement&&c instanceof HTMLElement){const d=c.getAttribute("nonce");if(d&&!u.getAttribute("nonce")){const y=c.cloneNode(!0);return y.setAttribute("nonce",""),y.nonce=d,d===u.nonce&&u.isEqualNode(y)}}return u.isEqualNode(c)}var getTagDeduper=u=>{if(!["meta","base","script","link"].includes(u.tag))return!1;const{props:c,tag:d}=u;if(d==="base")return!0;if(d==="link"&&c.rel==="canonical")return{propValue:"canonical"};if(c.charset)return{propKey:"charset"};const y=["key","id","name","property","http-equiv"];for(const gr of y){let _r;if(typeof c.getAttribute=="function"&&c.hasAttribute(gr)?_r=c.getAttribute(gr):_r=c[gr],_r!==void 0)return{propValue:gr}}return!1},injectHead=()=>{const u=inject(PROVIDE_KEY);if(!u)throw new Error("You may forget to apply app.use(head)");return u},acceptFields=["title","meta","link","base","style","script","noscript","htmlAttrs","bodyAttrs"],renderTemplate=(u,c)=>u==null?"":typeof u=="string"?u.replace("%s",c??""):u(unref(c)),headObjToTags=u=>{const c=[],d=Object.keys(u);for(const y of d)if(u[y]!=null)switch(y){case"title":c.push({tag:y,props:{children:u[y]}});break;case"titleTemplate":break;case"base":c.push({tag:y,props:{key:"default",...u[y]}});break;default:if(acceptFields.includes(y)){const gr=u[y];Array.isArray(gr)?gr.forEach(_r=>{c.push({tag:y,props:unref(_r)})}):gr&&c.push({tag:y,props:gr})}break}return c},setAttrs=(u,c)=>{const d=u.getAttribute(HEAD_ATTRS_KEY);if(d)for(const gr of d.split(","))gr in c||u.removeAttribute(gr);const y=[];for(const gr in c){const _r=c[gr];_r!=null&&(_r===!1?u.removeAttribute(gr):u.setAttribute(gr,_r),y.push(gr))}y.length?u.setAttribute(HEAD_ATTRS_KEY,y.join(",")):u.removeAttribute(HEAD_ATTRS_KEY)},updateElements=(u=window.document,c,d)=>{var y,gr;const _r=u.head,br=u.body;let wr=_r.querySelector(`meta[name="${HEAD_COUNT_KEY}"]`),Er=br.querySelectorAll(`[${BODY_TAG_ATTR_NAME}]`);const Or=wr?Number(wr.getAttribute("content")):0,xr=[],kr=[];if(Er)for(let Cr=0;Cr<Er.length;Cr++)Er[Cr]&&((y=Er[Cr].tagName)==null?void 0:y.toLowerCase())===c&&kr.push(Er[Cr]);if(wr)for(let Cr=0,Nr=wr.previousElementSibling;Cr<Or;Cr++,Nr=Nr?.previousElementSibling||null)((gr=Nr?.tagName)==null?void 0:gr.toLowerCase())===c&&xr.push(Nr);else wr=u.createElement("meta"),wr.setAttribute("name",HEAD_COUNT_KEY),wr.setAttribute("content","0"),_r.append(wr);let Mr=d.map(Cr=>({element:createElement(Cr.tag,Cr.props,u),body:Cr.props.body??!1}));Mr=Mr.filter(Cr=>{for(let Nr=0;Nr<xr.length;Nr++){const Ur=xr[Nr];if(isEqualNode(Ur,Cr.element))return xr.splice(Nr,1),!1}for(let Nr=0;Nr<kr.length;Nr++){const Ur=kr[Nr];if(isEqualNode(Ur,Cr.element))return kr.splice(Nr,1),!1}return!0}),kr.forEach(Cr=>{var Nr;return(Nr=Cr.parentNode)==null?void 0:Nr.removeChild(Cr)}),xr.forEach(Cr=>{var Nr;return(Nr=Cr.parentNode)==null?void 0:Nr.removeChild(Cr)}),Mr.forEach(Cr=>{Cr.body===!0?br.insertAdjacentElement("beforeend",Cr.element):_r.insertBefore(Cr.element,wr)}),wr.setAttribute("content",""+(Or-xr.length+Mr.filter(Cr=>!Cr.body).length))},createHead=u=>{let c=[],d=new Set;u&&c.push(shallowRef(u));const y={install(gr){gr.config.globalProperties.$head=y,gr.provide(PROVIDE_KEY,y)},get headTags(){const gr=[],_r=c.map(br=>unref(br).titleTemplate).reverse().find(br=>br!=null);return c.forEach(br=>{headObjToTags(unref(br)).forEach(Er=>{const Or=getTagDeduper(Er);if(Or){let xr=-1;for(let kr=0;kr<gr.length;kr++){const Mr=gr[kr];if(Mr.tag===Er.tag&&((Or===!0||Or.propValue&&unref(Mr.props[Or.propValue])===unref(Er.props[Or.propValue])||Or.propKey&&Mr.props[Or.propKey]&&Er.props[Or.propKey])&&(xr=kr),xr!==-1))break}xr!==-1&&gr.splice(xr,1)}_r&&Er.tag==="title"&&(Er.props.children=renderTemplate(_r,Er.props.children)),gr.push(Er)})}),gr},addHeadObjs(gr){c.push(gr)},removeHeadObjs(gr){c=c.filter(_r=>_r!==gr)},updateDOM(gr=window.document){let _r,br={},wr={};const Er={};for(const xr of y.headTags.sort(sortTags)){if(xr.tag==="title"){_r=xr.props.children;continue}if(xr.tag==="htmlAttrs"){Object.assign(br,xr.props);continue}if(xr.tag==="bodyAttrs"){Object.assign(wr,xr.props);continue}Er[xr.tag]=Er[xr.tag]||[],Er[xr.tag].push(xr)}_r!==void 0&&(gr.title=_r),setAttrs(gr.documentElement,br),setAttrs(gr.body,wr);const Or=new Set([...Object.keys(Er),...d]);for(const xr of Or)updateElements(gr,xr,Er[xr]||[]);d.clear(),Object.keys(Er).forEach(xr=>d.add(xr))}};return y},IS_BROWSER=typeof window<"u",useHead=u=>{const c=injectHead(),d=ref(u);c.addHeadObjs(d),IS_BROWSER&&(watchEffect(()=>{c.updateDOM()}),onBeforeUnmount(()=>{c.removeHeadObjs(d),c.updateDOM()}))},sortTags=(u,c)=>{const d=y=>{if(y.props.renderPriority)return y.props.renderPriority;switch(y.tag){case"base":return-1;case"meta":return y.props.charset?-2:y.props["http-equiv"]==="content-security-policy"?0:10;default:return 10}};return d(u)-d(c)};const _hoisted_1={class:"prose prose-sm m-auto text-left"},_hoisted_2=createStaticVNode('<h1>Disclaimer</h1><p>Last updated: September 18, 2022</p><h1>Interpretation and Definitions</h1><h2>Interpretation</h2><p>The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural.</p><h2>Definitions</h2><p>For the purposes of this Disclaimer:</p><ul><li><strong>Company</strong> (referred to as either \u201Cthe Company\u201D, \u201CWe\u201D, \u201CUs\u201D or \u201COur\u201D in this Disclaimer) refers to Skull&amp;BonesDAO, StarAtlas.</li><li><strong>Service</strong> refers to the Website.</li><li><strong>You</strong> means the individual accessing the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable.</li><li><strong>Website</strong> refers to RougeMarket, accessible from <a href="market.skullnbones.xyz">market.skullnbones.xyz</a></li></ul><h1>Disclaimer</h1><p>The information contained on the Service is for general information purposes only.</p><p>The Company assumes no responsibility for errors or omissions in the contents of the Service.</p><p>In no event shall the Company be liable for any special, direct, indirect, consequential, or incidental damages or any damages whatsoever, whether in an action of contract, negligence or other tort, arising out of or in connection with the use of the Service or the contents of the Service. The Company reserves the right to make additions, deletions, or modifications to the contents on the Service at any time without prior notice. This Disclaimer has been created with the help of the <a href="https://www.freeprivacypolicy.com/free-disclaimer-generator/" target="_blank" rel="noopener">Free Disclaimer Generator</a>.</p><p>The Company does not warrant that the Service is free of viruses or other harmful components.</p><h1>External Links Disclaimer</h1><p>The Service may contain links to external websites that are not provided or maintained by or in any way affiliated with the Company.</p><p>Please note that the Company does not guarantee the accuracy, relevance, timeliness, or completeness of any information on these external websites.</p><h1>Errors and Omissions Disclaimer</h1><p>The information given by the Service is for general guidance on matters of interest only. Even if the Company takes every precaution to insure that the content of the Service is both current and accurate, errors can occur. Plus, given the changing nature of laws, rules and regulations, there may be delays, omissions or inaccuracies in the information contained on the Service.</p><p>The Company is not responsible for any errors or omissions, or for the results obtained from the use of this information.</p><h1>Fair Use Disclaimer</h1><p>The Company may use copyrighted material which has not always been specifically authorized by the copyright owner. The Company is making such material available for criticism, comment, news reporting, teaching, scholarship, or research.</p><p>The Company believes this constitutes a \u201Cfair use\u201D of any such copyrighted material as provided for in section 107 of the United States Copyright law.</p><p>If You wish to use copyrighted material from the Service for your own purposes that go beyond fair use, You must obtain permission from the copyright owner.</p><h1>Views Expressed Disclaimer</h1><p>The Service may contain views and opinions which are those of the authors and do not necessarily reflect the official policy or position of any other author, agency, organization, employer or company, including the Company.</p><p>Comments published by users are their sole responsibility and the users will take full responsibility, liability and blame for any libel or litigation that results from something written in or as a direct result of something written in a comment. The Company is not liable for any comment published by users and reserves the right to delete any comment for any reason whatsoever.</p><h1>No Responsibility Disclaimer</h1><p>The information on the Service is provided with the understanding that the Company is not herein engaged in rendering legal, accounting, tax, or other professional advice and services. As such, it should not be used as a substitute for consultation with professional accounting, tax, legal or other competent advisers.</p><p>In no event shall the Company or its suppliers be liable for any special, incidental, indirect, or consequential damages whatsoever arising out of or in connection with your access or use or inability to access or use the Service.</p><h1>\u201CUse at Your Own Risk\u201D Disclaimer</h1><p>All information in the Service is provided \u201Cas is\u201D, with no guarantee of completeness, accuracy, timeliness or of the results obtained from the use of this information, and without warranty of any kind, express or implied, including, but not limited to warranties of performance, merchantability and fitness for a particular purpose.</p><p>The Company will not be liable to You or anyone else for any decision made or action taken in reliance on the information given by the Service or for any consequential, special or similar damages, even if advised of the possibility of such damages.</p><h1>Contact Us</h1><p>If you have any questions about this Disclaimer, You can contact Us:</p><ul><li>By visiting this page on our website: <a href="skullnbones.xyz">skullnbones.xyz</a></li></ul>',35),_hoisted_37=[_hoisted_2],_sfc_main$1={__name:"about",setup(u,{expose:c}){return c({frontmatter:{name:"My Cool App",meta:[]}}),useHead({meta:[]}),(gr,_r)=>(openBlock(),createElementBlock("div",_hoisted_1,_hoisted_37))}},_sfc_main={components:{AboutMD:_sfc_main$1}};function _sfc_render(u,c,d,y,gr,_r){const br=resolveComponent("AboutMD");return openBlock(),createBlock(br,{class:"bg-gray-200 dark:bg-gray-900"})}const About=_export_sfc(_sfc_main,[["render",_sfc_render]]),styles="",scriptRel="modulepreload",assetsURL=function(u){return"/"+u},seen={},__vitePreload=function u(c,d,y){return!d||d.length===0?c():Promise.all(d.map(gr=>{if(gr=assetsURL(gr),gr in seen)return;seen[gr]=!0;const _r=gr.endsWith(".css"),br=_r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${gr}"]${br}`))return;const wr=document.createElement("link");if(wr.rel=_r?"stylesheet":scriptRel,_r||(wr.as="script",wr.crossOrigin=""),wr.href=gr,document.head.appendChild(wr),_r)return new Promise((Er,Or)=>{wr.addEventListener("load",Er),wr.addEventListener("error",()=>Or(new Error(`Unable to preload CSS for ${gr}`)))})})).then(()=>c())},PhantomWalletName="Phantom";class PhantomWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(c={}){super(),this.name=PhantomWalletName,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._disconnected=()=>{const d=this._wallet;d&&(d.off("disconnect",this._disconnected),d.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._accountChanged=d=>{const y=this._publicKey;if(!!y){try{d=new PublicKey(d.toBytes())}catch(gr){this.emit("error",new WalletPublicKeyError(gr?.message,gr));return}y.equals(d)||(this._publicKey=d,this.emit("connect",d))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.isConnected}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;this._connecting=!0;const c=window.phantom?.solana||window.solana;if(!c.isConnected)try{await c.connect()}catch(y){throw new WalletConnectionError(y?.message,y)}if(!c.publicKey)throw new WalletAccountError;let d;try{d=new PublicKey(c.publicKey.toBytes())}catch(y){throw new WalletPublicKeyError(y?.message,y)}c.on("disconnect",this._disconnected),c.on("accountChanged",this._accountChanged),this._wallet=c,this._publicKey=d,this.emit("connect",d)}catch(c){throw this.emit("error",c),c}finally{this._connecting=!1}}async disconnect(){const c=this._wallet;if(c){c.off("disconnect",this._disconnected),c.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await c.disconnect()}catch(d){this.emit("error",new WalletDisconnectionError(d?.message,d))}}this.emit("disconnect")}async sendTransaction(c,d,y={}){try{const gr=this._wallet;if(!gr)throw new WalletNotConnectedError;try{const{signers:_r,...br}=y;c=await this.prepareTransaction(c,d,br),_r?.length&&c.partialSign(..._r),br.preflightCommitment=br.preflightCommitment||d.commitment;const{signature:wr}=await gr.signAndSendTransaction(c,br);return wr}catch(_r){throw _r instanceof WalletError?_r:new WalletSendTransactionError(_r?.message,_r)}}catch(gr){throw this.emit("error",gr),gr}}async signTransaction(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signTransaction(c)||c}catch(y){throw new WalletSignTransactionError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}async signAllTransactions(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signAllTransactions(c)||c}catch(y){throw new WalletSignTransactionError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}async signMessage(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{const{signature:y}=await d.signMessage(c);return y}catch(y){throw new WalletSignMessageError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}}const SlopeWalletName="Slope";class SlopeWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(c={}){super(),this.name=SlopeWalletName,this.url="https://slope.finance",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iNjQiIGZpbGw9IiM2RTY2RkEiLz4KPHBhdGggZD0iTTI3Ljk0NzUgNTIuMTU5Nkw1MS45ODI2IDI4LjA1NzJMNzIuNjA5OCA3LjY1Mzg5QzczLjg3MzQgNi40MDQwMSA3Ni4wMTc4IDcuMjk5MSA3Ni4wMTc4IDkuMDc2NDJMNzYuMDE4NyA1Mi4xNTlMNTEuOTgzNiA3Ni4xMjY4TDI3Ljk0NzUgNTIuMTU5NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zNzk1XzI1NTQzKSIvPgo8cGF0aCBkPSJNMTAwLjA1MyA3NS45OTNMNzYuMDE4IDUxLjk1OEw1MS45ODI5IDc1Ljk5MzFMNTEuOTgyOSAxMTguOTI0QzUxLjk4MjkgMTIwLjcwMyA1NC4xMzEyIDEyMS41OTcgNTUuMzkzNyAxMjAuMzQzTDEwMC4wNTMgNzUuOTkzWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3OTVfMjU1NDMpIi8+CjxwYXRoIGQ9Ik0yNy45NDcgNTIuMTYwMUg0NC42ODM5QzQ4LjcxNDcgNTIuMTYwMSA1MS45ODIyIDU1LjQyNzYgNTEuOTgyMiA1OS40NTgzVjc2LjEyNjlIMzUuMjQ1M0MzMS4yMTQ2IDc2LjEyNjkgMjcuOTQ3IDcyLjg1OTQgMjcuOTQ3IDY4LjgyODdWNTIuMTYwMVoiIGZpbGw9IiNGMUYwRkYiLz4KPHBhdGggZD0iTTc2LjAxNzggNTIuMTYwMUg5Mi43NTQ3Qzk2Ljc4NTUgNTIuMTYwMSAxMDAuMDUzIDU1LjQyNzYgMTAwLjA1MyA1OS40NTgzVjc2LjEyNjlIODMuMzE2MUM3OS4yODU0IDc2LjEyNjkgNzYuMDE3OCA3Mi44NTk0IDc2LjAxNzggNjguODI4N1Y1Mi4xNjAxWiIgZmlsbD0iI0YxRjBGRiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI1MS45ODMxIiB5MT0iNy4wNzE1NSIgeDI9IjUxLjk4MzEiIHkyPSI3Ni4xMjY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNBOEFERkYiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0ODU1NiIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI3Ni4wMTgiIHkxPSI1MS45NTgiIHgyPSI3Ni4wMTgiIHkyPSIxMjAuOTI4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yNjA3ODQiIHN0b3AtY29sb3I9IiNCNkJBRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTRFMkZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>typeof window.Slope=="function"||window.slopeApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Installed||typeof window.Slope!="function")throw new WalletNotReadyError;this._connecting=!0;const c=new window.Slope;let d;try{({data:d}=await c.connect())}catch(gr){throw new WalletConnectionError(gr?.message,gr)}if(!d.publicKey)throw new WalletAccountError;let y;try{y=new PublicKey(d.publicKey)}catch(gr){throw new WalletPublicKeyError(gr?.message,gr)}this._wallet=c,this._publicKey=y,this.emit("connect",y)}catch(c){throw this.emit("error",c),c}finally{this._connecting=!1}}async disconnect(){const c=this._wallet;if(c){this._wallet=null,this._publicKey=null;try{let d;try{({msg:d}=await c.disconnect())}catch(y){throw new WalletDisconnectionError(y?.message,y)}if(d!=="ok")throw new WalletDisconnectionError(d)}catch(d){this.emit("error",d)}}this.emit("disconnect")}async signTransaction(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{const y=bs58.encode(c.serializeMessage()),{msg:gr,data:_r}=await d.signTransaction(y);if(!_r.publicKey||!_r.signature)throw new WalletSignTransactionError(gr);const br=new PublicKey(_r.publicKey),wr=bs58.decode(_r.signature);return c.addSignature(br,wr),c}catch(y){throw y instanceof WalletError?y:new WalletSignTransactionError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}async signAllTransactions(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{const y=c.map(Er=>bs58.encode(Er.serializeMessage())),{msg:gr,data:_r}=await d.signAllTransactions(y),br=c.length;if(!_r.publicKey||_r.signatures?.length!==br)throw new WalletSignTransactionError(gr);const wr=new PublicKey(_r.publicKey);for(let Er=0;Er<br;Er++)c[Er].addSignature(wr,bs58.decode(_r.signatures[Er]));return c}catch(y){throw y instanceof WalletError?y:new WalletSignTransactionError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}async signMessage(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{const y=await d.signMessage(c);return bs58.decode(y.data.signature)}catch(y){throw new WalletSignMessageError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}}const SolflareWalletName="Solflare";class SolflareWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(c={}){super(),this.name=SolflareWalletName,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=null,this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Loadable,this._disconnected=()=>{const d=this._wallet;d&&(d.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=c,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Loadable&&this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;let c;try{c=(await __vitePreload(()=>import("./index.0461b7b0.js"),[])).default}catch(gr){throw new WalletLoadError(gr?.message,gr)}let d;try{d=new c({network:this._config.network})}catch(gr){throw new WalletConfigError(gr?.message,gr)}if(this._connecting=!0,!d.connected)try{await d.connect()}catch(gr){throw new WalletConnectionError(gr?.message,gr)}if(!d.publicKey)throw new WalletConnectionError;let y;try{y=new PublicKey(d.publicKey.toBytes())}catch(gr){throw new WalletPublicKeyError(gr?.message,gr)}d.on("disconnect",this._disconnected),this._wallet=d,this._publicKey=y,this.emit("connect",y)}catch(c){throw this.emit("error",c),c}finally{this._connecting=!1}}async disconnect(){const c=this._wallet;if(c){c.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await c.disconnect()}catch(d){this.emit("error",new WalletDisconnectionError(d?.message,d))}}this.emit("disconnect")}async signTransaction(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signTransaction(c)||c}catch(y){throw new WalletSignTransactionError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}async signAllTransactions(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signAllTransactions(c)||c}catch(y){throw new WalletSignTransactionError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}async signMessage(c){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signMessage(c,"utf8")}catch(y){throw new WalletSignMessageError(y?.message,y)}}catch(d){throw this.emit("error",d),d}}}var t,e,s=Object.defineProperty,a=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,o=(u,c,d)=>c in u?s(u,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[c]=d,i=(u,c)=>{for(var d in c||(c={}))a.call(c,d)&&o(u,d,c[d]);if(r)for(var d of r(c))l.call(c,d)&&o(u,d,c[d]);return u};function m(u,c){const d=(c=(c=c.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");let y=u;for(const gr of d){if(!(gr in y))return;y=y[gr]}return y}function b(u){return!Array.isArray(u)&&!isNaN(parseFloat(u))&&isFinite(u)}function C(u,c){if(function(d){return d&&typeof d.custom=="function"}(c)&&!c.custom(c.value,u))return!1;if(!function(d){return Array.isArray(d.keys)}(c)||c.value===null||c.value===void 0||c.value.length===0)return!0;for(const d of c.keys){const y=m(u,d);if(y!=null){const gr=Array.isArray(c.value)?c.value:[c.value];for(const _r of gr)if(c.exact){if(y.toString()===_r.toString())return!0}else if(y.toString().toLowerCase().includes(_r.toString().toLowerCase()))return!0}}return!1}(e=t||(t={}))[e.DESC=-1]="DESC",e[e.NONE=0]="NONE",e[e.ASC=1]="ASC";class R{constructor(c){this.state=reactive({data:[],filters:{},selectedRows:[],selectionMode:"single",selectOnClick:!0,selectedClass:"",hideSortIcons:!1,sortId:null,sortKey:null,customSort:null,sortOrder:t.NONE,currentPage:0,pageSize:void 0,sortIconPosition:"after",sortHeaderClass:""}),this.emit=c,this.filteredData=computed$1(()=>this.state.data.length===0?[]:Object.keys(this.state.filters).length===0?this.state.data:function(y,gr){const _r=[];for(const br of y){let wr=!0;for(const Er of Object.keys(gr))if(!C(br,gr[Er])){wr=!1;break}wr&&_r.push(br)}return _r}(this.state.data,this.state.filters)),this.sortedData=computed$1(()=>{return(this.state.sortKey||this.state.customSort)&&this.state.sortOrder!==0?(y=this.filteredData.value,gr=this.state.sortKey,_r=this.state.customSort,br=this.state.sortOrder,[...y].sort((wr,Er)=>{if(typeof _r=="function")return _r(wr,Er,br);let Or,xr;if(gr?typeof gr=="function"?(Or=gr(wr,br),xr=gr(Er,br)):(Or=m(wr,gr),xr=m(Er,gr)):(Or=null,xr=null),Or==null&&(Or=""),xr==null&&(xr=""),b(Or)&&b(xr))return(Or-xr)*br;const kr=Or.toString(),Mr=xr.toString();return kr.localeCompare(Mr)*br})):this.filteredData.value;var y,gr,_r,br}),this.totalItems=computed$1(()=>this.filteredData.value.length),this.totalPages=computed$1(()=>{return this.state.pageSize?(y=this.totalItems.value,gr=this.state.pageSize,y<=gr?1:Math.ceil(y/gr)):0;var y,gr}),watch(this.totalPages,y=>{this.emit("totalPagesChanged",y)},{immediate:!0}),this.paginationEnabled=computed$1(()=>this.state.pageSize);const d=computed$1(()=>this.paginationEnabled.value&&this.state.currentPage>this.totalPages.value);watch(d,y=>{y&&this.paginationEnabled.value&&(this.state.currentPage=1,this.emit("update:currentPage",this.state.currentPage))}),this.displayData=computed$1(()=>this.paginationEnabled.value?function(y,gr,_r){if(y.length<=gr||gr<=0||_r<=0)return y;const br=(_r-1)*gr,wr=br+gr;return[...y].slice(br,wr)}(this.sortedData.value,this.state.pageSize,this.state.currentPage):this.sortedData.value),watch(this.displayData,y=>{this.emit("totalItemsChanged",y.length)}),this.tableState=computed$1(()=>({rows:this.displayData.value,rowsPrePagination:this.sortedData.value,selectedRows:this.state.selectedRows})),watch(this.tableState,y=>{this.emit("stateChanged",y)},{immediate:!0,deep:!0})}revealItem(c){if(!this.paginationEnabled.value)return!1;let d;return d=typeof c=="function"?this.sortedData.value.findIndex(c):this.sortedData.value.indexOf(c),d!==-1&&(this.emit("update:currentPage",Math.ceil((d+1)/this.state.pageSize)),!0)}selectRow(c){this.state.selectionMode!=="single"?this.state.selectedRows.includes(c)||this.state.selectedRows.push(c):this.state.selectedRows=[c]}selectRows(c){for(const d of c)this.selectRow(d)}deselectRow(c){const d=this.state.selectedRows.indexOf(c);d>-1&&this.state.selectedRows.splice(d,1)}deselectRows(c){for(const d of c)this.deselectRow(d)}selectAll(){this.state.selectionMode!=="single"&&(this.state.selectedRows=[...this.state.data])}deselectAll(){this.state.selectedRows=[]}setSort({sortKey:c,customSort:d,sortOrder:y,sortId:gr}){this.state.sortKey=c,this.state.customSort=d,this.state.sortOrder=y,this.state.sortId=gr}syncProp(c,d,y=!1){watch(d,()=>{this.state[c]=d.value},{immediate:!0,deep:y})}}const O=Symbol("store-key");var k=defineComponent({name:"VTable",props:{data:{type:Array,required:!0},filters:{type:Object,required:!1,default:()=>({})},currentPage:{type:Number,required:!1,default:void 0},pageSize:{type:Number,required:!1,default:void 0},selectionMode:{type:String,required:!1,default:"single",validator:u=>["single","multiple"].includes(u)},selectedClass:{required:!1,type:String,default:"vt-selected"},selectOnClick:{required:!1,type:Boolean,default:!0},hideSortIcons:{required:!1,type:Boolean,default:!1},sortIconPosition:{required:!1,type:String,default:"after"},sortHeaderClass:{type:String,required:!1,default:""}},emits:{stateChanged:u=>!0,totalPagesChanged:u=>!0,totalItemsChanged:u=>!0},setup(u,c){const d=new R(c.emit);provide(O,d),d.syncProp("data",toRef(u,"data")),d.syncProp("filters",toRef(u,"filters"),!0),d.syncProp("currentPage",toRef(u,"currentPage")),d.syncProp("pageSize",toRef(u,"pageSize")),d.syncProp("selectionMode",toRef(u,"selectionMode")),d.syncProp("selectedClass",toRef(u,"selectedClass")),d.syncProp("selectOnClick",toRef(u,"selectOnClick")),d.syncProp("hideSortIcons",toRef(u,"hideSortIcons")),d.syncProp("sortIconPosition",toRef(u,"sortIconPosition")),d.syncProp("sortHeaderClass",toRef(u,"sortHeaderClass"));const y=computed$1(()=>d.state.selectedRows.length===d.state.data.length);return{store:d,tableState:d.tableState,allRowsSelected:y,toggleAllRows:()=>y.value?d.deselectAll():d.selectAll(),selectAll:()=>d.selectAll(),deselectAll:()=>d.deselectAll(),selectRows:gr=>d.selectRows(gr),selectRow:gr=>d.selectRow(gr),deselectRows:gr=>d.deselectRows(gr),deselectRow:gr=>d.deselectRow(gr),revealItem:gr=>d.revealItem(gr),slots:c.slots}},render(){return h("table",{class:"v-table"},[h("thead",this.slots.head?this.slots.head({rows:this.tableState.rows,selectedRows:this.tableState.selectedRows,toggleAllRows:this.toggleAllRows,selectAll:this.selectAll,deselectAll:this.deselectAll,allRowsSelected:this.allRowsSelected}):void 0),h("tbody",this.slots.body?this.slots.body({rows:this.tableState.rows,selectedRows:this.tableState.selectedRows,selectRow:this.selectRow,deselectRow:this.deselectRow}):void 0)])}});function L(u){var c;const d={width:16,height:16,xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${u.vbWidth} ${u.vbHeight}`},y={fill:"currentColor",d:u.d,opacity:(c=u.opacity)!=null?c:1};return h("svg",i(i({attrs:d},d),{style:i({},u.disabled?{color:"#9CA3AF"}:{})}),[h("path",i({attrs:y},y))])}var I=defineComponent({name:"VTh",props:{sortKey:{type:[String,Function],required:!1,default:null},customSort:{type:[Function,Object],required:!1,default:null},defaultSort:{type:String,required:!1,validator:u=>["asc","desc",null].includes(u),default:null}},emits:["defaultSort","sortChanged"],setup(u,{emit:c,slots:d}){const y=inject(O);if(!u.sortKey&&!u.customSort)throw new Error("Must provide the Sort Key value or a Custom Sort function.");const gr="_"+Math.random().toString(36).substr(2,9),_r=ref(t.NONE);onMounted(()=>{u.defaultSort&&(_r.value=u.defaultSort==="desc"?t.DESC:t.ASC,y.setSort({sortOrder:_r.value,sortKey:u.sortKey,customSort:u.customSort,sortId:gr}),nextTick(()=>{c("defaultSort"),c("sortChanged",{sortOrder:_r.value})}))});const br=computed$1(()=>{if(!y.state.hideSortIcons)return function(Or){const xr={width:16,height:16,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},kr=()=>({fill:"currentColor",opacity:Or===t.NONE||Or===t.ASC?.4:1,d:"M41.05 288.05h238c21.4 0 32.1 25.9 17 41l-119 119a23.9 23.9 0 0 1-33.8.1l-.1-.1-119.1-119c-15.05-15.05-4.4-41 17-41z"}),Mr=()=>({fill:"currentColor",opacity:Or===t.NONE||Or===t.DESC?.4:1,d:"M24.05 183.05l119.1-119A23.9 23.9 0 0 1 177 64a.94.94 0 0 1 .1.1l119 119c15.1 15.1 4.4 41-17 41h-238c-21.45-.05-32.1-25.95-17.05-41.05z"});return h("svg",i({attrs:xr},xr),[h("g",[h("path",i({attrs:kr()},kr())),h("path",i({attrs:Mr()},Mr()))])])}(_r.value)});watch(()=>y.state.sortId,()=>{y.state.sortId!==gr&&_r.value!==0&&(_r.value=0)});const wr=()=>{[t.DESC,t.NONE].includes(_r.value)?_r.value=t.ASC:_r.value=t.DESC,y.setSort({sortOrder:_r.value,sortKey:u.sortKey,customSort:u.customSort,sortId:gr}),c("sortChanged",{sortOrder:_r.value})},Er=computed$1(()=>{const Or=[];return y.state.sortIconPosition!=="before"||y.state.hideSortIcons||Or.push(br.value),d.default&&Or.push(h("span",[d.default({sortOrder:_r.value})])),y.state.sortIconPosition!=="after"||y.state.hideSortIcons||Or.push(br.value),Or});return()=>h("th",i({class:"v-th"},{onClick:wr}),[h("div",{class:y.state.sortHeaderClass},Er.value)])}}),A=defineComponent({name:"VTr",props:{row:{type:Object,required:!0}},setup(u,{slots:c}){const d=inject(O),y=computed$1(()=>d.state.selectedRows.find(wr=>wr===u.row)),gr=computed$1(()=>y.value?d.state.selectedClass:""),_r=computed$1(()=>i({},d.state.selectOnClick?{cursor:"pointer"}:{})),br=wr=>{const Er=wr.target;Er&&Er.tagName.toLowerCase()==="td"&&(y.value?d.deselectRow(u.row):d.selectRow(u.row))};return()=>h("tr",i(i({class:gr.value,style:_r.value},d.state.selectOnClick?{onClick:br}:{}),{on:i({},d.state.selectOnClick?{click:br}:{})}),c.default?c.default({isSelected:y.value,toggle:()=>y.value?d.deselectRow(u.row):d.selectRow(u.row)}):[])}}),N=defineComponent({name:"VTPagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},hideSinglePage:{required:!1,type:Boolean,default:!0},maxPageLinks:{required:!1,type:Number,default:NaN},boundaryLinks:{required:!1,type:Boolean,default:!1},directionLinks:{required:!1,type:Boolean,default:!0}},setup(u,{slots:c,emit:d}){const y=computed$1(()=>isNaN(u.maxPageLinks)||u.maxPageLinks<=0?(()=>{const xr=[];for(let kr=1;kr<=u.totalPages;kr++)xr.push({title:kr.toString(),value:kr});return xr})():(()=>{const xr=[],kr=Math.ceil(u.totalPages/u.maxPageLinks),Mr=Math.ceil((u.currentPage||1)/u.maxPageLinks);let Cr=(Mr-1)*u.maxPageLinks+1;const Nr=Math.min(Cr+u.maxPageLinks-1,u.totalPages),Ur=Nr-Cr+1,Dr=u.maxPageLinks-Ur;Mr===kr&&Mr>1&&Dr>0&&(Cr-=Dr),Mr>1&&xr.push({title:"...",value:Cr-1});for(let zr=Cr;zr<=Nr&&!(zr>u.totalPages);zr++)xr.push({title:zr.toString(),value:zr});return Mr<kr&&xr.push({title:"...",value:Nr+1}),xr})()),gr=xr=>{xr<1||xr>u.totalPages||xr===u.currentPage||d("update:currentPage",xr)},_r=()=>{u.currentPage?u.currentPage<u.totalPages&&d("update:currentPage",u.currentPage+1):d("update:currentPage",1)},br=()=>{u.currentPage?u.currentPage>1&&d("update:currentPage",u.currentPage-1):d("update:currentPage",1)},wr=()=>{d("update:currentPage",1)},Er=()=>{d("update:currentPage",u.totalPages)},Or=(xr,kr,Mr,Cr=!1)=>h("li",{class:["page-item",{disabled:Mr,active:Cr}]},[h("a",i(i({class:"page-link",style:i({},Mr?{cursor:"not-allowed"}:{}),attrs:{href:"javascript:void(0)"},href:"javascript:void(0)"},Mr?{}:{onClick:kr}),{on:i({},Mr?{}:{click:kr})}),[xr])]);return()=>{var xr,kr,Mr,Cr,Nr,Ur,Dr,zr;if(u.hideSinglePage&&u.totalPages===1)return h("");const Zr=[];if(u.boundaryLinks){const Wr=L({vbWidth:512,vbHeight:512,d:"M34.5 239L228.9 44.7c9.4-9.4 24.6-9.4 33.9 0l22.7 22.7c9.4 9.4 9.4 24.5 0 33.9L131.5 256l154 154.7c9.3 9.4 9.3 24.5 0 33.9l-22.7 22.7c-9.4 9.4-24.6 9.4-33.9 0L34.5 273c-9.3-9.4-9.3-24.6 0-34zm192 34l194.3 194.3c9.4 9.4 24.6 9.4 33.9 0l22.7-22.7c9.4-9.4 9.4-24.5 0-33.9L323.5 256l154-154.7c9.3-9.4 9.3-24.5 0-33.9l-22.7-22.7c-9.4-9.4-24.6-9.4-33.9 0L226.5 239c-9.3 9.4-9.3 24.6 0 34z"}),tn=u.currentPage===1,rn=(kr=(xr=c.firstPage)==null?void 0:xr.call(c,{disabled:tn}))!=null?kr:Wr;Zr.push(Or(rn,wr,tn))}if(u.directionLinks){const Wr=L({vbWidth:320,vbHeight:512,d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}),tn=u.currentPage===1,rn=(Cr=(Mr=c.previous)==null?void 0:Mr.call(c,{disabled:tn}))!=null?Cr:Wr;Zr.push(Or(rn,br,tn))}for(const Wr of y.value)Zr.push(Or(Wr.title,()=>gr(Wr.value),!1,Wr.value===u.currentPage));if(u.directionLinks){const Wr=L({vbWidth:320,vbHeight:512,d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}),tn=u.currentPage===u.totalPages,rn=(Ur=(Nr=c.next)==null?void 0:Nr.call(c,{disabled:tn}))!=null?Ur:Wr;Zr.push(Or(rn,_r,tn))}if(u.boundaryLinks){const Wr=L({vbWidth:512,vbHeight:512,d:"M477.5 273L283.1 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.7-22.7c-9.4-9.4-9.4-24.5 0-33.9l154-154.7-154-154.7c-9.3-9.4-9.3-24.5 0-33.9l22.7-22.7c9.4-9.4 24.6-9.4 33.9 0L477.5 239c9.3 9.4 9.3 24.6 0 34zm-192-34L91.1 44.7c-9.4-9.4-24.6-9.4-33.9 0L34.5 67.4c-9.4 9.4-9.4 24.5 0 33.9l154 154.7-154 154.7c-9.3 9.4-9.3 24.5 0 33.9l22.7 22.7c9.4 9.4 24.6 9.4 33.9 0L285.5 273c9.3-9.4 9.3-24.6 0-34z"}),tn=u.currentPage===u.totalPages,rn=(zr=(Dr=c.lastPage)==null?void 0:Dr.call(c,{disabled:tn}))!=null?zr:Wr;Zr.push(Or(rn,Er,tn))}return h("nav",{class:"vt-pagination"},[h("ul",{class:"pagination"},[Zr])])}}}),E={install(u,c={}){["hideSortIcons","sortIconPosition","sortHeaderClass"].forEach(d=>{c.hasOwnProperty(d)&&(k.props[d].default=c[d])}),u.component("VTable",k),u.component("VTh",I),u.component("VTr",A),u.component("VTPagination",N)}};const head=createHead(),pinia=createPinia(),routes=[{path:"/",component:Home},{path:"/marketplace",component:_sfc_main$4},{path:"/p2p",component:PersonToPersonView},{path:"/orders",component:_sfc_main$2},{path:"/about",component:About}],walletOptions={wallets:[new PhantomWalletAdapter,new SlopeWalletAdapter,new SolflareWalletAdapter({network:WalletAdapterNetwork.Devnet})],autoConnect:!0},router=createRouter({history:createWebHashHistory(),routes});createApp(_sfc_main$b).use(head).use(pinia).use(index,walletOptions).use(E).use(router).mount("#app");export{EventEmitter as E,PublicKey as P,bs58 as b,v4 as v};
