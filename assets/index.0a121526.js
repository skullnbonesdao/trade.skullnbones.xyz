(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const y of d.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function c(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(l){if(l.ep)return;l.ep=!0;const d=c(l);fetch(l.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(a){var r=a.default;if(typeof r=="function"){var c=function(){return r.apply(this,arguments)};c.prototype=r.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(a).forEach(function(u){var l=Object.getOwnPropertyDescriptor(a,u);Object.defineProperty(c,u,l.get?l:{enumerable:!0,get:function(){return a[u]}})}),c}var browser$3={exports:{}},process$1=browser$3.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(a){if(cachedSetTimeout===setTimeout)return setTimeout(a,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(a,0);try{return cachedSetTimeout(a,0)}catch{try{return cachedSetTimeout.call(null,a,0)}catch{return cachedSetTimeout.call(this,a,0)}}}function runClearTimeout(a){if(cachedClearTimeout===clearTimeout)return clearTimeout(a);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(a);try{return cachedClearTimeout(a)}catch{try{return cachedClearTimeout.call(null,a)}catch{return cachedClearTimeout.call(this,a)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var a=runTimeout(cleanUpNextTick);draining=!0;for(var r=queue$1.length;r;){for(currentQueue=queue$1,queue$1=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(a)}}process$1.nextTick=function(a){var r=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)r[c-1]=arguments[c];queue$1.push(new Item(a,r)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(a,r){this.fun=a,this.array=r}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$4(){}process$1.on=noop$4;process$1.addListener=noop$4;process$1.once=noop$4;process$1.off=noop$4;process$1.removeListener=noop$4;process$1.removeAllListeners=noop$4;process$1.emit=noop$4;process$1.prependListener=noop$4;process$1.prependOnceListener=noop$4;process$1.listeners=function(a){return[]};process$1.binding=function(a){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(a){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var buffer$2={},base64Js$1={};base64Js$1.byteLength=byteLength$1;var toByteArray_1=base64Js$1.toByteArray=toByteArray$1,fromByteArray_1=base64Js$1.fromByteArray=fromByteArray$1,lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len$1=code$1.length;i$3<len$1;++i$3)lookup$1[i$3]=code$1[i$3],revLookup$1[code$1.charCodeAt(i$3)]=i$3;revLookup$1["-".charCodeAt(0)]=62;revLookup$1["_".charCodeAt(0)]=63;function getLens$1(a){var r=a.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");c===-1&&(c=r);var u=c===r?0:4-c%4;return[c,u]}function byteLength$1(a){var r=getLens$1(a),c=r[0],u=r[1];return(c+u)*3/4-u}function _byteLength$1(a,r,c){return(r+c)*3/4-c}function toByteArray$1(a){var r,c=getLens$1(a),u=c[0],l=c[1],d=new Arr$1(_byteLength$1(a,u,l)),y=0,m=l>0?u-4:u,wr;for(wr=0;wr<m;wr+=4)r=revLookup$1[a.charCodeAt(wr)]<<18|revLookup$1[a.charCodeAt(wr+1)]<<12|revLookup$1[a.charCodeAt(wr+2)]<<6|revLookup$1[a.charCodeAt(wr+3)],d[y++]=r>>16&255,d[y++]=r>>8&255,d[y++]=r&255;return l===2&&(r=revLookup$1[a.charCodeAt(wr)]<<2|revLookup$1[a.charCodeAt(wr+1)]>>4,d[y++]=r&255),l===1&&(r=revLookup$1[a.charCodeAt(wr)]<<10|revLookup$1[a.charCodeAt(wr+1)]<<4|revLookup$1[a.charCodeAt(wr+2)]>>2,d[y++]=r>>8&255,d[y++]=r&255),d}function tripletToBase64$1(a){return lookup$1[a>>18&63]+lookup$1[a>>12&63]+lookup$1[a>>6&63]+lookup$1[a&63]}function encodeChunk$1(a,r,c){for(var u,l=[],d=r;d<c;d+=3)u=(a[d]<<16&16711680)+(a[d+1]<<8&65280)+(a[d+2]&255),l.push(tripletToBase64$1(u));return l.join("")}function fromByteArray$1(a){for(var r,c=a.length,u=c%3,l=[],d=16383,y=0,m=c-u;y<m;y+=d)l.push(encodeChunk$1(a,y,y+d>m?m:y+d));return u===1?(r=a[c-1],l.push(lookup$1[r>>2]+lookup$1[r<<4&63]+"==")):u===2&&(r=(a[c-2]<<8)+a[c-1],l.push(lookup$1[r>>10]+lookup$1[r>>4&63]+lookup$1[r<<2&63]+"=")),l.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(a,r,c,u,l){var d,y,m=l*8-u-1,wr=(1<<m)-1,Sr=wr>>1,Ar=-7,Ir=c?l-1:0,$r=c?-1:1,kr=a[r+Ir];for(Ir+=$r,d=kr&(1<<-Ar)-1,kr>>=-Ar,Ar+=m;Ar>0;d=d*256+a[r+Ir],Ir+=$r,Ar-=8);for(y=d&(1<<-Ar)-1,d>>=-Ar,Ar+=u;Ar>0;y=y*256+a[r+Ir],Ir+=$r,Ar-=8);if(d===0)d=1-Sr;else{if(d===wr)return y?NaN:(kr?-1:1)*(1/0);y=y+Math.pow(2,u),d=d-Sr}return(kr?-1:1)*y*Math.pow(2,d-u)};ieee754$1.write=function(a,r,c,u,l,d){var y,m,wr,Sr=d*8-l-1,Ar=(1<<Sr)-1,Ir=Ar>>1,$r=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,kr=u?0:d-1,Dr=u?1:-1,Cr=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,y=Ar):(y=Math.floor(Math.log(r)/Math.LN2),r*(wr=Math.pow(2,-y))<1&&(y--,wr*=2),y+Ir>=1?r+=$r/wr:r+=$r*Math.pow(2,1-Ir),r*wr>=2&&(y++,wr/=2),y+Ir>=Ar?(m=0,y=Ar):y+Ir>=1?(m=(r*wr-1)*Math.pow(2,l),y=y+Ir):(m=r*Math.pow(2,Ir-1)*Math.pow(2,l),y=0));l>=8;a[c+kr]=m&255,kr+=Dr,m/=256,l-=8);for(y=y<<l|m,Sr+=l;Sr>0;a[c+kr]=y&255,kr+=Dr,y/=256,Sr-=8);a[c+kr-Dr]|=Cr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const r=base64Js$1,c=ieee754$1,u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=m,a.SlowBuffer=qr,a.INSPECT_MAX_BYTES=50;const l=2147483647;a.kMaxLength=l,m.TYPED_ARRAY_SUPPORT=d(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const Er=new Uint8Array(1),_r={foo:function(){return 42}};return Object.setPrototypeOf(_r,Uint8Array.prototype),Object.setPrototypeOf(Er,_r),Er.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.byteOffset}});function y(Er){if(Er>l)throw new RangeError('The value "'+Er+'" is invalid for option "size"');const _r=new Uint8Array(Er);return Object.setPrototypeOf(_r,m.prototype),_r}function m(Er,_r,br){if(typeof Er=="number"){if(typeof _r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ir(Er)}return wr(Er,_r,br)}m.poolSize=8192;function wr(Er,_r,br){if(typeof Er=="string")return $r(Er,_r);if(ArrayBuffer.isView(Er))return Dr(Er);if(Er==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Er);if(cn(Er,ArrayBuffer)||Er&&cn(Er.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(cn(Er,SharedArrayBuffer)||Er&&cn(Er.buffer,SharedArrayBuffer)))return Cr(Er,_r,br);if(typeof Er=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Tr=Er.valueOf&&Er.valueOf();if(Tr!=null&&Tr!==Er)return m.from(Tr,_r,br);const Lr=Br(Er);if(Lr)return Lr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Er[Symbol.toPrimitive]=="function")return m.from(Er[Symbol.toPrimitive]("string"),_r,br);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Er)}m.from=function(Er,_r,br){return wr(Er,_r,br)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function Sr(Er){if(typeof Er!="number")throw new TypeError('"size" argument must be of type number');if(Er<0)throw new RangeError('The value "'+Er+'" is invalid for option "size"')}function Ar(Er,_r,br){return Sr(Er),Er<=0?y(Er):_r!==void 0?typeof br=="string"?y(Er).fill(_r,br):y(Er).fill(_r):y(Er)}m.alloc=function(Er,_r,br){return Ar(Er,_r,br)};function Ir(Er){return Sr(Er),y(Er<0?0:Fr(Er)|0)}m.allocUnsafe=function(Er){return Ir(Er)},m.allocUnsafeSlow=function(Er){return Ir(Er)};function $r(Er,_r){if((typeof _r!="string"||_r==="")&&(_r="utf8"),!m.isEncoding(_r))throw new TypeError("Unknown encoding: "+_r);const br=Vr(Er,_r)|0;let Tr=y(br);const Lr=Tr.write(Er,_r);return Lr!==br&&(Tr=Tr.slice(0,Lr)),Tr}function kr(Er){const _r=Er.length<0?0:Fr(Er.length)|0,br=y(_r);for(let Tr=0;Tr<_r;Tr+=1)br[Tr]=Er[Tr]&255;return br}function Dr(Er){if(cn(Er,Uint8Array)){const _r=new Uint8Array(Er);return Cr(_r.buffer,_r.byteOffset,_r.byteLength)}return kr(Er)}function Cr(Er,_r,br){if(_r<0||Er.byteLength<_r)throw new RangeError('"offset" is outside of buffer bounds');if(Er.byteLength<_r+(br||0))throw new RangeError('"length" is outside of buffer bounds');let Tr;return _r===void 0&&br===void 0?Tr=new Uint8Array(Er):br===void 0?Tr=new Uint8Array(Er,_r):Tr=new Uint8Array(Er,_r,br),Object.setPrototypeOf(Tr,m.prototype),Tr}function Br(Er){if(m.isBuffer(Er)){const _r=Fr(Er.length)|0,br=y(_r);return br.length===0||Er.copy(br,0,0,_r),br}if(Er.length!==void 0)return typeof Er.length!="number"||yn(Er.length)?y(0):kr(Er);if(Er.type==="Buffer"&&Array.isArray(Er.data))return kr(Er.data)}function Fr(Er){if(Er>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return Er|0}function qr(Er){return+Er!=Er&&(Er=0),m.alloc(+Er)}m.isBuffer=function(_r){return _r!=null&&_r._isBuffer===!0&&_r!==m.prototype},m.compare=function(_r,br){if(cn(_r,Uint8Array)&&(_r=m.from(_r,_r.offset,_r.byteLength)),cn(br,Uint8Array)&&(br=m.from(br,br.offset,br.byteLength)),!m.isBuffer(_r)||!m.isBuffer(br))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_r===br)return 0;let Tr=_r.length,Lr=br.length;for(let zr=0,Xr=Math.min(Tr,Lr);zr<Xr;++zr)if(_r[zr]!==br[zr]){Tr=_r[zr],Lr=br[zr];break}return Tr<Lr?-1:Lr<Tr?1:0},m.isEncoding=function(_r){switch(String(_r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(_r,br){if(!Array.isArray(_r))throw new TypeError('"list" argument must be an Array of Buffers');if(_r.length===0)return m.alloc(0);let Tr;if(br===void 0)for(br=0,Tr=0;Tr<_r.length;++Tr)br+=_r[Tr].length;const Lr=m.allocUnsafe(br);let zr=0;for(Tr=0;Tr<_r.length;++Tr){let Xr=_r[Tr];if(cn(Xr,Uint8Array))zr+Xr.length>Lr.length?(m.isBuffer(Xr)||(Xr=m.from(Xr)),Xr.copy(Lr,zr)):Uint8Array.prototype.set.call(Lr,Xr,zr);else if(m.isBuffer(Xr))Xr.copy(Lr,zr);else throw new TypeError('"list" argument must be an Array of Buffers');zr+=Xr.length}return Lr};function Vr(Er,_r){if(m.isBuffer(Er))return Er.length;if(ArrayBuffer.isView(Er)||cn(Er,ArrayBuffer))return Er.byteLength;if(typeof Er!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Er);const br=Er.length,Tr=arguments.length>2&&arguments[2]===!0;if(!Tr&&br===0)return 0;let Lr=!1;for(;;)switch(_r){case"ascii":case"latin1":case"binary":return br;case"utf8":case"utf-8":return In(Er).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return br*2;case"hex":return br>>>1;case"base64":return Cn(Er).length;default:if(Lr)return Tr?-1:In(Er).length;_r=(""+_r).toLowerCase(),Lr=!0}}m.byteLength=Vr;function Jr(Er,_r,br){let Tr=!1;if((_r===void 0||_r<0)&&(_r=0),_r>this.length||((br===void 0||br>this.length)&&(br=this.length),br<=0)||(br>>>=0,_r>>>=0,br<=_r))return"";for(Er||(Er="utf8");;)switch(Er){case"hex":return un(this,_r,br);case"utf8":case"utf-8":return xr(this,_r,br);case"ascii":return Hr(this,_r,br);case"latin1":case"binary":return Gr(this,_r,br);case"base64":return Mr(this,_r,br);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wn(this,_r,br);default:if(Tr)throw new TypeError("Unknown encoding: "+Er);Er=(Er+"").toLowerCase(),Tr=!0}}m.prototype._isBuffer=!0;function Qr(Er,_r,br){const Tr=Er[_r];Er[_r]=Er[br],Er[br]=Tr}m.prototype.swap16=function(){const _r=this.length;if(_r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let br=0;br<_r;br+=2)Qr(this,br,br+1);return this},m.prototype.swap32=function(){const _r=this.length;if(_r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let br=0;br<_r;br+=4)Qr(this,br,br+3),Qr(this,br+1,br+2);return this},m.prototype.swap64=function(){const _r=this.length;if(_r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let br=0;br<_r;br+=8)Qr(this,br,br+7),Qr(this,br+1,br+6),Qr(this,br+2,br+5),Qr(this,br+3,br+4);return this},m.prototype.toString=function(){const _r=this.length;return _r===0?"":arguments.length===0?xr(this,0,_r):Jr.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(_r){if(!m.isBuffer(_r))throw new TypeError("Argument must be a Buffer");return this===_r?!0:m.compare(this,_r)===0},m.prototype.inspect=function(){let _r="";const br=a.INSPECT_MAX_BYTES;return _r=this.toString("hex",0,br).replace(/(.{2})/g,"$1 ").trim(),this.length>br&&(_r+=" ... "),"<Buffer "+_r+">"},u&&(m.prototype[u]=m.prototype.inspect),m.prototype.compare=function(_r,br,Tr,Lr,zr){if(cn(_r,Uint8Array)&&(_r=m.from(_r,_r.offset,_r.byteLength)),!m.isBuffer(_r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _r);if(br===void 0&&(br=0),Tr===void 0&&(Tr=_r?_r.length:0),Lr===void 0&&(Lr=0),zr===void 0&&(zr=this.length),br<0||Tr>_r.length||Lr<0||zr>this.length)throw new RangeError("out of range index");if(Lr>=zr&&br>=Tr)return 0;if(Lr>=zr)return-1;if(br>=Tr)return 1;if(br>>>=0,Tr>>>=0,Lr>>>=0,zr>>>=0,this===_r)return 0;let Xr=zr-Lr,Dn=Tr-br;const Vn=Math.min(Xr,Dn),Fn=this.slice(Lr,zr),Wn=_r.slice(br,Tr);for(let Hn=0;Hn<Vn;++Hn)if(Fn[Hn]!==Wn[Hn]){Xr=Fn[Hn],Dn=Wn[Hn];break}return Xr<Dn?-1:Dn<Xr?1:0};function Wr(Er,_r,br,Tr,Lr){if(Er.length===0)return-1;if(typeof br=="string"?(Tr=br,br=0):br>2147483647?br=2147483647:br<-2147483648&&(br=-2147483648),br=+br,yn(br)&&(br=Lr?0:Er.length-1),br<0&&(br=Er.length+br),br>=Er.length){if(Lr)return-1;br=Er.length-1}else if(br<0)if(Lr)br=0;else return-1;if(typeof _r=="string"&&(_r=m.from(_r,Tr)),m.isBuffer(_r))return _r.length===0?-1:Zr(Er,_r,br,Tr,Lr);if(typeof _r=="number")return _r=_r&255,typeof Uint8Array.prototype.indexOf=="function"?Lr?Uint8Array.prototype.indexOf.call(Er,_r,br):Uint8Array.prototype.lastIndexOf.call(Er,_r,br):Zr(Er,[_r],br,Tr,Lr);throw new TypeError("val must be string, number or Buffer")}function Zr(Er,_r,br,Tr,Lr){let zr=1,Xr=Er.length,Dn=_r.length;if(Tr!==void 0&&(Tr=String(Tr).toLowerCase(),Tr==="ucs2"||Tr==="ucs-2"||Tr==="utf16le"||Tr==="utf-16le")){if(Er.length<2||_r.length<2)return-1;zr=2,Xr/=2,Dn/=2,br/=2}function Vn(Wn,Hn){return zr===1?Wn[Hn]:Wn.readUInt16BE(Hn*zr)}let Fn;if(Lr){let Wn=-1;for(Fn=br;Fn<Xr;Fn++)if(Vn(Er,Fn)===Vn(_r,Wn===-1?0:Fn-Wn)){if(Wn===-1&&(Wn=Fn),Fn-Wn+1===Dn)return Wn*zr}else Wn!==-1&&(Fn-=Fn-Wn),Wn=-1}else for(br+Dn>Xr&&(br=Xr-Dn),Fn=br;Fn>=0;Fn--){let Wn=!0;for(let Hn=0;Hn<Dn;Hn++)if(Vn(Er,Fn+Hn)!==Vn(_r,Hn)){Wn=!1;break}if(Wn)return Fn}return-1}m.prototype.includes=function(_r,br,Tr){return this.indexOf(_r,br,Tr)!==-1},m.prototype.indexOf=function(_r,br,Tr){return Wr(this,_r,br,Tr,!0)},m.prototype.lastIndexOf=function(_r,br,Tr){return Wr(this,_r,br,Tr,!1)};function rn(Er,_r,br,Tr){br=Number(br)||0;const Lr=Er.length-br;Tr?(Tr=Number(Tr),Tr>Lr&&(Tr=Lr)):Tr=Lr;const zr=_r.length;Tr>zr/2&&(Tr=zr/2);let Xr;for(Xr=0;Xr<Tr;++Xr){const Dn=parseInt(_r.substr(Xr*2,2),16);if(yn(Dn))return Xr;Er[br+Xr]=Dn}return Xr}function gn(Er,_r,br,Tr){return Mn(In(_r,Er.length-br),Er,br,Tr)}function an(Er,_r,br,Tr){return Mn(Ln(_r),Er,br,Tr)}function fn(Er,_r,br,Tr){return Mn(Cn(_r),Er,br,Tr)}function mn(Er,_r,br,Tr){return Mn(An(_r,Er.length-br),Er,br,Tr)}m.prototype.write=function(_r,br,Tr,Lr){if(br===void 0)Lr="utf8",Tr=this.length,br=0;else if(Tr===void 0&&typeof br=="string")Lr=br,Tr=this.length,br=0;else if(isFinite(br))br=br>>>0,isFinite(Tr)?(Tr=Tr>>>0,Lr===void 0&&(Lr="utf8")):(Lr=Tr,Tr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const zr=this.length-br;if((Tr===void 0||Tr>zr)&&(Tr=zr),_r.length>0&&(Tr<0||br<0)||br>this.length)throw new RangeError("Attempt to write outside buffer bounds");Lr||(Lr="utf8");let Xr=!1;for(;;)switch(Lr){case"hex":return rn(this,_r,br,Tr);case"utf8":case"utf-8":return gn(this,_r,br,Tr);case"ascii":case"latin1":case"binary":return an(this,_r,br,Tr);case"base64":return fn(this,_r,br,Tr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mn(this,_r,br,Tr);default:if(Xr)throw new TypeError("Unknown encoding: "+Lr);Lr=(""+Lr).toLowerCase(),Xr=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mr(Er,_r,br){return _r===0&&br===Er.length?r.fromByteArray(Er):r.fromByteArray(Er.slice(_r,br))}function xr(Er,_r,br){br=Math.min(Er.length,br);const Tr=[];let Lr=_r;for(;Lr<br;){const zr=Er[Lr];let Xr=null,Dn=zr>239?4:zr>223?3:zr>191?2:1;if(Lr+Dn<=br){let Vn,Fn,Wn,Hn;switch(Dn){case 1:zr<128&&(Xr=zr);break;case 2:Vn=Er[Lr+1],(Vn&192)===128&&(Hn=(zr&31)<<6|Vn&63,Hn>127&&(Xr=Hn));break;case 3:Vn=Er[Lr+1],Fn=Er[Lr+2],(Vn&192)===128&&(Fn&192)===128&&(Hn=(zr&15)<<12|(Vn&63)<<6|Fn&63,Hn>2047&&(Hn<55296||Hn>57343)&&(Xr=Hn));break;case 4:Vn=Er[Lr+1],Fn=Er[Lr+2],Wn=Er[Lr+3],(Vn&192)===128&&(Fn&192)===128&&(Wn&192)===128&&(Hn=(zr&15)<<18|(Vn&63)<<12|(Fn&63)<<6|Wn&63,Hn>65535&&Hn<1114112&&(Xr=Hn))}}Xr===null?(Xr=65533,Dn=1):Xr>65535&&(Xr-=65536,Tr.push(Xr>>>10&1023|55296),Xr=56320|Xr&1023),Tr.push(Xr),Lr+=Dn}return Kr(Tr)}const Pr=4096;function Kr(Er){const _r=Er.length;if(_r<=Pr)return String.fromCharCode.apply(String,Er);let br="",Tr=0;for(;Tr<_r;)br+=String.fromCharCode.apply(String,Er.slice(Tr,Tr+=Pr));return br}function Hr(Er,_r,br){let Tr="";br=Math.min(Er.length,br);for(let Lr=_r;Lr<br;++Lr)Tr+=String.fromCharCode(Er[Lr]&127);return Tr}function Gr(Er,_r,br){let Tr="";br=Math.min(Er.length,br);for(let Lr=_r;Lr<br;++Lr)Tr+=String.fromCharCode(Er[Lr]);return Tr}function un(Er,_r,br){const Tr=Er.length;(!_r||_r<0)&&(_r=0),(!br||br<0||br>Tr)&&(br=Tr);let Lr="";for(let zr=_r;zr<br;++zr)Lr+=xn[Er[zr]];return Lr}function wn(Er,_r,br){const Tr=Er.slice(_r,br);let Lr="";for(let zr=0;zr<Tr.length-1;zr+=2)Lr+=String.fromCharCode(Tr[zr]+Tr[zr+1]*256);return Lr}m.prototype.slice=function(_r,br){const Tr=this.length;_r=~~_r,br=br===void 0?Tr:~~br,_r<0?(_r+=Tr,_r<0&&(_r=0)):_r>Tr&&(_r=Tr),br<0?(br+=Tr,br<0&&(br=0)):br>Tr&&(br=Tr),br<_r&&(br=_r);const Lr=this.subarray(_r,br);return Object.setPrototypeOf(Lr,m.prototype),Lr};function jr(Er,_r,br){if(Er%1!==0||Er<0)throw new RangeError("offset is not uint");if(Er+_r>br)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r],zr=1,Xr=0;for(;++Xr<br&&(zr*=256);)Lr+=this[_r+Xr]*zr;return Lr},m.prototype.readUintBE=m.prototype.readUIntBE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r+--br],zr=1;for(;br>0&&(zr*=256);)Lr+=this[_r+--br]*zr;return Lr},m.prototype.readUint8=m.prototype.readUInt8=function(_r,br){return _r=_r>>>0,br||jr(_r,1,this.length),this[_r]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(_r,br){return _r=_r>>>0,br||jr(_r,2,this.length),this[_r]|this[_r+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(_r,br){return _r=_r>>>0,br||jr(_r,2,this.length),this[_r]<<8|this[_r+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),(this[_r]|this[_r+1]<<8|this[_r+2]<<16)+this[_r+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]*16777216+(this[_r+1]<<16|this[_r+2]<<8|this[_r+3])},m.prototype.readBigUInt64LE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=br+this[++_r]*2**8+this[++_r]*2**16+this[++_r]*2**24,zr=this[++_r]+this[++_r]*2**8+this[++_r]*2**16+Tr*2**24;return BigInt(Lr)+(BigInt(zr)<<BigInt(32))}),m.prototype.readBigUInt64BE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=br*2**24+this[++_r]*2**16+this[++_r]*2**8+this[++_r],zr=this[++_r]*2**24+this[++_r]*2**16+this[++_r]*2**8+Tr;return(BigInt(Lr)<<BigInt(32))+BigInt(zr)}),m.prototype.readIntLE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r],zr=1,Xr=0;for(;++Xr<br&&(zr*=256);)Lr+=this[_r+Xr]*zr;return zr*=128,Lr>=zr&&(Lr-=Math.pow(2,8*br)),Lr},m.prototype.readIntBE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=br,zr=1,Xr=this[_r+--Lr];for(;Lr>0&&(zr*=256);)Xr+=this[_r+--Lr]*zr;return zr*=128,Xr>=zr&&(Xr-=Math.pow(2,8*br)),Xr},m.prototype.readInt8=function(_r,br){return _r=_r>>>0,br||jr(_r,1,this.length),this[_r]&128?(255-this[_r]+1)*-1:this[_r]},m.prototype.readInt16LE=function(_r,br){_r=_r>>>0,br||jr(_r,2,this.length);const Tr=this[_r]|this[_r+1]<<8;return Tr&32768?Tr|4294901760:Tr},m.prototype.readInt16BE=function(_r,br){_r=_r>>>0,br||jr(_r,2,this.length);const Tr=this[_r+1]|this[_r]<<8;return Tr&32768?Tr|4294901760:Tr},m.prototype.readInt32LE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]|this[_r+1]<<8|this[_r+2]<<16|this[_r+3]<<24},m.prototype.readInt32BE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]<<24|this[_r+1]<<16|this[_r+2]<<8|this[_r+3]},m.prototype.readBigInt64LE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=this[_r+4]+this[_r+5]*2**8+this[_r+6]*2**16+(Tr<<24);return(BigInt(Lr)<<BigInt(32))+BigInt(br+this[++_r]*2**8+this[++_r]*2**16+this[++_r]*2**24)}),m.prototype.readBigInt64BE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=(br<<24)+this[++_r]*2**16+this[++_r]*2**8+this[++_r];return(BigInt(Lr)<<BigInt(32))+BigInt(this[++_r]*2**24+this[++_r]*2**16+this[++_r]*2**8+Tr)}),m.prototype.readFloatLE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),c.read(this,_r,!0,23,4)},m.prototype.readFloatBE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),c.read(this,_r,!1,23,4)},m.prototype.readDoubleLE=function(_r,br){return _r=_r>>>0,br||jr(_r,8,this.length),c.read(this,_r,!0,52,8)},m.prototype.readDoubleBE=function(_r,br){return _r=_r>>>0,br||jr(_r,8,this.length),c.read(this,_r,!1,52,8)};function Rr(Er,_r,br,Tr,Lr,zr){if(!m.isBuffer(Er))throw new TypeError('"buffer" argument must be a Buffer instance');if(_r>Lr||_r<zr)throw new RangeError('"value" argument is out of bounds');if(br+Tr>Er.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,Tr=Tr>>>0,!Lr){const Dn=Math.pow(2,8*Tr)-1;Rr(this,_r,br,Tr,Dn,0)}let zr=1,Xr=0;for(this[br]=_r&255;++Xr<Tr&&(zr*=256);)this[br+Xr]=_r/zr&255;return br+Tr},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,Tr=Tr>>>0,!Lr){const Dn=Math.pow(2,8*Tr)-1;Rr(this,_r,br,Tr,Dn,0)}let zr=Tr-1,Xr=1;for(this[br+zr]=_r&255;--zr>=0&&(Xr*=256);)this[br+zr]=_r/Xr&255;return br+Tr},m.prototype.writeUint8=m.prototype.writeUInt8=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,1,255,0),this[br]=_r&255,br+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,65535,0),this[br]=_r&255,this[br+1]=_r>>>8,br+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,65535,0),this[br]=_r>>>8,this[br+1]=_r&255,br+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,4294967295,0),this[br+3]=_r>>>24,this[br+2]=_r>>>16,this[br+1]=_r>>>8,this[br]=_r&255,br+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,4294967295,0),this[br]=_r>>>24,this[br+1]=_r>>>16,this[br+2]=_r>>>8,this[br+3]=_r&255,br+4};function Ur(Er,_r,br,Tr,Lr){kn(_r,Tr,Lr,Er,br,7);let zr=Number(_r&BigInt(4294967295));Er[br++]=zr,zr=zr>>8,Er[br++]=zr,zr=zr>>8,Er[br++]=zr,zr=zr>>8,Er[br++]=zr;let Xr=Number(_r>>BigInt(32)&BigInt(4294967295));return Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,br}function hn(Er,_r,br,Tr,Lr){kn(_r,Tr,Lr,Er,br,7);let zr=Number(_r&BigInt(4294967295));Er[br+7]=zr,zr=zr>>8,Er[br+6]=zr,zr=zr>>8,Er[br+5]=zr,zr=zr>>8,Er[br+4]=zr;let Xr=Number(_r>>BigInt(32)&BigInt(4294967295));return Er[br+3]=Xr,Xr=Xr>>8,Er[br+2]=Xr,Xr=Xr>>8,Er[br+1]=Xr,Xr=Xr>>8,Er[br]=Xr,br+8}m.prototype.writeBigUInt64LE=Rn(function(_r,br=0){return Ur(this,_r,br,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Rn(function(_r,br=0){return hn(this,_r,br,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,!Lr){const Vn=Math.pow(2,8*Tr-1);Rr(this,_r,br,Tr,Vn-1,-Vn)}let zr=0,Xr=1,Dn=0;for(this[br]=_r&255;++zr<Tr&&(Xr*=256);)_r<0&&Dn===0&&this[br+zr-1]!==0&&(Dn=1),this[br+zr]=(_r/Xr>>0)-Dn&255;return br+Tr},m.prototype.writeIntBE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,!Lr){const Vn=Math.pow(2,8*Tr-1);Rr(this,_r,br,Tr,Vn-1,-Vn)}let zr=Tr-1,Xr=1,Dn=0;for(this[br+zr]=_r&255;--zr>=0&&(Xr*=256);)_r<0&&Dn===0&&this[br+zr+1]!==0&&(Dn=1),this[br+zr]=(_r/Xr>>0)-Dn&255;return br+Tr},m.prototype.writeInt8=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,1,127,-128),_r<0&&(_r=255+_r+1),this[br]=_r&255,br+1},m.prototype.writeInt16LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,32767,-32768),this[br]=_r&255,this[br+1]=_r>>>8,br+2},m.prototype.writeInt16BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,32767,-32768),this[br]=_r>>>8,this[br+1]=_r&255,br+2},m.prototype.writeInt32LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,2147483647,-2147483648),this[br]=_r&255,this[br+1]=_r>>>8,this[br+2]=_r>>>16,this[br+3]=_r>>>24,br+4},m.prototype.writeInt32BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,2147483647,-2147483648),_r<0&&(_r=4294967295+_r+1),this[br]=_r>>>24,this[br+1]=_r>>>16,this[br+2]=_r>>>8,this[br+3]=_r&255,br+4},m.prototype.writeBigInt64LE=Rn(function(_r,br=0){return Ur(this,_r,br,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Rn(function(_r,br=0){return hn(this,_r,br,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function en(Er,_r,br,Tr,Lr,zr){if(br+Tr>Er.length)throw new RangeError("Index out of range");if(br<0)throw new RangeError("Index out of range")}function tn(Er,_r,br,Tr,Lr){return _r=+_r,br=br>>>0,Lr||en(Er,_r,br,4),c.write(Er,_r,br,Tr,23,4),br+4}m.prototype.writeFloatLE=function(_r,br,Tr){return tn(this,_r,br,!0,Tr)},m.prototype.writeFloatBE=function(_r,br,Tr){return tn(this,_r,br,!1,Tr)};function dn(Er,_r,br,Tr,Lr){return _r=+_r,br=br>>>0,Lr||en(Er,_r,br,8),c.write(Er,_r,br,Tr,52,8),br+8}m.prototype.writeDoubleLE=function(_r,br,Tr){return dn(this,_r,br,!0,Tr)},m.prototype.writeDoubleBE=function(_r,br,Tr){return dn(this,_r,br,!1,Tr)},m.prototype.copy=function(_r,br,Tr,Lr){if(!m.isBuffer(_r))throw new TypeError("argument should be a Buffer");if(Tr||(Tr=0),!Lr&&Lr!==0&&(Lr=this.length),br>=_r.length&&(br=_r.length),br||(br=0),Lr>0&&Lr<Tr&&(Lr=Tr),Lr===Tr||_r.length===0||this.length===0)return 0;if(br<0)throw new RangeError("targetStart out of bounds");if(Tr<0||Tr>=this.length)throw new RangeError("Index out of range");if(Lr<0)throw new RangeError("sourceEnd out of bounds");Lr>this.length&&(Lr=this.length),_r.length-br<Lr-Tr&&(Lr=_r.length-br+Tr);const zr=Lr-Tr;return this===_r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(br,Tr,Lr):Uint8Array.prototype.set.call(_r,this.subarray(Tr,Lr),br),zr},m.prototype.fill=function(_r,br,Tr,Lr){if(typeof _r=="string"){if(typeof br=="string"?(Lr=br,br=0,Tr=this.length):typeof Tr=="string"&&(Lr=Tr,Tr=this.length),Lr!==void 0&&typeof Lr!="string")throw new TypeError("encoding must be a string");if(typeof Lr=="string"&&!m.isEncoding(Lr))throw new TypeError("Unknown encoding: "+Lr);if(_r.length===1){const Xr=_r.charCodeAt(0);(Lr==="utf8"&&Xr<128||Lr==="latin1")&&(_r=Xr)}}else typeof _r=="number"?_r=_r&255:typeof _r=="boolean"&&(_r=Number(_r));if(br<0||this.length<br||this.length<Tr)throw new RangeError("Out of range index");if(Tr<=br)return this;br=br>>>0,Tr=Tr===void 0?this.length:Tr>>>0,_r||(_r=0);let zr;if(typeof _r=="number")for(zr=br;zr<Tr;++zr)this[zr]=_r;else{const Xr=m.isBuffer(_r)?_r:m.from(_r,Lr),Dn=Xr.length;if(Dn===0)throw new TypeError('The value "'+_r+'" is invalid for argument "value"');for(zr=0;zr<Tr-br;++zr)this[zr+br]=Xr[zr%Dn]}return this};const pn={};function vn(Er,_r,br){pn[Er]=class extends br{constructor(){super(),Object.defineProperty(this,"message",{value:_r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Er}]`,this.stack,delete this.name}get code(){return Er}set code(Lr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Lr,writable:!0})}toString(){return`${this.name} [${Er}]: ${this.message}`}}}vn("ERR_BUFFER_OUT_OF_BOUNDS",function(Er){return Er?`${Er} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vn("ERR_INVALID_ARG_TYPE",function(Er,_r){return`The "${Er}" argument must be of type number. Received type ${typeof _r}`},TypeError),vn("ERR_OUT_OF_RANGE",function(Er,_r,br){let Tr=`The value of "${Er}" is out of range.`,Lr=br;return Number.isInteger(br)&&Math.abs(br)>2**32?Lr=$n(String(br)):typeof br=="bigint"&&(Lr=String(br),(br>BigInt(2)**BigInt(32)||br<-(BigInt(2)**BigInt(32)))&&(Lr=$n(Lr)),Lr+="n"),Tr+=` It must be ${_r}. Received ${Lr}`,Tr},RangeError);function $n(Er){let _r="",br=Er.length;const Tr=Er[0]==="-"?1:0;for(;br>=Tr+4;br-=3)_r=`_${Er.slice(br-3,br)}${_r}`;return`${Er.slice(0,br)}${_r}`}function Pn(Er,_r,br){sn(_r,"offset"),(Er[_r]===void 0||Er[_r+br]===void 0)&&ln(_r,Er.length-(br+1))}function kn(Er,_r,br,Tr,Lr,zr){if(Er>br||Er<_r){const Xr=typeof _r=="bigint"?"n":"";let Dn;throw zr>3?_r===0||_r===BigInt(0)?Dn=`>= 0${Xr} and < 2${Xr} ** ${(zr+1)*8}${Xr}`:Dn=`>= -(2${Xr} ** ${(zr+1)*8-1}${Xr}) and < 2 ** ${(zr+1)*8-1}${Xr}`:Dn=`>= ${_r}${Xr} and <= ${br}${Xr}`,new pn.ERR_OUT_OF_RANGE("value",Dn,Er)}Pn(Tr,Lr,zr)}function sn(Er,_r){if(typeof Er!="number")throw new pn.ERR_INVALID_ARG_TYPE(_r,"number",Er)}function ln(Er,_r,br){throw Math.floor(Er)!==Er?(sn(Er,br),new pn.ERR_OUT_OF_RANGE(br||"offset","an integer",Er)):_r<0?new pn.ERR_BUFFER_OUT_OF_BOUNDS:new pn.ERR_OUT_OF_RANGE(br||"offset",`>= ${br?1:0} and <= ${_r}`,Er)}const Sn=/[^+/0-9A-Za-z-_]/g;function Bn(Er){if(Er=Er.split("=")[0],Er=Er.trim().replace(Sn,""),Er.length<2)return"";for(;Er.length%4!==0;)Er=Er+"=";return Er}function In(Er,_r){_r=_r||1/0;let br;const Tr=Er.length;let Lr=null;const zr=[];for(let Xr=0;Xr<Tr;++Xr){if(br=Er.charCodeAt(Xr),br>55295&&br<57344){if(!Lr){if(br>56319){(_r-=3)>-1&&zr.push(239,191,189);continue}else if(Xr+1===Tr){(_r-=3)>-1&&zr.push(239,191,189);continue}Lr=br;continue}if(br<56320){(_r-=3)>-1&&zr.push(239,191,189),Lr=br;continue}br=(Lr-55296<<10|br-56320)+65536}else Lr&&(_r-=3)>-1&&zr.push(239,191,189);if(Lr=null,br<128){if((_r-=1)<0)break;zr.push(br)}else if(br<2048){if((_r-=2)<0)break;zr.push(br>>6|192,br&63|128)}else if(br<65536){if((_r-=3)<0)break;zr.push(br>>12|224,br>>6&63|128,br&63|128)}else if(br<1114112){if((_r-=4)<0)break;zr.push(br>>18|240,br>>12&63|128,br>>6&63|128,br&63|128)}else throw new Error("Invalid code point")}return zr}function Ln(Er){const _r=[];for(let br=0;br<Er.length;++br)_r.push(Er.charCodeAt(br)&255);return _r}function An(Er,_r){let br,Tr,Lr;const zr=[];for(let Xr=0;Xr<Er.length&&!((_r-=2)<0);++Xr)br=Er.charCodeAt(Xr),Tr=br>>8,Lr=br%256,zr.push(Lr),zr.push(Tr);return zr}function Cn(Er){return r.toByteArray(Bn(Er))}function Mn(Er,_r,br,Tr){let Lr;for(Lr=0;Lr<Tr&&!(Lr+br>=_r.length||Lr>=Er.length);++Lr)_r[Lr+br]=Er[Lr];return Lr}function cn(Er,_r){return Er instanceof _r||Er!=null&&Er.constructor!=null&&Er.constructor.name!=null&&Er.constructor.name===_r.name}function yn(Er){return Er!==Er}const xn=function(){const Er="0123456789abcdef",_r=new Array(256);for(let br=0;br<16;++br){const Tr=br*16;for(let Lr=0;Lr<16;++Lr)_r[Tr+Lr]=Er[br]+Er[Lr]}return _r}();function Rn(Er){return typeof BigInt>"u"?Nn:Er}function Nn(){throw new Error("BigInt not supported")}})(buffer$2);var events={exports:{}},R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function(r,c,u){return Function.prototype.apply.call(r,c,u)},ReflectOwnKeys;R$1&&typeof R$1.ownKeys=="function"?ReflectOwnKeys=R$1.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:ReflectOwnKeys=function(r){return Object.getOwnPropertyNames(r)};function ProcessEmitWarning(a){console&&console.warn&&console.warn(a)}var NumberIsNaN=Number.isNaN||function(r){return r!==r};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once$1;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(a){if(typeof a!="number"||a<0||NumberIsNaN(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");defaultMaxListeners=a}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||NumberIsNaN(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function _getMaxListeners(a){return a._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:a._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(r){for(var c=[],u=1;u<arguments.length;u++)c.push(arguments[u]);var l=r==="error",d=this._events;if(d!==void 0)l=l&&d.error===void 0;else if(!l)return!1;if(l){var y;if(c.length>0&&(y=c[0]),y instanceof Error)throw y;var m=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw m.context=y,m}var wr=d[r];if(wr===void 0)return!1;if(typeof wr=="function")ReflectApply(wr,this,c);else for(var Sr=wr.length,Ar=arrayClone(wr,Sr),u=0;u<Sr;++u)ReflectApply(Ar[u],this,c);return!0};function _addListener(a,r,c,u){var l,d,y;if(checkListener(c),d=a._events,d===void 0?(d=a._events=Object.create(null),a._eventsCount=0):(d.newListener!==void 0&&(a.emit("newListener",r,c.listener?c.listener:c),d=a._events),y=d[r]),y===void 0)y=d[r]=c,++a._eventsCount;else if(typeof y=="function"?y=d[r]=u?[c,y]:[y,c]:u?y.unshift(c):y.push(c),l=_getMaxListeners(a),l>0&&y.length>l&&!y.warned){y.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+y.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=a,m.type=r,m.count=y.length,ProcessEmitWarning(m)}return a}EventEmitter$1.prototype.addListener=function(r,c){return _addListener(this,r,c,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(r,c){return _addListener(this,r,c,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(a,r,c){var u={fired:!1,wrapFn:void 0,target:a,type:r,listener:c},l=onceWrapper.bind(u);return l.listener=c,u.wrapFn=l,l}EventEmitter$1.prototype.once=function(r,c){return checkListener(c),this.on(r,_onceWrap(this,r,c)),this};EventEmitter$1.prototype.prependOnceListener=function(r,c){return checkListener(c),this.prependListener(r,_onceWrap(this,r,c)),this};EventEmitter$1.prototype.removeListener=function(r,c){var u,l,d,y,m;if(checkListener(c),l=this._events,l===void 0)return this;if(u=l[r],u===void 0)return this;if(u===c||u.listener===c)--this._eventsCount===0?this._events=Object.create(null):(delete l[r],l.removeListener&&this.emit("removeListener",r,u.listener||c));else if(typeof u!="function"){for(d=-1,y=u.length-1;y>=0;y--)if(u[y]===c||u[y].listener===c){m=u[y].listener,d=y;break}if(d<0)return this;d===0?u.shift():spliceOne(u,d),u.length===1&&(l[r]=u[0]),l.removeListener!==void 0&&this.emit("removeListener",r,m||c)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(r){var c,u,l;if(u=this._events,u===void 0)return this;if(u.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):u[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete u[r]),this;if(arguments.length===0){var d=Object.keys(u),y;for(l=0;l<d.length;++l)y=d[l],y!=="removeListener"&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(c=u[r],typeof c=="function")this.removeListener(r,c);else if(c!==void 0)for(l=c.length-1;l>=0;l--)this.removeListener(r,c[l]);return this};function _listeners(a,r,c){var u=a._events;if(u===void 0)return[];var l=u[r];return l===void 0?[]:typeof l=="function"?c?[l.listener||l]:[l]:c?unwrapListeners(l):arrayClone(l,l.length)}EventEmitter$1.prototype.listeners=function(r){return _listeners(this,r,!0)};EventEmitter$1.prototype.rawListeners=function(r){return _listeners(this,r,!1)};EventEmitter$1.listenerCount=function(a,r){return typeof a.listenerCount=="function"?a.listenerCount(r):listenerCount.call(a,r)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(a){var r=this._events;if(r!==void 0){var c=r[a];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(a,r){for(var c=new Array(r),u=0;u<r;++u)c[u]=a[u];return c}function spliceOne(a,r){for(;r+1<a.length;r++)a[r]=a[r+1];a.pop()}function unwrapListeners(a){for(var r=new Array(a.length),c=0;c<r.length;++c)r[c]=a[c].listener||a[c];return r}function once$1(a,r){return new Promise(function(c,u){function l(y){a.removeListener(r,d),u(y)}function d(){typeof a.removeListener=="function"&&a.removeListener("error",l),c([].slice.call(arguments))}eventTargetAgnosticAddListener(a,r,d,{once:!0}),r!=="error"&&addErrorHandlerIfEventEmitter(a,l,{once:!0})})}function addErrorHandlerIfEventEmitter(a,r,c){typeof a.on=="function"&&eventTargetAgnosticAddListener(a,"error",r,c)}function eventTargetAgnosticAddListener(a,r,c,u){if(typeof a.on=="function")u.once?a.once(r,c):a.on(r,c);else if(typeof a.addEventListener=="function")a.addEventListener(r,function l(d){u.once&&a.removeEventListener(r,l),c(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}window.Buffer=buffer$2.Buffer;window.process=browser$3.exports;window.EventEmitter=events.exports;function makeMap(a,r){const c=Object.create(null),u=a.split(",");for(let l=0;l<u.length;l++)c[u[l]]=!0;return r?l=>!!c[l.toLowerCase()]:l=>!!c[l]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(a){return!!a||a===""}function normalizeStyle(a){if(isArray$2(a)){const r={};for(let c=0;c<a.length;c++){const u=a[c],l=isString$2(u)?parseStringStyle(u):normalizeStyle(u);if(l)for(const d in l)r[d]=l[d]}return r}else{if(isString$2(a))return a;if(isObject$3(a))return a}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(a){const r={};return a.split(listDelimiterRE).forEach(c=>{if(c){const u=c.split(propertyDelimiterRE);u.length>1&&(r[u[0].trim()]=u[1].trim())}}),r}function normalizeClass(a){let r="";if(isString$2(a))r=a;else if(isArray$2(a))for(let c=0;c<a.length;c++){const u=normalizeClass(a[c]);u&&(r+=u+" ")}else if(isObject$3(a))for(const c in a)a[c]&&(r+=c+" ");return r.trim()}function normalizeProps(a){if(!a)return null;let{class:r,style:c}=a;return r&&!isString$2(r)&&(a.class=normalizeClass(r)),c&&(a.style=normalizeStyle(c)),a}function looseCompareArrays(a,r){if(a.length!==r.length)return!1;let c=!0;for(let u=0;c&&u<a.length;u++)c=looseEqual(a[u],r[u]);return c}function looseEqual(a,r){if(a===r)return!0;let c=isDate$1(a),u=isDate$1(r);if(c||u)return c&&u?a.getTime()===r.getTime():!1;if(c=isSymbol(a),u=isSymbol(r),c||u)return a===r;if(c=isArray$2(a),u=isArray$2(r),c||u)return c&&u?looseCompareArrays(a,r):!1;if(c=isObject$3(a),u=isObject$3(r),c||u){if(!c||!u)return!1;const l=Object.keys(a).length,d=Object.keys(r).length;if(l!==d)return!1;for(const y in a){const m=a.hasOwnProperty(y),wr=r.hasOwnProperty(y);if(m&&!wr||!m&&wr||!looseEqual(a[y],r[y]))return!1}}return String(a)===String(r)}function looseIndexOf(a,r){return a.findIndex(c=>looseEqual(c,r))}const toDisplayString=a=>isString$2(a)?a:a==null?"":isArray$2(a)||isObject$3(a)&&(a.toString===objectToString$1||!isFunction$2(a.toString))?JSON.stringify(a,replacer,2):String(a),replacer=(a,r)=>r&&r.__v_isRef?replacer(a,r.value):isMap(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((c,[u,l])=>(c[`${u} =>`]=l,c),{})}:isSet(r)?{[`Set(${r.size})`]:[...r.values()]}:isObject$3(r)&&!isArray$2(r)&&!isPlainObject$2(r)?String(r):r,EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=a=>onRE.test(a),isModelListener=a=>a.startsWith("onUpdate:"),extend=Object.assign,remove$1=(a,r)=>{const c=a.indexOf(r);c>-1&&a.splice(c,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn$1=(a,r)=>hasOwnProperty$2.call(a,r),isArray$2=Array.isArray,isMap=a=>toTypeString(a)==="[object Map]",isSet=a=>toTypeString(a)==="[object Set]",isDate$1=a=>toTypeString(a)==="[object Date]",isFunction$2=a=>typeof a=="function",isString$2=a=>typeof a=="string",isSymbol=a=>typeof a=="symbol",isObject$3=a=>a!==null&&typeof a=="object",isPromise=a=>isObject$3(a)&&isFunction$2(a.then)&&isFunction$2(a.catch),objectToString$1=Object.prototype.toString,toTypeString=a=>objectToString$1.call(a),toRawType=a=>toTypeString(a).slice(8,-1),isPlainObject$2=a=>toTypeString(a)==="[object Object]",isIntegerKey=a=>isString$2(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=a=>{const r=Object.create(null);return c=>r[c]||(r[c]=a(c))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(a=>a.replace(camelizeRE,(r,c)=>c?c.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(a=>a.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(a=>a.charAt(0).toUpperCase()+a.slice(1)),toHandlerKey=cacheStringFunction(a=>a?`on${capitalize(a)}`:""),hasChanged=(a,r)=>!Object.is(a,r),invokeArrayFns=(a,r)=>{for(let c=0;c<a.length;c++)a[c](r)},def=(a,r,c)=>{Object.defineProperty(a,r,{configurable:!0,enumerable:!1,value:c})},toNumber=a=>{const r=parseFloat(a);return isNaN(r)?a:r};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(r){if(this.active){const c=activeEffectScope;try{return activeEffectScope=this,r()}finally{activeEffectScope=c}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(r){if(this.active){let c,u;for(c=0,u=this.effects.length;c<u;c++)this.effects[c].stop();for(c=0,u=this.cleanups.length;c<u;c++)this.cleanups[c]();if(this.scopes)for(c=0,u=this.scopes.length;c<u;c++)this.scopes[c].stop(!0);if(this.parent&&!r){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.active=!1}}}function effectScope(a){return new EffectScope(a)}function recordEffectScope(a,r=activeEffectScope){r&&r.active&&r.effects.push(a)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(a){activeEffectScope&&activeEffectScope.cleanups.push(a)}const createDep=a=>{const r=new Set(a);return r.w=0,r.n=0,r},wasTracked=a=>(a.w&trackOpBit)>0,newTracked=a=>(a.n&trackOpBit)>0,initDepMarkers=({deps:a})=>{if(a.length)for(let r=0;r<a.length;r++)a[r].w|=trackOpBit},finalizeDepMarkers=a=>{const{deps:r}=a;if(r.length){let c=0;for(let u=0;u<r.length;u++){const l=r[u];wasTracked(l)&&!newTracked(l)?l.delete(a):r[c++]=l,l.w&=~trackOpBit,l.n&=~trackOpBit}r.length=c}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(r,c=null,u){this.fn=r,this.scheduler=c,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,u)}run(){if(!this.active)return this.fn();let r=activeEffect,c=shouldTrack;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=c,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(a){const{deps:r}=a;if(r.length){for(let c=0;c<r.length;c++)r[c].delete(a);r.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const a=trackStack.pop();shouldTrack=a===void 0?!0:a}function track(a,r,c){if(shouldTrack&&activeEffect){let u=targetMap.get(a);u||targetMap.set(a,u=new Map);let l=u.get(c);l||u.set(c,l=createDep()),trackEffects(l)}}function trackEffects(a,r){let c=!1;effectTrackDepth<=maxMarkerBits?newTracked(a)||(a.n|=trackOpBit,c=!wasTracked(a)):c=!a.has(activeEffect),c&&(a.add(activeEffect),activeEffect.deps.push(a))}function trigger(a,r,c,u,l,d){const y=targetMap.get(a);if(!y)return;let m=[];if(r==="clear")m=[...y.values()];else if(c==="length"&&isArray$2(a))y.forEach((wr,Sr)=>{(Sr==="length"||Sr>=u)&&m.push(wr)});else switch(c!==void 0&&m.push(y.get(c)),r){case"add":isArray$2(a)?isIntegerKey(c)&&m.push(y.get("length")):(m.push(y.get(ITERATE_KEY)),isMap(a)&&m.push(y.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(a)||(m.push(y.get(ITERATE_KEY)),isMap(a)&&m.push(y.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(a)&&m.push(y.get(ITERATE_KEY));break}if(m.length===1)m[0]&&triggerEffects(m[0]);else{const wr=[];for(const Sr of m)Sr&&wr.push(...Sr);triggerEffects(createDep(wr))}}function triggerEffects(a,r){const c=isArray$2(a)?a:[...a];for(const u of c)u.computed&&triggerEffect(u);for(const u of c)u.computed||triggerEffect(u)}function triggerEffect(a,r){(a!==activeEffect||a.allowRecurse)&&(a.scheduler?a.scheduler():a.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(a=>a!=="arguments"&&a!=="caller").map(a=>Symbol[a]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const a={};return["includes","indexOf","lastIndexOf"].forEach(r=>{a[r]=function(...c){const u=toRaw(this);for(let d=0,y=this.length;d<y;d++)track(u,"get",d+"");const l=u[r](...c);return l===-1||l===!1?u[r](...c.map(toRaw)):l}}),["push","pop","shift","unshift","splice"].forEach(r=>{a[r]=function(...c){pauseTracking();const u=toRaw(this)[r].apply(this,c);return resetTracking(),u}}),a}function createGetter(a=!1,r=!1){return function(u,l,d){if(l==="__v_isReactive")return!a;if(l==="__v_isReadonly")return a;if(l==="__v_isShallow")return r;if(l==="__v_raw"&&d===(a?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(u))return u;const y=isArray$2(u);if(!a&&y&&hasOwn$1(arrayInstrumentations,l))return Reflect.get(arrayInstrumentations,l,d);const m=Reflect.get(u,l,d);return(isSymbol(l)?builtInSymbols.has(l):isNonTrackableKeys(l))||(a||track(u,"get",l),r)?m:isRef(m)?y&&isIntegerKey(l)?m:m.value:isObject$3(m)?a?readonly(m):reactive(m):m}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(a=!1){return function(c,u,l,d){let y=c[u];if(isReadonly(y)&&isRef(y)&&!isRef(l))return!1;if(!a&&(!isShallow(l)&&!isReadonly(l)&&(y=toRaw(y),l=toRaw(l)),!isArray$2(c)&&isRef(y)&&!isRef(l)))return y.value=l,!0;const m=isArray$2(c)&&isIntegerKey(u)?Number(u)<c.length:hasOwn$1(c,u),wr=Reflect.set(c,u,l,d);return c===toRaw(d)&&(m?hasChanged(l,y)&&trigger(c,"set",u,l):trigger(c,"add",u,l)),wr}}function deleteProperty(a,r){const c=hasOwn$1(a,r);a[r];const u=Reflect.deleteProperty(a,r);return u&&c&&trigger(a,"delete",r,void 0),u}function has$1(a,r){const c=Reflect.has(a,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(a,"has",r),c}function ownKeys$1(a){return track(a,"iterate",isArray$2(a)?"length":ITERATE_KEY),Reflect.ownKeys(a)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(a,r){return!0},deleteProperty(a,r){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=a=>a,getProto$1=a=>Reflect.getPrototypeOf(a);function get$1$1(a,r,c=!1,u=!1){a=a.__v_raw;const l=toRaw(a),d=toRaw(r);c||(r!==d&&track(l,"get",r),track(l,"get",d));const{has:y}=getProto$1(l),m=u?toShallow:c?toReadonly:toReactive;if(y.call(l,r))return m(a.get(r));if(y.call(l,d))return m(a.get(d));a!==l&&a.get(r)}function has$1$1(a,r=!1){const c=this.__v_raw,u=toRaw(c),l=toRaw(a);return r||(a!==l&&track(u,"has",a),track(u,"has",l)),a===l?c.has(a):c.has(a)||c.has(l)}function size(a,r=!1){return a=a.__v_raw,!r&&track(toRaw(a),"iterate",ITERATE_KEY),Reflect.get(a,"size",a)}function add$1(a){a=toRaw(a);const r=toRaw(this);return getProto$1(r).has.call(r,a)||(r.add(a),trigger(r,"add",a,a)),this}function set$1$1(a,r){r=toRaw(r);const c=toRaw(this),{has:u,get:l}=getProto$1(c);let d=u.call(c,a);d||(a=toRaw(a),d=u.call(c,a));const y=l.call(c,a);return c.set(a,r),d?hasChanged(r,y)&&trigger(c,"set",a,r):trigger(c,"add",a,r),this}function deleteEntry(a){const r=toRaw(this),{has:c,get:u}=getProto$1(r);let l=c.call(r,a);l||(a=toRaw(a),l=c.call(r,a)),u&&u.call(r,a);const d=r.delete(a);return l&&trigger(r,"delete",a,void 0),d}function clear(){const a=toRaw(this),r=a.size!==0,c=a.clear();return r&&trigger(a,"clear",void 0,void 0),c}function createForEach(a,r){return function(u,l){const d=this,y=d.__v_raw,m=toRaw(y),wr=r?toShallow:a?toReadonly:toReactive;return!a&&track(m,"iterate",ITERATE_KEY),y.forEach((Sr,Ar)=>u.call(l,wr(Sr),wr(Ar),d))}}function createIterableMethod(a,r,c){return function(...u){const l=this.__v_raw,d=toRaw(l),y=isMap(d),m=a==="entries"||a===Symbol.iterator&&y,wr=a==="keys"&&y,Sr=l[a](...u),Ar=c?toShallow:r?toReadonly:toReactive;return!r&&track(d,"iterate",wr?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Ir,done:$r}=Sr.next();return $r?{value:Ir,done:$r}:{value:m?[Ar(Ir[0]),Ar(Ir[1])]:Ar(Ir),done:$r}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(a){return function(...r){return a==="delete"?!1:this}}function createInstrumentations(){const a={get(d){return get$1$1(this,d)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},r={get(d){return get$1$1(this,d,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},c={get(d){return get$1$1(this,d,!0)},get size(){return size(this,!0)},has(d){return has$1$1.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},u={get(d){return get$1$1(this,d,!0,!0)},get size(){return size(this,!0)},has(d){return has$1$1.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{a[d]=createIterableMethod(d,!1,!1),c[d]=createIterableMethod(d,!0,!1),r[d]=createIterableMethod(d,!1,!0),u[d]=createIterableMethod(d,!0,!0)}),[a,c,r,u]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(a,r){const c=r?a?shallowReadonlyInstrumentations:shallowInstrumentations:a?readonlyInstrumentations:mutableInstrumentations;return(u,l,d)=>l==="__v_isReactive"?!a:l==="__v_isReadonly"?a:l==="__v_raw"?u:Reflect.get(hasOwn$1(c,l)&&l in u?c:u,l,d)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(a){return a.__v_skip||!Object.isExtensible(a)?0:targetTypeMap(toRawType(a))}function reactive(a){return isReadonly(a)?a:createReactiveObject(a,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(a){return createReactiveObject(a,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(a){return createReactiveObject(a,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(a,r,c,u,l){if(!isObject$3(a)||a.__v_raw&&!(r&&a.__v_isReactive))return a;const d=l.get(a);if(d)return d;const y=getTargetType(a);if(y===0)return a;const m=new Proxy(a,y===2?u:c);return l.set(a,m),m}function isReactive(a){return isReadonly(a)?isReactive(a.__v_raw):!!(a&&a.__v_isReactive)}function isReadonly(a){return!!(a&&a.__v_isReadonly)}function isShallow(a){return!!(a&&a.__v_isShallow)}function isProxy(a){return isReactive(a)||isReadonly(a)}function toRaw(a){const r=a&&a.__v_raw;return r?toRaw(r):a}function markRaw(a){return def(a,"__v_skip",!0),a}const toReactive=a=>isObject$3(a)?reactive(a):a,toReadonly=a=>isObject$3(a)?readonly(a):a;function trackRefValue(a){shouldTrack&&activeEffect&&(a=toRaw(a),trackEffects(a.dep||(a.dep=createDep())))}function triggerRefValue(a,r){a=toRaw(a),a.dep&&triggerEffects(a.dep)}function isRef(a){return!!(a&&a.__v_isRef===!0)}function ref(a){return createRef(a,!1)}function shallowRef(a){return createRef(a,!0)}function createRef(a,r){return isRef(a)?a:new RefImpl(a,r)}class RefImpl{constructor(r,c){this.__v_isShallow=c,this.dep=void 0,this.__v_isRef=!0,this._rawValue=c?r:toRaw(r),this._value=c?r:toReactive(r)}get value(){return trackRefValue(this),this._value}set value(r){const c=this.__v_isShallow||isShallow(r)||isReadonly(r);r=c?r:toRaw(r),hasChanged(r,this._rawValue)&&(this._rawValue=r,this._value=c?r:toReactive(r),triggerRefValue(this))}}function unref(a){return isRef(a)?a.value:a}const shallowUnwrapHandlers={get:(a,r,c)=>unref(Reflect.get(a,r,c)),set:(a,r,c,u)=>{const l=a[r];return isRef(l)&&!isRef(c)?(l.value=c,!0):Reflect.set(a,r,c,u)}};function proxyRefs(a){return isReactive(a)?a:new Proxy(a,shallowUnwrapHandlers)}function toRefs(a){const r=isArray$2(a)?new Array(a.length):{};for(const c in a)r[c]=toRef(a,c);return r}class ObjectRefImpl{constructor(r,c,u){this._object=r,this._key=c,this._defaultValue=u,this.__v_isRef=!0}get value(){const r=this._object[this._key];return r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}}function toRef(a,r,c){const u=a[r];return isRef(u)?u:new ObjectRefImpl(a,r,c)}var _a$1;class ComputedRefImpl{constructor(r,c,u,l){this._setter=c,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(r,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=u}get value(){const r=toRaw(this);return trackRefValue(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}_a$1="__v_isReadonly";function computed$2(a,r,c=!1){let u,l;const d=isFunction$2(a);return d?(u=a,l=NOOP$1):(u=a.get,l=a.set),new ComputedRefImpl(u,l,d||!l,c)}function callWithErrorHandling(a,r,c,u){let l;try{l=u?a(...u):a()}catch(d){handleError(d,r,c)}return l}function callWithAsyncErrorHandling(a,r,c,u){if(isFunction$2(a)){const d=callWithErrorHandling(a,r,c,u);return d&&isPromise(d)&&d.catch(y=>{handleError(y,r,c)}),d}const l=[];for(let d=0;d<a.length;d++)l.push(callWithAsyncErrorHandling(a[d],r,c,u));return l}function handleError(a,r,c,u=!0){const l=r?r.vnode:null;if(r){let d=r.parent;const y=r.proxy,m=c;for(;d;){const Sr=d.ec;if(Sr){for(let Ar=0;Ar<Sr.length;Ar++)if(Sr[Ar](a,y,m)===!1)return}d=d.parent}const wr=r.appContext.config.errorHandler;if(wr){callWithErrorHandling(wr,null,10,[a,y,m]);return}}logError(a,c,l,u)}function logError(a,r,c,u=!0){console.error(a)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(a){const r=currentFlushPromise||resolvedPromise;return a?r.then(this?a.bind(this):a):r}function findInsertionIndex(a){let r=flushIndex+1,c=queue.length;for(;r<c;){const u=r+c>>>1;getId(queue[u])<a?r=u+1:c=u}return r}function queueJob(a){(!queue.length||!queue.includes(a,isFlushing&&a.allowRecurse?flushIndex+1:flushIndex))&&(a.id==null?queue.push(a):queue.splice(findInsertionIndex(a.id),0,a),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(a){const r=queue.indexOf(a);r>flushIndex&&queue.splice(r,1)}function queuePostFlushCb(a){isArray$2(a)?pendingPostFlushCbs.push(...a):(!activePostFlushCbs||!activePostFlushCbs.includes(a,a.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(a),queueFlush()}function flushPreFlushCbs(a,r=isFlushing?flushIndex+1:0){for(;r<queue.length;r++){const c=queue[r];c&&c.pre&&(queue.splice(r,1),r--,c())}}function flushPostFlushCbs(a){if(pendingPostFlushCbs.length){const r=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...r);return}for(activePostFlushCbs=r,activePostFlushCbs.sort((c,u)=>getId(c)-getId(u)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=a=>a.id==null?1/0:a.id,comparator=(a,r)=>{const c=getId(a)-getId(r);if(c===0){if(a.pre&&!r.pre)return-1;if(r.pre&&!a.pre)return 1}return c};function flushJobs(a){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const r=NOOP$1;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const c=queue[flushIndex];c&&c.active!==!1&&callWithErrorHandling(c,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(a,r,...c){if(a.isUnmounted)return;const u=a.vnode.props||EMPTY_OBJ;let l=c;const d=r.startsWith("update:"),y=d&&r.slice(7);if(y&&y in u){const Ar=`${y==="modelValue"?"model":y}Modifiers`,{number:Ir,trim:$r}=u[Ar]||EMPTY_OBJ;$r&&(l=c.map(kr=>kr.trim())),Ir&&(l=c.map(toNumber))}let m,wr=u[m=toHandlerKey(r)]||u[m=toHandlerKey(camelize(r))];!wr&&d&&(wr=u[m=toHandlerKey(hyphenate(r))]),wr&&callWithAsyncErrorHandling(wr,a,6,l);const Sr=u[m+"Once"];if(Sr){if(!a.emitted)a.emitted={};else if(a.emitted[m])return;a.emitted[m]=!0,callWithAsyncErrorHandling(Sr,a,6,l)}}function normalizeEmitsOptions(a,r,c=!1){const u=r.emitsCache,l=u.get(a);if(l!==void 0)return l;const d=a.emits;let y={},m=!1;if(!isFunction$2(a)){const wr=Sr=>{const Ar=normalizeEmitsOptions(Sr,r,!0);Ar&&(m=!0,extend(y,Ar))};!c&&r.mixins.length&&r.mixins.forEach(wr),a.extends&&wr(a.extends),a.mixins&&a.mixins.forEach(wr)}return!d&&!m?(isObject$3(a)&&u.set(a,null),null):(isArray$2(d)?d.forEach(wr=>y[wr]=null):extend(y,d),isObject$3(a)&&u.set(a,y),y)}function isEmitListener(a,r){return!a||!isOn(r)?!1:(r=r.slice(2).replace(/Once$/,""),hasOwn$1(a,r[0].toLowerCase()+r.slice(1))||hasOwn$1(a,hyphenate(r))||hasOwn$1(a,r))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(a){const r=currentRenderingInstance;return currentRenderingInstance=a,currentScopeId=a&&a.type.__scopeId||null,r}function pushScopeId(a){currentScopeId=a}function popScopeId(){currentScopeId=null}function withCtx(a,r=currentRenderingInstance,c){if(!r||a._n)return a;const u=(...l)=>{u._d&&setBlockTracking(-1);const d=setCurrentRenderingInstance(r),y=a(...l);return setCurrentRenderingInstance(d),u._d&&setBlockTracking(1),y};return u._n=!0,u._c=!0,u._d=!0,u}function markAttrsAccessed(){}function renderComponentRoot(a){const{type:r,vnode:c,proxy:u,withProxy:l,props:d,propsOptions:[y],slots:m,attrs:wr,emit:Sr,render:Ar,renderCache:Ir,data:$r,setupState:kr,ctx:Dr,inheritAttrs:Cr}=a;let Br,Fr;const qr=setCurrentRenderingInstance(a);try{if(c.shapeFlag&4){const Jr=l||u;Br=normalizeVNode(Ar.call(Jr,Jr,Ir,d,kr,$r,Dr)),Fr=wr}else{const Jr=r;Br=normalizeVNode(Jr.length>1?Jr(d,{attrs:wr,slots:m,emit:Sr}):Jr(d,null)),Fr=r.props?wr:getFunctionalFallthrough(wr)}}catch(Jr){blockStack.length=0,handleError(Jr,a,1),Br=createVNode(Comment)}let Vr=Br;if(Fr&&Cr!==!1){const Jr=Object.keys(Fr),{shapeFlag:Qr}=Vr;Jr.length&&Qr&7&&(y&&Jr.some(isModelListener)&&(Fr=filterModelListeners(Fr,y)),Vr=cloneVNode(Vr,Fr))}return c.dirs&&(Vr=cloneVNode(Vr),Vr.dirs=Vr.dirs?Vr.dirs.concat(c.dirs):c.dirs),c.transition&&(Vr.transition=c.transition),Br=Vr,setCurrentRenderingInstance(qr),Br}const getFunctionalFallthrough=a=>{let r;for(const c in a)(c==="class"||c==="style"||isOn(c))&&((r||(r={}))[c]=a[c]);return r},filterModelListeners=(a,r)=>{const c={};for(const u in a)(!isModelListener(u)||!(u.slice(9)in r))&&(c[u]=a[u]);return c};function shouldUpdateComponent(a,r,c){const{props:u,children:l,component:d}=a,{props:y,children:m,patchFlag:wr}=r,Sr=d.emitsOptions;if(r.dirs||r.transition)return!0;if(c&&wr>=0){if(wr&1024)return!0;if(wr&16)return u?hasPropsChanged(u,y,Sr):!!y;if(wr&8){const Ar=r.dynamicProps;for(let Ir=0;Ir<Ar.length;Ir++){const $r=Ar[Ir];if(y[$r]!==u[$r]&&!isEmitListener(Sr,$r))return!0}}}else return(l||m)&&(!m||!m.$stable)?!0:u===y?!1:u?y?hasPropsChanged(u,y,Sr):!0:!!y;return!1}function hasPropsChanged(a,r,c){const u=Object.keys(r);if(u.length!==Object.keys(a).length)return!0;for(let l=0;l<u.length;l++){const d=u[l];if(r[d]!==a[d]&&!isEmitListener(c,d))return!0}return!1}function updateHOCHostEl({vnode:a,parent:r},c){for(;r&&r.subTree===a;)(a=r.vnode).el=c,r=r.parent}const isSuspense=a=>a.__isSuspense;function queueEffectWithSuspense(a,r){r&&r.pendingBranch?isArray$2(a)?r.effects.push(...a):r.effects.push(a):queuePostFlushCb(a)}function provide(a,r){if(currentInstance){let c=currentInstance.provides;const u=currentInstance.parent&&currentInstance.parent.provides;u===c&&(c=currentInstance.provides=Object.create(u)),c[a]=r}}function inject(a,r,c=!1){const u=currentInstance||currentRenderingInstance;if(u){const l=u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides;if(l&&a in l)return l[a];if(arguments.length>1)return c&&isFunction$2(r)?r.call(u.proxy):r}}function watchEffect(a,r){return doWatch(a,null,r)}const INITIAL_WATCHER_VALUE={};function watch(a,r,c){return doWatch(a,r,c)}function doWatch(a,r,{immediate:c,deep:u,flush:l,onTrack:d,onTrigger:y}=EMPTY_OBJ){const m=currentInstance;let wr,Sr=!1,Ar=!1;if(isRef(a)?(wr=()=>a.value,Sr=isShallow(a)):isReactive(a)?(wr=()=>a,u=!0):isArray$2(a)?(Ar=!0,Sr=a.some(Fr=>isReactive(Fr)||isShallow(Fr)),wr=()=>a.map(Fr=>{if(isRef(Fr))return Fr.value;if(isReactive(Fr))return traverse(Fr);if(isFunction$2(Fr))return callWithErrorHandling(Fr,m,2)})):isFunction$2(a)?r?wr=()=>callWithErrorHandling(a,m,2):wr=()=>{if(!(m&&m.isUnmounted))return Ir&&Ir(),callWithAsyncErrorHandling(a,m,3,[$r])}:wr=NOOP$1,r&&u){const Fr=wr;wr=()=>traverse(Fr())}let Ir,$r=Fr=>{Ir=Br.onStop=()=>{callWithErrorHandling(Fr,m,4)}};if(isInSSRComponentSetup)return $r=NOOP$1,r?c&&callWithAsyncErrorHandling(r,m,3,[wr(),Ar?[]:void 0,$r]):wr(),NOOP$1;let kr=Ar?[]:INITIAL_WATCHER_VALUE;const Dr=()=>{if(!!Br.active)if(r){const Fr=Br.run();(u||Sr||(Ar?Fr.some((qr,Vr)=>hasChanged(qr,kr[Vr])):hasChanged(Fr,kr)))&&(Ir&&Ir(),callWithAsyncErrorHandling(r,m,3,[Fr,kr===INITIAL_WATCHER_VALUE?void 0:kr,$r]),kr=Fr)}else Br.run()};Dr.allowRecurse=!!r;let Cr;l==="sync"?Cr=Dr:l==="post"?Cr=()=>queuePostRenderEffect(Dr,m&&m.suspense):(Dr.pre=!0,m&&(Dr.id=m.uid),Cr=()=>queueJob(Dr));const Br=new ReactiveEffect(wr,Cr);return r?c?Dr():kr=Br.run():l==="post"?queuePostRenderEffect(Br.run.bind(Br),m&&m.suspense):Br.run(),()=>{Br.stop(),m&&m.scope&&remove$1(m.scope.effects,Br)}}function instanceWatch(a,r,c){const u=this.proxy,l=isString$2(a)?a.includes(".")?createPathGetter(u,a):()=>u[a]:a.bind(u,u);let d;isFunction$2(r)?d=r:(d=r.handler,c=r);const y=currentInstance;setCurrentInstance(this);const m=doWatch(l,d.bind(u),c);return y?setCurrentInstance(y):unsetCurrentInstance(),m}function createPathGetter(a,r){const c=r.split(".");return()=>{let u=a;for(let l=0;l<c.length&&u;l++)u=u[c[l]];return u}}function traverse(a,r){if(!isObject$3(a)||a.__v_skip||(r=r||new Set,r.has(a)))return a;if(r.add(a),isRef(a))traverse(a.value,r);else if(isArray$2(a))for(let c=0;c<a.length;c++)traverse(a[c],r);else if(isSet(a)||isMap(a))a.forEach(c=>{traverse(c,r)});else if(isPlainObject$2(a))for(const c in a)traverse(a[c],r);return a}function defineComponent(a){return isFunction$2(a)?{setup:a,name:a.name}:a}const isAsyncWrapper=a=>!!a.type.__asyncLoader,isKeepAlive=a=>a.type.__isKeepAlive;function onActivated(a,r){registerKeepAliveHook(a,"a",r)}function onDeactivated(a,r){registerKeepAliveHook(a,"da",r)}function registerKeepAliveHook(a,r,c=currentInstance){const u=a.__wdc||(a.__wdc=()=>{let l=c;for(;l;){if(l.isDeactivated)return;l=l.parent}return a()});if(injectHook(r,u,c),c){let l=c.parent;for(;l&&l.parent;)isKeepAlive(l.parent.vnode)&&injectToKeepAliveRoot(u,r,c,l),l=l.parent}}function injectToKeepAliveRoot(a,r,c,u){const l=injectHook(r,a,u,!0);onUnmounted(()=>{remove$1(u[r],l)},c)}function injectHook(a,r,c=currentInstance,u=!1){if(c){const l=c[a]||(c[a]=[]),d=r.__weh||(r.__weh=(...y)=>{if(c.isUnmounted)return;pauseTracking(),setCurrentInstance(c);const m=callWithAsyncErrorHandling(r,c,a,y);return unsetCurrentInstance(),resetTracking(),m});return u?l.unshift(d):l.push(d),d}}const createHook=a=>(r,c=currentInstance)=>(!isInSSRComponentSetup||a==="sp")&&injectHook(a,r,c),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(a,r=currentInstance){injectHook("ec",a,r)}function withDirectives(a,r){const c=currentRenderingInstance;if(c===null)return a;const u=getExposeProxy(c)||c.proxy,l=a.dirs||(a.dirs=[]);for(let d=0;d<r.length;d++){let[y,m,wr,Sr=EMPTY_OBJ]=r[d];isFunction$2(y)&&(y={mounted:y,updated:y}),y.deep&&traverse(m),l.push({dir:y,instance:u,value:m,oldValue:void 0,arg:wr,modifiers:Sr})}return a}function invokeDirectiveHook(a,r,c,u){const l=a.dirs,d=r&&r.dirs;for(let y=0;y<l.length;y++){const m=l[y];d&&(m.oldValue=d[y].value);let wr=m.dir[u];wr&&(pauseTracking(),callWithAsyncErrorHandling(wr,c,8,[a.el,m,a,r]),resetTracking())}}const COMPONENTS="components";function resolveComponent(a,r){return resolveAsset(COMPONENTS,a,!0,r)||a}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(a,r,c=!0,u=!1){const l=currentRenderingInstance||currentInstance;if(l){const d=l.type;if(a===COMPONENTS){const m=getComponentName(d,!1);if(m&&(m===r||m===camelize(r)||m===capitalize(camelize(r))))return d}const y=resolve(l[a]||d[a],r)||resolve(l.appContext[a],r);return!y&&u?d:y}}function resolve(a,r){return a&&(a[r]||a[camelize(r)]||a[capitalize(camelize(r))])}function renderList(a,r,c,u){let l;const d=c&&c[u];if(isArray$2(a)||isString$2(a)){l=new Array(a.length);for(let y=0,m=a.length;y<m;y++)l[y]=r(a[y],y,void 0,d&&d[y])}else if(typeof a=="number"){l=new Array(a);for(let y=0;y<a;y++)l[y]=r(y+1,y,void 0,d&&d[y])}else if(isObject$3(a))if(a[Symbol.iterator])l=Array.from(a,(y,m)=>r(y,m,void 0,d&&d[m]));else{const y=Object.keys(a);l=new Array(y.length);for(let m=0,wr=y.length;m<wr;m++){const Sr=y[m];l[m]=r(a[Sr],Sr,m,d&&d[m])}}else l=[];return c&&(c[u]=l),l}function renderSlot(a,r,c={},u,l){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",r==="default"?null:{name:r},u&&u());let d=a[r];d&&d._c&&(d._d=!1),openBlock();const y=d&&ensureValidVNode(d(c)),m=createBlock(Fragment,{key:c.key||y&&y.key||`_${r}`},y||(u?u():[]),y&&a._===1?64:-2);return!l&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),d&&d._c&&(d._d=!0),m}function ensureValidVNode(a){return a.some(r=>isVNode(r)?!(r.type===Comment||r.type===Fragment&&!ensureValidVNode(r.children)):!0)?a:null}const getPublicInstance=a=>a?isStatefulComponent(a)?getExposeProxy(a)||a.proxy:getPublicInstance(a.parent):null,publicPropertiesMap=extend(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>getPublicInstance(a.parent),$root:a=>getPublicInstance(a.root),$emit:a=>a.emit,$options:a=>resolveMergedOptions(a),$forceUpdate:a=>a.f||(a.f=()=>queueJob(a.update)),$nextTick:a=>a.n||(a.n=nextTick.bind(a.proxy)),$watch:a=>instanceWatch.bind(a)}),PublicInstanceProxyHandlers={get({_:a},r){const{ctx:c,setupState:u,data:l,props:d,accessCache:y,type:m,appContext:wr}=a;let Sr;if(r[0]!=="$"){const kr=y[r];if(kr!==void 0)switch(kr){case 1:return u[r];case 2:return l[r];case 4:return c[r];case 3:return d[r]}else{if(u!==EMPTY_OBJ&&hasOwn$1(u,r))return y[r]=1,u[r];if(l!==EMPTY_OBJ&&hasOwn$1(l,r))return y[r]=2,l[r];if((Sr=a.propsOptions[0])&&hasOwn$1(Sr,r))return y[r]=3,d[r];if(c!==EMPTY_OBJ&&hasOwn$1(c,r))return y[r]=4,c[r];shouldCacheAccess&&(y[r]=0)}}const Ar=publicPropertiesMap[r];let Ir,$r;if(Ar)return r==="$attrs"&&track(a,"get",r),Ar(a);if((Ir=m.__cssModules)&&(Ir=Ir[r]))return Ir;if(c!==EMPTY_OBJ&&hasOwn$1(c,r))return y[r]=4,c[r];if($r=wr.config.globalProperties,hasOwn$1($r,r))return $r[r]},set({_:a},r,c){const{data:u,setupState:l,ctx:d}=a;return l!==EMPTY_OBJ&&hasOwn$1(l,r)?(l[r]=c,!0):u!==EMPTY_OBJ&&hasOwn$1(u,r)?(u[r]=c,!0):hasOwn$1(a.props,r)||r[0]==="$"&&r.slice(1)in a?!1:(d[r]=c,!0)},has({_:{data:a,setupState:r,accessCache:c,ctx:u,appContext:l,propsOptions:d}},y){let m;return!!c[y]||a!==EMPTY_OBJ&&hasOwn$1(a,y)||r!==EMPTY_OBJ&&hasOwn$1(r,y)||(m=d[0])&&hasOwn$1(m,y)||hasOwn$1(u,y)||hasOwn$1(publicPropertiesMap,y)||hasOwn$1(l.config.globalProperties,y)},defineProperty(a,r,c){return c.get!=null?a._.accessCache[r]=0:hasOwn$1(c,"value")&&this.set(a,r,c.value,null),Reflect.defineProperty(a,r,c)}};let shouldCacheAccess=!0;function applyOptions(a){const r=resolveMergedOptions(a),c=a.proxy,u=a.ctx;shouldCacheAccess=!1,r.beforeCreate&&callHook(r.beforeCreate,a,"bc");const{data:l,computed:d,methods:y,watch:m,provide:wr,inject:Sr,created:Ar,beforeMount:Ir,mounted:$r,beforeUpdate:kr,updated:Dr,activated:Cr,deactivated:Br,beforeDestroy:Fr,beforeUnmount:qr,destroyed:Vr,unmounted:Jr,render:Qr,renderTracked:Wr,renderTriggered:Zr,errorCaptured:rn,serverPrefetch:gn,expose:an,inheritAttrs:fn,components:mn,directives:Mr,filters:xr}=r;if(Sr&&resolveInjections(Sr,u,null,a.appContext.config.unwrapInjectedRef),y)for(const Hr in y){const Gr=y[Hr];isFunction$2(Gr)&&(u[Hr]=Gr.bind(c))}if(l){const Hr=l.call(c,c);isObject$3(Hr)&&(a.data=reactive(Hr))}if(shouldCacheAccess=!0,d)for(const Hr in d){const Gr=d[Hr],un=isFunction$2(Gr)?Gr.bind(c,c):isFunction$2(Gr.get)?Gr.get.bind(c,c):NOOP$1,wn=!isFunction$2(Gr)&&isFunction$2(Gr.set)?Gr.set.bind(c):NOOP$1,jr=computed$1({get:un,set:wn});Object.defineProperty(u,Hr,{enumerable:!0,configurable:!0,get:()=>jr.value,set:Rr=>jr.value=Rr})}if(m)for(const Hr in m)createWatcher(m[Hr],u,c,Hr);if(wr){const Hr=isFunction$2(wr)?wr.call(c):wr;Reflect.ownKeys(Hr).forEach(Gr=>{provide(Gr,Hr[Gr])})}Ar&&callHook(Ar,a,"c");function Kr(Hr,Gr){isArray$2(Gr)?Gr.forEach(un=>Hr(un.bind(c))):Gr&&Hr(Gr.bind(c))}if(Kr(onBeforeMount,Ir),Kr(onMounted,$r),Kr(onBeforeUpdate,kr),Kr(onUpdated,Dr),Kr(onActivated,Cr),Kr(onDeactivated,Br),Kr(onErrorCaptured,rn),Kr(onRenderTracked,Wr),Kr(onRenderTriggered,Zr),Kr(onBeforeUnmount,qr),Kr(onUnmounted,Jr),Kr(onServerPrefetch,gn),isArray$2(an))if(an.length){const Hr=a.exposed||(a.exposed={});an.forEach(Gr=>{Object.defineProperty(Hr,Gr,{get:()=>c[Gr],set:un=>c[Gr]=un})})}else a.exposed||(a.exposed={});Qr&&a.render===NOOP$1&&(a.render=Qr),fn!=null&&(a.inheritAttrs=fn),mn&&(a.components=mn),Mr&&(a.directives=Mr)}function resolveInjections(a,r,c=NOOP$1,u=!1){isArray$2(a)&&(a=normalizeInject(a));for(const l in a){const d=a[l];let y;isObject$3(d)?"default"in d?y=inject(d.from||l,d.default,!0):y=inject(d.from||l):y=inject(d),isRef(y)&&u?Object.defineProperty(r,l,{enumerable:!0,configurable:!0,get:()=>y.value,set:m=>y.value=m}):r[l]=y}}function callHook(a,r,c){callWithAsyncErrorHandling(isArray$2(a)?a.map(u=>u.bind(r.proxy)):a.bind(r.proxy),r,c)}function createWatcher(a,r,c,u){const l=u.includes(".")?createPathGetter(c,u):()=>c[u];if(isString$2(a)){const d=r[a];isFunction$2(d)&&watch(l,d)}else if(isFunction$2(a))watch(l,a.bind(c));else if(isObject$3(a))if(isArray$2(a))a.forEach(d=>createWatcher(d,r,c,u));else{const d=isFunction$2(a.handler)?a.handler.bind(c):r[a.handler];isFunction$2(d)&&watch(l,d,a)}}function resolveMergedOptions(a){const r=a.type,{mixins:c,extends:u}=r,{mixins:l,optionsCache:d,config:{optionMergeStrategies:y}}=a.appContext,m=d.get(r);let wr;return m?wr=m:!l.length&&!c&&!u?wr=r:(wr={},l.length&&l.forEach(Sr=>mergeOptions$1(wr,Sr,y,!0)),mergeOptions$1(wr,r,y)),isObject$3(r)&&d.set(r,wr),wr}function mergeOptions$1(a,r,c,u=!1){const{mixins:l,extends:d}=r;d&&mergeOptions$1(a,d,c,!0),l&&l.forEach(y=>mergeOptions$1(a,y,c,!0));for(const y in r)if(!(u&&y==="expose")){const m=internalOptionMergeStrats[y]||c&&c[y];a[y]=m?m(a[y],r[y]):r[y]}return a}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(a,r){return r?a?function(){return extend(isFunction$2(a)?a.call(this,this):a,isFunction$2(r)?r.call(this,this):r)}:r:a}function mergeInject(a,r){return mergeObjectOptions(normalizeInject(a),normalizeInject(r))}function normalizeInject(a){if(isArray$2(a)){const r={};for(let c=0;c<a.length;c++)r[a[c]]=a[c];return r}return a}function mergeAsArray(a,r){return a?[...new Set([].concat(a,r))]:r}function mergeObjectOptions(a,r){return a?extend(extend(Object.create(null),a),r):r}function mergeWatchOptions(a,r){if(!a)return r;if(!r)return a;const c=extend(Object.create(null),a);for(const u in r)c[u]=mergeAsArray(a[u],r[u]);return c}function initProps(a,r,c,u=!1){const l={},d={};def(d,InternalObjectKey,1),a.propsDefaults=Object.create(null),setFullProps(a,r,l,d);for(const y in a.propsOptions[0])y in l||(l[y]=void 0);c?a.props=u?l:shallowReactive(l):a.type.props?a.props=l:a.props=d,a.attrs=d}function updateProps(a,r,c,u){const{props:l,attrs:d,vnode:{patchFlag:y}}=a,m=toRaw(l),[wr]=a.propsOptions;let Sr=!1;if((u||y>0)&&!(y&16)){if(y&8){const Ar=a.vnode.dynamicProps;for(let Ir=0;Ir<Ar.length;Ir++){let $r=Ar[Ir];if(isEmitListener(a.emitsOptions,$r))continue;const kr=r[$r];if(wr)if(hasOwn$1(d,$r))kr!==d[$r]&&(d[$r]=kr,Sr=!0);else{const Dr=camelize($r);l[Dr]=resolvePropValue(wr,m,Dr,kr,a,!1)}else kr!==d[$r]&&(d[$r]=kr,Sr=!0)}}}else{setFullProps(a,r,l,d)&&(Sr=!0);let Ar;for(const Ir in m)(!r||!hasOwn$1(r,Ir)&&((Ar=hyphenate(Ir))===Ir||!hasOwn$1(r,Ar)))&&(wr?c&&(c[Ir]!==void 0||c[Ar]!==void 0)&&(l[Ir]=resolvePropValue(wr,m,Ir,void 0,a,!0)):delete l[Ir]);if(d!==m)for(const Ir in d)(!r||!hasOwn$1(r,Ir)&&!0)&&(delete d[Ir],Sr=!0)}Sr&&trigger(a,"set","$attrs")}function setFullProps(a,r,c,u){const[l,d]=a.propsOptions;let y=!1,m;if(r)for(let wr in r){if(isReservedProp(wr))continue;const Sr=r[wr];let Ar;l&&hasOwn$1(l,Ar=camelize(wr))?!d||!d.includes(Ar)?c[Ar]=Sr:(m||(m={}))[Ar]=Sr:isEmitListener(a.emitsOptions,wr)||(!(wr in u)||Sr!==u[wr])&&(u[wr]=Sr,y=!0)}if(d){const wr=toRaw(c),Sr=m||EMPTY_OBJ;for(let Ar=0;Ar<d.length;Ar++){const Ir=d[Ar];c[Ir]=resolvePropValue(l,wr,Ir,Sr[Ir],a,!hasOwn$1(Sr,Ir))}}return y}function resolvePropValue(a,r,c,u,l,d){const y=a[c];if(y!=null){const m=hasOwn$1(y,"default");if(m&&u===void 0){const wr=y.default;if(y.type!==Function&&isFunction$2(wr)){const{propsDefaults:Sr}=l;c in Sr?u=Sr[c]:(setCurrentInstance(l),u=Sr[c]=wr.call(null,r),unsetCurrentInstance())}else u=wr}y[0]&&(d&&!m?u=!1:y[1]&&(u===""||u===hyphenate(c))&&(u=!0))}return u}function normalizePropsOptions(a,r,c=!1){const u=r.propsCache,l=u.get(a);if(l)return l;const d=a.props,y={},m=[];let wr=!1;if(!isFunction$2(a)){const Ar=Ir=>{wr=!0;const[$r,kr]=normalizePropsOptions(Ir,r,!0);extend(y,$r),kr&&m.push(...kr)};!c&&r.mixins.length&&r.mixins.forEach(Ar),a.extends&&Ar(a.extends),a.mixins&&a.mixins.forEach(Ar)}if(!d&&!wr)return isObject$3(a)&&u.set(a,EMPTY_ARR),EMPTY_ARR;if(isArray$2(d))for(let Ar=0;Ar<d.length;Ar++){const Ir=camelize(d[Ar]);validatePropName(Ir)&&(y[Ir]=EMPTY_OBJ)}else if(d)for(const Ar in d){const Ir=camelize(Ar);if(validatePropName(Ir)){const $r=d[Ar],kr=y[Ir]=isArray$2($r)||isFunction$2($r)?{type:$r}:$r;if(kr){const Dr=getTypeIndex(Boolean,kr.type),Cr=getTypeIndex(String,kr.type);kr[0]=Dr>-1,kr[1]=Cr<0||Dr<Cr,(Dr>-1||hasOwn$1(kr,"default"))&&m.push(Ir)}}}const Sr=[y,m];return isObject$3(a)&&u.set(a,Sr),Sr}function validatePropName(a){return a[0]!=="$"}function getType(a){const r=a&&a.toString().match(/^\s*function (\w+)/);return r?r[1]:a===null?"null":""}function isSameType(a,r){return getType(a)===getType(r)}function getTypeIndex(a,r){return isArray$2(r)?r.findIndex(c=>isSameType(c,a)):isFunction$2(r)&&isSameType(r,a)?0:-1}const isInternalKey=a=>a[0]==="_"||a==="$stable",normalizeSlotValue=a=>isArray$2(a)?a.map(normalizeVNode):[normalizeVNode(a)],normalizeSlot$1=(a,r,c)=>{if(r._n)return r;const u=withCtx((...l)=>normalizeSlotValue(r(...l)),c);return u._c=!1,u},normalizeObjectSlots=(a,r,c)=>{const u=a._ctx;for(const l in a){if(isInternalKey(l))continue;const d=a[l];if(isFunction$2(d))r[l]=normalizeSlot$1(l,d,u);else if(d!=null){const y=normalizeSlotValue(d);r[l]=()=>y}}},normalizeVNodeSlots=(a,r)=>{const c=normalizeSlotValue(r);a.slots.default=()=>c},initSlots=(a,r)=>{if(a.vnode.shapeFlag&32){const c=r._;c?(a.slots=toRaw(r),def(r,"_",c)):normalizeObjectSlots(r,a.slots={})}else a.slots={},r&&normalizeVNodeSlots(a,r);def(a.slots,InternalObjectKey,1)},updateSlots=(a,r,c)=>{const{vnode:u,slots:l}=a;let d=!0,y=EMPTY_OBJ;if(u.shapeFlag&32){const m=r._;m?c&&m===1?d=!1:(extend(l,r),!c&&m===1&&delete l._):(d=!r.$stable,normalizeObjectSlots(r,l)),y=r}else r&&(normalizeVNodeSlots(a,r),y={default:1});if(d)for(const m in l)!isInternalKey(m)&&!(m in y)&&delete l[m]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(a,r){return function(u,l=null){isFunction$2(u)||(u=Object.assign({},u)),l!=null&&!isObject$3(l)&&(l=null);const d=createAppContext(),y=new Set;let m=!1;const wr=d.app={_uid:uid++,_component:u,_props:l,_container:null,_context:d,_instance:null,version:version$1,get config(){return d.config},set config(Sr){},use(Sr,...Ar){return y.has(Sr)||(Sr&&isFunction$2(Sr.install)?(y.add(Sr),Sr.install(wr,...Ar)):isFunction$2(Sr)&&(y.add(Sr),Sr(wr,...Ar))),wr},mixin(Sr){return d.mixins.includes(Sr)||d.mixins.push(Sr),wr},component(Sr,Ar){return Ar?(d.components[Sr]=Ar,wr):d.components[Sr]},directive(Sr,Ar){return Ar?(d.directives[Sr]=Ar,wr):d.directives[Sr]},mount(Sr,Ar,Ir){if(!m){const $r=createVNode(u,l);return $r.appContext=d,Ar&&r?r($r,Sr):a($r,Sr,Ir),m=!0,wr._container=Sr,Sr.__vue_app__=wr,getExposeProxy($r.component)||$r.component.proxy}},unmount(){m&&(a(null,wr._container),delete wr._container.__vue_app__)},provide(Sr,Ar){return d.provides[Sr]=Ar,wr}};return wr}}function setRef(a,r,c,u,l=!1){if(isArray$2(a)){a.forEach(($r,kr)=>setRef($r,r&&(isArray$2(r)?r[kr]:r),c,u,l));return}if(isAsyncWrapper(u)&&!l)return;const d=u.shapeFlag&4?getExposeProxy(u.component)||u.component.proxy:u.el,y=l?null:d,{i:m,r:wr}=a,Sr=r&&r.r,Ar=m.refs===EMPTY_OBJ?m.refs={}:m.refs,Ir=m.setupState;if(Sr!=null&&Sr!==wr&&(isString$2(Sr)?(Ar[Sr]=null,hasOwn$1(Ir,Sr)&&(Ir[Sr]=null)):isRef(Sr)&&(Sr.value=null)),isFunction$2(wr))callWithErrorHandling(wr,m,12,[y,Ar]);else{const $r=isString$2(wr),kr=isRef(wr);if($r||kr){const Dr=()=>{if(a.f){const Cr=$r?Ar[wr]:wr.value;l?isArray$2(Cr)&&remove$1(Cr,d):isArray$2(Cr)?Cr.includes(d)||Cr.push(d):$r?(Ar[wr]=[d],hasOwn$1(Ir,wr)&&(Ir[wr]=Ar[wr])):(wr.value=[d],a.k&&(Ar[a.k]=wr.value))}else $r?(Ar[wr]=y,hasOwn$1(Ir,wr)&&(Ir[wr]=y)):kr&&(wr.value=y,a.k&&(Ar[a.k]=y))};y?(Dr.id=-1,queuePostRenderEffect(Dr,c)):Dr()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(a){return baseCreateRenderer(a)}function baseCreateRenderer(a,r){const c=getGlobalThis();c.__VUE__=!0;const{insert:u,remove:l,patchProp:d,createElement:y,createText:m,createComment:wr,setText:Sr,setElementText:Ar,parentNode:Ir,nextSibling:$r,setScopeId:kr=NOOP$1,cloneNode:Dr,insertStaticContent:Cr}=a,Br=(sn,ln,Sn,Bn=null,In=null,Ln=null,An=!1,Cn=null,Mn=!!ln.dynamicChildren)=>{if(sn===ln)return;sn&&!isSameVNodeType(sn,ln)&&(Bn=pn(sn),Ur(sn,In,Ln,!0),sn=null),ln.patchFlag===-2&&(Mn=!1,ln.dynamicChildren=null);const{type:cn,ref:yn,shapeFlag:xn}=ln;switch(cn){case Text:Fr(sn,ln,Sn,Bn);break;case Comment:qr(sn,ln,Sn,Bn);break;case Static:sn==null&&Vr(ln,Sn,Bn,An);break;case Fragment:Mr(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn);break;default:xn&1?Wr(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn):xn&6?xr(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn):(xn&64||xn&128)&&cn.process(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn,$n)}yn!=null&&In&&setRef(yn,sn&&sn.ref,Ln,ln||sn,!ln)},Fr=(sn,ln,Sn,Bn)=>{if(sn==null)u(ln.el=m(ln.children),Sn,Bn);else{const In=ln.el=sn.el;ln.children!==sn.children&&Sr(In,ln.children)}},qr=(sn,ln,Sn,Bn)=>{sn==null?u(ln.el=wr(ln.children||""),Sn,Bn):ln.el=sn.el},Vr=(sn,ln,Sn,Bn)=>{[sn.el,sn.anchor]=Cr(sn.children,ln,Sn,Bn,sn.el,sn.anchor)},Jr=({el:sn,anchor:ln},Sn,Bn)=>{let In;for(;sn&&sn!==ln;)In=$r(sn),u(sn,Sn,Bn),sn=In;u(ln,Sn,Bn)},Qr=({el:sn,anchor:ln})=>{let Sn;for(;sn&&sn!==ln;)Sn=$r(sn),l(sn),sn=Sn;l(ln)},Wr=(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn)=>{An=An||ln.type==="svg",sn==null?Zr(ln,Sn,Bn,In,Ln,An,Cn,Mn):an(sn,ln,In,Ln,An,Cn,Mn)},Zr=(sn,ln,Sn,Bn,In,Ln,An,Cn)=>{let Mn,cn;const{type:yn,props:xn,shapeFlag:Rn,transition:Nn,patchFlag:Er,dirs:_r}=sn;if(sn.el&&Dr!==void 0&&Er===-1)Mn=sn.el=Dr(sn.el);else{if(Mn=sn.el=y(sn.type,Ln,xn&&xn.is,xn),Rn&8?Ar(Mn,sn.children):Rn&16&&gn(sn.children,Mn,null,Bn,In,Ln&&yn!=="foreignObject",An,Cn),_r&&invokeDirectiveHook(sn,null,Bn,"created"),xn){for(const Tr in xn)Tr!=="value"&&!isReservedProp(Tr)&&d(Mn,Tr,null,xn[Tr],Ln,sn.children,Bn,In,dn);"value"in xn&&d(Mn,"value",null,xn.value),(cn=xn.onVnodeBeforeMount)&&invokeVNodeHook(cn,Bn,sn)}rn(Mn,sn,sn.scopeId,An,Bn)}_r&&invokeDirectiveHook(sn,null,Bn,"beforeMount");const br=(!In||In&&!In.pendingBranch)&&Nn&&!Nn.persisted;br&&Nn.beforeEnter(Mn),u(Mn,ln,Sn),((cn=xn&&xn.onVnodeMounted)||br||_r)&&queuePostRenderEffect(()=>{cn&&invokeVNodeHook(cn,Bn,sn),br&&Nn.enter(Mn),_r&&invokeDirectiveHook(sn,null,Bn,"mounted")},In)},rn=(sn,ln,Sn,Bn,In)=>{if(Sn&&kr(sn,Sn),Bn)for(let Ln=0;Ln<Bn.length;Ln++)kr(sn,Bn[Ln]);if(In){let Ln=In.subTree;if(ln===Ln){const An=In.vnode;rn(sn,An,An.scopeId,An.slotScopeIds,In.parent)}}},gn=(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn=0)=>{for(let cn=Mn;cn<sn.length;cn++){const yn=sn[cn]=Cn?cloneIfMounted(sn[cn]):normalizeVNode(sn[cn]);Br(null,yn,ln,Sn,Bn,In,Ln,An,Cn)}},an=(sn,ln,Sn,Bn,In,Ln,An)=>{const Cn=ln.el=sn.el;let{patchFlag:Mn,dynamicChildren:cn,dirs:yn}=ln;Mn|=sn.patchFlag&16;const xn=sn.props||EMPTY_OBJ,Rn=ln.props||EMPTY_OBJ;let Nn;Sn&&toggleRecurse(Sn,!1),(Nn=Rn.onVnodeBeforeUpdate)&&invokeVNodeHook(Nn,Sn,ln,sn),yn&&invokeDirectiveHook(ln,sn,Sn,"beforeUpdate"),Sn&&toggleRecurse(Sn,!0);const Er=In&&ln.type!=="foreignObject";if(cn?fn(sn.dynamicChildren,cn,Cn,Sn,Bn,Er,Ln):An||un(sn,ln,Cn,null,Sn,Bn,Er,Ln,!1),Mn>0){if(Mn&16)mn(Cn,ln,xn,Rn,Sn,Bn,In);else if(Mn&2&&xn.class!==Rn.class&&d(Cn,"class",null,Rn.class,In),Mn&4&&d(Cn,"style",xn.style,Rn.style,In),Mn&8){const _r=ln.dynamicProps;for(let br=0;br<_r.length;br++){const Tr=_r[br],Lr=xn[Tr],zr=Rn[Tr];(zr!==Lr||Tr==="value")&&d(Cn,Tr,Lr,zr,In,sn.children,Sn,Bn,dn)}}Mn&1&&sn.children!==ln.children&&Ar(Cn,ln.children)}else!An&&cn==null&&mn(Cn,ln,xn,Rn,Sn,Bn,In);((Nn=Rn.onVnodeUpdated)||yn)&&queuePostRenderEffect(()=>{Nn&&invokeVNodeHook(Nn,Sn,ln,sn),yn&&invokeDirectiveHook(ln,sn,Sn,"updated")},Bn)},fn=(sn,ln,Sn,Bn,In,Ln,An)=>{for(let Cn=0;Cn<ln.length;Cn++){const Mn=sn[Cn],cn=ln[Cn],yn=Mn.el&&(Mn.type===Fragment||!isSameVNodeType(Mn,cn)||Mn.shapeFlag&70)?Ir(Mn.el):Sn;Br(Mn,cn,yn,null,Bn,In,Ln,An,!0)}},mn=(sn,ln,Sn,Bn,In,Ln,An)=>{if(Sn!==Bn){for(const Cn in Bn){if(isReservedProp(Cn))continue;const Mn=Bn[Cn],cn=Sn[Cn];Mn!==cn&&Cn!=="value"&&d(sn,Cn,cn,Mn,An,ln.children,In,Ln,dn)}if(Sn!==EMPTY_OBJ)for(const Cn in Sn)!isReservedProp(Cn)&&!(Cn in Bn)&&d(sn,Cn,Sn[Cn],null,An,ln.children,In,Ln,dn);"value"in Bn&&d(sn,"value",Sn.value,Bn.value)}},Mr=(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn)=>{const cn=ln.el=sn?sn.el:m(""),yn=ln.anchor=sn?sn.anchor:m("");let{patchFlag:xn,dynamicChildren:Rn,slotScopeIds:Nn}=ln;Nn&&(Cn=Cn?Cn.concat(Nn):Nn),sn==null?(u(cn,Sn,Bn),u(yn,Sn,Bn),gn(ln.children,Sn,yn,In,Ln,An,Cn,Mn)):xn>0&&xn&64&&Rn&&sn.dynamicChildren?(fn(sn.dynamicChildren,Rn,Sn,In,Ln,An,Cn),(ln.key!=null||In&&ln===In.subTree)&&traverseStaticChildren(sn,ln,!0)):un(sn,ln,Sn,yn,In,Ln,An,Cn,Mn)},xr=(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn)=>{ln.slotScopeIds=Cn,sn==null?ln.shapeFlag&512?In.ctx.activate(ln,Sn,Bn,An,Mn):Pr(ln,Sn,Bn,In,Ln,An,Mn):Kr(sn,ln,Mn)},Pr=(sn,ln,Sn,Bn,In,Ln,An)=>{const Cn=sn.component=createComponentInstance(sn,Bn,In);if(isKeepAlive(sn)&&(Cn.ctx.renderer=$n),setupComponent(Cn),Cn.asyncDep){if(In&&In.registerDep(Cn,Hr),!sn.el){const Mn=Cn.subTree=createVNode(Comment);qr(null,Mn,ln,Sn)}return}Hr(Cn,sn,ln,Sn,In,Ln,An)},Kr=(sn,ln,Sn)=>{const Bn=ln.component=sn.component;if(shouldUpdateComponent(sn,ln,Sn))if(Bn.asyncDep&&!Bn.asyncResolved){Gr(Bn,ln,Sn);return}else Bn.next=ln,invalidateJob(Bn.update),Bn.update();else ln.el=sn.el,Bn.vnode=ln},Hr=(sn,ln,Sn,Bn,In,Ln,An)=>{const Cn=()=>{if(sn.isMounted){let{next:yn,bu:xn,u:Rn,parent:Nn,vnode:Er}=sn,_r=yn,br;toggleRecurse(sn,!1),yn?(yn.el=Er.el,Gr(sn,yn,An)):yn=Er,xn&&invokeArrayFns(xn),(br=yn.props&&yn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(br,Nn,yn,Er),toggleRecurse(sn,!0);const Tr=renderComponentRoot(sn),Lr=sn.subTree;sn.subTree=Tr,Br(Lr,Tr,Ir(Lr.el),pn(Lr),sn,In,Ln),yn.el=Tr.el,_r===null&&updateHOCHostEl(sn,Tr.el),Rn&&queuePostRenderEffect(Rn,In),(br=yn.props&&yn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(br,Nn,yn,Er),In)}else{let yn;const{el:xn,props:Rn}=ln,{bm:Nn,m:Er,parent:_r}=sn,br=isAsyncWrapper(ln);if(toggleRecurse(sn,!1),Nn&&invokeArrayFns(Nn),!br&&(yn=Rn&&Rn.onVnodeBeforeMount)&&invokeVNodeHook(yn,_r,ln),toggleRecurse(sn,!0),xn&&kn){const Tr=()=>{sn.subTree=renderComponentRoot(sn),kn(xn,sn.subTree,sn,In,null)};br?ln.type.__asyncLoader().then(()=>!sn.isUnmounted&&Tr()):Tr()}else{const Tr=sn.subTree=renderComponentRoot(sn);Br(null,Tr,Sn,Bn,sn,In,Ln),ln.el=Tr.el}if(Er&&queuePostRenderEffect(Er,In),!br&&(yn=Rn&&Rn.onVnodeMounted)){const Tr=ln;queuePostRenderEffect(()=>invokeVNodeHook(yn,_r,Tr),In)}(ln.shapeFlag&256||_r&&isAsyncWrapper(_r.vnode)&&_r.vnode.shapeFlag&256)&&sn.a&&queuePostRenderEffect(sn.a,In),sn.isMounted=!0,ln=Sn=Bn=null}},Mn=sn.effect=new ReactiveEffect(Cn,()=>queueJob(cn),sn.scope),cn=sn.update=()=>Mn.run();cn.id=sn.uid,toggleRecurse(sn,!0),cn()},Gr=(sn,ln,Sn)=>{ln.component=sn;const Bn=sn.vnode.props;sn.vnode=ln,sn.next=null,updateProps(sn,ln.props,Bn,Sn),updateSlots(sn,ln.children,Sn),pauseTracking(),flushPreFlushCbs(),resetTracking()},un=(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn=!1)=>{const cn=sn&&sn.children,yn=sn?sn.shapeFlag:0,xn=ln.children,{patchFlag:Rn,shapeFlag:Nn}=ln;if(Rn>0){if(Rn&128){jr(cn,xn,Sn,Bn,In,Ln,An,Cn,Mn);return}else if(Rn&256){wn(cn,xn,Sn,Bn,In,Ln,An,Cn,Mn);return}}Nn&8?(yn&16&&dn(cn,In,Ln),xn!==cn&&Ar(Sn,xn)):yn&16?Nn&16?jr(cn,xn,Sn,Bn,In,Ln,An,Cn,Mn):dn(cn,In,Ln,!0):(yn&8&&Ar(Sn,""),Nn&16&&gn(xn,Sn,Bn,In,Ln,An,Cn,Mn))},wn=(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn)=>{sn=sn||EMPTY_ARR,ln=ln||EMPTY_ARR;const cn=sn.length,yn=ln.length,xn=Math.min(cn,yn);let Rn;for(Rn=0;Rn<xn;Rn++){const Nn=ln[Rn]=Mn?cloneIfMounted(ln[Rn]):normalizeVNode(ln[Rn]);Br(sn[Rn],Nn,Sn,null,In,Ln,An,Cn,Mn)}cn>yn?dn(sn,In,Ln,!0,!1,xn):gn(ln,Sn,Bn,In,Ln,An,Cn,Mn,xn)},jr=(sn,ln,Sn,Bn,In,Ln,An,Cn,Mn)=>{let cn=0;const yn=ln.length;let xn=sn.length-1,Rn=yn-1;for(;cn<=xn&&cn<=Rn;){const Nn=sn[cn],Er=ln[cn]=Mn?cloneIfMounted(ln[cn]):normalizeVNode(ln[cn]);if(isSameVNodeType(Nn,Er))Br(Nn,Er,Sn,null,In,Ln,An,Cn,Mn);else break;cn++}for(;cn<=xn&&cn<=Rn;){const Nn=sn[xn],Er=ln[Rn]=Mn?cloneIfMounted(ln[Rn]):normalizeVNode(ln[Rn]);if(isSameVNodeType(Nn,Er))Br(Nn,Er,Sn,null,In,Ln,An,Cn,Mn);else break;xn--,Rn--}if(cn>xn){if(cn<=Rn){const Nn=Rn+1,Er=Nn<yn?ln[Nn].el:Bn;for(;cn<=Rn;)Br(null,ln[cn]=Mn?cloneIfMounted(ln[cn]):normalizeVNode(ln[cn]),Sn,Er,In,Ln,An,Cn,Mn),cn++}}else if(cn>Rn)for(;cn<=xn;)Ur(sn[cn],In,Ln,!0),cn++;else{const Nn=cn,Er=cn,_r=new Map;for(cn=Er;cn<=Rn;cn++){const Fn=ln[cn]=Mn?cloneIfMounted(ln[cn]):normalizeVNode(ln[cn]);Fn.key!=null&&_r.set(Fn.key,cn)}let br,Tr=0;const Lr=Rn-Er+1;let zr=!1,Xr=0;const Dn=new Array(Lr);for(cn=0;cn<Lr;cn++)Dn[cn]=0;for(cn=Nn;cn<=xn;cn++){const Fn=sn[cn];if(Tr>=Lr){Ur(Fn,In,Ln,!0);continue}let Wn;if(Fn.key!=null)Wn=_r.get(Fn.key);else for(br=Er;br<=Rn;br++)if(Dn[br-Er]===0&&isSameVNodeType(Fn,ln[br])){Wn=br;break}Wn===void 0?Ur(Fn,In,Ln,!0):(Dn[Wn-Er]=cn+1,Wn>=Xr?Xr=Wn:zr=!0,Br(Fn,ln[Wn],Sn,null,In,Ln,An,Cn,Mn),Tr++)}const Vn=zr?getSequence(Dn):EMPTY_ARR;for(br=Vn.length-1,cn=Lr-1;cn>=0;cn--){const Fn=Er+cn,Wn=ln[Fn],Hn=Fn+1<yn?ln[Fn+1].el:Bn;Dn[cn]===0?Br(null,Wn,Sn,Hn,In,Ln,An,Cn,Mn):zr&&(br<0||cn!==Vn[br]?Rr(Wn,Sn,Hn,2):br--)}}},Rr=(sn,ln,Sn,Bn,In=null)=>{const{el:Ln,type:An,transition:Cn,children:Mn,shapeFlag:cn}=sn;if(cn&6){Rr(sn.component.subTree,ln,Sn,Bn);return}if(cn&128){sn.suspense.move(ln,Sn,Bn);return}if(cn&64){An.move(sn,ln,Sn,$n);return}if(An===Fragment){u(Ln,ln,Sn);for(let xn=0;xn<Mn.length;xn++)Rr(Mn[xn],ln,Sn,Bn);u(sn.anchor,ln,Sn);return}if(An===Static){Jr(sn,ln,Sn);return}if(Bn!==2&&cn&1&&Cn)if(Bn===0)Cn.beforeEnter(Ln),u(Ln,ln,Sn),queuePostRenderEffect(()=>Cn.enter(Ln),In);else{const{leave:xn,delayLeave:Rn,afterLeave:Nn}=Cn,Er=()=>u(Ln,ln,Sn),_r=()=>{xn(Ln,()=>{Er(),Nn&&Nn()})};Rn?Rn(Ln,Er,_r):_r()}else u(Ln,ln,Sn)},Ur=(sn,ln,Sn,Bn=!1,In=!1)=>{const{type:Ln,props:An,ref:Cn,children:Mn,dynamicChildren:cn,shapeFlag:yn,patchFlag:xn,dirs:Rn}=sn;if(Cn!=null&&setRef(Cn,null,Sn,sn,!0),yn&256){ln.ctx.deactivate(sn);return}const Nn=yn&1&&Rn,Er=!isAsyncWrapper(sn);let _r;if(Er&&(_r=An&&An.onVnodeBeforeUnmount)&&invokeVNodeHook(_r,ln,sn),yn&6)tn(sn.component,Sn,Bn);else{if(yn&128){sn.suspense.unmount(Sn,Bn);return}Nn&&invokeDirectiveHook(sn,null,ln,"beforeUnmount"),yn&64?sn.type.remove(sn,ln,Sn,In,$n,Bn):cn&&(Ln!==Fragment||xn>0&&xn&64)?dn(cn,ln,Sn,!1,!0):(Ln===Fragment&&xn&384||!In&&yn&16)&&dn(Mn,ln,Sn),Bn&&hn(sn)}(Er&&(_r=An&&An.onVnodeUnmounted)||Nn)&&queuePostRenderEffect(()=>{_r&&invokeVNodeHook(_r,ln,sn),Nn&&invokeDirectiveHook(sn,null,ln,"unmounted")},Sn)},hn=sn=>{const{type:ln,el:Sn,anchor:Bn,transition:In}=sn;if(ln===Fragment){en(Sn,Bn);return}if(ln===Static){Qr(sn);return}const Ln=()=>{l(Sn),In&&!In.persisted&&In.afterLeave&&In.afterLeave()};if(sn.shapeFlag&1&&In&&!In.persisted){const{leave:An,delayLeave:Cn}=In,Mn=()=>An(Sn,Ln);Cn?Cn(sn.el,Ln,Mn):Mn()}else Ln()},en=(sn,ln)=>{let Sn;for(;sn!==ln;)Sn=$r(sn),l(sn),sn=Sn;l(ln)},tn=(sn,ln,Sn)=>{const{bum:Bn,scope:In,update:Ln,subTree:An,um:Cn}=sn;Bn&&invokeArrayFns(Bn),In.stop(),Ln&&(Ln.active=!1,Ur(An,sn,ln,Sn)),Cn&&queuePostRenderEffect(Cn,ln),queuePostRenderEffect(()=>{sn.isUnmounted=!0},ln),ln&&ln.pendingBranch&&!ln.isUnmounted&&sn.asyncDep&&!sn.asyncResolved&&sn.suspenseId===ln.pendingId&&(ln.deps--,ln.deps===0&&ln.resolve())},dn=(sn,ln,Sn,Bn=!1,In=!1,Ln=0)=>{for(let An=Ln;An<sn.length;An++)Ur(sn[An],ln,Sn,Bn,In)},pn=sn=>sn.shapeFlag&6?pn(sn.component.subTree):sn.shapeFlag&128?sn.suspense.next():$r(sn.anchor||sn.el),vn=(sn,ln,Sn)=>{sn==null?ln._vnode&&Ur(ln._vnode,null,null,!0):Br(ln._vnode||null,sn,ln,null,null,null,Sn),flushPreFlushCbs(),flushPostFlushCbs(),ln._vnode=sn},$n={p:Br,um:Ur,m:Rr,r:hn,mt:Pr,mc:gn,pc:un,pbc:fn,n:pn,o:a};let Pn,kn;return r&&([Pn,kn]=r($n)),{render:vn,hydrate:Pn,createApp:createAppAPI(vn,Pn)}}function toggleRecurse({effect:a,update:r},c){a.allowRecurse=r.allowRecurse=c}function traverseStaticChildren(a,r,c=!1){const u=a.children,l=r.children;if(isArray$2(u)&&isArray$2(l))for(let d=0;d<u.length;d++){const y=u[d];let m=l[d];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=l[d]=cloneIfMounted(l[d]),m.el=y.el),c||traverseStaticChildren(y,m))}}function getSequence(a){const r=a.slice(),c=[0];let u,l,d,y,m;const wr=a.length;for(u=0;u<wr;u++){const Sr=a[u];if(Sr!==0){if(l=c[c.length-1],a[l]<Sr){r[u]=l,c.push(u);continue}for(d=0,y=c.length-1;d<y;)m=d+y>>1,a[c[m]]<Sr?d=m+1:y=m;Sr<a[c[d]]&&(d>0&&(r[u]=c[d-1]),c[d]=u)}}for(d=c.length,y=c[d-1];d-- >0;)c[d]=y,y=r[y];return c}const isTeleport=a=>a.__isTeleport,isTeleportDisabled=a=>a&&(a.disabled||a.disabled===""),isTargetSVG=a=>typeof SVGElement<"u"&&a instanceof SVGElement,resolveTarget=(a,r)=>{const c=a&&a.to;return isString$2(c)?r?r(c):null:c},TeleportImpl={__isTeleport:!0,process(a,r,c,u,l,d,y,m,wr,Sr){const{mc:Ar,pc:Ir,pbc:$r,o:{insert:kr,querySelector:Dr,createText:Cr,createComment:Br}}=Sr,Fr=isTeleportDisabled(r.props);let{shapeFlag:qr,children:Vr,dynamicChildren:Jr}=r;if(a==null){const Qr=r.el=Cr(""),Wr=r.anchor=Cr("");kr(Qr,c,u),kr(Wr,c,u);const Zr=r.target=resolveTarget(r.props,Dr),rn=r.targetAnchor=Cr("");Zr&&(kr(rn,Zr),y=y||isTargetSVG(Zr));const gn=(an,fn)=>{qr&16&&Ar(Vr,an,fn,l,d,y,m,wr)};Fr?gn(c,Wr):Zr&&gn(Zr,rn)}else{r.el=a.el;const Qr=r.anchor=a.anchor,Wr=r.target=a.target,Zr=r.targetAnchor=a.targetAnchor,rn=isTeleportDisabled(a.props),gn=rn?c:Wr,an=rn?Qr:Zr;if(y=y||isTargetSVG(Wr),Jr?($r(a.dynamicChildren,Jr,gn,l,d,y,m),traverseStaticChildren(a,r,!0)):wr||Ir(a,r,gn,an,l,d,y,m,!1),Fr)rn||moveTeleport(r,c,Qr,Sr,1);else if((r.props&&r.props.to)!==(a.props&&a.props.to)){const fn=r.target=resolveTarget(r.props,Dr);fn&&moveTeleport(r,fn,null,Sr,0)}else rn&&moveTeleport(r,Wr,Zr,Sr,1)}},remove(a,r,c,u,{um:l,o:{remove:d}},y){const{shapeFlag:m,children:wr,anchor:Sr,targetAnchor:Ar,target:Ir,props:$r}=a;if(Ir&&d(Ar),(y||!isTeleportDisabled($r))&&(d(Sr),m&16))for(let kr=0;kr<wr.length;kr++){const Dr=wr[kr];l(Dr,r,c,!0,!!Dr.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(a,r,c,{o:{insert:u},m:l},d=2){d===0&&u(a.targetAnchor,r,c);const{el:y,anchor:m,shapeFlag:wr,children:Sr,props:Ar}=a,Ir=d===2;if(Ir&&u(y,r,c),(!Ir||isTeleportDisabled(Ar))&&wr&16)for(let $r=0;$r<Sr.length;$r++)l(Sr[$r],r,c,2);Ir&&u(m,r,c)}function hydrateTeleport(a,r,c,u,l,d,{o:{nextSibling:y,parentNode:m,querySelector:wr}},Sr){const Ar=r.target=resolveTarget(r.props,wr);if(Ar){const Ir=Ar._lpa||Ar.firstChild;if(r.shapeFlag&16)if(isTeleportDisabled(r.props))r.anchor=Sr(y(a),r,m(a),c,u,l,d),r.targetAnchor=Ir;else{r.anchor=y(a);let $r=Ir;for(;$r;)if($r=y($r),$r&&$r.nodeType===8&&$r.data==="teleport anchor"){r.targetAnchor=$r,Ar._lpa=r.targetAnchor&&y(r.targetAnchor);break}Sr(Ir,r,Ar,c,u,l,d)}}return r.anchor&&y(r.anchor)}const Teleport=TeleportImpl,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(a=!1){blockStack.push(currentBlock=a?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(a){isBlockTreeEnabled+=a}function setupBlock(a){return a.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(a),a}function createElementBlock(a,r,c,u,l,d){return setupBlock(createBaseVNode(a,r,c,u,l,d,!0))}function createBlock(a,r,c,u,l){return setupBlock(createVNode(a,r,c,u,l,!0))}function isVNode(a){return a?a.__v_isVNode===!0:!1}function isSameVNodeType(a,r){return a.type===r.type&&a.key===r.key}const InternalObjectKey="__vInternal",normalizeKey=({key:a})=>a??null,normalizeRef=({ref:a,ref_key:r,ref_for:c})=>a!=null?isString$2(a)||isRef(a)||isFunction$2(a)?{i:currentRenderingInstance,r:a,k:r,f:!!c}:a:null;function createBaseVNode(a,r=null,c=null,u=0,l=null,d=a===Fragment?0:1,y=!1,m=!1){const wr={__v_isVNode:!0,__v_skip:!0,type:a,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:u,dynamicProps:l,dynamicChildren:null,appContext:null};return m?(normalizeChildren(wr,c),d&128&&a.normalize(wr)):c&&(wr.shapeFlag|=isString$2(c)?8:16),isBlockTreeEnabled>0&&!y&&currentBlock&&(wr.patchFlag>0||d&6)&&wr.patchFlag!==32&&currentBlock.push(wr),wr}const createVNode=_createVNode;function _createVNode(a,r=null,c=null,u=0,l=null,d=!1){if((!a||a===NULL_DYNAMIC_COMPONENT)&&(a=Comment),isVNode(a)){const m=cloneVNode(a,r,!0);return c&&normalizeChildren(m,c),isBlockTreeEnabled>0&&!d&&currentBlock&&(m.shapeFlag&6?currentBlock[currentBlock.indexOf(a)]=m:currentBlock.push(m)),m.patchFlag|=-2,m}if(isClassComponent(a)&&(a=a.__vccOpts),r){r=guardReactiveProps(r);let{class:m,style:wr}=r;m&&!isString$2(m)&&(r.class=normalizeClass(m)),isObject$3(wr)&&(isProxy(wr)&&!isArray$2(wr)&&(wr=extend({},wr)),r.style=normalizeStyle(wr))}const y=isString$2(a)?1:isSuspense(a)?128:isTeleport(a)?64:isObject$3(a)?4:isFunction$2(a)?2:0;return createBaseVNode(a,r,c,u,l,y,d,!0)}function guardReactiveProps(a){return a?isProxy(a)||InternalObjectKey in a?extend({},a):a:null}function cloneVNode(a,r,c=!1){const{props:u,ref:l,patchFlag:d,children:y}=a,m=r?mergeProps(u||{},r):u;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:m,key:m&&normalizeKey(m),ref:r&&r.ref?c&&l?isArray$2(l)?l.concat(normalizeRef(r)):[l,normalizeRef(r)]:normalizeRef(r):l,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:y,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:r&&a.type!==Fragment?d===-1?16:d|16:d,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&cloneVNode(a.ssContent),ssFallback:a.ssFallback&&cloneVNode(a.ssFallback),el:a.el,anchor:a.anchor}}function createTextVNode(a=" ",r=0){return createVNode(Text,null,a,r)}function createCommentVNode(a="",r=!1){return r?(openBlock(),createBlock(Comment,null,a)):createVNode(Comment,null,a)}function normalizeVNode(a){return a==null||typeof a=="boolean"?createVNode(Comment):isArray$2(a)?createVNode(Fragment,null,a.slice()):typeof a=="object"?cloneIfMounted(a):createVNode(Text,null,String(a))}function cloneIfMounted(a){return a.el===null||a.memo?a:cloneVNode(a)}function normalizeChildren(a,r){let c=0;const{shapeFlag:u}=a;if(r==null)r=null;else if(isArray$2(r))c=16;else if(typeof r=="object")if(u&65){const l=r.default;l&&(l._c&&(l._d=!1),normalizeChildren(a,l()),l._c&&(l._d=!0));return}else{c=32;const l=r._;!l&&!(InternalObjectKey in r)?r._ctx=currentRenderingInstance:l===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?r._=1:(r._=2,a.patchFlag|=1024))}else isFunction$2(r)?(r={default:r,_ctx:currentRenderingInstance},c=32):(r=String(r),u&64?(c=16,r=[createTextVNode(r)]):c=8);a.children=r,a.shapeFlag|=c}function mergeProps(...a){const r={};for(let c=0;c<a.length;c++){const u=a[c];for(const l in u)if(l==="class")r.class!==u.class&&(r.class=normalizeClass([r.class,u.class]));else if(l==="style")r.style=normalizeStyle([r.style,u.style]);else if(isOn(l)){const d=r[l],y=u[l];y&&d!==y&&!(isArray$2(d)&&d.includes(y))&&(r[l]=d?[].concat(d,y):y)}else l!==""&&(r[l]=u[l])}return r}function invokeVNodeHook(a,r,c,u=null){callWithAsyncErrorHandling(a,r,7,[c,u])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(a,r,c){const u=a.type,l=(r?r.appContext:a.appContext)||emptyAppContext,d={uid:uid$1++,vnode:a,type:u,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(u,l),emitsOptions:normalizeEmitsOptions(u,l),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:u.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=r?r.root:d,d.emit=emit$1.bind(null,d),a.ce&&a.ce(d),d}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=a=>{currentInstance=a,a.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(a){return a.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(a,r=!1){isInSSRComponentSetup=r;const{props:c,children:u}=a.vnode,l=isStatefulComponent(a);initProps(a,c,l,r),initSlots(a,u);const d=l?setupStatefulComponent(a,r):void 0;return isInSSRComponentSetup=!1,d}function setupStatefulComponent(a,r){const c=a.type;a.accessCache=Object.create(null),a.proxy=markRaw(new Proxy(a.ctx,PublicInstanceProxyHandlers));const{setup:u}=c;if(u){const l=a.setupContext=u.length>1?createSetupContext(a):null;setCurrentInstance(a),pauseTracking();const d=callWithErrorHandling(u,a,0,[a.props,l]);if(resetTracking(),unsetCurrentInstance(),isPromise(d)){if(d.then(unsetCurrentInstance,unsetCurrentInstance),r)return d.then(y=>{handleSetupResult(a,y,r)}).catch(y=>{handleError(y,a,0)});a.asyncDep=d}else handleSetupResult(a,d,r)}else finishComponentSetup(a,r)}function handleSetupResult(a,r,c){isFunction$2(r)?a.type.__ssrInlineRender?a.ssrRender=r:a.render=r:isObject$3(r)&&(a.setupState=proxyRefs(r)),finishComponentSetup(a,c)}let compile;function finishComponentSetup(a,r,c){const u=a.type;if(!a.render){if(!r&&compile&&!u.render){const l=u.template||resolveMergedOptions(a).template;if(l){const{isCustomElement:d,compilerOptions:y}=a.appContext.config,{delimiters:m,compilerOptions:wr}=u,Sr=extend(extend({isCustomElement:d,delimiters:m},y),wr);u.render=compile(l,Sr)}}a.render=u.render||NOOP$1}setCurrentInstance(a),pauseTracking(),applyOptions(a),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(a){return new Proxy(a.attrs,{get(r,c){return track(a,"get","$attrs"),r[c]}})}function createSetupContext(a){const r=u=>{a.exposed=u||{}};let c;return{get attrs(){return c||(c=createAttrsProxy(a))},slots:a.slots,emit:a.emit,expose:r}}function getExposeProxy(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(proxyRefs(markRaw(a.exposed)),{get(r,c){if(c in r)return r[c];if(c in publicPropertiesMap)return publicPropertiesMap[c](a)}}))}function getComponentName(a,r=!0){return isFunction$2(a)?a.displayName||a.name:a.name||r&&a.__name}function isClassComponent(a){return isFunction$2(a)&&"__vccOpts"in a}const computed$1=(a,r)=>computed$2(a,r,isInSSRComponentSetup);function h(a,r,c){const u=arguments.length;return u===2?isObject$3(r)&&!isArray$2(r)?isVNode(r)?createVNode(a,null,[r]):createVNode(a,r):createVNode(a,null,r):(u>3?c=Array.prototype.slice.call(arguments,2):u===3&&isVNode(c)&&(c=[c]),createVNode(a,r,c))}const version$1="3.2.39",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(a,r,c)=>{r.insertBefore(a,c||null)},remove:a=>{const r=a.parentNode;r&&r.removeChild(a)},createElement:(a,r,c,u)=>{const l=r?doc.createElementNS(svgNS,a):doc.createElement(a,c?{is:c}:void 0);return a==="select"&&u&&u.multiple!=null&&l.setAttribute("multiple",u.multiple),l},createText:a=>doc.createTextNode(a),createComment:a=>doc.createComment(a),setText:(a,r)=>{a.nodeValue=r},setElementText:(a,r)=>{a.textContent=r},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>doc.querySelector(a),setScopeId(a,r){a.setAttribute(r,"")},cloneNode(a){const r=a.cloneNode(!0);return"_value"in a&&(r._value=a._value),r},insertStaticContent(a,r,c,u,l,d){const y=c?c.previousSibling:r.lastChild;if(l&&(l===d||l.nextSibling))for(;r.insertBefore(l.cloneNode(!0),c),!(l===d||!(l=l.nextSibling)););else{templateContainer.innerHTML=u?`<svg>${a}</svg>`:a;const m=templateContainer.content;if(u){const wr=m.firstChild;for(;wr.firstChild;)m.appendChild(wr.firstChild);m.removeChild(wr)}r.insertBefore(m,c)}return[y?y.nextSibling:r.firstChild,c?c.previousSibling:r.lastChild]}};function patchClass(a,r,c){const u=a._vtc;u&&(r=(r?[r,...u]:[...u]).join(" ")),r==null?a.removeAttribute("class"):c?a.setAttribute("class",r):a.className=r}function patchStyle(a,r,c){const u=a.style,l=isString$2(c);if(c&&!l){for(const d in c)setStyle(u,d,c[d]);if(r&&!isString$2(r))for(const d in r)c[d]==null&&setStyle(u,d,"")}else{const d=u.display;l?r!==c&&(u.cssText=c):r&&a.removeAttribute("style"),"_vod"in a&&(u.display=d)}}const importantRE=/\s*!important$/;function setStyle(a,r,c){if(isArray$2(c))c.forEach(u=>setStyle(a,r,u));else if(c==null&&(c=""),r.startsWith("--"))a.setProperty(r,c);else{const u=autoPrefix(a,r);importantRE.test(c)?a.setProperty(hyphenate(u),c.replace(importantRE,""),"important"):a[u]=c}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(a,r){const c=prefixCache[r];if(c)return c;let u=camelize(r);if(u!=="filter"&&u in a)return prefixCache[r]=u;u=capitalize(u);for(let l=0;l<prefixes.length;l++){const d=prefixes[l]+u;if(d in a)return prefixCache[r]=d}return r}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(a,r,c,u,l){if(u&&r.startsWith("xlink:"))c==null?a.removeAttributeNS(xlinkNS,r.slice(6,r.length)):a.setAttributeNS(xlinkNS,r,c);else{const d=isSpecialBooleanAttr(r);c==null||d&&!includeBooleanAttr(c)?a.removeAttribute(r):a.setAttribute(r,d?"":c)}}function patchDOMProp(a,r,c,u,l,d,y){if(r==="innerHTML"||r==="textContent"){u&&y(u,l,d),a[r]=c??"";return}if(r==="value"&&a.tagName!=="PROGRESS"&&!a.tagName.includes("-")){a._value=c;const wr=c??"";(a.value!==wr||a.tagName==="OPTION")&&(a.value=wr),c==null&&a.removeAttribute(r);return}let m=!1;if(c===""||c==null){const wr=typeof a[r];wr==="boolean"?c=includeBooleanAttr(c):c==null&&wr==="string"?(c="",m=!0):wr==="number"&&(c=0,m=!0)}try{a[r]=c}catch{}m&&a.removeAttribute(r)}const[_getNow,skipTimestampCheck]=(()=>{let a=Date.now,r=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(a=performance.now.bind(performance));const c=navigator.userAgent.match(/firefox\/(\d+)/i);r=!!(c&&Number(c[1])<=53)}return[a,r]})();let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener(a,r,c,u){a.addEventListener(r,c,u)}function removeEventListener(a,r,c,u){a.removeEventListener(r,c,u)}function patchEvent(a,r,c,u,l=null){const d=a._vei||(a._vei={}),y=d[r];if(u&&y)y.value=u;else{const[m,wr]=parseName(r);if(u){const Sr=d[r]=createInvoker(u,l);addEventListener(a,m,Sr,wr)}else y&&(removeEventListener(a,m,y,wr),d[r]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(a){let r;if(optionsModifierRE.test(a)){r={};let u;for(;u=a.match(optionsModifierRE);)a=a.slice(0,a.length-u[0].length),r[u[0].toLowerCase()]=!0}return[a[2]===":"?a.slice(3):hyphenate(a.slice(2)),r]}function createInvoker(a,r){const c=u=>{const l=u.timeStamp||_getNow();(skipTimestampCheck||l>=c.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(u,c.value),r,5,[u])};return c.value=a,c.attached=getNow(),c}function patchStopImmediatePropagation(a,r){if(isArray$2(r)){const c=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{c.call(a),a._stopped=!0},r.map(u=>l=>!l._stopped&&u&&u(l))}else return r}const nativeOnRE=/^on[a-z]/,patchProp=(a,r,c,u,l=!1,d,y,m,wr)=>{r==="class"?patchClass(a,u,l):r==="style"?patchStyle(a,c,u):isOn(r)?isModelListener(r)||patchEvent(a,r,c,u,y):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):shouldSetAsProp(a,r,u,l))?patchDOMProp(a,r,u,d,y,m,wr):(r==="true-value"?a._trueValue=u:r==="false-value"&&(a._falseValue=u),patchAttr(a,r,u,l))};function shouldSetAsProp(a,r,c,u){return u?!!(r==="innerHTML"||r==="textContent"||r in a&&nativeOnRE.test(r)&&isFunction$2(c)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&a.tagName==="INPUT"||r==="type"&&a.tagName==="TEXTAREA"||nativeOnRE.test(r)&&isString$2(c)?!1:r in a}const getModelAssigner=a=>{const r=a.props["onUpdate:modelValue"]||!1;return isArray$2(r)?c=>invokeArrayFns(r,c):r},vModelSelect={deep:!0,created(a,{value:r,modifiers:{number:c}},u){const l=isSet(r);addEventListener(a,"change",()=>{const d=Array.prototype.filter.call(a.options,y=>y.selected).map(y=>c?toNumber(getValue(y)):getValue(y));a._assign(a.multiple?l?new Set(d):d:d[0])}),a._assign=getModelAssigner(u)},mounted(a,{value:r}){setSelected(a,r)},beforeUpdate(a,r,c){a._assign=getModelAssigner(c)},updated(a,{value:r}){setSelected(a,r)}};function setSelected(a,r){const c=a.multiple;if(!(c&&!isArray$2(r)&&!isSet(r))){for(let u=0,l=a.options.length;u<l;u++){const d=a.options[u],y=getValue(d);if(c)isArray$2(r)?d.selected=looseIndexOf(r,y)>-1:d.selected=r.has(y);else if(looseEqual(getValue(d),r)){a.selectedIndex!==u&&(a.selectedIndex=u);return}}!c&&a.selectedIndex!==-1&&(a.selectedIndex=-1)}}function getValue(a){return"_value"in a?a._value:a.value}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:a=>a.stopPropagation(),prevent:a=>a.preventDefault(),self:a=>a.target!==a.currentTarget,ctrl:a=>!a.ctrlKey,shift:a=>!a.shiftKey,alt:a=>!a.altKey,meta:a=>!a.metaKey,left:a=>"button"in a&&a.button!==0,middle:a=>"button"in a&&a.button!==1,right:a=>"button"in a&&a.button!==2,exact:(a,r)=>systemModifiers.some(c=>a[`${c}Key`]&&!r.includes(c))},withModifiers=(a,r)=>(c,...u)=>{for(let l=0;l<r.length;l++){const d=modifierGuards[r[l]];if(d&&d(c,r))return}return a(c,...u)},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...a)=>{const r=ensureRenderer().createApp(...a),{mount:c}=r;return r.mount=u=>{const l=normalizeContainer(u);if(!l)return;const d=r._component;!isFunction$2(d)&&!d.render&&!d.template&&(d.template=l.innerHTML),l.innerHTML="";const y=c(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),y},r};function normalizeContainer(a){return isString$2(a)?document.querySelector(a):a}const _hoisted_1$a={class:"btn-primary btn-circle","data-act-class":"ACTIVECLASS","data-toggle-theme":"business,corporate"},_hoisted_2$9={key:0,class:"bi bi-sun"},_hoisted_3$6={key:1,class:"bi bi-moon"},_sfc_main$c=defineComponent({__name:"ToggleMode",setup(a){const r=ref();return onMounted(()=>{localStorage.getItem("theme")?r.value=localStorage.getItem("theme"):r.value="corporate"}),(c,u)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[r.value==="corporate"?(openBlock(),createElementBlock("i",_hoisted_2$9)):createCommentVNode("",!0),r.value==="business"?(openBlock(),createElementBlock("i",_hoisted_3$6)):createCommentVNode("",!0)]))}});var themeChange={exports:{}};(function(a,r){function c(){var y=document.querySelector("[data-toggle-theme]");(function(m=localStorage.getItem("theme")){localStorage.getItem("theme")&&(document.documentElement.setAttribute("data-theme",m),y&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(wr=>{wr.classList.add(y.getAttribute("data-act-class"))}))})(),y&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(m=>{m.addEventListener("click",function(){var wr=m.getAttribute("data-toggle-theme");if(wr){var Sr=wr.split(",");document.documentElement.getAttribute("data-theme")==Sr[0]?Sr.length==1?(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("theme")):(document.documentElement.setAttribute("data-theme",Sr[1]),localStorage.setItem("theme",Sr[1])):(document.documentElement.setAttribute("data-theme",Sr[0]),localStorage.setItem("theme",Sr[0]))}[...document.querySelectorAll("[data-toggle-theme]")].forEach(Ar=>{Ar.classList.toggle(this.getAttribute("data-act-class"))})})})}function u(){(function(y=localStorage.getItem("theme")){if(y!=null&&y!="")if(localStorage.getItem("theme")&&localStorage.getItem("theme")!=""){document.documentElement.setAttribute("data-theme",y);var m=document.querySelector("[data-set-theme='"+y.toString()+"']");m&&([...document.querySelectorAll("[data-set-theme]")].forEach(wr=>{wr.classList.remove(wr.getAttribute("data-act-class"))}),m.getAttribute("data-act-class")&&m.classList.add(m.getAttribute("data-act-class")))}else{var m=document.querySelector("[data-set-theme='']");m.getAttribute("data-act-class")&&m.classList.add(m.getAttribute("data-act-class"))}})(),[...document.querySelectorAll("[data-set-theme]")].forEach(y=>{y.addEventListener("click",function(){document.documentElement.setAttribute("data-theme",this.getAttribute("data-set-theme")),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("[data-set-theme]")].forEach(m=>{m.classList.remove(m.getAttribute("data-act-class"))}),y.getAttribute("data-act-class")&&y.classList.add(y.getAttribute("data-act-class"))})})}function l(){(function(y=localStorage.getItem("theme")){if(localStorage.getItem("theme")){document.documentElement.setAttribute("data-theme",y);var m=document.querySelector("select[data-choose-theme] [value='"+y.toString()+"']");m&&[...document.querySelectorAll("select[data-choose-theme] [value='"+y.toString()+"']")].forEach(wr=>{wr.selected=!0})}})(),document.querySelector("select[data-choose-theme]")&&[...document.querySelectorAll("select[data-choose-theme]")].forEach(y=>{y.addEventListener("change",function(){document.documentElement.setAttribute("data-theme",this.value),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("select[data-choose-theme] [value='"+localStorage.getItem("theme")+"']")].forEach(m=>{m.selected=!0})})})}function d(y=!0){y===!0?document.addEventListener("DOMContentLoaded",function(m){c(),l(),u()}):(c(),l(),u())}a.exports={themeChange:d}})(themeChange);var eventemitter3={exports:{}};(function(a){var r=Object.prototype.hasOwnProperty,c="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(c=!1));function l(wr,Sr,Ar){this.fn=wr,this.context=Sr,this.once=Ar||!1}function d(wr,Sr,Ar,Ir,$r){if(typeof Ar!="function")throw new TypeError("The listener must be a function");var kr=new l(Ar,Ir||wr,$r),Dr=c?c+Sr:Sr;return wr._events[Dr]?wr._events[Dr].fn?wr._events[Dr]=[wr._events[Dr],kr]:wr._events[Dr].push(kr):(wr._events[Dr]=kr,wr._eventsCount++),wr}function y(wr,Sr){--wr._eventsCount===0?wr._events=new u:delete wr._events[Sr]}function m(){this._events=new u,this._eventsCount=0}m.prototype.eventNames=function(){var Sr=[],Ar,Ir;if(this._eventsCount===0)return Sr;for(Ir in Ar=this._events)r.call(Ar,Ir)&&Sr.push(c?Ir.slice(1):Ir);return Object.getOwnPropertySymbols?Sr.concat(Object.getOwnPropertySymbols(Ar)):Sr},m.prototype.listeners=function(Sr){var Ar=c?c+Sr:Sr,Ir=this._events[Ar];if(!Ir)return[];if(Ir.fn)return[Ir.fn];for(var $r=0,kr=Ir.length,Dr=new Array(kr);$r<kr;$r++)Dr[$r]=Ir[$r].fn;return Dr},m.prototype.listenerCount=function(Sr){var Ar=c?c+Sr:Sr,Ir=this._events[Ar];return Ir?Ir.fn?1:Ir.length:0},m.prototype.emit=function(Sr,Ar,Ir,$r,kr,Dr){var Cr=c?c+Sr:Sr;if(!this._events[Cr])return!1;var Br=this._events[Cr],Fr=arguments.length,qr,Vr;if(Br.fn){switch(Br.once&&this.removeListener(Sr,Br.fn,void 0,!0),Fr){case 1:return Br.fn.call(Br.context),!0;case 2:return Br.fn.call(Br.context,Ar),!0;case 3:return Br.fn.call(Br.context,Ar,Ir),!0;case 4:return Br.fn.call(Br.context,Ar,Ir,$r),!0;case 5:return Br.fn.call(Br.context,Ar,Ir,$r,kr),!0;case 6:return Br.fn.call(Br.context,Ar,Ir,$r,kr,Dr),!0}for(Vr=1,qr=new Array(Fr-1);Vr<Fr;Vr++)qr[Vr-1]=arguments[Vr];Br.fn.apply(Br.context,qr)}else{var Jr=Br.length,Qr;for(Vr=0;Vr<Jr;Vr++)switch(Br[Vr].once&&this.removeListener(Sr,Br[Vr].fn,void 0,!0),Fr){case 1:Br[Vr].fn.call(Br[Vr].context);break;case 2:Br[Vr].fn.call(Br[Vr].context,Ar);break;case 3:Br[Vr].fn.call(Br[Vr].context,Ar,Ir);break;case 4:Br[Vr].fn.call(Br[Vr].context,Ar,Ir,$r);break;default:if(!qr)for(Qr=1,qr=new Array(Fr-1);Qr<Fr;Qr++)qr[Qr-1]=arguments[Qr];Br[Vr].fn.apply(Br[Vr].context,qr)}}return!0},m.prototype.on=function(Sr,Ar,Ir){return d(this,Sr,Ar,Ir,!1)},m.prototype.once=function(Sr,Ar,Ir){return d(this,Sr,Ar,Ir,!0)},m.prototype.removeListener=function(Sr,Ar,Ir,$r){var kr=c?c+Sr:Sr;if(!this._events[kr])return this;if(!Ar)return y(this,kr),this;var Dr=this._events[kr];if(Dr.fn)Dr.fn===Ar&&(!$r||Dr.once)&&(!Ir||Dr.context===Ir)&&y(this,kr);else{for(var Cr=0,Br=[],Fr=Dr.length;Cr<Fr;Cr++)(Dr[Cr].fn!==Ar||$r&&!Dr[Cr].once||Ir&&Dr[Cr].context!==Ir)&&Br.push(Dr[Cr]);Br.length?this._events[kr]=Br.length===1?Br[0]:Br:y(this,kr)}return this},m.prototype.removeAllListeners=function(Sr){var Ar;return Sr?(Ar=c?c+Sr:Sr,this._events[Ar]&&y(this,Ar)):(this._events=new u,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=c,m.EventEmitter=m,a.exports=m})(eventemitter3);const EventEmitter=eventemitter3.exports;class WalletError extends Error{constructor(r,c){super(r),this.error=c}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var WalletReadyState;(function(a){a.Installed="Installed",a.NotDetected="NotDetected",a.Loadable="Loadable",a.Unsupported="Unsupported"})(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends EventEmitter{get connected(){return!!this.publicKey}async prepareTransaction(r,c,u={}){const l=this.publicKey;if(!l)throw new WalletNotConnectedError;return r.feePayer=r.feePayer||l,r.recentBlockhash=r.recentBlockhash||(await c.getLatestBlockhash({commitment:u.preflightCommitment,minContextSlot:u.minContextSlot})).blockhash,r}}function scopePollingDetectionStrategy(a){if(typeof window>"u"||typeof document>"u")return;const r=[];function c(){if(a())for(const d of r)d()}const u=setInterval(c,1e3);r.push(()=>clearInterval(u)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",c,{once:!0}),r.push(()=>document.removeEventListener("DOMContentLoaded",c))),document.readyState!=="complete"&&(window.addEventListener("load",c,{once:!0}),r.push(()=>window.removeEventListener("load",c))),c()}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(r,c,u={}){let l=!0;try{try{const{signers:d,...y}=u;r=await this.prepareTransaction(r,c,y),d?.length&&r.partialSign(...d),r=await this.signTransaction(r);const m=r.serialize();return await c.sendRawTransaction(m,y)}catch(d){throw d instanceof WalletSignTransactionError?(l=!1,d):new WalletSendTransactionError(d?.message,d)}}catch(d){throw l&&this.emit("error",d),d}}async signAllTransactions(r){const c=[];for(const u of r)c.push(await this.signTransaction(u));return c}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}var WalletAdapterNetwork;(function(a){a.Mainnet="mainnet-beta",a.Testnet="testnet",a.Devnet="devnet"})(WalletAdapterNetwork||(WalletAdapterNetwork={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(a,r,c)=>r in a?__defProp(a,r,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[r]=c,__spreadValues=(a,r)=>{for(var c in r||(r={}))__hasOwnProp.call(r,c)&&__defNormalProp(a,c,r[c]);if(__getOwnPropSymbols)for(var c of __getOwnPropSymbols(r))__propIsEnum.call(r,c)&&__defNormalProp(a,c,r[c]);return a},__publicField=(a,r,c)=>(__defNormalProp(a,typeof r!="symbol"?r+"":r,c),c);class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}class WalletNotInitializedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}function tryOnScopeDispose(a){return getCurrentScope()?(onScopeDispose(a),!0):!1}const isClient=typeof window<"u",isString$1=a=>typeof a=="string",noop$3=()=>{};function createFilterWrapper(a,r){function c(...u){a(()=>r.apply(this,u),{fn:r,thisArg:this,args:u})}return c}const bypassFilter=a=>a();var __getOwnPropSymbols$9=Object.getOwnPropertySymbols,__hasOwnProp$9=Object.prototype.hasOwnProperty,__propIsEnum$9=Object.prototype.propertyIsEnumerable,__objRest$5=(a,r)=>{var c={};for(var u in a)__hasOwnProp$9.call(a,u)&&r.indexOf(u)<0&&(c[u]=a[u]);if(a!=null&&__getOwnPropSymbols$9)for(var u of __getOwnPropSymbols$9(a))r.indexOf(u)<0&&__propIsEnum$9.call(a,u)&&(c[u]=a[u]);return c};function watchWithFilter(a,r,c={}){const u=c,{eventFilter:l=bypassFilter}=u,d=__objRest$5(u,["eventFilter"]);return watch(a,createFilterWrapper(l,r),d)}function useTimeoutFn(a,r,c={}){const{immediate:u=!0}=c,l=ref(!1);let d=null;function y(){d&&(clearTimeout(d),d=null)}function m(){l.value=!1,y()}function wr(...Sr){y(),l.value=!0,d=setTimeout(()=>{l.value=!1,d=null,a(...Sr)},unref(r))}return u&&(l.value=!0,isClient&&wr()),tryOnScopeDispose(m),{isPending:l,start:wr,stop:m}}function unrefElement(a){var r;const c=unref(a);return(r=c?.$el)!=null?r:c}const defaultWindow=isClient?window:void 0,defaultNavigator=isClient?window.navigator:void 0;function useEventListener(...a){let r,c,u,l;if(isString$1(a[0])?([c,u,l]=a,r=defaultWindow):[r,c,u,l]=a,!r)return noop$3;let d=noop$3;const y=watch(()=>unref(r),wr=>{d(),wr&&(wr.addEventListener(c,u,l),d=()=>{wr.removeEventListener(c,u,l),d=noop$3})},{immediate:!0,flush:"post"}),m=()=>{y(),d()};return tryOnScopeDispose(m),m}function onClickOutside(a,r,c={}){const{window:u=defaultWindow}=c;if(!u)return;const l=ref(!0),y=[useEventListener(u,"click",wr=>{const Sr=unrefElement(a);!Sr||Sr===wr.target||wr.composedPath().includes(Sr)||!l.value||r(wr)},{passive:!0,capture:!0}),useEventListener(u,"pointerdown",wr=>{const Sr=unrefElement(a);l.value=!!Sr&&!wr.composedPath().includes(Sr)},{passive:!0})];return()=>y.forEach(wr=>wr())}const createKeyPredicate=a=>typeof a=="function"?a:typeof a=="string"?r=>r.key===a:Array.isArray(a)?r=>a.includes(r.key):a?()=>!0:()=>!1;function onKeyStroke(a,r,c={}){const{target:u=defaultWindow,eventName:l="keydown",passive:d=!1}=c,y=createKeyPredicate(a);return useEventListener(u,l,wr=>{y(wr)&&r(wr)},d)}function useClipboard(a={}){const{navigator:r=defaultNavigator,read:c=!1,source:u,copiedDuring:l=1500}=a,d=["copy","cut"],y=Boolean(r&&"clipboard"in r),m=ref(""),wr=ref(!1),Sr=useTimeoutFn(()=>wr.value=!1,l);function Ar(){r.clipboard.readText().then($r=>{m.value=$r})}if(y&&c)for(const $r of d)useEventListener($r,Ar);async function Ir($r=unref(u)){y&&$r!=null&&(await r.clipboard.writeText($r),m.value=$r,wr.value=!0,Sr.start())}return{isSupported:y,text:m,copied:wr,copy:Ir}}const _global=typeof globalThis>"u"?void 0:globalThis,globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};const handlers=_global[globalKey];function getSSRHandler(a,r){return handlers[a]||r}function guessSerializerType(a){return a==null?"any":a instanceof Set?"set":a instanceof Map?"map":typeof a=="boolean"?"boolean":typeof a=="string"?"string":typeof a=="object"||Array.isArray(a)?"object":Number.isNaN(a)?"any":"number"}const StorageSerializers={boolean:{read:a=>a==="true",write:a=>String(a)},object:{read:a=>JSON.parse(a),write:a=>JSON.stringify(a)},number:{read:a=>Number.parseFloat(a),write:a=>String(a)},any:{read:a=>a,write:a=>String(a)},string:{read:a=>a,write:a=>String(a)},map:{read:a=>new Map(JSON.parse(a)),write:a=>JSON.stringify(Array.from(a.entries()))},set:{read:a=>new Set(JSON.parse(a)),write:a=>JSON.stringify(Array.from(a.entries()))}};function useStorage(a,r,c,u={}){var l;const{flush:d="pre",deep:y=!0,listenToStorageChanges:m=!0,writeDefaults:wr=!0,shallow:Sr,window:Ar=defaultWindow,eventFilter:Ir,onError:$r=qr=>{console.error(qr)}}=u,kr=unref(r),Dr=guessSerializerType(kr),Cr=(Sr?shallowRef:ref)(r),Br=(l=u.serializer)!=null?l:StorageSerializers[Dr];if(!c)try{c=getSSRHandler("getDefaultStorage",()=>{var qr;return(qr=defaultWindow)==null?void 0:qr.localStorage})()}catch(qr){$r(qr)}function Fr(qr){if(!(!c||qr&&qr.key!==a))try{const Vr=qr?qr.newValue:c.getItem(a);Vr==null?(Cr.value=kr,wr&&kr!==null&&c.setItem(a,Br.write(kr))):typeof Vr!="string"?Cr.value=Vr:Cr.value=Br.read(Vr)}catch(Vr){$r(Vr)}}return Fr(),Ar&&m&&useEventListener(Ar,"storage",qr=>setTimeout(()=>Fr(qr),0)),c&&watchWithFilter(Cr,()=>{try{Cr.value==null?c.removeItem(a):c.setItem(a,Br.write(Cr.value))}catch(qr){$r(qr)}},{flush:d,deep:y,eventFilter:Ir}),Cr}function useLocalStorage(a,r,c={}){const{window:u=defaultWindow}=c;return useStorage(a,r,u?.localStorage,c)}var _a,_b;function preventDefault(a){const r=a||window.event;return r.touches.length>1?!0:(r.preventDefault&&r.preventDefault(),!1)}const isIOS=isClient&&window?.navigator&&((_a=window?.navigator)==null?void 0:_a.platform)&&/iP(ad|hone|od)/.test((_b=window?.navigator)==null?void 0:_b.platform);function useScrollLock(a,r=!1){const c=ref(r);let u=null,l;const d=()=>{const m=unref(a);!m||c.value||(l=m.style.overflow,isIOS&&(u=useEventListener(document,"touchmove",preventDefault,{passive:!1})),m.style.overflow="hidden",c.value=!0)},y=()=>{const m=unref(a);!m||!c.value||(isIOS&&u?.(),m.style.overflow=l,c.value=!1)};return computed$1({get(){return c.value},set(m){m?d():y()}})}var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(a,r,c)=>r in a?__defProp$3(a,r,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[r]=c,__spreadValues$3=(a,r)=>{for(var c in r||(r={}))__hasOwnProp$3.call(r,c)&&__defNormalProp$3(a,c,r[c]);if(__getOwnPropSymbols$3)for(var c of __getOwnPropSymbols$3(r))__propIsEnum$3.call(r,c)&&__defNormalProp$3(a,c,r[c]);return a};const initialRect={top:0,left:0,bottom:0,right:0,height:0,width:0};__spreadValues$3({text:""},initialRect);const createWalletStore=({wallets:a=[],autoConnect:r=!1,onError:c=l=>console.error(l),localStorageKey:u="walletName"})=>{const l=shallowRef(a),d=ref(r),y=useLocalStorage(u,null),m=shallowRef(null),wr=ref(null),Sr=ref(WalletReadyState.NotDetected),Ar=ref(!1),Ir=ref(!1),$r=ref(!1),kr=computed$1(()=>Sr.value===WalletReadyState.Installed||Sr.value===WalletReadyState.Loadable),Dr=mn=>{var Mr,xr,Pr;m.value=mn,Sr.value=(Mr=mn?.readyState)!=null?Mr:WalletReadyState.NotDetected,wr.value=(xr=mn?.publicKey)!=null?xr:null,Ar.value=(Pr=mn?.connected)!=null?Pr:!1},Cr=mn=>(c(mn),mn),Br=computed$1(()=>l.value.reduce((mn,Mr)=>(mn[Mr.name]=Mr,mn),{}));watch(y,()=>{var mn,Mr;Dr((Mr=(mn=Br.value)==null?void 0:mn[y.value])!=null?Mr:null)},{immediate:!0});const Fr=async mn=>{y.value!==mn&&(y.value=mn)},qr=()=>Dr(m.value),Vr=()=>Dr(m.value),Jr=()=>y.value=null,Qr=watchEffect(mn=>{const Mr=m.value;!Mr||(Mr.on("readyStateChange",qr),Mr.on("connect",Vr),Mr.on("disconnect",Jr),Mr.on("error",c),mn(()=>{Mr.off("readyStateChange",qr),Mr.off("connect",Vr),Mr.off("disconnect",Jr),Mr.off("error",c)}))});typeof window<"u"&&window.addEventListener("unload",Qr);const Wr=async()=>{if(!(Ar.value||Ir.value||$r.value)){if(!m.value)throw Cr(new WalletNotSelectedError);if(!kr.value)throw y.value=null,typeof window<"u"&&window.open(m.value.url,"_blank"),Cr(new WalletNotReadyError);try{Ir.value=!0,await m.value.connect()}catch(mn){throw y.value=null,mn}finally{Ir.value=!1}}},Zr=async()=>{if(!$r.value){if(!m.value){y.value=null;return}try{$r.value=!0,await m.value.disconnect()}finally{y.value=null,$r.value=!1}}},rn=async(mn,Mr,xr)=>{if(!m.value)throw Cr(new WalletNotSelectedError);if(!Ar.value)throw Cr(new WalletNotConnectedError);return await m.value.sendTransaction(mn,Mr,xr)},gn=computed$1(()=>{const mn=m.value;if(!!(mn&&"signTransaction"in mn))return async Mr=>{if(!Ar.value)throw Cr(new WalletNotConnectedError);return await mn.signTransaction(Mr)}}),an=computed$1(()=>{const mn=m.value;if(!!(mn&&"signAllTransactions"in mn))return async Mr=>{if(!Ar.value)throw Cr(new WalletNotConnectedError);return await mn.signAllTransactions(Mr)}}),fn=computed$1(()=>{const mn=m.value;if(!!(mn&&"signMessage"in mn))return async Mr=>{if(!Ar.value)throw Cr(new WalletNotConnectedError);return await mn.signMessage(Mr)}});return watchEffect(async()=>{if(!(!d.value||!m.value||!kr.value||Ar.value||Ir.value))try{Ir.value=!0,await m.value.connect()}catch{y.value=null}finally{Ir.value=!1}}),{wallets:l,autoConnect:d,wallet:m,publicKey:wr,readyState:Sr,ready:kr,connected:Ar,connecting:Ir,disconnecting:$r,select:Fr,connect:Wr,disconnect:Zr,sendTransaction:rn,signTransaction:gn,signAllTransactions:an,signMessage:fn}};let walletStore=null;const useWallet=()=>{if(walletStore)return walletStore;throw new WalletNotInitializedError("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},initWallet=a=>{walletStore=createWalletStore(a)};var _export_sfc$1=(a,r)=>{const c=a.__vccOpts||a;for(const[u,l]of r)c[u]=l;return c};const _sfc_main$4$1=defineComponent({props:{wallet:Object},setup(a){return toRefs(a)}}),_hoisted_1$4$1={class:"swv-button-icon"},_hoisted_2$4$1=["src","alt"];function _sfc_render$4$1(a,r,c,u,l,d){return openBlock(),createElementBlock("i",_hoisted_1$4$1,[a.wallet?(openBlock(),createElementBlock("img",{key:0,src:a.wallet.icon,alt:`${a.wallet.name} icon`},null,8,_hoisted_2$4$1)):createCommentVNode("",!0)])}var WalletIcon=_export_sfc$1(_sfc_main$4$1,[["render",_sfc_render$4$1]]);const _sfc_main$3$1=defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(a,{emit:r}){const{disabled:c}=toRefs(a),{wallet:u,connect:l,connecting:d,connected:y}=useWallet(),m=computed$1(()=>d.value?"Connecting ...":y.value?"Connected":u.value?"Connect":"Connect Wallet"),Sr={wallet:u,disabled:c,connecting:d,connected:y,content:m,onClick:Ar=>{r("click",Ar),!Ar.defaultPrevented&&l().catch(()=>{})}};return __spreadValues({scope:Sr},Sr)}}),_hoisted_1$3$1=["disabled"],_hoisted_2$3$1=["textContent"];function _sfc_render$3$1(a,r,c,u,l,d){const y=resolveComponent("wallet-icon");return renderSlot(a.$slots,"default",normalizeProps(guardReactiveProps(a.scope)),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",disabled:a.disabled||!a.wallet||a.connecting||a.connected,onClick:r[0]||(r[0]=(...m)=>a.onClick&&a.onClick(...m))},[a.wallet?(openBlock(),createBlock(y,{key:0,wallet:a.wallet},null,8,["wallet"])):createCommentVNode("",!0),createBaseVNode("p",{textContent:toDisplayString(a.content)},null,8,_hoisted_2$3$1)],8,_hoisted_1$3$1)])}var WalletConnectButton=_export_sfc$1(_sfc_main$3$1,[["render",_sfc_render$3$1]]);defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(a,{emit:r}){const{disabled:c}=toRefs(a),{wallet:u,disconnect:l,disconnecting:d}=useWallet(),y=computed$1(()=>d.value?"Disconnecting ...":u.value?"Disconnect":"Disconnect Wallet"),wr={wallet:u,disconnecting:d,disabled:c,content:y,handleClick:Sr=>{r("click",Sr),!Sr.defaultPrevented&&l().catch(()=>{})}};return __spreadValues({scope:wr},wr)}});const _sfc_main$1$1=defineComponent({components:{WalletIcon},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(a,{slots:r}){const{featured:c,container:u,logo:l,dark:d}=toRefs(a),y=ref(null),m=ref(!1),wr=()=>m.value=!0,Sr=()=>m.value=!1,Ar=computed$1(()=>!!r.logo||!!l.value),{wallets:Ir,select:$r}=useWallet(),kr=ref(!1),Dr=computed$1(()=>Ir.value.slice(0,c.value)),Cr=computed$1(()=>Ir.value.slice(c.value)),Br=computed$1(()=>kr.value?Ir.value:Dr.value);onClickOutside(y,Sr),onKeyStroke("Escape",Sr),onKeyStroke("Tab",Vr=>{var Jr,Qr;const Wr=(Qr=(Jr=y.value)==null?void 0:Jr.querySelectorAll("button"))!=null?Qr:[],Zr=Wr?.[0],rn=Wr?.[Wr.length-1];Vr.shiftKey&&document.activeElement===Zr&&rn?(rn.focus(),Vr.preventDefault()):!Vr.shiftKey&&document.activeElement===rn&&Zr&&(Zr.focus(),Vr.preventDefault())}),watch(m,Vr=>{!Vr||nextTick(()=>{var Jr,Qr,Wr;return(Wr=(Qr=(Jr=y.value)==null?void 0:Jr.querySelectorAll("button"))==null?void 0:Qr[0])==null?void 0:Wr.focus()})});const Fr=useScrollLock(document.body);watch(m,Vr=>Fr.value=Vr);const qr={dark:d,logo:l,hasLogo:Ar,featured:c,container:u,modalPanel:y,modalOpened:m,openModal:wr,closeModal:Sr,expandedWallets:kr,walletsToDisplay:Br,featuredWallets:Dr,hiddenWallets:Cr,selectWallet:$r};return __spreadValues({scope:qr},qr)}}),_hoisted_1$1$1=createBaseVNode("div",{class:"swv-modal-overlay"},null,-1),_hoisted_2$1$1={class:"swv-modal-container",ref:"modalPanel"},_hoisted_3$1$1={key:0,class:"swv-modal-logo-wrapper"},_hoisted_4$1$1=["src"],_hoisted_5$1$1=createBaseVNode("h1",{class:"swv-modal-title",id:"swv-modal-title"}," Connect Wallet ",-1),_hoisted_6$3=createBaseVNode("svg",{width:"14",height:"14"},[createBaseVNode("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),_hoisted_7$3=[_hoisted_6$3],_hoisted_8$3={class:"swv-modal-list"},_hoisted_9$2=["onClick"],_hoisted_10$1={class:"swv-button"},_hoisted_11$1=["textContent"],_hoisted_12=["aria-expanded"],_hoisted_13=createBaseVNode("i",{class:"swv-button-icon"},[createBaseVNode("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function _sfc_render$1$1(a,r,c,u,l,d){const y=resolveComponent("wallet-icon");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(a.dark?"swv-dark":"")},[renderSlot(a.$slots,"default",normalizeProps(guardReactiveProps(a.scope)))],2),a.modalOpened?(openBlock(),createBlock(Teleport,{key:0,to:a.container},[createBaseVNode("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:normalizeClass(["swv-modal",a.dark?"swv-dark":""]),role:"dialog"},[renderSlot(a.$slots,"overlay",normalizeProps(guardReactiveProps(a.scope)),()=>[_hoisted_1$1$1]),createBaseVNode("div",_hoisted_2$1$1,[renderSlot(a.$slots,"modal",normalizeProps(guardReactiveProps(a.scope)),()=>[createBaseVNode("div",{class:normalizeClass(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!a.hasLogo}])},[a.hasLogo?(openBlock(),createElementBlock("div",_hoisted_3$1$1,[renderSlot(a.$slots,"logo",normalizeProps(guardReactiveProps(a.scope)),()=>[createBaseVNode("img",{alt:"logo",class:"swv-modal-logo",src:a.logo},null,8,_hoisted_4$1$1)])])):createCommentVNode("",!0),_hoisted_5$1$1,createBaseVNode("button",{onClick:r[0]||(r[0]=withModifiers((...m)=>a.closeModal&&a.closeModal(...m),["prevent"])),class:"swv-modal-button-close"},_hoisted_7$3),createBaseVNode("ul",_hoisted_8$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.walletsToDisplay,m=>(openBlock(),createElementBlock("li",{key:m.name,onClick:wr=>{a.selectWallet(m.name),a.closeModal()}},[createBaseVNode("button",_hoisted_10$1,[createBaseVNode("p",{textContent:toDisplayString(m.name)},null,8,_hoisted_11$1),createVNode(y,{wallet:m},null,8,["wallet"])])],8,_hoisted_9$2))),128))]),a.hiddenWallets.length>0?(openBlock(),createElementBlock("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":a.expandedWallets,class:normalizeClass(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":a.expandedWallets}]),onClick:r[1]||(r[1]=m=>a.expandedWallets=!a.expandedWallets)},[createTextVNode(toDisplayString(a.expandedWallets?"Less":"More")+" options ",1),_hoisted_13],10,_hoisted_12)):createCommentVNode("",!0)],2)])],512)],2)],8,["to"])):createCommentVNode("",!0)],64)}var WalletModalProvider=_export_sfc$1(_sfc_main$1$1,[["render",_sfc_render$1$1]]);const _sfc_main$b=defineComponent({components:{WalletConnectButton,WalletIcon,WalletModalProvider},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(a){const{featured:r,container:c,logo:u,dark:l}=toRefs(a),{publicKey:d,wallet:y,disconnect:m}=useWallet(),wr=ref(),Sr=ref(!1),Ar=()=>Sr.value=!0,Ir=()=>Sr.value=!1;onClickOutside(wr,Ir);const $r=computed$1(()=>{var Vr;return(Vr=d.value)==null?void 0:Vr.toBase58()}),kr=computed$1(()=>!y.value||!$r.value?null:$r.value.slice(0,4)+".."+$r.value.slice(-4)),{copy:Dr,copied:Cr,isSupported:Br}=useClipboard(),qr={featured:r,container:c,logo:u,dark:l,wallet:y,publicKey:d,publicKeyTrimmed:kr,publicKeyBase58:$r,canCopy:Br,addressCopied:Cr,dropdownPanel:wr,dropdownOpened:Sr,openDropdown:Ar,closeDropdown:Ir,copyAddress:()=>$r.value&&Dr($r.value),disconnect:m};return __spreadValues({scope:qr},qr)}}),_hoisted_1$9=["onClick"],_hoisted_2$8={key:2,class:"swv-dropdown"},_hoisted_3$5=["aria-expanded","title"],_hoisted_4$4=["textContent"],_hoisted_5$4=["onClick"];function _sfc_render$5(a,r,c,u,l,d){const y=resolveComponent("wallet-connect-button"),m=resolveComponent("wallet-icon"),wr=resolveComponent("wallet-modal-provider");return openBlock(),createBlock(wr,{featured:a.featured,container:a.container,logo:a.logo,dark:a.dark},{default:withCtx(Sr=>[renderSlot(a.$slots,"default",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},Sr),a.scope))),()=>[a.wallet?a.publicKeyBase58?(openBlock(),createElementBlock("div",_hoisted_2$8,[renderSlot(a.$slots,"dropdown-button",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},Sr),a.scope))),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",style:normalizeStyle({pointerEvents:a.dropdownOpened?"none":"auto"}),"aria-expanded":a.dropdownOpened,title:a.publicKeyBase58,onClick:r[0]||(r[0]=(...Ar)=>a.openDropdown&&a.openDropdown(...Ar))},[createVNode(m,{wallet:a.wallet},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(a.publicKeyTrimmed)},null,8,_hoisted_4$4)],12,_hoisted_3$5)]),renderSlot(a.$slots,"dropdown",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},Sr),a.scope))),()=>[createBaseVNode("ul",{"aria-label":"dropdown-list",class:normalizeClass(["swv-dropdown-list",{"swv-dropdown-list-active":a.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[renderSlot(a.$slots,"dropdown-list",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},Sr),a.scope))),()=>[a.canCopy?(openBlock(),createElementBlock("li",{key:0,onClick:r[1]||(r[1]=(...Ar)=>a.copyAddress&&a.copyAddress(...Ar)),class:"swv-dropdown-list-item",role:"menuitem"},toDisplayString(a.addressCopied?"Copied":"Copy address"),1)):createCommentVNode("",!0),createBaseVNode("li",{onClick:Ar=>{Sr.openModal(),a.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,_hoisted_5$4),createBaseVNode("li",{onClick:r[2]||(r[2]=(...Ar)=>a.disconnect&&a.disconnect(...Ar)),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")])],2)])])):(openBlock(),createBlock(y,{key:1})):(openBlock(),createElementBlock("button",{key:0,class:"swv-button swv-button-trigger",onClick:Sr.openModal}," Select Wallet ",8,_hoisted_1$9))])]),overlay:withCtx(Sr=>[renderSlot(a.$slots,"modal-overlay",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},Sr),a.scope))))]),modal:withCtx(Sr=>[renderSlot(a.$slots,"modal",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},Sr),a.scope))))]),_:3},8,["featured","container","logo","dark"])}var WalletMultiButton=_export_sfc$1(_sfc_main$b,[["render",_sfc_render$5]]),index$1={install:(a,r={})=>{initWallet(r),a.config.globalProperties.$wallet=useWallet()}};const _sfc_main$a={components:{WalletMultiButton,ToggleMode:_sfc_main$c},setup(){onMounted(()=>{themeChange.exports.themeChange(!1)})}},_export_sfc=(a,r)=>{const c=a.__vccOpts||a;for(const[u,l]of r)c[u]=l;return c},_hoisted_1$8={class:"navbar bg-base-100"},_hoisted_2$7=createBaseVNode("div",{class:"flex-1"},[createBaseVNode("a",{class:"btn btn-ghost normal-case text-xl"},"daisyUI")],-1),_hoisted_3$4={class:"flex-none"},_hoisted_4$3={class:"menu menu-horizontal p-0"},_hoisted_5$3=createTextVNode("Home"),_hoisted_6$2=createTextVNode("Marketplace "),_hoisted_7$2=createTextVNode("P2P"),_hoisted_8$2=createTextVNode("About"),_hoisted_9$1={class:"sm:gap-4 sm:flex"};function _sfc_render$4(a,r,c,u,l,d){const y=resolveComponent("RouterLink"),m=resolveComponent("wallet-multi-button"),wr=resolveComponent("ToggleMode");return openBlock(),createElementBlock("div",_hoisted_1$8,[_hoisted_2$7,createBaseVNode("div",_hoisted_3$4,[createBaseVNode("ul",_hoisted_4$3,[createBaseVNode("li",null,[createVNode(y,{class:"text-white transition hover:text-white/75",to:"/"},{default:withCtx(()=>[_hoisted_5$3]),_:1})]),createBaseVNode("li",null,[createVNode(y,{class:"text-white transition hover:text-white/75",to:"/marketplace"},{default:withCtx(()=>[_hoisted_6$2]),_:1})]),createBaseVNode("li",null,[createVNode(y,{class:"text-white transition hover:text-white/75",to:"/p2p"},{default:withCtx(()=>[_hoisted_7$2]),_:1})]),createBaseVNode("li",null,[createVNode(y,{class:"text-white transition hover:text-white/75",to:"/about"},{default:withCtx(()=>[_hoisted_8$2]),_:1})]),createBaseVNode("li",null,[createBaseVNode("div",_hoisted_9$1,[createVNode(m,{dark:""})])]),createBaseVNode("li",null,[createBaseVNode("div",null,[createVNode(wr)])])])])])}const NavBar=_export_sfc(_sfc_main$a,[["render",_sfc_render$4]]),_sfc_main$9=defineComponent({__name:"App",setup(a){return(r,c)=>{const u=resolveComponent("RouterView");return openBlock(),createElementBlock(Fragment,null,[createVNode(NavBar),createVNode(u)],64)}}});var isVue2=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=a=>activePinia=a,piniaSymbol=Symbol();function isPlainObject$1(a){return a&&typeof a=="object"&&Object.prototype.toString.call(a)==="[object Object]"&&typeof a.toJSON!="function"}var MutationType;(function(a){a.direct="direct",a.patchObject="patch object",a.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const a=effectScope(!0),r=a.run(()=>ref({}));let c=[],u=[];const l=markRaw({install(d){setActivePinia(l),l._a=d,d.provide(piniaSymbol,l),d.config.globalProperties.$pinia=l,u.forEach(y=>c.push(y)),u=[]},use(d){return!this._a&&!isVue2?u.push(d):c.push(d),this},_p:c,_a:null,_e:a,_s:new Map,state:r});return l}const noop$2=()=>{};function addSubscription(a,r,c,u=noop$2){a.push(r);const l=()=>{const d=a.indexOf(r);d>-1&&(a.splice(d,1),u())};return!c&&getCurrentInstance()&&onUnmounted(l),l}function triggerSubscriptions(a,...r){a.slice().forEach(c=>{c(...r)})}function mergeReactiveObjects(a,r){a instanceof Map&&r instanceof Map&&r.forEach((c,u)=>a.set(u,c)),a instanceof Set&&r instanceof Set&&r.forEach(a.add,a);for(const c in r){if(!r.hasOwnProperty(c))continue;const u=r[c],l=a[c];isPlainObject$1(l)&&isPlainObject$1(u)&&a.hasOwnProperty(c)&&!isRef(u)&&!isReactive(u)?a[c]=mergeReactiveObjects(l,u):a[c]=u}return a}const skipHydrateSymbol=Symbol();function shouldHydrate(a){return!isPlainObject$1(a)||!a.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed$1(a){return!!(isRef(a)&&a.effect)}function createOptionsStore(a,r,c,u){const{state:l,actions:d,getters:y}=r,m=c.state.value[a];let wr;function Sr(){m||(c.state.value[a]=l?l():{});const Ar=toRefs(c.state.value[a]);return assign$3(Ar,d,Object.keys(y||{}).reduce((Ir,$r)=>(Ir[$r]=markRaw(computed$1(()=>{setActivePinia(c);const kr=c._s.get(a);return y[$r].call(kr,kr)})),Ir),{}))}return wr=createSetupStore(a,Sr,r,c,u,!0),wr.$reset=function(){const Ir=l?l():{};this.$patch($r=>{assign$3($r,Ir)})},wr}function createSetupStore(a,r,c={},u,l,d){let y;const m=assign$3({actions:{}},c),wr={deep:!0};let Sr,Ar,Ir=markRaw([]),$r=markRaw([]),kr;const Dr=u.state.value[a];!d&&!Dr&&(u.state.value[a]={}),ref({});let Cr;function Br(Zr){let rn;Sr=Ar=!1,typeof Zr=="function"?(Zr(u.state.value[a]),rn={type:MutationType.patchFunction,storeId:a,events:kr}):(mergeReactiveObjects(u.state.value[a],Zr),rn={type:MutationType.patchObject,payload:Zr,storeId:a,events:kr});const gn=Cr=Symbol();nextTick().then(()=>{Cr===gn&&(Sr=!0)}),Ar=!0,triggerSubscriptions(Ir,rn,u.state.value[a])}const Fr=noop$2;function qr(){y.stop(),Ir=[],$r=[],u._s.delete(a)}function Vr(Zr,rn){return function(){setActivePinia(u);const gn=Array.from(arguments),an=[],fn=[];function mn(Pr){an.push(Pr)}function Mr(Pr){fn.push(Pr)}triggerSubscriptions($r,{args:gn,name:Zr,store:Qr,after:mn,onError:Mr});let xr;try{xr=rn.apply(this&&this.$id===a?this:Qr,gn)}catch(Pr){throw triggerSubscriptions(fn,Pr),Pr}return xr instanceof Promise?xr.then(Pr=>(triggerSubscriptions(an,Pr),Pr)).catch(Pr=>(triggerSubscriptions(fn,Pr),Promise.reject(Pr))):(triggerSubscriptions(an,xr),xr)}}const Jr={_p:u,$id:a,$onAction:addSubscription.bind(null,$r),$patch:Br,$reset:Fr,$subscribe(Zr,rn={}){const gn=addSubscription(Ir,Zr,rn.detached,()=>an()),an=y.run(()=>watch(()=>u.state.value[a],fn=>{(rn.flush==="sync"?Ar:Sr)&&Zr({storeId:a,type:MutationType.direct,events:kr},fn)},assign$3({},wr,rn)));return gn},$dispose:qr},Qr=reactive(assign$3({},Jr));u._s.set(a,Qr);const Wr=u._e.run(()=>(y=effectScope(),y.run(()=>r())));for(const Zr in Wr){const rn=Wr[Zr];if(isRef(rn)&&!isComputed$1(rn)||isReactive(rn))d||(Dr&&shouldHydrate(rn)&&(isRef(rn)?rn.value=Dr[Zr]:mergeReactiveObjects(rn,Dr[Zr])),u.state.value[a][Zr]=rn);else if(typeof rn=="function"){const gn=Vr(Zr,rn);Wr[Zr]=gn,m.actions[Zr]=rn}}return assign$3(Qr,Wr),assign$3(toRaw(Qr),Wr),Object.defineProperty(Qr,"$state",{get:()=>u.state.value[a],set:Zr=>{Br(rn=>{assign$3(rn,Zr)})}}),u._p.forEach(Zr=>{assign$3(Qr,y.run(()=>Zr({store:Qr,app:u._a,pinia:u,options:m})))}),Dr&&d&&c.hydrate&&c.hydrate(Qr.$state,Dr),Sr=!0,Ar=!0,Qr}function defineStore(a,r,c){let u,l;const d=typeof r=="function";typeof a=="string"?(u=a,l=d?c:r):(l=a,u=a.id);function y(m,wr){const Sr=getCurrentInstance();return m=m||Sr&&inject(piniaSymbol),m&&setActivePinia(m),m=activePinia,m._s.has(u)||(d?createSetupStore(u,r,l,m):createOptionsStore(u,l,m)),m._s.get(u)}return y.$id=u,y}function storeToRefs(a){{a=toRaw(a);const r={};for(const c in a){const u=a[c];(isRef(u)||isReactive(u))&&(r[c]=toRef(a,c))}return r}}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(a){return a.__esModule||a[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(a,r){const c={};for(const u in r){const l=r[u];c[u]=isArray$1(l)?l.map(a):a(l)}return c}const noop$1=()=>{},isArray$1=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=a=>a.replace(TRAILING_SLASH_RE,"");function parseURL(a,r,c="/"){let u,l={},d="",y="";const m=r.indexOf("#");let wr=r.indexOf("?");return m<wr&&m>=0&&(wr=-1),wr>-1&&(u=r.slice(0,wr),d=r.slice(wr+1,m>-1?m:r.length),l=a(d)),m>-1&&(u=u||r.slice(0,m),y=r.slice(m,r.length)),u=resolveRelativePath(u??r,c),{fullPath:u+(d&&"?")+d+y,path:u,query:l,hash:y}}function stringifyURL(a,r){const c=r.query?a(r.query):"";return r.path+(c&&"?")+c+(r.hash||"")}function stripBase(a,r){return!r||!a.toLowerCase().startsWith(r.toLowerCase())?a:a.slice(r.length)||"/"}function isSameRouteLocation(a,r,c){const u=r.matched.length-1,l=c.matched.length-1;return u>-1&&u===l&&isSameRouteRecord(r.matched[u],c.matched[l])&&isSameRouteLocationParams(r.params,c.params)&&a(r.query)===a(c.query)&&r.hash===c.hash}function isSameRouteRecord(a,r){return(a.aliasOf||a)===(r.aliasOf||r)}function isSameRouteLocationParams(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const c in a)if(!isSameRouteLocationParamsValue(a[c],r[c]))return!1;return!0}function isSameRouteLocationParamsValue(a,r){return isArray$1(a)?isEquivalentArray(a,r):isArray$1(r)?isEquivalentArray(r,a):a===r}function isEquivalentArray(a,r){return isArray$1(r)?a.length===r.length&&a.every((c,u)=>c===r[u]):a.length===1&&a[0]===r}function resolveRelativePath(a,r){if(a.startsWith("/"))return a;if(!a)return r;const c=r.split("/"),u=a.split("/");let l=c.length-1,d,y;for(d=0;d<u.length;d++)if(y=u[d],y!==".")if(y==="..")l>1&&l--;else break;return c.slice(0,l).join("/")+"/"+u.slice(d-(d===u.length?1:0)).join("/")}var NavigationType;(function(a){a.pop="pop",a.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(a){a.back="back",a.forward="forward",a.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(a){if(!a)if(isBrowser){const r=document.querySelector("base");a=r&&r.getAttribute("href")||"/",a=a.replace(/^\w+:\/\/[^\/]+/,"")}else a="/";return a[0]!=="/"&&a[0]!=="#"&&(a="/"+a),removeTrailingSlash(a)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(a,r){return a.replace(BEFORE_HASH_RE,"#")+r}function getElementPosition(a,r){const c=document.documentElement.getBoundingClientRect(),u=a.getBoundingClientRect();return{behavior:r.behavior,left:u.left-c.left-(r.left||0),top:u.top-c.top-(r.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(a){let r;if("el"in a){const c=a.el,u=typeof c=="string"&&c.startsWith("#"),l=typeof c=="string"?u?document.getElementById(c.slice(1)):document.querySelector(c):c;if(!l)return;r=getElementPosition(l,a)}else r=a;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function getScrollKey(a,r){return(history.state?history.state.position-r:-1)+a}const scrollPositions=new Map;function saveScrollPosition(a,r){scrollPositions.set(a,r)}function getSavedScrollPosition(a){const r=scrollPositions.get(a);return scrollPositions.delete(a),r}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(a,r){const{pathname:c,search:u,hash:l}=r,d=a.indexOf("#");if(d>-1){let m=l.includes(a.slice(d))?a.slice(d).length:1,wr=l.slice(m);return wr[0]!=="/"&&(wr="/"+wr),stripBase(wr,"")}return stripBase(c,a)+u+l}function useHistoryListeners(a,r,c,u){let l=[],d=[],y=null;const m=({state:$r})=>{const kr=createCurrentLocation(a,location),Dr=c.value,Cr=r.value;let Br=0;if($r){if(c.value=kr,r.value=$r,y&&y===Dr){y=null;return}Br=Cr?$r.position-Cr.position:0}else u(kr);l.forEach(Fr=>{Fr(c.value,Dr,{delta:Br,type:NavigationType.pop,direction:Br?Br>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function wr(){y=c.value}function Sr($r){l.push($r);const kr=()=>{const Dr=l.indexOf($r);Dr>-1&&l.splice(Dr,1)};return d.push(kr),kr}function Ar(){const{history:$r}=window;!$r.state||$r.replaceState(assign$2({},$r.state,{scroll:computeScrollPosition()}),"")}function Ir(){for(const $r of d)$r();d=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",Ar)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",Ar),{pauseListeners:wr,listen:Sr,destroy:Ir}}function buildState(a,r,c,u=!1,l=!1){return{back:a,current:r,forward:c,replaced:u,position:window.history.length,scroll:l?computeScrollPosition():null}}function useHistoryStateNavigation(a){const{history:r,location:c}=window,u={value:createCurrentLocation(a,c)},l={value:r.state};l.value||d(u.value,{back:null,current:u.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function d(wr,Sr,Ar){const Ir=a.indexOf("#"),$r=Ir>-1?(c.host&&document.querySelector("base")?a:a.slice(Ir))+wr:createBaseLocation()+a+wr;try{r[Ar?"replaceState":"pushState"](Sr,"",$r),l.value=Sr}catch(kr){console.error(kr),c[Ar?"replace":"assign"]($r)}}function y(wr,Sr){const Ar=assign$2({},r.state,buildState(l.value.back,wr,l.value.forward,!0),Sr,{position:l.value.position});d(wr,Ar,!0),u.value=wr}function m(wr,Sr){const Ar=assign$2({},l.value,r.state,{forward:wr,scroll:computeScrollPosition()});d(Ar.current,Ar,!0);const Ir=assign$2({},buildState(u.value,wr,null),{position:Ar.position+1},Sr);d(wr,Ir,!1),u.value=wr}return{location:u,state:l,push:m,replace:y}}function createWebHistory(a){a=normalizeBase(a);const r=useHistoryStateNavigation(a),c=useHistoryListeners(a,r.state,r.location,r.replace);function u(d,y=!0){y||c.pauseListeners(),history.go(d)}const l=assign$2({location:"",base:a,go:u,createHref:createHref.bind(null,a)},r,c);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>r.state.value}),l}function createWebHashHistory(a){return a=location.host?a||location.pathname+location.search:"",a.includes("#")||(a+="#"),createWebHistory(a)}function isRouteLocation(a){return typeof a=="string"||a&&typeof a=="object"}function isRouteName(a){return typeof a=="string"||typeof a=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(a){a[a.aborted=4]="aborted",a[a.cancelled=8]="cancelled",a[a.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(a,r){return assign$2(new Error,{type:a,[NavigationFailureSymbol]:!0},r)}function isNavigationFailure(a,r){return a instanceof Error&&NavigationFailureSymbol in a&&(r==null||!!(a.type&r))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(a,r){const c=assign$2({},BASE_PATH_PARSER_OPTIONS,r),u=[];let l=c.start?"^":"";const d=[];for(const Sr of a){const Ar=Sr.length?[]:[90];c.strict&&!Sr.length&&(l+="/");for(let Ir=0;Ir<Sr.length;Ir++){const $r=Sr[Ir];let kr=40+(c.sensitive?.25:0);if($r.type===0)Ir||(l+="/"),l+=$r.value.replace(REGEX_CHARS_RE,"\\$&"),kr+=40;else if($r.type===1){const{value:Dr,repeatable:Cr,optional:Br,regexp:Fr}=$r;d.push({name:Dr,repeatable:Cr,optional:Br});const qr=Fr||BASE_PARAM_PATTERN;if(qr!==BASE_PARAM_PATTERN){kr+=10;try{new RegExp(`(${qr})`)}catch(Jr){throw new Error(`Invalid custom RegExp for param "${Dr}" (${qr}): `+Jr.message)}}let Vr=Cr?`((?:${qr})(?:/(?:${qr}))*)`:`(${qr})`;Ir||(Vr=Br&&Sr.length<2?`(?:/${Vr})`:"/"+Vr),Br&&(Vr+="?"),l+=Vr,kr+=20,Br&&(kr+=-8),Cr&&(kr+=-20),qr===".*"&&(kr+=-50)}Ar.push(kr)}u.push(Ar)}if(c.strict&&c.end){const Sr=u.length-1;u[Sr][u[Sr].length-1]+=.7000000000000001}c.strict||(l+="/?"),c.end?l+="$":c.strict&&(l+="(?:/|$)");const y=new RegExp(l,c.sensitive?"":"i");function m(Sr){const Ar=Sr.match(y),Ir={};if(!Ar)return null;for(let $r=1;$r<Ar.length;$r++){const kr=Ar[$r]||"",Dr=d[$r-1];Ir[Dr.name]=kr&&Dr.repeatable?kr.split("/"):kr}return Ir}function wr(Sr){let Ar="",Ir=!1;for(const $r of a){(!Ir||!Ar.endsWith("/"))&&(Ar+="/"),Ir=!1;for(const kr of $r)if(kr.type===0)Ar+=kr.value;else if(kr.type===1){const{value:Dr,repeatable:Cr,optional:Br}=kr,Fr=Dr in Sr?Sr[Dr]:"";if(isArray$1(Fr)&&!Cr)throw new Error(`Provided param "${Dr}" is an array but it is not repeatable (* or + modifiers)`);const qr=isArray$1(Fr)?Fr.join("/"):Fr;if(!qr)if(Br)$r.length<2&&(Ar.endsWith("/")?Ar=Ar.slice(0,-1):Ir=!0);else throw new Error(`Missing required param "${Dr}"`);Ar+=qr}}return Ar||"/"}return{re:y,score:u,keys:d,parse:m,stringify:wr}}function compareScoreArray(a,r){let c=0;for(;c<a.length&&c<r.length;){const u=r[c]-a[c];if(u)return u;c++}return a.length<r.length?a.length===1&&a[0]===40+40?-1:1:a.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function comparePathParserScore(a,r){let c=0;const u=a.score,l=r.score;for(;c<u.length&&c<l.length;){const d=compareScoreArray(u[c],l[c]);if(d)return d;c++}if(Math.abs(l.length-u.length)===1){if(isLastScoreNegative(u))return 1;if(isLastScoreNegative(l))return-1}return l.length-u.length}function isLastScoreNegative(a){const r=a[a.length-1];return a.length>0&&r[r.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(a){if(!a)return[[]];if(a==="/")return[[ROOT_TOKEN]];if(!a.startsWith("/"))throw new Error(`Invalid path "${a}"`);function r(kr){throw new Error(`ERR (${c})/"${Sr}": ${kr}`)}let c=0,u=c;const l=[];let d;function y(){d&&l.push(d),d=[]}let m=0,wr,Sr="",Ar="";function Ir(){!Sr||(c===0?d.push({type:0,value:Sr}):c===1||c===2||c===3?(d.length>1&&(wr==="*"||wr==="+")&&r(`A repeatable param (${Sr}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:Sr,regexp:Ar,repeatable:wr==="*"||wr==="+",optional:wr==="*"||wr==="?"})):r("Invalid state to consume buffer"),Sr="")}function $r(){Sr+=wr}for(;m<a.length;){if(wr=a[m++],wr==="\\"&&c!==2){u=c,c=4;continue}switch(c){case 0:wr==="/"?(Sr&&Ir(),y()):wr===":"?(Ir(),c=1):$r();break;case 4:$r(),c=u;break;case 1:wr==="("?c=2:VALID_PARAM_RE.test(wr)?$r():(Ir(),c=0,wr!=="*"&&wr!=="?"&&wr!=="+"&&m--);break;case 2:wr===")"?Ar[Ar.length-1]=="\\"?Ar=Ar.slice(0,-1)+wr:c=3:Ar+=wr;break;case 3:Ir(),c=0,wr!=="*"&&wr!=="?"&&wr!=="+"&&m--,Ar="";break;default:r("Unknown state");break}}return c===2&&r(`Unfinished custom RegExp for param "${Sr}"`),Ir(),y(),l}function createRouteRecordMatcher(a,r,c){const u=tokensToParser(tokenizePath(a.path),c),l=assign$2(u,{record:a,parent:r,children:[],alias:[]});return r&&!l.record.aliasOf==!r.record.aliasOf&&r.children.push(l),l}function createRouterMatcher(a,r){const c=[],u=new Map;r=mergeOptions({strict:!1,end:!0,sensitive:!1},r);function l(Ar){return u.get(Ar)}function d(Ar,Ir,$r){const kr=!$r,Dr=normalizeRouteRecord(Ar);Dr.aliasOf=$r&&$r.record;const Cr=mergeOptions(r,Ar),Br=[Dr];if("alias"in Ar){const Vr=typeof Ar.alias=="string"?[Ar.alias]:Ar.alias;for(const Jr of Vr)Br.push(assign$2({},Dr,{components:$r?$r.record.components:Dr.components,path:Jr,aliasOf:$r?$r.record:Dr}))}let Fr,qr;for(const Vr of Br){const{path:Jr}=Vr;if(Ir&&Jr[0]!=="/"){const Qr=Ir.record.path,Wr=Qr[Qr.length-1]==="/"?"":"/";Vr.path=Ir.record.path+(Jr&&Wr+Jr)}if(Fr=createRouteRecordMatcher(Vr,Ir,Cr),$r?$r.alias.push(Fr):(qr=qr||Fr,qr!==Fr&&qr.alias.push(Fr),kr&&Ar.name&&!isAliasRecord(Fr)&&y(Ar.name)),Dr.children){const Qr=Dr.children;for(let Wr=0;Wr<Qr.length;Wr++)d(Qr[Wr],Fr,$r&&$r.children[Wr])}$r=$r||Fr,wr(Fr)}return qr?()=>{y(qr)}:noop$1}function y(Ar){if(isRouteName(Ar)){const Ir=u.get(Ar);Ir&&(u.delete(Ar),c.splice(c.indexOf(Ir),1),Ir.children.forEach(y),Ir.alias.forEach(y))}else{const Ir=c.indexOf(Ar);Ir>-1&&(c.splice(Ir,1),Ar.record.name&&u.delete(Ar.record.name),Ar.children.forEach(y),Ar.alias.forEach(y))}}function m(){return c}function wr(Ar){let Ir=0;for(;Ir<c.length&&comparePathParserScore(Ar,c[Ir])>=0&&(Ar.record.path!==c[Ir].record.path||!isRecordChildOf(Ar,c[Ir]));)Ir++;c.splice(Ir,0,Ar),Ar.record.name&&!isAliasRecord(Ar)&&u.set(Ar.record.name,Ar)}function Sr(Ar,Ir){let $r,kr={},Dr,Cr;if("name"in Ar&&Ar.name){if($r=u.get(Ar.name),!$r)throw createRouterError(1,{location:Ar});Cr=$r.record.name,kr=assign$2(paramsFromLocation(Ir.params,$r.keys.filter(qr=>!qr.optional).map(qr=>qr.name)),Ar.params&&paramsFromLocation(Ar.params,$r.keys.map(qr=>qr.name))),Dr=$r.stringify(kr)}else if("path"in Ar)Dr=Ar.path,$r=c.find(qr=>qr.re.test(Dr)),$r&&(kr=$r.parse(Dr),Cr=$r.record.name);else{if($r=Ir.name?u.get(Ir.name):c.find(qr=>qr.re.test(Ir.path)),!$r)throw createRouterError(1,{location:Ar,currentLocation:Ir});Cr=$r.record.name,kr=assign$2({},Ir.params,Ar.params),Dr=$r.stringify(kr)}const Br=[];let Fr=$r;for(;Fr;)Br.unshift(Fr.record),Fr=Fr.parent;return{name:Cr,path:Dr,params:kr,matched:Br,meta:mergeMetaFields(Br)}}return a.forEach(Ar=>d(Ar)),{addRoute:d,resolve:Sr,removeRoute:y,getRoutes:m,getRecordMatcher:l}}function paramsFromLocation(a,r){const c={};for(const u of r)u in a&&(c[u]=a[u]);return c}function normalizeRouteRecord(a){return{path:a.path,redirect:a.redirect,name:a.name,meta:a.meta||{},aliasOf:void 0,beforeEnter:a.beforeEnter,props:normalizeRecordProps(a),children:a.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in a?a.components||null:a.component&&{default:a.component}}}function normalizeRecordProps(a){const r={},c=a.props||!1;if("component"in a)r.default=c;else for(const u in a.components)r[u]=typeof c=="boolean"?c:c[u];return r}function isAliasRecord(a){for(;a;){if(a.record.aliasOf)return!0;a=a.parent}return!1}function mergeMetaFields(a){return a.reduce((r,c)=>assign$2(r,c.meta),{})}function mergeOptions(a,r){const c={};for(const u in a)c[u]=u in r?r[u]:a[u];return c}function isRecordChildOf(a,r){return r.children.some(c=>c===a||isRecordChildOf(a,c))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(a){return encodeURI(""+a).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(a){return commonEncode(a).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(a){return commonEncode(a).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(a){return encodeQueryValue(a).replace(EQUAL_RE,"%3D")}function encodePath(a){return commonEncode(a).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(a){return a==null?"":encodePath(a).replace(SLASH_RE,"%2F")}function decode(a){try{return decodeURIComponent(""+a)}catch{}return""+a}function parseQuery(a){const r={};if(a===""||a==="?")return r;const u=(a[0]==="?"?a.slice(1):a).split("&");for(let l=0;l<u.length;++l){const d=u[l].replace(PLUS_RE," "),y=d.indexOf("="),m=decode(y<0?d:d.slice(0,y)),wr=y<0?null:decode(d.slice(y+1));if(m in r){let Sr=r[m];isArray$1(Sr)||(Sr=r[m]=[Sr]),Sr.push(wr)}else r[m]=wr}return r}function stringifyQuery(a){let r="";for(let c in a){const u=a[c];if(c=encodeQueryKey(c),u==null){u!==void 0&&(r+=(r.length?"&":"")+c);continue}(isArray$1(u)?u.map(d=>d&&encodeQueryValue(d)):[u&&encodeQueryValue(u)]).forEach(d=>{d!==void 0&&(r+=(r.length?"&":"")+c,d!=null&&(r+="="+d))})}return r}function normalizeQuery(a){const r={};for(const c in a){const u=a[c];u!==void 0&&(r[c]=isArray$1(u)?u.map(l=>l==null?null:""+l):u==null?u:""+u)}return r}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let a=[];function r(u){return a.push(u),()=>{const l=a.indexOf(u);l>-1&&a.splice(l,1)}}function c(){a=[]}return{add:r,list:()=>a,reset:c}}function guardToPromiseFn(a,r,c,u,l){const d=u&&(u.enterCallbacks[l]=u.enterCallbacks[l]||[]);return()=>new Promise((y,m)=>{const wr=Ir=>{Ir===!1?m(createRouterError(4,{from:c,to:r})):Ir instanceof Error?m(Ir):isRouteLocation(Ir)?m(createRouterError(2,{from:r,to:Ir})):(d&&u.enterCallbacks[l]===d&&typeof Ir=="function"&&d.push(Ir),y())},Sr=a.call(u&&u.instances[l],r,c,wr);let Ar=Promise.resolve(Sr);a.length<3&&(Ar=Ar.then(wr)),Ar.catch(Ir=>m(Ir))})}function extractComponentsGuards(a,r,c,u){const l=[];for(const d of a)for(const y in d.components){let m=d.components[y];if(!(r!=="beforeRouteEnter"&&!d.instances[y]))if(isRouteComponent(m)){const Sr=(m.__vccOpts||m)[r];Sr&&l.push(guardToPromiseFn(Sr,c,u,d,y))}else{let wr=m();l.push(()=>wr.then(Sr=>{if(!Sr)return Promise.reject(new Error(`Couldn't resolve component "${y}" at "${d.path}"`));const Ar=isESModule(Sr)?Sr.default:Sr;d.components[y]=Ar;const $r=(Ar.__vccOpts||Ar)[r];return $r&&guardToPromiseFn($r,c,u,d,y)()}))}}return l}function isRouteComponent(a){return typeof a=="object"||"displayName"in a||"props"in a||"__vccOpts"in a}function useLink(a){const r=inject(routerKey),c=inject(routeLocationKey),u=computed$1(()=>r.resolve(unref(a.to))),l=computed$1(()=>{const{matched:wr}=u.value,{length:Sr}=wr,Ar=wr[Sr-1],Ir=c.matched;if(!Ar||!Ir.length)return-1;const $r=Ir.findIndex(isSameRouteRecord.bind(null,Ar));if($r>-1)return $r;const kr=getOriginalPath(wr[Sr-2]);return Sr>1&&getOriginalPath(Ar)===kr&&Ir[Ir.length-1].path!==kr?Ir.findIndex(isSameRouteRecord.bind(null,wr[Sr-2])):$r}),d=computed$1(()=>l.value>-1&&includesParams(c.params,u.value.params)),y=computed$1(()=>l.value>-1&&l.value===c.matched.length-1&&isSameRouteLocationParams(c.params,u.value.params));function m(wr={}){return guardEvent(wr)?r[unref(a.replace)?"replace":"push"](unref(a.to)).catch(noop$1):Promise.resolve()}return{route:u,href:computed$1(()=>u.value.href),isActive:d,isExactActive:y,navigate:m}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(a,{slots:r}){const c=reactive(useLink(a)),{options:u}=inject(routerKey),l=computed$1(()=>({[getLinkClass(a.activeClass,u.linkActiveClass,"router-link-active")]:c.isActive,[getLinkClass(a.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:c.isExactActive}));return()=>{const d=r.default&&r.default(c);return a.custom?d:h("a",{"aria-current":c.isExactActive?a.ariaCurrentValue:null,href:c.href,onClick:c.navigate,class:l.value},d)}}}),RouterLink=RouterLinkImpl;function guardEvent(a){if(!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&!a.defaultPrevented&&!(a.button!==void 0&&a.button!==0)){if(a.currentTarget&&a.currentTarget.getAttribute){const r=a.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return a.preventDefault&&a.preventDefault(),!0}}function includesParams(a,r){for(const c in r){const u=r[c],l=a[c];if(typeof u=="string"){if(u!==l)return!1}else if(!isArray$1(l)||l.length!==u.length||u.some((d,y)=>d!==l[y]))return!1}return!0}function getOriginalPath(a){return a?a.aliasOf?a.aliasOf.path:a.path:""}const getLinkClass=(a,r,c)=>a??r??c,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(a,{attrs:r,slots:c}){const u=inject(routerViewLocationKey),l=computed$1(()=>a.route||u.value),d=inject(viewDepthKey,0),y=computed$1(()=>{let Sr=unref(d);const{matched:Ar}=l.value;let Ir;for(;(Ir=Ar[Sr])&&!Ir.components;)Sr++;return Sr}),m=computed$1(()=>l.value.matched[y.value]);provide(viewDepthKey,computed$1(()=>y.value+1)),provide(matchedRouteKey,m),provide(routerViewLocationKey,l);const wr=ref();return watch(()=>[wr.value,m.value,a.name],([Sr,Ar,Ir],[$r,kr,Dr])=>{Ar&&(Ar.instances[Ir]=Sr,kr&&kr!==Ar&&Sr&&Sr===$r&&(Ar.leaveGuards.size||(Ar.leaveGuards=kr.leaveGuards),Ar.updateGuards.size||(Ar.updateGuards=kr.updateGuards))),Sr&&Ar&&(!kr||!isSameRouteRecord(Ar,kr)||!$r)&&(Ar.enterCallbacks[Ir]||[]).forEach(Cr=>Cr(Sr))},{flush:"post"}),()=>{const Sr=l.value,Ar=a.name,Ir=m.value,$r=Ir&&Ir.components[Ar];if(!$r)return normalizeSlot(c.default,{Component:$r,route:Sr});const kr=Ir.props[Ar],Dr=kr?kr===!0?Sr.params:typeof kr=="function"?kr(Sr):kr:null,Br=h($r,assign$2({},Dr,r,{onVnodeUnmounted:Fr=>{Fr.component.isUnmounted&&(Ir.instances[Ar]=null)},ref:wr}));return normalizeSlot(c.default,{Component:Br,route:Sr})||Br}}});function normalizeSlot(a,r){if(!a)return null;const c=a(r);return c.length===1?c[0]:c}const RouterView=RouterViewImpl;function createRouter(a){const r=createRouterMatcher(a.routes,a),c=a.parseQuery||parseQuery,u=a.stringifyQuery||stringifyQuery,l=a.history,d=useCallbacks(),y=useCallbacks(),m=useCallbacks(),wr=shallowRef(START_LOCATION_NORMALIZED);let Sr=START_LOCATION_NORMALIZED;isBrowser&&a.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const Ar=applyToParams.bind(null,en=>""+en),Ir=applyToParams.bind(null,encodeParam),$r=applyToParams.bind(null,decode);function kr(en,tn){let dn,pn;return isRouteName(en)?(dn=r.getRecordMatcher(en),pn=tn):pn=en,r.addRoute(pn,dn)}function Dr(en){const tn=r.getRecordMatcher(en);tn&&r.removeRoute(tn)}function Cr(){return r.getRoutes().map(en=>en.record)}function Br(en){return!!r.getRecordMatcher(en)}function Fr(en,tn){if(tn=assign$2({},tn||wr.value),typeof en=="string"){const kn=parseURL(c,en,tn.path),sn=r.resolve({path:kn.path},tn),ln=l.createHref(kn.fullPath);return assign$2(kn,sn,{params:$r(sn.params),hash:decode(kn.hash),redirectedFrom:void 0,href:ln})}let dn;if("path"in en)dn=assign$2({},en,{path:parseURL(c,en.path,tn.path).path});else{const kn=assign$2({},en.params);for(const sn in kn)kn[sn]==null&&delete kn[sn];dn=assign$2({},en,{params:Ir(en.params)}),tn.params=Ir(tn.params)}const pn=r.resolve(dn,tn),vn=en.hash||"";pn.params=Ar($r(pn.params));const $n=stringifyURL(u,assign$2({},en,{hash:encodeHash(vn),path:pn.path})),Pn=l.createHref($n);return assign$2({fullPath:$n,hash:vn,query:u===stringifyQuery?normalizeQuery(en.query):en.query||{}},pn,{redirectedFrom:void 0,href:Pn})}function qr(en){return typeof en=="string"?parseURL(c,en,wr.value.path):assign$2({},en)}function Vr(en,tn){if(Sr!==en)return createRouterError(8,{from:tn,to:en})}function Jr(en){return Zr(en)}function Qr(en){return Jr(assign$2(qr(en),{replace:!0}))}function Wr(en){const tn=en.matched[en.matched.length-1];if(tn&&tn.redirect){const{redirect:dn}=tn;let pn=typeof dn=="function"?dn(en):dn;return typeof pn=="string"&&(pn=pn.includes("?")||pn.includes("#")?pn=qr(pn):{path:pn},pn.params={}),assign$2({query:en.query,hash:en.hash,params:"path"in pn?{}:en.params},pn)}}function Zr(en,tn){const dn=Sr=Fr(en),pn=wr.value,vn=en.state,$n=en.force,Pn=en.replace===!0,kn=Wr(dn);if(kn)return Zr(assign$2(qr(kn),{state:typeof kn=="object"?assign$2({},vn,kn.state):vn,force:$n,replace:Pn}),tn||dn);const sn=dn;sn.redirectedFrom=tn;let ln;return!$n&&isSameRouteLocation(u,pn,dn)&&(ln=createRouterError(16,{to:sn,from:pn}),wn(pn,pn,!0,!1)),(ln?Promise.resolve(ln):gn(sn,pn)).catch(Sn=>isNavigationFailure(Sn)?isNavigationFailure(Sn,2)?Sn:un(Sn):Hr(Sn,sn,pn)).then(Sn=>{if(Sn){if(isNavigationFailure(Sn,2))return Zr(assign$2({replace:Pn},qr(Sn.to),{state:typeof Sn.to=="object"?assign$2({},vn,Sn.to.state):vn,force:$n}),tn||sn)}else Sn=fn(sn,pn,!0,Pn,vn);return an(sn,pn,Sn),Sn})}function rn(en,tn){const dn=Vr(en,tn);return dn?Promise.reject(dn):Promise.resolve()}function gn(en,tn){let dn;const[pn,vn,$n]=extractChangingRecords(en,tn);dn=extractComponentsGuards(pn.reverse(),"beforeRouteLeave",en,tn);for(const kn of pn)kn.leaveGuards.forEach(sn=>{dn.push(guardToPromiseFn(sn,en,tn))});const Pn=rn.bind(null,en,tn);return dn.push(Pn),runGuardQueue(dn).then(()=>{dn=[];for(const kn of d.list())dn.push(guardToPromiseFn(kn,en,tn));return dn.push(Pn),runGuardQueue(dn)}).then(()=>{dn=extractComponentsGuards(vn,"beforeRouteUpdate",en,tn);for(const kn of vn)kn.updateGuards.forEach(sn=>{dn.push(guardToPromiseFn(sn,en,tn))});return dn.push(Pn),runGuardQueue(dn)}).then(()=>{dn=[];for(const kn of en.matched)if(kn.beforeEnter&&!tn.matched.includes(kn))if(isArray$1(kn.beforeEnter))for(const sn of kn.beforeEnter)dn.push(guardToPromiseFn(sn,en,tn));else dn.push(guardToPromiseFn(kn.beforeEnter,en,tn));return dn.push(Pn),runGuardQueue(dn)}).then(()=>(en.matched.forEach(kn=>kn.enterCallbacks={}),dn=extractComponentsGuards($n,"beforeRouteEnter",en,tn),dn.push(Pn),runGuardQueue(dn))).then(()=>{dn=[];for(const kn of y.list())dn.push(guardToPromiseFn(kn,en,tn));return dn.push(Pn),runGuardQueue(dn)}).catch(kn=>isNavigationFailure(kn,8)?kn:Promise.reject(kn))}function an(en,tn,dn){for(const pn of m.list())pn(en,tn,dn)}function fn(en,tn,dn,pn,vn){const $n=Vr(en,tn);if($n)return $n;const Pn=tn===START_LOCATION_NORMALIZED,kn=isBrowser?history.state:{};dn&&(pn||Pn?l.replace(en.fullPath,assign$2({scroll:Pn&&kn&&kn.scroll},vn)):l.push(en.fullPath,vn)),wr.value=en,wn(en,tn,dn,Pn),un()}let mn;function Mr(){mn||(mn=l.listen((en,tn,dn)=>{if(!hn.listening)return;const pn=Fr(en),vn=Wr(pn);if(vn){Zr(assign$2(vn,{replace:!0}),pn).catch(noop$1);return}Sr=pn;const $n=wr.value;isBrowser&&saveScrollPosition(getScrollKey($n.fullPath,dn.delta),computeScrollPosition()),gn(pn,$n).catch(Pn=>isNavigationFailure(Pn,12)?Pn:isNavigationFailure(Pn,2)?(Zr(Pn.to,pn).then(kn=>{isNavigationFailure(kn,20)&&!dn.delta&&dn.type===NavigationType.pop&&l.go(-1,!1)}).catch(noop$1),Promise.reject()):(dn.delta&&l.go(-dn.delta,!1),Hr(Pn,pn,$n))).then(Pn=>{Pn=Pn||fn(pn,$n,!1),Pn&&(dn.delta&&!isNavigationFailure(Pn,8)?l.go(-dn.delta,!1):dn.type===NavigationType.pop&&isNavigationFailure(Pn,20)&&l.go(-1,!1)),an(pn,$n,Pn)}).catch(noop$1)}))}let xr=useCallbacks(),Pr=useCallbacks(),Kr;function Hr(en,tn,dn){un(en);const pn=Pr.list();return pn.length?pn.forEach(vn=>vn(en,tn,dn)):console.error(en),Promise.reject(en)}function Gr(){return Kr&&wr.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((en,tn)=>{xr.add([en,tn])})}function un(en){return Kr||(Kr=!en,Mr(),xr.list().forEach(([tn,dn])=>en?dn(en):tn()),xr.reset()),en}function wn(en,tn,dn,pn){const{scrollBehavior:vn}=a;if(!isBrowser||!vn)return Promise.resolve();const $n=!dn&&getSavedScrollPosition(getScrollKey(en.fullPath,0))||(pn||!dn)&&history.state&&history.state.scroll||null;return nextTick().then(()=>vn(en,tn,$n)).then(Pn=>Pn&&scrollToPosition(Pn)).catch(Pn=>Hr(Pn,en,tn))}const jr=en=>l.go(en);let Rr;const Ur=new Set,hn={currentRoute:wr,listening:!0,addRoute:kr,removeRoute:Dr,hasRoute:Br,getRoutes:Cr,resolve:Fr,options:a,push:Jr,replace:Qr,go:jr,back:()=>jr(-1),forward:()=>jr(1),beforeEach:d.add,beforeResolve:y.add,afterEach:m.add,onError:Pr.add,isReady:Gr,install(en){const tn=this;en.component("RouterLink",RouterLink),en.component("RouterView",RouterView),en.config.globalProperties.$router=tn,Object.defineProperty(en.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(wr)}),isBrowser&&!Rr&&wr.value===START_LOCATION_NORMALIZED&&(Rr=!0,Jr(l.location).catch(vn=>{}));const dn={};for(const vn in START_LOCATION_NORMALIZED)dn[vn]=computed$1(()=>wr.value[vn]);en.provide(routerKey,tn),en.provide(routeLocationKey,reactive(dn)),en.provide(routerViewLocationKey,wr);const pn=en.unmount;Ur.add(en),en.unmount=function(){Ur.delete(en),Ur.size<1&&(Sr=START_LOCATION_NORMALIZED,mn&&mn(),mn=null,wr.value=START_LOCATION_NORMALIZED,Rr=!1,Kr=!1),pn()}}};return hn}function runGuardQueue(a){return a.reduce((r,c)=>r.then(()=>c()),Promise.resolve())}function extractChangingRecords(a,r){const c=[],u=[],l=[],d=Math.max(r.matched.length,a.matched.length);for(let y=0;y<d;y++){const m=r.matched[y];m&&(a.matched.find(Sr=>isSameRouteRecord(Sr,m))?u.push(m):c.push(m));const wr=a.matched[y];wr&&(r.matched.find(Sr=>isSameRouteRecord(Sr,wr))||l.push(wr))}return[c,u,l]}const index="",style="",_sfc_main$8={},_hoisted_1$7={class:"bg-[url('/public/rouge_market_background_1.png')]"},_hoisted_2$6=createBaseVNode("div",{class:"pt-72 flex"},null,-1),_hoisted_3$3=createBaseVNode("div",{class:"flex flex-col justify-center text-center"},[createBaseVNode("h1",null,"Rouge Market")],-1),_hoisted_4$2=createBaseVNode("div",{class:"flex flex-col justify-center text-center pt-9 pb-96"},[createBaseVNode("h2",null,"HEIM and S&B")],-1),_hoisted_5$2=[_hoisted_2$6,_hoisted_3$3,_hoisted_4$2];function _sfc_render$3(a,r){return openBlock(),createElementBlock("div",_hoisted_1$7,_hoisted_5$2)}const Home=_export_sfc(_sfc_main$8,[["render",_sfc_render$3]]),SERUMAPIWEBSOCKET="wss://api.serum-vial.dev/v1/ws";class Convert{static toMarketLevel1(r){return JSON.parse(r)}static marketLevel1ToJson(r){return JSON.stringify(r)}}const useTokenPriceStore=defineStore({id:"tokenPriceStore",state:()=>({ws:{},btc:"0.0",sol:"0.0",atlas:"0.0",polis:"0.0"}),actions:{init(){this.ws=new WebSocket(SERUMAPIWEBSOCKET);const a={op:"subscribe",channel:"level1",markets:["BTC/USDC"]},r={op:"subscribe",channel:"level1",markets:["SOL/USDC"]},c={op:"subscribe",channel:"level1",markets:["POLIS/USDC"]},u={op:"subscribe",channel:"level1",markets:["ATLAS/USDC"]};this.ws.onopen=()=>{this.ws.send(JSON.stringify(a)),this.ws.send(JSON.stringify(r)),this.ws.send(JSON.stringify(c)),this.ws.send(JSON.stringify(u))},this.ws.onmessage=l=>{const d=Convert.toMarketLevel1(l.data);if(d.type==="quote")switch(d.market){case"BTC/USDC":this.btc=d.bestBid[0];break;case"SOL/USDC":this.sol=d.bestBid[0];break;case"ATLAS/USDC":this.atlas=d.bestBid[0];break;case"POLIS/USDC":this.polis=d.bestBid[0];break}}}}});var buffer$1={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const r=base64Js$1,c=ieee754$1,u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=m,a.SlowBuffer=qr,a.INSPECT_MAX_BYTES=50;const l=2147483647;a.kMaxLength=l,m.TYPED_ARRAY_SUPPORT=d(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const Er=new Uint8Array(1),_r={foo:function(){return 42}};return Object.setPrototypeOf(_r,Uint8Array.prototype),Object.setPrototypeOf(Er,_r),Er.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.byteOffset}});function y(Er){if(Er>l)throw new RangeError('The value "'+Er+'" is invalid for option "size"');const _r=new Uint8Array(Er);return Object.setPrototypeOf(_r,m.prototype),_r}function m(Er,_r,br){if(typeof Er=="number"){if(typeof _r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ir(Er)}return wr(Er,_r,br)}m.poolSize=8192;function wr(Er,_r,br){if(typeof Er=="string")return $r(Er,_r);if(ArrayBuffer.isView(Er))return Dr(Er);if(Er==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Er);if(cn(Er,ArrayBuffer)||Er&&cn(Er.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(cn(Er,SharedArrayBuffer)||Er&&cn(Er.buffer,SharedArrayBuffer)))return Cr(Er,_r,br);if(typeof Er=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Tr=Er.valueOf&&Er.valueOf();if(Tr!=null&&Tr!==Er)return m.from(Tr,_r,br);const Lr=Br(Er);if(Lr)return Lr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Er[Symbol.toPrimitive]=="function")return m.from(Er[Symbol.toPrimitive]("string"),_r,br);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Er)}m.from=function(Er,_r,br){return wr(Er,_r,br)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function Sr(Er){if(typeof Er!="number")throw new TypeError('"size" argument must be of type number');if(Er<0)throw new RangeError('The value "'+Er+'" is invalid for option "size"')}function Ar(Er,_r,br){return Sr(Er),Er<=0?y(Er):_r!==void 0?typeof br=="string"?y(Er).fill(_r,br):y(Er).fill(_r):y(Er)}m.alloc=function(Er,_r,br){return Ar(Er,_r,br)};function Ir(Er){return Sr(Er),y(Er<0?0:Fr(Er)|0)}m.allocUnsafe=function(Er){return Ir(Er)},m.allocUnsafeSlow=function(Er){return Ir(Er)};function $r(Er,_r){if((typeof _r!="string"||_r==="")&&(_r="utf8"),!m.isEncoding(_r))throw new TypeError("Unknown encoding: "+_r);const br=Vr(Er,_r)|0;let Tr=y(br);const Lr=Tr.write(Er,_r);return Lr!==br&&(Tr=Tr.slice(0,Lr)),Tr}function kr(Er){const _r=Er.length<0?0:Fr(Er.length)|0,br=y(_r);for(let Tr=0;Tr<_r;Tr+=1)br[Tr]=Er[Tr]&255;return br}function Dr(Er){if(cn(Er,Uint8Array)){const _r=new Uint8Array(Er);return Cr(_r.buffer,_r.byteOffset,_r.byteLength)}return kr(Er)}function Cr(Er,_r,br){if(_r<0||Er.byteLength<_r)throw new RangeError('"offset" is outside of buffer bounds');if(Er.byteLength<_r+(br||0))throw new RangeError('"length" is outside of buffer bounds');let Tr;return _r===void 0&&br===void 0?Tr=new Uint8Array(Er):br===void 0?Tr=new Uint8Array(Er,_r):Tr=new Uint8Array(Er,_r,br),Object.setPrototypeOf(Tr,m.prototype),Tr}function Br(Er){if(m.isBuffer(Er)){const _r=Fr(Er.length)|0,br=y(_r);return br.length===0||Er.copy(br,0,0,_r),br}if(Er.length!==void 0)return typeof Er.length!="number"||yn(Er.length)?y(0):kr(Er);if(Er.type==="Buffer"&&Array.isArray(Er.data))return kr(Er.data)}function Fr(Er){if(Er>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return Er|0}function qr(Er){return+Er!=Er&&(Er=0),m.alloc(+Er)}m.isBuffer=function(_r){return _r!=null&&_r._isBuffer===!0&&_r!==m.prototype},m.compare=function(_r,br){if(cn(_r,Uint8Array)&&(_r=m.from(_r,_r.offset,_r.byteLength)),cn(br,Uint8Array)&&(br=m.from(br,br.offset,br.byteLength)),!m.isBuffer(_r)||!m.isBuffer(br))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_r===br)return 0;let Tr=_r.length,Lr=br.length;for(let zr=0,Xr=Math.min(Tr,Lr);zr<Xr;++zr)if(_r[zr]!==br[zr]){Tr=_r[zr],Lr=br[zr];break}return Tr<Lr?-1:Lr<Tr?1:0},m.isEncoding=function(_r){switch(String(_r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(_r,br){if(!Array.isArray(_r))throw new TypeError('"list" argument must be an Array of Buffers');if(_r.length===0)return m.alloc(0);let Tr;if(br===void 0)for(br=0,Tr=0;Tr<_r.length;++Tr)br+=_r[Tr].length;const Lr=m.allocUnsafe(br);let zr=0;for(Tr=0;Tr<_r.length;++Tr){let Xr=_r[Tr];if(cn(Xr,Uint8Array))zr+Xr.length>Lr.length?(m.isBuffer(Xr)||(Xr=m.from(Xr)),Xr.copy(Lr,zr)):Uint8Array.prototype.set.call(Lr,Xr,zr);else if(m.isBuffer(Xr))Xr.copy(Lr,zr);else throw new TypeError('"list" argument must be an Array of Buffers');zr+=Xr.length}return Lr};function Vr(Er,_r){if(m.isBuffer(Er))return Er.length;if(ArrayBuffer.isView(Er)||cn(Er,ArrayBuffer))return Er.byteLength;if(typeof Er!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Er);const br=Er.length,Tr=arguments.length>2&&arguments[2]===!0;if(!Tr&&br===0)return 0;let Lr=!1;for(;;)switch(_r){case"ascii":case"latin1":case"binary":return br;case"utf8":case"utf-8":return In(Er).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return br*2;case"hex":return br>>>1;case"base64":return Cn(Er).length;default:if(Lr)return Tr?-1:In(Er).length;_r=(""+_r).toLowerCase(),Lr=!0}}m.byteLength=Vr;function Jr(Er,_r,br){let Tr=!1;if((_r===void 0||_r<0)&&(_r=0),_r>this.length||((br===void 0||br>this.length)&&(br=this.length),br<=0)||(br>>>=0,_r>>>=0,br<=_r))return"";for(Er||(Er="utf8");;)switch(Er){case"hex":return un(this,_r,br);case"utf8":case"utf-8":return xr(this,_r,br);case"ascii":return Hr(this,_r,br);case"latin1":case"binary":return Gr(this,_r,br);case"base64":return Mr(this,_r,br);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wn(this,_r,br);default:if(Tr)throw new TypeError("Unknown encoding: "+Er);Er=(Er+"").toLowerCase(),Tr=!0}}m.prototype._isBuffer=!0;function Qr(Er,_r,br){const Tr=Er[_r];Er[_r]=Er[br],Er[br]=Tr}m.prototype.swap16=function(){const _r=this.length;if(_r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let br=0;br<_r;br+=2)Qr(this,br,br+1);return this},m.prototype.swap32=function(){const _r=this.length;if(_r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let br=0;br<_r;br+=4)Qr(this,br,br+3),Qr(this,br+1,br+2);return this},m.prototype.swap64=function(){const _r=this.length;if(_r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let br=0;br<_r;br+=8)Qr(this,br,br+7),Qr(this,br+1,br+6),Qr(this,br+2,br+5),Qr(this,br+3,br+4);return this},m.prototype.toString=function(){const _r=this.length;return _r===0?"":arguments.length===0?xr(this,0,_r):Jr.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(_r){if(!m.isBuffer(_r))throw new TypeError("Argument must be a Buffer");return this===_r?!0:m.compare(this,_r)===0},m.prototype.inspect=function(){let _r="";const br=a.INSPECT_MAX_BYTES;return _r=this.toString("hex",0,br).replace(/(.{2})/g,"$1 ").trim(),this.length>br&&(_r+=" ... "),"<Buffer "+_r+">"},u&&(m.prototype[u]=m.prototype.inspect),m.prototype.compare=function(_r,br,Tr,Lr,zr){if(cn(_r,Uint8Array)&&(_r=m.from(_r,_r.offset,_r.byteLength)),!m.isBuffer(_r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _r);if(br===void 0&&(br=0),Tr===void 0&&(Tr=_r?_r.length:0),Lr===void 0&&(Lr=0),zr===void 0&&(zr=this.length),br<0||Tr>_r.length||Lr<0||zr>this.length)throw new RangeError("out of range index");if(Lr>=zr&&br>=Tr)return 0;if(Lr>=zr)return-1;if(br>=Tr)return 1;if(br>>>=0,Tr>>>=0,Lr>>>=0,zr>>>=0,this===_r)return 0;let Xr=zr-Lr,Dn=Tr-br;const Vn=Math.min(Xr,Dn),Fn=this.slice(Lr,zr),Wn=_r.slice(br,Tr);for(let Hn=0;Hn<Vn;++Hn)if(Fn[Hn]!==Wn[Hn]){Xr=Fn[Hn],Dn=Wn[Hn];break}return Xr<Dn?-1:Dn<Xr?1:0};function Wr(Er,_r,br,Tr,Lr){if(Er.length===0)return-1;if(typeof br=="string"?(Tr=br,br=0):br>2147483647?br=2147483647:br<-2147483648&&(br=-2147483648),br=+br,yn(br)&&(br=Lr?0:Er.length-1),br<0&&(br=Er.length+br),br>=Er.length){if(Lr)return-1;br=Er.length-1}else if(br<0)if(Lr)br=0;else return-1;if(typeof _r=="string"&&(_r=m.from(_r,Tr)),m.isBuffer(_r))return _r.length===0?-1:Zr(Er,_r,br,Tr,Lr);if(typeof _r=="number")return _r=_r&255,typeof Uint8Array.prototype.indexOf=="function"?Lr?Uint8Array.prototype.indexOf.call(Er,_r,br):Uint8Array.prototype.lastIndexOf.call(Er,_r,br):Zr(Er,[_r],br,Tr,Lr);throw new TypeError("val must be string, number or Buffer")}function Zr(Er,_r,br,Tr,Lr){let zr=1,Xr=Er.length,Dn=_r.length;if(Tr!==void 0&&(Tr=String(Tr).toLowerCase(),Tr==="ucs2"||Tr==="ucs-2"||Tr==="utf16le"||Tr==="utf-16le")){if(Er.length<2||_r.length<2)return-1;zr=2,Xr/=2,Dn/=2,br/=2}function Vn(Wn,Hn){return zr===1?Wn[Hn]:Wn.readUInt16BE(Hn*zr)}let Fn;if(Lr){let Wn=-1;for(Fn=br;Fn<Xr;Fn++)if(Vn(Er,Fn)===Vn(_r,Wn===-1?0:Fn-Wn)){if(Wn===-1&&(Wn=Fn),Fn-Wn+1===Dn)return Wn*zr}else Wn!==-1&&(Fn-=Fn-Wn),Wn=-1}else for(br+Dn>Xr&&(br=Xr-Dn),Fn=br;Fn>=0;Fn--){let Wn=!0;for(let Hn=0;Hn<Dn;Hn++)if(Vn(Er,Fn+Hn)!==Vn(_r,Hn)){Wn=!1;break}if(Wn)return Fn}return-1}m.prototype.includes=function(_r,br,Tr){return this.indexOf(_r,br,Tr)!==-1},m.prototype.indexOf=function(_r,br,Tr){return Wr(this,_r,br,Tr,!0)},m.prototype.lastIndexOf=function(_r,br,Tr){return Wr(this,_r,br,Tr,!1)};function rn(Er,_r,br,Tr){br=Number(br)||0;const Lr=Er.length-br;Tr?(Tr=Number(Tr),Tr>Lr&&(Tr=Lr)):Tr=Lr;const zr=_r.length;Tr>zr/2&&(Tr=zr/2);let Xr;for(Xr=0;Xr<Tr;++Xr){const Dn=parseInt(_r.substr(Xr*2,2),16);if(yn(Dn))return Xr;Er[br+Xr]=Dn}return Xr}function gn(Er,_r,br,Tr){return Mn(In(_r,Er.length-br),Er,br,Tr)}function an(Er,_r,br,Tr){return Mn(Ln(_r),Er,br,Tr)}function fn(Er,_r,br,Tr){return Mn(Cn(_r),Er,br,Tr)}function mn(Er,_r,br,Tr){return Mn(An(_r,Er.length-br),Er,br,Tr)}m.prototype.write=function(_r,br,Tr,Lr){if(br===void 0)Lr="utf8",Tr=this.length,br=0;else if(Tr===void 0&&typeof br=="string")Lr=br,Tr=this.length,br=0;else if(isFinite(br))br=br>>>0,isFinite(Tr)?(Tr=Tr>>>0,Lr===void 0&&(Lr="utf8")):(Lr=Tr,Tr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const zr=this.length-br;if((Tr===void 0||Tr>zr)&&(Tr=zr),_r.length>0&&(Tr<0||br<0)||br>this.length)throw new RangeError("Attempt to write outside buffer bounds");Lr||(Lr="utf8");let Xr=!1;for(;;)switch(Lr){case"hex":return rn(this,_r,br,Tr);case"utf8":case"utf-8":return gn(this,_r,br,Tr);case"ascii":case"latin1":case"binary":return an(this,_r,br,Tr);case"base64":return fn(this,_r,br,Tr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mn(this,_r,br,Tr);default:if(Xr)throw new TypeError("Unknown encoding: "+Lr);Lr=(""+Lr).toLowerCase(),Xr=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mr(Er,_r,br){return _r===0&&br===Er.length?r.fromByteArray(Er):r.fromByteArray(Er.slice(_r,br))}function xr(Er,_r,br){br=Math.min(Er.length,br);const Tr=[];let Lr=_r;for(;Lr<br;){const zr=Er[Lr];let Xr=null,Dn=zr>239?4:zr>223?3:zr>191?2:1;if(Lr+Dn<=br){let Vn,Fn,Wn,Hn;switch(Dn){case 1:zr<128&&(Xr=zr);break;case 2:Vn=Er[Lr+1],(Vn&192)===128&&(Hn=(zr&31)<<6|Vn&63,Hn>127&&(Xr=Hn));break;case 3:Vn=Er[Lr+1],Fn=Er[Lr+2],(Vn&192)===128&&(Fn&192)===128&&(Hn=(zr&15)<<12|(Vn&63)<<6|Fn&63,Hn>2047&&(Hn<55296||Hn>57343)&&(Xr=Hn));break;case 4:Vn=Er[Lr+1],Fn=Er[Lr+2],Wn=Er[Lr+3],(Vn&192)===128&&(Fn&192)===128&&(Wn&192)===128&&(Hn=(zr&15)<<18|(Vn&63)<<12|(Fn&63)<<6|Wn&63,Hn>65535&&Hn<1114112&&(Xr=Hn))}}Xr===null?(Xr=65533,Dn=1):Xr>65535&&(Xr-=65536,Tr.push(Xr>>>10&1023|55296),Xr=56320|Xr&1023),Tr.push(Xr),Lr+=Dn}return Kr(Tr)}const Pr=4096;function Kr(Er){const _r=Er.length;if(_r<=Pr)return String.fromCharCode.apply(String,Er);let br="",Tr=0;for(;Tr<_r;)br+=String.fromCharCode.apply(String,Er.slice(Tr,Tr+=Pr));return br}function Hr(Er,_r,br){let Tr="";br=Math.min(Er.length,br);for(let Lr=_r;Lr<br;++Lr)Tr+=String.fromCharCode(Er[Lr]&127);return Tr}function Gr(Er,_r,br){let Tr="";br=Math.min(Er.length,br);for(let Lr=_r;Lr<br;++Lr)Tr+=String.fromCharCode(Er[Lr]);return Tr}function un(Er,_r,br){const Tr=Er.length;(!_r||_r<0)&&(_r=0),(!br||br<0||br>Tr)&&(br=Tr);let Lr="";for(let zr=_r;zr<br;++zr)Lr+=xn[Er[zr]];return Lr}function wn(Er,_r,br){const Tr=Er.slice(_r,br);let Lr="";for(let zr=0;zr<Tr.length-1;zr+=2)Lr+=String.fromCharCode(Tr[zr]+Tr[zr+1]*256);return Lr}m.prototype.slice=function(_r,br){const Tr=this.length;_r=~~_r,br=br===void 0?Tr:~~br,_r<0?(_r+=Tr,_r<0&&(_r=0)):_r>Tr&&(_r=Tr),br<0?(br+=Tr,br<0&&(br=0)):br>Tr&&(br=Tr),br<_r&&(br=_r);const Lr=this.subarray(_r,br);return Object.setPrototypeOf(Lr,m.prototype),Lr};function jr(Er,_r,br){if(Er%1!==0||Er<0)throw new RangeError("offset is not uint");if(Er+_r>br)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r],zr=1,Xr=0;for(;++Xr<br&&(zr*=256);)Lr+=this[_r+Xr]*zr;return Lr},m.prototype.readUintBE=m.prototype.readUIntBE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r+--br],zr=1;for(;br>0&&(zr*=256);)Lr+=this[_r+--br]*zr;return Lr},m.prototype.readUint8=m.prototype.readUInt8=function(_r,br){return _r=_r>>>0,br||jr(_r,1,this.length),this[_r]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(_r,br){return _r=_r>>>0,br||jr(_r,2,this.length),this[_r]|this[_r+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(_r,br){return _r=_r>>>0,br||jr(_r,2,this.length),this[_r]<<8|this[_r+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),(this[_r]|this[_r+1]<<8|this[_r+2]<<16)+this[_r+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]*16777216+(this[_r+1]<<16|this[_r+2]<<8|this[_r+3])},m.prototype.readBigUInt64LE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=br+this[++_r]*2**8+this[++_r]*2**16+this[++_r]*2**24,zr=this[++_r]+this[++_r]*2**8+this[++_r]*2**16+Tr*2**24;return BigInt(Lr)+(BigInt(zr)<<BigInt(32))}),m.prototype.readBigUInt64BE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=br*2**24+this[++_r]*2**16+this[++_r]*2**8+this[++_r],zr=this[++_r]*2**24+this[++_r]*2**16+this[++_r]*2**8+Tr;return(BigInt(Lr)<<BigInt(32))+BigInt(zr)}),m.prototype.readIntLE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r],zr=1,Xr=0;for(;++Xr<br&&(zr*=256);)Lr+=this[_r+Xr]*zr;return zr*=128,Lr>=zr&&(Lr-=Math.pow(2,8*br)),Lr},m.prototype.readIntBE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=br,zr=1,Xr=this[_r+--Lr];for(;Lr>0&&(zr*=256);)Xr+=this[_r+--Lr]*zr;return zr*=128,Xr>=zr&&(Xr-=Math.pow(2,8*br)),Xr},m.prototype.readInt8=function(_r,br){return _r=_r>>>0,br||jr(_r,1,this.length),this[_r]&128?(255-this[_r]+1)*-1:this[_r]},m.prototype.readInt16LE=function(_r,br){_r=_r>>>0,br||jr(_r,2,this.length);const Tr=this[_r]|this[_r+1]<<8;return Tr&32768?Tr|4294901760:Tr},m.prototype.readInt16BE=function(_r,br){_r=_r>>>0,br||jr(_r,2,this.length);const Tr=this[_r+1]|this[_r]<<8;return Tr&32768?Tr|4294901760:Tr},m.prototype.readInt32LE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]|this[_r+1]<<8|this[_r+2]<<16|this[_r+3]<<24},m.prototype.readInt32BE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]<<24|this[_r+1]<<16|this[_r+2]<<8|this[_r+3]},m.prototype.readBigInt64LE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=this[_r+4]+this[_r+5]*2**8+this[_r+6]*2**16+(Tr<<24);return(BigInt(Lr)<<BigInt(32))+BigInt(br+this[++_r]*2**8+this[++_r]*2**16+this[++_r]*2**24)}),m.prototype.readBigInt64BE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=(br<<24)+this[++_r]*2**16+this[++_r]*2**8+this[++_r];return(BigInt(Lr)<<BigInt(32))+BigInt(this[++_r]*2**24+this[++_r]*2**16+this[++_r]*2**8+Tr)}),m.prototype.readFloatLE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),c.read(this,_r,!0,23,4)},m.prototype.readFloatBE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),c.read(this,_r,!1,23,4)},m.prototype.readDoubleLE=function(_r,br){return _r=_r>>>0,br||jr(_r,8,this.length),c.read(this,_r,!0,52,8)},m.prototype.readDoubleBE=function(_r,br){return _r=_r>>>0,br||jr(_r,8,this.length),c.read(this,_r,!1,52,8)};function Rr(Er,_r,br,Tr,Lr,zr){if(!m.isBuffer(Er))throw new TypeError('"buffer" argument must be a Buffer instance');if(_r>Lr||_r<zr)throw new RangeError('"value" argument is out of bounds');if(br+Tr>Er.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,Tr=Tr>>>0,!Lr){const Dn=Math.pow(2,8*Tr)-1;Rr(this,_r,br,Tr,Dn,0)}let zr=1,Xr=0;for(this[br]=_r&255;++Xr<Tr&&(zr*=256);)this[br+Xr]=_r/zr&255;return br+Tr},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,Tr=Tr>>>0,!Lr){const Dn=Math.pow(2,8*Tr)-1;Rr(this,_r,br,Tr,Dn,0)}let zr=Tr-1,Xr=1;for(this[br+zr]=_r&255;--zr>=0&&(Xr*=256);)this[br+zr]=_r/Xr&255;return br+Tr},m.prototype.writeUint8=m.prototype.writeUInt8=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,1,255,0),this[br]=_r&255,br+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,65535,0),this[br]=_r&255,this[br+1]=_r>>>8,br+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,65535,0),this[br]=_r>>>8,this[br+1]=_r&255,br+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,4294967295,0),this[br+3]=_r>>>24,this[br+2]=_r>>>16,this[br+1]=_r>>>8,this[br]=_r&255,br+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,4294967295,0),this[br]=_r>>>24,this[br+1]=_r>>>16,this[br+2]=_r>>>8,this[br+3]=_r&255,br+4};function Ur(Er,_r,br,Tr,Lr){kn(_r,Tr,Lr,Er,br,7);let zr=Number(_r&BigInt(4294967295));Er[br++]=zr,zr=zr>>8,Er[br++]=zr,zr=zr>>8,Er[br++]=zr,zr=zr>>8,Er[br++]=zr;let Xr=Number(_r>>BigInt(32)&BigInt(4294967295));return Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,br}function hn(Er,_r,br,Tr,Lr){kn(_r,Tr,Lr,Er,br,7);let zr=Number(_r&BigInt(4294967295));Er[br+7]=zr,zr=zr>>8,Er[br+6]=zr,zr=zr>>8,Er[br+5]=zr,zr=zr>>8,Er[br+4]=zr;let Xr=Number(_r>>BigInt(32)&BigInt(4294967295));return Er[br+3]=Xr,Xr=Xr>>8,Er[br+2]=Xr,Xr=Xr>>8,Er[br+1]=Xr,Xr=Xr>>8,Er[br]=Xr,br+8}m.prototype.writeBigUInt64LE=Rn(function(_r,br=0){return Ur(this,_r,br,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Rn(function(_r,br=0){return hn(this,_r,br,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,!Lr){const Vn=Math.pow(2,8*Tr-1);Rr(this,_r,br,Tr,Vn-1,-Vn)}let zr=0,Xr=1,Dn=0;for(this[br]=_r&255;++zr<Tr&&(Xr*=256);)_r<0&&Dn===0&&this[br+zr-1]!==0&&(Dn=1),this[br+zr]=(_r/Xr>>0)-Dn&255;return br+Tr},m.prototype.writeIntBE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,!Lr){const Vn=Math.pow(2,8*Tr-1);Rr(this,_r,br,Tr,Vn-1,-Vn)}let zr=Tr-1,Xr=1,Dn=0;for(this[br+zr]=_r&255;--zr>=0&&(Xr*=256);)_r<0&&Dn===0&&this[br+zr+1]!==0&&(Dn=1),this[br+zr]=(_r/Xr>>0)-Dn&255;return br+Tr},m.prototype.writeInt8=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,1,127,-128),_r<0&&(_r=255+_r+1),this[br]=_r&255,br+1},m.prototype.writeInt16LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,32767,-32768),this[br]=_r&255,this[br+1]=_r>>>8,br+2},m.prototype.writeInt16BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,32767,-32768),this[br]=_r>>>8,this[br+1]=_r&255,br+2},m.prototype.writeInt32LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,2147483647,-2147483648),this[br]=_r&255,this[br+1]=_r>>>8,this[br+2]=_r>>>16,this[br+3]=_r>>>24,br+4},m.prototype.writeInt32BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,2147483647,-2147483648),_r<0&&(_r=4294967295+_r+1),this[br]=_r>>>24,this[br+1]=_r>>>16,this[br+2]=_r>>>8,this[br+3]=_r&255,br+4},m.prototype.writeBigInt64LE=Rn(function(_r,br=0){return Ur(this,_r,br,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Rn(function(_r,br=0){return hn(this,_r,br,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function en(Er,_r,br,Tr,Lr,zr){if(br+Tr>Er.length)throw new RangeError("Index out of range");if(br<0)throw new RangeError("Index out of range")}function tn(Er,_r,br,Tr,Lr){return _r=+_r,br=br>>>0,Lr||en(Er,_r,br,4),c.write(Er,_r,br,Tr,23,4),br+4}m.prototype.writeFloatLE=function(_r,br,Tr){return tn(this,_r,br,!0,Tr)},m.prototype.writeFloatBE=function(_r,br,Tr){return tn(this,_r,br,!1,Tr)};function dn(Er,_r,br,Tr,Lr){return _r=+_r,br=br>>>0,Lr||en(Er,_r,br,8),c.write(Er,_r,br,Tr,52,8),br+8}m.prototype.writeDoubleLE=function(_r,br,Tr){return dn(this,_r,br,!0,Tr)},m.prototype.writeDoubleBE=function(_r,br,Tr){return dn(this,_r,br,!1,Tr)},m.prototype.copy=function(_r,br,Tr,Lr){if(!m.isBuffer(_r))throw new TypeError("argument should be a Buffer");if(Tr||(Tr=0),!Lr&&Lr!==0&&(Lr=this.length),br>=_r.length&&(br=_r.length),br||(br=0),Lr>0&&Lr<Tr&&(Lr=Tr),Lr===Tr||_r.length===0||this.length===0)return 0;if(br<0)throw new RangeError("targetStart out of bounds");if(Tr<0||Tr>=this.length)throw new RangeError("Index out of range");if(Lr<0)throw new RangeError("sourceEnd out of bounds");Lr>this.length&&(Lr=this.length),_r.length-br<Lr-Tr&&(Lr=_r.length-br+Tr);const zr=Lr-Tr;return this===_r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(br,Tr,Lr):Uint8Array.prototype.set.call(_r,this.subarray(Tr,Lr),br),zr},m.prototype.fill=function(_r,br,Tr,Lr){if(typeof _r=="string"){if(typeof br=="string"?(Lr=br,br=0,Tr=this.length):typeof Tr=="string"&&(Lr=Tr,Tr=this.length),Lr!==void 0&&typeof Lr!="string")throw new TypeError("encoding must be a string");if(typeof Lr=="string"&&!m.isEncoding(Lr))throw new TypeError("Unknown encoding: "+Lr);if(_r.length===1){const Xr=_r.charCodeAt(0);(Lr==="utf8"&&Xr<128||Lr==="latin1")&&(_r=Xr)}}else typeof _r=="number"?_r=_r&255:typeof _r=="boolean"&&(_r=Number(_r));if(br<0||this.length<br||this.length<Tr)throw new RangeError("Out of range index");if(Tr<=br)return this;br=br>>>0,Tr=Tr===void 0?this.length:Tr>>>0,_r||(_r=0);let zr;if(typeof _r=="number")for(zr=br;zr<Tr;++zr)this[zr]=_r;else{const Xr=m.isBuffer(_r)?_r:m.from(_r,Lr),Dn=Xr.length;if(Dn===0)throw new TypeError('The value "'+_r+'" is invalid for argument "value"');for(zr=0;zr<Tr-br;++zr)this[zr+br]=Xr[zr%Dn]}return this};const pn={};function vn(Er,_r,br){pn[Er]=class extends br{constructor(){super(),Object.defineProperty(this,"message",{value:_r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Er}]`,this.stack,delete this.name}get code(){return Er}set code(Lr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Lr,writable:!0})}toString(){return`${this.name} [${Er}]: ${this.message}`}}}vn("ERR_BUFFER_OUT_OF_BOUNDS",function(Er){return Er?`${Er} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vn("ERR_INVALID_ARG_TYPE",function(Er,_r){return`The "${Er}" argument must be of type number. Received type ${typeof _r}`},TypeError),vn("ERR_OUT_OF_RANGE",function(Er,_r,br){let Tr=`The value of "${Er}" is out of range.`,Lr=br;return Number.isInteger(br)&&Math.abs(br)>2**32?Lr=$n(String(br)):typeof br=="bigint"&&(Lr=String(br),(br>BigInt(2)**BigInt(32)||br<-(BigInt(2)**BigInt(32)))&&(Lr=$n(Lr)),Lr+="n"),Tr+=` It must be ${_r}. Received ${Lr}`,Tr},RangeError);function $n(Er){let _r="",br=Er.length;const Tr=Er[0]==="-"?1:0;for(;br>=Tr+4;br-=3)_r=`_${Er.slice(br-3,br)}${_r}`;return`${Er.slice(0,br)}${_r}`}function Pn(Er,_r,br){sn(_r,"offset"),(Er[_r]===void 0||Er[_r+br]===void 0)&&ln(_r,Er.length-(br+1))}function kn(Er,_r,br,Tr,Lr,zr){if(Er>br||Er<_r){const Xr=typeof _r=="bigint"?"n":"";let Dn;throw zr>3?_r===0||_r===BigInt(0)?Dn=`>= 0${Xr} and < 2${Xr} ** ${(zr+1)*8}${Xr}`:Dn=`>= -(2${Xr} ** ${(zr+1)*8-1}${Xr}) and < 2 ** ${(zr+1)*8-1}${Xr}`:Dn=`>= ${_r}${Xr} and <= ${br}${Xr}`,new pn.ERR_OUT_OF_RANGE("value",Dn,Er)}Pn(Tr,Lr,zr)}function sn(Er,_r){if(typeof Er!="number")throw new pn.ERR_INVALID_ARG_TYPE(_r,"number",Er)}function ln(Er,_r,br){throw Math.floor(Er)!==Er?(sn(Er,br),new pn.ERR_OUT_OF_RANGE(br||"offset","an integer",Er)):_r<0?new pn.ERR_BUFFER_OUT_OF_BOUNDS:new pn.ERR_OUT_OF_RANGE(br||"offset",`>= ${br?1:0} and <= ${_r}`,Er)}const Sn=/[^+/0-9A-Za-z-_]/g;function Bn(Er){if(Er=Er.split("=")[0],Er=Er.trim().replace(Sn,""),Er.length<2)return"";for(;Er.length%4!==0;)Er=Er+"=";return Er}function In(Er,_r){_r=_r||1/0;let br;const Tr=Er.length;let Lr=null;const zr=[];for(let Xr=0;Xr<Tr;++Xr){if(br=Er.charCodeAt(Xr),br>55295&&br<57344){if(!Lr){if(br>56319){(_r-=3)>-1&&zr.push(239,191,189);continue}else if(Xr+1===Tr){(_r-=3)>-1&&zr.push(239,191,189);continue}Lr=br;continue}if(br<56320){(_r-=3)>-1&&zr.push(239,191,189),Lr=br;continue}br=(Lr-55296<<10|br-56320)+65536}else Lr&&(_r-=3)>-1&&zr.push(239,191,189);if(Lr=null,br<128){if((_r-=1)<0)break;zr.push(br)}else if(br<2048){if((_r-=2)<0)break;zr.push(br>>6|192,br&63|128)}else if(br<65536){if((_r-=3)<0)break;zr.push(br>>12|224,br>>6&63|128,br&63|128)}else if(br<1114112){if((_r-=4)<0)break;zr.push(br>>18|240,br>>12&63|128,br>>6&63|128,br&63|128)}else throw new Error("Invalid code point")}return zr}function Ln(Er){const _r=[];for(let br=0;br<Er.length;++br)_r.push(Er.charCodeAt(br)&255);return _r}function An(Er,_r){let br,Tr,Lr;const zr=[];for(let Xr=0;Xr<Er.length&&!((_r-=2)<0);++Xr)br=Er.charCodeAt(Xr),Tr=br>>8,Lr=br%256,zr.push(Lr),zr.push(Tr);return zr}function Cn(Er){return r.toByteArray(Bn(Er))}function Mn(Er,_r,br,Tr){let Lr;for(Lr=0;Lr<Tr&&!(Lr+br>=_r.length||Lr>=Er.length);++Lr)_r[Lr+br]=Er[Lr];return Lr}function cn(Er,_r){return Er instanceof _r||Er!=null&&Er.constructor!=null&&Er.constructor.name!=null&&Er.constructor.name===_r.name}function yn(Er){return Er!==Er}const xn=function(){const Er="0123456789abcdef",_r=new Array(256);for(let br=0;br<16;++br){const Tr=br*16;for(let Lr=0;Lr<16;++Lr)_r[Tr+Lr]=Er[br]+Er[Lr]}return _r}();function Rn(Er){return typeof BigInt>"u"?Nn:Er}function Nn(){throw new Error("BigInt not supported")}})(buffer$1);function number$1(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function bool(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function bytes(a,...r){if(!(a instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(r.length>0&&!r.includes(a.length))throw new TypeError(`Expected Uint8Array of length ${r}, not of length=${a.length}`)}function hash(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(a.outputLen),number$1(a.blockLen)}function exists(a,r=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(r&&a.finished)throw new Error("Hash#digest() has already been called")}function output(a,r){bytes(a);const c=r.outputLen;if(a.length<c)throw new Error(`digestInto() expects output buffer of length at least ${c}`)}const assert$4={number:number$1,bool,bytes,hash,exists,output};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32$2=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),createView=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),rotr=(a,r)=>a<<32-r|a>>>r,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(a,r)=>r.toString(16).padStart(2,"0"));function utf8ToBytes(a){if(typeof a!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof a}`);return new TextEncoder().encode(a)}function toBytes(a){if(typeof a=="string"&&(a=utf8ToBytes(a)),!(a instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof a})`);return a}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(a){const r=u=>a().update(toBytes(u)).digest(),c=a();return r.outputLen=c.outputLen,r.blockLen=c.blockLen,r.create=()=>a(),r}function wrapConstructorWithOpts(a){const r=(u,l)=>a(l).update(toBytes(u)).digest(),c=a({});return r.outputLen=c.outputLen,r.blockLen=c.blockLen,r.create=u=>a(u),r}function setBigUint64(a,r,c,u){if(typeof a.setBigUint64=="function")return a.setBigUint64(r,c,u);const l=BigInt(32),d=BigInt(4294967295),y=Number(c>>l&d),m=Number(c&d),wr=u?4:0,Sr=u?0:4;a.setUint32(r+wr,y,u),a.setUint32(r+Sr,m,u)}class SHA2 extends Hash{constructor(r,c,u,l){super(),this.blockLen=r,this.outputLen=c,this.padOffset=u,this.isLE=l,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=createView(this.buffer)}update(r){assert$4.exists(this);const{view:c,buffer:u,blockLen:l}=this;r=toBytes(r);const d=r.length;for(let y=0;y<d;){const m=Math.min(l-this.pos,d-y);if(m===l){const wr=createView(r);for(;l<=d-y;y+=l)this.process(wr,y);continue}u.set(r.subarray(y,y+m),this.pos),this.pos+=m,y+=m,this.pos===l&&(this.process(c,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){assert$4.exists(this),assert$4.output(r,this),this.finished=!0;const{buffer:c,view:u,blockLen:l,isLE:d}=this;let{pos:y}=this;c[y++]=128,this.buffer.subarray(y).fill(0),this.padOffset>l-y&&(this.process(u,0),y=0);for(let wr=y;wr<l;wr++)c[wr]=0;setBigUint64(u,l-8,BigInt(this.length*8),d),this.process(u,0);const m=createView(r);this.get().forEach((wr,Sr)=>m.setUint32(4*Sr,wr,d))}digest(){const{buffer:r,outputLen:c}=this;this.digestInto(r);const u=r.slice(0,c);return this.destroy(),u}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:c,buffer:u,length:l,finished:d,destroyed:y,pos:m}=this;return r.length=l,r.pos=m,r.finished=d,r.destroyed=y,l%c&&r.buffer.set(u),r}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(a,r=!1){return r?{h:Number(a&U32_MASK64),l:Number(a>>_32n&U32_MASK64)}:{h:Number(a>>_32n&U32_MASK64)|0,l:Number(a&U32_MASK64)|0}}function split(a,r=!1){let c=new Uint32Array(a.length),u=new Uint32Array(a.length);for(let l=0;l<a.length;l++){const{h:d,l:y}=fromBig(a[l],r);[c[l],u[l]]=[d,y]}return[c,u]}const toBig=(a,r)=>BigInt(a>>>0)<<_32n|BigInt(r>>>0),shrSH=(a,r,c)=>a>>>c,shrSL=(a,r,c)=>a<<32-c|r>>>c,rotrSH=(a,r,c)=>a>>>c|r<<32-c,rotrSL=(a,r,c)=>a<<32-c|r>>>c,rotrBH=(a,r,c)=>a<<64-c|r>>>c-32,rotrBL=(a,r,c)=>a>>>c-32|r<<64-c,rotr32H=(a,r)=>r,rotr32L=(a,r)=>a,rotlSH=(a,r,c)=>a<<c|r>>>32-c,rotlSL=(a,r,c)=>r<<c|a>>>32-c,rotlBH=(a,r,c)=>r<<c-32|a>>>64-c,rotlBL=(a,r,c)=>a<<c-32|r>>>64-c;function add(a,r,c,u){const l=(r>>>0)+(u>>>0);return{h:a+c+(l/2**32|0)|0,l:l|0}}const add3L=(a,r,c)=>(a>>>0)+(r>>>0)+(c>>>0),add3H=(a,r,c,u)=>r+c+u+(a/2**32|0)|0,add4L=(a,r,c,u)=>(a>>>0)+(r>>>0)+(c>>>0)+(u>>>0),add4H=(a,r,c,u,l)=>r+c+u+l+(a/2**32|0)|0,add5L=(a,r,c,u,l)=>(a>>>0)+(r>>>0)+(c>>>0)+(u>>>0)+(l>>>0),add5H=(a,r,c,u,l,d)=>r+c+u+l+d+(a/2**32|0)|0,u64$2={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64$2.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:r,Al:c,Bh:u,Bl:l,Ch:d,Cl:y,Dh:m,Dl:wr,Eh:Sr,El:Ar,Fh:Ir,Fl:$r,Gh:kr,Gl:Dr,Hh:Cr,Hl:Br}=this;return[r,c,u,l,d,y,m,wr,Sr,Ar,Ir,$r,kr,Dr,Cr,Br]}set(r,c,u,l,d,y,m,wr,Sr,Ar,Ir,$r,kr,Dr,Cr,Br){this.Ah=r|0,this.Al=c|0,this.Bh=u|0,this.Bl=l|0,this.Ch=d|0,this.Cl=y|0,this.Dh=m|0,this.Dl=wr|0,this.Eh=Sr|0,this.El=Ar|0,this.Fh=Ir|0,this.Fl=$r|0,this.Gh=kr|0,this.Gl=Dr|0,this.Hh=Cr|0,this.Hl=Br|0}process(r,c){for(let Vr=0;Vr<16;Vr++,c+=4)SHA512_W_H[Vr]=r.getUint32(c),SHA512_W_L[Vr]=r.getUint32(c+=4);for(let Vr=16;Vr<80;Vr++){const Jr=SHA512_W_H[Vr-15]|0,Qr=SHA512_W_L[Vr-15]|0,Wr=u64$2.rotrSH(Jr,Qr,1)^u64$2.rotrSH(Jr,Qr,8)^u64$2.shrSH(Jr,Qr,7),Zr=u64$2.rotrSL(Jr,Qr,1)^u64$2.rotrSL(Jr,Qr,8)^u64$2.shrSL(Jr,Qr,7),rn=SHA512_W_H[Vr-2]|0,gn=SHA512_W_L[Vr-2]|0,an=u64$2.rotrSH(rn,gn,19)^u64$2.rotrBH(rn,gn,61)^u64$2.shrSH(rn,gn,6),fn=u64$2.rotrSL(rn,gn,19)^u64$2.rotrBL(rn,gn,61)^u64$2.shrSL(rn,gn,6),mn=u64$2.add4L(Zr,fn,SHA512_W_L[Vr-7],SHA512_W_L[Vr-16]),Mr=u64$2.add4H(mn,Wr,an,SHA512_W_H[Vr-7],SHA512_W_H[Vr-16]);SHA512_W_H[Vr]=Mr|0,SHA512_W_L[Vr]=mn|0}let{Ah:u,Al:l,Bh:d,Bl:y,Ch:m,Cl:wr,Dh:Sr,Dl:Ar,Eh:Ir,El:$r,Fh:kr,Fl:Dr,Gh:Cr,Gl:Br,Hh:Fr,Hl:qr}=this;for(let Vr=0;Vr<80;Vr++){const Jr=u64$2.rotrSH(Ir,$r,14)^u64$2.rotrSH(Ir,$r,18)^u64$2.rotrBH(Ir,$r,41),Qr=u64$2.rotrSL(Ir,$r,14)^u64$2.rotrSL(Ir,$r,18)^u64$2.rotrBL(Ir,$r,41),Wr=Ir&kr^~Ir&Cr,Zr=$r&Dr^~$r&Br,rn=u64$2.add5L(qr,Qr,Zr,SHA512_Kl[Vr],SHA512_W_L[Vr]),gn=u64$2.add5H(rn,Fr,Jr,Wr,SHA512_Kh[Vr],SHA512_W_H[Vr]),an=rn|0,fn=u64$2.rotrSH(u,l,28)^u64$2.rotrBH(u,l,34)^u64$2.rotrBH(u,l,39),mn=u64$2.rotrSL(u,l,28)^u64$2.rotrBL(u,l,34)^u64$2.rotrBL(u,l,39),Mr=u&d^u&m^d&m,xr=l&y^l&wr^y&wr;Fr=Cr|0,qr=Br|0,Cr=kr|0,Br=Dr|0,kr=Ir|0,Dr=$r|0,{h:Ir,l:$r}=u64$2.add(Sr|0,Ar|0,gn|0,an|0),Sr=m|0,Ar=wr|0,m=d|0,wr=y|0,d=u|0,y=l|0;const Pr=u64$2.add3L(an,mn,xr);u=u64$2.add3H(Pr,gn,fn,Mr),l=Pr|0}({h:u,l}=u64$2.add(this.Ah|0,this.Al|0,u|0,l|0)),{h:d,l:y}=u64$2.add(this.Bh|0,this.Bl|0,d|0,y|0),{h:m,l:wr}=u64$2.add(this.Ch|0,this.Cl|0,m|0,wr|0),{h:Sr,l:Ar}=u64$2.add(this.Dh|0,this.Dl|0,Sr|0,Ar|0),{h:Ir,l:$r}=u64$2.add(this.Eh|0,this.El|0,Ir|0,$r|0),{h:kr,l:Dr}=u64$2.add(this.Fh|0,this.Fl|0,kr|0,Dr|0),{h:Cr,l:Br}=u64$2.add(this.Gh|0,this.Gl|0,Cr|0,Br|0),{h:Fr,l:qr}=u64$2.add(this.Hh|0,this.Hl|0,Fr|0,qr|0),this.set(u,l,d,y,m,wr,Sr,Ar,Ir,$r,kr,Dr,Cr,Br,Fr,qr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const sha512=wrapConstructor(()=>new SHA512);wrapConstructor(()=>new SHA512_256);wrapConstructor(()=>new SHA384);const __viteBrowserExternal={},nodeCrypto=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1),_2n$2=BigInt(2),CU_O=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),CURVE$1=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:CU_O,n:CU_O,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),POW_2_256$1=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const SQRT_AD_MINUS_ONE=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),INVSQRT_A_MINUS_D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ONE_MINUS_D_SQ=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D_MINUS_ONE_SQ=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ExtendedPoint{constructor(r,c,u,l){this.x=r,this.y=c,this.z=u,this.t=l}static fromAffine(r){if(!(r instanceof Point$1))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return r.equals(Point$1.ZERO)?ExtendedPoint.ZERO:new ExtendedPoint(r.x,r.y,_1n$2,mod$1(r.x*r.y))}static toAffineBatch(r){const c=invertBatch$1(r.map(u=>u.z));return r.map((u,l)=>u.toAffine(c[l]))}static normalizeZ(r){return this.toAffineBatch(r).map(this.fromAffine)}equals(r){assertExtPoint(r);const{x:c,y:u,z:l}=this,{x:d,y,z:m}=r,wr=mod$1(c*m),Sr=mod$1(d*l),Ar=mod$1(u*m),Ir=mod$1(y*l);return wr===Sr&&Ar===Ir}negate(){return new ExtendedPoint(mod$1(-this.x),this.y,this.z,mod$1(-this.t))}double(){const{x:r,y:c,z:u}=this,{a:l}=CURVE$1,d=mod$1(r*r),y=mod$1(c*c),m=mod$1(_2n$2*mod$1(u*u)),wr=mod$1(l*d),Sr=r+c,Ar=mod$1(mod$1(Sr*Sr)-d-y),Ir=wr+y,$r=Ir-m,kr=wr-y,Dr=mod$1(Ar*$r),Cr=mod$1(Ir*kr),Br=mod$1(Ar*kr),Fr=mod$1($r*Ir);return new ExtendedPoint(Dr,Cr,Fr,Br)}add(r){assertExtPoint(r);const{x:c,y:u,z:l,t:d}=this,{x:y,y:m,z:wr,t:Sr}=r,Ar=mod$1((u-c)*(m+y)),Ir=mod$1((u+c)*(m-y)),$r=mod$1(Ir-Ar);if($r===_0n$2)return this.double();const kr=mod$1(l*_2n$2*Sr),Dr=mod$1(d*_2n$2*wr),Cr=Dr+kr,Br=Ir+Ar,Fr=Dr-kr,qr=mod$1(Cr*$r),Vr=mod$1(Br*Fr),Jr=mod$1(Cr*Fr),Qr=mod$1($r*Br);return new ExtendedPoint(qr,Vr,Qr,Jr)}subtract(r){return this.add(r.negate())}precomputeWindow(r){const c=1+256/r,u=[];let l=this,d=l;for(let y=0;y<c;y++){d=l,u.push(d);for(let m=1;m<2**(r-1);m++)d=d.add(l),u.push(d);l=d.double()}return u}wNAF(r,c){!c&&this.equals(ExtendedPoint.BASE)&&(c=Point$1.BASE);const u=c&&c._WINDOW_SIZE||1;if(256%u)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let l=c&&pointPrecomputes$1.get(c);l||(l=this.precomputeWindow(u),c&&u!==1&&(l=ExtendedPoint.normalizeZ(l),pointPrecomputes$1.set(c,l)));let d=ExtendedPoint.ZERO,y=ExtendedPoint.ZERO;const m=1+256/u,wr=2**(u-1),Sr=BigInt(2**u-1),Ar=2**u,Ir=BigInt(u);for(let $r=0;$r<m;$r++){const kr=$r*wr;let Dr=Number(r&Sr);if(r>>=Ir,Dr>wr&&(Dr-=Ar,r+=_1n$2),Dr===0){let Cr=l[kr];$r%2&&(Cr=Cr.negate()),y=y.add(Cr)}else{let Cr=l[kr+Math.abs(Dr)-1];Dr<0&&(Cr=Cr.negate()),d=d.add(Cr)}}return ExtendedPoint.normalizeZ([d,y])[0]}multiply(r,c){return this.wNAF(normalizeScalar$1(r,CURVE$1.l),c)}multiplyUnsafe(r){let c=normalizeScalar$1(r,CURVE$1.l,!1);const u=ExtendedPoint.BASE,l=ExtendedPoint.ZERO;if(c===_0n$2)return l;if(this.equals(l)||c===_1n$2)return this;if(this.equals(u))return this.wNAF(c);let d=l,y=this;for(;c>_0n$2;)c&_1n$2&&(d=d.add(y)),y=y.double(),c>>=_1n$2;return d}isSmallOrder(){return this.multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}isTorsionFree(){return this.multiplyUnsafe(CURVE$1.l).equals(ExtendedPoint.ZERO)}toAffine(r=invert$1(this.z)){const{x:c,y:u,z:l}=this,d=mod$1(c*r),y=mod$1(u*r);if(mod$1(l*r)!==_1n$2)throw new Error("invZ was invalid");return new Point$1(d,y)}fromRistrettoBytes(){legacyRist()}toRistrettoBytes(){legacyRist()}fromRistrettoHash(){legacyRist()}}ExtendedPoint.BASE=new ExtendedPoint(CURVE$1.Gx,CURVE$1.Gy,_1n$2,mod$1(CURVE$1.Gx*CURVE$1.Gy));ExtendedPoint.ZERO=new ExtendedPoint(_0n$2,_1n$2,_1n$2,_0n$2);function assertExtPoint(a){if(!(a instanceof ExtendedPoint))throw new TypeError("ExtendedPoint expected")}function assertRstPoint(a){if(!(a instanceof RistrettoPoint))throw new TypeError("RistrettoPoint expected")}function legacyRist(){throw new Error("Legacy method: switch to RistrettoPoint")}class RistrettoPoint{constructor(r){this.ep=r}static calcElligatorRistrettoMap(r){const{d:c}=CURVE$1,u=mod$1(SQRT_M1*r*r),l=mod$1((u+_1n$2)*ONE_MINUS_D_SQ);let d=BigInt(-1);const y=mod$1((d-c*u)*mod$1(u+c));let{isValid:m,value:wr}=uvRatio(l,y),Sr=mod$1(wr*r);edIsNegative(Sr)||(Sr=mod$1(-Sr)),m||(wr=Sr),m||(d=u);const Ar=mod$1(d*(u-_1n$2)*D_MINUS_ONE_SQ-y),Ir=wr*wr,$r=mod$1((wr+wr)*y),kr=mod$1(Ar*SQRT_AD_MINUS_ONE),Dr=mod$1(_1n$2-Ir),Cr=mod$1(_1n$2+Ir);return new ExtendedPoint(mod$1($r*Cr),mod$1(Dr*kr),mod$1(kr*Cr),mod$1($r*Dr))}static hashToCurve(r){r=ensureBytes$1(r,64);const c=bytes255ToNumberLE(r.slice(0,32)),u=this.calcElligatorRistrettoMap(c),l=bytes255ToNumberLE(r.slice(32,64)),d=this.calcElligatorRistrettoMap(l);return new RistrettoPoint(u.add(d))}static fromHex(r){r=ensureBytes$1(r,32);const{a:c,d:u}=CURVE$1,l="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",d=bytes255ToNumberLE(r);if(!equalBytes(numberTo32BytesLE(d),r)||edIsNegative(d))throw new Error(l);const y=mod$1(d*d),m=mod$1(_1n$2+c*y),wr=mod$1(_1n$2-c*y),Sr=mod$1(m*m),Ar=mod$1(wr*wr),Ir=mod$1(c*u*Sr-Ar),{isValid:$r,value:kr}=invertSqrt(mod$1(Ir*Ar)),Dr=mod$1(kr*wr),Cr=mod$1(kr*Dr*Ir);let Br=mod$1((d+d)*Dr);edIsNegative(Br)&&(Br=mod$1(-Br));const Fr=mod$1(m*Cr),qr=mod$1(Br*Fr);if(!$r||edIsNegative(qr)||Fr===_0n$2)throw new Error(l);return new RistrettoPoint(new ExtendedPoint(Br,Fr,_1n$2,qr))}toRawBytes(){let{x:r,y:c,z:u,t:l}=this.ep;const d=mod$1(mod$1(u+c)*mod$1(u-c)),y=mod$1(r*c),m=mod$1(y*y),{value:wr}=invertSqrt(mod$1(d*m)),Sr=mod$1(wr*d),Ar=mod$1(wr*y),Ir=mod$1(Sr*Ar*l);let $r;if(edIsNegative(l*Ir)){let Dr=mod$1(c*SQRT_M1),Cr=mod$1(r*SQRT_M1);r=Dr,c=Cr,$r=mod$1(Sr*INVSQRT_A_MINUS_D)}else $r=Ar;edIsNegative(r*Ir)&&(c=mod$1(-c));let kr=mod$1((u-c)*$r);return edIsNegative(kr)&&(kr=mod$1(-kr)),numberTo32BytesLE(kr)}toHex(){return bytesToHex$1(this.toRawBytes())}toString(){return this.toHex()}equals(r){assertRstPoint(r);const c=this.ep,u=r.ep,l=mod$1(c.x*u.y)===mod$1(c.y*u.x),d=mod$1(c.y*u.y)===mod$1(c.x*u.x);return l||d}add(r){return assertRstPoint(r),new RistrettoPoint(this.ep.add(r.ep))}subtract(r){return assertRstPoint(r),new RistrettoPoint(this.ep.subtract(r.ep))}multiply(r){return new RistrettoPoint(this.ep.multiply(r))}multiplyUnsafe(r){return new RistrettoPoint(this.ep.multiplyUnsafe(r))}}RistrettoPoint.BASE=new RistrettoPoint(ExtendedPoint.BASE);RistrettoPoint.ZERO=new RistrettoPoint(ExtendedPoint.ZERO);const pointPrecomputes$1=new WeakMap;class Point$1{constructor(r,c){this.x=r,this.y=c}_setWindowSize(r){this._WINDOW_SIZE=r,pointPrecomputes$1.delete(this)}static fromHex(r,c=!0){const{d:u,P:l}=CURVE$1;r=ensureBytes$1(r,32);const d=r.slice();d[31]=r[31]&-129;const y=bytesToNumberLE(d);if(c&&y>=l)throw new Error("Expected 0 < hex < P");if(!c&&y>=POW_2_256$1)throw new Error("Expected 0 < hex < 2**256");const m=mod$1(y*y),wr=mod$1(m-_1n$2),Sr=mod$1(u*m+_1n$2);let{isValid:Ar,value:Ir}=uvRatio(wr,Sr);if(!Ar)throw new Error("Point.fromHex: invalid y coordinate");const $r=(Ir&_1n$2)===_1n$2;return(r[31]&128)!==0!==$r&&(Ir=mod$1(-Ir)),new Point$1(Ir,y)}static async fromPrivateKey(r){return(await getExtendedPublicKey(r)).point}toRawBytes(){const r=numberTo32BytesLE(this.y);return r[31]|=this.x&_1n$2?128:0,r}toHex(){return bytesToHex$1(this.toRawBytes())}toX25519(){const{y:r}=this,c=mod$1((_1n$2+r)*invert$1(_1n$2-r));return numberTo32BytesLE(c)}isTorsionFree(){return ExtendedPoint.fromAffine(this).isTorsionFree()}equals(r){return this.x===r.x&&this.y===r.y}negate(){return new Point$1(mod$1(-this.x),this.y)}add(r){return ExtendedPoint.fromAffine(this).add(ExtendedPoint.fromAffine(r)).toAffine()}subtract(r){return this.add(r.negate())}multiply(r){return ExtendedPoint.fromAffine(this).multiply(r,this).toAffine()}}Point$1.BASE=new Point$1(CURVE$1.Gx,CURVE$1.Gy);Point$1.ZERO=new Point$1(_0n$2,_1n$2);class Signature$1{constructor(r,c){this.r=r,this.s=c,this.assertValidity()}static fromHex(r){const c=ensureBytes$1(r,64),u=Point$1.fromHex(c.slice(0,32),!1),l=bytesToNumberLE(c.slice(32,64));return new Signature$1(u,l)}assertValidity(){const{r,s:c}=this;if(!(r instanceof Point$1))throw new Error("Expected Point instance");return normalizeScalar$1(c,CURVE$1.l,!1),this}toRawBytes(){const r=new Uint8Array(64);return r.set(this.r.toRawBytes()),r.set(numberTo32BytesLE(this.s),32),r}toHex(){return bytesToHex$1(this.toRawBytes())}}function concatBytes$1(...a){if(!a.every(u=>u instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(a.length===1)return a[0];const r=a.reduce((u,l)=>u+l.length,0),c=new Uint8Array(r);for(let u=0,l=0;u<a.length;u++){const d=a[u];c.set(d,l),l+=d.length}return c}const hexes$1=Array.from({length:256},(a,r)=>r.toString(16).padStart(2,"0"));function bytesToHex$1(a){if(!(a instanceof Uint8Array))throw new Error("Uint8Array expected");let r="";for(let c=0;c<a.length;c++)r+=hexes$1[a[c]];return r}function hexToBytes$1(a){if(typeof a!="string")throw new TypeError("hexToBytes: expected string, got "+typeof a);if(a.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const r=new Uint8Array(a.length/2);for(let c=0;c<r.length;c++){const u=c*2,l=a.slice(u,u+2),d=Number.parseInt(l,16);if(Number.isNaN(d)||d<0)throw new Error("Invalid byte sequence");r[c]=d}return r}function numberTo32BytesBE(a){const c=a.toString(16).padStart(64,"0");return hexToBytes$1(c)}function numberTo32BytesLE(a){return numberTo32BytesBE(a).reverse()}function edIsNegative(a){return(mod$1(a)&_1n$2)===_1n$2}function bytesToNumberLE(a){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+bytesToHex$1(Uint8Array.from(a).reverse()))}const MAX_255B=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bytes255ToNumberLE(a){return mod$1(bytesToNumberLE(a)&MAX_255B)}function mod$1(a,r=CURVE$1.P){const c=a%r;return c>=_0n$2?c:r+c}function invert$1(a,r=CURVE$1.P){if(a===_0n$2||r<=_0n$2)throw new Error(`invert: expected positive integers, got n=${a} mod=${r}`);let c=mod$1(a,r),u=r,l=_0n$2,d=_1n$2;for(;c!==_0n$2;){const m=u/c,wr=u%c,Sr=l-d*m;u=c,c=wr,l=d,d=Sr}if(u!==_1n$2)throw new Error("invert: does not exist");return mod$1(l,r)}function invertBatch$1(a,r=CURVE$1.P){const c=new Array(a.length),u=a.reduce((d,y,m)=>y===_0n$2?d:(c[m]=d,mod$1(d*y,r)),_1n$2),l=invert$1(u,r);return a.reduceRight((d,y,m)=>y===_0n$2?d:(c[m]=mod$1(d*c[m],r),mod$1(d*y,r)),l),c}function pow2$1(a,r){const{P:c}=CURVE$1;let u=a;for(;r-- >_0n$2;)u*=u,u%=c;return u}function pow_2_252_3(a){const{P:r}=CURVE$1,c=BigInt(5),u=BigInt(10),l=BigInt(20),d=BigInt(40),y=BigInt(80),wr=a*a%r*a%r,Sr=pow2$1(wr,_2n$2)*wr%r,Ar=pow2$1(Sr,_1n$2)*a%r,Ir=pow2$1(Ar,c)*Ar%r,$r=pow2$1(Ir,u)*Ir%r,kr=pow2$1($r,l)*$r%r,Dr=pow2$1(kr,d)*kr%r,Cr=pow2$1(Dr,y)*Dr%r,Br=pow2$1(Cr,y)*Dr%r,Fr=pow2$1(Br,u)*Ir%r;return{pow_p_5_8:pow2$1(Fr,_2n$2)*a%r,b2:wr}}function uvRatio(a,r){const c=mod$1(r*r*r),u=mod$1(c*c*r),l=pow_2_252_3(a*u).pow_p_5_8;let d=mod$1(a*c*l);const y=mod$1(r*d*d),m=d,wr=mod$1(d*SQRT_M1),Sr=y===a,Ar=y===mod$1(-a),Ir=y===mod$1(-a*SQRT_M1);return Sr&&(d=m),(Ar||Ir)&&(d=wr),edIsNegative(d)&&(d=mod$1(-d)),{isValid:Sr||Ar,value:d}}function invertSqrt(a){return uvRatio(_1n$2,a)}function modlLE(a){return mod$1(bytesToNumberLE(a),CURVE$1.l)}function equalBytes(a,r){if(a.length!==r.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==r[c])return!1;return!0}function ensureBytes$1(a,r){const c=a instanceof Uint8Array?Uint8Array.from(a):hexToBytes$1(a);if(typeof r=="number"&&c.length!==r)throw new Error(`Expected ${r} bytes`);return c}function normalizeScalar$1(a,r,c=!0){if(!r)throw new TypeError("Specify max value");if(typeof a=="number"&&Number.isSafeInteger(a)&&(a=BigInt(a)),typeof a=="bigint"&&a<r){if(c){if(_0n$2<a)return a}else if(_0n$2<=a)return a}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function adjustBytes25519(a){return a[0]&=248,a[31]&=127,a[31]|=64,a}function checkPrivateKey(a){if(a=typeof a=="bigint"||typeof a=="number"?numberTo32BytesBE(normalizeScalar$1(a,POW_2_256$1)):ensureBytes$1(a),a.length!==32)throw new Error("Expected 32 bytes");return a}function getKeyFromHash(a){const r=adjustBytes25519(a.slice(0,32)),c=a.slice(32,64),u=modlLE(r),l=Point$1.BASE.multiply(u),d=l.toRawBytes();return{head:r,prefix:c,scalar:u,point:l,pointBytes:d}}let _sha512Sync;function sha512s(...a){if(typeof _sha512Sync!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return _sha512Sync(...a)}async function getExtendedPublicKey(a){return getKeyFromHash(await utils$3.sha512(checkPrivateKey(a)))}function getExtendedPublicKeySync(a){return getKeyFromHash(sha512s(checkPrivateKey(a)))}function getPublicKeySync(a){return getExtendedPublicKeySync(a).pointBytes}function signSync$1(a,r){a=ensureBytes$1(a);const{prefix:c,scalar:u,pointBytes:l}=getExtendedPublicKeySync(r),d=modlLE(sha512s(c,a)),y=Point$1.BASE.multiply(d),m=modlLE(sha512s(y.toRawBytes(),l,a)),wr=mod$1(d+m*u,CURVE$1.l);return new Signature$1(y,wr).toRawBytes()}function prepareVerification(a,r,c){r=ensureBytes$1(r),c instanceof Point$1||(c=Point$1.fromHex(c,!1));const{r:u,s:l}=a instanceof Signature$1?a.assertValidity():Signature$1.fromHex(a),d=ExtendedPoint.BASE.multiplyUnsafe(l);return{r:u,s:l,SB:d,pub:c,msg:r}}function finishVerification(a,r,c,u){const l=modlLE(u),d=ExtendedPoint.fromAffine(a).multiplyUnsafe(l);return ExtendedPoint.fromAffine(r).add(d).subtract(c).multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}function verifySync(a,r,c){const{r:u,SB:l,msg:d,pub:y}=prepareVerification(a,r,c),m=sha512s(u.toRawBytes(),y.toRawBytes(),d);return finishVerification(y,u,l,m)}const sync={getExtendedPublicKey:getExtendedPublicKeySync,getPublicKey:getPublicKeySync,sign:signSync$1,verify:verifySync};Point$1.BASE._setWindowSize(8);const crypto$2={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},utils$3={bytesToHex:bytesToHex$1,hexToBytes:hexToBytes$1,concatBytes:concatBytes$1,getExtendedPublicKey,mod:mod$1,invert:invert$1,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:a=>{if(a=ensureBytes$1(a),a.length<40||a.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return mod$1(bytesToNumberLE(a),CURVE$1.l-_1n$2)+_1n$2},randomBytes:(a=32)=>{if(crypto$2.web)return crypto$2.web.getRandomValues(new Uint8Array(a));if(crypto$2.node){const{randomBytes:r}=crypto$2.node;return new Uint8Array(r(a).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$3.randomBytes(32),sha512:async(...a)=>{const r=concatBytes$1(...a);if(crypto$2.web){const c=await crypto$2.web.subtle.digest("SHA-512",r.buffer);return new Uint8Array(c)}else{if(crypto$2.node)return Uint8Array.from(crypto$2.node.createHash("sha512").update(r).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(a=8,r=Point$1.BASE){const c=r.equals(Point$1.BASE)?r:new Point$1(r.x,r.y);return c._setWindowSize(a),c.multiply(_2n$2),c},sha512Sync:void 0};Object.defineProperties(utils$3,{sha512Sync:{configurable:!1,get(){return _sha512Sync},set(a){_sha512Sync||(_sha512Sync=a)}}});var bn={exports:{}};const require$$1$2=getAugmentedNamespace(nodeCrypto);(function(a){(function(r,c){function u(Mr,xr){if(!Mr)throw new Error(xr||"Assertion failed")}function l(Mr,xr){Mr.super_=xr;var Pr=function(){};Pr.prototype=xr.prototype,Mr.prototype=new Pr,Mr.prototype.constructor=Mr}function d(Mr,xr,Pr){if(d.isBN(Mr))return Mr;this.negative=0,this.words=null,this.length=0,this.red=null,Mr!==null&&((xr==="le"||xr==="be")&&(Pr=xr,xr=10),this._init(Mr||0,xr||10,Pr||"be"))}typeof r=="object"?r.exports=d:c.BN=d,d.BN=d,d.wordSize=26;var y;try{typeof window<"u"&&typeof window.Buffer<"u"?y=window.Buffer:y=require$$1$2.Buffer}catch{}d.isBN=function(xr){return xr instanceof d?!0:xr!==null&&typeof xr=="object"&&xr.constructor.wordSize===d.wordSize&&Array.isArray(xr.words)},d.max=function(xr,Pr){return xr.cmp(Pr)>0?xr:Pr},d.min=function(xr,Pr){return xr.cmp(Pr)<0?xr:Pr},d.prototype._init=function(xr,Pr,Kr){if(typeof xr=="number")return this._initNumber(xr,Pr,Kr);if(typeof xr=="object")return this._initArray(xr,Pr,Kr);Pr==="hex"&&(Pr=16),u(Pr===(Pr|0)&&Pr>=2&&Pr<=36),xr=xr.toString().replace(/\s+/g,"");var Hr=0;xr[0]==="-"&&(Hr++,this.negative=1),Hr<xr.length&&(Pr===16?this._parseHex(xr,Hr,Kr):(this._parseBase(xr,Pr,Hr),Kr==="le"&&this._initArray(this.toArray(),Pr,Kr)))},d.prototype._initNumber=function(xr,Pr,Kr){xr<0&&(this.negative=1,xr=-xr),xr<67108864?(this.words=[xr&67108863],this.length=1):xr<4503599627370496?(this.words=[xr&67108863,xr/67108864&67108863],this.length=2):(u(xr<9007199254740992),this.words=[xr&67108863,xr/67108864&67108863,1],this.length=3),Kr==="le"&&this._initArray(this.toArray(),Pr,Kr)},d.prototype._initArray=function(xr,Pr,Kr){if(u(typeof xr.length=="number"),xr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(xr.length/3),this.words=new Array(this.length);for(var Hr=0;Hr<this.length;Hr++)this.words[Hr]=0;var Gr,un,wn=0;if(Kr==="be")for(Hr=xr.length-1,Gr=0;Hr>=0;Hr-=3)un=xr[Hr]|xr[Hr-1]<<8|xr[Hr-2]<<16,this.words[Gr]|=un<<wn&67108863,this.words[Gr+1]=un>>>26-wn&67108863,wn+=24,wn>=26&&(wn-=26,Gr++);else if(Kr==="le")for(Hr=0,Gr=0;Hr<xr.length;Hr+=3)un=xr[Hr]|xr[Hr+1]<<8|xr[Hr+2]<<16,this.words[Gr]|=un<<wn&67108863,this.words[Gr+1]=un>>>26-wn&67108863,wn+=24,wn>=26&&(wn-=26,Gr++);return this._strip()};function m(Mr,xr){var Pr=Mr.charCodeAt(xr);if(Pr>=48&&Pr<=57)return Pr-48;if(Pr>=65&&Pr<=70)return Pr-55;if(Pr>=97&&Pr<=102)return Pr-87;u(!1,"Invalid character in "+Mr)}function wr(Mr,xr,Pr){var Kr=m(Mr,Pr);return Pr-1>=xr&&(Kr|=m(Mr,Pr-1)<<4),Kr}d.prototype._parseHex=function(xr,Pr,Kr){this.length=Math.ceil((xr.length-Pr)/6),this.words=new Array(this.length);for(var Hr=0;Hr<this.length;Hr++)this.words[Hr]=0;var Gr=0,un=0,wn;if(Kr==="be")for(Hr=xr.length-1;Hr>=Pr;Hr-=2)wn=wr(xr,Pr,Hr)<<Gr,this.words[un]|=wn&67108863,Gr>=18?(Gr-=18,un+=1,this.words[un]|=wn>>>26):Gr+=8;else{var jr=xr.length-Pr;for(Hr=jr%2===0?Pr+1:Pr;Hr<xr.length;Hr+=2)wn=wr(xr,Pr,Hr)<<Gr,this.words[un]|=wn&67108863,Gr>=18?(Gr-=18,un+=1,this.words[un]|=wn>>>26):Gr+=8}this._strip()};function Sr(Mr,xr,Pr,Kr){for(var Hr=0,Gr=0,un=Math.min(Mr.length,Pr),wn=xr;wn<un;wn++){var jr=Mr.charCodeAt(wn)-48;Hr*=Kr,jr>=49?Gr=jr-49+10:jr>=17?Gr=jr-17+10:Gr=jr,u(jr>=0&&Gr<Kr,"Invalid character"),Hr+=Gr}return Hr}d.prototype._parseBase=function(xr,Pr,Kr){this.words=[0],this.length=1;for(var Hr=0,Gr=1;Gr<=67108863;Gr*=Pr)Hr++;Hr--,Gr=Gr/Pr|0;for(var un=xr.length-Kr,wn=un%Hr,jr=Math.min(un,un-wn)+Kr,Rr=0,Ur=Kr;Ur<jr;Ur+=Hr)Rr=Sr(xr,Ur,Ur+Hr,Pr),this.imuln(Gr),this.words[0]+Rr<67108864?this.words[0]+=Rr:this._iaddn(Rr);if(wn!==0){var hn=1;for(Rr=Sr(xr,Ur,xr.length,Pr),Ur=0;Ur<wn;Ur++)hn*=Pr;this.imuln(hn),this.words[0]+Rr<67108864?this.words[0]+=Rr:this._iaddn(Rr)}this._strip()},d.prototype.copy=function(xr){xr.words=new Array(this.length);for(var Pr=0;Pr<this.length;Pr++)xr.words[Pr]=this.words[Pr];xr.length=this.length,xr.negative=this.negative,xr.red=this.red};function Ar(Mr,xr){Mr.words=xr.words,Mr.length=xr.length,Mr.negative=xr.negative,Mr.red=xr.red}if(d.prototype._move=function(xr){Ar(xr,this)},d.prototype.clone=function(){var xr=new d(null);return this.copy(xr),xr},d.prototype._expand=function(xr){for(;this.length<xr;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ir}catch{d.prototype.inspect=Ir}else d.prototype.inspect=Ir;function Ir(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var $r=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],kr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Dr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(xr,Pr){xr=xr||10,Pr=Pr|0||1;var Kr;if(xr===16||xr==="hex"){Kr="";for(var Hr=0,Gr=0,un=0;un<this.length;un++){var wn=this.words[un],jr=((wn<<Hr|Gr)&16777215).toString(16);Gr=wn>>>24-Hr&16777215,Hr+=2,Hr>=26&&(Hr-=26,un--),Gr!==0||un!==this.length-1?Kr=$r[6-jr.length]+jr+Kr:Kr=jr+Kr}for(Gr!==0&&(Kr=Gr.toString(16)+Kr);Kr.length%Pr!==0;)Kr="0"+Kr;return this.negative!==0&&(Kr="-"+Kr),Kr}if(xr===(xr|0)&&xr>=2&&xr<=36){var Rr=kr[xr],Ur=Dr[xr];Kr="";var hn=this.clone();for(hn.negative=0;!hn.isZero();){var en=hn.modrn(Ur).toString(xr);hn=hn.idivn(Ur),hn.isZero()?Kr=en+Kr:Kr=$r[Rr-en.length]+en+Kr}for(this.isZero()&&(Kr="0"+Kr);Kr.length%Pr!==0;)Kr="0"+Kr;return this.negative!==0&&(Kr="-"+Kr),Kr}u(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var xr=this.words[0];return this.length===2?xr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?xr+=4503599627370496+this.words[1]*67108864:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-xr:xr},d.prototype.toJSON=function(){return this.toString(16,2)},y&&(d.prototype.toBuffer=function(xr,Pr){return this.toArrayLike(y,xr,Pr)}),d.prototype.toArray=function(xr,Pr){return this.toArrayLike(Array,xr,Pr)};var Cr=function(xr,Pr){return xr.allocUnsafe?xr.allocUnsafe(Pr):new xr(Pr)};d.prototype.toArrayLike=function(xr,Pr,Kr){this._strip();var Hr=this.byteLength(),Gr=Kr||Math.max(1,Hr);u(Hr<=Gr,"byte array longer than desired length"),u(Gr>0,"Requested array length <= 0");var un=Cr(xr,Gr),wn=Pr==="le"?"LE":"BE";return this["_toArrayLike"+wn](un,Hr),un},d.prototype._toArrayLikeLE=function(xr,Pr){for(var Kr=0,Hr=0,Gr=0,un=0;Gr<this.length;Gr++){var wn=this.words[Gr]<<un|Hr;xr[Kr++]=wn&255,Kr<xr.length&&(xr[Kr++]=wn>>8&255),Kr<xr.length&&(xr[Kr++]=wn>>16&255),un===6?(Kr<xr.length&&(xr[Kr++]=wn>>24&255),Hr=0,un=0):(Hr=wn>>>24,un+=2)}if(Kr<xr.length)for(xr[Kr++]=Hr;Kr<xr.length;)xr[Kr++]=0},d.prototype._toArrayLikeBE=function(xr,Pr){for(var Kr=xr.length-1,Hr=0,Gr=0,un=0;Gr<this.length;Gr++){var wn=this.words[Gr]<<un|Hr;xr[Kr--]=wn&255,Kr>=0&&(xr[Kr--]=wn>>8&255),Kr>=0&&(xr[Kr--]=wn>>16&255),un===6?(Kr>=0&&(xr[Kr--]=wn>>24&255),Hr=0,un=0):(Hr=wn>>>24,un+=2)}if(Kr>=0)for(xr[Kr--]=Hr;Kr>=0;)xr[Kr--]=0},Math.clz32?d.prototype._countBits=function(xr){return 32-Math.clz32(xr)}:d.prototype._countBits=function(xr){var Pr=xr,Kr=0;return Pr>=4096&&(Kr+=13,Pr>>>=13),Pr>=64&&(Kr+=7,Pr>>>=7),Pr>=8&&(Kr+=4,Pr>>>=4),Pr>=2&&(Kr+=2,Pr>>>=2),Kr+Pr},d.prototype._zeroBits=function(xr){if(xr===0)return 26;var Pr=xr,Kr=0;return(Pr&8191)===0&&(Kr+=13,Pr>>>=13),(Pr&127)===0&&(Kr+=7,Pr>>>=7),(Pr&15)===0&&(Kr+=4,Pr>>>=4),(Pr&3)===0&&(Kr+=2,Pr>>>=2),(Pr&1)===0&&Kr++,Kr},d.prototype.bitLength=function(){var xr=this.words[this.length-1],Pr=this._countBits(xr);return(this.length-1)*26+Pr};function Br(Mr){for(var xr=new Array(Mr.bitLength()),Pr=0;Pr<xr.length;Pr++){var Kr=Pr/26|0,Hr=Pr%26;xr[Pr]=Mr.words[Kr]>>>Hr&1}return xr}d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var xr=0,Pr=0;Pr<this.length;Pr++){var Kr=this._zeroBits(this.words[Pr]);if(xr+=Kr,Kr!==26)break}return xr},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(xr){return this.negative!==0?this.abs().inotn(xr).iaddn(1):this.clone()},d.prototype.fromTwos=function(xr){return this.testn(xr-1)?this.notn(xr).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(xr){for(;this.length<xr.length;)this.words[this.length++]=0;for(var Pr=0;Pr<xr.length;Pr++)this.words[Pr]=this.words[Pr]|xr.words[Pr];return this._strip()},d.prototype.ior=function(xr){return u((this.negative|xr.negative)===0),this.iuor(xr)},d.prototype.or=function(xr){return this.length>xr.length?this.clone().ior(xr):xr.clone().ior(this)},d.prototype.uor=function(xr){return this.length>xr.length?this.clone().iuor(xr):xr.clone().iuor(this)},d.prototype.iuand=function(xr){var Pr;this.length>xr.length?Pr=xr:Pr=this;for(var Kr=0;Kr<Pr.length;Kr++)this.words[Kr]=this.words[Kr]&xr.words[Kr];return this.length=Pr.length,this._strip()},d.prototype.iand=function(xr){return u((this.negative|xr.negative)===0),this.iuand(xr)},d.prototype.and=function(xr){return this.length>xr.length?this.clone().iand(xr):xr.clone().iand(this)},d.prototype.uand=function(xr){return this.length>xr.length?this.clone().iuand(xr):xr.clone().iuand(this)},d.prototype.iuxor=function(xr){var Pr,Kr;this.length>xr.length?(Pr=this,Kr=xr):(Pr=xr,Kr=this);for(var Hr=0;Hr<Kr.length;Hr++)this.words[Hr]=Pr.words[Hr]^Kr.words[Hr];if(this!==Pr)for(;Hr<Pr.length;Hr++)this.words[Hr]=Pr.words[Hr];return this.length=Pr.length,this._strip()},d.prototype.ixor=function(xr){return u((this.negative|xr.negative)===0),this.iuxor(xr)},d.prototype.xor=function(xr){return this.length>xr.length?this.clone().ixor(xr):xr.clone().ixor(this)},d.prototype.uxor=function(xr){return this.length>xr.length?this.clone().iuxor(xr):xr.clone().iuxor(this)},d.prototype.inotn=function(xr){u(typeof xr=="number"&&xr>=0);var Pr=Math.ceil(xr/26)|0,Kr=xr%26;this._expand(Pr),Kr>0&&Pr--;for(var Hr=0;Hr<Pr;Hr++)this.words[Hr]=~this.words[Hr]&67108863;return Kr>0&&(this.words[Hr]=~this.words[Hr]&67108863>>26-Kr),this._strip()},d.prototype.notn=function(xr){return this.clone().inotn(xr)},d.prototype.setn=function(xr,Pr){u(typeof xr=="number"&&xr>=0);var Kr=xr/26|0,Hr=xr%26;return this._expand(Kr+1),Pr?this.words[Kr]=this.words[Kr]|1<<Hr:this.words[Kr]=this.words[Kr]&~(1<<Hr),this._strip()},d.prototype.iadd=function(xr){var Pr;if(this.negative!==0&&xr.negative===0)return this.negative=0,Pr=this.isub(xr),this.negative^=1,this._normSign();if(this.negative===0&&xr.negative!==0)return xr.negative=0,Pr=this.isub(xr),xr.negative=1,Pr._normSign();var Kr,Hr;this.length>xr.length?(Kr=this,Hr=xr):(Kr=xr,Hr=this);for(var Gr=0,un=0;un<Hr.length;un++)Pr=(Kr.words[un]|0)+(Hr.words[un]|0)+Gr,this.words[un]=Pr&67108863,Gr=Pr>>>26;for(;Gr!==0&&un<Kr.length;un++)Pr=(Kr.words[un]|0)+Gr,this.words[un]=Pr&67108863,Gr=Pr>>>26;if(this.length=Kr.length,Gr!==0)this.words[this.length]=Gr,this.length++;else if(Kr!==this)for(;un<Kr.length;un++)this.words[un]=Kr.words[un];return this},d.prototype.add=function(xr){var Pr;return xr.negative!==0&&this.negative===0?(xr.negative=0,Pr=this.sub(xr),xr.negative^=1,Pr):xr.negative===0&&this.negative!==0?(this.negative=0,Pr=xr.sub(this),this.negative=1,Pr):this.length>xr.length?this.clone().iadd(xr):xr.clone().iadd(this)},d.prototype.isub=function(xr){if(xr.negative!==0){xr.negative=0;var Pr=this.iadd(xr);return xr.negative=1,Pr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(xr),this.negative=1,this._normSign();var Kr=this.cmp(xr);if(Kr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Hr,Gr;Kr>0?(Hr=this,Gr=xr):(Hr=xr,Gr=this);for(var un=0,wn=0;wn<Gr.length;wn++)Pr=(Hr.words[wn]|0)-(Gr.words[wn]|0)+un,un=Pr>>26,this.words[wn]=Pr&67108863;for(;un!==0&&wn<Hr.length;wn++)Pr=(Hr.words[wn]|0)+un,un=Pr>>26,this.words[wn]=Pr&67108863;if(un===0&&wn<Hr.length&&Hr!==this)for(;wn<Hr.length;wn++)this.words[wn]=Hr.words[wn];return this.length=Math.max(this.length,wn),Hr!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(xr){return this.clone().isub(xr)};function Fr(Mr,xr,Pr){Pr.negative=xr.negative^Mr.negative;var Kr=Mr.length+xr.length|0;Pr.length=Kr,Kr=Kr-1|0;var Hr=Mr.words[0]|0,Gr=xr.words[0]|0,un=Hr*Gr,wn=un&67108863,jr=un/67108864|0;Pr.words[0]=wn;for(var Rr=1;Rr<Kr;Rr++){for(var Ur=jr>>>26,hn=jr&67108863,en=Math.min(Rr,xr.length-1),tn=Math.max(0,Rr-Mr.length+1);tn<=en;tn++){var dn=Rr-tn|0;Hr=Mr.words[dn]|0,Gr=xr.words[tn]|0,un=Hr*Gr+hn,Ur+=un/67108864|0,hn=un&67108863}Pr.words[Rr]=hn|0,jr=Ur|0}return jr!==0?Pr.words[Rr]=jr|0:Pr.length--,Pr._strip()}var qr=function(xr,Pr,Kr){var Hr=xr.words,Gr=Pr.words,un=Kr.words,wn=0,jr,Rr,Ur,hn=Hr[0]|0,en=hn&8191,tn=hn>>>13,dn=Hr[1]|0,pn=dn&8191,vn=dn>>>13,$n=Hr[2]|0,Pn=$n&8191,kn=$n>>>13,sn=Hr[3]|0,ln=sn&8191,Sn=sn>>>13,Bn=Hr[4]|0,In=Bn&8191,Ln=Bn>>>13,An=Hr[5]|0,Cn=An&8191,Mn=An>>>13,cn=Hr[6]|0,yn=cn&8191,xn=cn>>>13,Rn=Hr[7]|0,Nn=Rn&8191,Er=Rn>>>13,_r=Hr[8]|0,br=_r&8191,Tr=_r>>>13,Lr=Hr[9]|0,zr=Lr&8191,Xr=Lr>>>13,Dn=Gr[0]|0,Vn=Dn&8191,Fn=Dn>>>13,Wn=Gr[1]|0,Hn=Wn&8191,Si=Wn>>>13,Fs=Gr[2]|0,mi=Fs&8191,_i=Fs>>>13,Ks=Gr[3]|0,Ai=Ks&8191,Ei=Ks>>>13,js=Gr[4]|0,bi=js&8191,Ii=js>>>13,zs=Gr[5]|0,xi=zs&8191,pi=zs>>>13,Hs=Gr[6]|0,gi=Hs&8191,Oi=Hs>>>13,Vs=Gr[7]|0,Ti=Vs&8191,Ri=Vs>>>13,qs=Gr[8]|0,ki=qs&8191,$i=qs>>>13,Ws=Gr[9]|0,wi=Ws&8191,Pi=Ws>>>13;Kr.negative=xr.negative^Pr.negative,Kr.length=19,jr=Math.imul(en,Vn),Rr=Math.imul(en,Fn),Rr=Rr+Math.imul(tn,Vn)|0,Ur=Math.imul(tn,Fn);var ds=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(ds>>>26)|0,ds&=67108863,jr=Math.imul(pn,Vn),Rr=Math.imul(pn,Fn),Rr=Rr+Math.imul(vn,Vn)|0,Ur=Math.imul(vn,Fn),jr=jr+Math.imul(en,Hn)|0,Rr=Rr+Math.imul(en,Si)|0,Rr=Rr+Math.imul(tn,Hn)|0,Ur=Ur+Math.imul(tn,Si)|0;var hs=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(hs>>>26)|0,hs&=67108863,jr=Math.imul(Pn,Vn),Rr=Math.imul(Pn,Fn),Rr=Rr+Math.imul(kn,Vn)|0,Ur=Math.imul(kn,Fn),jr=jr+Math.imul(pn,Hn)|0,Rr=Rr+Math.imul(pn,Si)|0,Rr=Rr+Math.imul(vn,Hn)|0,Ur=Ur+Math.imul(vn,Si)|0,jr=jr+Math.imul(en,mi)|0,Rr=Rr+Math.imul(en,_i)|0,Rr=Rr+Math.imul(tn,mi)|0,Ur=Ur+Math.imul(tn,_i)|0;var ps=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(ps>>>26)|0,ps&=67108863,jr=Math.imul(ln,Vn),Rr=Math.imul(ln,Fn),Rr=Rr+Math.imul(Sn,Vn)|0,Ur=Math.imul(Sn,Fn),jr=jr+Math.imul(Pn,Hn)|0,Rr=Rr+Math.imul(Pn,Si)|0,Rr=Rr+Math.imul(kn,Hn)|0,Ur=Ur+Math.imul(kn,Si)|0,jr=jr+Math.imul(pn,mi)|0,Rr=Rr+Math.imul(pn,_i)|0,Rr=Rr+Math.imul(vn,mi)|0,Ur=Ur+Math.imul(vn,_i)|0,jr=jr+Math.imul(en,Ai)|0,Rr=Rr+Math.imul(en,Ei)|0,Rr=Rr+Math.imul(tn,Ai)|0,Ur=Ur+Math.imul(tn,Ei)|0;var gs=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(gs>>>26)|0,gs&=67108863,jr=Math.imul(In,Vn),Rr=Math.imul(In,Fn),Rr=Rr+Math.imul(Ln,Vn)|0,Ur=Math.imul(Ln,Fn),jr=jr+Math.imul(ln,Hn)|0,Rr=Rr+Math.imul(ln,Si)|0,Rr=Rr+Math.imul(Sn,Hn)|0,Ur=Ur+Math.imul(Sn,Si)|0,jr=jr+Math.imul(Pn,mi)|0,Rr=Rr+Math.imul(Pn,_i)|0,Rr=Rr+Math.imul(kn,mi)|0,Ur=Ur+Math.imul(kn,_i)|0,jr=jr+Math.imul(pn,Ai)|0,Rr=Rr+Math.imul(pn,Ei)|0,Rr=Rr+Math.imul(vn,Ai)|0,Ur=Ur+Math.imul(vn,Ei)|0,jr=jr+Math.imul(en,bi)|0,Rr=Rr+Math.imul(en,Ii)|0,Rr=Rr+Math.imul(tn,bi)|0,Ur=Ur+Math.imul(tn,Ii)|0;var ys=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(ys>>>26)|0,ys&=67108863,jr=Math.imul(Cn,Vn),Rr=Math.imul(Cn,Fn),Rr=Rr+Math.imul(Mn,Vn)|0,Ur=Math.imul(Mn,Fn),jr=jr+Math.imul(In,Hn)|0,Rr=Rr+Math.imul(In,Si)|0,Rr=Rr+Math.imul(Ln,Hn)|0,Ur=Ur+Math.imul(Ln,Si)|0,jr=jr+Math.imul(ln,mi)|0,Rr=Rr+Math.imul(ln,_i)|0,Rr=Rr+Math.imul(Sn,mi)|0,Ur=Ur+Math.imul(Sn,_i)|0,jr=jr+Math.imul(Pn,Ai)|0,Rr=Rr+Math.imul(Pn,Ei)|0,Rr=Rr+Math.imul(kn,Ai)|0,Ur=Ur+Math.imul(kn,Ei)|0,jr=jr+Math.imul(pn,bi)|0,Rr=Rr+Math.imul(pn,Ii)|0,Rr=Rr+Math.imul(vn,bi)|0,Ur=Ur+Math.imul(vn,Ii)|0,jr=jr+Math.imul(en,xi)|0,Rr=Rr+Math.imul(en,pi)|0,Rr=Rr+Math.imul(tn,xi)|0,Ur=Ur+Math.imul(tn,pi)|0;var Oo=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,jr=Math.imul(yn,Vn),Rr=Math.imul(yn,Fn),Rr=Rr+Math.imul(xn,Vn)|0,Ur=Math.imul(xn,Fn),jr=jr+Math.imul(Cn,Hn)|0,Rr=Rr+Math.imul(Cn,Si)|0,Rr=Rr+Math.imul(Mn,Hn)|0,Ur=Ur+Math.imul(Mn,Si)|0,jr=jr+Math.imul(In,mi)|0,Rr=Rr+Math.imul(In,_i)|0,Rr=Rr+Math.imul(Ln,mi)|0,Ur=Ur+Math.imul(Ln,_i)|0,jr=jr+Math.imul(ln,Ai)|0,Rr=Rr+Math.imul(ln,Ei)|0,Rr=Rr+Math.imul(Sn,Ai)|0,Ur=Ur+Math.imul(Sn,Ei)|0,jr=jr+Math.imul(Pn,bi)|0,Rr=Rr+Math.imul(Pn,Ii)|0,Rr=Rr+Math.imul(kn,bi)|0,Ur=Ur+Math.imul(kn,Ii)|0,jr=jr+Math.imul(pn,xi)|0,Rr=Rr+Math.imul(pn,pi)|0,Rr=Rr+Math.imul(vn,xi)|0,Ur=Ur+Math.imul(vn,pi)|0,jr=jr+Math.imul(en,gi)|0,Rr=Rr+Math.imul(en,Oi)|0,Rr=Rr+Math.imul(tn,gi)|0,Ur=Ur+Math.imul(tn,Oi)|0;var ms=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(ms>>>26)|0,ms&=67108863,jr=Math.imul(Nn,Vn),Rr=Math.imul(Nn,Fn),Rr=Rr+Math.imul(Er,Vn)|0,Ur=Math.imul(Er,Fn),jr=jr+Math.imul(yn,Hn)|0,Rr=Rr+Math.imul(yn,Si)|0,Rr=Rr+Math.imul(xn,Hn)|0,Ur=Ur+Math.imul(xn,Si)|0,jr=jr+Math.imul(Cn,mi)|0,Rr=Rr+Math.imul(Cn,_i)|0,Rr=Rr+Math.imul(Mn,mi)|0,Ur=Ur+Math.imul(Mn,_i)|0,jr=jr+Math.imul(In,Ai)|0,Rr=Rr+Math.imul(In,Ei)|0,Rr=Rr+Math.imul(Ln,Ai)|0,Ur=Ur+Math.imul(Ln,Ei)|0,jr=jr+Math.imul(ln,bi)|0,Rr=Rr+Math.imul(ln,Ii)|0,Rr=Rr+Math.imul(Sn,bi)|0,Ur=Ur+Math.imul(Sn,Ii)|0,jr=jr+Math.imul(Pn,xi)|0,Rr=Rr+Math.imul(Pn,pi)|0,Rr=Rr+Math.imul(kn,xi)|0,Ur=Ur+Math.imul(kn,pi)|0,jr=jr+Math.imul(pn,gi)|0,Rr=Rr+Math.imul(pn,Oi)|0,Rr=Rr+Math.imul(vn,gi)|0,Ur=Ur+Math.imul(vn,Oi)|0,jr=jr+Math.imul(en,Ti)|0,Rr=Rr+Math.imul(en,Ri)|0,Rr=Rr+Math.imul(tn,Ti)|0,Ur=Ur+Math.imul(tn,Ri)|0;var To=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(To>>>26)|0,To&=67108863,jr=Math.imul(br,Vn),Rr=Math.imul(br,Fn),Rr=Rr+Math.imul(Tr,Vn)|0,Ur=Math.imul(Tr,Fn),jr=jr+Math.imul(Nn,Hn)|0,Rr=Rr+Math.imul(Nn,Si)|0,Rr=Rr+Math.imul(Er,Hn)|0,Ur=Ur+Math.imul(Er,Si)|0,jr=jr+Math.imul(yn,mi)|0,Rr=Rr+Math.imul(yn,_i)|0,Rr=Rr+Math.imul(xn,mi)|0,Ur=Ur+Math.imul(xn,_i)|0,jr=jr+Math.imul(Cn,Ai)|0,Rr=Rr+Math.imul(Cn,Ei)|0,Rr=Rr+Math.imul(Mn,Ai)|0,Ur=Ur+Math.imul(Mn,Ei)|0,jr=jr+Math.imul(In,bi)|0,Rr=Rr+Math.imul(In,Ii)|0,Rr=Rr+Math.imul(Ln,bi)|0,Ur=Ur+Math.imul(Ln,Ii)|0,jr=jr+Math.imul(ln,xi)|0,Rr=Rr+Math.imul(ln,pi)|0,Rr=Rr+Math.imul(Sn,xi)|0,Ur=Ur+Math.imul(Sn,pi)|0,jr=jr+Math.imul(Pn,gi)|0,Rr=Rr+Math.imul(Pn,Oi)|0,Rr=Rr+Math.imul(kn,gi)|0,Ur=Ur+Math.imul(kn,Oi)|0,jr=jr+Math.imul(pn,Ti)|0,Rr=Rr+Math.imul(pn,Ri)|0,Rr=Rr+Math.imul(vn,Ti)|0,Ur=Ur+Math.imul(vn,Ri)|0,jr=jr+Math.imul(en,ki)|0,Rr=Rr+Math.imul(en,$i)|0,Rr=Rr+Math.imul(tn,ki)|0,Ur=Ur+Math.imul(tn,$i)|0;var _s=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(_s>>>26)|0,_s&=67108863,jr=Math.imul(zr,Vn),Rr=Math.imul(zr,Fn),Rr=Rr+Math.imul(Xr,Vn)|0,Ur=Math.imul(Xr,Fn),jr=jr+Math.imul(br,Hn)|0,Rr=Rr+Math.imul(br,Si)|0,Rr=Rr+Math.imul(Tr,Hn)|0,Ur=Ur+Math.imul(Tr,Si)|0,jr=jr+Math.imul(Nn,mi)|0,Rr=Rr+Math.imul(Nn,_i)|0,Rr=Rr+Math.imul(Er,mi)|0,Ur=Ur+Math.imul(Er,_i)|0,jr=jr+Math.imul(yn,Ai)|0,Rr=Rr+Math.imul(yn,Ei)|0,Rr=Rr+Math.imul(xn,Ai)|0,Ur=Ur+Math.imul(xn,Ei)|0,jr=jr+Math.imul(Cn,bi)|0,Rr=Rr+Math.imul(Cn,Ii)|0,Rr=Rr+Math.imul(Mn,bi)|0,Ur=Ur+Math.imul(Mn,Ii)|0,jr=jr+Math.imul(In,xi)|0,Rr=Rr+Math.imul(In,pi)|0,Rr=Rr+Math.imul(Ln,xi)|0,Ur=Ur+Math.imul(Ln,pi)|0,jr=jr+Math.imul(ln,gi)|0,Rr=Rr+Math.imul(ln,Oi)|0,Rr=Rr+Math.imul(Sn,gi)|0,Ur=Ur+Math.imul(Sn,Oi)|0,jr=jr+Math.imul(Pn,Ti)|0,Rr=Rr+Math.imul(Pn,Ri)|0,Rr=Rr+Math.imul(kn,Ti)|0,Ur=Ur+Math.imul(kn,Ri)|0,jr=jr+Math.imul(pn,ki)|0,Rr=Rr+Math.imul(pn,$i)|0,Rr=Rr+Math.imul(vn,ki)|0,Ur=Ur+Math.imul(vn,$i)|0,jr=jr+Math.imul(en,wi)|0,Rr=Rr+Math.imul(en,Pi)|0,Rr=Rr+Math.imul(tn,wi)|0,Ur=Ur+Math.imul(tn,Pi)|0;var bs=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(bs>>>26)|0,bs&=67108863,jr=Math.imul(zr,Hn),Rr=Math.imul(zr,Si),Rr=Rr+Math.imul(Xr,Hn)|0,Ur=Math.imul(Xr,Si),jr=jr+Math.imul(br,mi)|0,Rr=Rr+Math.imul(br,_i)|0,Rr=Rr+Math.imul(Tr,mi)|0,Ur=Ur+Math.imul(Tr,_i)|0,jr=jr+Math.imul(Nn,Ai)|0,Rr=Rr+Math.imul(Nn,Ei)|0,Rr=Rr+Math.imul(Er,Ai)|0,Ur=Ur+Math.imul(Er,Ei)|0,jr=jr+Math.imul(yn,bi)|0,Rr=Rr+Math.imul(yn,Ii)|0,Rr=Rr+Math.imul(xn,bi)|0,Ur=Ur+Math.imul(xn,Ii)|0,jr=jr+Math.imul(Cn,xi)|0,Rr=Rr+Math.imul(Cn,pi)|0,Rr=Rr+Math.imul(Mn,xi)|0,Ur=Ur+Math.imul(Mn,pi)|0,jr=jr+Math.imul(In,gi)|0,Rr=Rr+Math.imul(In,Oi)|0,Rr=Rr+Math.imul(Ln,gi)|0,Ur=Ur+Math.imul(Ln,Oi)|0,jr=jr+Math.imul(ln,Ti)|0,Rr=Rr+Math.imul(ln,Ri)|0,Rr=Rr+Math.imul(Sn,Ti)|0,Ur=Ur+Math.imul(Sn,Ri)|0,jr=jr+Math.imul(Pn,ki)|0,Rr=Rr+Math.imul(Pn,$i)|0,Rr=Rr+Math.imul(kn,ki)|0,Ur=Ur+Math.imul(kn,$i)|0,jr=jr+Math.imul(pn,wi)|0,Rr=Rr+Math.imul(pn,Pi)|0,Rr=Rr+Math.imul(vn,wi)|0,Ur=Ur+Math.imul(vn,Pi)|0;var ws=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(ws>>>26)|0,ws&=67108863,jr=Math.imul(zr,mi),Rr=Math.imul(zr,_i),Rr=Rr+Math.imul(Xr,mi)|0,Ur=Math.imul(Xr,_i),jr=jr+Math.imul(br,Ai)|0,Rr=Rr+Math.imul(br,Ei)|0,Rr=Rr+Math.imul(Tr,Ai)|0,Ur=Ur+Math.imul(Tr,Ei)|0,jr=jr+Math.imul(Nn,bi)|0,Rr=Rr+Math.imul(Nn,Ii)|0,Rr=Rr+Math.imul(Er,bi)|0,Ur=Ur+Math.imul(Er,Ii)|0,jr=jr+Math.imul(yn,xi)|0,Rr=Rr+Math.imul(yn,pi)|0,Rr=Rr+Math.imul(xn,xi)|0,Ur=Ur+Math.imul(xn,pi)|0,jr=jr+Math.imul(Cn,gi)|0,Rr=Rr+Math.imul(Cn,Oi)|0,Rr=Rr+Math.imul(Mn,gi)|0,Ur=Ur+Math.imul(Mn,Oi)|0,jr=jr+Math.imul(In,Ti)|0,Rr=Rr+Math.imul(In,Ri)|0,Rr=Rr+Math.imul(Ln,Ti)|0,Ur=Ur+Math.imul(Ln,Ri)|0,jr=jr+Math.imul(ln,ki)|0,Rr=Rr+Math.imul(ln,$i)|0,Rr=Rr+Math.imul(Sn,ki)|0,Ur=Ur+Math.imul(Sn,$i)|0,jr=jr+Math.imul(Pn,wi)|0,Rr=Rr+Math.imul(Pn,Pi)|0,Rr=Rr+Math.imul(kn,wi)|0,Ur=Ur+Math.imul(kn,Pi)|0;var Wo=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(Wo>>>26)|0,Wo&=67108863,jr=Math.imul(zr,Ai),Rr=Math.imul(zr,Ei),Rr=Rr+Math.imul(Xr,Ai)|0,Ur=Math.imul(Xr,Ei),jr=jr+Math.imul(br,bi)|0,Rr=Rr+Math.imul(br,Ii)|0,Rr=Rr+Math.imul(Tr,bi)|0,Ur=Ur+Math.imul(Tr,Ii)|0,jr=jr+Math.imul(Nn,xi)|0,Rr=Rr+Math.imul(Nn,pi)|0,Rr=Rr+Math.imul(Er,xi)|0,Ur=Ur+Math.imul(Er,pi)|0,jr=jr+Math.imul(yn,gi)|0,Rr=Rr+Math.imul(yn,Oi)|0,Rr=Rr+Math.imul(xn,gi)|0,Ur=Ur+Math.imul(xn,Oi)|0,jr=jr+Math.imul(Cn,Ti)|0,Rr=Rr+Math.imul(Cn,Ri)|0,Rr=Rr+Math.imul(Mn,Ti)|0,Ur=Ur+Math.imul(Mn,Ri)|0,jr=jr+Math.imul(In,ki)|0,Rr=Rr+Math.imul(In,$i)|0,Rr=Rr+Math.imul(Ln,ki)|0,Ur=Ur+Math.imul(Ln,$i)|0,jr=jr+Math.imul(ln,wi)|0,Rr=Rr+Math.imul(ln,Pi)|0,Rr=Rr+Math.imul(Sn,wi)|0,Ur=Ur+Math.imul(Sn,Pi)|0;var Go=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(Go>>>26)|0,Go&=67108863,jr=Math.imul(zr,bi),Rr=Math.imul(zr,Ii),Rr=Rr+Math.imul(Xr,bi)|0,Ur=Math.imul(Xr,Ii),jr=jr+Math.imul(br,xi)|0,Rr=Rr+Math.imul(br,pi)|0,Rr=Rr+Math.imul(Tr,xi)|0,Ur=Ur+Math.imul(Tr,pi)|0,jr=jr+Math.imul(Nn,gi)|0,Rr=Rr+Math.imul(Nn,Oi)|0,Rr=Rr+Math.imul(Er,gi)|0,Ur=Ur+Math.imul(Er,Oi)|0,jr=jr+Math.imul(yn,Ti)|0,Rr=Rr+Math.imul(yn,Ri)|0,Rr=Rr+Math.imul(xn,Ti)|0,Ur=Ur+Math.imul(xn,Ri)|0,jr=jr+Math.imul(Cn,ki)|0,Rr=Rr+Math.imul(Cn,$i)|0,Rr=Rr+Math.imul(Mn,ki)|0,Ur=Ur+Math.imul(Mn,$i)|0,jr=jr+Math.imul(In,wi)|0,Rr=Rr+Math.imul(In,Pi)|0,Rr=Rr+Math.imul(Ln,wi)|0,Ur=Ur+Math.imul(Ln,Pi)|0;var Yo=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,jr=Math.imul(zr,xi),Rr=Math.imul(zr,pi),Rr=Rr+Math.imul(Xr,xi)|0,Ur=Math.imul(Xr,pi),jr=jr+Math.imul(br,gi)|0,Rr=Rr+Math.imul(br,Oi)|0,Rr=Rr+Math.imul(Tr,gi)|0,Ur=Ur+Math.imul(Tr,Oi)|0,jr=jr+Math.imul(Nn,Ti)|0,Rr=Rr+Math.imul(Nn,Ri)|0,Rr=Rr+Math.imul(Er,Ti)|0,Ur=Ur+Math.imul(Er,Ri)|0,jr=jr+Math.imul(yn,ki)|0,Rr=Rr+Math.imul(yn,$i)|0,Rr=Rr+Math.imul(xn,ki)|0,Ur=Ur+Math.imul(xn,$i)|0,jr=jr+Math.imul(Cn,wi)|0,Rr=Rr+Math.imul(Cn,Pi)|0,Rr=Rr+Math.imul(Mn,wi)|0,Ur=Ur+Math.imul(Mn,Pi)|0;var vs=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(vs>>>26)|0,vs&=67108863,jr=Math.imul(zr,gi),Rr=Math.imul(zr,Oi),Rr=Rr+Math.imul(Xr,gi)|0,Ur=Math.imul(Xr,Oi),jr=jr+Math.imul(br,Ti)|0,Rr=Rr+Math.imul(br,Ri)|0,Rr=Rr+Math.imul(Tr,Ti)|0,Ur=Ur+Math.imul(Tr,Ri)|0,jr=jr+Math.imul(Nn,ki)|0,Rr=Rr+Math.imul(Nn,$i)|0,Rr=Rr+Math.imul(Er,ki)|0,Ur=Ur+Math.imul(Er,$i)|0,jr=jr+Math.imul(yn,wi)|0,Rr=Rr+Math.imul(yn,Pi)|0,Rr=Rr+Math.imul(xn,wi)|0,Ur=Ur+Math.imul(xn,Pi)|0;var Ss=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,jr=Math.imul(zr,Ti),Rr=Math.imul(zr,Ri),Rr=Rr+Math.imul(Xr,Ti)|0,Ur=Math.imul(Xr,Ri),jr=jr+Math.imul(br,ki)|0,Rr=Rr+Math.imul(br,$i)|0,Rr=Rr+Math.imul(Tr,ki)|0,Ur=Ur+Math.imul(Tr,$i)|0,jr=jr+Math.imul(Nn,wi)|0,Rr=Rr+Math.imul(Nn,Pi)|0,Rr=Rr+Math.imul(Er,wi)|0,Ur=Ur+Math.imul(Er,Pi)|0;var As=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(As>>>26)|0,As&=67108863,jr=Math.imul(zr,ki),Rr=Math.imul(zr,$i),Rr=Rr+Math.imul(Xr,ki)|0,Ur=Math.imul(Xr,$i),jr=jr+Math.imul(br,wi)|0,Rr=Rr+Math.imul(br,Pi)|0,Rr=Rr+Math.imul(Tr,wi)|0,Ur=Ur+Math.imul(Tr,Pi)|0;var Es=(wn+jr|0)+((Rr&8191)<<13)|0;wn=(Ur+(Rr>>>13)|0)+(Es>>>26)|0,Es&=67108863,jr=Math.imul(zr,wi),Rr=Math.imul(zr,Pi),Rr=Rr+Math.imul(Xr,wi)|0,Ur=Math.imul(Xr,Pi);var Zo=(wn+jr|0)+((Rr&8191)<<13)|0;return wn=(Ur+(Rr>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,un[0]=ds,un[1]=hs,un[2]=ps,un[3]=gs,un[4]=ys,un[5]=Oo,un[6]=ms,un[7]=To,un[8]=_s,un[9]=bs,un[10]=ws,un[11]=Wo,un[12]=Go,un[13]=Yo,un[14]=vs,un[15]=Ss,un[16]=As,un[17]=Es,un[18]=Zo,wn!==0&&(un[19]=wn,Kr.length++),Kr};Math.imul||(qr=Fr);function Vr(Mr,xr,Pr){Pr.negative=xr.negative^Mr.negative,Pr.length=Mr.length+xr.length;for(var Kr=0,Hr=0,Gr=0;Gr<Pr.length-1;Gr++){var un=Hr;Hr=0;for(var wn=Kr&67108863,jr=Math.min(Gr,xr.length-1),Rr=Math.max(0,Gr-Mr.length+1);Rr<=jr;Rr++){var Ur=Gr-Rr,hn=Mr.words[Ur]|0,en=xr.words[Rr]|0,tn=hn*en,dn=tn&67108863;un=un+(tn/67108864|0)|0,dn=dn+wn|0,wn=dn&67108863,un=un+(dn>>>26)|0,Hr+=un>>>26,un&=67108863}Pr.words[Gr]=wn,Kr=un,un=Hr}return Kr!==0?Pr.words[Gr]=Kr:Pr.length--,Pr._strip()}function Jr(Mr,xr,Pr){return Vr(Mr,xr,Pr)}d.prototype.mulTo=function(xr,Pr){var Kr,Hr=this.length+xr.length;return this.length===10&&xr.length===10?Kr=qr(this,xr,Pr):Hr<63?Kr=Fr(this,xr,Pr):Hr<1024?Kr=Vr(this,xr,Pr):Kr=Jr(this,xr,Pr),Kr},d.prototype.mul=function(xr){var Pr=new d(null);return Pr.words=new Array(this.length+xr.length),this.mulTo(xr,Pr)},d.prototype.mulf=function(xr){var Pr=new d(null);return Pr.words=new Array(this.length+xr.length),Jr(this,xr,Pr)},d.prototype.imul=function(xr){return this.clone().mulTo(xr,this)},d.prototype.imuln=function(xr){var Pr=xr<0;Pr&&(xr=-xr),u(typeof xr=="number"),u(xr<67108864);for(var Kr=0,Hr=0;Hr<this.length;Hr++){var Gr=(this.words[Hr]|0)*xr,un=(Gr&67108863)+(Kr&67108863);Kr>>=26,Kr+=Gr/67108864|0,Kr+=un>>>26,this.words[Hr]=un&67108863}return Kr!==0&&(this.words[Hr]=Kr,this.length++),Pr?this.ineg():this},d.prototype.muln=function(xr){return this.clone().imuln(xr)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(xr){var Pr=Br(xr);if(Pr.length===0)return new d(1);for(var Kr=this,Hr=0;Hr<Pr.length&&Pr[Hr]===0;Hr++,Kr=Kr.sqr());if(++Hr<Pr.length)for(var Gr=Kr.sqr();Hr<Pr.length;Hr++,Gr=Gr.sqr())Pr[Hr]!==0&&(Kr=Kr.mul(Gr));return Kr},d.prototype.iushln=function(xr){u(typeof xr=="number"&&xr>=0);var Pr=xr%26,Kr=(xr-Pr)/26,Hr=67108863>>>26-Pr<<26-Pr,Gr;if(Pr!==0){var un=0;for(Gr=0;Gr<this.length;Gr++){var wn=this.words[Gr]&Hr,jr=(this.words[Gr]|0)-wn<<Pr;this.words[Gr]=jr|un,un=wn>>>26-Pr}un&&(this.words[Gr]=un,this.length++)}if(Kr!==0){for(Gr=this.length-1;Gr>=0;Gr--)this.words[Gr+Kr]=this.words[Gr];for(Gr=0;Gr<Kr;Gr++)this.words[Gr]=0;this.length+=Kr}return this._strip()},d.prototype.ishln=function(xr){return u(this.negative===0),this.iushln(xr)},d.prototype.iushrn=function(xr,Pr,Kr){u(typeof xr=="number"&&xr>=0);var Hr;Pr?Hr=(Pr-Pr%26)/26:Hr=0;var Gr=xr%26,un=Math.min((xr-Gr)/26,this.length),wn=67108863^67108863>>>Gr<<Gr,jr=Kr;if(Hr-=un,Hr=Math.max(0,Hr),jr){for(var Rr=0;Rr<un;Rr++)jr.words[Rr]=this.words[Rr];jr.length=un}if(un!==0)if(this.length>un)for(this.length-=un,Rr=0;Rr<this.length;Rr++)this.words[Rr]=this.words[Rr+un];else this.words[0]=0,this.length=1;var Ur=0;for(Rr=this.length-1;Rr>=0&&(Ur!==0||Rr>=Hr);Rr--){var hn=this.words[Rr]|0;this.words[Rr]=Ur<<26-Gr|hn>>>Gr,Ur=hn&wn}return jr&&Ur!==0&&(jr.words[jr.length++]=Ur),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(xr,Pr,Kr){return u(this.negative===0),this.iushrn(xr,Pr,Kr)},d.prototype.shln=function(xr){return this.clone().ishln(xr)},d.prototype.ushln=function(xr){return this.clone().iushln(xr)},d.prototype.shrn=function(xr){return this.clone().ishrn(xr)},d.prototype.ushrn=function(xr){return this.clone().iushrn(xr)},d.prototype.testn=function(xr){u(typeof xr=="number"&&xr>=0);var Pr=xr%26,Kr=(xr-Pr)/26,Hr=1<<Pr;if(this.length<=Kr)return!1;var Gr=this.words[Kr];return!!(Gr&Hr)},d.prototype.imaskn=function(xr){u(typeof xr=="number"&&xr>=0);var Pr=xr%26,Kr=(xr-Pr)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=Kr)return this;if(Pr!==0&&Kr++,this.length=Math.min(Kr,this.length),Pr!==0){var Hr=67108863^67108863>>>Pr<<Pr;this.words[this.length-1]&=Hr}return this._strip()},d.prototype.maskn=function(xr){return this.clone().imaskn(xr)},d.prototype.iaddn=function(xr){return u(typeof xr=="number"),u(xr<67108864),xr<0?this.isubn(-xr):this.negative!==0?this.length===1&&(this.words[0]|0)<=xr?(this.words[0]=xr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(xr),this.negative=1,this):this._iaddn(xr)},d.prototype._iaddn=function(xr){this.words[0]+=xr;for(var Pr=0;Pr<this.length&&this.words[Pr]>=67108864;Pr++)this.words[Pr]-=67108864,Pr===this.length-1?this.words[Pr+1]=1:this.words[Pr+1]++;return this.length=Math.max(this.length,Pr+1),this},d.prototype.isubn=function(xr){if(u(typeof xr=="number"),u(xr<67108864),xr<0)return this.iaddn(-xr);if(this.negative!==0)return this.negative=0,this.iaddn(xr),this.negative=1,this;if(this.words[0]-=xr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Pr=0;Pr<this.length&&this.words[Pr]<0;Pr++)this.words[Pr]+=67108864,this.words[Pr+1]-=1;return this._strip()},d.prototype.addn=function(xr){return this.clone().iaddn(xr)},d.prototype.subn=function(xr){return this.clone().isubn(xr)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(xr,Pr,Kr){var Hr=xr.length+Kr,Gr;this._expand(Hr);var un,wn=0;for(Gr=0;Gr<xr.length;Gr++){un=(this.words[Gr+Kr]|0)+wn;var jr=(xr.words[Gr]|0)*Pr;un-=jr&67108863,wn=(un>>26)-(jr/67108864|0),this.words[Gr+Kr]=un&67108863}for(;Gr<this.length-Kr;Gr++)un=(this.words[Gr+Kr]|0)+wn,wn=un>>26,this.words[Gr+Kr]=un&67108863;if(wn===0)return this._strip();for(u(wn===-1),wn=0,Gr=0;Gr<this.length;Gr++)un=-(this.words[Gr]|0)+wn,wn=un>>26,this.words[Gr]=un&67108863;return this.negative=1,this._strip()},d.prototype._wordDiv=function(xr,Pr){var Kr=this.length-xr.length,Hr=this.clone(),Gr=xr,un=Gr.words[Gr.length-1]|0,wn=this._countBits(un);Kr=26-wn,Kr!==0&&(Gr=Gr.ushln(Kr),Hr.iushln(Kr),un=Gr.words[Gr.length-1]|0);var jr=Hr.length-Gr.length,Rr;if(Pr!=="mod"){Rr=new d(null),Rr.length=jr+1,Rr.words=new Array(Rr.length);for(var Ur=0;Ur<Rr.length;Ur++)Rr.words[Ur]=0}var hn=Hr.clone()._ishlnsubmul(Gr,1,jr);hn.negative===0&&(Hr=hn,Rr&&(Rr.words[jr]=1));for(var en=jr-1;en>=0;en--){var tn=(Hr.words[Gr.length+en]|0)*67108864+(Hr.words[Gr.length+en-1]|0);for(tn=Math.min(tn/un|0,67108863),Hr._ishlnsubmul(Gr,tn,en);Hr.negative!==0;)tn--,Hr.negative=0,Hr._ishlnsubmul(Gr,1,en),Hr.isZero()||(Hr.negative^=1);Rr&&(Rr.words[en]=tn)}return Rr&&Rr._strip(),Hr._strip(),Pr!=="div"&&Kr!==0&&Hr.iushrn(Kr),{div:Rr||null,mod:Hr}},d.prototype.divmod=function(xr,Pr,Kr){if(u(!xr.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var Hr,Gr,un;return this.negative!==0&&xr.negative===0?(un=this.neg().divmod(xr,Pr),Pr!=="mod"&&(Hr=un.div.neg()),Pr!=="div"&&(Gr=un.mod.neg(),Kr&&Gr.negative!==0&&Gr.iadd(xr)),{div:Hr,mod:Gr}):this.negative===0&&xr.negative!==0?(un=this.divmod(xr.neg(),Pr),Pr!=="mod"&&(Hr=un.div.neg()),{div:Hr,mod:un.mod}):(this.negative&xr.negative)!==0?(un=this.neg().divmod(xr.neg(),Pr),Pr!=="div"&&(Gr=un.mod.neg(),Kr&&Gr.negative!==0&&Gr.isub(xr)),{div:un.div,mod:Gr}):xr.length>this.length||this.cmp(xr)<0?{div:new d(0),mod:this}:xr.length===1?Pr==="div"?{div:this.divn(xr.words[0]),mod:null}:Pr==="mod"?{div:null,mod:new d(this.modrn(xr.words[0]))}:{div:this.divn(xr.words[0]),mod:new d(this.modrn(xr.words[0]))}:this._wordDiv(xr,Pr)},d.prototype.div=function(xr){return this.divmod(xr,"div",!1).div},d.prototype.mod=function(xr){return this.divmod(xr,"mod",!1).mod},d.prototype.umod=function(xr){return this.divmod(xr,"mod",!0).mod},d.prototype.divRound=function(xr){var Pr=this.divmod(xr);if(Pr.mod.isZero())return Pr.div;var Kr=Pr.div.negative!==0?Pr.mod.isub(xr):Pr.mod,Hr=xr.ushrn(1),Gr=xr.andln(1),un=Kr.cmp(Hr);return un<0||Gr===1&&un===0?Pr.div:Pr.div.negative!==0?Pr.div.isubn(1):Pr.div.iaddn(1)},d.prototype.modrn=function(xr){var Pr=xr<0;Pr&&(xr=-xr),u(xr<=67108863);for(var Kr=(1<<26)%xr,Hr=0,Gr=this.length-1;Gr>=0;Gr--)Hr=(Kr*Hr+(this.words[Gr]|0))%xr;return Pr?-Hr:Hr},d.prototype.modn=function(xr){return this.modrn(xr)},d.prototype.idivn=function(xr){var Pr=xr<0;Pr&&(xr=-xr),u(xr<=67108863);for(var Kr=0,Hr=this.length-1;Hr>=0;Hr--){var Gr=(this.words[Hr]|0)+Kr*67108864;this.words[Hr]=Gr/xr|0,Kr=Gr%xr}return this._strip(),Pr?this.ineg():this},d.prototype.divn=function(xr){return this.clone().idivn(xr)},d.prototype.egcd=function(xr){u(xr.negative===0),u(!xr.isZero());var Pr=this,Kr=xr.clone();Pr.negative!==0?Pr=Pr.umod(xr):Pr=Pr.clone();for(var Hr=new d(1),Gr=new d(0),un=new d(0),wn=new d(1),jr=0;Pr.isEven()&&Kr.isEven();)Pr.iushrn(1),Kr.iushrn(1),++jr;for(var Rr=Kr.clone(),Ur=Pr.clone();!Pr.isZero();){for(var hn=0,en=1;(Pr.words[0]&en)===0&&hn<26;++hn,en<<=1);if(hn>0)for(Pr.iushrn(hn);hn-- >0;)(Hr.isOdd()||Gr.isOdd())&&(Hr.iadd(Rr),Gr.isub(Ur)),Hr.iushrn(1),Gr.iushrn(1);for(var tn=0,dn=1;(Kr.words[0]&dn)===0&&tn<26;++tn,dn<<=1);if(tn>0)for(Kr.iushrn(tn);tn-- >0;)(un.isOdd()||wn.isOdd())&&(un.iadd(Rr),wn.isub(Ur)),un.iushrn(1),wn.iushrn(1);Pr.cmp(Kr)>=0?(Pr.isub(Kr),Hr.isub(un),Gr.isub(wn)):(Kr.isub(Pr),un.isub(Hr),wn.isub(Gr))}return{a:un,b:wn,gcd:Kr.iushln(jr)}},d.prototype._invmp=function(xr){u(xr.negative===0),u(!xr.isZero());var Pr=this,Kr=xr.clone();Pr.negative!==0?Pr=Pr.umod(xr):Pr=Pr.clone();for(var Hr=new d(1),Gr=new d(0),un=Kr.clone();Pr.cmpn(1)>0&&Kr.cmpn(1)>0;){for(var wn=0,jr=1;(Pr.words[0]&jr)===0&&wn<26;++wn,jr<<=1);if(wn>0)for(Pr.iushrn(wn);wn-- >0;)Hr.isOdd()&&Hr.iadd(un),Hr.iushrn(1);for(var Rr=0,Ur=1;(Kr.words[0]&Ur)===0&&Rr<26;++Rr,Ur<<=1);if(Rr>0)for(Kr.iushrn(Rr);Rr-- >0;)Gr.isOdd()&&Gr.iadd(un),Gr.iushrn(1);Pr.cmp(Kr)>=0?(Pr.isub(Kr),Hr.isub(Gr)):(Kr.isub(Pr),Gr.isub(Hr))}var hn;return Pr.cmpn(1)===0?hn=Hr:hn=Gr,hn.cmpn(0)<0&&hn.iadd(xr),hn},d.prototype.gcd=function(xr){if(this.isZero())return xr.abs();if(xr.isZero())return this.abs();var Pr=this.clone(),Kr=xr.clone();Pr.negative=0,Kr.negative=0;for(var Hr=0;Pr.isEven()&&Kr.isEven();Hr++)Pr.iushrn(1),Kr.iushrn(1);do{for(;Pr.isEven();)Pr.iushrn(1);for(;Kr.isEven();)Kr.iushrn(1);var Gr=Pr.cmp(Kr);if(Gr<0){var un=Pr;Pr=Kr,Kr=un}else if(Gr===0||Kr.cmpn(1)===0)break;Pr.isub(Kr)}while(!0);return Kr.iushln(Hr)},d.prototype.invm=function(xr){return this.egcd(xr).a.umod(xr)},d.prototype.isEven=function(){return(this.words[0]&1)===0},d.prototype.isOdd=function(){return(this.words[0]&1)===1},d.prototype.andln=function(xr){return this.words[0]&xr},d.prototype.bincn=function(xr){u(typeof xr=="number");var Pr=xr%26,Kr=(xr-Pr)/26,Hr=1<<Pr;if(this.length<=Kr)return this._expand(Kr+1),this.words[Kr]|=Hr,this;for(var Gr=Hr,un=Kr;Gr!==0&&un<this.length;un++){var wn=this.words[un]|0;wn+=Gr,Gr=wn>>>26,wn&=67108863,this.words[un]=wn}return Gr!==0&&(this.words[un]=Gr,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(xr){var Pr=xr<0;if(this.negative!==0&&!Pr)return-1;if(this.negative===0&&Pr)return 1;this._strip();var Kr;if(this.length>1)Kr=1;else{Pr&&(xr=-xr),u(xr<=67108863,"Number is too big");var Hr=this.words[0]|0;Kr=Hr===xr?0:Hr<xr?-1:1}return this.negative!==0?-Kr|0:Kr},d.prototype.cmp=function(xr){if(this.negative!==0&&xr.negative===0)return-1;if(this.negative===0&&xr.negative!==0)return 1;var Pr=this.ucmp(xr);return this.negative!==0?-Pr|0:Pr},d.prototype.ucmp=function(xr){if(this.length>xr.length)return 1;if(this.length<xr.length)return-1;for(var Pr=0,Kr=this.length-1;Kr>=0;Kr--){var Hr=this.words[Kr]|0,Gr=xr.words[Kr]|0;if(Hr!==Gr){Hr<Gr?Pr=-1:Hr>Gr&&(Pr=1);break}}return Pr},d.prototype.gtn=function(xr){return this.cmpn(xr)===1},d.prototype.gt=function(xr){return this.cmp(xr)===1},d.prototype.gten=function(xr){return this.cmpn(xr)>=0},d.prototype.gte=function(xr){return this.cmp(xr)>=0},d.prototype.ltn=function(xr){return this.cmpn(xr)===-1},d.prototype.lt=function(xr){return this.cmp(xr)===-1},d.prototype.lten=function(xr){return this.cmpn(xr)<=0},d.prototype.lte=function(xr){return this.cmp(xr)<=0},d.prototype.eqn=function(xr){return this.cmpn(xr)===0},d.prototype.eq=function(xr){return this.cmp(xr)===0},d.red=function(xr){return new fn(xr)},d.prototype.toRed=function(xr){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),xr.convertTo(this)._forceRed(xr)},d.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(xr){return this.red=xr,this},d.prototype.forceRed=function(xr){return u(!this.red,"Already a number in reduction context"),this._forceRed(xr)},d.prototype.redAdd=function(xr){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,xr)},d.prototype.redIAdd=function(xr){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,xr)},d.prototype.redSub=function(xr){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,xr)},d.prototype.redISub=function(xr){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,xr)},d.prototype.redShl=function(xr){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,xr)},d.prototype.redMul=function(xr){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,xr),this.red.mul(this,xr)},d.prototype.redIMul=function(xr){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,xr),this.red.imul(this,xr)},d.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(xr){return u(this.red&&!xr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,xr)};var Qr={k256:null,p224:null,p192:null,p25519:null};function Wr(Mr,xr){this.name=Mr,this.p=new d(xr,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Wr.prototype._tmp=function(){var xr=new d(null);return xr.words=new Array(Math.ceil(this.n/13)),xr},Wr.prototype.ireduce=function(xr){var Pr=xr,Kr;do this.split(Pr,this.tmp),Pr=this.imulK(Pr),Pr=Pr.iadd(this.tmp),Kr=Pr.bitLength();while(Kr>this.n);var Hr=Kr<this.n?-1:Pr.ucmp(this.p);return Hr===0?(Pr.words[0]=0,Pr.length=1):Hr>0?Pr.isub(this.p):Pr.strip!==void 0?Pr.strip():Pr._strip(),Pr},Wr.prototype.split=function(xr,Pr){xr.iushrn(this.n,0,Pr)},Wr.prototype.imulK=function(xr){return xr.imul(this.k)};function Zr(){Wr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(Zr,Wr),Zr.prototype.split=function(xr,Pr){for(var Kr=4194303,Hr=Math.min(xr.length,9),Gr=0;Gr<Hr;Gr++)Pr.words[Gr]=xr.words[Gr];if(Pr.length=Hr,xr.length<=9){xr.words[0]=0,xr.length=1;return}var un=xr.words[9];for(Pr.words[Pr.length++]=un&Kr,Gr=10;Gr<xr.length;Gr++){var wn=xr.words[Gr]|0;xr.words[Gr-10]=(wn&Kr)<<4|un>>>22,un=wn}un>>>=22,xr.words[Gr-10]=un,un===0&&xr.length>10?xr.length-=10:xr.length-=9},Zr.prototype.imulK=function(xr){xr.words[xr.length]=0,xr.words[xr.length+1]=0,xr.length+=2;for(var Pr=0,Kr=0;Kr<xr.length;Kr++){var Hr=xr.words[Kr]|0;Pr+=Hr*977,xr.words[Kr]=Pr&67108863,Pr=Hr*64+(Pr/67108864|0)}return xr.words[xr.length-1]===0&&(xr.length--,xr.words[xr.length-1]===0&&xr.length--),xr};function rn(){Wr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(rn,Wr);function gn(){Wr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(gn,Wr);function an(){Wr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(an,Wr),an.prototype.imulK=function(xr){for(var Pr=0,Kr=0;Kr<xr.length;Kr++){var Hr=(xr.words[Kr]|0)*19+Pr,Gr=Hr&67108863;Hr>>>=26,xr.words[Kr]=Gr,Pr=Hr}return Pr!==0&&(xr.words[xr.length++]=Pr),xr},d._prime=function(xr){if(Qr[xr])return Qr[xr];var Pr;if(xr==="k256")Pr=new Zr;else if(xr==="p224")Pr=new rn;else if(xr==="p192")Pr=new gn;else if(xr==="p25519")Pr=new an;else throw new Error("Unknown prime "+xr);return Qr[xr]=Pr,Pr};function fn(Mr){if(typeof Mr=="string"){var xr=d._prime(Mr);this.m=xr.p,this.prime=xr}else u(Mr.gtn(1),"modulus must be greater than 1"),this.m=Mr,this.prime=null}fn.prototype._verify1=function(xr){u(xr.negative===0,"red works only with positives"),u(xr.red,"red works only with red numbers")},fn.prototype._verify2=function(xr,Pr){u((xr.negative|Pr.negative)===0,"red works only with positives"),u(xr.red&&xr.red===Pr.red,"red works only with red numbers")},fn.prototype.imod=function(xr){return this.prime?this.prime.ireduce(xr)._forceRed(this):(Ar(xr,xr.umod(this.m)._forceRed(this)),xr)},fn.prototype.neg=function(xr){return xr.isZero()?xr.clone():this.m.sub(xr)._forceRed(this)},fn.prototype.add=function(xr,Pr){this._verify2(xr,Pr);var Kr=xr.add(Pr);return Kr.cmp(this.m)>=0&&Kr.isub(this.m),Kr._forceRed(this)},fn.prototype.iadd=function(xr,Pr){this._verify2(xr,Pr);var Kr=xr.iadd(Pr);return Kr.cmp(this.m)>=0&&Kr.isub(this.m),Kr},fn.prototype.sub=function(xr,Pr){this._verify2(xr,Pr);var Kr=xr.sub(Pr);return Kr.cmpn(0)<0&&Kr.iadd(this.m),Kr._forceRed(this)},fn.prototype.isub=function(xr,Pr){this._verify2(xr,Pr);var Kr=xr.isub(Pr);return Kr.cmpn(0)<0&&Kr.iadd(this.m),Kr},fn.prototype.shl=function(xr,Pr){return this._verify1(xr),this.imod(xr.ushln(Pr))},fn.prototype.imul=function(xr,Pr){return this._verify2(xr,Pr),this.imod(xr.imul(Pr))},fn.prototype.mul=function(xr,Pr){return this._verify2(xr,Pr),this.imod(xr.mul(Pr))},fn.prototype.isqr=function(xr){return this.imul(xr,xr.clone())},fn.prototype.sqr=function(xr){return this.mul(xr,xr)},fn.prototype.sqrt=function(xr){if(xr.isZero())return xr.clone();var Pr=this.m.andln(3);if(u(Pr%2===1),Pr===3){var Kr=this.m.add(new d(1)).iushrn(2);return this.pow(xr,Kr)}for(var Hr=this.m.subn(1),Gr=0;!Hr.isZero()&&Hr.andln(1)===0;)Gr++,Hr.iushrn(1);u(!Hr.isZero());var un=new d(1).toRed(this),wn=un.redNeg(),jr=this.m.subn(1).iushrn(1),Rr=this.m.bitLength();for(Rr=new d(2*Rr*Rr).toRed(this);this.pow(Rr,jr).cmp(wn)!==0;)Rr.redIAdd(wn);for(var Ur=this.pow(Rr,Hr),hn=this.pow(xr,Hr.addn(1).iushrn(1)),en=this.pow(xr,Hr),tn=Gr;en.cmp(un)!==0;){for(var dn=en,pn=0;dn.cmp(un)!==0;pn++)dn=dn.redSqr();u(pn<tn);var vn=this.pow(Ur,new d(1).iushln(tn-pn-1));hn=hn.redMul(vn),Ur=vn.redSqr(),en=en.redMul(Ur),tn=pn}return hn},fn.prototype.invm=function(xr){var Pr=xr._invmp(this.m);return Pr.negative!==0?(Pr.negative=0,this.imod(Pr).redNeg()):this.imod(Pr)},fn.prototype.pow=function(xr,Pr){if(Pr.isZero())return new d(1).toRed(this);if(Pr.cmpn(1)===0)return xr.clone();var Kr=4,Hr=new Array(1<<Kr);Hr[0]=new d(1).toRed(this),Hr[1]=xr;for(var Gr=2;Gr<Hr.length;Gr++)Hr[Gr]=this.mul(Hr[Gr-1],xr);var un=Hr[0],wn=0,jr=0,Rr=Pr.bitLength()%26;for(Rr===0&&(Rr=26),Gr=Pr.length-1;Gr>=0;Gr--){for(var Ur=Pr.words[Gr],hn=Rr-1;hn>=0;hn--){var en=Ur>>hn&1;if(un!==Hr[0]&&(un=this.sqr(un)),en===0&&wn===0){jr=0;continue}wn<<=1,wn|=en,jr++,!(jr!==Kr&&(Gr!==0||hn!==0))&&(un=this.mul(un,Hr[wn]),jr=0,wn=0)}Rr=26}return un},fn.prototype.convertTo=function(xr){var Pr=xr.umod(this.m);return Pr===xr?Pr.clone():Pr},fn.prototype.convertFrom=function(xr){var Pr=xr.clone();return Pr.red=null,Pr},d.mont=function(xr){return new mn(xr)};function mn(Mr){fn.call(this,Mr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(mn,fn),mn.prototype.convertTo=function(xr){return this.imod(xr.ushln(this.shift))},mn.prototype.convertFrom=function(xr){var Pr=this.imod(xr.mul(this.rinv));return Pr.red=null,Pr},mn.prototype.imul=function(xr,Pr){if(xr.isZero()||Pr.isZero())return xr.words[0]=0,xr.length=1,xr;var Kr=xr.imul(Pr),Hr=Kr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Gr=Kr.isub(Hr).iushrn(this.shift),un=Gr;return Gr.cmp(this.m)>=0?un=Gr.isub(this.m):Gr.cmpn(0)<0&&(un=Gr.iadd(this.m)),un._forceRed(this)},mn.prototype.mul=function(xr,Pr){if(xr.isZero()||Pr.isZero())return new d(0)._forceRed(this);var Kr=xr.mul(Pr),Hr=Kr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Gr=Kr.isub(Hr).iushrn(this.shift),un=Gr;return Gr.cmp(this.m)>=0?un=Gr.isub(this.m):Gr.cmpn(0)<0&&(un=Gr.iadd(this.m)),un._forceRed(this)},mn.prototype.invm=function(xr){var Pr=this.imod(xr._invmp(this.m).mul(this.r2));return Pr._forceRed(this)}})(a,commonjsGlobal)})(bn);const BN=bn.exports;var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(a,r){var c=buffer$2,u=c.Buffer;function l(y,m){for(var wr in y)m[wr]=y[wr]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?a.exports=c:(l(c,r),r.Buffer=d);function d(y,m,wr){return u(y,m,wr)}d.prototype=Object.create(u.prototype),l(u,d),d.from=function(y,m,wr){if(typeof y=="number")throw new TypeError("Argument must not be a number");return u(y,m,wr)},d.alloc=function(y,m,wr){if(typeof y!="number")throw new TypeError("Argument must be a number");var Sr=u(y);return m!==void 0?typeof wr=="string"?Sr.fill(m,wr):Sr.fill(m):Sr.fill(0),Sr},d.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return u(y)},d.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(y)}})(safeBuffer,safeBuffer.exports);var _Buffer=safeBuffer.exports.Buffer;function base(a){if(a.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),c=0;c<r.length;c++)r[c]=255;for(var u=0;u<a.length;u++){var l=a.charAt(u),d=l.charCodeAt(0);if(r[d]!==255)throw new TypeError(l+" is ambiguous");r[d]=u}var y=a.length,m=a.charAt(0),wr=Math.log(y)/Math.log(256),Sr=Math.log(256)/Math.log(y);function Ar(kr){if((Array.isArray(kr)||kr instanceof Uint8Array)&&(kr=_Buffer.from(kr)),!_Buffer.isBuffer(kr))throw new TypeError("Expected Buffer");if(kr.length===0)return"";for(var Dr=0,Cr=0,Br=0,Fr=kr.length;Br!==Fr&&kr[Br]===0;)Br++,Dr++;for(var qr=(Fr-Br)*Sr+1>>>0,Vr=new Uint8Array(qr);Br!==Fr;){for(var Jr=kr[Br],Qr=0,Wr=qr-1;(Jr!==0||Qr<Cr)&&Wr!==-1;Wr--,Qr++)Jr+=256*Vr[Wr]>>>0,Vr[Wr]=Jr%y>>>0,Jr=Jr/y>>>0;if(Jr!==0)throw new Error("Non-zero carry");Cr=Qr,Br++}for(var Zr=qr-Cr;Zr!==qr&&Vr[Zr]===0;)Zr++;for(var rn=m.repeat(Dr);Zr<qr;++Zr)rn+=a.charAt(Vr[Zr]);return rn}function Ir(kr){if(typeof kr!="string")throw new TypeError("Expected String");if(kr.length===0)return _Buffer.alloc(0);for(var Dr=0,Cr=0,Br=0;kr[Dr]===m;)Cr++,Dr++;for(var Fr=(kr.length-Dr)*wr+1>>>0,qr=new Uint8Array(Fr);kr[Dr];){var Vr=r[kr.charCodeAt(Dr)];if(Vr===255)return;for(var Jr=0,Qr=Fr-1;(Vr!==0||Jr<Br)&&Qr!==-1;Qr--,Jr++)Vr+=y*qr[Qr]>>>0,qr[Qr]=Vr%256>>>0,Vr=Vr/256>>>0;if(Vr!==0)throw new Error("Non-zero carry");Br=Jr,Dr++}for(var Wr=Fr-Br;Wr!==Fr&&qr[Wr]===0;)Wr++;var Zr=_Buffer.allocUnsafe(Cr+(Fr-Wr));Zr.fill(0,0,Cr);for(var rn=Cr;Wr!==Fr;)Zr[rn++]=qr[Wr++];return Zr}function $r(kr){var Dr=Ir(kr);if(Dr)return Dr;throw new Error("Non-base"+y+" character")}return{encode:Ar,decodeUnsafe:Ir,decode:$r}}var src$1=base,basex=src$1,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);const Chi=(a,r,c)=>a&r^~a&c,Maj=(a,r,c)=>a&r^a&c^r&c,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:r,B:c,C:u,D:l,E:d,F:y,G:m,H:wr}=this;return[r,c,u,l,d,y,m,wr]}set(r,c,u,l,d,y,m,wr){this.A=r|0,this.B=c|0,this.C=u|0,this.D=l|0,this.E=d|0,this.F=y|0,this.G=m|0,this.H=wr|0}process(r,c){for(let Ir=0;Ir<16;Ir++,c+=4)SHA256_W[Ir]=r.getUint32(c,!1);for(let Ir=16;Ir<64;Ir++){const $r=SHA256_W[Ir-15],kr=SHA256_W[Ir-2],Dr=rotr($r,7)^rotr($r,18)^$r>>>3,Cr=rotr(kr,17)^rotr(kr,19)^kr>>>10;SHA256_W[Ir]=Cr+SHA256_W[Ir-7]+Dr+SHA256_W[Ir-16]|0}let{A:u,B:l,C:d,D:y,E:m,F:wr,G:Sr,H:Ar}=this;for(let Ir=0;Ir<64;Ir++){const $r=rotr(m,6)^rotr(m,11)^rotr(m,25),kr=Ar+$r+Chi(m,wr,Sr)+SHA256_K[Ir]+SHA256_W[Ir]|0,Cr=(rotr(u,2)^rotr(u,13)^rotr(u,22))+Maj(u,l,d)|0;Ar=Sr,Sr=wr,wr=m,m=y+kr|0,y=d,d=l,l=u,u=kr+Cr|0}u=u+this.A|0,l=l+this.B|0,d=d+this.C|0,y=y+this.D|0,m=m+this.E|0,wr=wr+this.F|0,Sr=Sr+this.G|0,Ar=Ar+this.H|0,this.set(u,l,d,y,m,wr,Sr,Ar)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);var lib$1={};function inRange(a,r,c){return r<=a&&a<=c}function ToDictionary(a){if(a===void 0)return{};if(a===Object(a))return a;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(a){for(var r=String(a),c=r.length,u=0,l=[];u<c;){var d=r.charCodeAt(u);if(d<55296||d>57343)l.push(d);else if(56320<=d&&d<=57343)l.push(65533);else if(55296<=d&&d<=56319)if(u===c-1)l.push(65533);else{var y=a.charCodeAt(u+1);if(56320<=y&&y<=57343){var m=d&1023,wr=y&1023;l.push(65536+(m<<10)+wr),u+=1}else l.push(65533)}u+=1}return l}function codePointsToString(a){for(var r="",c=0;c<a.length;++c){var u=a[c];u<=65535?r+=String.fromCharCode(u):(u-=65536,r+=String.fromCharCode((u>>10)+55296,(u&1023)+56320))}return r}var end_of_stream=-1;function Stream(a){this.tokens=[].slice.call(a)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(a){if(Array.isArray(a))for(var r=a;r.length;)this.tokens.unshift(r.pop());else this.tokens.unshift(a)},push:function(a){if(Array.isArray(a))for(var r=a;r.length;)this.tokens.push(r.shift());else this.tokens.push(a)}};var finished=-1;function decoderError(a,r){if(a)throw TypeError("Decoder error");return r||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(a,r){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(a,r);if(a=a!==void 0?String(a).toLowerCase():DEFAULT_ENCODING,a!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");r=ToDictionary(r),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(r.fatal),this._ignoreBOM=Boolean(r.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(r,c){var u;typeof r=="object"&&r instanceof ArrayBuffer?u=new Uint8Array(r):typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer?u=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):u=new Uint8Array(0),c=ToDictionary(c),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(c.stream);for(var l=new Stream(u),d=[],y;!l.endOfStream()&&(y=this._decoder.handler(l,l.read()),y!==finished);)y!==null&&(Array.isArray(y)?d.push.apply(d,y):d.push(y));if(!this._streaming){do{if(y=this._decoder.handler(l,l.read()),y===finished)break;y!==null&&(Array.isArray(y)?d.push.apply(d,y):d.push(y))}while(!l.endOfStream());this._decoder=null}return d.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(d[0]===65279?(this._BOMseen=!0,d.shift()):this._BOMseen=!0),codePointsToString(d)}};function TextEncoder$1(a,r){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(a,r);if(a=a!==void 0?String(a).toLowerCase():DEFAULT_ENCODING,a!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");r=ToDictionary(r),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(r.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(r,c){r=r?String(r):"",c=ToDictionary(c),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(c.stream);for(var u=[],l=new Stream(stringToCodePoints(r)),d;!l.endOfStream()&&(d=this._encoder.handler(l,l.read()),d!==finished);)Array.isArray(d)?u.push.apply(u,d):u.push(d);if(!this._streaming){for(;d=this._encoder.handler(l,l.read()),d!==finished;)Array.isArray(d)?u.push.apply(u,d):u.push(d);this._encoder=null}return new Uint8Array(u)}};function UTF8Decoder(a){var r=a.fatal,c=0,u=0,l=0,d=128,y=191;this.handler=function(m,wr){if(wr===end_of_stream&&l!==0)return l=0,decoderError(r);if(wr===end_of_stream)return finished;if(l===0){if(inRange(wr,0,127))return wr;if(inRange(wr,194,223))l=1,c=wr-192;else if(inRange(wr,224,239))wr===224&&(d=160),wr===237&&(y=159),l=2,c=wr-224;else if(inRange(wr,240,244))wr===240&&(d=144),wr===244&&(y=143),l=3,c=wr-240;else return decoderError(r);return c=c<<6*l,null}if(!inRange(wr,d,y))return c=l=u=0,d=128,y=191,m.prepend(wr),decoderError(r);if(d=128,y=191,u+=1,c+=wr-128<<6*(l-u),u!==l)return null;var Sr=c;return c=l=u=0,Sr}}function UTF8Encoder(a){a.fatal,this.handler=function(r,c){if(c===end_of_stream)return finished;if(inRange(c,0,127))return c;var u,l;inRange(c,128,2047)?(u=1,l=192):inRange(c,2048,65535)?(u=2,l=224):inRange(c,65536,1114111)&&(u=3,l=240);for(var d=[(c>>6*u)+l];u>0;){var y=c>>6*(u-1);d.push(128|y&63),u-=1}return d}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(encoding$1);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,r,c,u){u===void 0&&(u=c),Object.defineProperty(a,u,{enumerable:!0,get:function(){return r[c]}})}:function(a,r,c,u){u===void 0&&(u=c),a[u]=r[c]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}:function(a,r){a.default=r}),__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(a,r,c,u){var l=arguments.length,d=l<3?r:u===null?u=Object.getOwnPropertyDescriptor(r,c):u,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(a,r,c,u);else for(var m=a.length-1;m>=0;m--)(y=a[m])&&(d=(l<3?y(d):l>3?y(r,c,d):y(r,c))||d);return l>3&&d&&Object.defineProperty(r,c,d),d},__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var c in a)c!=="default"&&Object.hasOwnProperty.call(a,c)&&__createBinding$2(r,a,c);return __setModuleDefault$2(r,a),r},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(lib$1,"__esModule",{value:!0});var deserializeUnchecked_1=lib$1.deserializeUnchecked=deserialize_1=lib$1.deserialize=serialize_1=lib$1.serialize=lib$1.BinaryReader=lib$1.BinaryWriter=lib$1.BorshError=lib$1.baseDecode=lib$1.baseEncode=void 0;const bn_js_1=__importDefault(bn.exports),bs58_1=__importDefault(bs58),encoding=__importStar$2(require$$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(a){return typeof a=="string"&&(a=Buffer.from(a,"utf8")),bs58_1.default.encode(Buffer.from(a))}lib$1.baseEncode=baseEncode;function baseDecode(a){return Buffer.from(bs58_1.default.decode(a))}lib$1.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(r){super(r),this.fieldPath=[],this.originalMessage=r}addToFieldPath(r){this.fieldPath.splice(0,0,r),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$1.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(r){this.maybeResize(),this.buf.writeUInt8(r,this.length),this.length+=1}writeU16(r){this.maybeResize(),this.buf.writeUInt16LE(r,this.length),this.length+=2}writeU32(r){this.maybeResize(),this.buf.writeUInt32LE(r,this.length),this.length+=4}writeU64(r){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(r).toArray("le",8)))}writeU128(r){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(r).toArray("le",16)))}writeU256(r){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(r).toArray("le",32)))}writeU512(r){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(r).toArray("le",64)))}writeBuffer(r){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),r,Buffer.alloc(INITIAL_LENGTH)]),this.length+=r.length}writeString(r){this.maybeResize();const c=Buffer.from(r,"utf8");this.writeU32(c.length),this.writeBuffer(c)}writeFixedArray(r){this.writeBuffer(Buffer.from(r))}writeArray(r,c){this.maybeResize(),this.writeU32(r.length);for(const u of r)this.maybeResize(),c(u)}toArray(){return this.buf.subarray(0,this.length)}}lib$1.BinaryWriter=BinaryWriter;function handlingRangeError(a,r,c){const u=c.value;c.value=function(...l){try{return u.apply(this,l)}catch(d){if(d instanceof RangeError){const y=d.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(y)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw d}}}class BinaryReader{constructor(r){this.buf=r,this.offset=0}readU8(){const r=this.buf.readUInt8(this.offset);return this.offset+=1,r}readU16(){const r=this.buf.readUInt16LE(this.offset);return this.offset+=2,r}readU32(){const r=this.buf.readUInt32LE(this.offset);return this.offset+=4,r}readU64(){const r=this.readBuffer(8);return new bn_js_1.default(r,"le")}readU128(){const r=this.readBuffer(16);return new bn_js_1.default(r,"le")}readU256(){const r=this.readBuffer(32);return new bn_js_1.default(r,"le")}readU512(){const r=this.readBuffer(64);return new bn_js_1.default(r,"le")}readBuffer(r){if(this.offset+r>this.buf.length)throw new BorshError(`Expected buffer length ${r} isn't within bounds`);const c=this.buf.slice(this.offset,this.offset+r);return this.offset+=r,c}readString(){const r=this.readU32(),c=this.readBuffer(r);try{return textDecoder.decode(c)}catch(u){throw new BorshError(`Error decoding UTF-8 string: ${u}`)}}readFixedArray(r){return new Uint8Array(this.readBuffer(r))}readArray(r){const c=this.readU32(),u=Array();for(let l=0;l<c;++l)u.push(r());return u}}__decorate$2([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$1.BinaryReader=BinaryReader;function capitalizeFirstLetter(a){return a.charAt(0).toUpperCase()+a.slice(1)}function serializeField(a,r,c,u,l){try{if(typeof u=="string")l[`write${capitalizeFirstLetter(u)}`](c);else if(u instanceof Array)if(typeof u[0]=="number"){if(c.length!==u[0])throw new BorshError(`Expecting byte array of length ${u[0]}, but got ${c.length} bytes`);l.writeFixedArray(c)}else if(u.length===2&&typeof u[1]=="number"){if(c.length!==u[1])throw new BorshError(`Expecting byte array of length ${u[1]}, but got ${c.length} bytes`);for(let d=0;d<u[1];d++)serializeField(a,null,c[d],u[0],l)}else l.writeArray(c,d=>{serializeField(a,r,d,u[0],l)});else if(u.kind!==void 0)switch(u.kind){case"option":{c==null?l.writeU8(0):(l.writeU8(1),serializeField(a,r,c,u.type,l));break}case"map":{l.writeU32(c.size),c.forEach((d,y)=>{serializeField(a,r,y,u.key,l),serializeField(a,r,d,u.value,l)});break}default:throw new BorshError(`FieldType ${u} unrecognized`)}else serializeStruct(a,c,l)}catch(d){throw d instanceof BorshError&&d.addToFieldPath(r),d}}function serializeStruct(a,r,c){if(typeof r.borshSerialize=="function"){r.borshSerialize(c);return}const u=a.get(r.constructor);if(!u)throw new BorshError(`Class ${r.constructor.name} is missing in schema`);if(u.kind==="struct")u.fields.map(([l,d])=>{serializeField(a,l,r[l],d,c)});else if(u.kind==="enum"){const l=r[u.field];for(let d=0;d<u.values.length;++d){const[y,m]=u.values[d];if(y===l){c.writeU8(d),serializeField(a,y,r[y],m,c);break}}}else throw new BorshError(`Unexpected schema kind: ${u.kind} for ${r.constructor.name}`)}function serialize(a,r,c=BinaryWriter){const u=new c;return serializeStruct(a,r,u),u.toArray()}var serialize_1=lib$1.serialize=serialize;function deserializeField(a,r,c,u){try{if(typeof c=="string")return u[`read${capitalizeFirstLetter(c)}`]();if(c instanceof Array){if(typeof c[0]=="number")return u.readFixedArray(c[0]);if(typeof c[1]=="number"){const l=[];for(let d=0;d<c[1];d++)l.push(deserializeField(a,null,c[0],u));return l}else return u.readArray(()=>deserializeField(a,r,c[0],u))}if(c.kind==="option")return u.readU8()?deserializeField(a,r,c.type,u):void 0;if(c.kind==="map"){let l=new Map;const d=u.readU32();for(let y=0;y<d;y++){const m=deserializeField(a,r,c.key,u),wr=deserializeField(a,r,c.value,u);l.set(m,wr)}return l}return deserializeStruct(a,c,u)}catch(l){throw l instanceof BorshError&&l.addToFieldPath(r),l}}function deserializeStruct(a,r,c){if(typeof r.borshDeserialize=="function")return r.borshDeserialize(c);const u=a.get(r);if(!u)throw new BorshError(`Class ${r.name} is missing in schema`);if(u.kind==="struct"){const l={};for(const[d,y]of a.get(r).fields)l[d]=deserializeField(a,d,y,c);return new r(l)}if(u.kind==="enum"){const l=c.readU8();if(l>=u.values.length)throw new BorshError(`Enum index: ${l} is out of range`);const[d,y]=u.values[l],m=deserializeField(a,d,y,c);return new r({[d]:m})}throw new BorshError(`Unexpected schema kind: ${u.kind} for ${r.constructor.name}`)}function deserialize(a,r,c,u=BinaryReader){const l=new u(c),d=deserializeStruct(a,r,l);if(l.offset<c.length)throw new BorshError(`Unexpected ${c.length-l.offset} bytes after deserialized data`);return d}var deserialize_1=lib$1.deserialize=deserialize;function deserializeUnchecked(a,r,c,u=BinaryReader){const l=new u(c);return deserializeStruct(a,r,l)}deserializeUnchecked_1=lib$1.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$1=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$1=Layout$4.u8=offset=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$1=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$1=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=buffer$2;function checkUint8Array(a){if(!(a instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(a){return checkUint8Array(a),buffer_1.Buffer.from(a.buffer,a.byteOffset,a.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$3{constructor(r,c){if(!Number.isInteger(r))throw new TypeError("span must be an integer");this.span=r,this.property=c}makeDestinationObject(){return{}}getSpan(r,c){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(r){const c=Object.create(this.constructor.prototype);return Object.assign(c,this),c.property=r,c}fromArray(r){}}Layout$4.Layout=Layout$3;function nameWithProperty$2(a,r){return r.property?a+"["+r.property+"]":a}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(a,r){if(typeof a!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(a,"layout_"))throw new Error("Class is already bound to a layout");if(!(r&&r instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(r,"boundConstructor_"))throw new Error("layout is already bound to a constructor");a.layout_=r,r.boundConstructor_=a,r.makeDestinationObject=()=>new a,Object.defineProperty(a.prototype,"encode",{value(c,u){return r.encode(this,c,u)},writable:!0}),Object.defineProperty(a,"decode",{value(c,u){return r.decode(c,u)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$2 extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$4.ExternalLayout=ExternalLayout$2;class GreedyCount$1 extends ExternalLayout$2{constructor(r=1,c){if(!Number.isInteger(r)||0>=r)throw new TypeError("elementSpan must be a (positive) integer");super(-1,c),this.elementSpan=r}isCount(){return!0}decode(r,c=0){checkUint8Array(r);const u=r.length-c;return Math.floor(u/this.elementSpan)}encode(r,c,u){return 0}}Layout$4.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$2{constructor(r,c=0,u){if(!(r instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(c))throw new TypeError("offset must be integer or undefined");super(r.span,u||r.property),this.layout=r,this.offset=c}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$1}decode(r,c=0){return this.layout.decode(r,c+this.offset)}encode(r,c,u=0){return this.layout.encode(r,c,u+this.offset)}}Layout$4.OffsetLayout=OffsetLayout$1;class UInt$2 extends Layout$3{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c=0){return uint8ArrayToBuffer(r).readUIntLE(c,this.span)}encode(r,c,u=0){return uint8ArrayToBuffer(c).writeUIntLE(r,u,this.span),this.span}}Layout$4.UInt=UInt$2;class UIntBE$1 extends Layout$3{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c=0){return uint8ArrayToBuffer(r).readUIntBE(c,this.span)}encode(r,c,u=0){return uint8ArrayToBuffer(c).writeUIntBE(r,u,this.span),this.span}}Layout$4.UIntBE=UIntBE$1;class Int$1 extends Layout$3{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c=0){return uint8ArrayToBuffer(r).readIntLE(c,this.span)}encode(r,c,u=0){return uint8ArrayToBuffer(c).writeIntLE(r,u,this.span),this.span}}Layout$4.Int=Int$1;class IntBE$1 extends Layout$3{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c=0){return uint8ArrayToBuffer(r).readIntBE(c,this.span)}encode(r,c,u=0){return uint8ArrayToBuffer(c).writeIntBE(r,u,this.span),this.span}}Layout$4.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(a){const r=Math.floor(a/V2E32$1),c=a-r*V2E32$1;return{hi32:r,lo32:c}}function roundedInt64$1(a,r){return a*V2E32$1+r}class NearUInt64$1 extends Layout$3{constructor(r){super(8,r)}decode(r,c=0){const u=uint8ArrayToBuffer(r),l=u.readUInt32LE(c),d=u.readUInt32LE(c+4);return roundedInt64$1(d,l)}encode(r,c,u=0){const l=divmodInt64$1(r),d=uint8ArrayToBuffer(c);return d.writeUInt32LE(l.lo32,u),d.writeUInt32LE(l.hi32,u+4),8}}Layout$4.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$3{constructor(r){super(8,r)}decode(r,c=0){const u=uint8ArrayToBuffer(r),l=u.readUInt32BE(c),d=u.readUInt32BE(c+4);return roundedInt64$1(l,d)}encode(r,c,u=0){const l=divmodInt64$1(r),d=uint8ArrayToBuffer(c);return d.writeUInt32BE(l.hi32,u),d.writeUInt32BE(l.lo32,u+4),8}}Layout$4.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$3{constructor(r){super(8,r)}decode(r,c=0){const u=uint8ArrayToBuffer(r),l=u.readUInt32LE(c),d=u.readInt32LE(c+4);return roundedInt64$1(d,l)}encode(r,c,u=0){const l=divmodInt64$1(r),d=uint8ArrayToBuffer(c);return d.writeUInt32LE(l.lo32,u),d.writeInt32LE(l.hi32,u+4),8}}Layout$4.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$3{constructor(r){super(8,r)}decode(r,c=0){const u=uint8ArrayToBuffer(r),l=u.readInt32BE(c),d=u.readUInt32BE(c+4);return roundedInt64$1(l,d)}encode(r,c,u=0){const l=divmodInt64$1(r),d=uint8ArrayToBuffer(c);return d.writeInt32BE(l.hi32,u),d.writeUInt32BE(l.lo32,u+4),8}}Layout$4.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$3{constructor(r){super(4,r)}decode(r,c=0){return uint8ArrayToBuffer(r).readFloatLE(c)}encode(r,c,u=0){return uint8ArrayToBuffer(c).writeFloatLE(r,u),4}}Layout$4.Float=Float$1;class FloatBE$1 extends Layout$3{constructor(r){super(4,r)}decode(r,c=0){return uint8ArrayToBuffer(r).readFloatBE(c)}encode(r,c,u=0){return uint8ArrayToBuffer(c).writeFloatBE(r,u),4}}Layout$4.FloatBE=FloatBE$1;class Double$1 extends Layout$3{constructor(r){super(8,r)}decode(r,c=0){return uint8ArrayToBuffer(r).readDoubleLE(c)}encode(r,c,u=0){return uint8ArrayToBuffer(c).writeDoubleLE(r,u),8}}Layout$4.Double=Double$1;class DoubleBE$1 extends Layout$3{constructor(r){super(8,r)}decode(r,c=0){return uint8ArrayToBuffer(r).readDoubleBE(c)}encode(r,c,u=0){return uint8ArrayToBuffer(c).writeDoubleBE(r,u),8}}Layout$4.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$3{constructor(r,c,u){if(!(r instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(c instanceof ExternalLayout$2&&c.isCount()||Number.isInteger(c)&&0<=c))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let l=-1;!(c instanceof ExternalLayout$2)&&0<r.span&&(l=c*r.span),super(l,u),this.elementLayout=r,this.count=c}getSpan(r,c=0){if(0<=this.span)return this.span;let u=0,l=this.count;if(l instanceof ExternalLayout$2&&(l=l.decode(r,c)),0<this.elementLayout.span)u=l*this.elementLayout.span;else{let d=0;for(;d<l;)u+=this.elementLayout.getSpan(r,c+u),++d}return u}decode(r,c=0){const u=[];let l=0,d=this.count;for(d instanceof ExternalLayout$2&&(d=d.decode(r,c));l<d;)u.push(this.elementLayout.decode(r,c)),c+=this.elementLayout.getSpan(r,c),l+=1;return u}encode(r,c,u=0){const l=this.elementLayout,d=r.reduce((y,m)=>y+l.encode(m,c,u+y),0);return this.count instanceof ExternalLayout$2&&this.count.encode(r.length,c,u),d}}Layout$4.Sequence=Sequence$1;class Structure$2 extends Layout$3{constructor(r,c,u){if(!(Array.isArray(r)&&r.reduce((d,y)=>d&&y instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof c=="boolean"&&u===void 0&&(u=c,c=void 0);for(const d of r)if(0>d.span&&d.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let l=-1;try{l=r.reduce((d,y)=>d+y.getSpan(),0)}catch{}super(l,c),this.fields=r,this.decodePrefixes=!!u}getSpan(r,c=0){if(0<=this.span)return this.span;let u=0;try{u=this.fields.reduce((l,d)=>{const y=d.getSpan(r,c);return c+=y,l+y},0)}catch{throw new RangeError("indeterminate span")}return u}decode(r,c=0){checkUint8Array(r);const u=this.makeDestinationObject();for(const l of this.fields)if(l.property!==void 0&&(u[l.property]=l.decode(r,c)),c+=l.getSpan(r,c),this.decodePrefixes&&r.length===c)break;return u}encode(r,c,u=0){const l=u;let d=0,y=0;for(const m of this.fields){let wr=m.span;if(y=0<wr?wr:0,m.property!==void 0){const Sr=r[m.property];Sr!==void 0&&(y=m.encode(Sr,c,u),0>wr&&(wr=m.getSpan(c,u)))}d=u,u+=wr}return d+y-l}fromArray(r){const c=this.makeDestinationObject();for(const u of this.fields)u.property!==void 0&&0<r.length&&(c[u.property]=r.shift());return c}layoutFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const c of this.fields)if(c.property===r)return c}offsetOf(r){if(typeof r!="string")throw new TypeError("property must be string");let c=0;for(const u of this.fields){if(u.property===r)return c;0>u.span?c=-1:0<=c&&(c+=u.span)}}}Layout$4.Structure=Structure$2;class UnionDiscriminator$1{constructor(r){this.property=r}decode(r,c){throw new Error("UnionDiscriminator is abstract")}encode(r,c,u){throw new Error("UnionDiscriminator is abstract")}}Layout$4.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(r,c){if(!(r instanceof ExternalLayout$2&&r.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(c||r.property||"variant"),this.layout=r}decode(r,c){return this.layout.decode(r,c)}encode(r,c,u){return this.layout.encode(r,c,u)}}Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$3{constructor(r,c,u){let l;if(r instanceof UInt$2||r instanceof UIntBE$1)l=new UnionLayoutDiscriminator$1(new OffsetLayout$1(r));else if(r instanceof ExternalLayout$2&&r.isCount())l=new UnionLayoutDiscriminator$1(r);else if(r instanceof UnionDiscriminator$1)l=r;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(c===void 0&&(c=null),!(c===null||c instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(c!==null){if(0>c.span)throw new Error("defaultLayout must have constant span");c.property===void 0&&(c=c.replicate("content"))}let d=-1;c&&(d=c.span,0<=d&&(r instanceof UInt$2||r instanceof UIntBE$1)&&(d+=l.layout.span)),super(d,u),this.discriminator=l,this.usesPrefixDiscriminator=r instanceof UInt$2||r instanceof UIntBE$1,this.defaultLayout=c,this.registry={};let y=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(m){return y(m)},this.configGetSourceVariant=function(m){y=m.bind(this)}}getSpan(r,c=0){if(0<=this.span)return this.span;const u=this.getVariant(r,c);if(!u)throw new Error("unable to determine span for unrecognized variant");return u.getSpan(r,c)}defaultGetSourceVariant(r){if(Object.prototype.hasOwnProperty.call(r,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(r,this.defaultLayout.property))return;const c=this.registry[r[this.discriminator.property]];if(c&&(!c.layout||c.property&&Object.prototype.hasOwnProperty.call(r,c.property)))return c}else for(const c in this.registry){const u=this.registry[c];if(u.property&&Object.prototype.hasOwnProperty.call(r,u.property))return u}throw new Error("unable to infer src variant")}decode(r,c=0){let u;const l=this.discriminator,d=l.decode(r,c),y=this.registry[d];if(y===void 0){const m=this.defaultLayout;let wr=0;this.usesPrefixDiscriminator&&(wr=l.layout.span),u=this.makeDestinationObject(),u[l.property]=d,u[m.property]=m.decode(r,c+wr)}else u=y.decode(r,c);return u}encode(r,c,u=0){const l=this.getSourceVariant(r);if(l===void 0){const d=this.discriminator,y=this.defaultLayout;let m=0;return this.usesPrefixDiscriminator&&(m=d.layout.span),d.encode(r[d.property],c,u),m+y.encode(r[y.property],c,u+m)}return l.encode(r,c,u)}addVariant(r,c,u){const l=new VariantLayout$1(this,r,c,u);return this.registry[r]=l,l}getVariant(r,c=0){let u;return r instanceof Uint8Array?u=this.discriminator.decode(r,c):u=r,this.registry[u]}}Layout$4.Union=Union$1;class VariantLayout$1 extends Layout$3{constructor(r,c,u,l){if(!(r instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(c)||0>c)throw new TypeError("variant must be a (non-negative) integer");if(typeof u=="string"&&l===void 0&&(l=u,u=null),u){if(!(u instanceof Layout$3))throw new TypeError("layout must be a Layout");if(r.defaultLayout!==null&&0<=u.span&&u.span>r.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof l!="string")throw new TypeError("variant must have a String property")}let d=r.span;0>r.span&&(d=u?u.span:0,0<=d&&r.usesPrefixDiscriminator&&(d+=r.discriminator.layout.span)),super(d,l),this.union=r,this.variant=c,this.layout=u||null}getSpan(r,c=0){if(0<=this.span)return this.span;let u=0;this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span);let l=0;return this.layout&&(l=this.layout.getSpan(r,c+u)),u+l}decode(r,c=0){const u=this.makeDestinationObject();if(this!==this.union.getVariant(r,c))throw new Error("variant mismatch");let l=0;return this.union.usesPrefixDiscriminator&&(l=this.union.discriminator.layout.span),this.layout?u[this.property]=this.layout.decode(r,c+l):this.property?u[this.property]=!0:this.union.usesPrefixDiscriminator&&(u[this.union.discriminator.property]=this.variant),u}encode(r,c,u=0){let l=0;if(this.union.usesPrefixDiscriminator&&(l=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(r,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,c,u);let d=l;if(this.layout&&(this.layout.encode(r[this.property],c,u+l),d+=this.layout.getSpan(c,u+l),0<=this.union.span&&d>this.union.span))throw new Error("encoded variant overruns containing union");return d}fromArray(r){if(this.layout)return this.layout.fromArray(r)}}Layout$4.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(a){return 0>a&&(a+=4294967296),a}class BitStructure$1 extends Layout$3{constructor(r,c,u){if(!(r instanceof UInt$2||r instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof c=="string"&&u===void 0&&(u=c,c=!1),4<r.span)throw new RangeError("word cannot exceed 32 bits");super(r.span,u),this.word=r,this.msb=!!c,this.fields=[];let l=0;this._packedSetValue=function(d){return l=fixBitwiseResult$1(d),this},this._packedGetValue=function(){return l}}decode(r,c=0){const u=this.makeDestinationObject(),l=this.word.decode(r,c);this._packedSetValue(l);for(const d of this.fields)d.property!==void 0&&(u[d.property]=d.decode(r));return u}encode(r,c,u=0){const l=this.word.decode(c,u);this._packedSetValue(l);for(const d of this.fields)if(d.property!==void 0){const y=r[d.property];y!==void 0&&d.encode(y)}return this.word.encode(this._packedGetValue(),c,u)}addField(r,c){const u=new BitField$1(this,r,c);return this.fields.push(u),u}addBoolean(r){const c=new Boolean$2(this,r);return this.fields.push(c),c}fieldFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const c of this.fields)if(c.property===r)return c}}Layout$4.BitStructure=BitStructure$1;class BitField$1{constructor(r,c,u){if(!(r instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(c)||0>=c)throw new TypeError("bits must be positive integer");const l=8*r.span,d=r.fields.reduce((y,m)=>y+m.bits,0);if(c+d>l)throw new Error("bits too long for span remainder ("+(l-d)+" of "+l+" remain)");this.container=r,this.bits=c,this.valueMask=(1<<c)-1,c===32&&(this.valueMask=4294967295),this.start=d,this.container.msb&&(this.start=l-d-c),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=u}decode(r,c){const u=this.container._packedGetValue();return fixBitwiseResult$1(u&this.wordMask)>>>this.start}encode(r){if(typeof r!="number"||!Number.isInteger(r)||r!==fixBitwiseResult$1(r&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const c=this.container._packedGetValue(),u=fixBitwiseResult$1(r<<this.start);this.container._packedSetValue(fixBitwiseResult$1(c&~this.wordMask)|u)}}Layout$4.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(r,c){super(r,1,c)}decode(r,c){return!!super.decode(r,c)}encode(r){typeof r=="boolean"&&(r=+r),super.encode(r)}}Layout$4.Boolean=Boolean$2;class Blob$3 extends Layout$3{constructor(r,c){if(!(r instanceof ExternalLayout$2&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let u=-1;r instanceof ExternalLayout$2||(u=r),super(u,c),this.length=r}getSpan(r,c){let u=this.span;return 0>u&&(u=this.length.decode(r,c)),u}decode(r,c=0){let u=this.span;return 0>u&&(u=this.length.decode(r,c)),uint8ArrayToBuffer(r).slice(c,c+u)}encode(r,c,u){let l=this.length;if(this.length instanceof ExternalLayout$2&&(l=r.length),!(r instanceof Uint8Array&&l===r.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+l+") Uint8Array as src");if(u+l>c.length)throw new RangeError("encoding overruns Uint8Array");const d=uint8ArrayToBuffer(r);return uint8ArrayToBuffer(c).write(d.toString("hex"),u,l,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(l,c,u),l}}Layout$4.Blob=Blob$3;class CString$1 extends Layout$3{constructor(r){super(-1,r)}getSpan(r,c=0){checkUint8Array(r);let u=c;for(;u<r.length&&r[u]!==0;)u+=1;return 1+u-c}decode(r,c=0){const u=this.getSpan(r,c);return uint8ArrayToBuffer(r).slice(c,c+u-1).toString("utf-8")}encode(r,c,u=0){typeof r!="string"&&(r=String(r));const l=buffer_1.Buffer.from(r,"utf8"),d=l.length;if(u+d>c.length)throw new RangeError("encoding overruns Buffer");const y=uint8ArrayToBuffer(c);return l.copy(y,u),y[u+d]=0,d+1}}Layout$4.CString=CString$1;class UTF8$1 extends Layout$3{constructor(r,c){if(typeof r=="string"&&c===void 0&&(c=r,r=void 0),r===void 0)r=-1;else if(!Number.isInteger(r))throw new TypeError("maxSpan must be an integer");super(-1,c),this.maxSpan=r}getSpan(r,c=0){return checkUint8Array(r),r.length-c}decode(r,c=0){const u=this.getSpan(r,c);if(0<=this.maxSpan&&this.maxSpan<u)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(r).slice(c,c+u).toString("utf-8")}encode(r,c,u=0){typeof r!="string"&&(r=String(r));const l=buffer_1.Buffer.from(r,"utf8"),d=l.length;if(0<=this.maxSpan&&this.maxSpan<d)throw new RangeError("text length exceeds maxSpan");if(u+d>c.length)throw new RangeError("encoding overruns Buffer");return l.copy(uint8ArrayToBuffer(c),u),d}}Layout$4.UTF8=UTF8$1;class Constant$1 extends Layout$3{constructor(r,c){super(0,c),this.value=r}decode(r,c){return this.value}encode(r,c,u){return 0}}Layout$4.Constant=Constant$1;Layout$4.greedy=(a,r)=>new GreedyCount$1(a,r);var offset=Layout$4.offset=(a,r,c)=>new OffsetLayout$1(a,r,c),u8$1=Layout$4.u8=a=>new UInt$2(1,a),u16=Layout$4.u16=a=>new UInt$2(2,a);Layout$4.u24=a=>new UInt$2(3,a);var u32$1=Layout$4.u32=a=>new UInt$2(4,a);Layout$4.u40=a=>new UInt$2(5,a);Layout$4.u48=a=>new UInt$2(6,a);var nu64=Layout$4.nu64=a=>new NearUInt64$1(a);Layout$4.u16be=a=>new UIntBE$1(2,a);Layout$4.u24be=a=>new UIntBE$1(3,a);Layout$4.u32be=a=>new UIntBE$1(4,a);Layout$4.u40be=a=>new UIntBE$1(5,a);Layout$4.u48be=a=>new UIntBE$1(6,a);Layout$4.nu64be=a=>new NearUInt64BE$1(a);Layout$4.s8=a=>new Int$1(1,a);Layout$4.s16=a=>new Int$1(2,a);Layout$4.s24=a=>new Int$1(3,a);Layout$4.s32=a=>new Int$1(4,a);Layout$4.s40=a=>new Int$1(5,a);Layout$4.s48=a=>new Int$1(6,a);var ns64=Layout$4.ns64=a=>new NearInt64$1(a);Layout$4.s16be=a=>new IntBE$1(2,a);Layout$4.s24be=a=>new IntBE$1(3,a);Layout$4.s32be=a=>new IntBE$1(4,a);Layout$4.s40be=a=>new IntBE$1(5,a);Layout$4.s48be=a=>new IntBE$1(6,a);Layout$4.ns64be=a=>new NearInt64BE$1(a);Layout$4.f32=a=>new Float$1(a);Layout$4.f32be=a=>new FloatBE$1(a);Layout$4.f64=a=>new Double$1(a);Layout$4.f64be=a=>new DoubleBE$1(a);var struct$1=Layout$4.struct=(a,r,c)=>new Structure$2(a,r,c);Layout$4.bits=(a,r,c)=>new BitStructure$1(a,r,c);var seq=Layout$4.seq=(a,r,c)=>new Sequence$1(a,r,c);Layout$4.union=(a,r,c)=>new Union$1(a,r,c);Layout$4.unionLayoutDiscriminator=(a,r)=>new UnionLayoutDiscriminator$1(a,r);var blob$1=Layout$4.blob=(a,r)=>new Blob$3(a,r);Layout$4.cstr=a=>new CString$1(a);Layout$4.utf8=(a,r)=>new UTF8$1(a,r);Layout$4.constant=(a,r)=>new Constant$1(a,r);var browser$2={};Object.defineProperty(browser$2,"__esModule",{value:!0});function toBigIntLE(a){{const r=Buffer.from(a);r.reverse();const c=r.toString("hex");return c.length===0?BigInt(0):BigInt(`0x${c}`)}}var toBigIntLE_1=browser$2.toBigIntLE=toBigIntLE;function toBigIntBE(a){{const r=a.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}browser$2.toBigIntBE=toBigIntBE;function toBufferLE(a,r){{const c=a.toString(16),u=Buffer.from(c.padStart(r*2,"0").slice(0,r*2),"hex");return u.reverse(),u}}var toBufferLE_1=browser$2.toBufferLE=toBufferLE;function toBufferBE(a,r){{const c=a.toString(16);return Buffer.from(c.padStart(r*2,"0").slice(0,r*2),"hex")}}browser$2.toBufferBE=toBufferBE;class StructError extends TypeError{constructor(r,c){let u;const{message:l,...d}=r,{path:y}=r,m=y.length===0?l:"At path: "+y.join(".")+" -- "+l;super(m),Object.assign(this,d),this.name=this.constructor.name,this.failures=()=>{var wr;return(wr=u)!=null?wr:u=[r,...c()]}}}function isIterable(a){return isObject$2(a)&&typeof a[Symbol.iterator]=="function"}function isObject$2(a){return typeof a=="object"&&a!=null}function print(a){return typeof a=="string"?JSON.stringify(a):""+a}function shiftIterator(a){const{done:r,value:c}=a.next();return r?void 0:c}function toFailure(a,r,c,u){if(a===!0)return;a===!1?a={}:typeof a=="string"&&(a={message:a});const{path:l,branch:d}=r,{type:y}=c,{refinement:m,message:wr="Expected a value of type `"+y+"`"+(m?" with refinement `"+m+"`":"")+", but received: `"+print(u)+"`"}=a;return{value:u,type:y,refinement:m,key:l[l.length-1],path:l,branch:d,...a,message:wr}}function*toFailures(a,r,c,u){isIterable(a)||(a=[a]);for(const l of a){const d=toFailure(l,r,c,u);d&&(yield d)}}function*run$1(a,r,c={}){const{path:u=[],branch:l=[a],coerce:d=!1,mask:y=!1}=c,m={path:u,branch:l};if(d&&(a=r.coercer(a,m),y&&r.type!=="type"&&isObject$2(r.schema)&&isObject$2(a)&&!Array.isArray(a)))for(const Sr in a)r.schema[Sr]===void 0&&delete a[Sr];let wr=!0;for(const Sr of r.validator(a,m))wr=!1,yield[Sr,void 0];for(let[Sr,Ar,Ir]of r.entries(a,m)){const $r=run$1(Ar,Ir,{path:Sr===void 0?u:[...u,Sr],branch:Sr===void 0?l:[...l,Ar],coerce:d,mask:y});for(const kr of $r)kr[0]?(wr=!1,yield[kr[0],void 0]):d&&(Ar=kr[1],Sr===void 0?a=Ar:a instanceof Map?a.set(Sr,Ar):a instanceof Set?a.add(Ar):isObject$2(a)&&(a[Sr]=Ar))}if(wr)for(const Sr of r.refiner(a,m))wr=!1,yield[Sr,void 0];wr&&(yield[void 0,a])}class Struct$1{constructor(r){const{type:c,schema:u,validator:l,refiner:d,coercer:y=wr=>wr,entries:m=function*(){}}=r;this.type=c,this.schema=u,this.entries=m,this.coercer=y,l?this.validator=(wr,Sr)=>{const Ar=l(wr,Sr);return toFailures(Ar,Sr,this,wr)}:this.validator=()=>[],d?this.refiner=(wr,Sr)=>{const Ar=d(wr,Sr);return toFailures(Ar,Sr,this,wr)}:this.refiner=()=>[]}assert(r){return assert$3(r,this)}create(r){return create(r,this)}is(r){return is(r,this)}mask(r){return mask(r,this)}validate(r,c={}){return validate$1(r,this,c)}}function assert$3(a,r){const c=validate$1(a,r);if(c[0])throw c[0]}function create(a,r){const c=validate$1(a,r,{coerce:!0});if(c[0])throw c[0];return c[1]}function mask(a,r){const c=validate$1(a,r,{coerce:!0,mask:!0});if(c[0])throw c[0];return c[1]}function is(a,r){return!validate$1(a,r)[0]}function validate$1(a,r,c={}){const u=run$1(a,r,c),l=shiftIterator(u);if(l[0])return[new StructError(l[0],function*(){for(const y of u)y[0]&&(yield y[0])}),void 0];{const d=l[1];return[void 0,d]}}function define(a,r){return new Struct$1({type:a,schema:null,validator:r})}function any(){return define("any",()=>!0)}function array(a){return new Struct$1({type:"array",schema:a,*entries(r){if(a&&Array.isArray(r))for(const[c,u]of r.entries())yield[c,u,a]},coercer(r){return Array.isArray(r)?r.slice():r},validator(r){return Array.isArray(r)||"Expected an array value, but received: "+print(r)}})}function boolean(){return define("boolean",a=>typeof a=="boolean")}function instance(a){return define("instance",r=>r instanceof a||"Expected a `"+a.name+"` instance, but received: "+print(r))}function literal(a){const r=print(a),c=typeof a;return new Struct$1({type:"literal",schema:c==="string"||c==="number"||c==="boolean"?a:null,validator(u){return u===a||"Expected the literal `"+r+"`, but received: "+print(u)}})}function never(){return define("never",()=>!1)}function nullable(a){return new Struct$1({...a,validator:(r,c)=>r===null||a.validator(r,c),refiner:(r,c)=>r===null||a.refiner(r,c)})}function number(){return define("number",a=>typeof a=="number"&&!isNaN(a)||"Expected a number, but received: "+print(a))}function optional(a){return new Struct$1({...a,validator:(r,c)=>r===void 0||a.validator(r,c),refiner:(r,c)=>r===void 0||a.refiner(r,c)})}function record(a,r){return new Struct$1({type:"record",schema:null,*entries(c){if(isObject$2(c))for(const u in c){const l=c[u];yield[u,u,a],yield[u,l,r]}},validator(c){return isObject$2(c)||"Expected an object, but received: "+print(c)}})}function string(){return define("string",a=>typeof a=="string"||"Expected a string, but received: "+print(a))}function tuple(a){const r=never();return new Struct$1({type:"tuple",schema:null,*entries(c){if(Array.isArray(c)){const u=Math.max(a.length,c.length);for(let l=0;l<u;l++)yield[l,c[l],a[l]||r]}},validator(c){return Array.isArray(c)||"Expected an array, but received: "+print(c)}})}function type(a){const r=Object.keys(a);return new Struct$1({type:"type",schema:a,*entries(c){if(isObject$2(c))for(const u of r)yield[u,c[u],a[u]]},validator(c){return isObject$2(c)||"Expected an object, but received: "+print(c)}})}function union(a){const r=a.map(c=>c.type).join(" | ");return new Struct$1({type:"union",schema:null,validator(c,u){const l=[];for(const d of a){const[...y]=run$1(c,d,u),[m]=y;if(m[0])for(const[wr]of y)wr&&l.push(wr);else return[]}return["Expected the value to satisfy a union of `"+r+"`, but received: "+print(c),...l]}})}function unknown(){return define("unknown",()=>!0)}function coerce(a,r,c){return new Struct$1({...a,coercer:(u,l)=>is(u,r)?a.coercer(c(u,l),l):a.coercer(u,l)})}var index_browser={},interopRequireDefault={exports:{}};(function(a){function r(c){return c&&c.__esModule?c:{default:c}}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(interopRequireDefault);var createClass={exports:{}},hasRequiredCreateClass;function requireCreateClass(){return hasRequiredCreateClass||(hasRequiredCreateClass=1,function(a){function r(u,l){for(var d=0;d<l.length;d++){var y=l[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,y.key,y)}}function c(u,l,d){return l&&r(u.prototype,l),d&&r(u,d),Object.defineProperty(u,"prototype",{writable:!1}),u}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports}(createClass)),createClass.exports}var classCallCheck={exports:{}},hasRequiredClassCallCheck;function requireClassCallCheck(){return hasRequiredClassCallCheck||(hasRequiredClassCallCheck=1,function(a){function r(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports}(classCallCheck)),classCallCheck.exports}var inherits$2={exports:{}},setPrototypeOf={exports:{}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(a){function r(c,u){return a.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,y){return d.__proto__=y,d},a.exports.__esModule=!0,a.exports.default=a.exports,r(c,u)}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports}(setPrototypeOf)),setPrototypeOf.exports}var hasRequiredInherits;function requireInherits(){return hasRequiredInherits||(hasRequiredInherits=1,function(a){var r=requireSetPrototypeOf();function c(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&r(u,l)}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports}(inherits$2)),inherits$2.exports}var possibleConstructorReturn={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(a){function r(c){return a.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a.exports.__esModule=!0,a.exports.default=a.exports,r(c)}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports}(_typeof)),_typeof.exports}var assertThisInitialized={exports:{}},hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){return hasRequiredAssertThisInitialized||(hasRequiredAssertThisInitialized=1,function(a){function r(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports}(assertThisInitialized)),assertThisInitialized.exports}var hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){return hasRequiredPossibleConstructorReturn||(hasRequiredPossibleConstructorReturn=1,function(a){var r=require_typeof().default,c=requireAssertThisInitialized();function u(l,d){if(d&&(r(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(l)}a.exports=u,a.exports.__esModule=!0,a.exports.default=a.exports}(possibleConstructorReturn)),possibleConstructorReturn.exports}var getPrototypeOf$2={exports:{}},hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){return hasRequiredGetPrototypeOf||(hasRequiredGetPrototypeOf=1,function(a){function r(c){return a.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},a.exports.__esModule=!0,a.exports.default=a.exports,r(c)}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports}(getPrototypeOf$2)),getPrototypeOf$2.exports}var websocket_browser={},hasRequiredWebsocket_browser;function requireWebsocket_browser(){return hasRequiredWebsocket_browser||(hasRequiredWebsocket_browser=1,function(a){var r=interopRequireDefault.exports;Object.defineProperty(a,"__esModule",{value:!0}),a.default=Ir;var c=r(requireClassCallCheck()),u=r(requireCreateClass()),l=r(requireInherits()),d=r(requirePossibleConstructorReturn()),y=r(requireGetPrototypeOf()),m=eventemitter3.exports;function wr($r){var kr=Sr();return function(){var Cr=(0,y.default)($r),Br;if(kr){var Fr=(0,y.default)(this).constructor;Br=Reflect.construct(Cr,arguments,Fr)}else Br=Cr.apply(this,arguments);return(0,d.default)(this,Br)}}function Sr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ar=function($r){(0,l.default)(Dr,$r);var kr=wr(Dr);function Dr(Cr,Br,Fr){var qr;return(0,c.default)(this,Dr),qr=kr.call(this),qr.socket=new window.WebSocket(Cr,Fr),qr.socket.onopen=function(){return qr.emit("open")},qr.socket.onmessage=function(Vr){return qr.emit("message",Vr.data)},qr.socket.onerror=function(Vr){return qr.emit("error",Vr)},qr.socket.onclose=function(Vr){qr.emit("close",Vr.code,Vr.reason)},qr}return(0,u.default)(Dr,[{key:"send",value:function(Br,Fr,qr){var Vr=qr||Fr;try{this.socket.send(Br),Vr()}catch(Jr){Vr(Jr)}}},{key:"close",value:function(Br,Fr){this.socket.close(Br,Fr)}},{key:"addEventListener",value:function(Br,Fr,qr){this.socket.addEventListener(Br,Fr,qr)}}]),Dr}(m.EventEmitter);function Ir($r,kr){return new Ar($r,kr)}}(websocket_browser)),websocket_browser}var client={},regeneratorRuntime$1={exports:{}},hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(a){var r=require_typeof().default;function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a.exports=c=function(){return u},a.exports.__esModule=!0,a.exports.default=a.exports;var u={},l=Object.prototype,d=l.hasOwnProperty,y=typeof Symbol=="function"?Symbol:{},m=y.iterator||"@@iterator",wr=y.asyncIterator||"@@asyncIterator",Sr=y.toStringTag||"@@toStringTag";function Ar(Mr,xr,Pr){return Object.defineProperty(Mr,xr,{value:Pr,enumerable:!0,configurable:!0,writable:!0}),Mr[xr]}try{Ar({},"")}catch{Ar=function(Pr,Kr,Hr){return Pr[Kr]=Hr}}function Ir(Mr,xr,Pr,Kr){var Hr=xr&&xr.prototype instanceof Dr?xr:Dr,Gr=Object.create(Hr.prototype),un=new an(Kr||[]);return Gr._invoke=function(wn,jr,Rr){var Ur="suspendedStart";return function(hn,en){if(Ur==="executing")throw new Error("Generator is already running");if(Ur==="completed"){if(hn==="throw")throw en;return mn()}for(Rr.method=hn,Rr.arg=en;;){var tn=Rr.delegate;if(tn){var dn=Zr(tn,Rr);if(dn){if(dn===kr)continue;return dn}}if(Rr.method==="next")Rr.sent=Rr._sent=Rr.arg;else if(Rr.method==="throw"){if(Ur==="suspendedStart")throw Ur="completed",Rr.arg;Rr.dispatchException(Rr.arg)}else Rr.method==="return"&&Rr.abrupt("return",Rr.arg);Ur="executing";var pn=$r(wn,jr,Rr);if(pn.type==="normal"){if(Ur=Rr.done?"completed":"suspendedYield",pn.arg===kr)continue;return{value:pn.arg,done:Rr.done}}pn.type==="throw"&&(Ur="completed",Rr.method="throw",Rr.arg=pn.arg)}}}(Mr,Pr,un),Gr}function $r(Mr,xr,Pr){try{return{type:"normal",arg:Mr.call(xr,Pr)}}catch(Kr){return{type:"throw",arg:Kr}}}u.wrap=Ir;var kr={};function Dr(){}function Cr(){}function Br(){}var Fr={};Ar(Fr,m,function(){return this});var qr=Object.getPrototypeOf,Vr=qr&&qr(qr(fn([])));Vr&&Vr!==l&&d.call(Vr,m)&&(Fr=Vr);var Jr=Br.prototype=Dr.prototype=Object.create(Fr);function Qr(Mr){["next","throw","return"].forEach(function(xr){Ar(Mr,xr,function(Pr){return this._invoke(xr,Pr)})})}function Wr(Mr,xr){function Pr(Hr,Gr,un,wn){var jr=$r(Mr[Hr],Mr,Gr);if(jr.type!=="throw"){var Rr=jr.arg,Ur=Rr.value;return Ur&&r(Ur)=="object"&&d.call(Ur,"__await")?xr.resolve(Ur.__await).then(function(hn){Pr("next",hn,un,wn)},function(hn){Pr("throw",hn,un,wn)}):xr.resolve(Ur).then(function(hn){Rr.value=hn,un(Rr)},function(hn){return Pr("throw",hn,un,wn)})}wn(jr.arg)}var Kr;this._invoke=function(Hr,Gr){function un(){return new xr(function(wn,jr){Pr(Hr,Gr,wn,jr)})}return Kr=Kr?Kr.then(un,un):un()}}function Zr(Mr,xr){var Pr=Mr.iterator[xr.method];if(Pr===void 0){if(xr.delegate=null,xr.method==="throw"){if(Mr.iterator.return&&(xr.method="return",xr.arg=void 0,Zr(Mr,xr),xr.method==="throw"))return kr;xr.method="throw",xr.arg=new TypeError("The iterator does not provide a 'throw' method")}return kr}var Kr=$r(Pr,Mr.iterator,xr.arg);if(Kr.type==="throw")return xr.method="throw",xr.arg=Kr.arg,xr.delegate=null,kr;var Hr=Kr.arg;return Hr?Hr.done?(xr[Mr.resultName]=Hr.value,xr.next=Mr.nextLoc,xr.method!=="return"&&(xr.method="next",xr.arg=void 0),xr.delegate=null,kr):Hr:(xr.method="throw",xr.arg=new TypeError("iterator result is not an object"),xr.delegate=null,kr)}function rn(Mr){var xr={tryLoc:Mr[0]};1 in Mr&&(xr.catchLoc=Mr[1]),2 in Mr&&(xr.finallyLoc=Mr[2],xr.afterLoc=Mr[3]),this.tryEntries.push(xr)}function gn(Mr){var xr=Mr.completion||{};xr.type="normal",delete xr.arg,Mr.completion=xr}function an(Mr){this.tryEntries=[{tryLoc:"root"}],Mr.forEach(rn,this),this.reset(!0)}function fn(Mr){if(Mr){var xr=Mr[m];if(xr)return xr.call(Mr);if(typeof Mr.next=="function")return Mr;if(!isNaN(Mr.length)){var Pr=-1,Kr=function Hr(){for(;++Pr<Mr.length;)if(d.call(Mr,Pr))return Hr.value=Mr[Pr],Hr.done=!1,Hr;return Hr.value=void 0,Hr.done=!0,Hr};return Kr.next=Kr}}return{next:mn}}function mn(){return{value:void 0,done:!0}}return Cr.prototype=Br,Ar(Jr,"constructor",Br),Ar(Br,"constructor",Cr),Cr.displayName=Ar(Br,Sr,"GeneratorFunction"),u.isGeneratorFunction=function(Mr){var xr=typeof Mr=="function"&&Mr.constructor;return!!xr&&(xr===Cr||(xr.displayName||xr.name)==="GeneratorFunction")},u.mark=function(Mr){return Object.setPrototypeOf?Object.setPrototypeOf(Mr,Br):(Mr.__proto__=Br,Ar(Mr,Sr,"GeneratorFunction")),Mr.prototype=Object.create(Jr),Mr},u.awrap=function(Mr){return{__await:Mr}},Qr(Wr.prototype),Ar(Wr.prototype,wr,function(){return this}),u.AsyncIterator=Wr,u.async=function(Mr,xr,Pr,Kr,Hr){Hr===void 0&&(Hr=Promise);var Gr=new Wr(Ir(Mr,xr,Pr,Kr),Hr);return u.isGeneratorFunction(xr)?Gr:Gr.next().then(function(un){return un.done?un.value:Gr.next()})},Qr(Jr),Ar(Jr,Sr,"Generator"),Ar(Jr,m,function(){return this}),Ar(Jr,"toString",function(){return"[object Generator]"}),u.keys=function(Mr){var xr=[];for(var Pr in Mr)xr.push(Pr);return xr.reverse(),function Kr(){for(;xr.length;){var Hr=xr.pop();if(Hr in Mr)return Kr.value=Hr,Kr.done=!1,Kr}return Kr.done=!0,Kr}},u.values=fn,an.prototype={constructor:an,reset:function(xr){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(gn),!xr)for(var Pr in this)Pr.charAt(0)==="t"&&d.call(this,Pr)&&!isNaN(+Pr.slice(1))&&(this[Pr]=void 0)},stop:function(){this.done=!0;var xr=this.tryEntries[0].completion;if(xr.type==="throw")throw xr.arg;return this.rval},dispatchException:function(xr){if(this.done)throw xr;var Pr=this;function Kr(Rr,Ur){return un.type="throw",un.arg=xr,Pr.next=Rr,Ur&&(Pr.method="next",Pr.arg=void 0),!!Ur}for(var Hr=this.tryEntries.length-1;Hr>=0;--Hr){var Gr=this.tryEntries[Hr],un=Gr.completion;if(Gr.tryLoc==="root")return Kr("end");if(Gr.tryLoc<=this.prev){var wn=d.call(Gr,"catchLoc"),jr=d.call(Gr,"finallyLoc");if(wn&&jr){if(this.prev<Gr.catchLoc)return Kr(Gr.catchLoc,!0);if(this.prev<Gr.finallyLoc)return Kr(Gr.finallyLoc)}else if(wn){if(this.prev<Gr.catchLoc)return Kr(Gr.catchLoc,!0)}else{if(!jr)throw new Error("try statement without catch or finally");if(this.prev<Gr.finallyLoc)return Kr(Gr.finallyLoc)}}}},abrupt:function(xr,Pr){for(var Kr=this.tryEntries.length-1;Kr>=0;--Kr){var Hr=this.tryEntries[Kr];if(Hr.tryLoc<=this.prev&&d.call(Hr,"finallyLoc")&&this.prev<Hr.finallyLoc){var Gr=Hr;break}}Gr&&(xr==="break"||xr==="continue")&&Gr.tryLoc<=Pr&&Pr<=Gr.finallyLoc&&(Gr=null);var un=Gr?Gr.completion:{};return un.type=xr,un.arg=Pr,Gr?(this.method="next",this.next=Gr.finallyLoc,kr):this.complete(un)},complete:function(xr,Pr){if(xr.type==="throw")throw xr.arg;return xr.type==="break"||xr.type==="continue"?this.next=xr.arg:xr.type==="return"?(this.rval=this.arg=xr.arg,this.method="return",this.next="end"):xr.type==="normal"&&Pr&&(this.next=Pr),kr},finish:function(xr){for(var Pr=this.tryEntries.length-1;Pr>=0;--Pr){var Kr=this.tryEntries[Pr];if(Kr.finallyLoc===xr)return this.complete(Kr.completion,Kr.afterLoc),gn(Kr),kr}},catch:function(xr){for(var Pr=this.tryEntries.length-1;Pr>=0;--Pr){var Kr=this.tryEntries[Pr];if(Kr.tryLoc===xr){var Hr=Kr.completion;if(Hr.type==="throw"){var Gr=Hr.arg;gn(Kr)}return Gr}}throw new Error("illegal catch attempt")},delegateYield:function(xr,Pr,Kr){return this.delegate={iterator:fn(xr),resultName:Pr,nextLoc:Kr},this.method==="next"&&(this.arg=void 0),kr}},u}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var a=requireRegeneratorRuntime()();regenerator=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(a){function r(u,l,d,y,m,wr,Sr){try{var Ar=u[wr](Sr),Ir=Ar.value}catch($r){d($r);return}Ar.done?l(Ir):Promise.resolve(Ir).then(y,m)}function c(u){return function(){var l=this,d=arguments;return new Promise(function(y,m){var wr=u.apply(l,d);function Sr(Ir){r(wr,y,m,Sr,Ar,"next",Ir)}function Ar(Ir){r(wr,y,m,Sr,Ar,"throw",Ir)}Sr(void 0)})}}a.exports=c,a.exports.__esModule=!0,a.exports.default=a.exports}(asyncToGenerator)),asyncToGenerator.exports}var hasRequiredClient;function requireClient(){return hasRequiredClient||(hasRequiredClient=1,function(a){var r=interopRequireDefault.exports;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=r(requireRegenerator()),u=r(requireAsyncToGenerator()),l=r(require_typeof()),d=r(requireClassCallCheck()),y=r(requireCreateClass()),m=r(requireInherits()),wr=r(requirePossibleConstructorReturn()),Sr=r(requireGetPrototypeOf()),Ar=eventemitter3.exports;function Ir(Cr){var Br=$r();return function(){var qr=(0,Sr.default)(Cr),Vr;if(Br){var Jr=(0,Sr.default)(this).constructor;Vr=Reflect.construct(qr,arguments,Jr)}else Vr=qr.apply(this,arguments);return(0,wr.default)(this,Vr)}}function $r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var kr=function(Cr,Br){var Fr={};for(var qr in Cr)Object.prototype.hasOwnProperty.call(Cr,qr)&&Br.indexOf(qr)<0&&(Fr[qr]=Cr[qr]);if(Cr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vr=0,qr=Object.getOwnPropertySymbols(Cr);Vr<qr.length;Vr++)Br.indexOf(qr[Vr])<0&&Object.prototype.propertyIsEnumerable.call(Cr,qr[Vr])&&(Fr[qr[Vr]]=Cr[qr[Vr]]);return Fr},Dr=function(Cr){(0,m.default)(Fr,Cr);var Br=Ir(Fr);function Fr(qr){var Vr,Jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",Qr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Wr=arguments.length>3?arguments[3]:void 0;(0,d.default)(this,Fr);var Zr=Qr.autoconnect,rn=Zr===void 0?!0:Zr,gn=Qr.reconnect,an=gn===void 0?!0:gn,fn=Qr.reconnect_interval,mn=fn===void 0?1e3:fn,Mr=Qr.max_reconnects,xr=Mr===void 0?5:Mr,Pr=kr(Qr,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return Vr=Br.call(this),Vr.webSocketFactory=qr,Vr.queue={},Vr.rpc_id=0,Vr.address=Jr,Vr.autoconnect=rn,Vr.ready=!1,Vr.reconnect=an,Vr.reconnect_interval=mn,Vr.max_reconnects=xr,Vr.rest_options=Pr,Vr.current_reconnects=0,Vr.generate_request_id=Wr||function(){return++Vr.rpc_id},Vr.autoconnect&&Vr._connect(Vr.address,Object.assign({autoconnect:Vr.autoconnect,reconnect:Vr.reconnect,reconnect_interval:Vr.reconnect_interval,max_reconnects:Vr.max_reconnects},Vr.rest_options)),Vr}return(0,y.default)(Fr,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(Vr,Jr,Qr,Wr){var Zr=this;return!Wr&&(0,l.default)(Qr)==="object"&&(Wr=Qr,Qr=null),new Promise(function(rn,gn){if(!Zr.ready)return gn(new Error("socket not ready"));var an=Zr.generate_request_id(Vr,Jr),fn={jsonrpc:"2.0",method:Vr,params:Jr||null,id:an};Zr.socket.send(JSON.stringify(fn),Wr,function(mn){if(mn)return gn(mn);Zr.queue[an]={promise:[rn,gn]},Qr&&(Zr.queue[an].timeout=setTimeout(function(){delete Zr.queue[an],gn(new Error("reply timeout"))},Qr))})})}},{key:"login",value:function(){var qr=(0,u.default)(c.default.mark(function Jr(Qr){var Wr;return c.default.wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:return rn.next=2,this.call("rpc.login",Qr);case 2:if(Wr=rn.sent,Wr){rn.next=5;break}throw new Error("authentication failed");case 5:return rn.abrupt("return",Wr);case 6:case"end":return rn.stop()}},Jr,this)}));function Vr(Jr){return qr.apply(this,arguments)}return Vr}()},{key:"listMethods",value:function(){var qr=(0,u.default)(c.default.mark(function Jr(){return c.default.wrap(function(Wr){for(;;)switch(Wr.prev=Wr.next){case 0:return Wr.next=2,this.call("__listMethods");case 2:return Wr.abrupt("return",Wr.sent);case 3:case"end":return Wr.stop()}},Jr,this)}));function Vr(){return qr.apply(this,arguments)}return Vr}()},{key:"notify",value:function(Vr,Jr){var Qr=this;return new Promise(function(Wr,Zr){if(!Qr.ready)return Zr(new Error("socket not ready"));var rn={jsonrpc:"2.0",method:Vr,params:Jr||null};Qr.socket.send(JSON.stringify(rn),function(gn){if(gn)return Zr(gn);Wr()})})}},{key:"subscribe",value:function(){var qr=(0,u.default)(c.default.mark(function Jr(Qr){var Wr;return c.default.wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:return typeof Qr=="string"&&(Qr=[Qr]),rn.next=3,this.call("rpc.on",Qr);case 3:if(Wr=rn.sent,!(typeof Qr=="string"&&Wr[Qr]!=="ok")){rn.next=6;break}throw new Error("Failed subscribing to an event '"+Qr+"' with: "+Wr[Qr]);case 6:return rn.abrupt("return",Wr);case 7:case"end":return rn.stop()}},Jr,this)}));function Vr(Jr){return qr.apply(this,arguments)}return Vr}()},{key:"unsubscribe",value:function(){var qr=(0,u.default)(c.default.mark(function Jr(Qr){var Wr;return c.default.wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:return typeof Qr=="string"&&(Qr=[Qr]),rn.next=3,this.call("rpc.off",Qr);case 3:if(Wr=rn.sent,!(typeof Qr=="string"&&Wr[Qr]!=="ok")){rn.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Wr);case 6:return rn.abrupt("return",Wr);case 7:case"end":return rn.stop()}},Jr,this)}));function Vr(Jr){return qr.apply(this,arguments)}return Vr}()},{key:"close",value:function(Vr,Jr){this.socket.close(Vr||1e3,Jr)}},{key:"_connect",value:function(Vr,Jr){var Qr=this;this.socket=this.webSocketFactory(Vr,Jr),this.socket.addEventListener("open",function(){Qr.ready=!0,Qr.emit("open"),Qr.current_reconnects=0}),this.socket.addEventListener("message",function(Wr){var Zr=Wr.data;Zr instanceof ArrayBuffer&&(Zr=Buffer.from(Zr).toString());try{Zr=JSON.parse(Zr)}catch{return}if(Zr.notification&&Qr.listeners(Zr.notification).length){if(!Object.keys(Zr.params).length)return Qr.emit(Zr.notification);var rn=[Zr.notification];if(Zr.params.constructor===Object)rn.push(Zr.params);else for(var gn=0;gn<Zr.params.length;gn++)rn.push(Zr.params[gn]);return Promise.resolve().then(function(){Qr.emit.apply(Qr,rn)})}if(!Qr.queue[Zr.id])return Zr.method&&Zr.params?Promise.resolve().then(function(){Qr.emit(Zr.method,Zr.params)}):void 0;"error"in Zr=="result"in Zr&&Qr.queue[Zr.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),Qr.queue[Zr.id].timeout&&clearTimeout(Qr.queue[Zr.id].timeout),Zr.error?Qr.queue[Zr.id].promise[1](Zr.error):Qr.queue[Zr.id].promise[0](Zr.result),delete Qr.queue[Zr.id]}),this.socket.addEventListener("error",function(Wr){return Qr.emit("error",Wr)}),this.socket.addEventListener("close",function(Wr){var Zr=Wr.code,rn=Wr.reason;Qr.ready&&setTimeout(function(){return Qr.emit("close",Zr,rn)},0),Qr.ready=!1,Qr.socket=void 0,Zr!==1e3&&(Qr.current_reconnects++,Qr.reconnect&&(Qr.max_reconnects>Qr.current_reconnects||Qr.max_reconnects===0)&&setTimeout(function(){return Qr._connect(Vr,Jr)},Qr.reconnect_interval))})}}]),Fr}(Ar.EventEmitter);a.default=Dr}(client)),client}var _interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(index_browser,"__esModule",{value:!0});var Client_1=index_browser.Client=void 0,_createClass2=_interopRequireDefault(requireCreateClass()),_classCallCheck2=_interopRequireDefault(requireClassCallCheck()),_inherits2=_interopRequireDefault(requireInherits()),_possibleConstructorReturn2=_interopRequireDefault(requirePossibleConstructorReturn()),_getPrototypeOf2=_interopRequireDefault(requireGetPrototypeOf()),_websocket=_interopRequireDefault(requireWebsocket_browser()),_client=_interopRequireDefault(requireClient());function _createSuper(a){var r=_isNativeReflectConstruct();return function(){var u=(0,_getPrototypeOf2.default)(a),l;if(r){var d=(0,_getPrototypeOf2.default)(this).constructor;l=Reflect.construct(u,arguments,d)}else l=u.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,l)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Client=function(a){(0,_inherits2.default)(c,a);var r=_createSuper(c);function c(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=l.autoconnect,y=d===void 0?!0:d,m=l.reconnect,wr=m===void 0?!0:m,Sr=l.reconnect_interval,Ar=Sr===void 0?1e3:Sr,Ir=l.max_reconnects,$r=Ir===void 0?5:Ir,kr=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,c),r.call(this,_websocket.default,u,{autoconnect:y,reconnect:wr,reconnect_interval:Ar,max_reconnects:$r},kr)}return(0,_createClass2.default)(c)}(_client.default);Client_1=index_browser.Client=Client;var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(a){return typeof a=="string"&&REGEX.test(a)}var byteToHex=[];for(var i$2=0;i$2<256;++i$2)byteToHex.push((i$2+256).toString(16).substr(1));function stringify$1(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=(byteToHex[a[r+0]]+byteToHex[a[r+1]]+byteToHex[a[r+2]]+byteToHex[a[r+3]]+"-"+byteToHex[a[r+4]]+byteToHex[a[r+5]]+"-"+byteToHex[a[r+6]]+byteToHex[a[r+7]]+"-"+byteToHex[a[r+8]]+byteToHex[a[r+9]]+"-"+byteToHex[a[r+10]]+byteToHex[a[r+11]]+byteToHex[a[r+12]]+byteToHex[a[r+13]]+byteToHex[a[r+14]]+byteToHex[a[r+15]]).toLowerCase();if(!validate(c))throw TypeError("Stringified UUID is invalid");return c}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(a,r,c){var u=r&&c||0,l=r||new Array(16);a=a||{};var d=a.node||_nodeId,y=a.clockseq!==void 0?a.clockseq:_clockseq;if(d==null||y==null){var m=a.random||(a.rng||rng)();d==null&&(d=_nodeId=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),y==null&&(y=_clockseq=(m[6]<<8|m[7])&16383)}var wr=a.msecs!==void 0?a.msecs:Date.now(),Sr=a.nsecs!==void 0?a.nsecs:_lastNSecs+1,Ar=wr-_lastMSecs+(Sr-_lastNSecs)/1e4;if(Ar<0&&a.clockseq===void 0&&(y=y+1&16383),(Ar<0||wr>_lastMSecs)&&a.nsecs===void 0&&(Sr=0),Sr>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=wr,_lastNSecs=Sr,_clockseq=y,wr+=122192928e5;var Ir=((wr&268435455)*1e4+Sr)%4294967296;l[u++]=Ir>>>24&255,l[u++]=Ir>>>16&255,l[u++]=Ir>>>8&255,l[u++]=Ir&255;var $r=wr/4294967296*1e4&268435455;l[u++]=$r>>>8&255,l[u++]=$r&255,l[u++]=$r>>>24&15|16,l[u++]=$r>>>16&255,l[u++]=y>>>8|128,l[u++]=y&255;for(var kr=0;kr<6;++kr)l[u+kr]=d[kr];return r||stringify$1(l)}function parse(a){if(!validate(a))throw TypeError("Invalid UUID");var r,c=new Uint8Array(16);return c[0]=(r=parseInt(a.slice(0,8),16))>>>24,c[1]=r>>>16&255,c[2]=r>>>8&255,c[3]=r&255,c[4]=(r=parseInt(a.slice(9,13),16))>>>8,c[5]=r&255,c[6]=(r=parseInt(a.slice(14,18),16))>>>8,c[7]=r&255,c[8]=(r=parseInt(a.slice(19,23),16))>>>8,c[9]=r&255,c[10]=(r=parseInt(a.slice(24,36),16))/1099511627776&255,c[11]=r/4294967296&255,c[12]=r>>>24&255,c[13]=r>>>16&255,c[14]=r>>>8&255,c[15]=r&255,c}function stringToBytes(a){a=unescape(encodeURIComponent(a));for(var r=[],c=0;c<a.length;++c)r.push(a.charCodeAt(c));return r}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(a,r,c){function u(l,d,y,m){if(typeof l=="string"&&(l=stringToBytes(l)),typeof d=="string"&&(d=parse(d)),d.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var wr=new Uint8Array(16+l.length);if(wr.set(d),wr.set(l,d.length),wr=c(wr),wr[6]=wr[6]&15|r,wr[8]=wr[8]&63|128,y){m=m||0;for(var Sr=0;Sr<16;++Sr)y[m+Sr]=wr[Sr];return y}return stringify$1(wr)}try{u.name=a}catch{}return u.DNS=DNS,u.URL=URL$1,u}function md5(a){if(typeof a=="string"){var r=unescape(encodeURIComponent(a));a=new Uint8Array(r.length);for(var c=0;c<r.length;++c)a[c]=r.charCodeAt(c)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(a),a.length*8))}function md5ToHexEncodedArray(a){for(var r=[],c=a.length*32,u="0123456789abcdef",l=0;l<c;l+=8){var d=a[l>>5]>>>l%32&255,y=parseInt(u.charAt(d>>>4&15)+u.charAt(d&15),16);r.push(y)}return r}function getOutputLength(a){return(a+64>>>9<<4)+14+1}function wordsToMd5(a,r){a[r>>5]|=128<<r%32,a[getOutputLength(r)-1]=r;for(var c=1732584193,u=-271733879,l=-1732584194,d=271733878,y=0;y<a.length;y+=16){var m=c,wr=u,Sr=l,Ar=d;c=md5ff(c,u,l,d,a[y],7,-680876936),d=md5ff(d,c,u,l,a[y+1],12,-389564586),l=md5ff(l,d,c,u,a[y+2],17,606105819),u=md5ff(u,l,d,c,a[y+3],22,-1044525330),c=md5ff(c,u,l,d,a[y+4],7,-176418897),d=md5ff(d,c,u,l,a[y+5],12,1200080426),l=md5ff(l,d,c,u,a[y+6],17,-1473231341),u=md5ff(u,l,d,c,a[y+7],22,-45705983),c=md5ff(c,u,l,d,a[y+8],7,1770035416),d=md5ff(d,c,u,l,a[y+9],12,-1958414417),l=md5ff(l,d,c,u,a[y+10],17,-42063),u=md5ff(u,l,d,c,a[y+11],22,-1990404162),c=md5ff(c,u,l,d,a[y+12],7,1804603682),d=md5ff(d,c,u,l,a[y+13],12,-40341101),l=md5ff(l,d,c,u,a[y+14],17,-1502002290),u=md5ff(u,l,d,c,a[y+15],22,1236535329),c=md5gg(c,u,l,d,a[y+1],5,-165796510),d=md5gg(d,c,u,l,a[y+6],9,-1069501632),l=md5gg(l,d,c,u,a[y+11],14,643717713),u=md5gg(u,l,d,c,a[y],20,-373897302),c=md5gg(c,u,l,d,a[y+5],5,-701558691),d=md5gg(d,c,u,l,a[y+10],9,38016083),l=md5gg(l,d,c,u,a[y+15],14,-660478335),u=md5gg(u,l,d,c,a[y+4],20,-405537848),c=md5gg(c,u,l,d,a[y+9],5,568446438),d=md5gg(d,c,u,l,a[y+14],9,-1019803690),l=md5gg(l,d,c,u,a[y+3],14,-187363961),u=md5gg(u,l,d,c,a[y+8],20,1163531501),c=md5gg(c,u,l,d,a[y+13],5,-1444681467),d=md5gg(d,c,u,l,a[y+2],9,-51403784),l=md5gg(l,d,c,u,a[y+7],14,1735328473),u=md5gg(u,l,d,c,a[y+12],20,-1926607734),c=md5hh(c,u,l,d,a[y+5],4,-378558),d=md5hh(d,c,u,l,a[y+8],11,-2022574463),l=md5hh(l,d,c,u,a[y+11],16,1839030562),u=md5hh(u,l,d,c,a[y+14],23,-35309556),c=md5hh(c,u,l,d,a[y+1],4,-1530992060),d=md5hh(d,c,u,l,a[y+4],11,1272893353),l=md5hh(l,d,c,u,a[y+7],16,-155497632),u=md5hh(u,l,d,c,a[y+10],23,-1094730640),c=md5hh(c,u,l,d,a[y+13],4,681279174),d=md5hh(d,c,u,l,a[y],11,-358537222),l=md5hh(l,d,c,u,a[y+3],16,-722521979),u=md5hh(u,l,d,c,a[y+6],23,76029189),c=md5hh(c,u,l,d,a[y+9],4,-640364487),d=md5hh(d,c,u,l,a[y+12],11,-421815835),l=md5hh(l,d,c,u,a[y+15],16,530742520),u=md5hh(u,l,d,c,a[y+2],23,-995338651),c=md5ii(c,u,l,d,a[y],6,-198630844),d=md5ii(d,c,u,l,a[y+7],10,1126891415),l=md5ii(l,d,c,u,a[y+14],15,-1416354905),u=md5ii(u,l,d,c,a[y+5],21,-57434055),c=md5ii(c,u,l,d,a[y+12],6,1700485571),d=md5ii(d,c,u,l,a[y+3],10,-1894986606),l=md5ii(l,d,c,u,a[y+10],15,-1051523),u=md5ii(u,l,d,c,a[y+1],21,-2054922799),c=md5ii(c,u,l,d,a[y+8],6,1873313359),d=md5ii(d,c,u,l,a[y+15],10,-30611744),l=md5ii(l,d,c,u,a[y+6],15,-1560198380),u=md5ii(u,l,d,c,a[y+13],21,1309151649),c=md5ii(c,u,l,d,a[y+4],6,-145523070),d=md5ii(d,c,u,l,a[y+11],10,-1120210379),l=md5ii(l,d,c,u,a[y+2],15,718787259),u=md5ii(u,l,d,c,a[y+9],21,-343485551),c=safeAdd(c,m),u=safeAdd(u,wr),l=safeAdd(l,Sr),d=safeAdd(d,Ar)}return[c,u,l,d]}function bytesToWords(a){if(a.length===0)return[];for(var r=a.length*8,c=new Uint32Array(getOutputLength(r)),u=0;u<r;u+=8)c[u>>5]|=(a[u/8]&255)<<u%32;return c}function safeAdd(a,r){var c=(a&65535)+(r&65535),u=(a>>16)+(r>>16)+(c>>16);return u<<16|c&65535}function bitRotateLeft(a,r){return a<<r|a>>>32-r}function md5cmn(a,r,c,u,l,d){return safeAdd(bitRotateLeft(safeAdd(safeAdd(r,a),safeAdd(u,d)),l),c)}function md5ff(a,r,c,u,l,d,y){return md5cmn(r&c|~r&u,a,r,l,d,y)}function md5gg(a,r,c,u,l,d,y){return md5cmn(r&u|c&~u,a,r,l,d,y)}function md5hh(a,r,c,u,l,d,y){return md5cmn(r^c^u,a,r,l,d,y)}function md5ii(a,r,c,u,l,d,y){return md5cmn(c^(r|~u),a,r,l,d,y)}var v3=v35("v3",48,md5);const v3$1=v3;function v4(a,r,c){a=a||{};var u=a.random||(a.rng||rng)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,r){c=c||0;for(var l=0;l<16;++l)r[c+l]=u[l];return r}return stringify$1(u)}function f(a,r,c,u){switch(a){case 0:return r&c^~r&u;case 1:return r^c^u;case 2:return r&c^r&u^c&u;case 3:return r^c^u}}function ROTL(a,r){return a<<r|a>>>32-r}function sha1(a){var r=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){var u=unescape(encodeURIComponent(a));a=[];for(var l=0;l<u.length;++l)a.push(u.charCodeAt(l))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);for(var d=a.length/4+2,y=Math.ceil(d/16),m=new Array(y),wr=0;wr<y;++wr){for(var Sr=new Uint32Array(16),Ar=0;Ar<16;++Ar)Sr[Ar]=a[wr*64+Ar*4]<<24|a[wr*64+Ar*4+1]<<16|a[wr*64+Ar*4+2]<<8|a[wr*64+Ar*4+3];m[wr]=Sr}m[y-1][14]=(a.length-1)*8/Math.pow(2,32),m[y-1][14]=Math.floor(m[y-1][14]),m[y-1][15]=(a.length-1)*8&4294967295;for(var Ir=0;Ir<y;++Ir){for(var $r=new Uint32Array(80),kr=0;kr<16;++kr)$r[kr]=m[Ir][kr];for(var Dr=16;Dr<80;++Dr)$r[Dr]=ROTL($r[Dr-3]^$r[Dr-8]^$r[Dr-14]^$r[Dr-16],1);for(var Cr=c[0],Br=c[1],Fr=c[2],qr=c[3],Vr=c[4],Jr=0;Jr<80;++Jr){var Qr=Math.floor(Jr/20),Wr=ROTL(Cr,5)+f(Qr,Br,Fr,qr)+Vr+r[Qr]+$r[Jr]>>>0;Vr=qr,qr=Fr,Fr=ROTL(Br,30)>>>0,Br=Cr,Cr=Wr}c[0]=c[0]+Cr>>>0,c[1]=c[1]+Br>>>0,c[2]=c[2]+Fr>>>0,c[3]=c[3]+qr>>>0,c[4]=c[4]+Vr>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,c[0]&255,c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,c[1]&255,c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,c[2]&255,c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,c[3]&255,c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,c[4]&255]}var v5=v35("v5",80,sha1);const v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(a){if(!validate(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version,validate,stringify:stringify$1,parse},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(esmBrowser),uuid$1=require$$0$3.v4,generateRequest$1=function(a,r,c,u){if(typeof a!="string")throw new TypeError(a+" must be a string");u=u||{};const l=typeof u.version=="number"?u.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const d={method:a};if(l===2&&(d.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");d.params=r}if(typeof c>"u"){const y=typeof u.generator=="function"?u.generator:function(){return uuid$1()};d.id=y(d,u)}else l===2&&c===null?u.notificationIdNull&&(d.id=null):d.id=c;return d};var generateRequest_1=generateRequest$1;const uuid=require$$0$3.v4,generateRequest=generateRequest_1,ClientBrowser=function(a,r){if(!(this instanceof ClientBrowser))return new ClientBrowser(a,r);r||(r={}),this.options={reviver:typeof r.reviver<"u"?r.reviver:null,replacer:typeof r.replacer<"u"?r.replacer:null,generator:typeof r.generator<"u"?r.generator:function(){return uuid()},version:typeof r.version<"u"?r.version:2,notificationIdNull:typeof r.notificationIdNull=="boolean"?r.notificationIdNull:!1},this.callServer=a};var browser$1=ClientBrowser;ClientBrowser.prototype.request=function(a,r,c,u){const l=this;let d=null;const y=Array.isArray(a)&&typeof r=="function";if(this.options.version===1&&y)throw new TypeError("JSON-RPC 1.0 does not support batching");if(y||!y&&a&&typeof a=="object"&&typeof r=="function")u=r,d=a;else{typeof c=="function"&&(u=c,c=void 0);const Sr=typeof u=="function";try{d=generateRequest(a,r,c,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(Ar){if(Sr)return u(Ar);throw Ar}if(!Sr)return d}let wr;try{wr=JSON.stringify(d,this.options.replacer)}catch(Sr){return u(Sr)}return this.callServer(wr,function(Sr,Ar){l._parseResponse(Sr,Ar,u)}),d};ClientBrowser.prototype._parseResponse=function(a,r,c){if(a){c(a);return}if(!r)return c();let u;try{u=JSON.parse(r,this.options.reviver)}catch(l){return c(l)}if(c.length===3)if(Array.isArray(u)){const l=function(y){return typeof y.error<"u"},d=function(y){return!l(y)};return c(null,u.filter(l),u.filter(d))}else return c(null,u.error,u.result);c(null,u)};const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let a=0,r=_1n$1,c=1,u=0;a<24;a++){[c,u]=[u,(2*c+3*u)%5],SHA3_PI.push(2*(5*u+c)),SHA3_ROTL.push((a+1)*(a+2)/2%64);let l=_0n$1;for(let d=0;d<7;d++)r=(r<<_1n$1^(r>>_7n)*_0x71n)%_256n,r&_2n$1&&(l^=_1n$1<<(_1n$1<<BigInt(d))-_1n$1);_SHA3_IOTA.push(l)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64$2.split(_SHA3_IOTA,!0),rotlH=(a,r,c)=>c>32?u64$2.rotlBH(a,r,c):u64$2.rotlSH(a,r,c),rotlL=(a,r,c)=>c>32?u64$2.rotlBL(a,r,c):u64$2.rotlSL(a,r,c);function keccakP(a,r=24){const c=new Uint32Array(10);for(let u=24-r;u<24;u++){for(let y=0;y<10;y++)c[y]=a[y]^a[y+10]^a[y+20]^a[y+30]^a[y+40];for(let y=0;y<10;y+=2){const m=(y+8)%10,wr=(y+2)%10,Sr=c[wr],Ar=c[wr+1],Ir=rotlH(Sr,Ar,1)^c[m],$r=rotlL(Sr,Ar,1)^c[m+1];for(let kr=0;kr<50;kr+=10)a[y+kr]^=Ir,a[y+kr+1]^=$r}let l=a[2],d=a[3];for(let y=0;y<24;y++){const m=SHA3_ROTL[y],wr=rotlH(l,d,m),Sr=rotlL(l,d,m),Ar=SHA3_PI[y];l=a[Ar],d=a[Ar+1],a[Ar]=wr,a[Ar+1]=Sr}for(let y=0;y<50;y+=10){for(let m=0;m<10;m++)c[m]=a[y+m];for(let m=0;m<10;m++)a[y+m]^=~c[(m+2)%10]&c[(m+4)%10]}a[0]^=SHA3_IOTA_H[u],a[1]^=SHA3_IOTA_L[u]}c.fill(0)}class Keccak extends Hash{constructor(r,c,u,l=!1,d=24){if(super(),this.blockLen=r,this.suffix=c,this.outputLen=u,this.enableXOF=l,this.rounds=d,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert$4.number(u),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(r){assert$4.exists(this);const{blockLen:c,state:u}=this;r=toBytes(r);const l=r.length;for(let d=0;d<l;){const y=Math.min(c-this.pos,l-d);for(let m=0;m<y;m++)u[this.pos++]^=r[d++];this.pos===c&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:r,suffix:c,pos:u,blockLen:l}=this;r[u]^=c,(c&128)!==0&&u===l-1&&this.keccak(),r[l-1]^=128,this.keccak()}writeInto(r){assert$4.exists(this,!1),assert$4.bytes(r),this.finish();const c=this.state,{blockLen:u}=this;for(let l=0,d=r.length;l<d;){this.posOut>=u&&this.keccak();const y=Math.min(u-this.posOut,d-l);r.set(c.subarray(this.posOut,this.posOut+y),l),this.posOut+=y,l+=y}return r}xofInto(r){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(r)}xof(r){return assert$4.number(r),this.xofInto(new Uint8Array(r))}digestInto(r){if(assert$4.output(r,this),this.finished)throw new Error("digest() was already called");return this.writeInto(r),this.destroy(),r}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(r){const{blockLen:c,suffix:u,outputLen:l,rounds:d,enableXOF:y}=this;return r||(r=new Keccak(c,u,l,y,d)),r.state32.set(this.state32),r.pos=this.pos,r.posOut=this.posOut,r.finished=this.finished,r.rounds=d,r.suffix=u,r.outputLen=l,r.enableXOF=y,r.destroyed=this.destroyed,r}}const gen=(a,r,c)=>wrapConstructor(()=>new Keccak(r,a,c));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(a,r,c)=>wrapConstructorWithOpts((u={})=>new Keccak(r,a,u.dkLen===void 0?c:u.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);class HMAC extends Hash{constructor(r,c){super(),this.finished=!1,this.destroyed=!1,assert$4.hash(r);const u=toBytes(c);if(this.iHash=r.create(),!(this.iHash instanceof Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const l=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const d=new Uint8Array(l);d.set(u.length>this.iHash.blockLen?r.create().update(u).digest():u);for(let y=0;y<d.length;y++)d[y]^=54;this.iHash.update(d),this.oHash=r.create();for(let y=0;y<d.length;y++)d[y]^=106;this.oHash.update(d),d.fill(0)}update(r){return assert$4.exists(this),this.iHash.update(r),this}digestInto(r){assert$4.exists(this),assert$4.bytes(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:c,iHash:u,finished:l,destroyed:d,blockLen:y,outputLen:m}=this;return r=r,r.finished=l,r.destroyed=d,r.blockLen=y,r.outputLen=m,r.oHash=c._cloneInto(r.oHash),r.iHash=u._cloneInto(r.iHash),r}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(a,r,c)=>new HMAC(a,r).update(c).digest();hmac.create=(a,r)=>new HMAC(a,r);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function weistrass(a){const{a:r,b:c}=CURVE,u=mod(a*a),l=mod(u*a);return mod(l+r*a+c)}const USE_ENDOMORPHISM=CURVE.a===_0n;class ShaError extends Error{constructor(r){super(r)}}class JacobianPoint{constructor(r,c,u){this.x=r,this.y=c,this.z=u}static fromAffine(r){if(!(r instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new JacobianPoint(r.x,r.y,_1n)}static toAffineBatch(r){const c=invertBatch(r.map(u=>u.z));return r.map((u,l)=>u.toAffine(c[l]))}static normalizeZ(r){return JacobianPoint.toAffineBatch(r).map(JacobianPoint.fromAffine)}equals(r){if(!(r instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:c,y:u,z:l}=this,{x:d,y,z:m}=r,wr=mod(l*l),Sr=mod(m*m),Ar=mod(c*Sr),Ir=mod(d*wr),$r=mod(mod(u*m)*Sr),kr=mod(mod(y*l)*wr);return Ar===Ir&&$r===kr}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:r,y:c,z:u}=this,l=mod(r*r),d=mod(c*c),y=mod(d*d),m=r+d,wr=mod(_2n*(mod(m*m)-l-y)),Sr=mod(_3n*l),Ar=mod(Sr*Sr),Ir=mod(Ar-_2n*wr),$r=mod(Sr*(wr-Ir)-_8n*y),kr=mod(_2n*c*u);return new JacobianPoint(Ir,$r,kr)}add(r){if(!(r instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:c,y:u,z:l}=this,{x:d,y,z:m}=r;if(d===_0n||y===_0n)return this;if(c===_0n||u===_0n)return r;const wr=mod(l*l),Sr=mod(m*m),Ar=mod(c*Sr),Ir=mod(d*wr),$r=mod(mod(u*m)*Sr),kr=mod(mod(y*l)*wr),Dr=mod(Ir-Ar),Cr=mod(kr-$r);if(Dr===_0n)return Cr===_0n?this.double():JacobianPoint.ZERO;const Br=mod(Dr*Dr),Fr=mod(Dr*Br),qr=mod(Ar*Br),Vr=mod(Cr*Cr-Fr-_2n*qr),Jr=mod(Cr*(qr-Vr)-$r*Fr),Qr=mod(l*m*Dr);return new JacobianPoint(Vr,Jr,Qr)}subtract(r){return this.add(r.negate())}multiplyUnsafe(r){const c=JacobianPoint.ZERO;if(typeof r=="bigint"&&r===_0n)return c;let u=normalizeScalar(r);if(u===_1n)return this;if(!USE_ENDOMORPHISM){let Ir=c,$r=this;for(;u>_0n;)u&_1n&&(Ir=Ir.add($r)),$r=$r.double(),u>>=_1n;return Ir}let{k1neg:l,k1:d,k2neg:y,k2:m}=splitScalarEndo(u),wr=c,Sr=c,Ar=this;for(;d>_0n||m>_0n;)d&_1n&&(wr=wr.add(Ar)),m&_1n&&(Sr=Sr.add(Ar)),Ar=Ar.double(),d>>=_1n,m>>=_1n;return l&&(wr=wr.negate()),y&&(Sr=Sr.negate()),Sr=new JacobianPoint(mod(Sr.x*CURVE.beta),Sr.y,Sr.z),wr.add(Sr)}precomputeWindow(r){const c=USE_ENDOMORPHISM?128/r+1:256/r+1,u=[];let l=this,d=l;for(let y=0;y<c;y++){d=l,u.push(d);for(let m=1;m<2**(r-1);m++)d=d.add(l),u.push(d);l=d.double()}return u}wNAF(r,c){!c&&this.equals(JacobianPoint.BASE)&&(c=Point.BASE);const u=c&&c._WINDOW_SIZE||1;if(256%u)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let l=c&&pointPrecomputes.get(c);l||(l=this.precomputeWindow(u),c&&u!==1&&(l=JacobianPoint.normalizeZ(l),pointPrecomputes.set(c,l)));let d=JacobianPoint.ZERO,y=JacobianPoint.ZERO;const m=1+(USE_ENDOMORPHISM?128/u:256/u),wr=2**(u-1),Sr=BigInt(2**u-1),Ar=2**u,Ir=BigInt(u);for(let $r=0;$r<m;$r++){const kr=$r*wr;let Dr=Number(r&Sr);if(r>>=Ir,Dr>wr&&(Dr-=Ar,r+=_1n),Dr===0){let Cr=l[kr];$r%2&&(Cr=Cr.negate()),y=y.add(Cr)}else{let Cr=l[kr+Math.abs(Dr)-1];Dr<0&&(Cr=Cr.negate()),d=d.add(Cr)}}return{p:d,f:y}}multiply(r,c){let u=normalizeScalar(r),l,d;if(USE_ENDOMORPHISM){const{k1neg:y,k1:m,k2neg:wr,k2:Sr}=splitScalarEndo(u);let{p:Ar,f:Ir}=this.wNAF(m,c),{p:$r,f:kr}=this.wNAF(Sr,c);y&&(Ar=Ar.negate()),wr&&($r=$r.negate()),$r=new JacobianPoint(mod($r.x*CURVE.beta),$r.y,$r.z),l=Ar.add($r),d=Ir.add(kr)}else{const{p:y,f:m}=this.wNAF(u,c);l=y,d=m}return JacobianPoint.normalizeZ([l,d])[0]}toAffine(r=invert(this.z)){const{x:c,y:u,z:l}=this,d=r,y=mod(d*d),m=mod(y*d),wr=mod(c*y),Sr=mod(u*m);if(mod(l*d)!==_1n)throw new Error("invZ was invalid");return new Point(wr,Sr)}}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n);JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);const pointPrecomputes=new WeakMap;class Point{constructor(r,c){this.x=r,this.y=c}_setWindowSize(r){this._WINDOW_SIZE=r,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n===_0n}static fromCompressedHex(r){const c=r.length===32,u=bytesToNumber(c?r:r.subarray(1));if(!isValidFieldElement(u))throw new Error("Point is not on curve");const l=weistrass(u);let d=sqrtMod(l);const y=(d&_1n)===_1n;c?y&&(d=mod(-d)):(r[0]&1)===1!==y&&(d=mod(-d));const m=new Point(u,d);return m.assertValidity(),m}static fromUncompressedHex(r){const c=bytesToNumber(r.subarray(1,33)),u=bytesToNumber(r.subarray(33,65)),l=new Point(c,u);return l.assertValidity(),l}static fromHex(r){const c=ensureBytes(r),u=c.length,l=c[0];if(u===32||u===33&&(l===2||l===3))return this.fromCompressedHex(c);if(u===65&&l===4)return this.fromUncompressedHex(c);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${u}`)}static fromPrivateKey(r){return Point.BASE.multiply(normalizePrivateKey(r))}static fromSignature(r,c,u){r=ensureBytes(r);const l=truncateHash(r),{r:d,s:y}=normalizeSignature(c);if(u!==0&&u!==1)throw new Error("Cannot recover signature: invalid recovery bit");const m=u&1?"03":"02",wr=Point.fromHex(m+numTo32bStr(d)),{n:Sr}=CURVE,Ar=invert(d,Sr),Ir=mod(-l*Ar,Sr),$r=mod(y*Ar,Sr),kr=Point.BASE.multiplyAndAddUnsafe(wr,Ir,$r);if(!kr)throw new Error("Cannot recover signature: point at infinify");return kr.assertValidity(),kr}toRawBytes(r=!1){return hexToBytes(this.toHex(r))}toHex(r=!1){const c=numTo32bStr(this.x);return r?`${this.hasEvenY()?"02":"03"}${c}`:`04${c}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const r="Point is not on elliptic curve",{x:c,y:u}=this;if(!isValidFieldElement(c)||!isValidFieldElement(u))throw new Error(r);const l=mod(u*u),d=weistrass(c);if(mod(l-d)!==_0n)throw new Error(r)}equals(r){return this.x===r.x&&this.y===r.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(r){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(r)).toAffine()}subtract(r){return this.add(r.negate())}multiply(r){return JacobianPoint.fromAffine(this).multiply(r,this).toAffine()}multiplyAndAddUnsafe(r,c,u){const l=JacobianPoint.fromAffine(this),d=c===_0n||c===_1n||this!==Point.BASE?l.multiplyUnsafe(c):l.multiply(c),y=JacobianPoint.fromAffine(r).multiplyUnsafe(u),m=d.add(y);return m.equals(JacobianPoint.ZERO)?void 0:m.toAffine()}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy);Point.ZERO=new Point(_0n,_0n);function sliceDER(a){return Number.parseInt(a[0],16)>=8?"00"+a:a}function parseDERInt(a){if(a.length<2||a[0]!==2)throw new Error(`Invalid signature integer tag: ${bytesToHex(a)}`);const r=a[1],c=a.subarray(2,r+2);if(!r||c.length!==r)throw new Error("Invalid signature integer: wrong length");if(c[0]===0&&c[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(c),left:a.subarray(r+2)}}function parseDERSignature(a){if(a.length<2||a[0]!=48)throw new Error(`Invalid signature tag: ${bytesToHex(a)}`);if(a[1]!==a.length-2)throw new Error("Invalid signature: incorrect length");const{data:r,left:c}=parseDERInt(a.subarray(2)),{data:u,left:l}=parseDERInt(c);if(l.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(l)}`);return{r,s:u}}class Signature{constructor(r,c){this.r=r,this.s=c,this.assertValidity()}static fromCompact(r){const c=r instanceof Uint8Array,u="Signature.fromCompact";if(typeof r!="string"&&!c)throw new TypeError(`${u}: Expected string or Uint8Array`);const l=c?bytesToHex(r):r;if(l.length!==128)throw new Error(`${u}: Expected 64-byte hex`);return new Signature(hexToNumber(l.slice(0,64)),hexToNumber(l.slice(64,128)))}static fromDER(r){const c=r instanceof Uint8Array;if(typeof r!="string"&&!c)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:u,s:l}=parseDERSignature(c?r:hexToBytes(r));return new Signature(u,l)}static fromHex(r){return this.fromDER(r)}assertValidity(){const{r,s:c}=this;if(!isWithinCurveOrder(r))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(c))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const r=CURVE.n>>_1n;return this.s>r}normalizeS(){return this.hasHighS()?new Signature(this.r,CURVE.n-this.s):this}toDERRawBytes(r=!1){return hexToBytes(this.toDERHex(r))}toDERHex(r=!1){const c=sliceDER(numberToHexUnpadded(this.s));if(r)return c;const u=sliceDER(numberToHexUnpadded(this.r)),l=numberToHexUnpadded(u.length/2),d=numberToHexUnpadded(c.length/2);return`30${numberToHexUnpadded(u.length/2+c.length/2+4)}02${l}${u}02${d}${c}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...a){if(!a.every(u=>u instanceof Uint8Array))throw new Error("Uint8Array list expected");if(a.length===1)return a[0];const r=a.reduce((u,l)=>u+l.length,0),c=new Uint8Array(r);for(let u=0,l=0;u<a.length;u++){const d=a[u];c.set(d,l),l+=d.length}return c}const hexes=Array.from({length:256},(a,r)=>r.toString(16).padStart(2,"0"));function bytesToHex(a){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");let r="";for(let c=0;c<a.length;c++)r+=hexes[a[c]];return r}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(a){if(typeof a!="bigint")throw new Error("Expected bigint");if(!(_0n<=a&&a<POW_2_256))throw new Error("Expected number < 2^256");return a.toString(16).padStart(64,"0")}function numTo32b(a){const r=hexToBytes(numTo32bStr(a));if(r.length!==32)throw new Error("Error: expected 32 bytes");return r}function numberToHexUnpadded(a){const r=a.toString(16);return r.length&1?`0${r}`:r}function hexToNumber(a){if(typeof a!="string")throw new TypeError("hexToNumber: expected string, got "+typeof a);return BigInt(`0x${a}`)}function hexToBytes(a){if(typeof a!="string")throw new TypeError("hexToBytes: expected string, got "+typeof a);if(a.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+a.length);const r=new Uint8Array(a.length/2);for(let c=0;c<r.length;c++){const u=c*2,l=a.slice(u,u+2),d=Number.parseInt(l,16);if(Number.isNaN(d)||d<0)throw new Error("Invalid byte sequence");r[c]=d}return r}function bytesToNumber(a){return hexToNumber(bytesToHex(a))}function ensureBytes(a){return a instanceof Uint8Array?Uint8Array.from(a):hexToBytes(a)}function normalizeScalar(a){if(typeof a=="number"&&Number.isSafeInteger(a)&&a>0)return BigInt(a);if(typeof a=="bigint"&&isWithinCurveOrder(a))return a;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(a,r=CURVE.P){const c=a%r;return c>=_0n?c:r+c}function pow2(a,r){const{P:c}=CURVE;let u=a;for(;r-- >_0n;)u*=u,u%=c;return u}function sqrtMod(a){const{P:r}=CURVE,c=BigInt(6),u=BigInt(11),l=BigInt(22),d=BigInt(23),y=BigInt(44),m=BigInt(88),wr=a*a*a%r,Sr=wr*wr*a%r,Ar=pow2(Sr,_3n)*Sr%r,Ir=pow2(Ar,_3n)*Sr%r,$r=pow2(Ir,_2n)*wr%r,kr=pow2($r,u)*$r%r,Dr=pow2(kr,l)*kr%r,Cr=pow2(Dr,y)*Dr%r,Br=pow2(Cr,m)*Cr%r,Fr=pow2(Br,y)*Dr%r,qr=pow2(Fr,_3n)*Sr%r,Vr=pow2(qr,d)*kr%r,Jr=pow2(Vr,c)*wr%r;return pow2(Jr,_2n)}function invert(a,r=CURVE.P){if(a===_0n||r<=_0n)throw new Error(`invert: expected positive integers, got n=${a} mod=${r}`);let c=mod(a,r),u=r,l=_0n,d=_1n;for(;c!==_0n;){const m=u/c,wr=u%c,Sr=l-d*m;u=c,c=wr,l=d,d=Sr}if(u!==_1n)throw new Error("invert: does not exist");return mod(l,r)}function invertBatch(a,r=CURVE.P){const c=new Array(a.length),u=a.reduce((d,y,m)=>y===_0n?d:(c[m]=d,mod(d*y,r)),_1n),l=invert(u,r);return a.reduceRight((d,y,m)=>y===_0n?d:(c[m]=mod(d*c[m],r),mod(d*y,r)),l),c}const divNearest=(a,r)=>(a+r/_2n)/r,ENDO={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function splitScalarEndo(a){const{n:r}=CURVE,{a1:c,b1:u,a2:l,b2:d,POW_2_128:y}=ENDO,m=divNearest(d*a,r),wr=divNearest(-u*a,r);let Sr=mod(a-m*c-wr*l,r),Ar=mod(-m*u-wr*d,r);const Ir=Sr>y,$r=Ar>y;if(Ir&&(Sr=r-Sr),$r&&(Ar=r-Ar),Sr>y||Ar>y)throw new Error("splitScalarEndo: Endomorphism failed, k="+a);return{k1neg:Ir,k1:Sr,k2neg:$r,k2:Ar}}function truncateHash(a){const{n:r}=CURVE,u=a.length*8-256;let l=bytesToNumber(a);return u>0&&(l=l>>BigInt(u)),l>=r&&(l-=r),l}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...r){return utils$2.hmacSha256(this.k,...r)}hmacSync(...r){return _hmacSha256Sync(this.k,...r)}checkSync(){if(typeof _hmacSha256Sync!="function")throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(r=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),r),this.v=await this.hmac(this.v),r.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),r),this.v=await this.hmac(this.v))}reseedSync(r=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),r),this.v=this.hmacSync(this.v),r.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),r),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function isWithinCurveOrder(a){return _0n<a&&a<CURVE.n}function isValidFieldElement(a){return _0n<a&&a<CURVE.P}function kmdToSig(a,r,c){const u=bytesToNumber(a);if(!isWithinCurveOrder(u))return;const{n:l}=CURVE,d=Point.BASE.multiply(u),y=mod(d.x,l);if(y===_0n)return;const m=mod(invert(u,l)*mod(r+c*y,l),l);if(m===_0n)return;const wr=new Signature(y,m),Sr=(d.x===wr.r?0:2)|Number(d.y&_1n);return{sig:wr,recovery:Sr}}function normalizePrivateKey(a){let r;if(typeof a=="bigint")r=a;else if(typeof a=="number"&&Number.isSafeInteger(a)&&a>0)r=BigInt(a);else if(typeof a=="string"){if(a.length!==64)throw new Error("Expected 32 bytes of private key");r=hexToNumber(a)}else if(a instanceof Uint8Array){if(a.length!==32)throw new Error("Expected 32 bytes of private key");r=bytesToNumber(a)}else throw new TypeError("Expected valid private key");if(!isWithinCurveOrder(r))throw new Error("Expected private key: 0 < key < n");return r}function normalizeSignature(a){if(a instanceof Signature)return a.assertValidity(),a;try{return Signature.fromDER(a)}catch{return Signature.fromCompact(a)}}function getPublicKey$1(a,r=!1){return Point.fromPrivateKey(a).toRawBytes(r)}function bits2int(a){const r=a.length>32?a.slice(0,32):a;return bytesToNumber(r)}function bits2octets(a){const r=bits2int(a),c=mod(r,CURVE.n);return int2octets(c<_0n?r:c)}function int2octets(a){return numTo32b(a)}function initSigArgs(a,r,c){if(a==null)throw new Error(`sign: expected valid message hash, not "${a}"`);const u=ensureBytes(a),l=normalizePrivateKey(r),d=[int2octets(l),bits2octets(u)];if(c!=null){c===!0&&(c=utils$2.randomBytes(32));const wr=ensureBytes(c);if(wr.length!==32)throw new Error("sign: Expected 32 bytes of extra data");d.push(wr)}const y=concatBytes(...d),m=bits2int(u);return{seed:y,m,d:l}}function finalizeSig(a,r){let{sig:c,recovery:u}=a;const{canonical:l,der:d,recovered:y}=Object.assign({canonical:!0,der:!0},r);l&&c.hasHighS()&&(c=c.normalizeS(),u^=1);const m=d?c.toDERRawBytes():c.toCompactRawBytes();return y?[m,u]:m}function signSync(a,r,c={}){const{seed:u,m:l,d}=initSigArgs(a,r,c.extraEntropy);let y;const m=new HmacDrbg;for(m.reseedSync(u);!(y=kmdToSig(m.generateSync(),l,d));)m.reseedSync();return finalizeSig(y,c)}Point.BASE._setWindowSize(8);const crypto$1={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils$2={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(a){try{return normalizePrivateKey(a),!0}catch{return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:a=>{if(a=ensureBytes(a),a.length<40||a.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const r=mod(bytesToNumber(a),CURVE.n-_1n)+_1n;return numTo32b(r)},randomBytes:(a=32)=>{if(crypto$1.web)return crypto$1.web.getRandomValues(new Uint8Array(a));if(crypto$1.node){const{randomBytes:r}=crypto$1.node;return Uint8Array.from(r(a))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$2.hashToPrivateKey(utils$2.randomBytes(40)),sha256:async(...a)=>{if(crypto$1.web){const r=await crypto$1.web.subtle.digest("SHA-256",concatBytes(...a));return new Uint8Array(r)}else if(crypto$1.node){const{createHash:r}=crypto$1.node,c=r("sha256");return a.forEach(u=>c.update(u)),Uint8Array.from(c.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(a,...r)=>{if(crypto$1.web){const c=await crypto$1.web.subtle.importKey("raw",a,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),u=concatBytes(...r),l=await crypto$1.web.subtle.sign("HMAC",c,u);return new Uint8Array(l)}else if(crypto$1.node){const{createHmac:c}=crypto$1.node,u=c("sha256",a);return r.forEach(l=>u.update(l)),Uint8Array.from(u.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(a,...r)=>{let c=TAGGED_HASH_PREFIXES[a];if(c===void 0){const u=await utils$2.sha256(Uint8Array.from(a,l=>l.charCodeAt(0)));c=concatBytes(u,u),TAGGED_HASH_PREFIXES[a]=c}return utils$2.sha256(c,...r)},taggedHashSync:(a,...r)=>{if(typeof _sha256Sync!="function")throw new ShaError("sha256Sync is undefined, you need to set it");let c=TAGGED_HASH_PREFIXES[a];if(c===void 0){const u=_sha256Sync(Uint8Array.from(a,l=>l.charCodeAt(0)));c=concatBytes(u,u),TAGGED_HASH_PREFIXES[a]=c}return _sha256Sync(c,...r)},precompute(a=8,r=Point.BASE){const c=r===Point.BASE?r:new Point(r.x,r.y);return c._setWindowSize(a),c.multiply(_3n),c}};Object.defineProperties(utils$2,{sha256Sync:{configurable:!1,get(){return _sha256Sync},set(a){_sha256Sync||(_sha256Sync=a)}},hmacSha256Sync:{configurable:!1,get(){return _hmacSha256Sync},set(a){_hmacSha256Sync||(_hmacSha256Sync=a)}}});utils$3.sha512Sync=(...a)=>sha512(utils$3.concatBytes(...a));const generatePrivateKey=utils$3.randomPrivateKey,generateKeypair=()=>{const a=utils$3.randomPrivateKey(),r=getPublicKey(a),c=new Uint8Array(64);return c.set(a),c.set(r,32),{publicKey:r,secretKey:c}},getPublicKey=sync.getPublicKey;function isOnCurve(a){try{return Point$1.fromHex(a,!0),!0}catch{return!1}}const sign=(a,r)=>sync.sign(a,r.slice(0,32)),verify=sync.verify,toBuffer=a=>buffer$1.Buffer.isBuffer(a)?a:a instanceof Uint8Array?buffer$1.Buffer.from(a.buffer,a.byteOffset,a.byteLength):buffer$1.Buffer.from(a);class Struct{constructor(r){Object.assign(this,r)}encode(){return buffer$1.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(r){return deserialize_1(SOLANA_SCHEMA,this,r)}static decodeUnchecked(r){return deserializeUnchecked_1(SOLANA_SCHEMA,this,r)}}class Enum extends Struct{constructor(r){if(super(r),this.enum="",Object.keys(r).length!==1)throw new Error("Enum can only take single value");Object.keys(r).map(c=>{this.enum=c})}}const SOLANA_SCHEMA=new Map,MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(a){return a._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct{constructor(r){if(super({}),this._bn=void 0,isPublicKeyData(r))this._bn=r._bn;else{if(typeof r=="string"){const c=bs58.decode(r);if(c.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(c)}else this._bn=new BN(r);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const r=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(r.toBuffer())}equals(r){return this._bn.eq(r._bn)}toBase58(){return bs58.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const r=this._bn.toArrayLike(buffer$1.Buffer);if(r.length===PUBLIC_KEY_LENGTH)return r;const c=buffer$1.Buffer.alloc(32);return r.copy(c,32-r.length),c}toString(){return this.toBase58()}static async createWithSeed(r,c,u){const l=buffer$1.Buffer.concat([r.toBuffer(),buffer$1.Buffer.from(c),u.toBuffer()]),d=sha256$1(l);return new PublicKey(d)}static createProgramAddressSync(r,c){let u=buffer$1.Buffer.alloc(0);r.forEach(function(d){if(d.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");u=buffer$1.Buffer.concat([u,toBuffer(d)])}),u=buffer$1.Buffer.concat([u,c.toBuffer(),buffer$1.Buffer.from("ProgramDerivedAddress")]);const l=sha256$1(u);if(isOnCurve(l))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(l)}static async createProgramAddress(r,c){return this.createProgramAddressSync(r,c)}static findProgramAddressSync(r,c){let u=255,l;for(;u!=0;){try{const d=r.concat(buffer$1.Buffer.from([u]));l=this.createProgramAddressSync(d,c)}catch(d){if(d instanceof TypeError)throw d;u--;continue}return[l,u]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(r,c){return this.findProgramAddressSync(r,c)}static isOnCurve(r){const c=new PublicKey(r);return isOnCurve(c.toBytes())}}PublicKey.default=new PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(r){if(this._publicKey=void 0,this._secretKey=void 0,r){const c=toBuffer(r);if(r.length!==64)throw new Error("bad secret key size");this._publicKey=c.slice(32,64),this._secretKey=c.slice(0,32)}else this._secretKey=toBuffer(generatePrivateKey()),this._publicKey=toBuffer(getPublicKey(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return buffer$1.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(r){super(`Signature ${r} has expired: block height exceeded.`),this.signature=void 0,this.signature=r}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(r,c){super(`Transaction was not confirmed in ${c.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${r} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=r}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class MessageAccountKeys{constructor(r,c){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=r,this.accountKeysFromLookups=c}keySegments(){const r=[this.staticAccountKeys];return this.accountKeysFromLookups&&(r.push(this.accountKeysFromLookups.writable),r.push(this.accountKeysFromLookups.readonly)),r}get(r){for(const c of this.keySegments()){if(r<c.length)return c[r];r-=c.length}}get length(){return this.keySegments().flat().length}compileInstructions(r){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const u=new Map;this.keySegments().flat().forEach((d,y)=>{u.set(d.toBase58(),y)});const l=d=>{const y=u.get(d.toBase58());if(y===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return y};return r.map(d=>({programIdIndex:l(d.programId),accountKeyIndexes:d.keys.map(y=>l(y.pubkey)),data:d.data}))}}const publicKey$1=(a="publicKey")=>blob$1(32,a),signature=(a="signature")=>blob$1(64,a),rustString=(a="string")=>{const r=struct$1([u32$1("length"),u32$1("lengthPadding"),blob$1(offset(u32$1(),-8),"chars")],a),c=r.decode.bind(r),u=r.encode.bind(r),l=r;return l.decode=(d,y)=>c(d,y).chars.toString(),l.encode=(d,y,m)=>{const wr={chars:buffer$1.Buffer.from(d,"utf8")};return u(wr,y,m)},l.alloc=d=>u32$1().span+u32$1().span+buffer$1.Buffer.from(d,"utf8").length,l},authorized=(a="authorized")=>struct$1([publicKey$1("staker"),publicKey$1("withdrawer")],a),lockup=(a="lockup")=>struct$1([ns64("unixTimestamp"),ns64("epoch"),publicKey$1("custodian")],a),voteInit=(a="voteInit")=>struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedVoter"),publicKey$1("authorizedWithdrawer"),u8$1("commission")],a),voteAuthorizeWithSeedArgs=(a="voteAuthorizeWithSeedArgs")=>struct$1([u32$1("voteAuthorizationType"),publicKey$1("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$1("newAuthorized")],a);function getAlloc(a,r){const c=l=>{if(l.span>=0)return l.span;if(typeof l.alloc=="function")return l.alloc(r[l.property]);if("count"in l&&"elementLayout"in l){const d=r[l.property];if(Array.isArray(d))return d.length*c(l.elementLayout)}else if("fields"in l)return getAlloc({layout:l},r[l.property]);return 0};let u=0;return a.layout.fields.forEach(l=>{u+=c(l)}),u}function decodeLength(a){let r=0,c=0;for(;;){let u=a.shift();if(r|=(u&127)<<c*7,c+=1,(u&128)===0)break}return r}function encodeLength(a,r){let c=r;for(;;){let u=c&127;if(c>>=7,c==0){a.push(u);break}else u|=128,a.push(u)}}function assert$2(a,r){if(!a)throw new Error(r||"Assertion failed")}class CompiledKeys{constructor(r,c){this.payer=void 0,this.keyMetaMap=void 0,this.payer=r,this.keyMetaMap=c}static compile(r,c){const u=new Map,l=y=>{const m=y.toBase58();let wr=u.get(m);return wr===void 0&&(wr={isSigner:!1,isWritable:!1,isInvoked:!1},u.set(m,wr)),wr},d=l(c);d.isSigner=!0,d.isWritable=!0;for(const y of r){l(y.programId).isInvoked=!0;for(const m of y.keys){const wr=l(m.pubkey);wr.isSigner||(wr.isSigner=m.isSigner),wr.isWritable||(wr.isWritable=m.isWritable)}}return new CompiledKeys(c,u)}getMessageComponents(){const r=[...this.keyMetaMap.entries()];assert$2(r.length<=256,"Max static account keys length exceeded");const c=r.filter(([,wr])=>wr.isSigner&&wr.isWritable),u=r.filter(([,wr])=>wr.isSigner&&!wr.isWritable),l=r.filter(([,wr])=>!wr.isSigner&&wr.isWritable),d=r.filter(([,wr])=>!wr.isSigner&&!wr.isWritable),y={numRequiredSignatures:c.length+u.length,numReadonlySignedAccounts:u.length,numReadonlyUnsignedAccounts:d.length};{assert$2(c.length>0,"Expected at least one writable signer key");const[wr]=c[0];assert$2(wr===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const m=[...c.map(([wr])=>new PublicKey(wr)),...u.map(([wr])=>new PublicKey(wr)),...l.map(([wr])=>new PublicKey(wr)),...d.map(([wr])=>new PublicKey(wr))];return[y,m]}extractTableLookup(r){const[c,u]=this.drainKeysFoundInLookupTable(r.state.addresses,y=>!y.isSigner&&!y.isInvoked&&y.isWritable),[l,d]=this.drainKeysFoundInLookupTable(r.state.addresses,y=>!y.isSigner&&!y.isInvoked&&!y.isWritable);if(!(c.length===0&&l.length===0))return[{accountKey:r.key,writableIndexes:c,readonlyIndexes:l},{writable:u,readonly:d}]}drainKeysFoundInLookupTable(r,c){const u=new Array,l=new Array;for(const[d,y]of this.keyMetaMap.entries())if(c(y)){const m=new PublicKey(d),wr=r.findIndex(Sr=>Sr.equals(m));wr>=0&&(assert$2(wr<256,"Max lookup table index exceeded"),u.push(wr),l.push(m),this.keyMetaMap.delete(d))}return[u,l]}}class Message{constructor(r){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=r.header,this.accountKeys=r.accountKeys.map(c=>new PublicKey(c)),this.recentBlockhash=r.recentBlockhash,this.instructions=r.instructions,this.instructions.forEach(c=>this.indexToProgramIds.set(c.programIdIndex,this.accountKeys[c.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:bs58.decode(r.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(r){const c=CompiledKeys.compile(r.instructions,r.payerKey),[u,l]=c.getMessageComponents(),y=new MessageAccountKeys(l).compileInstructions(r.instructions).map(m=>({programIdIndex:m.programIdIndex,accounts:m.accountKeyIndexes,data:bs58.encode(m.data)}));return new Message({header:u,accountKeys:l,recentBlockhash:r.recentBlockhash,instructions:y})}isAccountSigner(r){return r<this.header.numRequiredSignatures}isAccountWritable(r){return r<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||r>=this.header.numRequiredSignatures&&r<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(r){return this.indexToProgramIds.has(r)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((r,c)=>!this.isProgramId(c))}serialize(){const r=this.accountKeys.length;let c=[];encodeLength(c,r);const u=this.instructions.map(Ir=>{const{accounts:$r,programIdIndex:kr}=Ir,Dr=Array.from(bs58.decode(Ir.data));let Cr=[];encodeLength(Cr,$r.length);let Br=[];return encodeLength(Br,Dr.length),{programIdIndex:kr,keyIndicesCount:buffer$1.Buffer.from(Cr),keyIndices:$r,dataLength:buffer$1.Buffer.from(Br),data:Dr}});let l=[];encodeLength(l,u.length);let d=buffer$1.Buffer.alloc(PACKET_DATA_SIZE);buffer$1.Buffer.from(l).copy(d);let y=l.length;u.forEach(Ir=>{y+=struct$1([u8$1("programIdIndex"),blob$1(Ir.keyIndicesCount.length,"keyIndicesCount"),seq(u8$1("keyIndex"),Ir.keyIndices.length,"keyIndices"),blob$1(Ir.dataLength.length,"dataLength"),seq(u8$1("userdatum"),Ir.data.length,"data")]).encode(Ir,d,y)}),d=d.slice(0,y);const m=struct$1([blob$1(1,"numRequiredSignatures"),blob$1(1,"numReadonlySignedAccounts"),blob$1(1,"numReadonlyUnsignedAccounts"),blob$1(c.length,"keyCount"),seq(publicKey$1("key"),r,"keys"),publicKey$1("recentBlockhash")]),wr={numRequiredSignatures:buffer$1.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:buffer$1.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:buffer$1.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:buffer$1.Buffer.from(c),keys:this.accountKeys.map(Ir=>toBuffer(Ir.toBytes())),recentBlockhash:bs58.decode(this.recentBlockhash)};let Sr=buffer$1.Buffer.alloc(2048);const Ar=m.encode(wr,Sr);return d.copy(Sr,Ar),Sr.slice(0,Ar+d.length)}static from(r){let c=[...r];const u=c.shift();if(u!==(u&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const l=c.shift(),d=c.shift(),y=decodeLength(c);let m=[];for(let $r=0;$r<y;$r++){const kr=c.slice(0,PUBLIC_KEY_LENGTH);c=c.slice(PUBLIC_KEY_LENGTH),m.push(new PublicKey(buffer$1.Buffer.from(kr)))}const wr=c.slice(0,PUBLIC_KEY_LENGTH);c=c.slice(PUBLIC_KEY_LENGTH);const Sr=decodeLength(c);let Ar=[];for(let $r=0;$r<Sr;$r++){const kr=c.shift(),Dr=decodeLength(c),Cr=c.slice(0,Dr);c=c.slice(Dr);const Br=decodeLength(c),Fr=c.slice(0,Br),qr=bs58.encode(buffer$1.Buffer.from(Fr));c=c.slice(Br),Ar.push({programIdIndex:kr,accounts:Cr,data:qr})}const Ir={header:{numRequiredSignatures:u,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:d},recentBlockhash:bs58.encode(buffer$1.Buffer.from(wr)),accountKeys:m,instructions:Ar};return new Message(Ir)}}class MessageV0{constructor(r){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=r.header,this.staticAccountKeys=r.staticAccountKeys,this.recentBlockhash=r.recentBlockhash,this.compiledInstructions=r.compiledInstructions,this.addressTableLookups=r.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let r=0;for(const c of this.addressTableLookups)r+=c.readonlyIndexes.length+c.writableIndexes.length;return r}getAccountKeys(r){let c;if(r&&"accountKeysFromLookups"in r){if(this.numAccountKeysFromLookups!=r.accountKeysFromLookups.writable.length+r.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");c=r.accountKeysFromLookups}else if(r&&"addressLookupTableAccounts"in r)c=this.resolveAddressTableLookups(r.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,c)}resolveAddressTableLookups(r){const c={writable:[],readonly:[]};for(const u of this.addressTableLookups){const l=r.find(d=>d.key.equals(u.accountKey));if(!l)throw new Error(`Failed to find address lookup table account for table key ${u.accountKey.toBase58()}`);for(const d of u.writableIndexes)if(d<l.state.addresses.length)c.writable.push(l.state.addresses[d]);else throw new Error(`Failed to find address for index ${d} in address lookup table ${u.accountKey.toBase58()}`);for(const d of u.readonlyIndexes)if(d<l.state.addresses.length)c.readonly.push(l.state.addresses[d]);else throw new Error(`Failed to find address for index ${d} in address lookup table ${u.accountKey.toBase58()}`)}return c}static compile(r){const c=CompiledKeys.compile(r.instructions,r.payerKey),u=new Array,l={writable:new Array,readonly:new Array},d=r.addressLookupTableAccounts||[];for(const Ar of d){const Ir=c.extractTableLookup(Ar);if(Ir!==void 0){const[$r,{writable:kr,readonly:Dr}]=Ir;u.push($r),l.writable.push(...kr),l.readonly.push(...Dr)}}const[y,m]=c.getMessageComponents(),Sr=new MessageAccountKeys(m,l).compileInstructions(r.instructions);return new MessageV0({header:y,staticAccountKeys:m,recentBlockhash:r.recentBlockhash,compiledInstructions:Sr,addressTableLookups:u})}serialize(){const r=Array();encodeLength(r,this.staticAccountKeys.length);const c=this.serializeInstructions(),u=Array();encodeLength(u,this.compiledInstructions.length);const l=this.serializeAddressTableLookups(),d=Array();encodeLength(d,this.addressTableLookups.length);const y=struct$1([u8$1("prefix"),struct$1([u8$1("numRequiredSignatures"),u8$1("numReadonlySignedAccounts"),u8$1("numReadonlyUnsignedAccounts")],"header"),blob$1(r.length,"staticAccountKeysLength"),seq(publicKey$1(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$1("recentBlockhash"),blob$1(u.length,"instructionsLength"),blob$1(c.length,"serializedInstructions"),blob$1(d.length,"addressTableLookupsLength"),blob$1(l.length,"serializedAddressTableLookups")]),m=new Uint8Array(PACKET_DATA_SIZE),wr=1<<7,Sr=y.encode({prefix:wr,header:this.header,staticAccountKeysLength:new Uint8Array(r),staticAccountKeys:this.staticAccountKeys.map(Ar=>Ar.toBytes()),recentBlockhash:bs58.decode(this.recentBlockhash),instructionsLength:new Uint8Array(u),serializedInstructions:c,addressTableLookupsLength:new Uint8Array(d),serializedAddressTableLookups:l},m);return m.slice(0,Sr)}serializeInstructions(){let r=0;const c=new Uint8Array(PACKET_DATA_SIZE);for(const u of this.compiledInstructions){const l=Array();encodeLength(l,u.accountKeyIndexes.length);const d=Array();encodeLength(d,u.data.length),r+=struct$1([u8$1("programIdIndex"),blob$1(l.length,"encodedAccountKeyIndexesLength"),seq(u8$1(),u.accountKeyIndexes.length,"accountKeyIndexes"),blob$1(d.length,"encodedDataLength"),blob$1(u.data.length,"data")]).encode({programIdIndex:u.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(l),accountKeyIndexes:u.accountKeyIndexes,encodedDataLength:new Uint8Array(d),data:u.data},c,r)}return c.slice(0,r)}serializeAddressTableLookups(){let r=0;const c=new Uint8Array(PACKET_DATA_SIZE);for(const u of this.addressTableLookups){const l=Array();encodeLength(l,u.writableIndexes.length);const d=Array();encodeLength(d,u.readonlyIndexes.length),r+=struct$1([publicKey$1("accountKey"),blob$1(l.length,"encodedWritableIndexesLength"),seq(u8$1(),u.writableIndexes.length,"writableIndexes"),blob$1(d.length,"encodedReadonlyIndexesLength"),seq(u8$1(),u.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:u.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(l),writableIndexes:u.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(d),readonlyIndexes:u.readonlyIndexes},c,r)}return c.slice(0,r)}static deserialize(r){let c=[...r];const u=c.shift(),l=u&VERSION_PREFIX_MASK;assert$2(u!==l,"Expected versioned message but received legacy message");const d=l;assert$2(d===0,`Expected versioned message with version 0 but found version ${d}`);const y={numRequiredSignatures:c.shift(),numReadonlySignedAccounts:c.shift(),numReadonlyUnsignedAccounts:c.shift()},m=[],wr=decodeLength(c);for(let Dr=0;Dr<wr;Dr++)m.push(new PublicKey(c.splice(0,PUBLIC_KEY_LENGTH)));const Sr=bs58.encode(c.splice(0,PUBLIC_KEY_LENGTH)),Ar=decodeLength(c),Ir=[];for(let Dr=0;Dr<Ar;Dr++){const Cr=c.shift(),Br=decodeLength(c),Fr=c.splice(0,Br),qr=decodeLength(c),Vr=new Uint8Array(c.splice(0,qr));Ir.push({programIdIndex:Cr,accountKeyIndexes:Fr,data:Vr})}const $r=decodeLength(c),kr=[];for(let Dr=0;Dr<$r;Dr++){const Cr=new PublicKey(c.splice(0,PUBLIC_KEY_LENGTH)),Br=decodeLength(c),Fr=c.splice(0,Br),qr=decodeLength(c),Vr=c.splice(0,qr);kr.push({accountKey:Cr,writableIndexes:Fr,readonlyIndexes:Vr})}return new MessageV0({header:y,staticAccountKeys:m,recentBlockhash:Sr,compiledInstructions:Ir,addressTableLookups:kr})}}const VersionedMessage={deserializeMessageVersion(a){const r=a[0],c=r&VERSION_PREFIX_MASK;return c===r?"legacy":c},deserialize:a=>{const r=VersionedMessage.deserializeMessageVersion(a);if(r==="legacy")return Message.from(a);if(r===0)return MessageV0.deserialize(a);throw new Error(`Transaction message version ${r} deserialization is not supported`)}};let TransactionStatus;(function(a){a[a.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",a[a.PROCESSED=1]="PROCESSED",a[a.TIMED_OUT=2]="TIMED_OUT"})(TransactionStatus||(TransactionStatus={}));const DEFAULT_SIGNATURE=buffer$1.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(r){this.keys=void 0,this.programId=void 0,this.data=buffer$1.Buffer.alloc(0),this.programId=r.programId,this.keys=r.keys,r.data&&(this.data=r.data)}toJSON(){return{keys:this.keys.map(({pubkey:r,isSigner:c,isWritable:u})=>({pubkey:r.toJSON(),isSigner:c,isWritable:u})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(r){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!r)if(r.feePayer&&(this.feePayer=r.feePayer),r.signatures&&(this.signatures=r.signatures),Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")){const{blockhash:c,lastValidBlockHeight:u}=r;this.recentBlockhash=c,this.lastValidBlockHeight=u}else{const{recentBlockhash:c,nonceInfo:u}=r;u&&(this.nonceInfo=u),this.recentBlockhash=c}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(r=>r.toJSON()),signers:this.signatures.map(({publicKey:r})=>r.toJSON())}}add(...r){if(r.length===0)throw new Error("No instructions");return r.forEach(c=>{"instructions"in c?this.instructions=this.instructions.concat(c.instructions):"data"in c&&"programId"in c&&"keys"in c?this.instructions.push(c):this.instructions.push(new TransactionInstruction(c))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let r,c;if(this.nonceInfo?(r=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?c=[this.nonceInfo.nonceInstruction,...this.instructions]:c=this.instructions):(r=this.recentBlockhash,c=this.instructions),!r)throw new Error("Transaction recentBlockhash required");c.length<1&&console.warn("No instructions provided");let u;if(this.feePayer)u=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)u=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Cr=0;Cr<c.length;Cr++)if(c[Cr].programId===void 0)throw new Error(`Transaction instruction index ${Cr} has undefined program id`);const l=[],d=[];c.forEach(Cr=>{Cr.keys.forEach(Fr=>{d.push({...Fr})});const Br=Cr.programId.toString();l.includes(Br)||l.push(Br)}),l.forEach(Cr=>{d.push({pubkey:new PublicKey(Cr),isSigner:!1,isWritable:!1})});const y=[];d.forEach(Cr=>{const Br=Cr.pubkey.toString(),Fr=y.findIndex(qr=>qr.pubkey.toString()===Br);Fr>-1?(y[Fr].isWritable=y[Fr].isWritable||Cr.isWritable,y[Fr].isSigner=y[Fr].isSigner||Cr.isSigner):y.push(Cr)}),y.sort(function(Cr,Br){return Cr.isSigner!==Br.isSigner?Cr.isSigner?-1:1:Cr.isWritable!==Br.isWritable?Cr.isWritable?-1:1:Cr.pubkey.toBase58().localeCompare(Br.pubkey.toBase58())});const m=y.findIndex(Cr=>Cr.pubkey.equals(u));if(m>-1){const[Cr]=y.splice(m,1);Cr.isSigner=!0,Cr.isWritable=!0,y.unshift(Cr)}else y.unshift({pubkey:u,isSigner:!0,isWritable:!0});for(const Cr of this.signatures){const Br=y.findIndex(Fr=>Fr.pubkey.equals(Cr.publicKey));if(Br>-1)y[Br].isSigner||(y[Br].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Cr.publicKey.toString()}`)}let wr=0,Sr=0,Ar=0;const Ir=[],$r=[];y.forEach(({pubkey:Cr,isSigner:Br,isWritable:Fr})=>{Br?(Ir.push(Cr.toString()),wr+=1,Fr||(Sr+=1)):($r.push(Cr.toString()),Fr||(Ar+=1))});const kr=Ir.concat($r),Dr=c.map(Cr=>{const{data:Br,programId:Fr}=Cr;return{programIdIndex:kr.indexOf(Fr.toString()),accounts:Cr.keys.map(qr=>kr.indexOf(qr.pubkey.toString())),data:bs58.encode(Br)}});return Dr.forEach(Cr=>{assert$2(Cr.programIdIndex>=0),Cr.accounts.forEach(Br=>assert$2(Br>=0))}),new Message({header:{numRequiredSignatures:wr,numReadonlySignedAccounts:Sr,numReadonlyUnsignedAccounts:Ar},accountKeys:kr,recentBlockhash:r,instructions:Dr})}_compile(){const r=this.compileMessage(),c=r.accountKeys.slice(0,r.header.numRequiredSignatures);return this.signatures.length===c.length&&this.signatures.every((l,d)=>c[d].equals(l.publicKey))||(this.signatures=c.map(u=>({signature:null,publicKey:u}))),r}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(r){return(await r.getFeeForMessage(this.compileMessage())).value}setSigners(...r){if(r.length===0)throw new Error("No signers");const c=new Set;this.signatures=r.filter(u=>{const l=u.toString();return c.has(l)?!1:(c.add(l),!0)}).map(u=>({signature:null,publicKey:u}))}sign(...r){if(r.length===0)throw new Error("No signers");const c=new Set,u=[];for(const d of r){const y=d.publicKey.toString();c.has(y)||(c.add(y),u.push(d))}this.signatures=u.map(d=>({signature:null,publicKey:d.publicKey}));const l=this._compile();this._partialSign(l,...u)}partialSign(...r){if(r.length===0)throw new Error("No signers");const c=new Set,u=[];for(const d of r){const y=d.publicKey.toString();c.has(y)||(c.add(y),u.push(d))}const l=this._compile();this._partialSign(l,...u)}_partialSign(r,...c){const u=r.serialize();c.forEach(l=>{const d=sign(u,l.secretKey);this._addSignature(l.publicKey,toBuffer(d))})}addSignature(r,c){this._compile(),this._addSignature(r,c)}_addSignature(r,c){assert$2(c.length===64);const u=this.signatures.findIndex(l=>r.equals(l.publicKey));if(u<0)throw new Error(`unknown signer: ${r.toString()}`);this.signatures[u].signature=buffer$1.Buffer.from(c)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(r,c){for(const{signature:u,publicKey:l}of this.signatures)if(u===null){if(c)return!1}else if(!verify(u,r,l.toBuffer()))return!1;return!0}serialize(r){const{requireAllSignatures:c,verifySignatures:u}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},r),l=this.serializeMessage();if(u&&!this._verifySignatures(l,c))throw new Error("Signature verification failed");return this._serialize(l)}_serialize(r){const{signatures:c}=this,u=[];encodeLength(u,c.length);const l=u.length+c.length*64+r.length,d=buffer$1.Buffer.alloc(l);return assert$2(c.length<256),buffer$1.Buffer.from(u).copy(d,0),c.forEach(({signature:y},m)=>{y!==null&&(assert$2(y.length===64,"signature has invalid length"),buffer$1.Buffer.from(y).copy(d,u.length+m*64))}),r.copy(d,u.length+c.length*64),assert$2(d.length<=PACKET_DATA_SIZE,`Transaction too large: ${d.length} > ${PACKET_DATA_SIZE}`),d}get keys(){return assert$2(this.instructions.length===1),this.instructions[0].keys.map(r=>r.pubkey)}get programId(){return assert$2(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$2(this.instructions.length===1),this.instructions[0].data}static from(r){let c=[...r];const u=decodeLength(c);let l=[];for(let d=0;d<u;d++){const y=c.slice(0,SIGNATURE_LENGTH_IN_BYTES);c=c.slice(SIGNATURE_LENGTH_IN_BYTES),l.push(bs58.encode(buffer$1.Buffer.from(y)))}return Transaction.populate(Message.from(c),l)}static populate(r,c=[]){const u=new Transaction;return u.recentBlockhash=r.recentBlockhash,r.header.numRequiredSignatures>0&&(u.feePayer=r.accountKeys[0]),c.forEach((l,d)=>{const y={signature:l==bs58.encode(DEFAULT_SIGNATURE)?null:bs58.decode(l),publicKey:r.accountKeys[d]};u.signatures.push(y)}),r.instructions.forEach(l=>{const d=l.accounts.map(y=>{const m=r.accountKeys[y];return{pubkey:m,isSigner:u.signatures.some(wr=>wr.publicKey.toString()===m.toString())||r.isAccountSigner(y),isWritable:r.isAccountWritable(y)}});u.instructions.push(new TransactionInstruction({keys:d,programId:r.accountKeys[l.programIdIndex],data:bs58.decode(l.data)}))}),u._message=r,u._json=u.toJSON(),u}}class TransactionMessage{constructor(r){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=r.payerKey,this.instructions=r.instructions,this.recentBlockhash=r.recentBlockhash}static decompile(r,c){const{header:u,compiledInstructions:l,recentBlockhash:d}=r,{numRequiredSignatures:y,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:wr}=u,Sr=y-m;assert$2(Sr>0,"Message header is invalid");const Ar=r.staticAccountKeys.length-wr;assert$2(Ar>=0,"Message header is invalid");const Ir=r.getAccountKeys(c),$r=Ir.get(0);if($r===void 0)throw new Error("Failed to decompile message because no account keys were found");const kr=[];for(const Dr of l){const Cr=[];for(const Fr of Dr.accountKeyIndexes){const qr=Ir.get(Fr);if(qr===void 0)throw new Error(`Failed to find key for account key index ${Fr}`);const Vr=Fr<y;let Jr;Vr?Jr=Fr<Sr:Fr<Ir.staticAccountKeys.length?Jr=Fr-y<Ar:Jr=Fr-Ir.staticAccountKeys.length<Ir.accountKeysFromLookups.writable.length,Cr.push({pubkey:qr,isSigner:Fr<u.numRequiredSignatures,isWritable:Jr})}const Br=Ir.get(Dr.programIdIndex);if(Br===void 0)throw new Error(`Failed to find program id for program id index ${Dr.programIdIndex}`);kr.push(new TransactionInstruction({programId:Br,data:toBuffer(Dr.data),keys:Cr}))}return new TransactionMessage({payerKey:$r,instructions:kr,recentBlockhash:d})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(r){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:r})}}class VersionedTransaction{get version(){return this.message.version}constructor(r,c){if(this.signatures=void 0,this.message=void 0,c!==void 0)assert$2(c.length===r.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=c;else{const u=[];for(let l=0;l<r.header.numRequiredSignatures;l++)u.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES));this.signatures=u}this.message=r}serialize(){const r=this.message.serialize(),c=Array();encodeLength(c,this.signatures.length);const u=struct$1([blob$1(c.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$1(r.length,"serializedMessage")]),l=new Uint8Array(2048),d=u.encode({encodedSignaturesLength:new Uint8Array(c),signatures:this.signatures,serializedMessage:r},l);return l.slice(0,d)}static deserialize(r){let c=[...r];const u=[],l=decodeLength(c);for(let y=0;y<l;y++)u.push(new Uint8Array(c.splice(0,SIGNATURE_LENGTH_IN_BYTES)));const d=VersionedMessage.deserialize(new Uint8Array(c));return new VersionedTransaction(d,u)}sign(r){const c=this.message.serialize(),u=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const l of r){const d=u.findIndex(y=>y.equals(l.publicKey));assert$2(d>=0,`Cannot sign with non signer key ${l.publicKey.toBase58()}`),this.signatures[d]=sign(c,l.secretKey)}}}const SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$2(a,r,c,u){const l=u&&{skipPreflight:u.skipPreflight,preflightCommitment:u.preflightCommitment||u.commitment,maxRetries:u.maxRetries,minContextSlot:u.minContextSlot},d=await a.sendTransaction(r,c,l),y=r.recentBlockhash!=null&&r.lastValidBlockHeight!=null?(await a.confirmTransaction({signature:d,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},u&&u.commitment)).value:(await a.confirmTransaction(d,u&&u.commitment)).value;if(y.err)throw new Error(`Transaction ${d} failed (${JSON.stringify(y)})`);return d}function sleep(a){return new Promise(r=>setTimeout(r,a))}function encodeData(a,r){const c=a.layout.span>=0?a.layout.span:getAlloc(a,r),u=buffer$1.Buffer.alloc(c),l=Object.assign({instruction:a.index},r);return a.layout.encode(l,u),u}function decodeData$1(a,r){let c;try{c=a.layout.decode(r)}catch(u){throw new Error("invalid instruction; "+u)}if(c.instruction!==a.index)throw new Error(`invalid instruction; instruction index mismatch ${c.instruction} != ${a.index}`);return c}const FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct$1([u32$1("version"),u32$1("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct$1([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(r){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=r.authorizedPubkey,this.nonce=r.nonce,this.feeCalculator=r.feeCalculator}static fromAccountData(r){const c=NonceAccountLayout.decode(toBuffer(r),0);return new NonceAccount({authorizedPubkey:new PublicKey(c.authorizedPubkey),nonce:new PublicKey(c.nonce).toString(),feeCalculator:c.feeCalculator})}}const encodeDecode=a=>{const r=a.decode.bind(a),c=a.encode.bind(a);return{decode:r,encode:c}},bigInt=a=>r=>{const c=blob$1(a,r),{encode:u,decode:l}=encodeDecode(c),d=c;return d.decode=(y,m)=>{const wr=l(y,m);return toBigIntLE_1(buffer$1.Buffer.from(wr))},d.encode=(y,m,wr)=>{const Sr=toBufferLE_1(y,a);return u(Sr,m,wr)},d},u64$1=bigInt(8);class SystemInstruction{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const u=u32$1("instruction").decode(r.data);let l;for(const[d,y]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(y.index==u){l=d;break}if(!l)throw new Error("Instruction type incorrect; not a SystemInstruction");return l}static decodeCreateAccount(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{lamports:c,space:u,programId:l}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Create,r.data);return{fromPubkey:r.keys[0].pubkey,newAccountPubkey:r.keys[1].pubkey,lamports:c,space:u,programId:new PublicKey(l)}}static decodeTransfer(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{lamports:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,r.data);return{fromPubkey:r.keys[0].pubkey,toPubkey:r.keys[1].pubkey,lamports:c}}static decodeTransferWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{lamports:c,seed:u,programId:l}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,r.data);return{fromPubkey:r.keys[0].pubkey,basePubkey:r.keys[1].pubkey,toPubkey:r.keys[2].pubkey,lamports:c,seed:u,programId:new PublicKey(l)}}static decodeAllocate(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,1);const{space:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,r.data);return{accountPubkey:r.keys[0].pubkey,space:c}}static decodeAllocateWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,1);const{base:c,seed:u,space:l,programId:d}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,r.data);return{accountPubkey:r.keys[0].pubkey,basePubkey:new PublicKey(c),seed:u,space:l,programId:new PublicKey(d)}}static decodeAssign(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,1);const{programId:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Assign,r.data);return{accountPubkey:r.keys[0].pubkey,programId:new PublicKey(c)}}static decodeAssignWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,1);const{base:c,seed:u,programId:l}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,r.data);return{accountPubkey:r.keys[0].pubkey,basePubkey:new PublicKey(c),seed:u,programId:new PublicKey(l)}}static decodeCreateWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{base:c,seed:u,lamports:l,space:d,programId:y}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,r.data);return{fromPubkey:r.keys[0].pubkey,newAccountPubkey:r.keys[1].pubkey,basePubkey:new PublicKey(c),seed:u,lamports:l,space:d,programId:new PublicKey(y)}}static decodeNonceInitialize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{authorized:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,r.data);return{noncePubkey:r.keys[0].pubkey,authorizedPubkey:new PublicKey(c)}}static decodeNonceAdvance(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,r.data),{noncePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[2].pubkey}}static decodeNonceWithdraw(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,5);const{lamports:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,r.data);return{noncePubkey:r.keys[0].pubkey,toPubkey:r.keys[1].pubkey,authorizedPubkey:r.keys[4].pubkey,lamports:c}}static decodeNonceAuthorize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{authorized:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,r.data);return{noncePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(c)}}static checkProgramId(r){if(!r.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(r,c){if(r.length<c)throw new Error(`invalid instruction; found ${r.length} keys, expected at least ${c}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$1([u32$1("instruction"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},Assign:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:struct$1([u32$1("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:struct$1([u32$1("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$1([u32$1("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:struct$1([u32$1("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:struct$1([u32$1("instruction"),u64$1("lamports"),rustString("seed"),publicKey$1("programId")])},UpgradeNonceAccount:{index:12,layout:struct$1([u32$1("instruction")])}});class SystemProgram{constructor(){}static createAccount(r){const c=SYSTEM_INSTRUCTION_LAYOUTS.Create,u=encodeData(c,{lamports:r.lamports,space:r.space,programId:toBuffer(r.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:r.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:r.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:u})}static transfer(r){let c,u;if("basePubkey"in r){const l=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;c=encodeData(l,{lamports:BigInt(r.lamports),seed:r.seed,programId:toBuffer(r.programId.toBuffer())}),u=[{pubkey:r.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:r.basePubkey,isSigner:!0,isWritable:!1},{pubkey:r.toPubkey,isSigner:!1,isWritable:!0}]}else{const l=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;c=encodeData(l,{lamports:BigInt(r.lamports)}),u=[{pubkey:r.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:r.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:u,programId:this.programId,data:c})}static assign(r){let c,u;if("basePubkey"in r){const l=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;c=encodeData(l,{base:toBuffer(r.basePubkey.toBuffer()),seed:r.seed,programId:toBuffer(r.programId.toBuffer())}),u=[{pubkey:r.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:r.basePubkey,isSigner:!0,isWritable:!1}]}else{const l=SYSTEM_INSTRUCTION_LAYOUTS.Assign;c=encodeData(l,{programId:toBuffer(r.programId.toBuffer())}),u=[{pubkey:r.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:u,programId:this.programId,data:c})}static createAccountWithSeed(r){const c=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,u=encodeData(c,{base:toBuffer(r.basePubkey.toBuffer()),seed:r.seed,lamports:r.lamports,space:r.space,programId:toBuffer(r.programId.toBuffer())});let l=[{pubkey:r.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:r.newAccountPubkey,isSigner:!1,isWritable:!0}];return r.basePubkey!=r.fromPubkey&&l.push({pubkey:r.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:l,programId:this.programId,data:u})}static createNonceAccount(r){const c=new Transaction;"basePubkey"in r&&"seed"in r?c.add(SystemProgram.createAccountWithSeed({fromPubkey:r.fromPubkey,newAccountPubkey:r.noncePubkey,basePubkey:r.basePubkey,seed:r.seed,lamports:r.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):c.add(SystemProgram.createAccount({fromPubkey:r.fromPubkey,newAccountPubkey:r.noncePubkey,lamports:r.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const u={noncePubkey:r.noncePubkey,authorizedPubkey:r.authorizedPubkey};return c.add(this.nonceInitialize(u)),c}static nonceInitialize(r){const c=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,u=encodeData(c,{authorized:toBuffer(r.authorizedPubkey.toBuffer())}),l={keys:[{pubkey:r.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new TransactionInstruction(l)}static nonceAdvance(r){const c=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,u=encodeData(c),l={keys:[{pubkey:r.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:u};return new TransactionInstruction(l)}static nonceWithdraw(r){const c=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,u=encodeData(c,{lamports:r.lamports});return new TransactionInstruction({keys:[{pubkey:r.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:r.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static nonceAuthorize(r){const c=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,u=encodeData(c,{authorized:toBuffer(r.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:r.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:r.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static allocate(r){let c,u;if("basePubkey"in r){const l=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;c=encodeData(l,{base:toBuffer(r.basePubkey.toBuffer()),seed:r.seed,space:r.space,programId:toBuffer(r.programId.toBuffer())}),u=[{pubkey:r.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:r.basePubkey,isSigner:!0,isWritable:!1}]}else{const l=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;c=encodeData(l,{space:r.space}),u=[{pubkey:r.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:u,programId:this.programId,data:c})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(r){return 2*(Math.ceil(r/Loader.chunkSize)+1+1)}static async load(r,c,u,l,d){{const Ir=await r.getMinimumBalanceForRentExemption(d.length),$r=await r.getAccountInfo(u.publicKey,"confirmed");let kr=null;if($r!==null){if($r.executable)return console.error("Program load failed, account is already executable"),!1;$r.data.length!==d.length&&(kr=kr||new Transaction,kr.add(SystemProgram.allocate({accountPubkey:u.publicKey,space:d.length}))),$r.owner.equals(l)||(kr=kr||new Transaction,kr.add(SystemProgram.assign({accountPubkey:u.publicKey,programId:l}))),$r.lamports<Ir&&(kr=kr||new Transaction,kr.add(SystemProgram.transfer({fromPubkey:c.publicKey,toPubkey:u.publicKey,lamports:Ir-$r.lamports})))}else kr=new Transaction().add(SystemProgram.createAccount({fromPubkey:c.publicKey,newAccountPubkey:u.publicKey,lamports:Ir>0?Ir:1,space:d.length,programId:l}));kr!==null&&await sendAndConfirmTransaction$2(r,kr,[c,u],{commitment:"confirmed"})}const y=struct$1([u32$1("instruction"),u32$1("offset"),u32$1("bytesLength"),u32$1("bytesLengthPadding"),seq(u8$1("byte"),offset(u32$1(),-8),"bytes")]),m=Loader.chunkSize;let wr=0,Sr=d,Ar=[];for(;Sr.length>0;){const Ir=Sr.slice(0,m),$r=buffer$1.Buffer.alloc(m+16);y.encode({instruction:0,offset:wr,bytes:Ir,bytesLength:0,bytesLengthPadding:0},$r);const kr=new Transaction().add({keys:[{pubkey:u.publicKey,isSigner:!0,isWritable:!0}],programId:l,data:$r});Ar.push(sendAndConfirmTransaction$2(r,kr,[c,u],{commitment:"confirmed"})),r._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),wr+=m,Sr=Sr.slice(m)}await Promise.all(Ar);{const Ir=struct$1([u32$1("instruction")]),$r=buffer$1.Buffer.alloc(Ir.span);Ir.encode({instruction:1},$r);const kr=new Transaction().add({keys:[{pubkey:u.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:l,data:$r});await sendAndConfirmTransaction$2(r,kr,[c,u],{commitment:"confirmed"})}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(r){return Loader.getMinNumSignatures(r)}static load(r,c,u,l,d){return Loader.load(r,c,u,d,l)}}var objToString=Object.prototype.toString,objKeys=Object.keys||function(a){var r=[];for(var c in a)r.push(c);return r};function stringify(a,r){var c,u,l,d,y,m,wr;if(a===!0)return"true";if(a===!1)return"false";switch(typeof a){case"object":if(a===null)return null;if(a.toJSON&&typeof a.toJSON=="function")return stringify(a.toJSON(),r);if(wr=objToString.call(a),wr==="[object Array]"){for(l="[",u=a.length-1,c=0;c<u;c++)l+=stringify(a[c],!0)+",";return u>-1&&(l+=stringify(a[c],!0)),l+"]"}else if(wr==="[object Object]"){for(d=objKeys(a).sort(),u=d.length,l="",c=0;c<u;)y=d[c],m=stringify(a[y],!1),m!==void 0&&(l&&(l+=","),l+=JSON.stringify(y)+":"+m),c++;return"{"+l+"}"}else return JSON.stringify(a);case"function":case"undefined":return r?null:void 0;case"string":return JSON.stringify(a);default:return isFinite(a)?a:null}}var fastStableStringify=function(a){var r=stringify(a,!1);if(r!==void 0)return""+r},fastStableStringify$1=fastStableStringify;const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(a){let r=0;for(;a>1;)a/=2,r++;return r}function nextPowerOfTwo(a){return a===0?1:(a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,a|=a>>32,a+1)}class EpochSchedule{constructor(r,c,u,l,d){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=r,this.leaderScheduleSlotOffset=c,this.warmup=u,this.firstNormalEpoch=l,this.firstNormalSlot=d}getEpoch(r){return this.getEpochAndSlotIndex(r)[0]}getEpochAndSlotIndex(r){if(r<this.firstNormalSlot){const c=trailingZeros(nextPowerOfTwo(r+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,u=this.getSlotsInEpoch(c),l=r-(u-MINIMUM_SLOT_PER_EPOCH);return[c,l]}else{const c=r-this.firstNormalSlot,u=Math.floor(c/this.slotsPerEpoch),l=this.firstNormalEpoch+u,d=c%this.slotsPerEpoch;return[l,d]}}getFirstSlotInEpoch(r){return r<=this.firstNormalEpoch?(Math.pow(2,r)-1)*MINIMUM_SLOT_PER_EPOCH:(r-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(r){return this.getFirstSlotInEpoch(r)+this.getSlotsInEpoch(r)-1}getSlotsInEpoch(r){return r<this.firstNormalEpoch?Math.pow(2,r+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(r,c){super(r),this.logs=void 0,this.logs=c}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:r,message:c,data:u},l){super(l!=null?`${l}: ${c}`:c),this.code=void 0,this.data=void 0,this.code=r,this.data=u,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;function decodeData(a,r){let c;try{c=a.layout.decode(r)}catch(u){throw new Error("invalid instruction; "+u)}if(c.typeIndex!==a.index)throw new Error(`invalid account data; account type mismatch ${c.typeIndex} != ${a.index}`);return c}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(r){this.key=void 0,this.state=void 0,this.key=r.key,this.state=r.state}isActive(){const r=18446744073709551615n;return this.state.deactivationSlot===r}static deserialize(r){const c=decodeData(LookupTableMetaLayout,r),u=r.length-LOOKUP_TABLE_META_SIZE;assert$2(u>=0,"lookup table is invalid"),assert$2(u%32===0,"lookup table is invalid");const l=u/32,{addresses:d}=struct$1([seq(publicKey$1(),l,"addresses")]).decode(r.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:c.deactivationSlot,lastExtendedSlot:c.lastExtendedSlot,lastExtendedSlotStartIndex:c.lastExtendedStartIndex,authority:c.authority.length!==0?new PublicKey(c.authority[0]):void 0,addresses:d.map(y=>new PublicKey(y))}}}const LookupTableMetaLayout={index:1,layout:struct$1([u32$1("typeIndex"),u64$1("deactivationSlot"),nu64("lastExtendedSlot"),u8$1("lastExtendedStartIndex"),u8$1(),seq(publicKey$1(),offset(u8$1(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(a){const r=a.match(URL_RE);if(r==null)throw TypeError(`Failed to validate endpoint URL \`${a}\``);const[c,u,l,d]=r,y=a.startsWith("https:")?"wss:":"ws:",m=l==null?null:parseInt(l.slice(1),10),wr=m==null?"":`:${m+1}`;return`${y}//${u}${wr}${d}`}var _process$env$npm_pack;const PublicKeyFromString=coerce(instance(PublicKey),string(),a=>new PublicKey(a)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(buffer$1.Buffer),RawAccountDataResult,a=>buffer$1.Buffer.from(a[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(a){if(/^https?:/.test(a)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return a}function extractCommitmentFromConfig(a){let r,c;if(typeof a=="string")r=a;else if(a){const{commitment:u,...l}=a;r=u,c=l}return{commitment:r,config:c}}function createRpcResult(a){return union([type({jsonrpc:literal("2.0"),id:string(),result:a}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(a){return coerce(createRpcResult(a),UnknownRpcResult,r=>"error"in r?r:{...r,result:create(r.result,a)})}function jsonRpcResultAndContext(a){return jsonRpcResult(type({context:type({slot:number()}),value:a}))}function notificationResultAndContext(a){return type({context:type({slot:number()}),value:a})}function versionedMessageFromResponse(a,r){return a===0?new MessageV0({header:r.header,staticAccountKeys:r.accountKeys.map(c=>new PublicKey(c)),recentBlockhash:r.recentBlockhash,compiledInstructions:r.instructions.map(c=>({programIdIndex:c.programIdIndex,accountKeyIndexes:c.accounts,data:bs58.decode(c.data)})),addressTableLookups:r.addressTableLookups}):new Message(r)}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number()})))),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));function createRpcClient(a,r,c,u,l){const d=c||fetchImpl;let y;return u&&(y=async(wr,Sr)=>{const Ar=await new Promise((Ir,$r)=>{try{u(wr,Sr,(kr,Dr)=>Ir([kr,Dr]))}catch(kr){$r(kr)}});return await d(...Ar)}),new browser$1(async(wr,Sr)=>{const Ir={method:"POST",body:wr,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{},COMMON_HTTP_HEADERS)};try{let $r=5,kr,Dr=500;for(;y?kr=await y(a,Ir):kr=await d(a,Ir),!(kr.status!==429||l===!0||($r-=1,$r===0));)console.log(`Server responded with ${kr.status} ${kr.statusText}.  Retrying after ${Dr}ms delay...`),await sleep(Dr),Dr*=2;const Cr=await kr.text();kr.ok?Sr(null,Cr):Sr(new Error(`${kr.status} ${kr.statusText}: ${Cr}`))}catch($r){$r instanceof Error&&Sr($r)}finally{}},{})}function createRpcRequest(a){return(r,c)=>new Promise((u,l)=>{a.request(r,c,(d,y)=>{if(d){l(d);return}u(y)})})}function createRpcBatchRequest(a){return r=>new Promise((c,u)=>{r.length===0&&c([]);const l=r.map(d=>a.request(d.methodName,d.args));a.request(l,(d,y)=>{if(d){u(d);return}c(y)})})}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)})),TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})}))),ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union([instance(buffer$1.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),a=>Array.isArray(a)?create(a,BufferFromRawAccountData):a),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult}),SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)})),ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number()),AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,a=>"accounts"in a?create(a,RawInstructionResult):create(a,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))})),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),GetBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number())}))),GetBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()})),PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult(string()),SendTransactionRpcResult=jsonRpcResult(string()),LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number()}),COMMON_HTTP_HEADERS={"solana-client":`js/${(_process$env$npm_pack="0.0.0-development")!==null&&_process$env$npm_pack!==void 0?_process$env$npm_pack:"UNKNOWN"}`};class Connection{constructor(r,c){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let u,l,d,y,m;c&&typeof c=="string"?this._commitment=c:c&&(this._commitment=c.commitment,this._confirmTransactionInitialTimeout=c.confirmTransactionInitialTimeout,u=c.wsEndpoint,l=c.httpHeaders,d=c.fetch,y=c.fetchMiddleware,m=c.disableRetryOnRateLimit),this._rpcEndpoint=assertEndpointUrl(r),this._rpcWsEndpoint=u||makeWebsocketUrl(r),this._rpcClient=createRpcClient(r,l,d,y,m),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new Client_1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=this._buildArgs([r.toBase58()],u,void 0,l),y=await this._rpcRequest("getBalance",d),m=create(y,jsonRpcResultAndContext(number()));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get balance for ${r.toBase58()}`);return m.result}async getBalance(r,c){return await this.getBalanceAndContext(r,c).then(u=>u.value).catch(u=>{throw new Error("failed to get balance of account "+r.toBase58()+": "+u)})}async getBlockTime(r){const c=await this._rpcRequest("getBlockTime",[r]),u=create(c,jsonRpcResult(nullable(number())));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get block time for slot ${r}`);return u.result}async getMinimumLedgerSlot(){const r=await this._rpcRequest("minimumLedgerSlot",[]),c=create(r,jsonRpcResult(number()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get minimum ledger slot");return c.result}async getFirstAvailableBlock(){const r=await this._rpcRequest("getFirstAvailableBlock",[]),c=create(r,SlotRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get first available block");return c.result}async getSupply(r){let c={};typeof r=="string"?c={commitment:r}:r?c={...r,commitment:r&&r.commitment||this.commitment}:c={commitment:this.commitment};const u=await this._rpcRequest("getSupply",[c]),l=create(u,GetSupplyRpcResult);if("error"in l)throw new SolanaJSONRPCError(l.error,"failed to get supply");return l.result}async getTokenSupply(r,c){const u=this._buildArgs([r.toBase58()],c),l=await this._rpcRequest("getTokenSupply",u),d=create(l,jsonRpcResultAndContext(TokenAmountResult));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get token supply");return d.result}async getTokenAccountBalance(r,c){const u=this._buildArgs([r.toBase58()],c),l=await this._rpcRequest("getTokenAccountBalance",u),d=create(l,jsonRpcResultAndContext(TokenAmountResult));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get token account balance");return d.result}async getTokenAccountsByOwner(r,c,u){const{commitment:l,config:d}=extractCommitmentFromConfig(u);let y=[r.toBase58()];"mint"in c?y.push({mint:c.mint.toBase58()}):y.push({programId:c.programId.toBase58()});const m=this._buildArgs(y,l,"base64",d),wr=await this._rpcRequest("getTokenAccountsByOwner",m),Sr=create(wr,GetTokenAccountsByOwner);if("error"in Sr)throw new SolanaJSONRPCError(Sr.error,`failed to get token accounts owned by account ${r.toBase58()}`);return Sr.result}async getParsedTokenAccountsByOwner(r,c,u){let l=[r.toBase58()];"mint"in c?l.push({mint:c.mint.toBase58()}):l.push({programId:c.programId.toBase58()});const d=this._buildArgs(l,u,"jsonParsed"),y=await this._rpcRequest("getTokenAccountsByOwner",d),m=create(y,GetParsedTokenAccountsByOwner);if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get token accounts owned by account ${r.toBase58()}`);return m.result}async getLargestAccounts(r){const c={...r,commitment:r&&r.commitment||this.commitment},u=c.filter||c.commitment?[c]:[],l=await this._rpcRequest("getLargestAccounts",u),d=create(l,GetLargestAccountsRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get largest accounts");return d.result}async getTokenLargestAccounts(r,c){const u=this._buildArgs([r.toBase58()],c),l=await this._rpcRequest("getTokenLargestAccounts",u),d=create(l,GetTokenLargestAccountsResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get token largest accounts");return d.result}async getAccountInfoAndContext(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=this._buildArgs([r.toBase58()],u,"base64",l),y=await this._rpcRequest("getAccountInfo",d),m=create(y,jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get info about account ${r.toBase58()}`);return m.result}async getParsedAccountInfo(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=this._buildArgs([r.toBase58()],u,"jsonParsed",l),y=await this._rpcRequest("getAccountInfo",d),m=create(y,jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get info about account ${r.toBase58()}`);return m.result}async getAccountInfo(r,c){try{return(await this.getAccountInfoAndContext(r,c)).value}catch(u){throw new Error("failed to get info about account "+r.toBase58()+": "+u)}}async getMultipleAccountsInfoAndContext(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=r.map(Sr=>Sr.toBase58()),y=this._buildArgs([d],u,"base64",l),m=await this._rpcRequest("getMultipleAccounts",y),wr=create(m,jsonRpcResultAndContext(array(nullable(AccountInfoResult))));if("error"in wr)throw new SolanaJSONRPCError(wr.error,`failed to get info for accounts ${d}`);return wr.result}async getMultipleAccountsInfo(r,c){return(await this.getMultipleAccountsInfoAndContext(r,c)).value}async getStakeActivation(r,c,u){const{commitment:l,config:d}=extractCommitmentFromConfig(c),y=this._buildArgs([r.toBase58()],l,void 0,{...d,epoch:u??d?.epoch}),m=await this._rpcRequest("getStakeActivation",y),wr=create(m,jsonRpcResult(StakeActivationResult));if("error"in wr)throw new SolanaJSONRPCError(wr.error,`failed to get Stake Activation ${r.toBase58()}`);return wr.result}async getProgramAccounts(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),{encoding:d,...y}=l||{},m=this._buildArgs([r.toBase58()],u,d||"base64",y),wr=await this._rpcRequest("getProgramAccounts",m),Sr=create(wr,jsonRpcResult(array(KeyedAccountInfoResult)));if("error"in Sr)throw new SolanaJSONRPCError(Sr.error,`failed to get accounts owned by program ${r.toBase58()}`);return Sr.result}async getParsedProgramAccounts(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=this._buildArgs([r.toBase58()],u,"jsonParsed",l),y=await this._rpcRequest("getProgramAccounts",d),m=create(y,jsonRpcResult(array(KeyedParsedAccountInfoResult)));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get accounts owned by program ${r.toBase58()}`);return m.result}async confirmTransaction(r,c){let u;typeof r=="string"?u=r:u=r.signature;let l;try{l=bs58.decode(u)}catch{throw new Error("signature must be base58 encoded: "+u)}assert$2(l.length===64,"signature has invalid length");const d=c||this.commitment;let y,m,wr=!1;const Sr=new Promise(($r,kr)=>{try{m=this.onSignature(u,(Dr,Cr)=>{m=void 0;const Br={context:Cr,value:Dr};wr=!0,$r({__type:TransactionStatus.PROCESSED,response:Br})},d)}catch(Dr){kr(Dr)}}),Ar=new Promise($r=>{if(typeof r=="string"){let kr=this._confirmTransactionInitialTimeout||6e4;switch(d){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{kr=this._confirmTransactionInitialTimeout||30*1e3;break}}y=setTimeout(()=>$r({__type:TransactionStatus.TIMED_OUT,timeoutMs:kr}),kr)}else{let kr=r;const Dr=async()=>{try{return await this.getBlockHeight(c)}catch{return-1}};(async()=>{let Cr=await Dr();if(!wr){for(;Cr<=kr.lastValidBlockHeight;)if(await sleep(1e3),wr||(Cr=await Dr(),wr))return;$r({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}});let Ir;try{const $r=await Promise.race([Sr,Ar]);switch($r.__type){case TransactionStatus.BLOCKHEIGHT_EXCEEDED:throw new TransactionExpiredBlockheightExceededError(u);case TransactionStatus.PROCESSED:Ir=$r.response;break;case TransactionStatus.TIMED_OUT:throw new TransactionExpiredTimeoutError(u,$r.timeoutMs/1e3)}}finally{clearTimeout(y),m&&this.removeSignatureListener(m)}return Ir}async getClusterNodes(){const r=await this._rpcRequest("getClusterNodes",[]),c=create(r,jsonRpcResult(array(ContactInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get cluster nodes");return c.result}async getVoteAccounts(r){const c=this._buildArgs([],r),u=await this._rpcRequest("getVoteAccounts",c),l=create(u,GetVoteAccounts);if("error"in l)throw new SolanaJSONRPCError(l.error,"failed to get vote accounts");return l.result}async getSlot(r){const{commitment:c,config:u}=extractCommitmentFromConfig(r),l=this._buildArgs([],c,void 0,u),d=await this._rpcRequest("getSlot",l),y=create(d,jsonRpcResult(number()));if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get slot");return y.result}async getSlotLeader(r){const{commitment:c,config:u}=extractCommitmentFromConfig(r),l=this._buildArgs([],c,void 0,u),d=await this._rpcRequest("getSlotLeader",l),y=create(d,jsonRpcResult(string()));if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get slot leader");return y.result}async getSlotLeaders(r,c){const u=[r,c],l=await this._rpcRequest("getSlotLeaders",u),d=create(l,jsonRpcResult(array(PublicKeyFromString)));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get slot leaders");return d.result}async getSignatureStatus(r,c){const{context:u,value:l}=await this.getSignatureStatuses([r],c);assert$2(l.length===1);const d=l[0];return{context:u,value:d}}async getSignatureStatuses(r,c){const u=[r];c&&u.push(c);const l=await this._rpcRequest("getSignatureStatuses",u),d=create(l,GetSignatureStatusesRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get signature status");return d.result}async getTransactionCount(r){const{commitment:c,config:u}=extractCommitmentFromConfig(r),l=this._buildArgs([],c,void 0,u),d=await this._rpcRequest("getTransactionCount",l),y=create(d,jsonRpcResult(number()));if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get transaction count");return y.result}async getTotalSupply(r){return(await this.getSupply({commitment:r,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(r){const c=this._buildArgs([],r),u=await this._rpcRequest("getInflationGovernor",c),l=create(u,GetInflationGovernorRpcResult);if("error"in l)throw new SolanaJSONRPCError(l.error,"failed to get inflation");return l.result}async getInflationReward(r,c,u){const{commitment:l,config:d}=extractCommitmentFromConfig(u),y=this._buildArgs([r.map(Sr=>Sr.toBase58())],l,void 0,{...d,epoch:c??d?.epoch}),m=await this._rpcRequest("getInflationReward",y),wr=create(m,GetInflationRewardResult);if("error"in wr)throw new SolanaJSONRPCError(wr.error,"failed to get inflation reward");return wr.result}async getEpochInfo(r){const{commitment:c,config:u}=extractCommitmentFromConfig(r),l=this._buildArgs([],c,void 0,u),d=await this._rpcRequest("getEpochInfo",l),y=create(d,GetEpochInfoRpcResult);if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get epoch info");return y.result}async getEpochSchedule(){const r=await this._rpcRequest("getEpochSchedule",[]),c=create(r,GetEpochScheduleRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get epoch schedule");const u=c.result;return new EpochSchedule(u.slotsPerEpoch,u.leaderScheduleSlotOffset,u.warmup,u.firstNormalEpoch,u.firstNormalSlot)}async getLeaderSchedule(){const r=await this._rpcRequest("getLeaderSchedule",[]),c=create(r,GetLeaderScheduleRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get leader schedule");return c.result}async getMinimumBalanceForRentExemption(r,c){const u=this._buildArgs([r],c),l=await this._rpcRequest("getMinimumBalanceForRentExemption",u),d=create(l,GetMinimumBalanceForRentExemptionRpcResult);return"error"in d?(console.warn("Unable to fetch minimum balance for rent exemption"),0):d.result}async getRecentBlockhashAndContext(r){const c=this._buildArgs([],r),u=await this._rpcRequest("getRecentBlockhash",c),l=create(u,GetRecentBlockhashAndContextRpcResult);if("error"in l)throw new SolanaJSONRPCError(l.error,"failed to get recent blockhash");return l.result}async getRecentPerformanceSamples(r){const c=await this._rpcRequest("getRecentPerformanceSamples",r?[r]:[]),u=create(c,GetRecentPerformanceSamplesRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get recent performance samples");return u.result}async getFeeCalculatorForBlockhash(r,c){const u=this._buildArgs([r],c),l=await this._rpcRequest("getFeeCalculatorForBlockhash",u),d=create(l,GetFeeCalculatorRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get fee calculator");const{context:y,value:m}=d.result;return{context:y,value:m!==null?m.feeCalculator:null}}async getFeeForMessage(r,c){const u=r.serialize().toString("base64"),l=this._buildArgs([u],c),d=await this._rpcRequest("getFeeForMessage",l),y=create(d,jsonRpcResultAndContext(nullable(number())));if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get slot");if(y.result===null)throw new Error("invalid blockhash");return y.result}async getRecentBlockhash(r){try{return(await this.getRecentBlockhashAndContext(r)).value}catch(c){throw new Error("failed to get recent blockhash: "+c)}}async getLatestBlockhash(r){try{return(await this.getLatestBlockhashAndContext(r)).value}catch(c){throw new Error("failed to get recent blockhash: "+c)}}async getLatestBlockhashAndContext(r){const{commitment:c,config:u}=extractCommitmentFromConfig(r),l=this._buildArgs([],c,void 0,u),d=await this._rpcRequest("getLatestBlockhash",l),y=create(d,GetLatestBlockhashRpcResult);if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get latest blockhash");return y.result}async getVersion(){const r=await this._rpcRequest("getVersion",[]),c=create(r,jsonRpcResult(VersionResult));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get version");return c.result}async getGenesisHash(){const r=await this._rpcRequest("getGenesisHash",[]),c=create(r,jsonRpcResult(string()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get genesis hash");return c.result}async getBlock(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=this._buildArgsAtLeastConfirmed([r],u,void 0,l),y=await this._rpcRequest("getBlock",d),m=create(y,GetBlockRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get confirmed block");const wr=m.result;return wr&&{...wr,transactions:wr.transactions.map(({transaction:Sr,meta:Ar,version:Ir})=>({meta:Ar,transaction:{...Sr,message:versionedMessageFromResponse(Ir,Sr.message)},version:Ir}))}}async getBlockHeight(r){const{commitment:c,config:u}=extractCommitmentFromConfig(r),l=this._buildArgs([],c,void 0,u),d=await this._rpcRequest("getBlockHeight",l),y=create(d,jsonRpcResult(number()));if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get block height information");return y.result}async getBlockProduction(r){let c,u;if(typeof r=="string")u=r;else if(r){const{commitment:m,...wr}=r;u=m,c=wr}const l=this._buildArgs([],u,"base64",c),d=await this._rpcRequest("getBlockProduction",l),y=create(d,BlockProductionResponseStruct);if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get block production information");return y.result}async getTransaction(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=this._buildArgsAtLeastConfirmed([r],u,void 0,l),y=await this._rpcRequest("getTransaction",d),m=create(y,GetTransactionRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get transaction");const wr=m.result;return wr&&{...wr,transaction:{...wr.transaction,message:versionedMessageFromResponse(wr.version,wr.transaction.message)}}}async getParsedTransaction(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=this._buildArgsAtLeastConfirmed([r],u,"jsonParsed",l),y=await this._rpcRequest("getTransaction",d),m=create(y,GetParsedTransactionRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get transaction");return m.result}async getParsedTransactions(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=r.map(wr=>{const Sr=this._buildArgsAtLeastConfirmed([wr],u,"jsonParsed",l);return{methodName:"getTransaction",args:Sr}});return(await this._rpcBatchRequest(d)).map(wr=>{const Sr=create(wr,GetParsedTransactionRpcResult);if("error"in Sr)throw new SolanaJSONRPCError(Sr.error,"failed to get transactions");return Sr.result})}async getTransactions(r,c){const{commitment:u,config:l}=extractCommitmentFromConfig(c),d=r.map(wr=>{const Sr=this._buildArgsAtLeastConfirmed([wr],u,void 0,l);return{methodName:"getTransaction",args:Sr}});return(await this._rpcBatchRequest(d)).map(wr=>{const Sr=create(wr,GetTransactionRpcResult);if("error"in Sr)throw new SolanaJSONRPCError(Sr.error,"failed to get transactions");const Ar=Sr.result;return Ar&&{...Ar,transaction:{...Ar.transaction,message:versionedMessageFromResponse(Ar.version,Ar.transaction.message)}}})}async getConfirmedBlock(r,c){const u=this._buildArgsAtLeastConfirmed([r],c),l=await this._rpcRequest("getConfirmedBlock",u),d=create(l,GetConfirmedBlockRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get confirmed block");const y=d.result;if(!y)throw new Error("Confirmed block "+r+" not found");const m={...y,transactions:y.transactions.map(({transaction:wr,meta:Sr})=>{const Ar=new Message(wr.message);return{meta:Sr,transaction:{...wr,message:Ar}}})};return{...m,transactions:m.transactions.map(({transaction:wr,meta:Sr})=>({meta:Sr,transaction:Transaction.populate(wr.message,wr.signatures)}))}}async getBlocks(r,c,u){const l=this._buildArgsAtLeastConfirmed(c!==void 0?[r,c]:[r],u),d=await this._rpcRequest("getBlocks",l),y=create(d,jsonRpcResult(array(number())));if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get blocks");return y.result}async getBlockSignatures(r,c){const u=this._buildArgsAtLeastConfirmed([r],c,void 0,{transactionDetails:"signatures",rewards:!1}),l=await this._rpcRequest("getBlock",u),d=create(l,GetBlockSignaturesRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get block");const y=d.result;if(!y)throw new Error("Block "+r+" not found");return y}async getConfirmedBlockSignatures(r,c){const u=this._buildArgsAtLeastConfirmed([r],c,void 0,{transactionDetails:"signatures",rewards:!1}),l=await this._rpcRequest("getConfirmedBlock",u),d=create(l,GetBlockSignaturesRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get confirmed block");const y=d.result;if(!y)throw new Error("Confirmed block "+r+" not found");return y}async getConfirmedTransaction(r,c){const u=this._buildArgsAtLeastConfirmed([r],c),l=await this._rpcRequest("getConfirmedTransaction",u),d=create(l,GetTransactionRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get transaction");const y=d.result;if(!y)return y;const m=new Message(y.transaction.message),wr=y.transaction.signatures;return{...y,transaction:Transaction.populate(m,wr)}}async getParsedConfirmedTransaction(r,c){const u=this._buildArgsAtLeastConfirmed([r],c,"jsonParsed"),l=await this._rpcRequest("getConfirmedTransaction",u),d=create(l,GetParsedTransactionRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get confirmed transaction");return d.result}async getParsedConfirmedTransactions(r,c){const u=r.map(y=>{const m=this._buildArgsAtLeastConfirmed([y],c,"jsonParsed");return{methodName:"getConfirmedTransaction",args:m}});return(await this._rpcBatchRequest(u)).map(y=>{const m=create(y,GetParsedTransactionRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get confirmed transactions");return m.result})}async getConfirmedSignaturesForAddress(r,c,u){let l={},d=await this.getFirstAvailableBlock();for(;!("until"in l)&&(c--,!(c<=0||c<d));)try{const wr=await this.getConfirmedBlockSignatures(c,"finalized");wr.signatures.length>0&&(l.until=wr.signatures[wr.signatures.length-1].toString())}catch(wr){if(wr instanceof Error&&wr.message.includes("skipped"))continue;throw wr}let y=await this.getSlot("finalized");for(;!("before"in l)&&(u++,!(u>y));)try{const wr=await this.getConfirmedBlockSignatures(u);wr.signatures.length>0&&(l.before=wr.signatures[wr.signatures.length-1].toString())}catch(wr){if(wr instanceof Error&&wr.message.includes("skipped"))continue;throw wr}return(await this.getConfirmedSignaturesForAddress2(r,l)).map(wr=>wr.signature)}async getConfirmedSignaturesForAddress2(r,c,u){const l=this._buildArgsAtLeastConfirmed([r.toBase58()],u,void 0,c),d=await this._rpcRequest("getConfirmedSignaturesForAddress2",l),y=create(d,GetConfirmedSignaturesForAddress2RpcResult);if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get confirmed signatures for address");return y.result}async getSignaturesForAddress(r,c,u){const l=this._buildArgsAtLeastConfirmed([r.toBase58()],u,void 0,c),d=await this._rpcRequest("getSignaturesForAddress",l),y=create(d,GetSignaturesForAddressRpcResult);if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get signatures for address");return y.result}async getAddressLookupTable(r,c){const{context:u,value:l}=await this.getAccountInfoAndContext(r,c);let d=null;return l!==null&&(d=new AddressLookupTableAccount({key:r,state:AddressLookupTableAccount.deserialize(l.data)})),{context:u,value:d}}async getNonceAndContext(r,c){const{context:u,value:l}=await this.getAccountInfoAndContext(r,c);let d=null;return l!==null&&(d=NonceAccount.fromAccountData(l.data)),{context:u,value:d}}async getNonce(r,c){return await this.getNonceAndContext(r,c).then(u=>u.value).catch(u=>{throw new Error("failed to get nonce for account "+r.toBase58()+": "+u)})}async requestAirdrop(r,c){const u=await this._rpcRequest("requestAirdrop",[r.toBase58(),c]),l=create(u,RequestAirdropRpcResult);if("error"in l)throw new SolanaJSONRPCError(l.error,`airdrop to ${r.toBase58()} failed`);return l.result}async _blockhashWithExpiryBlockHeight(r){if(!r){for(;this._pollingBlockhash;)await sleep(100);const u=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!u)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const r=Date.now(),c=this._blockhashInfo.latestBlockhash,u=c?c.blockhash:null;for(let l=0;l<50;l++){const d=await this.getLatestBlockhash("finalized");if(u!==d.blockhash)return this._blockhashInfo={latestBlockhash:d,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},d;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-r}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(r){const{commitment:c,config:u}=extractCommitmentFromConfig(r),l=this._buildArgs([],c,"base64",u),d=await this._rpcRequest("getStakeMinimumDelegation",l),y=create(d,jsonRpcResultAndContext(number()));if("error"in y)throw new SolanaJSONRPCError(y.error,"failed to get stake minimum delegation");return y.result}async simulateTransaction(r,c,u){if("message"in r){const Cr=r.serialize(),Br=buffer$1.Buffer.from(Cr).toString("base64");if(Array.isArray(c)||u!==void 0)throw new Error("Invalid arguments");const Fr=c||{};Fr.encoding="base64","commitment"in Fr||(Fr.commitment=this.commitment);const qr=[Br,Fr],Vr=await this._rpcRequest("simulateTransaction",qr),Jr=create(Vr,SimulatedTransactionResponseStruct);if("error"in Jr)throw new Error("failed to simulate transaction: "+Jr.error.message);return Jr.result}let l;if(r instanceof Transaction){let Dr=r;l=new Transaction,l.feePayer=Dr.feePayer,l.instructions=r.instructions,l.nonceInfo=Dr.nonceInfo,l.signatures=Dr.signatures}else l=Transaction.populate(r),l._message=l._json=void 0;if(c!==void 0&&!Array.isArray(c))throw new Error("Invalid arguments");const d=c;if(l.nonceInfo&&d)l.sign(...d);else{let Dr=this._disableBlockhashCaching;for(;;){const Cr=await this._blockhashWithExpiryBlockHeight(Dr);if(l.lastValidBlockHeight=Cr.lastValidBlockHeight,l.recentBlockhash=Cr.blockhash,!d)break;if(l.sign(...d),!l.signature)throw new Error("!signature");const Br=l.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(Br)&&!this._blockhashInfo.transactionSignatures.includes(Br)){this._blockhashInfo.simulatedSignatures.push(Br);break}else Dr=!0}}const y=l._compile(),m=y.serialize(),Sr=l._serialize(m).toString("base64"),Ar={encoding:"base64",commitment:this.commitment};if(u){const Dr=(Array.isArray(u)?u:y.nonProgramIds()).map(Cr=>Cr.toBase58());Ar.accounts={encoding:"base64",addresses:Dr}}d&&(Ar.sigVerify=!0);const Ir=[Sr,Ar],$r=await this._rpcRequest("simulateTransaction",Ir),kr=create($r,SimulatedTransactionResponseStruct);if("error"in kr){let Dr;if("data"in kr.error&&(Dr=kr.error.data.logs,Dr&&Array.isArray(Dr))){const Cr=`
    `,Br=Cr+Dr.join(Cr);console.error(kr.error.message,Br)}throw new SendTransactionError("failed to simulate transaction: "+kr.error.message,Dr)}return kr.result}async sendTransaction(r,c,u){if("version"in r){if(c&&Array.isArray(c))throw new Error("Invalid arguments");const y=r.serialize();return await this.sendRawTransaction(y,u)}if(c===void 0||!Array.isArray(c))throw new Error("Invalid arguments");const l=c;if(r.nonceInfo)r.sign(...l);else{let y=this._disableBlockhashCaching;for(;;){const m=await this._blockhashWithExpiryBlockHeight(y);if(r.lastValidBlockHeight=m.lastValidBlockHeight,r.recentBlockhash=m.blockhash,r.sign(...l),!r.signature)throw new Error("!signature");const wr=r.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(wr))y=!0;else{this._blockhashInfo.transactionSignatures.push(wr);break}}}const d=r.serialize();return await this.sendRawTransaction(d,u)}async sendRawTransaction(r,c){const u=toBuffer(r).toString("base64");return await this.sendEncodedTransaction(u,c)}async sendEncodedTransaction(r,c){const u={encoding:"base64"},l=c&&c.skipPreflight,d=c&&c.preflightCommitment||this.commitment;c&&c.maxRetries!=null&&(u.maxRetries=c.maxRetries),c&&c.minContextSlot!=null&&(u.minContextSlot=c.minContextSlot),l&&(u.skipPreflight=l),d&&(u.preflightCommitment=d);const y=[r,u],m=await this._rpcRequest("sendTransaction",y),wr=create(m,SendTransactionRpcResult);if("error"in wr){let Sr;throw"data"in wr.error&&(Sr=wr.error.data.logs),new SendTransactionError("failed to send transaction: "+wr.error.message,Sr)}return wr.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(r){this._rpcWebSocketConnected=!1,console.error("ws error:",r.message)}_wsOnClose(r){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),r===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([c,u])=>{this._subscriptionsByHash[c]={...u,state:"pending"}})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(u){u instanceof Error&&console.log(`Error when closing socket connection: ${u.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const r=this._rpcWebSocketGeneration,c=()=>r===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async u=>{const l=this._subscriptionsByHash[u];if(l!==void 0)switch(l.state){case"pending":case"unsubscribed":if(l.callbacks.size===0){delete this._subscriptionsByHash[u],l.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[l.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:d,method:y}=l;try{this._subscriptionsByHash[u]={...l,state:"subscribing"};const m=await this._rpcWebSocket.call(y,d);this._subscriptionsByHash[u]={...l,serverSubscriptionId:m,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[m]=l.callbacks,await this._updateSubscriptions()}catch(m){if(m instanceof Error&&console.error(`${y} error for argument`,d,m.message),!c())return;this._subscriptionsByHash[u]={...l,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":l.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:d,unsubscribeMethod:y}=l;if(this._subscriptionsAutoDisposedByRpc.has(d))this._subscriptionsAutoDisposedByRpc.delete(d);else{this._subscriptionsByHash[u]={...l,state:"unsubscribing"};try{await this._rpcWebSocket.call(y,[d])}catch(m){if(m instanceof Error&&console.error(`${y} error:`,m.message),!c())return;this._subscriptionsByHash[u]={...l,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[u]={...l,state:"unsubscribed"},await this._updateSubscriptions()})();break}}))}_handleServerNotification(r,c){const u=this._subscriptionCallbacksByServerSubscriptionId[r];u!==void 0&&u.forEach(l=>{try{l(...c)}catch(d){console.error(d)}})}_wsOnAccountNotification(r){const{result:c,subscription:u}=create(r,AccountNotificationResult);this._handleServerNotification(u,[c.value,c.context])}_makeSubscription(r,c){const u=this._nextClientSubscriptionId++,l=fastStableStringify$1([r.method,c]),d=this._subscriptionsByHash[l];return d===void 0?this._subscriptionsByHash[l]={...r,args:c,callbacks:new Set([r.callback]),state:"pending"}:d.callbacks.add(r.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[u]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[u];const y=this._subscriptionsByHash[l];assert$2(y!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${u}`),y.callbacks.delete(r.callback),await this._updateSubscriptions()},this._updateSubscriptions(),u}onAccountChange(r,c,u){const l=this._buildArgs([r.toBase58()],u||this._commitment||"finalized","base64");return this._makeSubscription({callback:c,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},l)}async removeAccountChangeListener(r){await this._unsubscribeClientSubscription(r,"account change")}_wsOnProgramAccountNotification(r){const{result:c,subscription:u}=create(r,ProgramAccountNotificationResult);this._handleServerNotification(u,[{accountId:c.value.pubkey,accountInfo:c.value.account},c.context])}onProgramAccountChange(r,c,u,l){const d=this._buildArgs([r.toBase58()],u||this._commitment||"finalized","base64",l?{filters:l}:void 0);return this._makeSubscription({callback:c,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},d)}async removeProgramAccountChangeListener(r){await this._unsubscribeClientSubscription(r,"program account change")}onLogs(r,c,u){const l=this._buildArgs([typeof r=="object"?{mentions:[r.toString()]}:r],u||this._commitment||"finalized");return this._makeSubscription({callback:c,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},l)}async removeOnLogsListener(r){await this._unsubscribeClientSubscription(r,"logs")}_wsOnLogsNotification(r){const{result:c,subscription:u}=create(r,LogsNotificationResult);this._handleServerNotification(u,[c.value,c.context])}_wsOnSlotNotification(r){const{result:c,subscription:u}=create(r,SlotNotificationResult);this._handleServerNotification(u,[c])}onSlotChange(r){return this._makeSubscription({callback:r,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(r){await this._unsubscribeClientSubscription(r,"slot change")}_wsOnSlotUpdatesNotification(r){const{result:c,subscription:u}=create(r,SlotUpdateNotificationResult);this._handleServerNotification(u,[c])}onSlotUpdate(r){return this._makeSubscription({callback:r,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(r){await this._unsubscribeClientSubscription(r,"slot update")}async _unsubscribeClientSubscription(r,c){const u=this._subscriptionDisposeFunctionsByClientSubscriptionId[r];u?await u():console.warn(`Ignored unsubscribe request because an active subscription with id \`${r}\` for '${c}' events could not be found.`)}_buildArgs(r,c,u,l){const d=c||this._commitment;if(d||u||l){let y={};u&&(y.encoding=u),d&&(y.commitment=d),l&&(y=Object.assign(y,l)),r.push(y)}return r}_buildArgsAtLeastConfirmed(r,c,u,l){const d=c||this._commitment;if(d&&!["confirmed","finalized"].includes(d))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(r,c,u,l)}_wsOnSignatureNotification(r){const{result:c,subscription:u}=create(r,SignatureNotificationResult);c.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(u),this._handleServerNotification(u,c.value==="receivedSignature"?[{type:"received"},c.context]:[{type:"status",result:c.value},c.context])}onSignature(r,c,u){const l=this._buildArgs([r],u||this._commitment||"finalized"),d=this._makeSubscription({callback:(y,m)=>{if(y.type==="status"){c(y.result,m);try{this.removeSignatureListener(d)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},l);return d}onSignatureWithOptions(r,c,u){const{commitment:l,...d}={...u,commitment:u&&u.commitment||this._commitment||"finalized"},y=this._buildArgs([r],l,void 0,d),m=this._makeSubscription({callback:(wr,Sr)=>{c(wr,Sr);try{this.removeSignatureListener(m)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},y);return m}async removeSignatureListener(r){await this._unsubscribeClientSubscription(r,"signature result")}_wsOnRootNotification(r){const{result:c,subscription:u}=create(r,RootNotificationResult);this._handleServerNotification(u,[c])}onRootChange(r){return this._makeSubscription({callback:r,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(r){await this._unsubscribeClientSubscription(r,"root change")}}class Keypair{constructor(r){this._keypair=void 0,this._keypair=r??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(r,c){if(r.byteLength!==64)throw new Error("bad secret key size");const u=r.slice(32,64);if(!c||!c.skipValidation){const l=r.slice(0,32),d=getPublicKey(l);for(let y=0;y<32;y++)if(u[y]!==d[y])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:u,secretKey:r})}static fromSeed(r){const c=getPublicKey(r),u=new Uint8Array(64);return u.set(r),u.set(c,32),new Keypair({publicKey:c,secretKey:u})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$1([u32$1("instruction"),u64$1("recentSlot"),u8$1("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$1([u32$1("instruction")])},ExtendLookupTable:{index:2,layout:struct$1([u32$1("instruction"),u64$1(),seq(publicKey$1(),offset(u32$1(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$1([u32$1("instruction")])},CloseLookupTable:{index:4,layout:struct$1([u32$1("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const u=u32$1("instruction").decode(r.data);let l;for(const[d,y]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(y.index==u){l=d;break}if(!l)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return l}static decodeCreateLookupTable(r){this.checkProgramId(r.programId),this.checkKeysLength(r.keys,4);const{recentSlot:c}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,r.data);return{authority:r.keys[1].pubkey,payer:r.keys[2].pubkey,recentSlot:Number(c)}}static decodeExtendLookupTable(r){if(this.checkProgramId(r.programId),r.keys.length<2)throw new Error(`invalid instruction; found ${r.keys.length} keys, expected at least 2`);const{addresses:c}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,r.data);return{lookupTable:r.keys[0].pubkey,authority:r.keys[1].pubkey,payer:r.keys.length>2?r.keys[2].pubkey:void 0,addresses:c.map(u=>new PublicKey(u))}}static decodeCloseLookupTable(r){return this.checkProgramId(r.programId),this.checkKeysLength(r.keys,3),{lookupTable:r.keys[0].pubkey,authority:r.keys[1].pubkey,recipient:r.keys[2].pubkey}}static decodeFreezeLookupTable(r){return this.checkProgramId(r.programId),this.checkKeysLength(r.keys,2),{lookupTable:r.keys[0].pubkey,authority:r.keys[1].pubkey}}static decodeDeactivateLookupTable(r){return this.checkProgramId(r.programId),this.checkKeysLength(r.keys,2),{lookupTable:r.keys[0].pubkey,authority:r.keys[1].pubkey}}static checkProgramId(r){if(!r.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(r,c){if(r.length<c)throw new Error(`invalid instruction; found ${r.length} keys, expected at least ${c}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(r){const[c,u]=PublicKey.findProgramAddressSync([r.authority.toBuffer(),toBufferLE_1(BigInt(r.recentSlot),8)],this.programId),l=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,d=encodeData(l,{recentSlot:BigInt(r.recentSlot),bumpSeed:u}),y=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:r.authority,isSigner:!0,isWritable:!1},{pubkey:r.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:y,data:d}),c]}static freezeLookupTable(r){const c=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,u=encodeData(c),l=[{pubkey:r.lookupTable,isSigner:!1,isWritable:!0},{pubkey:r.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:l,data:u})}static extendLookupTable(r){const c=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,u=encodeData(c,{addresses:r.addresses.map(d=>d.toBytes())}),l=[{pubkey:r.lookupTable,isSigner:!1,isWritable:!0},{pubkey:r.authority,isSigner:!0,isWritable:!1}];return r.payer&&l.push({pubkey:r.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:l,data:u})}static deactivateLookupTable(r){const c=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,u=encodeData(c),l=[{pubkey:r.lookupTable,isSigner:!1,isWritable:!0},{pubkey:r.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:l,data:u})}static closeLookupTable(r){const c=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,u=encodeData(c),l=[{pubkey:r.lookupTable,isSigner:!1,isWritable:!0},{pubkey:r.authority,isSigner:!0,isWritable:!1},{pubkey:r.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:l,data:u})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const u=u8$1("instruction").decode(r.data);let l;for(const[d,y]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(y.index==u){l=d;break}if(!l)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return l}static decodeRequestUnits(r){this.checkProgramId(r.programId);const{units:c,additionalFee:u}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,r.data);return{units:c,additionalFee:u}}static decodeRequestHeapFrame(r){this.checkProgramId(r.programId);const{bytes:c}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,r.data);return{bytes:c}}static decodeSetComputeUnitLimit(r){this.checkProgramId(r.programId);const{units:c}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,r.data);return{units:c}}static decodeSetComputeUnitPrice(r){this.checkProgramId(r.programId);const{microLamports:c}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,r.data);return{microLamports:c}}static checkProgramId(r){if(!r.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$1([u8$1("instruction"),u32$1("units"),u32$1("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$1([u8$1("instruction"),u32$1("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$1([u8$1("instruction"),u32$1("units")])},SetComputeUnitPrice:{index:3,layout:struct$1([u8$1("instruction"),u64$1("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(r){const c=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,u=encodeData(c,r);return new TransactionInstruction({keys:[],programId:this.programId,data:u})}static requestHeapFrame(r){const c=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,u=encodeData(c,r);return new TransactionInstruction({keys:[],programId:this.programId,data:u})}static setComputeUnitLimit(r){const c=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,u=encodeData(c,r);return new TransactionInstruction({keys:[],programId:this.programId,data:u})}static setComputeUnitPrice(r){const c=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,u=encodeData(c,{microLamports:BigInt(r.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:u})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u8$1("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(r){const{publicKey:c,message:u,signature:l,instructionIndex:d}=r;assert$2(c.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${c.length} bytes`),assert$2(l.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${l.length} bytes`);const y=ED25519_INSTRUCTION_LAYOUT.span,m=y+c.length,wr=m+l.length,Sr=1,Ar=buffer$1.Buffer.alloc(wr+u.length),Ir=d??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:Sr,padding:0,signatureOffset:m,signatureInstructionIndex:Ir,publicKeyOffset:y,publicKeyInstructionIndex:Ir,messageDataOffset:wr,messageDataSize:u.length,messageInstructionIndex:Ir},Ar),Ar.fill(c,y),Ar.fill(l,m),Ar.fill(u,wr),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:Ar})}static createInstructionWithPrivateKey(r){const{privateKey:c,message:u,instructionIndex:l}=r;assert$2(c.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${c.length} bytes`);try{const d=Keypair.fromSecretKey(c),y=d.publicKey.toBytes(),m=sign(u,d.secretKey);return this.createInstructionWithPublicKey({publicKey:y,message:u,signature:m,instructionIndex:l})}catch(d){throw new Error(`Error creating instruction; ${d}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");utils$2.hmacSha256Sync=(a,...r)=>{const c=hmac.create(sha256$1,a);return r.forEach(u=>c.update(u)),c.digest()};const ecdsaSign=(a,r)=>signSync(a,r,{der:!1,recovered:!0});utils$2.isValidPrivateKey;const publicKeyCreate=getPublicKey$1,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u16("signatureOffset"),u8$1("signatureInstructionIndex"),u16("ethAddressOffset"),u8$1("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$1("messageInstructionIndex"),blob$1(20,"ethAddress"),blob$1(64,"signature"),u8$1("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(r){assert$2(r.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${r.length} bytes`);try{return buffer$1.Buffer.from(keccak_256(toBuffer(r))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(c){throw new Error(`Error constructing Ethereum address: ${c}`)}}static createInstructionWithPublicKey(r){const{publicKey:c,message:u,signature:l,recoveryId:d,instructionIndex:y}=r;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(c),message:u,signature:l,recoveryId:d,instructionIndex:y})}static createInstructionWithEthAddress(r){const{ethAddress:c,message:u,signature:l,recoveryId:d,instructionIndex:y=0}=r;let m;typeof c=="string"?c.startsWith("0x")?m=buffer$1.Buffer.from(c.substr(2),"hex"):m=buffer$1.Buffer.from(c,"hex"):m=c,assert$2(m.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${m.length} bytes`);const wr=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,Sr=wr,Ar=wr+m.length,Ir=Ar+l.length+1,$r=1,kr=buffer$1.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+u.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:$r,signatureOffset:Ar,signatureInstructionIndex:y,ethAddressOffset:Sr,ethAddressInstructionIndex:y,messageDataOffset:Ir,messageDataSize:u.length,messageInstructionIndex:y,signature:toBuffer(l),ethAddress:toBuffer(m),recoveryId:d},kr),kr.fill(toBuffer(u),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:kr})}static createInstructionWithPrivateKey(r){const{privateKey:c,message:u,instructionIndex:l}=r;assert$2(c.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${c.length} bytes`);try{const d=toBuffer(c),y=publicKeyCreate(d,!1).slice(1),m=buffer$1.Buffer.from(keccak_256(toBuffer(u))),[wr,Sr]=ecdsaSign(m,d);return this.createInstructionWithPublicKey({publicKey:y,message:u,signature:wr,recoveryId:Sr,instructionIndex:l})}catch(d){throw new Error(`Error creating instruction; ${d}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(r,c){this.staker=void 0,this.withdrawer=void 0,this.staker=r,this.withdrawer=c}}class Lockup{constructor(r,c,u){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=r,this.epoch=c,this.custodian=u}}Lockup.default=new Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const u=u32$1("instruction").decode(r.data);let l;for(const[d,y]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(y.index==u){l=d;break}if(!l)throw new Error("Instruction type incorrect; not a StakeInstruction");return l}static decodeInitialize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{authorized:c,lockup:u}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,r.data);return{stakePubkey:r.keys[0].pubkey,authorized:new Authorized(new PublicKey(c.staker),new PublicKey(c.withdrawer)),lockup:new Lockup(u.unixTimestamp,u.epoch,new PublicKey(u.custodian))}}static decodeDelegate(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,r.data),{stakePubkey:r.keys[0].pubkey,votePubkey:r.keys[1].pubkey,authorizedPubkey:r.keys[5].pubkey}}static decodeAuthorize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{newAuthorized:c,stakeAuthorizationType:u}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,r.data),l={stakePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(c),stakeAuthorizationType:{index:u}};return r.keys.length>3&&(l.custodianPubkey=r.keys[3].pubkey),l}static decodeAuthorizeWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,2);const{newAuthorized:c,stakeAuthorizationType:u,authoritySeed:l,authorityOwner:d}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,r.data),y={stakePubkey:r.keys[0].pubkey,authorityBase:r.keys[1].pubkey,authoritySeed:l,authorityOwner:new PublicKey(d),newAuthorizedPubkey:new PublicKey(c),stakeAuthorizationType:{index:u}};return r.keys.length>3&&(y.custodianPubkey=r.keys[3].pubkey),y}static decodeSplit(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{lamports:c}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,r.data);return{stakePubkey:r.keys[0].pubkey,splitStakePubkey:r.keys[1].pubkey,authorizedPubkey:r.keys[2].pubkey,lamports:c}}static decodeMerge(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,r.data),{stakePubkey:r.keys[0].pubkey,sourceStakePubKey:r.keys[1].pubkey,authorizedPubkey:r.keys[4].pubkey}}static decodeWithdraw(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,5);const{lamports:c}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,r.data),u={stakePubkey:r.keys[0].pubkey,toPubkey:r.keys[1].pubkey,authorizedPubkey:r.keys[4].pubkey,lamports:c};return r.keys.length>5&&(u.custodianPubkey=r.keys[5].pubkey),u}static decodeDeactivate(r){return this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,r.data),{stakePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[2].pubkey}}static checkProgramId(r){if(!r.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(r,c){if(r.length<c)throw new Error(`invalid instruction; found ${r.length} keys, expected at least ${c}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$1([u32$1("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$1([u32$1("instruction")])},Split:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct$1([u32$1("instruction")])},Merge:{index:7,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(r){const{stakePubkey:c,authorized:u,lockup:l}=r,d=l||Lockup.default,y=STAKE_INSTRUCTION_LAYOUTS.Initialize,m=encodeData(y,{authorized:{staker:toBuffer(u.staker.toBuffer()),withdrawer:toBuffer(u.withdrawer.toBuffer())},lockup:{unixTimestamp:d.unixTimestamp,epoch:d.epoch,custodian:toBuffer(d.custodian.toBuffer())}}),wr={keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:m};return new TransactionInstruction(wr)}static createAccountWithSeed(r){const c=new Transaction;c.add(SystemProgram.createAccountWithSeed({fromPubkey:r.fromPubkey,newAccountPubkey:r.stakePubkey,basePubkey:r.basePubkey,seed:r.seed,lamports:r.lamports,space:this.space,programId:this.programId}));const{stakePubkey:u,authorized:l,lockup:d}=r;return c.add(this.initialize({stakePubkey:u,authorized:l,lockup:d}))}static createAccount(r){const c=new Transaction;c.add(SystemProgram.createAccount({fromPubkey:r.fromPubkey,newAccountPubkey:r.stakePubkey,lamports:r.lamports,space:this.space,programId:this.programId}));const{stakePubkey:u,authorized:l,lockup:d}=r;return c.add(this.initialize({stakePubkey:u,authorized:l,lockup:d}))}static delegate(r){const{stakePubkey:c,authorizedPubkey:u,votePubkey:l}=r,d=STAKE_INSTRUCTION_LAYOUTS.Delegate,y=encodeData(d);return new Transaction().add({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1}],programId:this.programId,data:y})}static authorize(r){const{stakePubkey:c,authorizedPubkey:u,newAuthorizedPubkey:l,stakeAuthorizationType:d,custodianPubkey:y}=r,m=STAKE_INSTRUCTION_LAYOUTS.Authorize,wr=encodeData(m,{newAuthorized:toBuffer(l.toBuffer()),stakeAuthorizationType:d.index}),Sr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1}];return y&&Sr.push({pubkey:y,isSigner:!1,isWritable:!1}),new Transaction().add({keys:Sr,programId:this.programId,data:wr})}static authorizeWithSeed(r){const{stakePubkey:c,authorityBase:u,authoritySeed:l,authorityOwner:d,newAuthorizedPubkey:y,stakeAuthorizationType:m,custodianPubkey:wr}=r,Sr=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,Ar=encodeData(Sr,{newAuthorized:toBuffer(y.toBuffer()),stakeAuthorizationType:m.index,authoritySeed:l,authorityOwner:toBuffer(d.toBuffer())}),Ir=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return wr&&Ir.push({pubkey:wr,isSigner:!1,isWritable:!1}),new Transaction().add({keys:Ir,programId:this.programId,data:Ar})}static splitInstruction(r){const{stakePubkey:c,authorizedPubkey:u,splitStakePubkey:l,lamports:d}=r,y=STAKE_INSTRUCTION_LAYOUTS.Split,m=encodeData(y,{lamports:d});return new TransactionInstruction({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1}],programId:this.programId,data:m})}static split(r){const c=new Transaction;return c.add(SystemProgram.createAccount({fromPubkey:r.authorizedPubkey,newAccountPubkey:r.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),c.add(this.splitInstruction(r))}static splitWithSeed(r){const{stakePubkey:c,authorizedPubkey:u,splitStakePubkey:l,basePubkey:d,seed:y,lamports:m}=r,wr=new Transaction;return wr.add(SystemProgram.allocate({accountPubkey:l,basePubkey:d,seed:y,space:this.space,programId:this.programId})),wr.add(this.splitInstruction({stakePubkey:c,authorizedPubkey:u,splitStakePubkey:l,lamports:m}))}static merge(r){const{stakePubkey:c,sourceStakePubKey:u,authorizedPubkey:l}=r,d=STAKE_INSTRUCTION_LAYOUTS.Merge,y=encodeData(d);return new Transaction().add({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!0,isWritable:!1}],programId:this.programId,data:y})}static withdraw(r){const{stakePubkey:c,authorizedPubkey:u,toPubkey:l,lamports:d,custodianPubkey:y}=r,m=STAKE_INSTRUCTION_LAYOUTS.Withdraw,wr=encodeData(m,{lamports:d}),Sr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1}];return y&&Sr.push({pubkey:y,isSigner:!1,isWritable:!1}),new Transaction().add({keys:Sr,programId:this.programId,data:wr})}static deactivate(r){const{stakePubkey:c,authorizedPubkey:u}=r,l=STAKE_INSTRUCTION_LAYOUTS.Deactivate,d=encodeData(l);return new Transaction().add({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1}],programId:this.programId,data:d})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(r,c,u,l){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=r,this.authorizedVoter=c,this.authorizedWithdrawer=u,this.commission=l}}class VoteInstruction{constructor(){}static decodeInstructionType(r){this.checkProgramId(r.programId);const u=u32$1("instruction").decode(r.data);let l;for(const[d,y]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(y.index==u){l=d;break}if(!l)throw new Error("Instruction type incorrect; not a VoteInstruction");return l}static decodeInitializeAccount(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,4);const{voteInit:c}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,r.data);return{votePubkey:r.keys[0].pubkey,nodePubkey:r.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(c.nodePubkey),new PublicKey(c.authorizedVoter),new PublicKey(c.authorizedWithdrawer),c.commission)}}static decodeAuthorize(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{newAuthorized:c,voteAuthorizationType:u}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,r.data);return{votePubkey:r.keys[0].pubkey,authorizedPubkey:r.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(c),voteAuthorizationType:{index:u}}}static decodeAuthorizeWithSeed(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:c,currentAuthorityDerivedKeySeed:u,newAuthorized:l,voteAuthorizationType:d}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,r.data);return{currentAuthorityDerivedKeyBasePubkey:r.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(c),currentAuthorityDerivedKeySeed:u,newAuthorizedPubkey:new PublicKey(l),voteAuthorizationType:{index:d},votePubkey:r.keys[0].pubkey}}static decodeWithdraw(r){this.checkProgramId(r.programId),this.checkKeyLength(r.keys,3);const{lamports:c}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,r.data);return{votePubkey:r.keys[0].pubkey,authorizedWithdrawerPubkey:r.keys[2].pubkey,lamports:c,toPubkey:r.keys[1].pubkey}}static checkProgramId(r){if(!r.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(r,c){if(r.length<c)throw new Error(`invalid instruction; found ${r.length} keys, expected at least ${c}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$1([u32$1("instruction"),voteInit()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$1([u32$1("instruction"),voteAuthorizeWithSeedArgs()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(r){const{votePubkey:c,nodePubkey:u,voteInit:l}=r,d=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,y=encodeData(d,{voteInit:{nodePubkey:toBuffer(l.nodePubkey.toBuffer()),authorizedVoter:toBuffer(l.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(l.authorizedWithdrawer.toBuffer()),commission:l.commission}}),m={keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1}],programId:this.programId,data:y};return new TransactionInstruction(m)}static createAccount(r){const c=new Transaction;return c.add(SystemProgram.createAccount({fromPubkey:r.fromPubkey,newAccountPubkey:r.votePubkey,lamports:r.lamports,space:this.space,programId:this.programId})),c.add(this.initializeAccount({votePubkey:r.votePubkey,nodePubkey:r.voteInit.nodePubkey,voteInit:r.voteInit}))}static authorize(r){const{votePubkey:c,authorizedPubkey:u,newAuthorizedPubkey:l,voteAuthorizationType:d}=r,y=VOTE_INSTRUCTION_LAYOUTS.Authorize,m=encodeData(y,{newAuthorized:toBuffer(l.toBuffer()),voteAuthorizationType:d.index}),wr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:wr,programId:this.programId,data:m})}static authorizeWithSeed(r){const{currentAuthorityDerivedKeyBasePubkey:c,currentAuthorityDerivedKeyOwnerPubkey:u,currentAuthorityDerivedKeySeed:l,newAuthorizedPubkey:d,voteAuthorizationType:y,votePubkey:m}=r,wr=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,Sr=encodeData(wr,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(u.toBuffer()),currentAuthorityDerivedKeySeed:l,newAuthorized:toBuffer(d.toBuffer()),voteAuthorizationType:y.index}}),Ar=[{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:Ar,programId:this.programId,data:Sr})}static withdraw(r){const{votePubkey:c,authorizedWithdrawerPubkey:u,lamports:l,toPubkey:d}=r,y=VOTE_INSTRUCTION_LAYOUTS.Withdraw,m=encodeData(y,{lamports:l}),wr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:wr,programId:this.programId,data:m})}static safeWithdraw(r,c,u){if(r.lamports>c-u)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram.withdraw(r)}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(r,c){this.key=void 0,this.info=void 0,this.key=r,this.info=c}static fromConfigData(r){let c=[...r];if(decodeLength(c)!==2)return null;const l=[];for(let d=0;d<2;d++){const y=new PublicKey(c.slice(0,PUBLIC_KEY_LENGTH));c=c.slice(PUBLIC_KEY_LENGTH);const m=c.slice(0,1)[0]===1;c=c.slice(1),l.push({publicKey:y,isSigner:m})}if(l[0].publicKey.equals(VALIDATOR_INFO_KEY)&&l[1].isSigner){const d=rustString().decode(buffer$1.Buffer.from(c)),y=JSON.parse(d);return assert$3(y,InfoString),new ValidatorInfo(l[1].publicKey,y)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedWithdrawer"),u8$1("commission"),nu64(),seq(struct$1([nu64("slot"),u32$1("confirmationCount")]),offset(u32$1(),-8),"votes"),u8$1("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct$1([nu64("epoch"),publicKey$1("authorizedVoter")]),offset(u32$1(),-8),"authorizedVoters"),struct$1([seq(struct$1([publicKey$1("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8$1("isEmpty")],"priorVoters"),nu64(),seq(struct$1([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32$1(),-8),"epochCredits"),struct$1([nu64("slot"),nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(r){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=r.nodePubkey,this.authorizedWithdrawer=r.authorizedWithdrawer,this.commission=r.commission,this.rootSlot=r.rootSlot,this.votes=r.votes,this.authorizedVoters=r.authorizedVoters,this.priorVoters=r.priorVoters,this.epochCredits=r.epochCredits,this.lastTimestamp=r.lastTimestamp}static fromAccountData(r){const u=VoteAccountLayout.decode(toBuffer(r),4);let l=u.rootSlot;return u.rootSlotValid||(l=null),new VoteAccount({nodePubkey:new PublicKey(u.nodePubkey),authorizedWithdrawer:new PublicKey(u.authorizedWithdrawer),commission:u.commission,votes:u.votes,rootSlot:l,authorizedVoters:u.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(u.priorVoters),epochCredits:u.epochCredits,lastTimestamp:u.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:a,epoch:r}){return{epoch:r,authorizedVoter:new PublicKey(a)}}function parsePriorVoters({authorizedPubkey:a,epochOfLastAuthorizedSwitch:r,targetEpoch:c}){return{authorizedPubkey:new PublicKey(a),epochOfLastAuthorizedSwitch:r,targetEpoch:c}}function getPriorVoters({buf:a,idx:r,isEmpty:c}){return c?[]:[...a.slice(r+1).map(parsePriorVoters),...a.slice(0,r).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(a,r){const c=r===!1?"http":"https";if(!a)return endpoint[c].devnet;const u=endpoint[c][a];if(!u)throw new Error(`Unknown ${c} cluster: ${a}`);return u}async function sendAndConfirmRawTransaction(a,r,c,u){let l,d;c&&Object.prototype.hasOwnProperty.call(c,"lastValidBlockHeight")?(l=c,d=u):d=c;const y=d&&{skipPreflight:d.skipPreflight,preflightCommitment:d.preflightCommitment||d.commitment,minContextSlot:d.minContextSlot},m=await a.sendRawTransaction(r,y),wr=d&&d.commitment,Ar=(await(l?a.confirmTransaction(l,wr):a.confirmTransaction(m,wr))).value;if(Ar.err)throw new Error(`Raw transaction ${m} failed (${JSON.stringify(Ar)})`);return m}const LAMPORTS_PER_SOL=1e9,index_browser_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,MessageAccountKeys,MessageV0,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PUBLIC_KEY_LENGTH,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredTimeoutError,TransactionInstruction,TransactionMessage,get TransactionStatus(){return TransactionStatus},VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction,sendAndConfirmTransaction:sendAndConfirmTransaction$2},Symbol.toStringTag,{value:"Module"})),SOLANARPC="https://api.mainnet-beta.solana.com",useSolanaNetworkStore=defineStore("solanaNetwork",{state:()=>({ws:{},connection:{},transactions_per_second:ref(0)}),actions:{init(){this.connection=new Connection(SOLANARPC,"confirmed")},async run_tps(){for(;;){let a=await this.connection.getRecentPerformanceSamples(5);this.transactions_per_second=0,a.forEach(r=>{this.transactions_per_second+=r.numTransactions/r.samplePeriodSecs}),this.transactions_per_second=this.transactions_per_second/a.length,await new Promise(r=>setTimeout(r,5e3))}}}}),_hoisted_1$6={class:"flex flex-row space-x-2"},_hoisted_2$5={class:"flex flex-row space-x-1"},_hoisted_3$2=createBaseVNode("h2",null,"BTC/USDC",-1),_hoisted_4$1={class:"flex flex-row space-x-1"},_hoisted_5$1=createBaseVNode("h2",null,"SOL/USDC",-1),_hoisted_6$1={class:"flex flex-row space-x-1"},_hoisted_7$1=createBaseVNode("h2",null,"ATLAS/USDC",-1),_hoisted_8$1={class:"flex flex-row space-x-1"},_hoisted_9=createBaseVNode("h2",null,"POLIS/USDC",-1),_hoisted_10={class:"flex w-full justify-end flex-row space-x-1"},_hoisted_11=createBaseVNode("i",{class:"bi bi-speedometer"},null,-1),_sfc_main$7=defineComponent({__name:"InfoFeed",setup(a){const r=useTokenPriceStore(),c=useSolanaNetworkStore();return onMounted(async()=>{}),(u,l)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$5,[_hoisted_3$2,createBaseVNode("h3",null,toDisplayString(unref(r).btc),1)]),createBaseVNode("div",_hoisted_4$1,[_hoisted_5$1,createBaseVNode("h3",null,toDisplayString(unref(r).sol),1)]),createBaseVNode("div",_hoisted_6$1,[_hoisted_7$1,createBaseVNode("h3",null,toDisplayString(unref(r).atlas),1)]),createBaseVNode("div",_hoisted_8$1,[_hoisted_9,createBaseVNode("h3",null,toDisplayString(unref(r).polis),1)]),createBaseVNode("div",_hoisted_10,[_hoisted_11,createBaseVNode("h3",null,toDisplayString(unref(c).transactions_per_second.toFixed(0))+" TPS",1)])]))}}),NFTS_URL="https://galaxy.staratlas.com/nfts",TRADE_PROGRAM=new PublicKey("traderDnaR5w6Tcoi3NFm53i48FTDNbGjBSZwWXDRrg"),useAssetsStore=defineStore({id:"assetsStore",state:()=>({allAssets:[]}),actions:{async init(){this.allAssets=await fetch(NFTS_URL).then(a=>a.json()),console.log(this.allAssets)}}});var dist={},atlasStaking={},instruction_builders$1={},baseParams={};Object.defineProperty(baseParams,"__esModule",{value:!0});var cancelUnstake={},utils$1={},getStakingProgram$1={},camelcase={exports:{}};const preserveCamelCase=a=>{let r=!1,c=!1,u=!1;for(let l=0;l<a.length;l++){const d=a[l];r&&/[a-zA-Z]/.test(d)&&d.toUpperCase()===d?(a=a.slice(0,l)+"-"+a.slice(l),r=!1,u=c,c=!0,l++):c&&u&&/[a-zA-Z]/.test(d)&&d.toLowerCase()===d?(a=a.slice(0,l-1)+"-"+a.slice(l-1),u=c,c=!1,r=!0):(r=d.toLowerCase()===d&&d.toUpperCase()!==d,u=c,c=d.toUpperCase()===d&&d.toLowerCase()!==d)}return a},camelCase=(a,r)=>{if(!(typeof a=="string"||Array.isArray(a)))throw new TypeError("Expected the input to be `string | string[]`");r=Object.assign({pascalCase:!1},r);const c=l=>r.pascalCase?l.charAt(0).toUpperCase()+l.slice(1):l;return Array.isArray(a)?a=a.map(l=>l.trim()).filter(l=>l.length).join("-"):a=a.trim(),a.length===0?"":a.length===1?r.pascalCase?a.toUpperCase():a.toLowerCase():(a!==a.toLowerCase()&&(a=preserveCamelCase(a)),a=a.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(l,d)=>d.toUpperCase()).replace(/\d+(\w|$)/g,l=>l.toUpperCase()),c(a))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(a){return typeof a=="object"&&a.buffer&&a.buffer.constructor===ArrayBuffer});var createOutputMethod=function(a,r){return function(c){return new Sha256(r,!0).update(c)[a]()}},createMethod=function(a){var r=createOutputMethod("hex",a);NODE_JS&&(r=nodeWrap(r,a)),r.create=function(){return new Sha256(a)},r.update=function(l){return r.create().update(l)};for(var c=0;c<OUTPUT_TYPES.length;++c){var u=OUTPUT_TYPES[c];r[u]=createOutputMethod(u,a)}return r},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(a){if(typeof a=="string")return crypto.createHash(algorithm).update(a,"utf8").digest("hex");if(a==null)throw new Error(ERROR);return a.constructor===ArrayBuffer&&(a=new Uint8Array(a)),Array.isArray(a)||ArrayBuffer.isView(a)||a.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(a)).digest("hex"):method(a)};return nodeMethod},createHmacOutputMethod=function(a,r){return function(c,u){return new HmacSha256(c,r,!0).update(u)[a]()}},createHmacMethod=function(a){var r=createHmacOutputMethod("hex",a);r.create=function(l){return new HmacSha256(l,a)},r.update=function(l,d){return r.create(l).update(d)};for(var c=0;c<OUTPUT_TYPES.length;++c){var u=OUTPUT_TYPES[c];r[u]=createHmacOutputMethod(u,a)}return r};function Sha256(a,r){r?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=a}Sha256.prototype.update=function(a){if(!this.finalized){var r,c=typeof a;if(c!=="string"){if(c==="object"){if(a===null)throw new Error(ERROR);if(ARRAY_BUFFER&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(a)))throw new Error(ERROR)}else throw new Error(ERROR);r=!0}for(var u,l=0,d,y=a.length,m=this.blocks;l<y;){if(this.hashed&&(this.hashed=!1,m[0]=this.block,m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),r)for(d=this.start;l<y&&d<64;++l)m[d>>2]|=a[l]<<SHIFT[d++&3];else for(d=this.start;l<y&&d<64;++l)u=a.charCodeAt(l),u<128?m[d>>2]|=u<<SHIFT[d++&3]:u<2048?(m[d>>2]|=(192|u>>6)<<SHIFT[d++&3],m[d>>2]|=(128|u&63)<<SHIFT[d++&3]):u<55296||u>=57344?(m[d>>2]|=(224|u>>12)<<SHIFT[d++&3],m[d>>2]|=(128|u>>6&63)<<SHIFT[d++&3],m[d>>2]|=(128|u&63)<<SHIFT[d++&3]):(u=65536+((u&1023)<<10|a.charCodeAt(++l)&1023),m[d>>2]|=(240|u>>18)<<SHIFT[d++&3],m[d>>2]|=(128|u>>12&63)<<SHIFT[d++&3],m[d>>2]|=(128|u>>6&63)<<SHIFT[d++&3],m[d>>2]|=(128|u&63)<<SHIFT[d++&3]);this.lastByteIndex=d,this.bytes+=d-this.start,d>=64?(this.block=m[16],this.start=d-64,this.hash(),this.hashed=!0):this.start=d}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,r=this.lastByteIndex;a[16]=this.block,a[r>>2]|=EXTRA[r&3],this.block=a[16],r>=56&&(this.hashed||this.hash(),a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),a[14]=this.hBytes<<3|this.bytes>>>29,a[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var a=this.h0,r=this.h1,c=this.h2,u=this.h3,l=this.h4,d=this.h5,y=this.h6,m=this.h7,wr=this.blocks,Sr,Ar,Ir,$r,kr,Dr,Cr,Br,Fr,qr,Vr;for(Sr=16;Sr<64;++Sr)kr=wr[Sr-15],Ar=(kr>>>7|kr<<25)^(kr>>>18|kr<<14)^kr>>>3,kr=wr[Sr-2],Ir=(kr>>>17|kr<<15)^(kr>>>19|kr<<13)^kr>>>10,wr[Sr]=wr[Sr-16]+Ar+wr[Sr-7]+Ir<<0;for(Vr=r&c,Sr=0;Sr<64;Sr+=4)this.first?(this.is224?(Br=300032,kr=wr[0]-1413257819,m=kr-150054599<<0,u=kr+24177077<<0):(Br=704751109,kr=wr[0]-210244248,m=kr-1521486534<<0,u=kr+143694565<<0),this.first=!1):(Ar=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),Ir=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),Br=a&r,$r=Br^a&c^Vr,Cr=l&d^~l&y,kr=m+Ir+Cr+K[Sr]+wr[Sr],Dr=Ar+$r,m=u+kr<<0,u=kr+Dr<<0),Ar=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),Ir=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),Fr=u&a,$r=Fr^u&r^Br,Cr=m&l^~m&d,kr=y+Ir+Cr+K[Sr+1]+wr[Sr+1],Dr=Ar+$r,y=c+kr<<0,c=kr+Dr<<0,Ar=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),Ir=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),qr=c&u,$r=qr^c&a^Fr,Cr=y&m^~y&l,kr=d+Ir+Cr+K[Sr+2]+wr[Sr+2],Dr=Ar+$r,d=r+kr<<0,r=kr+Dr<<0,Ar=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),Ir=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),Vr=r&c,$r=Vr^r&u^qr,Cr=d&y^~d&m,kr=l+Ir+Cr+K[Sr+3]+wr[Sr+3],Dr=Ar+$r,l=a+kr<<0,a=kr+Dr<<0;this.h0=this.h0+a<<0,this.h1=this.h1+r<<0,this.h2=this.h2+c<<0,this.h3=this.h3+u<<0,this.h4=this.h4+l<<0,this.h5=this.h5+d<<0,this.h6=this.h6+y<<0,this.h7=this.h7+m<<0},Sha256.prototype.hex=function(){this.finalize();var a=this.h0,r=this.h1,c=this.h2,u=this.h3,l=this.h4,d=this.h5,y=this.h6,m=this.h7,wr=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[l>>28&15]+HEX_CHARS[l>>24&15]+HEX_CHARS[l>>20&15]+HEX_CHARS[l>>16&15]+HEX_CHARS[l>>12&15]+HEX_CHARS[l>>8&15]+HEX_CHARS[l>>4&15]+HEX_CHARS[l&15]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[d&15]+HEX_CHARS[y>>28&15]+HEX_CHARS[y>>24&15]+HEX_CHARS[y>>20&15]+HEX_CHARS[y>>16&15]+HEX_CHARS[y>>12&15]+HEX_CHARS[y>>8&15]+HEX_CHARS[y>>4&15]+HEX_CHARS[y&15];return this.is224||(wr+=HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[m&15]),wr},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var a=this.h0,r=this.h1,c=this.h2,u=this.h3,l=this.h4,d=this.h5,y=this.h6,m=this.h7,wr=[a>>24&255,a>>16&255,a>>8&255,a&255,r>>24&255,r>>16&255,r>>8&255,r&255,c>>24&255,c>>16&255,c>>8&255,c&255,u>>24&255,u>>16&255,u>>8&255,u&255,l>>24&255,l>>16&255,l>>8&255,l&255,d>>24&255,d>>16&255,d>>8&255,d&255,y>>24&255,y>>16&255,y>>8&255,y&255];return this.is224||wr.push(m>>24&255,m>>16&255,m>>8&255,m&255),wr},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(this.is224?28:32),r=new DataView(a);return r.setUint32(0,this.h0),r.setUint32(4,this.h1),r.setUint32(8,this.h2),r.setUint32(12,this.h3),r.setUint32(16,this.h4),r.setUint32(20,this.h5),r.setUint32(24,this.h6),this.is224||r.setUint32(28,this.h7),a};function HmacSha256(a,r,c){var u,l=typeof a;if(l==="string"){var d=[],y=a.length,m=0,wr;for(u=0;u<y;++u)wr=a.charCodeAt(u),wr<128?d[m++]=wr:wr<2048?(d[m++]=192|wr>>6,d[m++]=128|wr&63):wr<55296||wr>=57344?(d[m++]=224|wr>>12,d[m++]=128|wr>>6&63,d[m++]=128|wr&63):(wr=65536+((wr&1023)<<10|a.charCodeAt(++u)&1023),d[m++]=240|wr>>18,d[m++]=128|wr>>12&63,d[m++]=128|wr>>6&63,d[m++]=128|wr&63);a=d}else if(l==="object"){if(a===null)throw new Error(ERROR);if(ARRAY_BUFFER&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(a)))throw new Error(ERROR)}else throw new Error(ERROR);a.length>64&&(a=new Sha256(r,!0).update(a).array());var Sr=[],Ar=[];for(u=0;u<64;++u){var Ir=a[u]||0;Sr[u]=92^Ir,Ar[u]=54^Ir}Sha256.call(this,r,c),this.update(Ar),this.oKeyPad=Sr,this.inner=!0,this.sharedMemory=c}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var a=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(a),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var lib={},Layout$2={};class Layout$1{constructor(r,c){if(!Number.isInteger(r))throw new TypeError("span must be an integer");this.span=r,this.property=c}makeDestinationObject(){return{}}decode(r,c){throw new Error("Layout is abstract")}encode(r,c,u){throw new Error("Layout is abstract")}getSpan(r,c){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(r){const c=Object.create(this.constructor.prototype);return Object.assign(c,this),c.property=r,c}fromArray(r){}}Layout$2.Layout=Layout$1;function nameWithProperty$1(a,r){return r.property?a+"["+r.property+"]":a}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(a,r){if(typeof a!="function")throw new TypeError("Class must be constructor");if(a.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(r&&r instanceof Layout$1))throw new TypeError("layout must be a Layout");if(r.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");a.layout_=r,r.boundConstructor_=a,r.makeDestinationObject=()=>new a,Object.defineProperty(a.prototype,"encode",{value:function(c,u){return r.encode(this,c,u)},writable:!0}),Object.defineProperty(a,"decode",{value:function(c,u){return r.decode(c,u)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(r,c){if(r===void 0&&(r=1),!Number.isInteger(r)||0>=r)throw new TypeError("elementSpan must be a (positive) integer");super(-1,c),this.elementSpan=r}isCount(){return!0}decode(r,c){c===void 0&&(c=0);const u=r.length-c;return Math.floor(u/this.elementSpan)}encode(r,c,u){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(r,c,u){if(!(r instanceof Layout$1))throw new TypeError("layout must be a Layout");if(c===void 0)c=0;else if(!Number.isInteger(c))throw new TypeError("offset must be integer or undefined");super(r.span,u||r.property),this.layout=r,this.offset=c}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(r,c){return c===void 0&&(c=0),this.layout.decode(r,c+this.offset)}encode(r,c,u){return u===void 0&&(u=0),this.layout.encode(r,c,u+this.offset)}}class UInt$1 extends Layout$1{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c){return c===void 0&&(c=0),r.readUIntLE(c,this.span)}encode(r,c,u){return u===void 0&&(u=0),c.writeUIntLE(r,u,this.span),this.span}}class UIntBE extends Layout$1{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c){return c===void 0&&(c=0),r.readUIntBE(c,this.span)}encode(r,c,u){return u===void 0&&(u=0),c.writeUIntBE(r,u,this.span),this.span}}class Int extends Layout$1{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c){return c===void 0&&(c=0),r.readIntLE(c,this.span)}encode(r,c,u){return u===void 0&&(u=0),c.writeIntLE(r,u,this.span),this.span}}class IntBE extends Layout$1{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c){return c===void 0&&(c=0),r.readIntBE(c,this.span)}encode(r,c,u){return u===void 0&&(u=0),c.writeIntBE(r,u,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(a){const r=Math.floor(a/V2E32),c=a-r*V2E32;return{hi32:r,lo32:c}}function roundedInt64(a,r){return a*V2E32+r}class NearUInt64 extends Layout$1{constructor(r){super(8,r)}decode(r,c){c===void 0&&(c=0);const u=r.readUInt32LE(c),l=r.readUInt32LE(c+4);return roundedInt64(l,u)}encode(r,c,u){u===void 0&&(u=0);const l=divmodInt64(r);return c.writeUInt32LE(l.lo32,u),c.writeUInt32LE(l.hi32,u+4),8}}class NearUInt64BE extends Layout$1{constructor(r){super(8,r)}decode(r,c){c===void 0&&(c=0);const u=r.readUInt32BE(c),l=r.readUInt32BE(c+4);return roundedInt64(u,l)}encode(r,c,u){u===void 0&&(u=0);const l=divmodInt64(r);return c.writeUInt32BE(l.hi32,u),c.writeUInt32BE(l.lo32,u+4),8}}class NearInt64 extends Layout$1{constructor(r){super(8,r)}decode(r,c){c===void 0&&(c=0);const u=r.readUInt32LE(c),l=r.readInt32LE(c+4);return roundedInt64(l,u)}encode(r,c,u){u===void 0&&(u=0);const l=divmodInt64(r);return c.writeUInt32LE(l.lo32,u),c.writeInt32LE(l.hi32,u+4),8}}class NearInt64BE extends Layout$1{constructor(r){super(8,r)}decode(r,c){c===void 0&&(c=0);const u=r.readInt32BE(c),l=r.readUInt32BE(c+4);return roundedInt64(u,l)}encode(r,c,u){u===void 0&&(u=0);const l=divmodInt64(r);return c.writeInt32BE(l.hi32,u),c.writeUInt32BE(l.lo32,u+4),8}}class Float extends Layout$1{constructor(r){super(4,r)}decode(r,c){return c===void 0&&(c=0),r.readFloatLE(c)}encode(r,c,u){return u===void 0&&(u=0),c.writeFloatLE(r,u),4}}class FloatBE extends Layout$1{constructor(r){super(4,r)}decode(r,c){return c===void 0&&(c=0),r.readFloatBE(c)}encode(r,c,u){return u===void 0&&(u=0),c.writeFloatBE(r,u),4}}class Double extends Layout$1{constructor(r){super(8,r)}decode(r,c){return c===void 0&&(c=0),r.readDoubleLE(c)}encode(r,c,u){return u===void 0&&(u=0),c.writeDoubleLE(r,u),8}}class DoubleBE extends Layout$1{constructor(r){super(8,r)}decode(r,c){return c===void 0&&(c=0),r.readDoubleBE(c)}encode(r,c,u){return u===void 0&&(u=0),c.writeDoubleBE(r,u),8}}class Sequence extends Layout$1{constructor(r,c,u){if(!(r instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(c instanceof ExternalLayout$1&&c.isCount()||Number.isInteger(c)&&0<=c))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let l=-1;!(c instanceof ExternalLayout$1)&&0<r.span&&(l=c*r.span),super(l,u),this.elementLayout=r,this.count=c}getSpan(r,c){if(0<=this.span)return this.span;c===void 0&&(c=0);let u=0,l=this.count;if(l instanceof ExternalLayout$1&&(l=l.decode(r,c)),0<this.elementLayout.span)u=l*this.elementLayout.span;else{let d=0;for(;d<l;)u+=this.elementLayout.getSpan(r,c+u),++d}return u}decode(r,c){c===void 0&&(c=0);const u=[];let l=0,d=this.count;for(d instanceof ExternalLayout$1&&(d=d.decode(r,c));l<d;)u.push(this.elementLayout.decode(r,c)),c+=this.elementLayout.getSpan(r,c),l+=1;return u}encode(r,c,u){u===void 0&&(u=0);const l=this.elementLayout,d=r.reduce((y,m)=>y+l.encode(m,c,u+y),0);return this.count instanceof ExternalLayout$1&&this.count.encode(r.length,c,u),d}}class Structure$1 extends Layout$1{constructor(r,c,u){if(!(Array.isArray(r)&&r.reduce((d,y)=>d&&y instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof c=="boolean"&&u===void 0&&(u=c,c=void 0);for(const d of r)if(0>d.span&&d.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let l=-1;try{l=r.reduce((d,y)=>d+y.getSpan(),0)}catch{}super(l,c),this.fields=r,this.decodePrefixes=!!u}getSpan(r,c){if(0<=this.span)return this.span;c===void 0&&(c=0);let u=0;try{u=this.fields.reduce((l,d)=>{const y=d.getSpan(r,c);return c+=y,l+y},0)}catch{throw new RangeError("indeterminate span")}return u}decode(r,c){c===void 0&&(c=0);const u=this.makeDestinationObject();for(const l of this.fields)if(l.property!==void 0&&(u[l.property]=l.decode(r,c)),c+=l.getSpan(r,c),this.decodePrefixes&&r.length===c)break;return u}encode(r,c,u){u===void 0&&(u=0);const l=u;let d=0,y=0;for(const m of this.fields){let wr=m.span;if(y=0<wr?wr:0,m.property!==void 0){const Sr=r[m.property];Sr!==void 0&&(y=m.encode(Sr,c,u),0>wr&&(wr=m.getSpan(c,u)))}d=u,u+=wr}return d+y-l}fromArray(r){const c=this.makeDestinationObject();for(const u of this.fields)u.property!==void 0&&0<r.length&&(c[u.property]=r.shift());return c}layoutFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const c of this.fields)if(c.property===r)return c}offsetOf(r){if(typeof r!="string")throw new TypeError("property must be string");let c=0;for(const u of this.fields){if(u.property===r)return c;0>u.span?c=-1:0<=c&&(c+=u.span)}}}class UnionDiscriminator{constructor(r){this.property=r}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(r,c){if(!(r instanceof ExternalLayout$1&&r.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(c||r.property||"variant"),this.layout=r}decode(r,c){return this.layout.decode(r,c)}encode(r,c,u){return this.layout.encode(r,c,u)}}class Union extends Layout$1{constructor(r,c,u){const l=r instanceof UInt$1||r instanceof UIntBE;if(l)r=new UnionLayoutDiscriminator(new OffsetLayout(r));else if(r instanceof ExternalLayout$1&&r.isCount())r=new UnionLayoutDiscriminator(r);else if(!(r instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(c===void 0&&(c=null),!(c===null||c instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(c!==null){if(0>c.span)throw new Error("defaultLayout must have constant span");c.property===void 0&&(c=c.replicate("content"))}let d=-1;c&&(d=c.span,0<=d&&l&&(d+=r.layout.span)),super(d,u),this.discriminator=r,this.usesPrefixDiscriminator=l,this.defaultLayout=c,this.registry={};let y=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(m){return y(m)},this.configGetSourceVariant=function(m){y=m.bind(this)}}getSpan(r,c){if(0<=this.span)return this.span;c===void 0&&(c=0);const u=this.getVariant(r,c);if(!u)throw new Error("unable to determine span for unrecognized variant");return u.getSpan(r,c)}defaultGetSourceVariant(r){if(r.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&r.hasOwnProperty(this.defaultLayout.property))return;const c=this.registry[r[this.discriminator.property]];if(c&&(!c.layout||r.hasOwnProperty(c.property)))return c}else for(const c in this.registry){const u=this.registry[c];if(r.hasOwnProperty(u.property))return u}throw new Error("unable to infer src variant")}decode(r,c){c===void 0&&(c=0);let u;const l=this.discriminator,d=l.decode(r,c);let y=this.registry[d];if(y===void 0){let m=0;y=this.defaultLayout,this.usesPrefixDiscriminator&&(m=l.layout.span),u=this.makeDestinationObject(),u[l.property]=d,u[y.property]=this.defaultLayout.decode(r,c+m)}else u=y.decode(r,c);return u}encode(r,c,u){u===void 0&&(u=0);const l=this.getSourceVariant(r);if(l===void 0){const d=this.discriminator,y=this.defaultLayout;let m=0;return this.usesPrefixDiscriminator&&(m=d.layout.span),d.encode(r[d.property],c,u),m+y.encode(r[y.property],c,u+m)}return l.encode(r,c,u)}addVariant(r,c,u){const l=new VariantLayout(this,r,c,u);return this.registry[r]=l,l}getVariant(r,c){let u=r;return Buffer.isBuffer(r)&&(c===void 0&&(c=0),u=this.discriminator.decode(r,c)),this.registry[u]}}class VariantLayout extends Layout$1{constructor(r,c,u,l){if(!(r instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(c)||0>c)throw new TypeError("variant must be a (non-negative) integer");if(typeof u=="string"&&l===void 0&&(l=u,u=null),u){if(!(u instanceof Layout$1))throw new TypeError("layout must be a Layout");if(r.defaultLayout!==null&&0<=u.span&&u.span>r.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof l!="string")throw new TypeError("variant must have a String property")}let d=r.span;0>r.span&&(d=u?u.span:0,0<=d&&r.usesPrefixDiscriminator&&(d+=r.discriminator.layout.span)),super(d,l),this.union=r,this.variant=c,this.layout=u||null}getSpan(r,c){if(0<=this.span)return this.span;c===void 0&&(c=0);let u=0;return this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span),u+this.layout.getSpan(r,c+u)}decode(r,c){const u=this.makeDestinationObject();if(c===void 0&&(c=0),this!==this.union.getVariant(r,c))throw new Error("variant mismatch");let l=0;return this.union.usesPrefixDiscriminator&&(l=this.union.discriminator.layout.span),this.layout?u[this.property]=this.layout.decode(r,c+l):this.property?u[this.property]=!0:this.union.usesPrefixDiscriminator&&(u[this.union.discriminator.property]=this.variant),u}encode(r,c,u){u===void 0&&(u=0);let l=0;if(this.union.usesPrefixDiscriminator&&(l=this.union.discriminator.layout.span),this.layout&&!r.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,c,u);let d=l;if(this.layout&&(this.layout.encode(r[this.property],c,u+l),d+=this.layout.getSpan(c,u+l),0<=this.union.span&&d>this.union.span))throw new Error("encoded variant overruns containing union");return d}fromArray(r){if(this.layout)return this.layout.fromArray(r)}}function fixBitwiseResult(a){return 0>a&&(a+=4294967296),a}class BitStructure extends Layout$1{constructor(r,c,u){if(!(r instanceof UInt$1||r instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof c=="string"&&u===void 0&&(u=c,c=void 0),4<r.span)throw new RangeError("word cannot exceed 32 bits");super(r.span,u),this.word=r,this.msb=!!c,this.fields=[];let l=0;this._packedSetValue=function(d){return l=fixBitwiseResult(d),this},this._packedGetValue=function(){return l}}decode(r,c){const u=this.makeDestinationObject();c===void 0&&(c=0);const l=this.word.decode(r,c);this._packedSetValue(l);for(const d of this.fields)d.property!==void 0&&(u[d.property]=d.decode(l));return u}encode(r,c,u){u===void 0&&(u=0);const l=this.word.decode(c,u);this._packedSetValue(l);for(const d of this.fields)if(d.property!==void 0){const y=r[d.property];y!==void 0&&d.encode(y)}return this.word.encode(this._packedGetValue(),c,u)}addField(r,c){const u=new BitField(this,r,c);return this.fields.push(u),u}addBoolean(r){const c=new Boolean$1(this,r);return this.fields.push(c),c}fieldFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const c of this.fields)if(c.property===r)return c}}class BitField{constructor(r,c,u){if(!(r instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(c)||0>=c)throw new TypeError("bits must be positive integer");const l=8*r.span,d=r.fields.reduce((y,m)=>y+m.bits,0);if(c+d>l)throw new Error("bits too long for span remainder ("+(l-d)+" of "+l+" remain)");this.container=r,this.bits=c,this.valueMask=(1<<c)-1,c===32&&(this.valueMask=4294967295),this.start=d,this.container.msb&&(this.start=l-d-c),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=u}decode(){const r=this.container._packedGetValue();return fixBitwiseResult(r&this.wordMask)>>>this.start}encode(r){if(!Number.isInteger(r)||r!==fixBitwiseResult(r&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const c=this.container._packedGetValue(),u=fixBitwiseResult(r<<this.start);this.container._packedSetValue(fixBitwiseResult(c&~this.wordMask)|u)}}class Boolean$1 extends BitField{constructor(r,c){super(r,1,c)}decode(r,c){return!!BitField.prototype.decode.call(this,r,c)}encode(r){return typeof r=="boolean"&&(r=+r),BitField.prototype.encode.call(this,r)}}class Blob$2 extends Layout$1{constructor(r,c){if(!(r instanceof ExternalLayout$1&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let u=-1;r instanceof ExternalLayout$1||(u=r),super(u,c),this.length=r}getSpan(r,c){let u=this.span;return 0>u&&(u=this.length.decode(r,c)),u}decode(r,c){c===void 0&&(c=0);let u=this.span;return 0>u&&(u=this.length.decode(r,c)),r.slice(c,c+u)}encode(r,c,u){let l=this.length;if(this.length instanceof ExternalLayout$1&&(l=r.length),!(Buffer.isBuffer(r)&&l===r.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+l+") Buffer as src");if(u+l>c.length)throw new RangeError("encoding overruns Buffer");return c.write(r.toString("hex"),u,l,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(l,c,u),l}}class CString extends Layout$1{constructor(r){super(-1,r)}getSpan(r,c){if(!Buffer.isBuffer(r))throw new TypeError("b must be a Buffer");c===void 0&&(c=0);let u=c;for(;u<r.length&&r[u]!==0;)u+=1;return 1+u-c}decode(r,c,u){c===void 0&&(c=0);let l=this.getSpan(r,c);return r.slice(c,c+l-1).toString("utf-8")}encode(r,c,u){u===void 0&&(u=0),typeof r!="string"&&(r=r.toString());const l=new Buffer(r,"utf8"),d=l.length;if(u+d>c.length)throw new RangeError("encoding overruns Buffer");return l.copy(c,u),c[u+d]=0,d+1}}class UTF8 extends Layout$1{constructor(r,c){if(typeof r=="string"&&c===void 0&&(c=r,r=void 0),r===void 0)r=-1;else if(!Number.isInteger(r))throw new TypeError("maxSpan must be an integer");super(-1,c),this.maxSpan=r}getSpan(r,c){if(!Buffer.isBuffer(r))throw new TypeError("b must be a Buffer");return c===void 0&&(c=0),r.length-c}decode(r,c,u){c===void 0&&(c=0);let l=this.getSpan(r,c);if(0<=this.maxSpan&&this.maxSpan<l)throw new RangeError("text length exceeds maxSpan");return r.slice(c,c+l).toString("utf-8")}encode(r,c,u){u===void 0&&(u=0),typeof r!="string"&&(r=r.toString());const l=new Buffer(r,"utf8"),d=l.length;if(0<=this.maxSpan&&this.maxSpan<d)throw new RangeError("text length exceeds maxSpan");if(u+d>c.length)throw new RangeError("encoding overruns Buffer");return l.copy(c,u),d}}class Constant extends Layout$1{constructor(r,c){super(0,c),this.value=r}decode(r,c,u){return this.value}encode(r,c,u){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$2.Union=Union;Layout$2.VariantLayout=VariantLayout;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(a,r)=>new GreedyCount(a,r);Layout$2.offset=(a,r,c)=>new OffsetLayout(a,r,c);Layout$2.u8=a=>new UInt$1(1,a);Layout$2.u16=a=>new UInt$1(2,a);Layout$2.u24=a=>new UInt$1(3,a);Layout$2.u32=a=>new UInt$1(4,a);Layout$2.u40=a=>new UInt$1(5,a);Layout$2.u48=a=>new UInt$1(6,a);Layout$2.nu64=a=>new NearUInt64(a);Layout$2.u16be=a=>new UIntBE(2,a);Layout$2.u24be=a=>new UIntBE(3,a);Layout$2.u32be=a=>new UIntBE(4,a);Layout$2.u40be=a=>new UIntBE(5,a);Layout$2.u48be=a=>new UIntBE(6,a);Layout$2.nu64be=a=>new NearUInt64BE(a);Layout$2.s8=a=>new Int(1,a);Layout$2.s16=a=>new Int(2,a);Layout$2.s24=a=>new Int(3,a);Layout$2.s32=a=>new Int(4,a);Layout$2.s40=a=>new Int(5,a);Layout$2.s48=a=>new Int(6,a);Layout$2.ns64=a=>new NearInt64(a);Layout$2.s16be=a=>new IntBE(2,a);Layout$2.s24be=a=>new IntBE(3,a);Layout$2.s32be=a=>new IntBE(4,a);Layout$2.s40be=a=>new IntBE(5,a);Layout$2.s48be=a=>new IntBE(6,a);Layout$2.ns64be=a=>new NearInt64BE(a);Layout$2.f32=a=>new Float(a);Layout$2.f32be=a=>new FloatBE(a);Layout$2.f64=a=>new Double(a);Layout$2.f64be=a=>new DoubleBE(a);Layout$2.struct=(a,r,c)=>new Structure$1(a,r,c);Layout$2.bits=(a,r,c)=>new BitStructure(a,r,c);Layout$2.seq=(a,r,c)=>new Sequence(a,r,c);Layout$2.union=(a,r,c)=>new Union(a,r,c);Layout$2.unionLayoutDiscriminator=(a,r)=>new UnionLayoutDiscriminator(a,r);Layout$2.blob=(a,r)=>new Blob$2(a,r);Layout$2.cstr=a=>new CString(a);Layout$2.utf8=(a,r)=>new UTF8(a,r);Layout$2.const=(a,r)=>new Constant(a,r);const require$$0$2=getAugmentedNamespace(index_browser_esm$1);(function(a){var r=commonjsGlobal&&commonjsGlobal.__importDefault||function(an){return an&&an.__esModule?an:{default:an}};Object.defineProperty(a,"__esModule",{value:!0}),a.map=a.array=a.rustEnum=a.str=a.vecU8=a.tagged=a.vec=a.bool=a.option=a.publicKey=a.i128=a.u128=a.i64=a.u64=a.struct=a.f64=a.f32=a.i32=a.u32=a.i16=a.u16=a.i8=a.u8=void 0;const c=Layout$2,u=require$$0$2,l=r(bn.exports);var d=Layout$2;Object.defineProperty(a,"u8",{enumerable:!0,get:function(){return d.u8}}),Object.defineProperty(a,"i8",{enumerable:!0,get:function(){return d.s8}}),Object.defineProperty(a,"u16",{enumerable:!0,get:function(){return d.u16}}),Object.defineProperty(a,"i16",{enumerable:!0,get:function(){return d.s16}}),Object.defineProperty(a,"u32",{enumerable:!0,get:function(){return d.u32}}),Object.defineProperty(a,"i32",{enumerable:!0,get:function(){return d.s32}}),Object.defineProperty(a,"f32",{enumerable:!0,get:function(){return d.f32}}),Object.defineProperty(a,"f64",{enumerable:!0,get:function(){return d.f64}}),Object.defineProperty(a,"struct",{enumerable:!0,get:function(){return d.struct}});class y extends c.Layout{constructor(fn,mn,Mr){super(fn,Mr),this.blob=c.blob(fn),this.signed=mn}decode(fn,mn=0){const Mr=new l.default(this.blob.decode(fn,mn),10,"le");return this.signed?Mr.fromTwos(this.span*8).clone():Mr}encode(fn,mn,Mr=0){return this.signed&&(fn=fn.toTwos(this.span*8)),this.blob.encode(fn.toArrayLike(Buffer,"le",this.span),mn,Mr)}}function m(an){return new y(8,!1,an)}a.u64=m;function wr(an){return new y(8,!0,an)}a.i64=wr;function Sr(an){return new y(16,!1,an)}a.u128=Sr;function Ar(an){return new y(16,!0,an)}a.i128=Ar;class Ir extends c.Layout{constructor(fn,mn,Mr,xr){super(fn.span,xr),this.layout=fn,this.decoder=mn,this.encoder=Mr}decode(fn,mn){return this.decoder(this.layout.decode(fn,mn))}encode(fn,mn,Mr){return this.layout.encode(this.encoder(fn),mn,Mr)}getSpan(fn,mn){return this.layout.getSpan(fn,mn)}}function $r(an){return new Ir(c.blob(32),fn=>new u.PublicKey(fn),fn=>fn.toBuffer(),an)}a.publicKey=$r;class kr extends c.Layout{constructor(fn,mn){super(-1,mn),this.layout=fn,this.discriminator=c.u8()}encode(fn,mn,Mr=0){return fn==null?this.discriminator.encode(0,mn,Mr):(this.discriminator.encode(1,mn,Mr),this.layout.encode(fn,mn,Mr+1)+1)}decode(fn,mn=0){const Mr=this.discriminator.decode(fn,mn);if(Mr===0)return null;if(Mr===1)return this.layout.decode(fn,mn+1);throw new Error("Invalid option "+this.property)}getSpan(fn,mn=0){const Mr=this.discriminator.decode(fn,mn);if(Mr===0)return 1;if(Mr===1)return this.layout.getSpan(fn,mn+1)+1;throw new Error("Invalid option "+this.property)}}function Dr(an,fn){return new kr(an,fn)}a.option=Dr;function Cr(an){return new Ir(c.u8(),Br,Fr,an)}a.bool=Cr;function Br(an){if(an===0)return!1;if(an===1)return!0;throw new Error("Invalid bool: "+an)}function Fr(an){return an?1:0}function qr(an,fn){const mn=c.u32("length"),Mr=c.struct([mn,c.seq(an,c.offset(mn,-mn.span),"values")]);return new Ir(Mr,({values:xr})=>xr,xr=>({values:xr}),fn)}a.vec=qr;function Vr(an,fn,mn){const Mr=c.struct([m("tag"),fn.replicate("data")]);function xr({tag:Pr,data:Kr}){if(!Pr.eq(an))throw new Error("Invalid tag, expected: "+an.toString("hex")+", got: "+Pr.toString("hex"));return Kr}return new Ir(Mr,xr,Pr=>({tag:an,data:Pr}),mn)}a.tagged=Vr;function Jr(an){const fn=c.u32("length"),mn=c.struct([fn,c.blob(c.offset(fn,-fn.span),"data")]);return new Ir(mn,({data:Mr})=>Mr,Mr=>({data:Mr}),an)}a.vecU8=Jr;function Qr(an){return new Ir(Jr(),fn=>fn.toString("utf-8"),fn=>Buffer.from(fn,"utf-8"),an)}a.str=Qr;function Wr(an,fn,mn){const Mr=c.union(mn??c.u8(),fn);return an.forEach((xr,Pr)=>Mr.addVariant(Pr,xr,xr.property)),Mr}a.rustEnum=Wr;function Zr(an,fn,mn){const Mr=c.struct([c.seq(an,fn,"values")]);return new Ir(Mr,({values:xr})=>xr,xr=>({values:xr}),mn)}a.array=Zr;class rn extends c.Layout{constructor(fn,mn,Mr){super(fn.span+mn.span,Mr),this.keyLayout=fn,this.valueLayout=mn}decode(fn,mn){mn=mn||0;const Mr=this.keyLayout.decode(fn,mn),xr=this.valueLayout.decode(fn,mn+this.keyLayout.getSpan(fn,mn));return[Mr,xr]}encode(fn,mn,Mr){Mr=Mr||0;const xr=this.keyLayout.encode(fn[0],mn,Mr),Pr=this.valueLayout.encode(fn[1],mn,Mr+xr);return xr+Pr}getSpan(fn,mn){return this.keyLayout.getSpan(fn,mn)+this.valueLayout.getSpan(fn,mn)}}function gn(an,fn,mn){const Mr=c.u32("length"),xr=c.struct([Mr,c.seq(new rn(an,fn),c.offset(Mr,-Mr.span),"values")]);return new Ir(xr,({values:Pr})=>new Map(Pr),Pr=>({values:Array.from(Pr.entries())}),mn)}a.map=gn})(lib);/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(a){let r=a.length;for(;--r>=0;)a[r]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(a,r,c,u,l){this.static_tree=a,this.extra_bits=r,this.extra_base=c,this.elems=u,this.max_length=l,this.has_stree=a&&a.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(a,r){this.dyn_tree=a,this.max_code=0,this.stat_desc=r}const d_code=a=>a<256?_dist_code[a]:_dist_code[256+(a>>>7)],put_short=(a,r)=>{a.pending_buf[a.pending++]=r&255,a.pending_buf[a.pending++]=r>>>8&255},send_bits=(a,r,c)=>{a.bi_valid>Buf_size-c?(a.bi_buf|=r<<a.bi_valid&65535,put_short(a,a.bi_buf),a.bi_buf=r>>Buf_size-a.bi_valid,a.bi_valid+=c-Buf_size):(a.bi_buf|=r<<a.bi_valid&65535,a.bi_valid+=c)},send_code=(a,r,c)=>{send_bits(a,c[r*2],c[r*2+1])},bi_reverse=(a,r)=>{let c=0;do c|=a&1,a>>>=1,c<<=1;while(--r>0);return c>>>1},bi_flush=a=>{a.bi_valid===16?(put_short(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)},gen_bitlen=(a,r)=>{const c=r.dyn_tree,u=r.max_code,l=r.stat_desc.static_tree,d=r.stat_desc.has_stree,y=r.stat_desc.extra_bits,m=r.stat_desc.extra_base,wr=r.stat_desc.max_length;let Sr,Ar,Ir,$r,kr,Dr,Cr=0;for($r=0;$r<=MAX_BITS$1;$r++)a.bl_count[$r]=0;for(c[a.heap[a.heap_max]*2+1]=0,Sr=a.heap_max+1;Sr<HEAP_SIZE$1;Sr++)Ar=a.heap[Sr],$r=c[c[Ar*2+1]*2+1]+1,$r>wr&&($r=wr,Cr++),c[Ar*2+1]=$r,!(Ar>u)&&(a.bl_count[$r]++,kr=0,Ar>=m&&(kr=y[Ar-m]),Dr=c[Ar*2],a.opt_len+=Dr*($r+kr),d&&(a.static_len+=Dr*(l[Ar*2+1]+kr)));if(Cr!==0){do{for($r=wr-1;a.bl_count[$r]===0;)$r--;a.bl_count[$r]--,a.bl_count[$r+1]+=2,a.bl_count[wr]--,Cr-=2}while(Cr>0);for($r=wr;$r!==0;$r--)for(Ar=a.bl_count[$r];Ar!==0;)Ir=a.heap[--Sr],!(Ir>u)&&(c[Ir*2+1]!==$r&&(a.opt_len+=($r-c[Ir*2+1])*c[Ir*2],c[Ir*2+1]=$r),Ar--)}},gen_codes=(a,r,c)=>{const u=new Array(MAX_BITS$1+1);let l=0,d,y;for(d=1;d<=MAX_BITS$1;d++)u[d]=l=l+c[d-1]<<1;for(y=0;y<=r;y++){let m=a[y*2+1];m!==0&&(a[y*2]=bi_reverse(u[m]++,m))}},tr_static_init=()=>{let a,r,c,u,l;const d=new Array(MAX_BITS$1+1);for(c=0,u=0;u<LENGTH_CODES$1-1;u++)for(base_length[u]=c,a=0;a<1<<extra_lbits[u];a++)_length_code[c++]=u;for(_length_code[c-1]=u,l=0,u=0;u<16;u++)for(base_dist[u]=l,a=0;a<1<<extra_dbits[u];a++)_dist_code[l++]=u;for(l>>=7;u<D_CODES$1;u++)for(base_dist[u]=l<<7,a=0;a<1<<extra_dbits[u]-7;a++)_dist_code[256+l++]=u;for(r=0;r<=MAX_BITS$1;r++)d[r]=0;for(a=0;a<=143;)static_ltree[a*2+1]=8,a++,d[8]++;for(;a<=255;)static_ltree[a*2+1]=9,a++,d[9]++;for(;a<=279;)static_ltree[a*2+1]=7,a++,d[7]++;for(;a<=287;)static_ltree[a*2+1]=8,a++,d[8]++;for(gen_codes(static_ltree,L_CODES$1+1,d),a=0;a<D_CODES$1;a++)static_dtree[a*2+1]=5,static_dtree[a*2]=bi_reverse(a,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=a=>{let r;for(r=0;r<L_CODES$1;r++)a.dyn_ltree[r*2]=0;for(r=0;r<D_CODES$1;r++)a.dyn_dtree[r*2]=0;for(r=0;r<BL_CODES$1;r++)a.bl_tree[r*2]=0;a.dyn_ltree[END_BLOCK*2]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0},bi_windup=a=>{a.bi_valid>8?put_short(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0},copy_block=(a,r,c,u)=>{bi_windup(a),u&&(put_short(a,c),put_short(a,~c)),a.pending_buf.set(a.window.subarray(r,r+c),a.pending),a.pending+=c},smaller=(a,r,c,u)=>{const l=r*2,d=c*2;return a[l]<a[d]||a[l]===a[d]&&u[r]<=u[c]},pqdownheap=(a,r,c)=>{const u=a.heap[c];let l=c<<1;for(;l<=a.heap_len&&(l<a.heap_len&&smaller(r,a.heap[l+1],a.heap[l],a.depth)&&l++,!smaller(r,u,a.heap[l],a.depth));)a.heap[c]=a.heap[l],c=l,l<<=1;a.heap[c]=u},compress_block=(a,r,c)=>{let u,l,d=0,y,m;if(a.last_lit!==0)do u=a.pending_buf[a.d_buf+d*2]<<8|a.pending_buf[a.d_buf+d*2+1],l=a.pending_buf[a.l_buf+d],d++,u===0?send_code(a,l,r):(y=_length_code[l],send_code(a,y+LITERALS$1+1,r),m=extra_lbits[y],m!==0&&(l-=base_length[y],send_bits(a,l,m)),u--,y=d_code(u),send_code(a,y,c),m=extra_dbits[y],m!==0&&(u-=base_dist[y],send_bits(a,u,m)));while(d<a.last_lit);send_code(a,END_BLOCK,r)},build_tree=(a,r)=>{const c=r.dyn_tree,u=r.stat_desc.static_tree,l=r.stat_desc.has_stree,d=r.stat_desc.elems;let y,m,wr=-1,Sr;for(a.heap_len=0,a.heap_max=HEAP_SIZE$1,y=0;y<d;y++)c[y*2]!==0?(a.heap[++a.heap_len]=wr=y,a.depth[y]=0):c[y*2+1]=0;for(;a.heap_len<2;)Sr=a.heap[++a.heap_len]=wr<2?++wr:0,c[Sr*2]=1,a.depth[Sr]=0,a.opt_len--,l&&(a.static_len-=u[Sr*2+1]);for(r.max_code=wr,y=a.heap_len>>1;y>=1;y--)pqdownheap(a,c,y);Sr=d;do y=a.heap[1],a.heap[1]=a.heap[a.heap_len--],pqdownheap(a,c,1),m=a.heap[1],a.heap[--a.heap_max]=y,a.heap[--a.heap_max]=m,c[Sr*2]=c[y*2]+c[m*2],a.depth[Sr]=(a.depth[y]>=a.depth[m]?a.depth[y]:a.depth[m])+1,c[y*2+1]=c[m*2+1]=Sr,a.heap[1]=Sr++,pqdownheap(a,c,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],gen_bitlen(a,r),gen_codes(c,wr,a.bl_count)},scan_tree=(a,r,c)=>{let u,l=-1,d,y=r[0*2+1],m=0,wr=7,Sr=4;for(y===0&&(wr=138,Sr=3),r[(c+1)*2+1]=65535,u=0;u<=c;u++)d=y,y=r[(u+1)*2+1],!(++m<wr&&d===y)&&(m<Sr?a.bl_tree[d*2]+=m:d!==0?(d!==l&&a.bl_tree[d*2]++,a.bl_tree[REP_3_6*2]++):m<=10?a.bl_tree[REPZ_3_10*2]++:a.bl_tree[REPZ_11_138*2]++,m=0,l=d,y===0?(wr=138,Sr=3):d===y?(wr=6,Sr=3):(wr=7,Sr=4))},send_tree=(a,r,c)=>{let u,l=-1,d,y=r[0*2+1],m=0,wr=7,Sr=4;for(y===0&&(wr=138,Sr=3),u=0;u<=c;u++)if(d=y,y=r[(u+1)*2+1],!(++m<wr&&d===y)){if(m<Sr)do send_code(a,d,a.bl_tree);while(--m!==0);else d!==0?(d!==l&&(send_code(a,d,a.bl_tree),m--),send_code(a,REP_3_6,a.bl_tree),send_bits(a,m-3,2)):m<=10?(send_code(a,REPZ_3_10,a.bl_tree),send_bits(a,m-3,3)):(send_code(a,REPZ_11_138,a.bl_tree),send_bits(a,m-11,7));m=0,l=d,y===0?(wr=138,Sr=3):d===y?(wr=6,Sr=3):(wr=7,Sr=4)}},build_bl_tree=a=>{let r;for(scan_tree(a,a.dyn_ltree,a.l_desc.max_code),scan_tree(a,a.dyn_dtree,a.d_desc.max_code),build_tree(a,a.bl_desc),r=BL_CODES$1-1;r>=3&&a.bl_tree[bl_order[r]*2+1]===0;r--);return a.opt_len+=3*(r+1)+5+5+4,r},send_all_trees=(a,r,c,u)=>{let l;for(send_bits(a,r-257,5),send_bits(a,c-1,5),send_bits(a,u-4,4),l=0;l<u;l++)send_bits(a,a.bl_tree[bl_order[l]*2+1],3);send_tree(a,a.dyn_ltree,r-1),send_tree(a,a.dyn_dtree,c-1)},detect_data_type=a=>{let r=4093624447,c;for(c=0;c<=31;c++,r>>>=1)if(r&1&&a.dyn_ltree[c*2]!==0)return Z_BINARY;if(a.dyn_ltree[9*2]!==0||a.dyn_ltree[10*2]!==0||a.dyn_ltree[13*2]!==0)return Z_TEXT;for(c=32;c<LITERALS$1;c++)if(a.dyn_ltree[c*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=a=>{static_init_done||(tr_static_init(),static_init_done=!0),a.l_desc=new TreeDesc(a.dyn_ltree,static_l_desc),a.d_desc=new TreeDesc(a.dyn_dtree,static_d_desc),a.bl_desc=new TreeDesc(a.bl_tree,static_bl_desc),a.bi_buf=0,a.bi_valid=0,init_block(a)},_tr_stored_block$1=(a,r,c,u)=>{send_bits(a,(STORED_BLOCK<<1)+(u?1:0),3),copy_block(a,r,c,!0)},_tr_align$1=a=>{send_bits(a,STATIC_TREES<<1,3),send_code(a,END_BLOCK,static_ltree),bi_flush(a)},_tr_flush_block$1=(a,r,c,u)=>{let l,d,y=0;a.level>0?(a.strm.data_type===Z_UNKNOWN$1&&(a.strm.data_type=detect_data_type(a)),build_tree(a,a.l_desc),build_tree(a,a.d_desc),y=build_bl_tree(a),l=a.opt_len+3+7>>>3,d=a.static_len+3+7>>>3,d<=l&&(l=d)):l=d=c+5,c+4<=l&&r!==-1?_tr_stored_block$1(a,r,c,u):a.strategy===Z_FIXED$1||d===l?(send_bits(a,(STATIC_TREES<<1)+(u?1:0),3),compress_block(a,static_ltree,static_dtree)):(send_bits(a,(DYN_TREES<<1)+(u?1:0),3),send_all_trees(a,a.l_desc.max_code+1,a.d_desc.max_code+1,y+1),compress_block(a,a.dyn_ltree,a.dyn_dtree)),init_block(a),u&&bi_windup(a)},_tr_tally$1=(a,r,c)=>(a.pending_buf[a.d_buf+a.last_lit*2]=r>>>8&255,a.pending_buf[a.d_buf+a.last_lit*2+1]=r&255,a.pending_buf[a.l_buf+a.last_lit]=c&255,a.last_lit++,r===0?a.dyn_ltree[c*2]++:(a.matches++,r--,a.dyn_ltree[(_length_code[c]+LITERALS$1+1)*2]++,a.dyn_dtree[d_code(r)*2]++),a.last_lit===a.lit_bufsize-1);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(a,r,c,u)=>{let l=a&65535|0,d=a>>>16&65535|0,y=0;for(;c!==0;){y=c>2e3?2e3:c,c-=y;do l=l+r[u++]|0,d=d+l|0;while(--y);l%=65521,d%=65521}return l|d<<16|0};var adler32_1=adler32;const makeTable=()=>{let a,r=[];for(var c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=a&1?3988292384^a>>>1:a>>>1;r[c]=a}return r},crcTable=new Uint32Array(makeTable()),crc32=(a,r,c,u)=>{const l=crcTable,d=u+c;a^=-1;for(let y=u;y<d;y++)a=a>>>8^l[(a^r[y])&255];return a^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(a,r)=>(a.msg=messages[r],r),rank=a=>(a<<1)-(a>4?9:0),zero=a=>{let r=a.length;for(;--r>=0;)a[r]=0};let HASH_ZLIB=(a,r,c)=>(r<<a.hash_shift^c)&a.hash_mask,HASH=HASH_ZLIB;const flush_pending=a=>{const r=a.state;let c=r.pending;c>a.avail_out&&(c=a.avail_out),c!==0&&(a.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+c),a.next_out),a.next_out+=c,r.pending_out+=c,a.total_out+=c,a.avail_out-=c,r.pending-=c,r.pending===0&&(r.pending_out=0))},flush_block_only=(a,r)=>{_tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,r),a.block_start=a.strstart,flush_pending(a.strm)},put_byte=(a,r)=>{a.pending_buf[a.pending++]=r},putShortMSB=(a,r)=>{a.pending_buf[a.pending++]=r>>>8&255,a.pending_buf[a.pending++]=r&255},read_buf=(a,r,c,u)=>{let l=a.avail_in;return l>u&&(l=u),l===0?0:(a.avail_in-=l,r.set(a.input.subarray(a.next_in,a.next_in+l),c),a.state.wrap===1?a.adler=adler32_1(a.adler,r,l,c):a.state.wrap===2&&(a.adler=crc32_1(a.adler,r,l,c)),a.next_in+=l,a.total_in+=l,l)},longest_match=(a,r)=>{let c=a.max_chain_length,u=a.strstart,l,d,y=a.prev_length,m=a.nice_match;const wr=a.strstart>a.w_size-MIN_LOOKAHEAD?a.strstart-(a.w_size-MIN_LOOKAHEAD):0,Sr=a.window,Ar=a.w_mask,Ir=a.prev,$r=a.strstart+MAX_MATCH;let kr=Sr[u+y-1],Dr=Sr[u+y];a.prev_length>=a.good_match&&(c>>=2),m>a.lookahead&&(m=a.lookahead);do if(l=r,!(Sr[l+y]!==Dr||Sr[l+y-1]!==kr||Sr[l]!==Sr[u]||Sr[++l]!==Sr[u+1])){u+=2,l++;do;while(Sr[++u]===Sr[++l]&&Sr[++u]===Sr[++l]&&Sr[++u]===Sr[++l]&&Sr[++u]===Sr[++l]&&Sr[++u]===Sr[++l]&&Sr[++u]===Sr[++l]&&Sr[++u]===Sr[++l]&&Sr[++u]===Sr[++l]&&u<$r);if(d=MAX_MATCH-($r-u),u=$r-MAX_MATCH,d>y){if(a.match_start=r,y=d,d>=m)break;kr=Sr[u+y-1],Dr=Sr[u+y]}}while((r=Ir[r&Ar])>wr&&--c!==0);return y<=a.lookahead?y:a.lookahead},fill_window=a=>{const r=a.w_size;let c,u,l,d,y;do{if(d=a.window_size-a.lookahead-a.strstart,a.strstart>=r+(r-MIN_LOOKAHEAD)){a.window.set(a.window.subarray(r,r+r),0),a.match_start-=r,a.strstart-=r,a.block_start-=r,u=a.hash_size,c=u;do l=a.head[--c],a.head[c]=l>=r?l-r:0;while(--u);u=r,c=u;do l=a.prev[--c],a.prev[c]=l>=r?l-r:0;while(--u);d+=r}if(a.strm.avail_in===0)break;if(u=read_buf(a.strm,a.window,a.strstart+a.lookahead,d),a.lookahead+=u,a.lookahead+a.insert>=MIN_MATCH)for(y=a.strstart-a.insert,a.ins_h=a.window[y],a.ins_h=HASH(a,a.ins_h,a.window[y+1]);a.insert&&(a.ins_h=HASH(a,a.ins_h,a.window[y+MIN_MATCH-1]),a.prev[y&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=y,y++,a.insert--,!(a.lookahead+a.insert<MIN_MATCH)););}while(a.lookahead<MIN_LOOKAHEAD&&a.strm.avail_in!==0)},deflate_stored=(a,r)=>{let c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(fill_window(a),a.lookahead===0&&r===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;const u=a.block_start+c;if((a.strstart===0||a.strstart>=u)&&(a.lookahead=a.strstart-u,a.strstart=u,flush_block_only(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-MIN_LOOKAHEAD&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,r===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(a.strstart>a.block_start&&(flush_block_only(a,!1),a.strm.avail_out===0),BS_NEED_MORE)},deflate_fast=(a,r)=>{let c,u;for(;;){if(a.lookahead<MIN_LOOKAHEAD){if(fill_window(a),a.lookahead<MIN_LOOKAHEAD&&r===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if(c=0,a.lookahead>=MIN_MATCH&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),c!==0&&a.strstart-c<=a.w_size-MIN_LOOKAHEAD&&(a.match_length=longest_match(a,c)),a.match_length>=MIN_MATCH)if(u=_tr_tally(a,a.strstart-a.match_start,a.match_length-MIN_MATCH),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=MIN_MATCH){a.match_length--;do a.strstart++,a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!==0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+1]);else u=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(u&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=a.strstart<MIN_MATCH-1?a.strstart:MIN_MATCH-1,r===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.last_lit&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(a,r)=>{let c,u,l;for(;;){if(a.lookahead<MIN_LOOKAHEAD){if(fill_window(a),a.lookahead<MIN_LOOKAHEAD&&r===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if(c=0,a.lookahead>=MIN_MATCH&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=MIN_MATCH-1,c!==0&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-MIN_LOOKAHEAD&&(a.match_length=longest_match(a,c),a.match_length<=5&&(a.strategy===Z_FILTERED||a.match_length===MIN_MATCH&&a.strstart-a.match_start>4096)&&(a.match_length=MIN_MATCH-1)),a.prev_length>=MIN_MATCH&&a.match_length<=a.prev_length){l=a.strstart+a.lookahead-MIN_MATCH,u=_tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-MIN_MATCH),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=l&&(a.ins_h=HASH(a,a.ins_h,a.window[a.strstart+MIN_MATCH-1]),c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!==0);if(a.match_available=0,a.match_length=MIN_MATCH-1,a.strstart++,u&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}else if(a.match_available){if(u=_tr_tally(a,0,a.window[a.strstart-1]),u&&flush_block_only(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return BS_NEED_MORE}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(u=_tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<MIN_MATCH-1?a.strstart:MIN_MATCH-1,r===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.last_lit&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(a,r)=>{let c,u,l,d;const y=a.window;for(;;){if(a.lookahead<=MAX_MATCH){if(fill_window(a),a.lookahead<=MAX_MATCH&&r===Z_NO_FLUSH$2)return BS_NEED_MORE;if(a.lookahead===0)break}if(a.match_length=0,a.lookahead>=MIN_MATCH&&a.strstart>0&&(l=a.strstart-1,u=y[l],u===y[++l]&&u===y[++l]&&u===y[++l])){d=a.strstart+MAX_MATCH;do;while(u===y[++l]&&u===y[++l]&&u===y[++l]&&u===y[++l]&&u===y[++l]&&u===y[++l]&&u===y[++l]&&u===y[++l]&&l<d);a.match_length=MAX_MATCH-(d-l),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=MIN_MATCH?(c=_tr_tally(a,1,a.match_length-MIN_MATCH),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,r===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.last_lit&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(a,r)=>{let c;for(;;){if(a.lookahead===0&&(fill_window(a),a.lookahead===0)){if(r===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(a.match_length=0,c=_tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(flush_block_only(a,!1),a.strm.avail_out===0))return BS_NEED_MORE}return a.insert=0,r===Z_FINISH$3?(flush_block_only(a,!0),a.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):a.last_lit&&(flush_block_only(a,!1),a.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(a,r,c,u,l){this.good_length=a,this.max_lazy=r,this.nice_length=c,this.max_chain=u,this.func=l}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=a=>{a.window_size=2*a.w_size,zero(a.head),a.max_lazy_match=configuration_table[a.level].max_lazy,a.good_match=configuration_table[a.level].good_length,a.nice_match=configuration_table[a.level].nice_length,a.max_chain_length=configuration_table[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=MIN_MATCH-1,a.match_available=0,a.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateResetKeep=a=>{if(!a||!a.state)return err(a,Z_STREAM_ERROR$2);a.total_in=a.total_out=0,a.data_type=Z_UNKNOWN;const r=a.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap?INIT_STATE:BUSY_STATE,a.adler=r.wrap===2?0:1,r.last_flush=Z_NO_FLUSH$2,_tr_init(r),Z_OK$3},deflateReset=a=>{const r=deflateResetKeep(a);return r===Z_OK$3&&lm_init(a.state),r},deflateSetHeader=(a,r)=>!a||!a.state||a.state.wrap!==2?Z_STREAM_ERROR$2:(a.state.gzhead=r,Z_OK$3),deflateInit2=(a,r,c,u,l,d)=>{if(!a)return Z_STREAM_ERROR$2;let y=1;if(r===Z_DEFAULT_COMPRESSION$1&&(r=6),u<0?(y=0,u=-u):u>15&&(y=2,u-=16),l<1||l>MAX_MEM_LEVEL||c!==Z_DEFLATED$2||u<8||u>15||r<0||r>9||d<0||d>Z_FIXED)return err(a,Z_STREAM_ERROR$2);u===8&&(u=9);const m=new DeflateState;return a.state=m,m.strm=a,m.wrap=y,m.gzhead=null,m.w_bits=u,m.w_size=1<<m.w_bits,m.w_mask=m.w_size-1,m.hash_bits=l+7,m.hash_size=1<<m.hash_bits,m.hash_mask=m.hash_size-1,m.hash_shift=~~((m.hash_bits+MIN_MATCH-1)/MIN_MATCH),m.window=new Uint8Array(m.w_size*2),m.head=new Uint16Array(m.hash_size),m.prev=new Uint16Array(m.w_size),m.lit_bufsize=1<<l+6,m.pending_buf_size=m.lit_bufsize*4,m.pending_buf=new Uint8Array(m.pending_buf_size),m.d_buf=1*m.lit_bufsize,m.l_buf=(1+2)*m.lit_bufsize,m.level=r,m.strategy=d,m.method=c,deflateReset(a)},deflateInit=(a,r)=>deflateInit2(a,r,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(a,r)=>{let c,u;if(!a||!a.state||r>Z_BLOCK$1||r<0)return a?err(a,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const l=a.state;if(!a.output||!a.input&&a.avail_in!==0||l.status===FINISH_STATE&&r!==Z_FINISH$3)return err(a,a.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);l.strm=a;const d=l.last_flush;if(l.last_flush=r,l.status===INIT_STATE)if(l.wrap===2)a.adler=0,put_byte(l,31),put_byte(l,139),put_byte(l,8),l.gzhead?(put_byte(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),put_byte(l,l.gzhead.time&255),put_byte(l,l.gzhead.time>>8&255),put_byte(l,l.gzhead.time>>16&255),put_byte(l,l.gzhead.time>>24&255),put_byte(l,l.level===9?2:l.strategy>=Z_HUFFMAN_ONLY||l.level<2?4:0),put_byte(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(put_byte(l,l.gzhead.extra.length&255),put_byte(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(a.adler=crc32_1(a.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=EXTRA_STATE):(put_byte(l,0),put_byte(l,0),put_byte(l,0),put_byte(l,0),put_byte(l,0),put_byte(l,l.level===9?2:l.strategy>=Z_HUFFMAN_ONLY||l.level<2?4:0),put_byte(l,OS_CODE),l.status=BUSY_STATE);else{let y=Z_DEFLATED$2+(l.w_bits-8<<4)<<8,m=-1;l.strategy>=Z_HUFFMAN_ONLY||l.level<2?m=0:l.level<6?m=1:l.level===6?m=2:m=3,y|=m<<6,l.strstart!==0&&(y|=PRESET_DICT),y+=31-y%31,l.status=BUSY_STATE,putShortMSB(l,y),l.strstart!==0&&(putShortMSB(l,a.adler>>>16),putShortMSB(l,a.adler&65535)),a.adler=1}if(l.status===EXTRA_STATE)if(l.gzhead.extra){for(c=l.pending;l.gzindex<(l.gzhead.extra.length&65535)&&!(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>c&&(a.adler=crc32_1(a.adler,l.pending_buf,l.pending-c,c)),flush_pending(a),c=l.pending,l.pending===l.pending_buf_size));)put_byte(l,l.gzhead.extra[l.gzindex]&255),l.gzindex++;l.gzhead.hcrc&&l.pending>c&&(a.adler=crc32_1(a.adler,l.pending_buf,l.pending-c,c)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=NAME_STATE)}else l.status=NAME_STATE;if(l.status===NAME_STATE)if(l.gzhead.name){c=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>c&&(a.adler=crc32_1(a.adler,l.pending_buf,l.pending-c,c)),flush_pending(a),c=l.pending,l.pending===l.pending_buf_size)){u=1;break}l.gzindex<l.gzhead.name.length?u=l.gzhead.name.charCodeAt(l.gzindex++)&255:u=0,put_byte(l,u)}while(u!==0);l.gzhead.hcrc&&l.pending>c&&(a.adler=crc32_1(a.adler,l.pending_buf,l.pending-c,c)),u===0&&(l.gzindex=0,l.status=COMMENT_STATE)}else l.status=COMMENT_STATE;if(l.status===COMMENT_STATE)if(l.gzhead.comment){c=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>c&&(a.adler=crc32_1(a.adler,l.pending_buf,l.pending-c,c)),flush_pending(a),c=l.pending,l.pending===l.pending_buf_size)){u=1;break}l.gzindex<l.gzhead.comment.length?u=l.gzhead.comment.charCodeAt(l.gzindex++)&255:u=0,put_byte(l,u)}while(u!==0);l.gzhead.hcrc&&l.pending>c&&(a.adler=crc32_1(a.adler,l.pending_buf,l.pending-c,c)),u===0&&(l.status=HCRC_STATE)}else l.status=HCRC_STATE;if(l.status===HCRC_STATE&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&flush_pending(a),l.pending+2<=l.pending_buf_size&&(put_byte(l,a.adler&255),put_byte(l,a.adler>>8&255),a.adler=0,l.status=BUSY_STATE)):l.status=BUSY_STATE),l.pending!==0){if(flush_pending(a),a.avail_out===0)return l.last_flush=-1,Z_OK$3}else if(a.avail_in===0&&rank(r)<=rank(d)&&r!==Z_FINISH$3)return err(a,Z_BUF_ERROR$1);if(l.status===FINISH_STATE&&a.avail_in!==0)return err(a,Z_BUF_ERROR$1);if(a.avail_in!==0||l.lookahead!==0||r!==Z_NO_FLUSH$2&&l.status!==FINISH_STATE){let y=l.strategy===Z_HUFFMAN_ONLY?deflate_huff(l,r):l.strategy===Z_RLE?deflate_rle(l,r):configuration_table[l.level].func(l,r);if((y===BS_FINISH_STARTED||y===BS_FINISH_DONE)&&(l.status=FINISH_STATE),y===BS_NEED_MORE||y===BS_FINISH_STARTED)return a.avail_out===0&&(l.last_flush=-1),Z_OK$3;if(y===BS_BLOCK_DONE&&(r===Z_PARTIAL_FLUSH?_tr_align(l):r!==Z_BLOCK$1&&(_tr_stored_block(l,0,0,!1),r===Z_FULL_FLUSH$1&&(zero(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),flush_pending(a),a.avail_out===0))return l.last_flush=-1,Z_OK$3}return r!==Z_FINISH$3?Z_OK$3:l.wrap<=0?Z_STREAM_END$3:(l.wrap===2?(put_byte(l,a.adler&255),put_byte(l,a.adler>>8&255),put_byte(l,a.adler>>16&255),put_byte(l,a.adler>>24&255),put_byte(l,a.total_in&255),put_byte(l,a.total_in>>8&255),put_byte(l,a.total_in>>16&255),put_byte(l,a.total_in>>24&255)):(putShortMSB(l,a.adler>>>16),putShortMSB(l,a.adler&65535)),flush_pending(a),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=a=>{if(!a||!a.state)return Z_STREAM_ERROR$2;const r=a.state.status;return r!==INIT_STATE&&r!==EXTRA_STATE&&r!==NAME_STATE&&r!==COMMENT_STATE&&r!==HCRC_STATE&&r!==BUSY_STATE&&r!==FINISH_STATE?err(a,Z_STREAM_ERROR$2):(a.state=null,r===BUSY_STATE?err(a,Z_DATA_ERROR$2):Z_OK$3)},deflateSetDictionary=(a,r)=>{let c=r.length;if(!a||!a.state)return Z_STREAM_ERROR$2;const u=a.state,l=u.wrap;if(l===2||l===1&&u.status!==INIT_STATE||u.lookahead)return Z_STREAM_ERROR$2;if(l===1&&(a.adler=adler32_1(a.adler,r,c,0)),u.wrap=0,c>=u.w_size){l===0&&(zero(u.head),u.strstart=0,u.block_start=0,u.insert=0);let wr=new Uint8Array(u.w_size);wr.set(r.subarray(c-u.w_size,c),0),r=wr,c=u.w_size}const d=a.avail_in,y=a.next_in,m=a.input;for(a.avail_in=c,a.next_in=0,a.input=r,fill_window(u);u.lookahead>=MIN_MATCH;){let wr=u.strstart,Sr=u.lookahead-(MIN_MATCH-1);do u.ins_h=HASH(u,u.ins_h,u.window[wr+MIN_MATCH-1]),u.prev[wr&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=wr,wr++;while(--Sr);u.strstart=wr,u.lookahead=MIN_MATCH-1,fill_window(u)}return u.strstart+=u.lookahead,u.block_start=u.strstart,u.insert=u.lookahead,u.lookahead=0,u.match_length=u.prev_length=MIN_MATCH-1,u.match_available=0,a.next_in=y,a.input=m,a.avail_in=d,u.wrap=l,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(a,r)=>Object.prototype.hasOwnProperty.call(a,r);var assign$1=function(a){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const c=r.shift();if(!!c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(const u in c)_has(c,u)&&(a[u]=c[u])}}return a},flattenChunks=a=>{let r=0;for(let u=0,l=a.length;u<l;u++)r+=a[u].length;const c=new Uint8Array(r);for(let u=0,l=0,d=a.length;u<d;u++){let y=a[u];c.set(y,l),l+=y.length}return c},common={assign:assign$1,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let a=0;a<256;a++)_utf8len[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=a=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(a);let r,c,u,l,d,y=a.length,m=0;for(l=0;l<y;l++)c=a.charCodeAt(l),(c&64512)===55296&&l+1<y&&(u=a.charCodeAt(l+1),(u&64512)===56320&&(c=65536+(c-55296<<10)+(u-56320),l++)),m+=c<128?1:c<2048?2:c<65536?3:4;for(r=new Uint8Array(m),d=0,l=0;d<m;l++)c=a.charCodeAt(l),(c&64512)===55296&&l+1<y&&(u=a.charCodeAt(l+1),(u&64512)===56320&&(c=65536+(c-55296<<10)+(u-56320),l++)),c<128?r[d++]=c:c<2048?(r[d++]=192|c>>>6,r[d++]=128|c&63):c<65536?(r[d++]=224|c>>>12,r[d++]=128|c>>>6&63,r[d++]=128|c&63):(r[d++]=240|c>>>18,r[d++]=128|c>>>12&63,r[d++]=128|c>>>6&63,r[d++]=128|c&63);return r};const buf2binstring=(a,r)=>{if(r<65534&&a.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,a.length===r?a:a.subarray(0,r));let c="";for(let u=0;u<r;u++)c+=String.fromCharCode(a[u]);return c};var buf2string=(a,r)=>{const c=r||a.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(a.subarray(0,r));let u,l;const d=new Array(c*2);for(l=0,u=0;u<c;){let y=a[u++];if(y<128){d[l++]=y;continue}let m=_utf8len[y];if(m>4){d[l++]=65533,u+=m-1;continue}for(y&=m===2?31:m===3?15:7;m>1&&u<c;)y=y<<6|a[u++]&63,m--;if(m>1){d[l++]=65533;continue}y<65536?d[l++]=y:(y-=65536,d[l++]=55296|y>>10&1023,d[l++]=56320|y&1023)}return buf2binstring(d,l)},utf8border=(a,r)=>{r=r||a.length,r>a.length&&(r=a.length);let c=r-1;for(;c>=0&&(a[c]&192)===128;)c--;return c<0||c===0?r:c+_utf8len[a[c]]>r?c:r},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(a){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},a||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let c=deflate_1$2.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(c!==Z_OK$2)throw new Error(messages[c]);if(r.header&&deflate_1$2.deflateSetHeader(this.strm,r.header),r.dictionary){let u;if(typeof r.dictionary=="string"?u=strings.string2buf(r.dictionary):toString$1.call(r.dictionary)==="[object ArrayBuffer]"?u=new Uint8Array(r.dictionary):u=r.dictionary,c=deflate_1$2.deflateSetDictionary(this.strm,u),c!==Z_OK$2)throw new Error(messages[c]);this._dict_set=!0}}Deflate$1.prototype.push=function(a,r){const c=this.strm,u=this.options.chunkSize;let l,d;if(this.ended)return!1;for(r===~~r?d=r:d=r===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof a=="string"?c.input=strings.string2buf(a):toString$1.call(a)==="[object ArrayBuffer]"?c.input=new Uint8Array(a):c.input=a,c.next_in=0,c.avail_in=c.input.length;;){if(c.avail_out===0&&(c.output=new Uint8Array(u),c.next_out=0,c.avail_out=u),(d===Z_SYNC_FLUSH||d===Z_FULL_FLUSH)&&c.avail_out<=6){this.onData(c.output.subarray(0,c.next_out)),c.avail_out=0;continue}if(l=deflate_1$2.deflate(c,d),l===Z_STREAM_END$2)return c.next_out>0&&this.onData(c.output.subarray(0,c.next_out)),l=deflate_1$2.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===Z_OK$2;if(c.avail_out===0){this.onData(c.output);continue}if(d>0&&c.next_out>0){this.onData(c.output.subarray(0,c.next_out)),c.avail_out=0;continue}if(c.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(a){this.chunks.push(a)};Deflate$1.prototype.onEnd=function(a){a===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};const BAD$1=30,TYPE$1=12;var inffast=function a(r,c){let u,l,d,y,m,wr,Sr,Ar,Ir,$r,kr,Dr,Cr,Br,Fr,qr,Vr,Jr,Qr,Wr,Zr,rn,gn,an;const fn=r.state;u=r.next_in,gn=r.input,l=u+(r.avail_in-5),d=r.next_out,an=r.output,y=d-(c-r.avail_out),m=d+(r.avail_out-257),wr=fn.dmax,Sr=fn.wsize,Ar=fn.whave,Ir=fn.wnext,$r=fn.window,kr=fn.hold,Dr=fn.bits,Cr=fn.lencode,Br=fn.distcode,Fr=(1<<fn.lenbits)-1,qr=(1<<fn.distbits)-1;e:do{Dr<15&&(kr+=gn[u++]<<Dr,Dr+=8,kr+=gn[u++]<<Dr,Dr+=8),Vr=Cr[kr&Fr];t:for(;;){if(Jr=Vr>>>24,kr>>>=Jr,Dr-=Jr,Jr=Vr>>>16&255,Jr===0)an[d++]=Vr&65535;else if(Jr&16){Qr=Vr&65535,Jr&=15,Jr&&(Dr<Jr&&(kr+=gn[u++]<<Dr,Dr+=8),Qr+=kr&(1<<Jr)-1,kr>>>=Jr,Dr-=Jr),Dr<15&&(kr+=gn[u++]<<Dr,Dr+=8,kr+=gn[u++]<<Dr,Dr+=8),Vr=Br[kr&qr];r:for(;;){if(Jr=Vr>>>24,kr>>>=Jr,Dr-=Jr,Jr=Vr>>>16&255,Jr&16){if(Wr=Vr&65535,Jr&=15,Dr<Jr&&(kr+=gn[u++]<<Dr,Dr+=8,Dr<Jr&&(kr+=gn[u++]<<Dr,Dr+=8)),Wr+=kr&(1<<Jr)-1,Wr>wr){r.msg="invalid distance too far back",fn.mode=BAD$1;break e}if(kr>>>=Jr,Dr-=Jr,Jr=d-y,Wr>Jr){if(Jr=Wr-Jr,Jr>Ar&&fn.sane){r.msg="invalid distance too far back",fn.mode=BAD$1;break e}if(Zr=0,rn=$r,Ir===0){if(Zr+=Sr-Jr,Jr<Qr){Qr-=Jr;do an[d++]=$r[Zr++];while(--Jr);Zr=d-Wr,rn=an}}else if(Ir<Jr){if(Zr+=Sr+Ir-Jr,Jr-=Ir,Jr<Qr){Qr-=Jr;do an[d++]=$r[Zr++];while(--Jr);if(Zr=0,Ir<Qr){Jr=Ir,Qr-=Jr;do an[d++]=$r[Zr++];while(--Jr);Zr=d-Wr,rn=an}}}else if(Zr+=Ir-Jr,Jr<Qr){Qr-=Jr;do an[d++]=$r[Zr++];while(--Jr);Zr=d-Wr,rn=an}for(;Qr>2;)an[d++]=rn[Zr++],an[d++]=rn[Zr++],an[d++]=rn[Zr++],Qr-=3;Qr&&(an[d++]=rn[Zr++],Qr>1&&(an[d++]=rn[Zr++]))}else{Zr=d-Wr;do an[d++]=an[Zr++],an[d++]=an[Zr++],an[d++]=an[Zr++],Qr-=3;while(Qr>2);Qr&&(an[d++]=an[Zr++],Qr>1&&(an[d++]=an[Zr++]))}}else if((Jr&64)===0){Vr=Br[(Vr&65535)+(kr&(1<<Jr)-1)];continue r}else{r.msg="invalid distance code",fn.mode=BAD$1;break e}break}}else if((Jr&64)===0){Vr=Cr[(Vr&65535)+(kr&(1<<Jr)-1)];continue t}else if(Jr&32){fn.mode=TYPE$1;break e}else{r.msg="invalid literal/length code",fn.mode=BAD$1;break e}break}}while(u<l&&d<m);Qr=Dr>>3,u-=Qr,Dr-=Qr<<3,kr&=(1<<Dr)-1,r.next_in=u,r.next_out=d,r.avail_in=u<l?5+(l-u):5-(u-l),r.avail_out=d<m?257+(m-d):257-(d-m),fn.hold=kr,fn.bits=Dr};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(a,r,c,u,l,d,y,m)=>{const wr=m.bits;let Sr=0,Ar=0,Ir=0,$r=0,kr=0,Dr=0,Cr=0,Br=0,Fr=0,qr=0,Vr,Jr,Qr,Wr,Zr,rn=null,gn=0,an;const fn=new Uint16Array(MAXBITS+1),mn=new Uint16Array(MAXBITS+1);let Mr=null,xr=0,Pr,Kr,Hr;for(Sr=0;Sr<=MAXBITS;Sr++)fn[Sr]=0;for(Ar=0;Ar<u;Ar++)fn[r[c+Ar]]++;for(kr=wr,$r=MAXBITS;$r>=1&&fn[$r]===0;$r--);if(kr>$r&&(kr=$r),$r===0)return l[d++]=1<<24|64<<16|0,l[d++]=1<<24|64<<16|0,m.bits=1,0;for(Ir=1;Ir<$r&&fn[Ir]===0;Ir++);for(kr<Ir&&(kr=Ir),Br=1,Sr=1;Sr<=MAXBITS;Sr++)if(Br<<=1,Br-=fn[Sr],Br<0)return-1;if(Br>0&&(a===CODES$1||$r!==1))return-1;for(mn[1]=0,Sr=1;Sr<MAXBITS;Sr++)mn[Sr+1]=mn[Sr]+fn[Sr];for(Ar=0;Ar<u;Ar++)r[c+Ar]!==0&&(y[mn[r[c+Ar]]++]=Ar);if(a===CODES$1?(rn=Mr=y,an=19):a===LENS$1?(rn=lbase,gn-=257,Mr=lext,xr-=257,an=256):(rn=dbase,Mr=dext,an=-1),qr=0,Ar=0,Sr=Ir,Zr=d,Dr=kr,Cr=0,Qr=-1,Fr=1<<kr,Wr=Fr-1,a===LENS$1&&Fr>ENOUGH_LENS$1||a===DISTS$1&&Fr>ENOUGH_DISTS$1)return 1;for(;;){Pr=Sr-Cr,y[Ar]<an?(Kr=0,Hr=y[Ar]):y[Ar]>an?(Kr=Mr[xr+y[Ar]],Hr=rn[gn+y[Ar]]):(Kr=32+64,Hr=0),Vr=1<<Sr-Cr,Jr=1<<Dr,Ir=Jr;do Jr-=Vr,l[Zr+(qr>>Cr)+Jr]=Pr<<24|Kr<<16|Hr|0;while(Jr!==0);for(Vr=1<<Sr-1;qr&Vr;)Vr>>=1;if(Vr!==0?(qr&=Vr-1,qr+=Vr):qr=0,Ar++,--fn[Sr]===0){if(Sr===$r)break;Sr=r[c+y[Ar]]}if(Sr>kr&&(qr&Wr)!==Qr){for(Cr===0&&(Cr=kr),Zr+=Ir,Dr=Sr-Cr,Br=1<<Dr;Dr+Cr<$r&&(Br-=fn[Dr+Cr],!(Br<=0));)Dr++,Br<<=1;if(Fr+=1<<Dr,a===LENS$1&&Fr>ENOUGH_LENS$1||a===DISTS$1&&Fr>ENOUGH_DISTS$1)return 1;Qr=qr&Wr,l[Qr]=kr<<24|Dr<<16|Zr-d|0}}return qr!==0&&(l[Zr+qr]=Sr-Cr<<24|64<<16|0),m.bits=kr,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=a=>(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24);function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateResetKeep=a=>{if(!a||!a.state)return Z_STREAM_ERROR$1;const r=a.state;return a.total_in=a.total_out=r.total=0,a.msg="",r.wrap&&(a.adler=r.wrap&1),r.mode=HEAD,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(ENOUGH_LENS),r.distcode=r.distdyn=new Int32Array(ENOUGH_DISTS),r.sane=1,r.back=-1,Z_OK$1},inflateReset=a=>{if(!a||!a.state)return Z_STREAM_ERROR$1;const r=a.state;return r.wsize=0,r.whave=0,r.wnext=0,inflateResetKeep(a)},inflateReset2=(a,r)=>{let c;if(!a||!a.state)return Z_STREAM_ERROR$1;const u=a.state;return r<0?(c=0,r=-r):(c=(r>>4)+1,r<48&&(r&=15)),r&&(r<8||r>15)?Z_STREAM_ERROR$1:(u.window!==null&&u.wbits!==r&&(u.window=null),u.wrap=c,u.wbits=r,inflateReset(a))},inflateInit2=(a,r)=>{if(!a)return Z_STREAM_ERROR$1;const c=new InflateState;a.state=c,c.window=null;const u=inflateReset2(a,r);return u!==Z_OK$1&&(a.state=null),u},inflateInit=a=>inflateInit2(a,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=a=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let r=0;for(;r<144;)a.lens[r++]=8;for(;r<256;)a.lens[r++]=9;for(;r<280;)a.lens[r++]=7;for(;r<288;)a.lens[r++]=8;for(inftrees(LENS,a.lens,0,288,lenfix,0,a.work,{bits:9}),r=0;r<32;)a.lens[r++]=5;inftrees(DISTS,a.lens,0,32,distfix,0,a.work,{bits:5}),virgin=!1}a.lencode=lenfix,a.lenbits=9,a.distcode=distfix,a.distbits=5},updatewindow=(a,r,c,u)=>{let l;const d=a.state;return d.window===null&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new Uint8Array(d.wsize)),u>=d.wsize?(d.window.set(r.subarray(c-d.wsize,c),0),d.wnext=0,d.whave=d.wsize):(l=d.wsize-d.wnext,l>u&&(l=u),d.window.set(r.subarray(c-u,c-u+l),d.wnext),u-=l,u?(d.window.set(r.subarray(c-u,c),0),d.wnext=u,d.whave=d.wsize):(d.wnext+=l,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=l))),0},inflate$2=(a,r)=>{let c,u,l,d,y,m,wr,Sr,Ar,Ir,$r,kr,Dr,Cr,Br=0,Fr,qr,Vr,Jr,Qr,Wr,Zr,rn;const gn=new Uint8Array(4);let an,fn;const mn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!a||!a.state||!a.output||!a.input&&a.avail_in!==0)return Z_STREAM_ERROR$1;c=a.state,c.mode===TYPE&&(c.mode=TYPEDO),y=a.next_out,l=a.output,wr=a.avail_out,d=a.next_in,u=a.input,m=a.avail_in,Sr=c.hold,Ar=c.bits,Ir=m,$r=wr,rn=Z_OK$1;e:for(;;)switch(c.mode){case HEAD:if(c.wrap===0){c.mode=TYPEDO;break}for(;Ar<16;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if(c.wrap&2&&Sr===35615){c.check=0,gn[0]=Sr&255,gn[1]=Sr>>>8&255,c.check=crc32_1(c.check,gn,2,0),Sr=0,Ar=0,c.mode=FLAGS;break}if(c.flags=0,c.head&&(c.head.done=!1),!(c.wrap&1)||(((Sr&255)<<8)+(Sr>>8))%31){a.msg="incorrect header check",c.mode=BAD;break}if((Sr&15)!==Z_DEFLATED){a.msg="unknown compression method",c.mode=BAD;break}if(Sr>>>=4,Ar-=4,Zr=(Sr&15)+8,c.wbits===0)c.wbits=Zr;else if(Zr>c.wbits){a.msg="invalid window size",c.mode=BAD;break}c.dmax=1<<c.wbits,a.adler=c.check=1,c.mode=Sr&512?DICTID:TYPE,Sr=0,Ar=0;break;case FLAGS:for(;Ar<16;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if(c.flags=Sr,(c.flags&255)!==Z_DEFLATED){a.msg="unknown compression method",c.mode=BAD;break}if(c.flags&57344){a.msg="unknown header flags set",c.mode=BAD;break}c.head&&(c.head.text=Sr>>8&1),c.flags&512&&(gn[0]=Sr&255,gn[1]=Sr>>>8&255,c.check=crc32_1(c.check,gn,2,0)),Sr=0,Ar=0,c.mode=TIME;case TIME:for(;Ar<32;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}c.head&&(c.head.time=Sr),c.flags&512&&(gn[0]=Sr&255,gn[1]=Sr>>>8&255,gn[2]=Sr>>>16&255,gn[3]=Sr>>>24&255,c.check=crc32_1(c.check,gn,4,0)),Sr=0,Ar=0,c.mode=OS;case OS:for(;Ar<16;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}c.head&&(c.head.xflags=Sr&255,c.head.os=Sr>>8),c.flags&512&&(gn[0]=Sr&255,gn[1]=Sr>>>8&255,c.check=crc32_1(c.check,gn,2,0)),Sr=0,Ar=0,c.mode=EXLEN;case EXLEN:if(c.flags&1024){for(;Ar<16;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}c.length=Sr,c.head&&(c.head.extra_len=Sr),c.flags&512&&(gn[0]=Sr&255,gn[1]=Sr>>>8&255,c.check=crc32_1(c.check,gn,2,0)),Sr=0,Ar=0}else c.head&&(c.head.extra=null);c.mode=EXTRA;case EXTRA:if(c.flags&1024&&(kr=c.length,kr>m&&(kr=m),kr&&(c.head&&(Zr=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Uint8Array(c.head.extra_len)),c.head.extra.set(u.subarray(d,d+kr),Zr)),c.flags&512&&(c.check=crc32_1(c.check,u,kr,d)),m-=kr,d+=kr,c.length-=kr),c.length))break e;c.length=0,c.mode=NAME;case NAME:if(c.flags&2048){if(m===0)break e;kr=0;do Zr=u[d+kr++],c.head&&Zr&&c.length<65536&&(c.head.name+=String.fromCharCode(Zr));while(Zr&&kr<m);if(c.flags&512&&(c.check=crc32_1(c.check,u,kr,d)),m-=kr,d+=kr,Zr)break e}else c.head&&(c.head.name=null);c.length=0,c.mode=COMMENT;case COMMENT:if(c.flags&4096){if(m===0)break e;kr=0;do Zr=u[d+kr++],c.head&&Zr&&c.length<65536&&(c.head.comment+=String.fromCharCode(Zr));while(Zr&&kr<m);if(c.flags&512&&(c.check=crc32_1(c.check,u,kr,d)),m-=kr,d+=kr,Zr)break e}else c.head&&(c.head.comment=null);c.mode=HCRC;case HCRC:if(c.flags&512){for(;Ar<16;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if(Sr!==(c.check&65535)){a.msg="header crc mismatch",c.mode=BAD;break}Sr=0,Ar=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=TYPE;break;case DICTID:for(;Ar<32;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}a.adler=c.check=zswap32(Sr),Sr=0,Ar=0,c.mode=DICT;case DICT:if(c.havedict===0)return a.next_out=y,a.avail_out=wr,a.next_in=d,a.avail_in=m,c.hold=Sr,c.bits=Ar,Z_NEED_DICT$1;a.adler=c.check=1,c.mode=TYPE;case TYPE:if(r===Z_BLOCK||r===Z_TREES)break e;case TYPEDO:if(c.last){Sr>>>=Ar&7,Ar-=Ar&7,c.mode=CHECK;break}for(;Ar<3;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}switch(c.last=Sr&1,Sr>>>=1,Ar-=1,Sr&3){case 0:c.mode=STORED;break;case 1:if(fixedtables(c),c.mode=LEN_,r===Z_TREES){Sr>>>=2,Ar-=2;break e}break;case 2:c.mode=TABLE;break;case 3:a.msg="invalid block type",c.mode=BAD}Sr>>>=2,Ar-=2;break;case STORED:for(Sr>>>=Ar&7,Ar-=Ar&7;Ar<32;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if((Sr&65535)!==(Sr>>>16^65535)){a.msg="invalid stored block lengths",c.mode=BAD;break}if(c.length=Sr&65535,Sr=0,Ar=0,c.mode=COPY_,r===Z_TREES)break e;case COPY_:c.mode=COPY;case COPY:if(kr=c.length,kr){if(kr>m&&(kr=m),kr>wr&&(kr=wr),kr===0)break e;l.set(u.subarray(d,d+kr),y),m-=kr,d+=kr,wr-=kr,y+=kr,c.length-=kr;break}c.mode=TYPE;break;case TABLE:for(;Ar<14;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if(c.nlen=(Sr&31)+257,Sr>>>=5,Ar-=5,c.ndist=(Sr&31)+1,Sr>>>=5,Ar-=5,c.ncode=(Sr&15)+4,Sr>>>=4,Ar-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=BAD;break}c.have=0,c.mode=LENLENS;case LENLENS:for(;c.have<c.ncode;){for(;Ar<3;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}c.lens[mn[c.have++]]=Sr&7,Sr>>>=3,Ar-=3}for(;c.have<19;)c.lens[mn[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,an={bits:c.lenbits},rn=inftrees(CODES,c.lens,0,19,c.lencode,0,c.work,an),c.lenbits=an.bits,rn){a.msg="invalid code lengths set",c.mode=BAD;break}c.have=0,c.mode=CODELENS;case CODELENS:for(;c.have<c.nlen+c.ndist;){for(;Br=c.lencode[Sr&(1<<c.lenbits)-1],Fr=Br>>>24,qr=Br>>>16&255,Vr=Br&65535,!(Fr<=Ar);){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if(Vr<16)Sr>>>=Fr,Ar-=Fr,c.lens[c.have++]=Vr;else{if(Vr===16){for(fn=Fr+2;Ar<fn;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if(Sr>>>=Fr,Ar-=Fr,c.have===0){a.msg="invalid bit length repeat",c.mode=BAD;break}Zr=c.lens[c.have-1],kr=3+(Sr&3),Sr>>>=2,Ar-=2}else if(Vr===17){for(fn=Fr+3;Ar<fn;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}Sr>>>=Fr,Ar-=Fr,Zr=0,kr=3+(Sr&7),Sr>>>=3,Ar-=3}else{for(fn=Fr+7;Ar<fn;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}Sr>>>=Fr,Ar-=Fr,Zr=0,kr=11+(Sr&127),Sr>>>=7,Ar-=7}if(c.have+kr>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=BAD;break}for(;kr--;)c.lens[c.have++]=Zr}}if(c.mode===BAD)break;if(c.lens[256]===0){a.msg="invalid code -- missing end-of-block",c.mode=BAD;break}if(c.lenbits=9,an={bits:c.lenbits},rn=inftrees(LENS,c.lens,0,c.nlen,c.lencode,0,c.work,an),c.lenbits=an.bits,rn){a.msg="invalid literal/lengths set",c.mode=BAD;break}if(c.distbits=6,c.distcode=c.distdyn,an={bits:c.distbits},rn=inftrees(DISTS,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,an),c.distbits=an.bits,rn){a.msg="invalid distances set",c.mode=BAD;break}if(c.mode=LEN_,r===Z_TREES)break e;case LEN_:c.mode=LEN;case LEN:if(m>=6&&wr>=258){a.next_out=y,a.avail_out=wr,a.next_in=d,a.avail_in=m,c.hold=Sr,c.bits=Ar,inffast(a,$r),y=a.next_out,l=a.output,wr=a.avail_out,d=a.next_in,u=a.input,m=a.avail_in,Sr=c.hold,Ar=c.bits,c.mode===TYPE&&(c.back=-1);break}for(c.back=0;Br=c.lencode[Sr&(1<<c.lenbits)-1],Fr=Br>>>24,qr=Br>>>16&255,Vr=Br&65535,!(Fr<=Ar);){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if(qr&&(qr&240)===0){for(Jr=Fr,Qr=qr,Wr=Vr;Br=c.lencode[Wr+((Sr&(1<<Jr+Qr)-1)>>Jr)],Fr=Br>>>24,qr=Br>>>16&255,Vr=Br&65535,!(Jr+Fr<=Ar);){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}Sr>>>=Jr,Ar-=Jr,c.back+=Jr}if(Sr>>>=Fr,Ar-=Fr,c.back+=Fr,c.length=Vr,qr===0){c.mode=LIT;break}if(qr&32){c.back=-1,c.mode=TYPE;break}if(qr&64){a.msg="invalid literal/length code",c.mode=BAD;break}c.extra=qr&15,c.mode=LENEXT;case LENEXT:if(c.extra){for(fn=c.extra;Ar<fn;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}c.length+=Sr&(1<<c.extra)-1,Sr>>>=c.extra,Ar-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=DIST;case DIST:for(;Br=c.distcode[Sr&(1<<c.distbits)-1],Fr=Br>>>24,qr=Br>>>16&255,Vr=Br&65535,!(Fr<=Ar);){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if((qr&240)===0){for(Jr=Fr,Qr=qr,Wr=Vr;Br=c.distcode[Wr+((Sr&(1<<Jr+Qr)-1)>>Jr)],Fr=Br>>>24,qr=Br>>>16&255,Vr=Br&65535,!(Jr+Fr<=Ar);){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}Sr>>>=Jr,Ar-=Jr,c.back+=Jr}if(Sr>>>=Fr,Ar-=Fr,c.back+=Fr,qr&64){a.msg="invalid distance code",c.mode=BAD;break}c.offset=Vr,c.extra=qr&15,c.mode=DISTEXT;case DISTEXT:if(c.extra){for(fn=c.extra;Ar<fn;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}c.offset+=Sr&(1<<c.extra)-1,Sr>>>=c.extra,Ar-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=BAD;break}c.mode=MATCH;case MATCH:if(wr===0)break e;if(kr=$r-wr,c.offset>kr){if(kr=c.offset-kr,kr>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=BAD;break}kr>c.wnext?(kr-=c.wnext,Dr=c.wsize-kr):Dr=c.wnext-kr,kr>c.length&&(kr=c.length),Cr=c.window}else Cr=l,Dr=y-c.offset,kr=c.length;kr>wr&&(kr=wr),wr-=kr,c.length-=kr;do l[y++]=Cr[Dr++];while(--kr);c.length===0&&(c.mode=LEN);break;case LIT:if(wr===0)break e;l[y++]=c.length,wr--,c.mode=LEN;break;case CHECK:if(c.wrap){for(;Ar<32;){if(m===0)break e;m--,Sr|=u[d++]<<Ar,Ar+=8}if($r-=wr,a.total_out+=$r,c.total+=$r,$r&&(a.adler=c.check=c.flags?crc32_1(c.check,l,$r,y-$r):adler32_1(c.check,l,$r,y-$r)),$r=wr,(c.flags?Sr:zswap32(Sr))!==c.check){a.msg="incorrect data check",c.mode=BAD;break}Sr=0,Ar=0}c.mode=LENGTH;case LENGTH:if(c.wrap&&c.flags){for(;Ar<32;){if(m===0)break e;m--,Sr+=u[d++]<<Ar,Ar+=8}if(Sr!==(c.total&4294967295)){a.msg="incorrect length check",c.mode=BAD;break}Sr=0,Ar=0}c.mode=DONE;case DONE:rn=Z_STREAM_END$1;break e;case BAD:rn=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return a.next_out=y,a.avail_out=wr,a.next_in=d,a.avail_in=m,c.hold=Sr,c.bits=Ar,(c.wsize||$r!==a.avail_out&&c.mode<BAD&&(c.mode<CHECK||r!==Z_FINISH$1))&&updatewindow(a,a.output,a.next_out,$r-a.avail_out),Ir-=a.avail_in,$r-=a.avail_out,a.total_in+=Ir,a.total_out+=$r,c.total+=$r,c.wrap&&$r&&(a.adler=c.check=c.flags?crc32_1(c.check,l,$r,a.next_out-$r):adler32_1(c.check,l,$r,a.next_out-$r)),a.data_type=c.bits+(c.last?64:0)+(c.mode===TYPE?128:0)+(c.mode===LEN_||c.mode===COPY_?256:0),(Ir===0&&$r===0||r===Z_FINISH$1)&&rn===Z_OK$1&&(rn=Z_BUF_ERROR),rn},inflateEnd=a=>{if(!a||!a.state)return Z_STREAM_ERROR$1;let r=a.state;return r.window&&(r.window=null),a.state=null,Z_OK$1},inflateGetHeader=(a,r)=>{if(!a||!a.state)return Z_STREAM_ERROR$1;const c=a.state;return(c.wrap&2)===0?Z_STREAM_ERROR$1:(c.head=r,r.done=!1,Z_OK$1)},inflateSetDictionary=(a,r)=>{const c=r.length;let u,l,d;return!a||!a.state||(u=a.state,u.wrap!==0&&u.mode!==DICT)?Z_STREAM_ERROR$1:u.mode===DICT&&(l=1,l=adler32_1(l,r,c,0),l!==u.check)?Z_DATA_ERROR$1:(d=updatewindow(a,r,c,c),d?(u.mode=MEM,Z_MEM_ERROR$1):(u.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(a){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},a||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(a&&a.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let c=inflate_1$2.inflateInit2(this.strm,r.windowBits);if(c!==Z_OK)throw new Error(messages[c]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=strings.string2buf(r.dictionary):toString$2.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(c=inflate_1$2.inflateSetDictionary(this.strm,r.dictionary),c!==Z_OK)))throw new Error(messages[c])}Inflate$1.prototype.push=function(a,r){const c=this.strm,u=this.options.chunkSize,l=this.options.dictionary;let d,y,m;if(this.ended)return!1;for(r===~~r?y=r:y=r===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(a)==="[object ArrayBuffer]"?c.input=new Uint8Array(a):c.input=a,c.next_in=0,c.avail_in=c.input.length;;){for(c.avail_out===0&&(c.output=new Uint8Array(u),c.next_out=0,c.avail_out=u),d=inflate_1$2.inflate(c,y),d===Z_NEED_DICT&&l&&(d=inflate_1$2.inflateSetDictionary(c,l),d===Z_OK?d=inflate_1$2.inflate(c,y):d===Z_DATA_ERROR&&(d=Z_NEED_DICT));c.avail_in>0&&d===Z_STREAM_END&&c.state.wrap>0&&a[c.next_in]!==0;)inflate_1$2.inflateReset(c),d=inflate_1$2.inflate(c,y);switch(d){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(d),this.ended=!0,!1}if(m=c.avail_out,c.next_out&&(c.avail_out===0||d===Z_STREAM_END))if(this.options.to==="string"){let wr=strings.utf8border(c.output,c.next_out),Sr=c.next_out-wr,Ar=strings.buf2string(c.output,wr);c.next_out=Sr,c.avail_out=u-Sr,Sr&&c.output.set(c.output.subarray(wr,wr+Sr),0),this.onData(Ar)}else this.onData(c.output.length===c.next_out?c.output:c.output.subarray(0,c.next_out));if(!(d===Z_OK&&m===0)){if(d===Z_STREAM_END)return d=inflate_1$2.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,!0;if(c.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(a){this.chunks.push(a)};Inflate$1.prototype.onEnd=function(a){a===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function inflate$1(a,r){const c=new Inflate$1(r);if(c.push(a),c.err)throw c.msg||messages[c.err];return c.result}function inflateRaw$1(a,r){return r=r||{},r.raw=!0,inflate$1(a,r)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate,assert$1={exports:{}},errors={},util$1={},types$3={},shams$1=function a(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},c=Symbol("test"),u=Object(c);if(typeof c=="string"||Object.prototype.toString.call(c)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;var l=42;r[c]=l;for(c in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var d=Object.getOwnPropertySymbols(r);if(d.length!==1||d[0]!==c||!Object.prototype.propertyIsEnumerable.call(r,c))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var y=Object.getOwnPropertyDescriptor(r,c);if(y.value!==l||y.enumerable!==!0)return!1}return!0},hasSymbols$1=shams$1,shams=function a(){return hasSymbols$1()&&!!Symbol.toStringTag},hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var a=typeof Symbol<"u"&&Symbol,r=shams$1;return hasSymbols=function(){return typeof a!="function"||typeof Symbol!="function"||typeof a("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},hasSymbols}var implementation$3,hasRequiredImplementation$3;function requireImplementation$3(){if(hasRequiredImplementation$3)return implementation$3;hasRequiredImplementation$3=1;var a="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,c=Object.prototype.toString,u="[object Function]";return implementation$3=function(d){var y=this;if(typeof y!="function"||c.call(y)!==u)throw new TypeError(a+y);for(var m=r.call(arguments,1),wr,Sr=function(){if(this instanceof wr){var Dr=y.apply(this,m.concat(r.call(arguments)));return Object(Dr)===Dr?Dr:this}else return y.apply(d,m.concat(r.call(arguments)))},Ar=Math.max(0,y.length-m.length),Ir=[],$r=0;$r<Ar;$r++)Ir.push("$"+$r);if(wr=Function("binder","return function ("+Ir.join(",")+"){ return binder.apply(this,arguments); }")(Sr),y.prototype){var kr=function(){};kr.prototype=y.prototype,wr.prototype=new kr,kr.prototype=null}return wr},implementation$3}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var a=requireImplementation$3();return functionBind=Function.prototype.bind||a,functionBind}var src,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;var a=requireFunctionBind();return src=a.call(Function.call,Object.prototype.hasOwnProperty),src}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var a,r=SyntaxError,c=Function,u=TypeError,l=function(an){try{return c('"use strict"; return ('+an+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var y=function(){throw new u},m=d?function(){try{return arguments.callee,y}catch{try{return d(arguments,"callee").get}catch{return y}}}():y,wr=requireHasSymbols()(),Sr=Object.getPrototypeOf||function(an){return an.__proto__},Ar={},Ir=typeof Uint8Array>"u"?a:Sr(Uint8Array),$r={"%AggregateError%":typeof AggregateError>"u"?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?a:ArrayBuffer,"%ArrayIteratorPrototype%":wr?Sr([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":Ar,"%AsyncGenerator%":Ar,"%AsyncGeneratorFunction%":Ar,"%AsyncIteratorPrototype%":Ar,"%Atomics%":typeof Atomics>"u"?a:Atomics,"%BigInt%":typeof BigInt>"u"?a:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?a:Float32Array,"%Float64Array%":typeof Float64Array>"u"?a:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?a:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":Ar,"%Int8Array%":typeof Int8Array>"u"?a:Int8Array,"%Int16Array%":typeof Int16Array>"u"?a:Int16Array,"%Int32Array%":typeof Int32Array>"u"?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wr?Sr(Sr([][Symbol.iterator]())):a,"%JSON%":typeof JSON=="object"?JSON:a,"%Map%":typeof Map>"u"?a:Map,"%MapIteratorPrototype%":typeof Map>"u"||!wr?a:Sr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?a:Promise,"%Proxy%":typeof Proxy>"u"?a:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?a:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?a:Set,"%SetIteratorPrototype%":typeof Set>"u"||!wr?a:Sr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wr?Sr(""[Symbol.iterator]()):a,"%Symbol%":wr?Symbol:a,"%SyntaxError%":r,"%ThrowTypeError%":m,"%TypedArray%":Ir,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?a:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?a:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?a:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?a:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?a:WeakMap,"%WeakRef%":typeof WeakRef>"u"?a:WeakRef,"%WeakSet%":typeof WeakSet>"u"?a:WeakSet},kr=function an(fn){var mn;if(fn==="%AsyncFunction%")mn=l("async function () {}");else if(fn==="%GeneratorFunction%")mn=l("function* () {}");else if(fn==="%AsyncGeneratorFunction%")mn=l("async function* () {}");else if(fn==="%AsyncGenerator%"){var Mr=an("%AsyncGeneratorFunction%");Mr&&(mn=Mr.prototype)}else if(fn==="%AsyncIteratorPrototype%"){var xr=an("%AsyncGenerator%");xr&&(mn=Sr(xr.prototype))}return $r[fn]=mn,mn},Dr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Cr=requireFunctionBind(),Br=requireSrc(),Fr=Cr.call(Function.call,Array.prototype.concat),qr=Cr.call(Function.apply,Array.prototype.splice),Vr=Cr.call(Function.call,String.prototype.replace),Jr=Cr.call(Function.call,String.prototype.slice),Qr=Cr.call(Function.call,RegExp.prototype.exec),Wr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Zr=/\\(\\)?/g,rn=function(fn){var mn=Jr(fn,0,1),Mr=Jr(fn,-1);if(mn==="%"&&Mr!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");if(Mr==="%"&&mn!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var xr=[];return Vr(fn,Wr,function(Pr,Kr,Hr,Gr){xr[xr.length]=Hr?Vr(Gr,Zr,"$1"):Kr||Pr}),xr},gn=function(fn,mn){var Mr=fn,xr;if(Br(Dr,Mr)&&(xr=Dr[Mr],Mr="%"+xr[0]+"%"),Br($r,Mr)){var Pr=$r[Mr];if(Pr===Ar&&(Pr=kr(Mr)),typeof Pr>"u"&&!mn)throw new u("intrinsic "+fn+" exists, but is not available. Please file an issue!");return{alias:xr,name:Mr,value:Pr}}throw new r("intrinsic "+fn+" does not exist!")};return getIntrinsic=function(fn,mn){if(typeof fn!="string"||fn.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof mn!="boolean")throw new u('"allowMissing" argument must be a boolean');if(Qr(/^%?[^%]*%?$/,fn)===null)throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Mr=rn(fn),xr=Mr.length>0?Mr[0]:"",Pr=gn("%"+xr+"%",mn),Kr=Pr.name,Hr=Pr.value,Gr=!1,un=Pr.alias;un&&(xr=un[0],qr(Mr,Fr([0,1],un)));for(var wn=1,jr=!0;wn<Mr.length;wn+=1){var Rr=Mr[wn],Ur=Jr(Rr,0,1),hn=Jr(Rr,-1);if((Ur==='"'||Ur==="'"||Ur==="`"||hn==='"'||hn==="'"||hn==="`")&&Ur!==hn)throw new r("property names with quotes must have matching quotes");if((Rr==="constructor"||!jr)&&(Gr=!0),xr+="."+Rr,Kr="%"+xr+"%",Br($r,Kr))Hr=$r[Kr];else if(Hr!=null){if(!(Rr in Hr)){if(!mn)throw new u("base intrinsic for "+fn+" exists, but the property is not available.");return}if(d&&wn+1>=Mr.length){var en=d(Hr,Rr);jr=!!en,jr&&"get"in en&&!("originalValue"in en.get)?Hr=en.get:Hr=Hr[Rr]}else jr=Br(Hr,Rr),Hr=Hr[Rr];jr&&!Gr&&($r[Kr]=Hr)}}return Hr},getIntrinsic}var callBind$1={exports:{}},hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(a){var r=requireFunctionBind(),c=requireGetIntrinsic(),u=c("%Function.prototype.apply%"),l=c("%Function.prototype.call%"),d=c("%Reflect.apply%",!0)||r.call(l,u),y=c("%Object.getOwnPropertyDescriptor%",!0),m=c("%Object.defineProperty%",!0),wr=c("%Math.max%");if(m)try{m({},"a",{value:1})}catch{m=null}a.exports=function(Ir){var $r=d(r,l,arguments);if(y&&m){var kr=y($r,"length");kr.configurable&&m($r,"length",{value:1+wr(0,Ir.length-(arguments.length-1))})}return $r};var Sr=function(){return d(r,u,arguments)};m?m(a.exports,"apply",{value:Sr}):a.exports.apply=Sr}(callBind$1)),callBind$1.exports}var GetIntrinsic=requireGetIntrinsic(),callBind=requireCallBind(),$indexOf$1=callBind(GetIntrinsic("String.prototype.indexOf")),callBound$3=function a(r,c){var u=GetIntrinsic(r,!!c);return typeof u=="function"&&$indexOf$1(r,".prototype.")>-1?callBind(u):u},hasToStringTag$4=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function a(r){return hasToStringTag$4&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:$toString$2(r)==="[object Arguments]"},isLegacyArguments=function a(r){return isStandardArguments(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&$toString$2(r)!=="[object Array]"&&$toString$2(r.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$2=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function a(r){if(typeof r!="function")return!1;if(isFnRegex.test(fnToStr$1.call(r)))return!0;if(!hasToStringTag$3){var c=toStr$2.call(r);return c==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var u=getGeneratorFunc();GeneratorFunction=u?getProto(u):!1}return getProto(r)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(a){a!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function a(r){try{var c=fnToStr.call(r);return constructorRegex.test(c)}catch{return!1}},tryFunctionObject=function a(r){try{return isES6ClassFn(r)?!1:(fnToStr.call(r),!0)}catch{return!1}},toStr$1=Object.prototype.toString,fnClass="[object Function]",genClass="[object GeneratorFunction]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,isDDA=typeof document=="object"?function a(r){if(typeof r>"u"||typeof r=="object")try{return r("")===null}catch{}return!1}:function(){return!1},isCallable$1=reflectApply?function a(r){if(isDDA(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;if(typeof r=="function"&&!r.prototype)return!0;try{reflectApply(r,null,badArrayLike)}catch(c){if(c!==isCallableMarker)return!1}return!isES6ClassFn(r)}:function a(r){if(isDDA(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;if(typeof r=="function"&&!r.prototype)return!0;if(hasToStringTag$2)return tryFunctionObject(r);if(isES6ClassFn(r))return!1;var c=toStr$1.call(r);return c===fnClass||c===genClass||tryFunctionObject(r)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function a(r,c,u){for(var l=0,d=r.length;l<d;l++)hasOwnProperty$1.call(r,l)&&(u==null?c(r[l],l,r):c.call(u,r[l],l,r))},forEachString=function a(r,c,u){for(var l=0,d=r.length;l<d;l++)u==null?c(r.charAt(l),l,r):c.call(u,r.charAt(l),l,r)},forEachObject=function a(r,c,u){for(var l in r)hasOwnProperty$1.call(r,l)&&(u==null?c(r[l],l,r):c.call(u,r[l],l,r))},forEach$2=function a(r,c,u){if(!isCallable(c))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=u),toStr.call(r)==="[object Array]"?forEachArray(r,c,l):typeof r=="string"?forEachString(r,c,l):forEachObject(r,c,l)},forEach_1=forEach$2,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$3=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$2=function a(){for(var r=[],c=0;c<possibleNames.length;c++)typeof g$3[possibleNames[c]]=="function"&&(r[r.length]=possibleNames[c]);return r},getOwnPropertyDescriptor,hasRequiredGetOwnPropertyDescriptor;function requireGetOwnPropertyDescriptor(){if(hasRequiredGetOwnPropertyDescriptor)return getOwnPropertyDescriptor;hasRequiredGetOwnPropertyDescriptor=1;var a=requireGetIntrinsic(),r=a("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch{r=null}return getOwnPropertyDescriptor=r,getOwnPropertyDescriptor}var forEach$1=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function a(r,c){for(var u=0;u<r.length;u+=1)if(r[u]===c)return u;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=requireGetOwnPropertyDescriptor(),getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(a){var r=new g$2[a];if(Symbol.toStringTag in r){var c=getPrototypeOf$1(r),u=gOPD$1(c,Symbol.toStringTag);if(!u){var l=getPrototypeOf$1(c);u=gOPD$1(l,Symbol.toStringTag)}toStrTags$1[a]=u.get}});var tryTypedArrays$1=function a(r){var c=!1;return forEach$1(toStrTags$1,function(u,l){if(!c)try{c=u.call(r)===l}catch{}}),c},isTypedArray$1=function a(r){if(!r||typeof r!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in r)){var c=$slice$1($toString$1(r),8,-1);return $indexOf(typedArrays$1,c)>-1}return gOPD$1?tryTypedArrays$1(r):!1},forEach=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=requireGetOwnPropertyDescriptor(),getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(a){if(typeof g$1[a]=="function"){var r=new g$1[a];if(Symbol.toStringTag in r){var c=getPrototypeOf(r),u=gOPD(c,Symbol.toStringTag);if(!u){var l=getPrototypeOf(c);u=gOPD(l,Symbol.toStringTag)}toStrTags[a]=u.get}}});var tryTypedArrays=function a(r){var c=!1;return forEach(toStrTags,function(u,l){if(!c)try{var d=u.call(r);d===l&&(c=d)}catch{}}),c},isTypedArray=isTypedArray$1,whichTypedArray=function a(r){return isTypedArray(r)?!hasToStringTag||!(Symbol.toStringTag in r)?$slice($toString(r),8,-1):tryTypedArrays(r):!1};(function(a){var r=isArguments$2,c=isGeneratorFunction,u=whichTypedArray,l=isTypedArray$1;function d(An){return An.call.bind(An)}var y=typeof BigInt<"u",m=typeof Symbol<"u",wr=d(Object.prototype.toString),Sr=d(Number.prototype.valueOf),Ar=d(String.prototype.valueOf),Ir=d(Boolean.prototype.valueOf);if(y)var $r=d(BigInt.prototype.valueOf);if(m)var kr=d(Symbol.prototype.valueOf);function Dr(An,Cn){if(typeof An!="object")return!1;try{return Cn(An),!0}catch{return!1}}a.isArgumentsObject=r,a.isGeneratorFunction=c,a.isTypedArray=l;function Cr(An){return typeof Promise<"u"&&An instanceof Promise||An!==null&&typeof An=="object"&&typeof An.then=="function"&&typeof An.catch=="function"}a.isPromise=Cr;function Br(An){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(An):l(An)||Ur(An)}a.isArrayBufferView=Br;function Fr(An){return u(An)==="Uint8Array"}a.isUint8Array=Fr;function qr(An){return u(An)==="Uint8ClampedArray"}a.isUint8ClampedArray=qr;function Vr(An){return u(An)==="Uint16Array"}a.isUint16Array=Vr;function Jr(An){return u(An)==="Uint32Array"}a.isUint32Array=Jr;function Qr(An){return u(An)==="Int8Array"}a.isInt8Array=Qr;function Wr(An){return u(An)==="Int16Array"}a.isInt16Array=Wr;function Zr(An){return u(An)==="Int32Array"}a.isInt32Array=Zr;function rn(An){return u(An)==="Float32Array"}a.isFloat32Array=rn;function gn(An){return u(An)==="Float64Array"}a.isFloat64Array=gn;function an(An){return u(An)==="BigInt64Array"}a.isBigInt64Array=an;function fn(An){return u(An)==="BigUint64Array"}a.isBigUint64Array=fn;function mn(An){return wr(An)==="[object Map]"}mn.working=typeof Map<"u"&&mn(new Map);function Mr(An){return typeof Map>"u"?!1:mn.working?mn(An):An instanceof Map}a.isMap=Mr;function xr(An){return wr(An)==="[object Set]"}xr.working=typeof Set<"u"&&xr(new Set);function Pr(An){return typeof Set>"u"?!1:xr.working?xr(An):An instanceof Set}a.isSet=Pr;function Kr(An){return wr(An)==="[object WeakMap]"}Kr.working=typeof WeakMap<"u"&&Kr(new WeakMap);function Hr(An){return typeof WeakMap>"u"?!1:Kr.working?Kr(An):An instanceof WeakMap}a.isWeakMap=Hr;function Gr(An){return wr(An)==="[object WeakSet]"}Gr.working=typeof WeakSet<"u"&&Gr(new WeakSet);function un(An){return Gr(An)}a.isWeakSet=un;function wn(An){return wr(An)==="[object ArrayBuffer]"}wn.working=typeof ArrayBuffer<"u"&&wn(new ArrayBuffer);function jr(An){return typeof ArrayBuffer>"u"?!1:wn.working?wn(An):An instanceof ArrayBuffer}a.isArrayBuffer=jr;function Rr(An){return wr(An)==="[object DataView]"}Rr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Rr(new DataView(new ArrayBuffer(1),0,1));function Ur(An){return typeof DataView>"u"?!1:Rr.working?Rr(An):An instanceof DataView}a.isDataView=Ur;var hn=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function en(An){return wr(An)==="[object SharedArrayBuffer]"}function tn(An){return typeof hn>"u"?!1:(typeof en.working>"u"&&(en.working=en(new hn)),en.working?en(An):An instanceof hn)}a.isSharedArrayBuffer=tn;function dn(An){return wr(An)==="[object AsyncFunction]"}a.isAsyncFunction=dn;function pn(An){return wr(An)==="[object Map Iterator]"}a.isMapIterator=pn;function vn(An){return wr(An)==="[object Set Iterator]"}a.isSetIterator=vn;function $n(An){return wr(An)==="[object Generator]"}a.isGeneratorObject=$n;function Pn(An){return wr(An)==="[object WebAssembly.Module]"}a.isWebAssemblyCompiledModule=Pn;function kn(An){return Dr(An,Sr)}a.isNumberObject=kn;function sn(An){return Dr(An,Ar)}a.isStringObject=sn;function ln(An){return Dr(An,Ir)}a.isBooleanObject=ln;function Sn(An){return y&&Dr(An,$r)}a.isBigIntObject=Sn;function Bn(An){return m&&Dr(An,kr)}a.isSymbolObject=Bn;function In(An){return kn(An)||sn(An)||ln(An)||Sn(An)||Bn(An)}a.isBoxedPrimitive=In;function Ln(An){return typeof Uint8Array<"u"&&(jr(An)||tn(An))}a.isAnyArrayBuffer=Ln,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(An){Object.defineProperty(a,An,{enumerable:!1,value:function(){throw new Error(An+" is not supported in userland")}})})})(types$3);var isBufferBrowser=function a(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(r,c){c&&(r.super_=c,r.prototype=Object.create(c.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(r,c){if(c){r.super_=c;var u=function(){};u.prototype=c.prototype,r.prototype=new u,r.prototype.constructor=r}};(function(a){var r=Object.getOwnPropertyDescriptors||function(Ur){for(var hn=Object.keys(Ur),en={},tn=0;tn<hn.length;tn++)en[hn[tn]]=Object.getOwnPropertyDescriptor(Ur,hn[tn]);return en},c=/%[sdj%]/g;a.format=function(Rr){if(!Qr(Rr)){for(var Ur=[],hn=0;hn<arguments.length;hn++)Ur.push(y(arguments[hn]));return Ur.join(" ")}for(var hn=1,en=arguments,tn=en.length,dn=String(Rr).replace(c,function(vn){if(vn==="%%")return"%";if(hn>=tn)return vn;switch(vn){case"%s":return String(en[hn++]);case"%d":return Number(en[hn++]);case"%j":try{return JSON.stringify(en[hn++])}catch{return"[Circular]"}default:return vn}}),pn=en[hn];hn<tn;pn=en[++hn])qr(pn)||!gn(pn)?dn+=" "+pn:dn+=" "+y(pn);return dn},a.deprecate=function(Rr,Ur){if(typeof process<"u"&&process.noDeprecation===!0)return Rr;if(typeof process>"u")return function(){return a.deprecate(Rr,Ur).apply(this,arguments)};var hn=!1;function en(){if(!hn){if(process.throwDeprecation)throw new Error(Ur);process.traceDeprecation?console.trace(Ur):console.error(Ur),hn=!0}return Rr.apply(this,arguments)}return en};var u={},l=/^$/;if(process.env.NODE_DEBUG){var d=process.env.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),l=new RegExp("^"+d+"$","i")}a.debuglog=function(Rr){if(Rr=Rr.toUpperCase(),!u[Rr])if(l.test(Rr)){var Ur=process.pid;u[Rr]=function(){var hn=a.format.apply(a,arguments);console.error("%s %d: %s",Rr,Ur,hn)}}else u[Rr]=function(){};return u[Rr]};function y(Rr,Ur){var hn={seen:[],stylize:wr};return arguments.length>=3&&(hn.depth=arguments[2]),arguments.length>=4&&(hn.colors=arguments[3]),Fr(Ur)?hn.showHidden=Ur:Ur&&a._extend(hn,Ur),Zr(hn.showHidden)&&(hn.showHidden=!1),Zr(hn.depth)&&(hn.depth=2),Zr(hn.colors)&&(hn.colors=!1),Zr(hn.customInspect)&&(hn.customInspect=!0),hn.colors&&(hn.stylize=m),Ar(hn,Rr,hn.depth)}a.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function m(Rr,Ur){var hn=y.styles[Ur];return hn?"\x1B["+y.colors[hn][0]+"m"+Rr+"\x1B["+y.colors[hn][1]+"m":Rr}function wr(Rr,Ur){return Rr}function Sr(Rr){var Ur={};return Rr.forEach(function(hn,en){Ur[hn]=!0}),Ur}function Ar(Rr,Ur,hn){if(Rr.customInspect&&Ur&&mn(Ur.inspect)&&Ur.inspect!==a.inspect&&!(Ur.constructor&&Ur.constructor.prototype===Ur)){var en=Ur.inspect(hn,Rr);return Qr(en)||(en=Ar(Rr,en,hn)),en}var tn=Ir(Rr,Ur);if(tn)return tn;var dn=Object.keys(Ur),pn=Sr(dn);if(Rr.showHidden&&(dn=Object.getOwnPropertyNames(Ur)),fn(Ur)&&(dn.indexOf("message")>=0||dn.indexOf("description")>=0))return $r(Ur);if(dn.length===0){if(mn(Ur)){var vn=Ur.name?": "+Ur.name:"";return Rr.stylize("[Function"+vn+"]","special")}if(rn(Ur))return Rr.stylize(RegExp.prototype.toString.call(Ur),"regexp");if(an(Ur))return Rr.stylize(Date.prototype.toString.call(Ur),"date");if(fn(Ur))return $r(Ur)}var $n="",Pn=!1,kn=["{","}"];if(Br(Ur)&&(Pn=!0,kn=["[","]"]),mn(Ur)){var sn=Ur.name?": "+Ur.name:"";$n=" [Function"+sn+"]"}if(rn(Ur)&&($n=" "+RegExp.prototype.toString.call(Ur)),an(Ur)&&($n=" "+Date.prototype.toUTCString.call(Ur)),fn(Ur)&&($n=" "+$r(Ur)),dn.length===0&&(!Pn||Ur.length==0))return kn[0]+$n+kn[1];if(hn<0)return rn(Ur)?Rr.stylize(RegExp.prototype.toString.call(Ur),"regexp"):Rr.stylize("[Object]","special");Rr.seen.push(Ur);var ln;return Pn?ln=kr(Rr,Ur,hn,pn,dn):ln=dn.map(function(Sn){return Dr(Rr,Ur,hn,pn,Sn,Pn)}),Rr.seen.pop(),Cr(ln,$n,kn)}function Ir(Rr,Ur){if(Zr(Ur))return Rr.stylize("undefined","undefined");if(Qr(Ur)){var hn="'"+JSON.stringify(Ur).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Rr.stylize(hn,"string")}if(Jr(Ur))return Rr.stylize(""+Ur,"number");if(Fr(Ur))return Rr.stylize(""+Ur,"boolean");if(qr(Ur))return Rr.stylize("null","null")}function $r(Rr){return"["+Error.prototype.toString.call(Rr)+"]"}function kr(Rr,Ur,hn,en,tn){for(var dn=[],pn=0,vn=Ur.length;pn<vn;++pn)Gr(Ur,String(pn))?dn.push(Dr(Rr,Ur,hn,en,String(pn),!0)):dn.push("");return tn.forEach(function($n){$n.match(/^\d+$/)||dn.push(Dr(Rr,Ur,hn,en,$n,!0))}),dn}function Dr(Rr,Ur,hn,en,tn,dn){var pn,vn,$n;if($n=Object.getOwnPropertyDescriptor(Ur,tn)||{value:Ur[tn]},$n.get?$n.set?vn=Rr.stylize("[Getter/Setter]","special"):vn=Rr.stylize("[Getter]","special"):$n.set&&(vn=Rr.stylize("[Setter]","special")),Gr(en,tn)||(pn="["+tn+"]"),vn||(Rr.seen.indexOf($n.value)<0?(qr(hn)?vn=Ar(Rr,$n.value,null):vn=Ar(Rr,$n.value,hn-1),vn.indexOf(`
`)>-1&&(dn?vn=vn.split(`
`).map(function(Pn){return"  "+Pn}).join(`
`).substr(2):vn=`
`+vn.split(`
`).map(function(Pn){return"   "+Pn}).join(`
`))):vn=Rr.stylize("[Circular]","special")),Zr(pn)){if(dn&&tn.match(/^\d+$/))return vn;pn=JSON.stringify(""+tn),pn.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(pn=pn.substr(1,pn.length-2),pn=Rr.stylize(pn,"name")):(pn=pn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),pn=Rr.stylize(pn,"string"))}return pn+": "+vn}function Cr(Rr,Ur,hn){var en=Rr.reduce(function(tn,dn){return dn.indexOf(`
`)>=0,tn+dn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return en>60?hn[0]+(Ur===""?"":Ur+`
 `)+" "+Rr.join(`,
  `)+" "+hn[1]:hn[0]+Ur+" "+Rr.join(", ")+" "+hn[1]}a.types=types$3;function Br(Rr){return Array.isArray(Rr)}a.isArray=Br;function Fr(Rr){return typeof Rr=="boolean"}a.isBoolean=Fr;function qr(Rr){return Rr===null}a.isNull=qr;function Vr(Rr){return Rr==null}a.isNullOrUndefined=Vr;function Jr(Rr){return typeof Rr=="number"}a.isNumber=Jr;function Qr(Rr){return typeof Rr=="string"}a.isString=Qr;function Wr(Rr){return typeof Rr=="symbol"}a.isSymbol=Wr;function Zr(Rr){return Rr===void 0}a.isUndefined=Zr;function rn(Rr){return gn(Rr)&&xr(Rr)==="[object RegExp]"}a.isRegExp=rn,a.types.isRegExp=rn;function gn(Rr){return typeof Rr=="object"&&Rr!==null}a.isObject=gn;function an(Rr){return gn(Rr)&&xr(Rr)==="[object Date]"}a.isDate=an,a.types.isDate=an;function fn(Rr){return gn(Rr)&&(xr(Rr)==="[object Error]"||Rr instanceof Error)}a.isError=fn,a.types.isNativeError=fn;function mn(Rr){return typeof Rr=="function"}a.isFunction=mn;function Mr(Rr){return Rr===null||typeof Rr=="boolean"||typeof Rr=="number"||typeof Rr=="string"||typeof Rr=="symbol"||typeof Rr>"u"}a.isPrimitive=Mr,a.isBuffer=isBufferBrowser;function xr(Rr){return Object.prototype.toString.call(Rr)}function Pr(Rr){return Rr<10?"0"+Rr.toString(10):Rr.toString(10)}var Kr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Hr(){var Rr=new Date,Ur=[Pr(Rr.getHours()),Pr(Rr.getMinutes()),Pr(Rr.getSeconds())].join(":");return[Rr.getDate(),Kr[Rr.getMonth()],Ur].join(" ")}a.log=function(){console.log("%s - %s",Hr(),a.format.apply(a,arguments))},a.inherits=inherits_browser.exports,a._extend=function(Rr,Ur){if(!Ur||!gn(Ur))return Rr;for(var hn=Object.keys(Ur),en=hn.length;en--;)Rr[hn[en]]=Ur[hn[en]];return Rr};function Gr(Rr,Ur){return Object.prototype.hasOwnProperty.call(Rr,Ur)}var un=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;a.promisify=function(Ur){if(typeof Ur!="function")throw new TypeError('The "original" argument must be of type Function');if(un&&Ur[un]){var hn=Ur[un];if(typeof hn!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(hn,un,{value:hn,enumerable:!1,writable:!1,configurable:!0}),hn}function hn(){for(var en,tn,dn=new Promise(function($n,Pn){en=$n,tn=Pn}),pn=[],vn=0;vn<arguments.length;vn++)pn.push(arguments[vn]);pn.push(function($n,Pn){$n?tn($n):en(Pn)});try{Ur.apply(this,pn)}catch($n){tn($n)}return dn}return Object.setPrototypeOf(hn,Object.getPrototypeOf(Ur)),un&&Object.defineProperty(hn,un,{value:hn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(hn,r(Ur))},a.promisify.custom=un;function wn(Rr,Ur){if(!Rr){var hn=new Error("Promise was rejected with a falsy value");hn.reason=Rr,Rr=hn}return Ur(Rr)}function jr(Rr){if(typeof Rr!="function")throw new TypeError('The "original" argument must be of type Function');function Ur(){for(var hn=[],en=0;en<arguments.length;en++)hn.push(arguments[en]);var tn=hn.pop();if(typeof tn!="function")throw new TypeError("The last argument must be of type Function");var dn=this,pn=function(){return tn.apply(dn,arguments)};Rr.apply(this,hn).then(function(vn){process.nextTick(pn.bind(null,null,vn))},function(vn){process.nextTick(wn.bind(null,vn,pn))})}return Object.setPrototypeOf(Ur,Object.getPrototypeOf(Rr)),Object.defineProperties(Ur,r(Rr)),Ur}a.callbackify=jr})(util$1);var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function a(Cr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(Fr){return typeof Fr}:a=function(Fr){return Fr&&typeof Symbol=="function"&&Fr.constructor===Symbol&&Fr!==Symbol.prototype?"symbol":typeof Fr},a(Cr)}function r(Cr,Br){if(!(Cr instanceof Br))throw new TypeError("Cannot call a class as a function")}function c(Cr,Br){return Br&&(a(Br)==="object"||typeof Br=="function")?Br:u(Cr)}function u(Cr){if(Cr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Cr}function l(Cr){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(Fr){return Fr.__proto__||Object.getPrototypeOf(Fr)},l(Cr)}function d(Cr,Br){if(typeof Br!="function"&&Br!==null)throw new TypeError("Super expression must either be null or a function");Cr.prototype=Object.create(Br&&Br.prototype,{constructor:{value:Cr,writable:!0,configurable:!0}}),Br&&y(Cr,Br)}function y(Cr,Br){return y=Object.setPrototypeOf||function(qr,Vr){return qr.__proto__=Vr,qr},y(Cr,Br)}var m={},wr,Sr;function Ar(Cr,Br,Fr){Fr||(Fr=Error);function qr(Jr,Qr,Wr){return typeof Br=="string"?Br:Br(Jr,Qr,Wr)}var Vr=function(Jr){d(Qr,Jr);function Qr(Wr,Zr,rn){var gn;return r(this,Qr),gn=c(this,l(Qr).call(this,qr(Wr,Zr,rn))),gn.code=Cr,gn}return Qr}(Fr);m[Cr]=Vr}function Ir(Cr,Br){if(Array.isArray(Cr)){var Fr=Cr.length;return Cr=Cr.map(function(qr){return String(qr)}),Fr>2?"one of ".concat(Br," ").concat(Cr.slice(0,Fr-1).join(", "),", or ")+Cr[Fr-1]:Fr===2?"one of ".concat(Br," ").concat(Cr[0]," or ").concat(Cr[1]):"of ".concat(Br," ").concat(Cr[0])}else return"of ".concat(Br," ").concat(String(Cr))}function $r(Cr,Br,Fr){return Cr.substr(!Fr||Fr<0?0:+Fr,Br.length)===Br}function kr(Cr,Br,Fr){return(Fr===void 0||Fr>Cr.length)&&(Fr=Cr.length),Cr.substring(Fr-Br.length,Fr)===Br}function Dr(Cr,Br,Fr){return typeof Fr!="number"&&(Fr=0),Fr+Br.length>Cr.length?!1:Cr.indexOf(Br,Fr)!==-1}return Ar("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),Ar("ERR_INVALID_ARG_TYPE",function(Cr,Br,Fr){wr===void 0&&(wr=requireAssert()),wr(typeof Cr=="string","'name' must be a string");var qr;typeof Br=="string"&&$r(Br,"not ")?(qr="must not be",Br=Br.replace(/^not /,"")):qr="must be";var Vr;if(kr(Cr," argument"))Vr="The ".concat(Cr," ").concat(qr," ").concat(Ir(Br,"type"));else{var Jr=Dr(Cr,".")?"property":"argument";Vr='The "'.concat(Cr,'" ').concat(Jr," ").concat(qr," ").concat(Ir(Br,"type"))}return Vr+=". Received type ".concat(a(Fr)),Vr},TypeError),Ar("ERR_INVALID_ARG_VALUE",function(Cr,Br){var Fr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";Sr===void 0&&(Sr=util$1);var qr=Sr.inspect(Br);return qr.length>128&&(qr="".concat(qr.slice(0,128),"...")),"The argument '".concat(Cr,"' ").concat(Fr,". Received ").concat(qr)},TypeError),Ar("ERR_INVALID_RETURN_VALUE",function(Cr,Br,Fr){var qr;return Fr&&Fr.constructor&&Fr.constructor.name?qr="instance of ".concat(Fr.constructor.name):qr="type ".concat(a(Fr)),"Expected ".concat(Cr,' to be returned from the "').concat(Br,'"')+" function but got ".concat(qr,".")},TypeError),Ar("ERR_MISSING_ARGS",function(){for(var Cr=arguments.length,Br=new Array(Cr),Fr=0;Fr<Cr;Fr++)Br[Fr]=arguments[Fr];wr===void 0&&(wr=requireAssert()),wr(Br.length>0,"At least one arg needs to be specified");var qr="The ",Vr=Br.length;switch(Br=Br.map(function(Jr){return'"'.concat(Jr,'"')}),Vr){case 1:qr+="".concat(Br[0]," argument");break;case 2:qr+="".concat(Br[0]," and ").concat(Br[1]," arguments");break;default:qr+=Br.slice(0,Vr-1).join(", "),qr+=", and ".concat(Br[Vr-1]," arguments");break}return"".concat(qr," must be specified")},TypeError),errors.codes=m,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function a(Pr){for(var Kr=1;Kr<arguments.length;Kr++){var Hr=arguments[Kr]!=null?arguments[Kr]:{},Gr=Object.keys(Hr);typeof Object.getOwnPropertySymbols=="function"&&(Gr=Gr.concat(Object.getOwnPropertySymbols(Hr).filter(function(un){return Object.getOwnPropertyDescriptor(Hr,un).enumerable}))),Gr.forEach(function(un){r(Pr,un,Hr[un])})}return Pr}function r(Pr,Kr,Hr){return Kr in Pr?Object.defineProperty(Pr,Kr,{value:Hr,enumerable:!0,configurable:!0,writable:!0}):Pr[Kr]=Hr,Pr}function c(Pr,Kr){if(!(Pr instanceof Kr))throw new TypeError("Cannot call a class as a function")}function u(Pr,Kr){for(var Hr=0;Hr<Kr.length;Hr++){var Gr=Kr[Hr];Gr.enumerable=Gr.enumerable||!1,Gr.configurable=!0,"value"in Gr&&(Gr.writable=!0),Object.defineProperty(Pr,Gr.key,Gr)}}function l(Pr,Kr,Hr){return Kr&&u(Pr.prototype,Kr),Hr&&u(Pr,Hr),Pr}function d(Pr,Kr){return Kr&&(Dr(Kr)==="object"||typeof Kr=="function")?Kr:y(Pr)}function y(Pr){if(Pr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pr}function m(Pr,Kr){if(typeof Kr!="function"&&Kr!==null)throw new TypeError("Super expression must either be null or a function");Pr.prototype=Object.create(Kr&&Kr.prototype,{constructor:{value:Pr,writable:!0,configurable:!0}}),Kr&&$r(Pr,Kr)}function wr(Pr){var Kr=typeof Map=="function"?new Map:void 0;return wr=function(Gr){if(Gr===null||!Ir(Gr))return Gr;if(typeof Gr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Kr<"u"){if(Kr.has(Gr))return Kr.get(Gr);Kr.set(Gr,un)}function un(){return Ar(Gr,arguments,kr(this).constructor)}return un.prototype=Object.create(Gr.prototype,{constructor:{value:un,enumerable:!1,writable:!0,configurable:!0}}),$r(un,Gr)},wr(Pr)}function Sr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ar(Pr,Kr,Hr){return Sr()?Ar=Reflect.construct:Ar=function(un,wn,jr){var Rr=[null];Rr.push.apply(Rr,wn);var Ur=Function.bind.apply(un,Rr),hn=new Ur;return jr&&$r(hn,jr.prototype),hn},Ar.apply(null,arguments)}function Ir(Pr){return Function.toString.call(Pr).indexOf("[native code]")!==-1}function $r(Pr,Kr){return $r=Object.setPrototypeOf||function(Gr,un){return Gr.__proto__=un,Gr},$r(Pr,Kr)}function kr(Pr){return kr=Object.setPrototypeOf?Object.getPrototypeOf:function(Hr){return Hr.__proto__||Object.getPrototypeOf(Hr)},kr(Pr)}function Dr(Pr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dr=function(Hr){return typeof Hr}:Dr=function(Hr){return Hr&&typeof Symbol=="function"&&Hr.constructor===Symbol&&Hr!==Symbol.prototype?"symbol":typeof Hr},Dr(Pr)}var Cr=util$1,Br=Cr.inspect,Fr=requireErrors(),qr=Fr.codes.ERR_INVALID_ARG_TYPE;function Vr(Pr,Kr,Hr){return(Hr===void 0||Hr>Pr.length)&&(Hr=Pr.length),Pr.substring(Hr-Kr.length,Hr)===Kr}function Jr(Pr,Kr){if(Kr=Math.floor(Kr),Pr.length==0||Kr==0)return"";var Hr=Pr.length*Kr;for(Kr=Math.floor(Math.log(Kr)/Math.log(2));Kr;)Pr+=Pr,Kr--;return Pr+=Pr.substring(0,Hr-Pr.length),Pr}var Qr="",Wr="",Zr="",rn="",gn={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},an=10;function fn(Pr){var Kr=Object.keys(Pr),Hr=Object.create(Object.getPrototypeOf(Pr));return Kr.forEach(function(Gr){Hr[Gr]=Pr[Gr]}),Object.defineProperty(Hr,"message",{value:Pr.message}),Hr}function mn(Pr){return Br(Pr,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Mr(Pr,Kr,Hr){var Gr="",un="",wn=0,jr="",Rr=!1,Ur=mn(Pr),hn=Ur.split(`
`),en=mn(Kr).split(`
`),tn=0,dn="";if(Hr==="strictEqual"&&Dr(Pr)==="object"&&Dr(Kr)==="object"&&Pr!==null&&Kr!==null&&(Hr="strictEqualObject"),hn.length===1&&en.length===1&&hn[0]!==en[0]){var pn=hn[0].length+en[0].length;if(pn<=an){if((Dr(Pr)!=="object"||Pr===null)&&(Dr(Kr)!=="object"||Kr===null)&&(Pr!==0||Kr!==0))return"".concat(gn[Hr],`

`)+"".concat(hn[0]," !== ").concat(en[0],`
`)}else if(Hr!=="strictEqualObject"){var vn=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(pn<vn){for(;hn[0][tn]===en[0][tn];)tn++;tn>2&&(dn=`
  `.concat(Jr(" ",tn),"^"),tn=0)}}}for(var $n=hn[hn.length-1],Pn=en[en.length-1];$n===Pn&&(tn++<2?jr=`
  `.concat($n).concat(jr):Gr=$n,hn.pop(),en.pop(),!(hn.length===0||en.length===0));)$n=hn[hn.length-1],Pn=en[en.length-1];var kn=Math.max(hn.length,en.length);if(kn===0){var sn=Ur.split(`
`);if(sn.length>30)for(sn[26]="".concat(Qr,"...").concat(rn);sn.length>27;)sn.pop();return"".concat(gn.notIdentical,`

`).concat(sn.join(`
`),`
`)}tn>3&&(jr=`
`.concat(Qr,"...").concat(rn).concat(jr),Rr=!0),Gr!==""&&(jr=`
  `.concat(Gr).concat(jr),Gr="");var ln=0,Sn=gn[Hr]+`
`.concat(Wr,"+ actual").concat(rn," ").concat(Zr,"- expected").concat(rn),Bn=" ".concat(Qr,"...").concat(rn," Lines skipped");for(tn=0;tn<kn;tn++){var In=tn-wn;if(hn.length<tn+1)In>1&&tn>2&&(In>4?(un+=`
`.concat(Qr,"...").concat(rn),Rr=!0):In>3&&(un+=`
  `.concat(en[tn-2]),ln++),un+=`
  `.concat(en[tn-1]),ln++),wn=tn,Gr+=`
`.concat(Zr,"-").concat(rn," ").concat(en[tn]),ln++;else if(en.length<tn+1)In>1&&tn>2&&(In>4?(un+=`
`.concat(Qr,"...").concat(rn),Rr=!0):In>3&&(un+=`
  `.concat(hn[tn-2]),ln++),un+=`
  `.concat(hn[tn-1]),ln++),wn=tn,un+=`
`.concat(Wr,"+").concat(rn," ").concat(hn[tn]),ln++;else{var Ln=en[tn],An=hn[tn],Cn=An!==Ln&&(!Vr(An,",")||An.slice(0,-1)!==Ln);Cn&&Vr(Ln,",")&&Ln.slice(0,-1)===An&&(Cn=!1,An+=","),Cn?(In>1&&tn>2&&(In>4?(un+=`
`.concat(Qr,"...").concat(rn),Rr=!0):In>3&&(un+=`
  `.concat(hn[tn-2]),ln++),un+=`
  `.concat(hn[tn-1]),ln++),wn=tn,un+=`
`.concat(Wr,"+").concat(rn," ").concat(An),Gr+=`
`.concat(Zr,"-").concat(rn," ").concat(Ln),ln+=2):(un+=Gr,Gr="",(In===1||tn===0)&&(un+=`
  `.concat(An),ln++))}if(ln>20&&tn<kn-2)return"".concat(Sn).concat(Bn,`
`).concat(un,`
`).concat(Qr,"...").concat(rn).concat(Gr,`
`)+"".concat(Qr,"...").concat(rn)}return"".concat(Sn).concat(Rr?Bn:"",`
`).concat(un).concat(Gr).concat(jr).concat(dn)}var xr=function(Pr){m(Kr,Pr);function Kr(Hr){var Gr;if(c(this,Kr),Dr(Hr)!=="object"||Hr===null)throw new qr("options","Object",Hr);var un=Hr.message,wn=Hr.operator,jr=Hr.stackStartFn,Rr=Hr.actual,Ur=Hr.expected,hn=Error.stackTraceLimit;if(Error.stackTraceLimit=0,un!=null)Gr=d(this,kr(Kr).call(this,String(un)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Qr="\x1B[34m",Wr="\x1B[32m",rn="\x1B[39m",Zr="\x1B[31m"):(Qr="",Wr="",rn="",Zr="")),Dr(Rr)==="object"&&Rr!==null&&Dr(Ur)==="object"&&Ur!==null&&"stack"in Rr&&Rr instanceof Error&&"stack"in Ur&&Ur instanceof Error&&(Rr=fn(Rr),Ur=fn(Ur)),wn==="deepStrictEqual"||wn==="strictEqual")Gr=d(this,kr(Kr).call(this,Mr(Rr,Ur,wn)));else if(wn==="notDeepStrictEqual"||wn==="notStrictEqual"){var en=gn[wn],tn=mn(Rr).split(`
`);if(wn==="notStrictEqual"&&Dr(Rr)==="object"&&Rr!==null&&(en=gn.notStrictEqualObject),tn.length>30)for(tn[26]="".concat(Qr,"...").concat(rn);tn.length>27;)tn.pop();tn.length===1?Gr=d(this,kr(Kr).call(this,"".concat(en," ").concat(tn[0]))):Gr=d(this,kr(Kr).call(this,"".concat(en,`

`).concat(tn.join(`
`),`
`)))}else{var dn=mn(Rr),pn="",vn=gn[wn];wn==="notDeepEqual"||wn==="notEqual"?(dn="".concat(gn[wn],`

`).concat(dn),dn.length>1024&&(dn="".concat(dn.slice(0,1021),"..."))):(pn="".concat(mn(Ur)),dn.length>512&&(dn="".concat(dn.slice(0,509),"...")),pn.length>512&&(pn="".concat(pn.slice(0,509),"...")),wn==="deepEqual"||wn==="equal"?dn="".concat(vn,`

`).concat(dn,`

should equal

`):pn=" ".concat(wn," ").concat(pn)),Gr=d(this,kr(Kr).call(this,"".concat(dn).concat(pn)))}return Error.stackTraceLimit=hn,Gr.generatedMessage=!un,Object.defineProperty(y(Gr),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Gr.code="ERR_ASSERTION",Gr.actual=Rr,Gr.expected=Ur,Gr.operator=wn,Error.captureStackTrace&&Error.captureStackTrace(y(Gr),jr),Gr.stack,Gr.name="AssertionError",d(Gr)}return l(Kr,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Br.custom,value:function(Gr,un){return Br(this,a({},un,{customInspect:!1,depth:0}))}}]),Kr}(wr(Error));return assertion_error=xr,assertion_error}var es6ObjectAssign,hasRequiredEs6ObjectAssign;function requireEs6ObjectAssign(){if(hasRequiredEs6ObjectAssign)return es6ObjectAssign;hasRequiredEs6ObjectAssign=1;function a(c,u){if(c==null)throw new TypeError("Cannot convert first argument to object");for(var l=Object(c),d=1;d<arguments.length;d++){var y=arguments[d];if(y!=null)for(var m=Object.keys(Object(y)),wr=0,Sr=m.length;wr<Sr;wr++){var Ar=m[wr],Ir=Object.getOwnPropertyDescriptor(y,Ar);Ir!==void 0&&Ir.enumerable&&(l[Ar]=y[Ar])}}return l}function r(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:a})}return es6ObjectAssign={assign:a,polyfill:r},es6ObjectAssign}var isArguments$1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments$1;hasRequiredIsArguments=1;var a=Object.prototype.toString;return isArguments$1=function(c){var u=a.call(c),l=u==="[object Arguments]";return l||(l=u!=="[object Array]"&&c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&a.call(c.callee)==="[object Function]"),l},isArguments$1}var implementation$2,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$2;hasRequiredImplementation$2=1;var a;if(!Object.keys){var r=Object.prototype.hasOwnProperty,c=Object.prototype.toString,u=requireIsArguments(),l=Object.prototype.propertyIsEnumerable,d=!l.call({toString:null},"toString"),y=l.call(function(){},"prototype"),m=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],wr=function($r){var kr=$r.constructor;return kr&&kr.prototype===$r},Sr={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Ar=function(){if(typeof window>"u")return!1;for(var $r in window)try{if(!Sr["$"+$r]&&r.call(window,$r)&&window[$r]!==null&&typeof window[$r]=="object")try{wr(window[$r])}catch{return!0}}catch{return!0}return!1}(),Ir=function($r){if(typeof window>"u"||!Ar)return wr($r);try{return wr($r)}catch{return!1}};a=function(kr){var Dr=kr!==null&&typeof kr=="object",Cr=c.call(kr)==="[object Function]",Br=u(kr),Fr=Dr&&c.call(kr)==="[object String]",qr=[];if(!Dr&&!Cr&&!Br)throw new TypeError("Object.keys called on a non-object");var Vr=y&&Cr;if(Fr&&kr.length>0&&!r.call(kr,0))for(var Jr=0;Jr<kr.length;++Jr)qr.push(String(Jr));if(Br&&kr.length>0)for(var Qr=0;Qr<kr.length;++Qr)qr.push(String(Qr));else for(var Wr in kr)!(Vr&&Wr==="prototype")&&r.call(kr,Wr)&&qr.push(String(Wr));if(d)for(var Zr=Ir(kr),rn=0;rn<m.length;++rn)!(Zr&&m[rn]==="constructor")&&r.call(kr,m[rn])&&qr.push(m[rn]);return qr}}return implementation$2=a,implementation$2}var objectKeys$1,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys$1;hasRequiredObjectKeys=1;var a=Array.prototype.slice,r=requireIsArguments(),c=Object.keys,u=c?function(y){return c(y)}:requireImplementation$2(),l=Object.keys;return u.shim=function(){if(Object.keys){var y=function(){var m=Object.keys(arguments);return m&&m.length===arguments.length}(1,2);y||(Object.keys=function(wr){return r(wr)?l(a.call(wr)):l(wr)})}else Object.keys=u;return Object.keys||u},objectKeys$1=u,objectKeys$1}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var a=requireGetIntrinsic(),r=a("%Object.defineProperty%",!0),c=function(){if(r)try{return r({},"a",{value:1}),!0}catch{return!1}return!1};return c.hasArrayLengthDefineBug=function(){if(!c())return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=c,hasPropertyDescriptors_1}var defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var a=requireObjectKeys(),r=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",c=Object.prototype.toString,u=Array.prototype.concat,l=Object.defineProperty,d=function(Ar){return typeof Ar=="function"&&c.call(Ar)==="[object Function]"},y=requireHasPropertyDescriptors()(),m=l&&y,wr=function(Ar,Ir,$r,kr){Ir in Ar&&(!d(kr)||!kr())||(m?l(Ar,Ir,{configurable:!0,enumerable:!1,value:$r,writable:!0}):Ar[Ir]=$r)},Sr=function(Ar,Ir){var $r=arguments.length>2?arguments[2]:{},kr=a(Ir);r&&(kr=u.call(kr,Object.getOwnPropertySymbols(Ir)));for(var Dr=0;Dr<kr.length;Dr+=1)wr(Ar,kr[Dr],Ir[kr[Dr]],$r[kr[Dr]])};return Sr.supportsDescriptors=!!m,defineProperties_1=Sr,defineProperties_1}var implementation$1,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$1;hasRequiredImplementation$1=1;var a=function(r){return r!==r};return implementation$1=function(c,u){return c===0&&u===0?1/c===1/u:!!(c===u||a(c)&&a(u))},implementation$1}var polyfill$1,hasRequiredPolyfill$1;function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$1;hasRequiredPolyfill$1=1;var a=requireImplementation$1();return polyfill$1=function(){return typeof Object.is=="function"?Object.is:a},polyfill$1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var a=requirePolyfill$1(),r=requireDefineProperties();return shim$1=function(){var u=a();return r(Object,{is:u},{is:function(){return Object.is!==u}}),u},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var a=requireDefineProperties(),r=requireCallBind(),c=requireImplementation$1(),u=requirePolyfill$1(),l=requireShim$1(),d=r(u(),Object);return a(d,{getPolyfill:u,implementation:c,shim:l}),objectIs=d,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(r){return r!==r}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var a=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:a},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var a=requireDefineProperties(),r=requirePolyfill();return shim=function(){var u=r();return a(Number,{isNaN:u},{isNaN:function(){return Number.isNaN!==u}}),u},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var a=requireCallBind(),r=requireDefineProperties(),c=requireImplementation(),u=requirePolyfill(),l=requireShim(),d=a(u(),Number);return r(d,{getPolyfill:u,implementation:c,shim:l}),isNan=d,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function a(cn,yn){return u(cn)||c(cn,yn)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(cn,yn){var xn=[],Rn=!0,Nn=!1,Er=void 0;try{for(var _r=cn[Symbol.iterator](),br;!(Rn=(br=_r.next()).done)&&(xn.push(br.value),!(yn&&xn.length===yn));Rn=!0);}catch(Tr){Nn=!0,Er=Tr}finally{try{!Rn&&_r.return!=null&&_r.return()}finally{if(Nn)throw Er}}return xn}function u(cn){if(Array.isArray(cn))return cn}function l(cn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(xn){return typeof xn}:l=function(xn){return xn&&typeof Symbol=="function"&&xn.constructor===Symbol&&xn!==Symbol.prototype?"symbol":typeof xn},l(cn)}var d=/a/g.flags!==void 0,y=function(yn){var xn=[];return yn.forEach(function(Rn){return xn.push(Rn)}),xn},m=function(yn){var xn=[];return yn.forEach(function(Rn,Nn){return xn.push([Nn,Rn])}),xn},wr=Object.is?Object.is:requireObjectIs(),Sr=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Ar=Number.isNaN?Number.isNaN:requireIsNan();function Ir(cn){return cn.call.bind(cn)}var $r=Ir(Object.prototype.hasOwnProperty),kr=Ir(Object.prototype.propertyIsEnumerable),Dr=Ir(Object.prototype.toString),Cr=util$1.types,Br=Cr.isAnyArrayBuffer,Fr=Cr.isArrayBufferView,qr=Cr.isDate,Vr=Cr.isMap,Jr=Cr.isRegExp,Qr=Cr.isSet,Wr=Cr.isNativeError,Zr=Cr.isBoxedPrimitive,rn=Cr.isNumberObject,gn=Cr.isStringObject,an=Cr.isBooleanObject,fn=Cr.isBigIntObject,mn=Cr.isSymbolObject,Mr=Cr.isFloat32Array,xr=Cr.isFloat64Array;function Pr(cn){if(cn.length===0||cn.length>10)return!0;for(var yn=0;yn<cn.length;yn++){var xn=cn.charCodeAt(yn);if(xn<48||xn>57)return!0}return cn.length===10&&cn>=Math.pow(2,32)}function Kr(cn){return Object.keys(cn).filter(Pr).concat(Sr(cn).filter(Object.prototype.propertyIsEnumerable.bind(cn)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function Hr(cn,yn){if(cn===yn)return 0;for(var xn=cn.length,Rn=yn.length,Nn=0,Er=Math.min(xn,Rn);Nn<Er;++Nn)if(cn[Nn]!==yn[Nn]){xn=cn[Nn],Rn=yn[Nn];break}return xn<Rn?-1:Rn<xn?1:0}var Gr=!0,un=!1,wn=0,jr=1,Rr=2,Ur=3;function hn(cn,yn){return d?cn.source===yn.source&&cn.flags===yn.flags:RegExp.prototype.toString.call(cn)===RegExp.prototype.toString.call(yn)}function en(cn,yn){if(cn.byteLength!==yn.byteLength)return!1;for(var xn=0;xn<cn.byteLength;xn++)if(cn[xn]!==yn[xn])return!1;return!0}function tn(cn,yn){return cn.byteLength!==yn.byteLength?!1:Hr(new Uint8Array(cn.buffer,cn.byteOffset,cn.byteLength),new Uint8Array(yn.buffer,yn.byteOffset,yn.byteLength))===0}function dn(cn,yn){return cn.byteLength===yn.byteLength&&Hr(new Uint8Array(cn),new Uint8Array(yn))===0}function pn(cn,yn){return rn(cn)?rn(yn)&&wr(Number.prototype.valueOf.call(cn),Number.prototype.valueOf.call(yn)):gn(cn)?gn(yn)&&String.prototype.valueOf.call(cn)===String.prototype.valueOf.call(yn):an(cn)?an(yn)&&Boolean.prototype.valueOf.call(cn)===Boolean.prototype.valueOf.call(yn):fn(cn)?fn(yn)&&BigInt.prototype.valueOf.call(cn)===BigInt.prototype.valueOf.call(yn):mn(yn)&&Symbol.prototype.valueOf.call(cn)===Symbol.prototype.valueOf.call(yn)}function vn(cn,yn,xn,Rn){if(cn===yn)return cn!==0?!0:xn?wr(cn,yn):!0;if(xn){if(l(cn)!=="object")return typeof cn=="number"&&Ar(cn)&&Ar(yn);if(l(yn)!=="object"||cn===null||yn===null||Object.getPrototypeOf(cn)!==Object.getPrototypeOf(yn))return!1}else{if(cn===null||l(cn)!=="object")return yn===null||l(yn)!=="object"?cn==yn:!1;if(yn===null||l(yn)!=="object")return!1}var Nn=Dr(cn),Er=Dr(yn);if(Nn!==Er)return!1;if(Array.isArray(cn)){if(cn.length!==yn.length)return!1;var _r=Kr(cn),br=Kr(yn);return _r.length!==br.length?!1:Pn(cn,yn,xn,Rn,jr,_r)}if(Nn==="[object Object]"&&(!Vr(cn)&&Vr(yn)||!Qr(cn)&&Qr(yn)))return!1;if(qr(cn)){if(!qr(yn)||Date.prototype.getTime.call(cn)!==Date.prototype.getTime.call(yn))return!1}else if(Jr(cn)){if(!Jr(yn)||!hn(cn,yn))return!1}else if(Wr(cn)||cn instanceof Error){if(cn.message!==yn.message||cn.name!==yn.name)return!1}else if(Fr(cn)){if(!xn&&(Mr(cn)||xr(cn))){if(!en(cn,yn))return!1}else if(!tn(cn,yn))return!1;var Tr=Kr(cn),Lr=Kr(yn);return Tr.length!==Lr.length?!1:Pn(cn,yn,xn,Rn,wn,Tr)}else{if(Qr(cn))return!Qr(yn)||cn.size!==yn.size?!1:Pn(cn,yn,xn,Rn,Rr);if(Vr(cn))return!Vr(yn)||cn.size!==yn.size?!1:Pn(cn,yn,xn,Rn,Ur);if(Br(cn)){if(!dn(cn,yn))return!1}else if(Zr(cn)&&!pn(cn,yn))return!1}return Pn(cn,yn,xn,Rn,wn)}function $n(cn,yn){return yn.filter(function(xn){return kr(cn,xn)})}function Pn(cn,yn,xn,Rn,Nn,Er){if(arguments.length===5){Er=Object.keys(cn);var _r=Object.keys(yn);if(Er.length!==_r.length)return!1}for(var br=0;br<Er.length;br++)if(!$r(yn,Er[br]))return!1;if(xn&&arguments.length===5){var Tr=Sr(cn);if(Tr.length!==0){var Lr=0;for(br=0;br<Tr.length;br++){var zr=Tr[br];if(kr(cn,zr)){if(!kr(yn,zr))return!1;Er.push(zr),Lr++}else if(kr(yn,zr))return!1}var Xr=Sr(yn);if(Tr.length!==Xr.length&&$n(yn,Xr).length!==Lr)return!1}else{var Dn=Sr(yn);if(Dn.length!==0&&$n(yn,Dn).length!==0)return!1}}if(Er.length===0&&(Nn===wn||Nn===jr&&cn.length===0||cn.size===0))return!0;if(Rn===void 0)Rn={val1:new Map,val2:new Map,position:0};else{var Vn=Rn.val1.get(cn);if(Vn!==void 0){var Fn=Rn.val2.get(yn);if(Fn!==void 0)return Vn===Fn}Rn.position++}Rn.val1.set(cn,Rn.position),Rn.val2.set(yn,Rn.position);var Wn=An(cn,yn,xn,Er,Rn,Nn);return Rn.val1.delete(cn),Rn.val2.delete(yn),Wn}function kn(cn,yn,xn,Rn){for(var Nn=y(cn),Er=0;Er<Nn.length;Er++){var _r=Nn[Er];if(vn(yn,_r,xn,Rn))return cn.delete(_r),!0}return!1}function sn(cn){switch(l(cn)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":cn=+cn;case"number":if(Ar(cn))return!1}return!0}function ln(cn,yn,xn){var Rn=sn(xn);return Rn??(yn.has(Rn)&&!cn.has(Rn))}function Sn(cn,yn,xn,Rn,Nn){var Er=sn(xn);if(Er!=null)return Er;var _r=yn.get(Er);return _r===void 0&&!yn.has(Er)||!vn(Rn,_r,!1,Nn)?!1:!cn.has(Er)&&vn(Rn,_r,!1,Nn)}function Bn(cn,yn,xn,Rn){for(var Nn=null,Er=y(cn),_r=0;_r<Er.length;_r++){var br=Er[_r];if(l(br)==="object"&&br!==null)Nn===null&&(Nn=new Set),Nn.add(br);else if(!yn.has(br)){if(xn||!ln(cn,yn,br))return!1;Nn===null&&(Nn=new Set),Nn.add(br)}}if(Nn!==null){for(var Tr=y(yn),Lr=0;Lr<Tr.length;Lr++){var zr=Tr[Lr];if(l(zr)==="object"&&zr!==null){if(!kn(Nn,zr,xn,Rn))return!1}else if(!xn&&!cn.has(zr)&&!kn(Nn,zr,xn,Rn))return!1}return Nn.size===0}return!0}function In(cn,yn,xn,Rn,Nn,Er){for(var _r=y(cn),br=0;br<_r.length;br++){var Tr=_r[br];if(vn(xn,Tr,Nn,Er)&&vn(Rn,yn.get(Tr),Nn,Er))return cn.delete(Tr),!0}return!1}function Ln(cn,yn,xn,Rn){for(var Nn=null,Er=m(cn),_r=0;_r<Er.length;_r++){var br=a(Er[_r],2),Tr=br[0],Lr=br[1];if(l(Tr)==="object"&&Tr!==null)Nn===null&&(Nn=new Set),Nn.add(Tr);else{var zr=yn.get(Tr);if(zr===void 0&&!yn.has(Tr)||!vn(Lr,zr,xn,Rn)){if(xn||!Sn(cn,yn,Tr,Lr,Rn))return!1;Nn===null&&(Nn=new Set),Nn.add(Tr)}}}if(Nn!==null){for(var Xr=m(yn),Dn=0;Dn<Xr.length;Dn++){var Vn=a(Xr[Dn],2),Tr=Vn[0],Fn=Vn[1];if(l(Tr)==="object"&&Tr!==null){if(!In(Nn,cn,Tr,Fn,xn,Rn))return!1}else if(!xn&&(!cn.has(Tr)||!vn(cn.get(Tr),Fn,!1,Rn))&&!In(Nn,cn,Tr,Fn,!1,Rn))return!1}return Nn.size===0}return!0}function An(cn,yn,xn,Rn,Nn,Er){var _r=0;if(Er===Rr){if(!Bn(cn,yn,xn,Nn))return!1}else if(Er===Ur){if(!Ln(cn,yn,xn,Nn))return!1}else if(Er===jr)for(;_r<cn.length;_r++)if($r(cn,_r)){if(!$r(yn,_r)||!vn(cn[_r],yn[_r],xn,Nn))return!1}else{if($r(yn,_r))return!1;for(var br=Object.keys(cn);_r<br.length;_r++){var Tr=br[_r];if(!$r(yn,Tr)||!vn(cn[Tr],yn[Tr],xn,Nn))return!1}return br.length===Object.keys(yn).length}for(_r=0;_r<Rn.length;_r++){var Lr=Rn[_r];if(!vn(cn[Lr],yn[Lr],xn,Nn))return!1}return!0}function Cn(cn,yn){return vn(cn,yn,un)}function Mn(cn,yn){return vn(cn,yn,Gr)}return comparisons={isDeepEqual:Cn,isDeepStrictEqual:Mn},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$1.exports;hasRequiredAssert=1;function a(jr){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(Ur){return typeof Ur}:a=function(Ur){return Ur&&typeof Symbol=="function"&&Ur.constructor===Symbol&&Ur!==Symbol.prototype?"symbol":typeof Ur},a(jr)}function r(jr,Rr){if(!(jr instanceof Rr))throw new TypeError("Cannot call a class as a function")}var c=requireErrors(),u=c.codes,l=u.ERR_AMBIGUOUS_ARGUMENT,d=u.ERR_INVALID_ARG_TYPE,y=u.ERR_INVALID_ARG_VALUE,m=u.ERR_INVALID_RETURN_VALUE,wr=u.ERR_MISSING_ARGS,Sr=requireAssertion_error(),Ar=util$1,Ir=Ar.inspect,$r=util$1.types,kr=$r.isPromise,Dr=$r.isRegExp,Cr=Object.assign?Object.assign:requireEs6ObjectAssign().assign,Br=Object.is?Object.is:requireObjectIs(),Fr,qr;function Vr(){var jr=requireComparisons();Fr=jr.isDeepEqual,qr=jr.isDeepStrictEqual}var Jr=!1,Qr=assert$1.exports=an,Wr={};function Zr(jr){throw jr.message instanceof Error?jr.message:new Sr(jr)}function rn(jr,Rr,Ur,hn,en){var tn=arguments.length,dn;if(tn===0)dn="Failed";else if(tn===1)Ur=jr,jr=void 0;else{if(Jr===!1){Jr=!0;var pn=process.emitWarning?process.emitWarning:console.warn.bind(console);pn("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}tn===2&&(hn="!=")}if(Ur instanceof Error)throw Ur;var vn={actual:jr,expected:Rr,operator:hn===void 0?"fail":hn,stackStartFn:en||rn};Ur!==void 0&&(vn.message=Ur);var $n=new Sr(vn);throw dn&&($n.message=dn,$n.generatedMessage=!0),$n}Qr.fail=rn,Qr.AssertionError=Sr;function gn(jr,Rr,Ur,hn){if(!Ur){var en=!1;if(Rr===0)en=!0,hn="No value argument passed to `assert.ok()`";else if(hn instanceof Error)throw hn;var tn=new Sr({actual:Ur,expected:!0,message:hn,operator:"==",stackStartFn:jr});throw tn.generatedMessage=en,tn}}function an(){for(var jr=arguments.length,Rr=new Array(jr),Ur=0;Ur<jr;Ur++)Rr[Ur]=arguments[Ur];gn.apply(void 0,[an,Rr.length].concat(Rr))}Qr.ok=an,Qr.equal=function jr(Rr,Ur,hn){if(arguments.length<2)throw new wr("actual","expected");Rr!=Ur&&Zr({actual:Rr,expected:Ur,message:hn,operator:"==",stackStartFn:jr})},Qr.notEqual=function jr(Rr,Ur,hn){if(arguments.length<2)throw new wr("actual","expected");Rr==Ur&&Zr({actual:Rr,expected:Ur,message:hn,operator:"!=",stackStartFn:jr})},Qr.deepEqual=function jr(Rr,Ur,hn){if(arguments.length<2)throw new wr("actual","expected");Fr===void 0&&Vr(),Fr(Rr,Ur)||Zr({actual:Rr,expected:Ur,message:hn,operator:"deepEqual",stackStartFn:jr})},Qr.notDeepEqual=function jr(Rr,Ur,hn){if(arguments.length<2)throw new wr("actual","expected");Fr===void 0&&Vr(),Fr(Rr,Ur)&&Zr({actual:Rr,expected:Ur,message:hn,operator:"notDeepEqual",stackStartFn:jr})},Qr.deepStrictEqual=function jr(Rr,Ur,hn){if(arguments.length<2)throw new wr("actual","expected");Fr===void 0&&Vr(),qr(Rr,Ur)||Zr({actual:Rr,expected:Ur,message:hn,operator:"deepStrictEqual",stackStartFn:jr})},Qr.notDeepStrictEqual=fn;function fn(jr,Rr,Ur){if(arguments.length<2)throw new wr("actual","expected");Fr===void 0&&Vr(),qr(jr,Rr)&&Zr({actual:jr,expected:Rr,message:Ur,operator:"notDeepStrictEqual",stackStartFn:fn})}Qr.strictEqual=function jr(Rr,Ur,hn){if(arguments.length<2)throw new wr("actual","expected");Br(Rr,Ur)||Zr({actual:Rr,expected:Ur,message:hn,operator:"strictEqual",stackStartFn:jr})},Qr.notStrictEqual=function jr(Rr,Ur,hn){if(arguments.length<2)throw new wr("actual","expected");Br(Rr,Ur)&&Zr({actual:Rr,expected:Ur,message:hn,operator:"notStrictEqual",stackStartFn:jr})};var mn=function jr(Rr,Ur,hn){var en=this;r(this,jr),Ur.forEach(function(tn){tn in Rr&&(hn!==void 0&&typeof hn[tn]=="string"&&Dr(Rr[tn])&&Rr[tn].test(hn[tn])?en[tn]=hn[tn]:en[tn]=Rr[tn])})};function Mr(jr,Rr,Ur,hn,en,tn){if(!(Ur in jr)||!qr(jr[Ur],Rr[Ur])){if(!hn){var dn=new mn(jr,en),pn=new mn(Rr,en,jr),vn=new Sr({actual:dn,expected:pn,operator:"deepStrictEqual",stackStartFn:tn});throw vn.actual=jr,vn.expected=Rr,vn.operator=tn.name,vn}Zr({actual:jr,expected:Rr,message:hn,operator:tn.name,stackStartFn:tn})}}function xr(jr,Rr,Ur,hn){if(typeof Rr!="function"){if(Dr(Rr))return Rr.test(jr);if(arguments.length===2)throw new d("expected",["Function","RegExp"],Rr);if(a(jr)!=="object"||jr===null){var en=new Sr({actual:jr,expected:Rr,message:Ur,operator:"deepStrictEqual",stackStartFn:hn});throw en.operator=hn.name,en}var tn=Object.keys(Rr);if(Rr instanceof Error)tn.push("name","message");else if(tn.length===0)throw new y("error",Rr,"may not be an empty object");return Fr===void 0&&Vr(),tn.forEach(function(dn){typeof jr[dn]=="string"&&Dr(Rr[dn])&&Rr[dn].test(jr[dn])||Mr(jr,Rr,dn,Ur,tn,hn)}),!0}return Rr.prototype!==void 0&&jr instanceof Rr?!0:Error.isPrototypeOf(Rr)?!1:Rr.call({},jr)===!0}function Pr(jr){if(typeof jr!="function")throw new d("fn","Function",jr);try{jr()}catch(Rr){return Rr}return Wr}function Kr(jr){return kr(jr)||jr!==null&&a(jr)==="object"&&typeof jr.then=="function"&&typeof jr.catch=="function"}function Hr(jr){return Promise.resolve().then(function(){var Rr;if(typeof jr=="function"){if(Rr=jr(),!Kr(Rr))throw new m("instance of Promise","promiseFn",Rr)}else if(Kr(jr))Rr=jr;else throw new d("promiseFn",["Function","Promise"],jr);return Promise.resolve().then(function(){return Rr}).then(function(){return Wr}).catch(function(Ur){return Ur})})}function Gr(jr,Rr,Ur,hn){if(typeof Ur=="string"){if(arguments.length===4)throw new d("error",["Object","Error","Function","RegExp"],Ur);if(a(Rr)==="object"&&Rr!==null){if(Rr.message===Ur)throw new l("error/message",'The error message "'.concat(Rr.message,'" is identical to the message.'))}else if(Rr===Ur)throw new l("error/message",'The error "'.concat(Rr,'" is identical to the message.'));hn=Ur,Ur=void 0}else if(Ur!=null&&a(Ur)!=="object"&&typeof Ur!="function")throw new d("error",["Object","Error","Function","RegExp"],Ur);if(Rr===Wr){var en="";Ur&&Ur.name&&(en+=" (".concat(Ur.name,")")),en+=hn?": ".concat(hn):".";var tn=jr.name==="rejects"?"rejection":"exception";Zr({actual:void 0,expected:Ur,operator:jr.name,message:"Missing expected ".concat(tn).concat(en),stackStartFn:jr})}if(Ur&&!xr(Rr,Ur,hn,jr))throw Rr}function un(jr,Rr,Ur,hn){if(Rr!==Wr){if(typeof Ur=="string"&&(hn=Ur,Ur=void 0),!Ur||xr(Rr,Ur)){var en=hn?": ".concat(hn):".",tn=jr.name==="doesNotReject"?"rejection":"exception";Zr({actual:Rr,expected:Ur,operator:jr.name,message:"Got unwanted ".concat(tn).concat(en,`
`)+'Actual message: "'.concat(Rr&&Rr.message,'"'),stackStartFn:jr})}throw Rr}}Qr.throws=function jr(Rr){for(var Ur=arguments.length,hn=new Array(Ur>1?Ur-1:0),en=1;en<Ur;en++)hn[en-1]=arguments[en];Gr.apply(void 0,[jr,Pr(Rr)].concat(hn))},Qr.rejects=function jr(Rr){for(var Ur=arguments.length,hn=new Array(Ur>1?Ur-1:0),en=1;en<Ur;en++)hn[en-1]=arguments[en];return Hr(Rr).then(function(tn){return Gr.apply(void 0,[jr,tn].concat(hn))})},Qr.doesNotThrow=function jr(Rr){for(var Ur=arguments.length,hn=new Array(Ur>1?Ur-1:0),en=1;en<Ur;en++)hn[en-1]=arguments[en];un.apply(void 0,[jr,Pr(Rr)].concat(hn))},Qr.doesNotReject=function jr(Rr){for(var Ur=arguments.length,hn=new Array(Ur>1?Ur-1:0),en=1;en<Ur;en++)hn[en-1]=arguments[en];return Hr(Rr).then(function(tn){return un.apply(void 0,[jr,tn].concat(hn))})},Qr.ifError=function jr(Rr){if(Rr!=null){var Ur="ifError got unwanted exception: ";a(Rr)==="object"&&typeof Rr.message=="string"?Rr.message.length===0&&Rr.constructor?Ur+=Rr.constructor.name:Ur+=Rr.message:Ur+=Ir(Rr);var hn=new Sr({actual:Rr,expected:null,operator:"ifError",message:Ur,stackStartFn:jr}),en=Rr.stack;if(typeof en=="string"){var tn=en.split(`
`);tn.shift();for(var dn=hn.stack.split(`
`),pn=0;pn<tn.length;pn++){var vn=dn.indexOf(tn[pn]);if(vn!==-1){dn=dn.slice(0,vn);break}}hn.stack="".concat(dn.join(`
`),`
`).concat(tn.join(`
`))}throw hn}};function wn(){for(var jr=arguments.length,Rr=new Array(jr),Ur=0;Ur<jr;Ur++)Rr[Ur]=arguments[Ur];gn.apply(void 0,[wn,Rr.length].concat(Rr))}return Qr.strict=Cr(wn,Qr,{equal:Qr.strictEqual,deepEqual:Qr.deepStrictEqual,notEqual:Qr.notStrictEqual,notDeepEqual:Qr.notDeepStrictEqual}),Qr.strict.strict=Qr.strict,assert$1.exports}var assertExports=requireAssert(),g=Object.freeze({__proto__:null,encode:function(a){return a.reduce((r,c)=>r+c.toString(16).padStart(2,"0"),"0x")},decode:function(a){a.indexOf("0x")===0&&(a=a.substr(2)),a.length%2==1&&(a="0"+a);let r=a.match(/.{2}/g);return r===null?buffer$2.Buffer.from([]):buffer$2.Buffer.from(r.map(c=>parseInt(c,16)))}});function w(a){return new TextDecoder("utf-8").decode(a)}function v(a){return new TextEncoder().encode(a)}var b=Object.freeze({__proto__:null,decode:w,encode:v});function A(a){return bs58.encode(a)}var _=Object.freeze({__proto__:null,encode:A,decode:function(a){return bs58.decode(a)}});function E(a){return buffer$2.Buffer.from(toByteArray_1(a))}var S=Object.freeze({__proto__:null,encode:function(a){return fromByteArray_1(a)},decode:E}),I=Object.freeze({__proto__:null,hex:g,utf8:b,bs58:_,base64:S});function k(a){const r=new Map;return a.errors&&a.errors.forEach(c=>{var u;let l=(u=c.msg)!==null&&u!==void 0?u:c.name;r.set(c.code,l)}),r}function x(a,...r){if(a.args.length!=r.length)throw new Error("Invalid argument length");const c={};let u=0;return a.args.forEach(l=>{c[l.name]=r[u],u+=1}),c}function M(a,r={}){a.forEach(c=>{if("accounts"in c)M(c.accounts,r[c.name]);else if(r[c.name]===void 0)throw new Error(`Invalid arguments: ${c.name} not provided.`)})}function P(a){return a instanceof PublicKey?a:new PublicKey(a)}class T extends TypeError{constructor(r,c){let u;const{message:l,...d}=r,{path:y}=r;super(y.length===0?l:"At path: "+y.join(".")+" -- "+l),Object.assign(this,d),this.name=this.constructor.name,this.failures=()=>{var m;return(m=u)!=null?m:u=[r,...c()]}}}function C(a){return typeof a=="object"&&a!=null}function L(a){return typeof a=="string"?JSON.stringify(a):""+a}function O(a,r,c,u){if(a===!0)return;a===!1?a={}:typeof a=="string"&&(a={message:a});const{path:l,branch:d}=r,{type:y}=c,{refinement:m,message:wr="Expected a value of type `"+y+"`"+(m?" with refinement `"+m+"`":"")+", but received: `"+L(u)+"`"}=a;return{value:u,type:y,refinement:m,key:l[l.length-1],path:l,branch:d,...a,message:wr}}function*B(a,r,c,u){var l;C(l=a)&&typeof l[Symbol.iterator]=="function"||(a=[a]);for(const d of a){const y=O(d,r,c,u);y&&(yield y)}}function*D(a,r,c={}){const{path:u=[],branch:l=[a],coerce:d=!1,mask:y=!1}=c,m={path:u,branch:l};if(d&&(a=r.coercer(a,m),y&&r.type!=="type"&&C(r.schema)&&C(a)&&!Array.isArray(a)))for(const Sr in a)r.schema[Sr]===void 0&&delete a[Sr];let wr=!0;for(const Sr of r.validator(a,m))wr=!1,yield[Sr,void 0];for(let[Sr,Ar,Ir]of r.entries(a,m)){const $r=D(Ar,Ir,{path:Sr===void 0?u:[...u,Sr],branch:Sr===void 0?l:[...l,Ar],coerce:d,mask:y});for(const kr of $r)kr[0]?(wr=!1,yield[kr[0],void 0]):d&&(Ar=kr[1],Sr===void 0?a=Ar:a instanceof Map?a.set(Sr,Ar):a instanceof Set?a.add(Ar):C(a)&&(a[Sr]=Ar))}if(wr)for(const Sr of r.refiner(a,m))wr=!1,yield[Sr,void 0];wr&&(yield[void 0,a])}class z{constructor(r){const{type:c,schema:u,validator:l,refiner:d,coercer:y=wr=>wr,entries:m=function*(){}}=r;this.type=c,this.schema=u,this.entries=m,this.coercer=y,this.validator=l?(wr,Sr)=>B(l(wr,Sr),Sr,this,wr):()=>[],this.refiner=d?(wr,Sr)=>B(d(wr,Sr),Sr,this,wr):()=>[]}assert(r){return function(c,u){const l=R(c,u);if(l[0])throw l[0]}(r,this)}create(r){return N(r,this)}is(r){return j(r,this)}mask(r){return function(c,u){const l=R(c,u,{coerce:!0,mask:!0});if(l[0])throw l[0];return l[1]}(r,this)}validate(r,c={}){return R(r,this,c)}}function N(a,r){const c=R(a,r,{coerce:!0});if(c[0])throw c[0];return c[1]}function j(a,r){return!R(a,r)[0]}function R(a,r,c={}){const u=D(a,r,c),l=function(d){const{done:y,value:m}=d.next();return y?void 0:m}(u);return l[0]?[new T(l[0],function*(){for(const d of u)d[0]&&(yield d[0])}),void 0]:[void 0,l[1]]}function U(a,r){return new z({type:a,schema:null,validator:r})}function V(a){return new z({type:"array",schema:a,*entries(r){if(a&&Array.isArray(r))for(const[c,u]of r.entries())yield[c,u,a]},coercer:r=>Array.isArray(r)?r.slice():r,validator:r=>Array.isArray(r)||"Expected an array value, but received: "+L(r)})}function $(a){const r=L(a),c=typeof a;return new z({type:"literal",schema:c==="string"||c==="number"||c==="boolean"?a:null,validator:u=>u===a||"Expected the literal `"+r+"`, but received: "+L(u)})}function q(a){return new z({...a,validator:(r,c)=>r===null||a.validator(r,c),refiner:(r,c)=>r===null||a.refiner(r,c)})}function K(){return U("number",a=>typeof a=="number"&&!isNaN(a)||"Expected a number, but received: "+L(a))}function F(a){return new z({...a,validator:(r,c)=>r===void 0||a.validator(r,c),refiner:(r,c)=>r===void 0||a.refiner(r,c)})}function W(){return U("string",a=>typeof a=="string"||"Expected a string, but received: "+L(a))}function G(a){const r=Object.keys(a);return new z({type:"type",schema:a,*entries(c){if(C(c))for(const u of r)yield[u,c[u],a[u]]},validator:c=>C(c)||"Expected an object, but received: "+L(c)})}function H(a){const r=a.map(c=>c.type).join(" | ");return new z({type:"union",schema:null,validator(c,u){const l=[];for(const d of a){const[...y]=D(c,d,u),[m]=y;if(!m[0])return[];for(const[wr]of y)wr&&l.push(wr)}return["Expected the value to satisfy a union of `"+r+"`, but received: "+L(c),...l]}})}function J(){return U("unknown",()=>!0)}async function Z(a,r,c){if(r.length<=99)return await Q(a,r,c);{const u=function(l,d){return Array.apply(0,new Array(Math.ceil(l.length/d))).map((y,m)=>l.slice(m*d,(m+1)*d))}(r,99);return(await Promise.all(u.map(l=>Q(a,l,c)))).flat()}}async function Q(a,r,c){const u=c??a.commitment;return(await a.getMultipleAccountsInfo(r,u)).map((l,d)=>l===null?null:{publicKey:r[d],account:l})}async function X(a,r,c,u,l){c&&c.length>0&&r.sign(...c);const d=r._compile(),y=d.serialize(),m=r._serialize(y).toString("base64"),wr={encoding:"base64",commitment:u??a.commitment};if(l){const Ir=(Array.isArray(l)?l:d.nonProgramIds()).map($r=>$r.toBase58());wr.accounts={encoding:"base64",addresses:Ir}}c&&(wr.sigVerify=!0);const Sr=[m,wr],Ar=N(await a._rpcRequest("simulateTransaction",Sr),rt);if("error"in Ar){let Ir;if("data"in Ar.error&&(Ir=Ar.error.data.logs,Ir&&Array.isArray(Ir))){const $r=`
    `,kr=$r+Ir.join($r);console.error(Ar.error.message,kr)}throw new SendTransactionError("failed to simulate transaction: "+Ar.error.message,Ir)}return Ar.result}function Y(a){return function(r,c,u){return new z({...r,coercer:(l,d)=>j(l,c)?r.coercer(u(l,d),d):r.coercer(l,d)})}(et(a),tt,r=>"error"in r?r:{...r,result:N(r.result,a)})}const tt=et(J());function et(a){return H([G({jsonrpc:$("2.0"),id:W(),result:a}),G({jsonrpc:$("2.0"),id:W(),error:G({code:J(),message:W(),data:F(U("any",()=>!0))})})])}const rt=(nt=G({err:q(H([G({}),W()])),logs:q(V(W())),accounts:F(q(V(q(G({executable:U("boolean",a=>typeof a=="boolean"),owner:W(),lamports:K(),data:V(W()),rentEpoch:F(K())}))))),unitsConsumed:F(K())}),Y(G({context:G({slot:K()}),value:nt})));var nt,it=Object.freeze({__proto__:null,invoke:async function(a,r,c,u){a=P(a),u||(u=dt());const l=new Transaction;if(l.add(new TransactionInstruction({programId:a,keys:r??[],data:c})),u.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await u.sendAndConfirm(l,[])},getMultipleAccounts:Z,simulateTransaction:X});class ot{constructor(r,c,u){this.connection=r,this.wallet=c,this.opts=u}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(r,c){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(r,c,u){var l;u===void 0&&(u=this.opts),r.feePayer=this.wallet.publicKey,r.recentBlockhash=(await this.connection.getRecentBlockhash(u.preflightCommitment)).blockhash,r=await this.wallet.signTransaction(r),(c??[]).forEach(y=>{r.partialSign(y)});const d=r.serialize();try{return await at(this.connection,d,u)}catch(y){if(y instanceof ct){const m=await this.connection.getTransaction(A(r.signature),{commitment:"confirmed"});if(m){const wr=(l=m.meta)===null||l===void 0?void 0:l.logMessages;throw wr?new SendTransactionError(y.message,wr):y}throw y}throw y}}async sendAll(r,c){c===void 0&&(c=this.opts);const u=await this.connection.getRecentBlockhash(c.preflightCommitment);let l=r.map(m=>{var wr;let Sr=m.tx,Ar=(wr=m.signers)!==null&&wr!==void 0?wr:[];return Sr.feePayer=this.wallet.publicKey,Sr.recentBlockhash=u.blockhash,Ar.forEach(Ir=>{Sr.partialSign(Ir)}),Sr});const d=await this.wallet.signAllTransactions(l),y=[];for(let m=0;m<l.length;m+=1){const wr=d[m].serialize();y.push(await at(this.connection,wr,c))}return y}async simulate(r,c,u,l){r.feePayer=this.wallet.publicKey,r.recentBlockhash=(await this.connection.getLatestBlockhash(u??this.connection.commitment)).blockhash,r=await this.wallet.signTransaction(r);const d=await X(this.connection,r,c,u,l);if(d.value.err)throw new st(d.value);return d.value}}class st extends Error{constructor(r,c){super(c),this.simulationResponse=r}}async function at(a,r,c){const u=c&&{skipPreflight:c.skipPreflight,preflightCommitment:c.preflightCommitment||c.commitment},l=await a.sendRawTransaction(r,u),d=(await a.confirmTransaction(l,c&&c.commitment)).value;if(d.err)throw new ct(`Raw transaction ${l} failed (${JSON.stringify(d)})`);return l}class ct extends Error{constructor(r){super(r)}}function ut(a){lt=a}function dt(){return lt===null?ot.local():lt}let lt=null;const ht=new Set(["anchor-deprecated-state","debug-logs"]),ft=new Map;function pt(a){return ft.get(a)!==void 0}var mt=Object.freeze({__proto__:null,set:function(a){if(!ht.has(a))throw new Error("Invalid feature");ft.set(a,!0)},isSet:pt});class yt extends Error{constructor(r){super(r),this.name="IdlError"}}class gt{constructor(r){this.stack=r}static parse(r){var c;const u=/^Program (\w*) invoke/,l=/^Program \w* success/,d=[];for(let y=0;y<r.length;y++){if(l.exec(r[y])){d.pop();continue}const m=(c=u.exec(r[y]))===null||c===void 0?void 0:c[1];m&&d.push(new PublicKey(m))}return new gt(d)}}class wt extends Error{constructor(r,c,u,l,d,y){super(u.join(`
`).replace("Program log: ","")),this.errorLogs=u,this.logs=l,this.error={errorCode:r,errorMessage:c,comparedValues:y,origin:d},this._programErrorStack=gt.parse(l)}static parse(r){if(!r)return null;const c=r.findIndex(Sr=>Sr.startsWith("Program log: AnchorError"));if(c===-1)return null;const u=r[c],l=[u];let d;if(c+1<r.length){if(r[c+1]==="Program log: Left:"){const Sr=/^Program log: (.*)$/,Ar=Sr.exec(r[c+2])[1],Ir=Sr.exec(r[c+4])[1];d=[new PublicKey(Ar),new PublicKey(Ir)],l.push(...r.slice(c+1,c+5))}else if(r[c+1].startsWith("Program log: Left:")){const Sr=/^Program log: (Left|Right): (.*)$/,Ar=Sr.exec(r[c+1])[2],Ir=Sr.exec(r[c+2])[2];l.push(...r.slice(c+1,c+3)),d=[Ar,Ir]}}const y=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(u),m=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(u),wr=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(u);if(y){const[Sr,Ar,Ir]=y.slice(1,4),$r={code:Sr,number:parseInt(Ar)};return new wt($r,Ir,l,r,void 0,d)}if(m){const[Sr,Ar,Ir,$r,kr]=m.slice(1,6),Dr={code:Ir,number:parseInt($r)},Cr={file:Sr,line:parseInt(Ar)};return new wt(Dr,kr,l,r,Cr,d)}if(wr){const[Sr,Ar,Ir,$r]=wr.slice(1,5),kr=Sr,Dr={code:Ar,number:parseInt(Ir)};return new wt(Dr,$r,l,r,kr,d)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class vt extends Error{constructor(r,c,u){super(),this.code=r,this.msg=c,this.logs=u,u&&(this._programErrorStack=gt.parse(u))}static parse(r,c){const u=r.toString();let l,d;if(u.includes("custom program error:")){let m=u.split("custom program error: ");if(m.length!==2)return null;l=m[1]}else{const m=u.match(/"Custom":([0-9]+)}/g);if(!m||m.length>1)return null;l=m[0].match(/([0-9]+)/g)[0]}try{d=parseInt(l)}catch{return null}let y=c.get(d);return y!==void 0?new vt(d,y,r.logs):(y=_t.get(d),y!==void 0?new vt(d,y,r.logs):null)}get program(){var r;return(r=this._programErrorStack)===null||r===void 0?void 0:r.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var r;return(r=this._programErrorStack)===null||r===void 0?void 0:r.stack}toString(){return this.msg}}function bt(a,r){pt("debug-logs")&&console.log("Translating error:",a);const c=wt.parse(a.logs);if(c)return c;const u=vt.parse(a,r);if(u)return u;if(a.logs){const l={get:function(d,y){return y==="programErrorStack"?d.programErrorStack.stack:y==="program"?d.programErrorStack.stack[a.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return a.programErrorStack=gt.parse(a.logs),new Proxy(a,l)}return a}const At={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},_t=new Map([[At.InstructionMissing,"8 byte instruction identifier not provided"],[At.InstructionFallbackNotFound,"Fallback functions are not supported"],[At.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[At.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[At.IdlInstructionStub,"The program was compiled without idl instructions"],[At.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[At.ConstraintMut,"A mut constraint was violated"],[At.ConstraintHasOne,"A has_one constraint was violated"],[At.ConstraintSigner,"A signer constraint was violated"],[At.ConstraintRaw,"A raw constraint was violated"],[At.ConstraintOwner,"An owner constraint was violated"],[At.ConstraintRentExempt,"A rent exemption constraint was violated"],[At.ConstraintSeeds,"A seeds constraint was violated"],[At.ConstraintExecutable,"An executable constraint was violated"],[At.ConstraintState,"A state constraint was violated"],[At.ConstraintAssociated,"An associated constraint was violated"],[At.ConstraintAssociatedInit,"An associated init constraint was violated"],[At.ConstraintClose,"A close constraint was violated"],[At.ConstraintAddress,"An address constraint was violated"],[At.ConstraintZero,"Expected zero account discriminant"],[At.ConstraintTokenMint,"A token mint constraint was violated"],[At.ConstraintTokenOwner,"A token owner constraint was violated"],[At.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[At.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[At.ConstraintMintDecimals,"A mint decimals constraint was violated"],[At.ConstraintSpace,"A space constraint was violated"],[At.RequireViolated,"A require expression was violated"],[At.RequireEqViolated,"A require_eq expression was violated"],[At.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[At.RequireNeqViolated,"A require_neq expression was violated"],[At.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[At.RequireGtViolated,"A require_gt expression was violated"],[At.RequireGteViolated,"A require_gte expression was violated"],[At.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[At.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[At.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[At.AccountDidNotDeserialize,"Failed to deserialize the account"],[At.AccountDidNotSerialize,"Failed to serialize the account"],[At.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[At.AccountNotMutable,"The given account is not mutable"],[At.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[At.InvalidProgramId,"Program ID was not as expected"],[At.InvalidProgramExecutable,"Program account is not executable"],[At.AccountNotSigner,"The given account did not sign"],[At.AccountNotSystemOwned,"The given account is not owned by the system program"],[At.AccountNotInitialized,"The program expected this account to be already initialized"],[At.AccountNotProgramData,"The given account is not a program data account"],[At.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[At.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[At.StateInvalidAddress,"The given state account does not have the correct address"],[At.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[At.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Et=function(){return Et=Object.assign||function(a){for(var r,c=1,u=arguments.length;c<u;c++)for(var l in r=arguments[c])Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l]);return a},Et.apply(this,arguments)};function St(a){return a.toLowerCase()}var It=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],kt=/[^A-Z0-9]+/gi;function xt(a,r,c){return r instanceof RegExp?a.replace(r,c):r.reduce(function(u,l){return u.replace(l,c)},a)}function Mt(a,r){return r===void 0&&(r={}),function(c,u){u===void 0&&(u={});for(var l=u.splitRegexp,d=l===void 0?It:l,y=u.stripRegexp,m=y===void 0?kt:y,wr=u.transform,Sr=wr===void 0?St:wr,Ar=u.delimiter,Ir=Ar===void 0?" ":Ar,$r=xt(xt(c,d,"$1\0$2"),m,"\0"),kr=0,Dr=$r.length;$r.charAt(kr)==="\0";)kr++;for(;$r.charAt(Dr-1)==="\0";)Dr--;return $r.slice(kr,Dr).split("\0").map(Sr).join(Ir)}(a,Et({delimiter:"."},r))}class Pt{static fieldLayout(r,c){const u=r.name!==void 0?camelcase.exports(r.name):void 0;switch(r.type){case"bool":return lib.bool(u);case"u8":return lib.u8(u);case"i8":return lib.i8(u);case"u16":return lib.u16(u);case"i16":return lib.i16(u);case"u32":return lib.u32(u);case"i32":return lib.i32(u);case"f32":return lib.f32(u);case"u64":return lib.u64(u);case"i64":return lib.i64(u);case"f64":return lib.f64(u);case"u128":return lib.u128(u);case"i128":return lib.i128(u);case"bytes":return lib.vecU8(u);case"string":return lib.str(u);case"publicKey":return lib.publicKey(u);default:if("vec"in r.type)return lib.vec(Pt.fieldLayout({name:void 0,type:r.type.vec},c),u);if("option"in r.type)return lib.option(Pt.fieldLayout({name:void 0,type:r.type.option},c),u);if("defined"in r.type){const l=r.type.defined;if(c===void 0)throw new yt("User defined types not provided");const d=c.filter(y=>y.name===l);if(d.length!==1)throw new yt(`Type not found: ${JSON.stringify(r)}`);return Pt.typeDefLayout(d[0],c,u)}if("array"in r.type){let l=r.type.array[0],d=r.type.array[1],y=Pt.fieldLayout({name:void 0,type:l},c);return lib.array(y,d,u)}throw new Error(`Not yet implemented: ${r}`)}}static typeDefLayout(r,c=[],u){if(r.type.kind==="struct"){const l=r.type.fields.map(d=>Pt.fieldLayout(d,c));return lib.struct(l,u)}if(r.type.kind==="enum"){let l=r.type.variants.map(d=>{const y=camelcase.exports(d.name);if(d.fields===void 0)return lib.struct([],y);const m=d.fields.map(wr=>{if(!wr.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Pt.fieldLayout(wr,c)});return lib.struct(m,y)});return u!==void 0?lib.rustEnum(l).replicate(u):lib.rustEnum(l,u)}throw new Error(`Unknown type kint: ${r}`)}}class Tt{constructor(r){this.idl=r,this.ixLayout=Tt.parseIxLayout(r);const c=new Map;r.instructions.forEach(u=>{const l=Lt("global",u.name);c.set(bs58.encode(l),{layout:this.ixLayout.get(u.name),name:u.name})}),r.state&&r.state.methods.map(u=>{const l=Lt("state",u.name);c.set(bs58.encode(l),{layout:this.ixLayout.get(u.name),name:u.name})}),this.sighashLayouts=c}encode(r,c){return this._encode("global",r,c)}encodeState(r,c){return this._encode("state",r,c)}_encode(r,c,u){const l=buffer$2.Buffer.alloc(1e3),d=camelcase.exports(c),y=this.ixLayout.get(d);if(!y)throw new Error(`Unknown method: ${d}`);const m=y.encode(u,l),wr=l.slice(0,m);return buffer$2.Buffer.concat([Lt(r,c),wr])}static parseIxLayout(r){const c=(r.state?r.state.methods:[]).map(u=>{let l=u.args.map(y=>{var m,wr;return Pt.fieldLayout(y,Array.from([...(m=r.accounts)!==null&&m!==void 0?m:[],...(wr=r.types)!==null&&wr!==void 0?wr:[]]))});const d=camelcase.exports(u.name);return[d,lib.struct(l,d)]}).concat(r.instructions.map(u=>{let l=u.args.map(y=>{var m,wr;return Pt.fieldLayout(y,Array.from([...(m=r.accounts)!==null&&m!==void 0?m:[],...(wr=r.types)!==null&&wr!==void 0?wr:[]]))});const d=camelcase.exports(u.name);return[d,lib.struct(l,d)]}));return new Map(c)}decode(r,c="hex"){typeof r=="string"&&(r=c==="hex"?buffer$2.Buffer.from(r,"hex"):bs58.decode(r));let u=bs58.encode(r.slice(0,8)),l=r.slice(8);const d=this.sighashLayouts.get(u);return d?{data:d.layout.decode(l),name:d.name}:null}format(r,c){return Ct.format(r,c,this.idl)}}class Ct{static format(r,c,u){const l=u.instructions.filter(m=>r.name===m.name)[0];if(l===void 0)return console.error("Invalid instruction given"),null;const d=l.args.map(m=>({name:m.name,type:Ct.formatIdlType(m.type),data:Ct.formatIdlData(m,r.data[m.name],u.types)})),y=Ct.flattenIdlAccounts(l.accounts);return{args:d,accounts:c.map((m,wr)=>wr<y.length?{name:y[wr].name,...m}:{name:void 0,...m})}}static formatIdlType(r){if(typeof r=="string")return r;if("vec"in r)return`Vec<${this.formatIdlType(r.vec)}>`;if("option"in r)return`Option<${this.formatIdlType(r.option)}>`;if("defined"in r)return r.defined;if("array"in r)return`Array<${r.array[0]}; ${r.array[1]}>`;throw new Error(`Unknown IDL type: ${r}`)}static formatIdlData(r,c,u){if(typeof r.type=="string")return c.toString();if(r.type.hasOwnProperty("vec"))return"["+c.map(l=>this.formatIdlData({name:"",type:r.type.vec},l)).join(", ")+"]";if(r.type.hasOwnProperty("option"))return c===null?"null":this.formatIdlData({name:"",type:r.type.option},c,u);if(r.type.hasOwnProperty("defined")){if(u===void 0)throw new Error("User defined types not provided");const l=u.filter(d=>d.name===r.type.defined);if(l.length!==1)throw new Error(`Type not found: ${r.type.defined}`);return Ct.formatIdlDataDefined(l[0],c,u)}return"unknown"}static formatIdlDataDefined(r,c,u){if(r.type.kind==="struct"){const l=r.type;return"{ "+Object.keys(c).map(d=>{const y=l.fields.filter(m=>m.name===d)[0];if(y===void 0)throw new Error("Unable to find type");return d+": "+Ct.formatIdlData(y,c[d],u)}).join(", ")+" }"}if(r.type.variants.length===0)return"{}";if(r.type.variants[0].name){const l=r.type.variants,d=Object.keys(c)[0],y=c[d],m=Object.keys(y).map(Sr=>{var Ar;const Ir=y[Sr],$r=(Ar=l[d])===null||Ar===void 0?void 0:Ar.filter(kr=>kr.name===Sr)[0];if($r===void 0)throw new Error("Unable to find variant");return Sr+": "+Ct.formatIdlData($r,Ir,u)}).join(", "),wr=camelcase.exports(d,{pascalCase:!0});return m.length===0?wr:`${wr} { ${m} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(r,c){return r.map(u=>{const l=function(d){const y=d.replace(/([A-Z])/g," $1");return y.charAt(0).toUpperCase()+y.slice(1)}(u.name);if(u.hasOwnProperty("accounts")){const d=c?`${c} > ${l}`:l;return Ct.flattenIdlAccounts(u.accounts,d)}return{...u,name:c?`${c} > ${l}`:l}}).flat()}}function Lt(a,r){var c;let u=`${a}:${c===void 0&&(c={}),Mt(r,Et({delimiter:"_"},c))}`;return buffer$2.Buffer.from(sha256.exports.sha256.digest(u)).slice(0,8)}function Ot(a,r){if(r.type.kind==="enum"){let c=r.type.variants.map(u=>u.fields===void 0?0:u.fields.map(l=>{if(typeof l!="object"||!("name"in l))throw new Error("Tuple enum variants not yet implemented.");return Bt(a,l.type)}).reduce((l,d)=>l+d));return Math.max(...c)+1}return r.type.fields===void 0?0:r.type.fields.map(c=>Bt(a,c.type)).reduce((c,u)=>c+u,0)}function Bt(a,r){var c,u;switch(r){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in r)return 1;if("option"in r)return 1+Bt(a,r.option);if("coption"in r)return 4+Bt(a,r.coption);if("defined"in r){const l=(u=(c=a.types)===null||c===void 0?void 0:c.filter(d=>d.name===r.defined))!==null&&u!==void 0?u:[];if(l.length!==1)throw new yt(`Type not found: ${JSON.stringify(r)}`);return Ot(a,l[0])}if("array"in r){let l=r.array[0],d=r.array[1];return Bt(a,l)*d}throw new Error(`Invalid type ${JSON.stringify(r)}`)}}const Dt=8;class zt{constructor(r){if(r.accounts===void 0)return void(this.accountLayouts=new Map);const c=r.accounts.map(u=>[u.name,Pt.typeDefLayout(u,r.types)]);this.accountLayouts=new Map(c),this.idl=r}async encode(r,c){const u=buffer$2.Buffer.alloc(1e3),l=this.accountLayouts.get(r);if(!l)throw new Error(`Unknown account: ${r}`);const d=l.encode(c,u);let y=u.slice(0,d),m=zt.accountDiscriminator(r);return buffer$2.Buffer.concat([m,y])}decode(r,c){if(zt.accountDiscriminator(r).compare(c.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(r,c)}decodeUnchecked(r,c){const u=c.slice(8),l=this.accountLayouts.get(r);if(!l)throw new Error(`Unknown account: ${r}`);return l.decode(u)}memcmp(r,c){const u=zt.accountDiscriminator(r);return{offset:0,bytes:bs58.encode(c?buffer$2.Buffer.concat([u,c]):u)}}size(r){var c;return 8+((c=Ot(this.idl,r))!==null&&c!==void 0?c:0)}static accountDiscriminator(r){return buffer$2.Buffer.from(sha256.exports.sha256.digest(`account:${camelcase.exports(r,{pascalCase:!0})}`)).slice(0,8)}}class Nt{constructor(r){if(r.events===void 0)return void(this.layouts=new Map);const c=r.events.map(u=>{let l={name:u.name,type:{kind:"struct",fields:u.fields.map(d=>({name:d.name,type:d.type}))}};return[u.name,Pt.typeDefLayout(l,r.types)]});this.layouts=new Map(c),this.discriminators=new Map(r.events===void 0?[]:r.events.map(u=>[fromByteArray_1(jt(u.name)),u.name]))}decode(r){let c;try{c=buffer$2.Buffer.from(toByteArray_1(r))}catch{return null}const u=fromByteArray_1(c.slice(0,8)),l=this.discriminators.get(u);if(l===void 0)return null;const d=this.layouts.get(l);if(!d)throw new Error(`Unknown event: ${l}`);return{data:d.decode(c.slice(8)),name:l}}}function jt(a){return buffer$2.Buffer.from(sha256.exports.sha256.digest(`event:${a}`)).slice(0,8)}class Rt{constructor(r){if(r.state===void 0)throw new Error("Idl state not defined.");this.layout=Pt.typeDefLayout(r.state.struct,r.types)}async encode(r,c){const u=buffer$2.Buffer.alloc(1e3),l=this.layout.encode(c,u),d=await Ut(r),y=u.slice(0,l);return buffer$2.Buffer.concat([d,y])}decode(r){const c=r.slice(8);return this.layout.decode(c)}}async function Ut(a){let r=pt("anchor-deprecated-state")?"account":"state";return buffer$2.Buffer.from(sha256.exports.sha256.digest(`${r}:${a}`)).slice(0,8)}class Vt{constructor(r){this.instruction=new Tt(r),this.accounts=new zt(r),this.events=new Nt(r),r.state&&(this.state=new Rt(r))}}var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}class Kt{constructor(r,c){if(!Number.isInteger(r))throw new TypeError("span must be an integer");this.span=r,this.property=c}makeDestinationObject(){return{}}decode(r,c){throw new Error("Layout is abstract")}encode(r,c,u){throw new Error("Layout is abstract")}getSpan(r,c){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(r){const c=Object.create(this.constructor.prototype);return Object.assign(c,this),c.property=r,c}fromArray(r){}}var Ft=Kt;class Wt extends Kt{isCount(){throw new Error("ExternalLayout is abstract")}}class Gt extends Wt{constructor(r,c,u){if(!(r instanceof Kt))throw new TypeError("layout must be a Layout");if(c===void 0)c=0;else if(!Number.isInteger(c))throw new TypeError("offset must be integer or undefined");super(r.span,u||r.property),this.layout=r,this.offset=c}isCount(){return this.layout instanceof Ht||this.layout instanceof Jt}decode(r,c){return c===void 0&&(c=0),this.layout.decode(r,c+this.offset)}encode(r,c,u){return u===void 0&&(u=0),this.layout.encode(r,c,u+this.offset)}}class Ht extends Kt{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c){return c===void 0&&(c=0),r.readUIntLE(c,this.span)}encode(r,c,u){return u===void 0&&(u=0),c.writeUIntLE(r,u,this.span),this.span}}class Jt extends Kt{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c){return c===void 0&&(c=0),r.readUIntBE(c,this.span)}encode(r,c,u){return u===void 0&&(u=0),c.writeUIntBE(r,u,this.span),this.span}}const Zt=Math.pow(2,32);class Qt extends Kt{constructor(r){super(8,r)}decode(r,c){c===void 0&&(c=0);const u=r.readUInt32LE(c);return function(l,d){return l*Zt+d}(r.readUInt32LE(c+4),u)}encode(r,c,u){u===void 0&&(u=0);const l=function(d){const y=Math.floor(d/Zt);return{hi32:y,lo32:d-y*Zt}}(r);return c.writeUInt32LE(l.lo32,u),c.writeUInt32LE(l.hi32,u+4),8}}class Xt extends Kt{constructor(r,c,u){if(!Array.isArray(r)||!r.reduce((d,y)=>d&&y instanceof Kt,!0))throw new TypeError("fields must be array of Layout instances");typeof c=="boolean"&&u===void 0&&(u=c,c=void 0);for(const d of r)if(0>d.span&&d.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let l=-1;try{l=r.reduce((d,y)=>d+y.getSpan(),0)}catch{}super(l,c),this.fields=r,this.decodePrefixes=!!u}getSpan(r,c){if(0<=this.span)return this.span;c===void 0&&(c=0);let u=0;try{u=this.fields.reduce((l,d)=>{const y=d.getSpan(r,c);return c+=y,l+y},0)}catch{throw new RangeError("indeterminate span")}return u}decode(r,c){c===void 0&&(c=0);const u=this.makeDestinationObject();for(const l of this.fields)if(l.property!==void 0&&(u[l.property]=l.decode(r,c)),c+=l.getSpan(r,c),this.decodePrefixes&&r.length===c)break;return u}encode(r,c,u){u===void 0&&(u=0);const l=u;let d=0,y=0;for(const m of this.fields){let wr=m.span;if(y=0<wr?wr:0,m.property!==void 0){const Sr=r[m.property];Sr!==void 0&&(y=m.encode(Sr,c,u),0>wr&&(wr=m.getSpan(c,u)))}d=u,u+=wr}return d+y-l}fromArray(r){const c=this.makeDestinationObject();for(const u of this.fields)u.property!==void 0&&0<r.length&&(c[u.property]=r.shift());return c}layoutFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const c of this.fields)if(c.property===r)return c}offsetOf(r){if(typeof r!="string")throw new TypeError("property must be string");let c=0;for(const u of this.fields){if(u.property===r)return c;0>u.span?c=-1:0<=c&&(c+=u.span)}}}class Yt{constructor(r){this.property=r}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class te extends Yt{constructor(r,c){if(!(r instanceof Wt&&r.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(c||r.property||"variant"),this.layout=r}decode(r,c){return this.layout.decode(r,c)}encode(r,c,u){return this.layout.encode(r,c,u)}}class ee extends Kt{constructor(r,c,u){const l=r instanceof Ht||r instanceof Jt;if(l)r=new te(new Gt(r));else if(r instanceof Wt&&r.isCount())r=new te(r);else if(!(r instanceof Yt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(c===void 0&&(c=null),!(c===null||c instanceof Kt))throw new TypeError("defaultLayout must be null or a Layout");if(c!==null){if(0>c.span)throw new Error("defaultLayout must have constant span");c.property===void 0&&(c=c.replicate("content"))}let d=-1;c&&(d=c.span,0<=d&&l&&(d+=r.layout.span)),super(d,u),this.discriminator=r,this.usesPrefixDiscriminator=l,this.defaultLayout=c,this.registry={};let y=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(m){return y(m)},this.configGetSourceVariant=function(m){y=m.bind(this)}}getSpan(r,c){if(0<=this.span)return this.span;c===void 0&&(c=0);const u=this.getVariant(r,c);if(!u)throw new Error("unable to determine span for unrecognized variant");return u.getSpan(r,c)}defaultGetSourceVariant(r){if(r.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&r.hasOwnProperty(this.defaultLayout.property))return;const c=this.registry[r[this.discriminator.property]];if(c&&(!c.layout||r.hasOwnProperty(c.property)))return c}else for(const c in this.registry){const u=this.registry[c];if(r.hasOwnProperty(u.property))return u}throw new Error("unable to infer src variant")}decode(r,c){let u;c===void 0&&(c=0);const l=this.discriminator,d=l.decode(r,c);let y=this.registry[d];if(y===void 0){let m=0;y=this.defaultLayout,this.usesPrefixDiscriminator&&(m=l.layout.span),u=this.makeDestinationObject(),u[l.property]=d,u[y.property]=this.defaultLayout.decode(r,c+m)}else u=y.decode(r,c);return u}encode(r,c,u){u===void 0&&(u=0);const l=this.getSourceVariant(r);if(l===void 0){const d=this.discriminator,y=this.defaultLayout;let m=0;return this.usesPrefixDiscriminator&&(m=d.layout.span),d.encode(r[d.property],c,u),m+y.encode(r[y.property],c,u+m)}return l.encode(r,c,u)}addVariant(r,c,u){const l=new re(this,r,c,u);return this.registry[r]=l,l}getVariant(r,c){let u=r;return Buffer.isBuffer(r)&&(c===void 0&&(c=0),u=this.discriminator.decode(r,c)),this.registry[u]}}class re extends Kt{constructor(r,c,u,l){if(!(r instanceof ee))throw new TypeError("union must be a Union");if(!Number.isInteger(c)||0>c)throw new TypeError("variant must be a (non-negative) integer");if(typeof u=="string"&&l===void 0&&(l=u,u=null),u){if(!(u instanceof Kt))throw new TypeError("layout must be a Layout");if(r.defaultLayout!==null&&0<=u.span&&u.span>r.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof l!="string")throw new TypeError("variant must have a String property")}let d=r.span;0>r.span&&(d=u?u.span:0,0<=d&&r.usesPrefixDiscriminator&&(d+=r.discriminator.layout.span)),super(d,l),this.union=r,this.variant=c,this.layout=u||null}getSpan(r,c){if(0<=this.span)return this.span;c===void 0&&(c=0);let u=0;return this.union.usesPrefixDiscriminator&&(u=this.union.discriminator.layout.span),u+this.layout.getSpan(r,c+u)}decode(r,c){const u=this.makeDestinationObject();if(c===void 0&&(c=0),this!==this.union.getVariant(r,c))throw new Error("variant mismatch");let l=0;return this.union.usesPrefixDiscriminator&&(l=this.union.discriminator.layout.span),this.layout?u[this.property]=this.layout.decode(r,c+l):this.property?u[this.property]=!0:this.union.usesPrefixDiscriminator&&(u[this.union.discriminator.property]=this.variant),u}encode(r,c,u){u===void 0&&(u=0);let l=0;if(this.union.usesPrefixDiscriminator&&(l=this.union.discriminator.layout.span),this.layout&&!r.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,c,u);let d=l;if(this.layout&&(this.layout.encode(r[this.property],c,u+l),d+=this.layout.getSpan(c,u+l),0<=this.union.span&&d>this.union.span))throw new Error("encoded variant overruns containing union");return d}fromArray(r){if(this.layout)return this.layout.fromArray(r)}}class ne extends Kt{constructor(r,c){if(!(r instanceof Wt&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let u=-1;r instanceof Wt||(u=r),super(u,c),this.length=r}getSpan(r,c){let u=this.span;return 0>u&&(u=this.length.decode(r,c)),u}decode(r,c){c===void 0&&(c=0);let u=this.span;return 0>u&&(u=this.length.decode(r,c)),r.slice(c,c+u)}encode(r,c,u){let l=this.length;if(this.length instanceof Wt&&(l=r.length),!Buffer.isBuffer(r)||l!==r.length)throw new TypeError((d="Blob.encode",((y=this).property?d+"["+y.property+"]":d)+" requires (length "+l+") Buffer as src"));var d,y;if(u+l>c.length)throw new RangeError("encoding overruns Buffer");return c.write(r.toString("hex"),u,l,"hex"),this.length instanceof Wt&&this.length.encode(l,c,u),l}}var ie=a=>new Ht(1,a),oe=a=>new Qt(a),se=(a,r,c)=>new Xt(a,r,c),ae=(a,r)=>new ne(a,r);class ce{constructor(r){}encode(r,c){switch(camelcase.exports(r)){case"initializeMint":return function({decimals:u,mintAuthority:l,freezeAuthority:d}){return pe({initializeMint:{decimals:u,mintAuthority:l.toBuffer(),freezeAuthorityOption:!!d,freezeAuthority:(d||PublicKey.default).toBuffer()}})}(c);case"initializeAccount":return pe({initializeAccount:{}});case"initializeMultisig":return function({m:u}){return pe({initializeMultisig:{m:u}})}(c);case"transfer":return function({amount:u}){return pe({transfer:{amount:u}})}(c);case"approve":return function({amount:u}){return pe({approve:{amount:u}})}(c);case"revoke":return pe({revoke:{}});case"setAuthority":return function({authorityType:u,newAuthority:l}){return pe({setAuthority:{authorityType:u,newAuthority:l}})}(c);case"mintTo":return function({amount:u}){return pe({mintTo:{amount:u}})}(c);case"burn":return function({amount:u}){return pe({burn:{amount:u}})}(c);case"closeAccount":return pe({closeAccount:{}});case"freezeAccount":return pe({freezeAccount:{}});case"thawAccount":return pe({thawAccount:{}});case"transferChecked":return function({amount:u,decimals:l}){return pe({transferChecked:{amount:u,decimals:l}})}(c);case"approvedChecked":return function({amount:u,decimals:l}){return pe({approveChecked:{amount:u,decimals:l}})}(c);case"mintToChecked":return function({amount:u,decimals:l}){return pe({mintToChecked:{amount:u,decimals:l}})}(c);case"burnChecked":return function({amount:u,decimals:l}){return pe({burnChecked:{amount:u,decimals:l}})}(c);case"intializeAccount2":return function({authority:u}){return pe({initilaizeAccount2:{authority:u}})}(c);case"syncNative":return pe({syncNative:{}});case"initializeAccount3":return function({authority:u}){return pe({initializeAccount3:{authority:u}})}(c);case"initializeMultisig2":return function({m:u}){return pe({initializeMultisig2:{m:u}})}(c);case"initializeMint2":return function({decimals:u,mintAuthority:l,freezeAuthority:d}){return pe({encodeInitializeMint2:{decimals:u,mintAuthority:l,freezeAuthority:d}})}(c);default:throw new Error(`Invalid instruction: ${r}`)}}encodeState(r,c){throw new Error("SPL token does not have state")}}const ue=(de=ie("instruction"),new ee(de,le,he));var de,le,he;function fe(a){return ae(32,a)}function pe(a){let r=Buffer.alloc(me),c=ue.encode(a,r);return r.slice(0,c)}ue.addVariant(0,se([ie("decimals"),ae(32,"mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint"),ue.addVariant(1,se([]),"initializeAccount"),ue.addVariant(2,se([ie("m")]),"initializeMultisig"),ue.addVariant(3,se([oe("amount")]),"transfer"),ue.addVariant(4,se([oe("amount")]),"approve"),ue.addVariant(5,se([]),"revoke"),ue.addVariant(6,se([ie("authorityType"),ie("newAuthorityOption"),fe("newAuthority")]),"setAuthority"),ue.addVariant(7,se([oe("amount")]),"mintTo"),ue.addVariant(8,se([oe("amount")]),"burn"),ue.addVariant(9,se([]),"closeAccount"),ue.addVariant(10,se([]),"freezeAccount"),ue.addVariant(11,se([]),"thawAccount"),ue.addVariant(12,se([oe("amount"),ie("decimals")]),"transferChecked"),ue.addVariant(13,se([oe("amount"),ie("decimals")]),"approvedChecked"),ue.addVariant(14,se([oe("amount"),ie("decimals")]),"mintToChecked"),ue.addVariant(15,se([oe("amount"),ie("decimals")]),"burnedChecked"),ue.addVariant(16,se([fe("authority")]),"InitializeAccount2"),ue.addVariant(17,se([]),"syncNative"),ue.addVariant(18,se([fe("authority")]),"initializeAccount3"),ue.addVariant(19,se([ie("m")]),"initializeMultisig2"),ue.addVariant(20,se([ie("decimals"),fe("mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint2");const me=Math.max(...Object.values(ue.registry).map(a=>a.span));class ye{constructor(r){}encode(r,c){throw new Error("SPL token does not have state")}decode(r){throw new Error("SPL token does not have state")}}function ge(a){return new be(ae(8),r=>Se.fromBuffer(r),r=>r.toBuffer(),a)}function we(a){return new be(ae(32),r=>new PublicKey(r),r=>r.toBuffer(),a)}function ve(a,r){return new Ae(a,r)}class be extends Ft{constructor(r,c,u,l){super(r.span,l),this.layout=r,this.decoder=c,this.encoder=u}decode(r,c){return this.decoder(this.layout.decode(r,c))}encode(r,c,u){return this.layout.encode(this.encoder(r),c,u)}getSpan(r,c){return this.layout.getSpan(r,c)}}class Ae extends Ft{constructor(r,c){super(-1,c),this.layout=r,this.discriminator=(u=>new Ht(4,u))()}encode(r,c,u=0){return r==null?this.layout.span+this.discriminator.encode(0,c,u):(this.discriminator.encode(1,c,u),this.layout.encode(r,c,u+4)+4)}decode(r,c=0){const u=this.discriminator.decode(r,c);if(u===0)return null;if(u===1)return this.layout.decode(r,c+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(r,c=0){return this.layout.getSpan(r,c+4)+4}}function _e(a){if(a===0)return!1;if(a===1)return!0;throw new Error("Invalid bool: "+a)}function Ee(a){return a?1:0}class Se extends BN{toBuffer(){const r=super.toArray().reverse(),c=Buffer.from(r);if(c.length===8)return c;if(c.length>=8)throw new Error("u64 too large");const u=Buffer.alloc(8);return c.copy(u),u}static fromBuffer(r){if(r.length!==8)throw new Error(`Invalid buffer length: ${r.length}`);return new Se([...r].reverse().map(c=>`00${c.toString(16)}`.slice(-2)).join(""),16)}}class Ie{constructor(r){this.idl=r}async encode(r,c){switch(r){case"token":{const u=Buffer.alloc(165),l=xe.encode(c,u);return u.slice(0,l)}case"mint":{const u=Buffer.alloc(82),l=ke.encode(c,u);return u.slice(0,l)}default:throw new Error(`Invalid account name: ${r}`)}}decode(r,c){return this.decodeUnchecked(r,c)}decodeUnchecked(r,c){switch(r){case"token":return function(u){return xe.decode(u)}(c);case"mint":return function(u){return ke.decode(u)}(c);default:throw new Error(`Invalid account name: ${r}`)}}memcmp(r,c){switch(r){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${r}`)}}size(r){var c;return(c=Ot(this.idl,r))!==null&&c!==void 0?c:0}}const ke=se([ve(we(),"mintAuthority"),ge("supply"),ie("decimals"),function(a){return new be(ie(),_e,Ee,a)}("isInitialized"),ve(we(),"freezeAuthority")]),xe=se([we("mint"),we("authority"),ge("amount"),ve(we(),"delegate"),ie("state"),ve(ge(),"isNative"),ge("delegatedAmount"),ve(we(),"closeAuthority")]);class Me{constructor(r){}decode(r){throw new Error("SPL token program does not have events")}}class Pe{constructor(r){this.instruction=new ce(r),this.accounts=new Ie(r),this.events=new Me(r),this.state=new ye(r)}}var Te=Object.freeze({__proto__:null,hash:function(a){return sha256.exports.sha256(a)}});function Ce(a,r,c){const u=buffer$2.Buffer.concat([a.toBuffer(),buffer$2.Buffer.from(r),c.toBuffer()]),l=sha256.exports.sha256.digest(u);return new PublicKey(buffer$2.Buffer.from(l))}function Le(a,r){let c=buffer$2.Buffer.alloc(0);a.forEach(function(d){if(d.length>32)throw new TypeError("Max seed length exceeded");c=buffer$2.Buffer.concat([c,Be(d)])}),c=buffer$2.Buffer.concat([c,r.toBuffer(),buffer$2.Buffer.from("ProgramDerivedAddress")]);let u=sha256.exports.sha256(new Uint8Array(c)),l=new BN(u,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(l)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(l)}function Oe(a,r){let c,u=255;for(;u!=0;){try{c=Le(a.concat(buffer$2.Buffer.from([u])),r)}catch(l){if(l instanceof TypeError)throw l;u--;continue}return[c,u]}throw new Error("Unable to find a viable program address nonce")}const Be=a=>a instanceof buffer$2.Buffer?a:a instanceof Uint8Array?buffer$2.Buffer.from(a.buffer,a.byteOffset,a.byteLength):buffer$2.Buffer.from(a);async function De(a,...r){let c=[buffer$2.Buffer.from([97,110,99,104,111,114])];r.forEach(l=>{c.push(l instanceof buffer$2.Buffer?l:P(l).toBuffer())});const[u]=await PublicKey.findProgramAddress(c,P(a));return u}var ze=Object.freeze({__proto__:null,createWithSeedSync:Ce,createProgramAddressSync:Le,findProgramAddressSync:Oe,associated:De});const Ne=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),je=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Re=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:je,associatedAddress:async function({mint:a,owner:r}){return(await PublicKey.findProgramAddress([r.toBuffer(),Ne.toBuffer(),a.toBuffer()],je))[0]}}),Ue={exports:{}};(function(a,r){var c=typeof self<"u"?self:$t,u=function(){function d(){this.fetch=!1,this.DOMException=c.DOMException}return d.prototype=c,new d}();(function(d){(function(y){var m="URLSearchParams"in d,wr="Symbol"in d&&"iterator"in Symbol,Sr="FileReader"in d&&"Blob"in d&&function(){try{return new Blob,!0}catch{return!1}}(),Ar="FormData"in d,Ir="ArrayBuffer"in d;if(Ir)var $r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],kr=ArrayBuffer.isView||function(Mr){return Mr&&$r.indexOf(Object.prototype.toString.call(Mr))>-1};function Dr(Mr){if(typeof Mr!="string"&&(Mr=String(Mr)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Mr))throw new TypeError("Invalid character in header field name");return Mr.toLowerCase()}function Cr(Mr){return typeof Mr!="string"&&(Mr=String(Mr)),Mr}function Br(Mr){var xr={next:function(){var Pr=Mr.shift();return{done:Pr===void 0,value:Pr}}};return wr&&(xr[Symbol.iterator]=function(){return xr}),xr}function Fr(Mr){this.map={},Mr instanceof Fr?Mr.forEach(function(xr,Pr){this.append(Pr,xr)},this):Array.isArray(Mr)?Mr.forEach(function(xr){this.append(xr[0],xr[1])},this):Mr&&Object.getOwnPropertyNames(Mr).forEach(function(xr){this.append(xr,Mr[xr])},this)}function qr(Mr){if(Mr.bodyUsed)return Promise.reject(new TypeError("Already read"));Mr.bodyUsed=!0}function Vr(Mr){return new Promise(function(xr,Pr){Mr.onload=function(){xr(Mr.result)},Mr.onerror=function(){Pr(Mr.error)}})}function Jr(Mr){var xr=new FileReader,Pr=Vr(xr);return xr.readAsArrayBuffer(Mr),Pr}function Qr(Mr){if(Mr.slice)return Mr.slice(0);var xr=new Uint8Array(Mr.byteLength);return xr.set(new Uint8Array(Mr)),xr.buffer}function Wr(){return this.bodyUsed=!1,this._initBody=function(Mr){var xr;this._bodyInit=Mr,Mr?typeof Mr=="string"?this._bodyText=Mr:Sr&&Blob.prototype.isPrototypeOf(Mr)?this._bodyBlob=Mr:Ar&&FormData.prototype.isPrototypeOf(Mr)?this._bodyFormData=Mr:m&&URLSearchParams.prototype.isPrototypeOf(Mr)?this._bodyText=Mr.toString():Ir&&Sr&&(xr=Mr)&&DataView.prototype.isPrototypeOf(xr)?(this._bodyArrayBuffer=Qr(Mr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ir&&(ArrayBuffer.prototype.isPrototypeOf(Mr)||kr(Mr))?this._bodyArrayBuffer=Qr(Mr):this._bodyText=Mr=Object.prototype.toString.call(Mr):this._bodyText="",this.headers.get("content-type")||(typeof Mr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m&&URLSearchParams.prototype.isPrototypeOf(Mr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Sr&&(this.blob=function(){var Mr=qr(this);if(Mr)return Mr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?qr(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Jr)}),this.text=function(){var Mr=qr(this);if(Mr)return Mr;if(this._bodyBlob)return function(xr){var Pr=new FileReader,Kr=Vr(Pr);return Pr.readAsText(xr),Kr}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(xr){for(var Pr=new Uint8Array(xr),Kr=new Array(Pr.length),Hr=0;Hr<Pr.length;Hr++)Kr[Hr]=String.fromCharCode(Pr[Hr]);return Kr.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ar&&(this.formData=function(){return this.text().then(gn)}),this.json=function(){return this.text().then(JSON.parse)},this}Fr.prototype.append=function(Mr,xr){Mr=Dr(Mr),xr=Cr(xr);var Pr=this.map[Mr];this.map[Mr]=Pr?Pr+", "+xr:xr},Fr.prototype.delete=function(Mr){delete this.map[Dr(Mr)]},Fr.prototype.get=function(Mr){return Mr=Dr(Mr),this.has(Mr)?this.map[Mr]:null},Fr.prototype.has=function(Mr){return this.map.hasOwnProperty(Dr(Mr))},Fr.prototype.set=function(Mr,xr){this.map[Dr(Mr)]=Cr(xr)},Fr.prototype.forEach=function(Mr,xr){for(var Pr in this.map)this.map.hasOwnProperty(Pr)&&Mr.call(xr,this.map[Pr],Pr,this)},Fr.prototype.keys=function(){var Mr=[];return this.forEach(function(xr,Pr){Mr.push(Pr)}),Br(Mr)},Fr.prototype.values=function(){var Mr=[];return this.forEach(function(xr){Mr.push(xr)}),Br(Mr)},Fr.prototype.entries=function(){var Mr=[];return this.forEach(function(xr,Pr){Mr.push([Pr,xr])}),Br(Mr)},wr&&(Fr.prototype[Symbol.iterator]=Fr.prototype.entries);var Zr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function rn(Mr,xr){var Pr,Kr,Hr=(xr=xr||{}).body;if(Mr instanceof rn){if(Mr.bodyUsed)throw new TypeError("Already read");this.url=Mr.url,this.credentials=Mr.credentials,xr.headers||(this.headers=new Fr(Mr.headers)),this.method=Mr.method,this.mode=Mr.mode,this.signal=Mr.signal,Hr||Mr._bodyInit==null||(Hr=Mr._bodyInit,Mr.bodyUsed=!0)}else this.url=String(Mr);if(this.credentials=xr.credentials||this.credentials||"same-origin",!xr.headers&&this.headers||(this.headers=new Fr(xr.headers)),this.method=(Pr=xr.method||this.method||"GET",Kr=Pr.toUpperCase(),Zr.indexOf(Kr)>-1?Kr:Pr),this.mode=xr.mode||this.mode||null,this.signal=xr.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Hr)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Hr)}function gn(Mr){var xr=new FormData;return Mr.trim().split("&").forEach(function(Pr){if(Pr){var Kr=Pr.split("="),Hr=Kr.shift().replace(/\+/g," "),Gr=Kr.join("=").replace(/\+/g," ");xr.append(decodeURIComponent(Hr),decodeURIComponent(Gr))}}),xr}function an(Mr,xr){xr||(xr={}),this.type="default",this.status=xr.status===void 0?200:xr.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in xr?xr.statusText:"OK",this.headers=new Fr(xr.headers),this.url=xr.url||"",this._initBody(Mr)}rn.prototype.clone=function(){return new rn(this,{body:this._bodyInit})},Wr.call(rn.prototype),Wr.call(an.prototype),an.prototype.clone=function(){return new an(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Fr(this.headers),url:this.url})},an.error=function(){var Mr=new an(null,{status:0,statusText:""});return Mr.type="error",Mr};var fn=[301,302,303,307,308];an.redirect=function(Mr,xr){if(fn.indexOf(xr)===-1)throw new RangeError("Invalid status code");return new an(null,{status:xr,headers:{location:Mr}})},y.DOMException=d.DOMException;try{new y.DOMException}catch{y.DOMException=function(xr,Pr){this.message=xr,this.name=Pr;var Kr=Error(xr);this.stack=Kr.stack},y.DOMException.prototype=Object.create(Error.prototype),y.DOMException.prototype.constructor=y.DOMException}function mn(Mr,xr){return new Promise(function(Pr,Kr){var Hr=new rn(Mr,xr);if(Hr.signal&&Hr.signal.aborted)return Kr(new y.DOMException("Aborted","AbortError"));var Gr=new XMLHttpRequest;function un(){Gr.abort()}Gr.onload=function(){var wn,jr,Rr={status:Gr.status,statusText:Gr.statusText,headers:(wn=Gr.getAllResponseHeaders()||"",jr=new Fr,wn.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(hn){var en=hn.split(":"),tn=en.shift().trim();if(tn){var dn=en.join(":").trim();jr.append(tn,dn)}}),jr)};Rr.url="responseURL"in Gr?Gr.responseURL:Rr.headers.get("X-Request-URL");var Ur="response"in Gr?Gr.response:Gr.responseText;Pr(new an(Ur,Rr))},Gr.onerror=function(){Kr(new TypeError("Network request failed"))},Gr.ontimeout=function(){Kr(new TypeError("Network request failed"))},Gr.onabort=function(){Kr(new y.DOMException("Aborted","AbortError"))},Gr.open(Hr.method,Hr.url,!0),Hr.credentials==="include"?Gr.withCredentials=!0:Hr.credentials==="omit"&&(Gr.withCredentials=!1),"responseType"in Gr&&Sr&&(Gr.responseType="blob"),Hr.headers.forEach(function(wn,jr){Gr.setRequestHeader(jr,wn)}),Hr.signal&&(Hr.signal.addEventListener("abort",un),Gr.onreadystatechange=function(){Gr.readyState===4&&Hr.signal.removeEventListener("abort",un)}),Gr.send(Hr._bodyInit===void 0?null:Hr._bodyInit)})}mn.polyfill=!0,d.fetch||(d.fetch=mn,d.Headers=Fr,d.Request=rn,d.Response=an),y.Headers=Fr,y.Request=rn,y.Response=an,y.fetch=mn,Object.defineProperty(y,"__esModule",{value:!0})})({})})(u),u.fetch.ponyfill=!0,delete u.fetch.polyfill;var l=u;(r=l.fetch).default=l.fetch,r.fetch=l.fetch,r.Headers=l.Headers,r.Request=l.Request,r.Response=l.Response,a.exports=r})(Ue,Ue.exports);var Ve=qt(Ue.exports);async function $e(a,r){const c=await a.getAccountInfo(r);if(c===null)throw new Error("program account not found");const{program:u}=Ke(c.data),l=await a.getAccountInfo(u.programdataAddress);if(l===null)throw new Error("program data account not found");const{programData:d}=Ke(l.data);return d}const qe=lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());function Ke(a){return qe.decode(a)}var Fe=Object.freeze({__proto__:null,verifiedBuild:async function(a,r,c=5){const u=`https://anchor.projectserum.com/api/v0/program/${r.toString()}/latest?limit=${c}`,[l,d]=await Promise.all([$e(a,r),Ve(u)]),y=(await d.json()).filter(wr=>!wr.aborted&&wr.state==="Built"&&wr.verified==="Verified");if(y.length===0)return null;const m=y[0];return l.slot.toNumber()!==m.verified_slot?null:m},fetchData:$e,decodeUpgradeableLoaderState:Ke}),We=Object.freeze({__proto__:null,sha256:Te,rpc:it,publicKey:ze,bytes:I,token:Re,features:mt,registry:Fe});const Ge=lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);function He(a,r){var c,u;let l={};const d=a.args?a.args.length:0;if(r.length>d){if(r.length!==d+1)throw new Error(`provided too many arguments ${r} to instruction ${a?.name} expecting: ${(u=(c=a.args)===null||c===void 0?void 0:c.map(y=>y.name))!==null&&u!==void 0?u:[]}`);l=r.pop()}return[r,l]}class Je{static build(r,c,u){if(r.name==="_inner")throw new yt("the _inner name is reserved");const l=(...d)=>{const[y,m]=He(r,[...d]);M(r.accounts,m.accounts);const wr=l.accounts(m.accounts);return m.remainingAccounts!==void 0&&wr.push(...m.remainingAccounts),pt("debug-logs")&&console.log("Outgoing account metas:",wr),new TransactionInstruction({keys:wr,programId:u,data:c(r.name,x(r,...y))})};return l.accounts=d=>Je.accountsArray(d,r.accounts,r.name),l}static accountsArray(r,c,u){return r?c.map(l=>{if(("accounts"in l?l.accounts:void 0)!==void 0){const d=r[l.name];return Je.accountsArray(d,l.accounts,u).flat()}{const d=l;let y;try{y=P(r[l.name])}catch{throw new Error(`Wrong input type for account "${l.name}" in the instruction accounts object${u!==void 0?' for instruction "'+u+'"':""}. Expected PublicKey or string.`)}return{pubkey:y,isWritable:d.isMut,isSigner:d.isSigner}}}).flat():[]}}class Ze{static build(r,c,u,l){return async(...d)=>{var y;const m=c(...d),[,wr]=He(r,[...d]);if(l.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await l.sendAndConfirm(m,(y=wr.signers)!==null&&y!==void 0?y:[],wr.options)}catch(Sr){throw bt(Sr,u)}}}}class Qe{static build(r,c){return(...u)=>{var l,d,y;const[,m]=He(r,[...u]),wr=new Transaction;if(m.preInstructions&&m.instructions)throw new Error("instructions is deprecated, use preInstructions");return(l=m.preInstructions)===null||l===void 0||l.forEach(Sr=>wr.add(Sr)),(d=m.instructions)===null||d===void 0||d.forEach(Sr=>wr.add(Sr)),wr.add(c(...u)),(y=m.postInstructions)===null||y===void 0||y.forEach(Sr=>wr.add(Sr)),wr}}}class Xe{constructor(r,c,u=dt(),l=new Vt(r)){this.provider=u,this.coder=l,this._idl=r,this._programId=c,this._address=Ye(c),this._sub=null;const[d,y,m]=(()=>{var wr;let Sr={},Ar={},Ir={};return(wr=r.state)===null||wr===void 0||wr.methods.forEach($r=>{const kr=Je.build($r,(Fr,qr)=>l.instruction.encodeState(Fr,qr),c);kr.accounts=Fr=>function(Vr,Jr,Qr,Wr){if(Qr.name==="new"){const[Zr]=Oe([],Vr);if(Jr.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:Jr.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Ye(Vr),isWritable:!0,isSigner:!1},{pubkey:Zr,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:Vr,isWritable:!1,isSigner:!1}]}return M(Qr.accounts,Wr),[{pubkey:Ye(Vr),isWritable:!0,isSigner:!1}]}(c,u,$r,Fr).concat(Je.accountsArray(Fr,$r.accounts,$r.name));const Dr=Qe.build($r,kr),Cr=Ze.build($r,Dr,k(r),u),Br=camelcase.exports($r.name);Sr[Br]=kr,Ar[Br]=Dr,Ir[Br]=Cr}),[Sr,Ar,Ir]})();this.instruction=d,this.transaction=y,this.rpc=m}get programId(){return this._programId}async fetch(){const r=this.address(),c=await this.provider.connection.getAccountInfo(r);if(c===null)throw new Error(`Account does not exist ${r.toString()}`);const u=this._idl.state;if(!u)throw new Error("State is not specified in IDL.");if((await Ut(u.struct.name)).compare(c.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(c.data)}address(){return this._address}subscribe(r){if(this._sub!==null)return this._sub.ee;const c=new EventEmitter,u=this.provider.connection.onAccountChange(this.address(),l=>{const d=this.coder.state.decode(l.data);c.emit("change",d)},r);return this._sub={ee:c,listener:u},c}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function Ye(a){let[r]=Oe([],a);return Ce(r,"unversioned",a)}class tr{constructor(r,c,u,l,d){this._idlAccount=c,this._programId=u,this._provider=l??dt(),this._coder=d??new Vt(r),this._size=this._coder.accounts.size(c)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(r,c){const u=await this.getAccountInfo(r,c);return u===null?null:this._coder.accounts.decode(this._idlAccount.name,u.data)}async fetch(r,c){const u=await this.fetchNullable(r,c);if(u===null)throw new Error(`Account does not exist ${r.toString()}`);return u}async fetchMultiple(r,c){return(await Z(this._provider.connection,r.map(u=>P(u)),c)).map(u=>u==null?null:this._coder.accounts.decode(this._idlAccount.name,u?.account.data))}async all(r){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,r instanceof Buffer?r:void 0)},...Array.isArray(r)?r:[]]})).map(({pubkey:c,account:u})=>({publicKey:c,account:this._coder.accounts.decode(this._idlAccount.name,u.data)}))}subscribe(r,c){const u=er.get(r.toString());if(u)return u.ee;const l=new EventEmitter;r=P(r);const d=this._provider.connection.onAccountChange(r,y=>{const m=this._coder.accounts.decode(this._idlAccount.name,y.data);l.emit("change",m)},c);return er.set(r.toString(),{ee:l,listener:d}),l}async unsubscribe(r){let c=er.get(r.toString());c?er&&await this._provider.connection.removeAccountChangeListener(c.listener).then(()=>{er.delete(r.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(r,c){const u=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:r.publicKey,space:c??u,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(c??u),programId:this._programId})}async associated(...r){const c=await this.associatedAddress(...r);return await this.fetch(c)}async associatedAddress(...r){return await De(this._programId,...r)}async getAccountInfo(r,c){return await this._provider.connection.getAccountInfo(P(r),c)}}const er=new Map,rr=13,nr=14;class ir{constructor(r,c,u){this._programId=r,this._provider=c,this._eventParser=new or(r,u),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(r,c){var u;let l=this._listenerIdCount;return this._listenerIdCount+=1,r in this._eventCallbacks||this._eventListeners.set(r,[]),this._eventListeners.set(r,((u=this._eventListeners.get(r))!==null&&u!==void 0?u:[]).concat(l)),this._eventCallbacks.set(l,[r,c]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(d,y)=>{d.err||this._eventParser.parseLogs(d.logs,m=>{const wr=this._eventListeners.get(m.name);wr&&wr.forEach(Sr=>{const Ar=this._eventCallbacks.get(Sr);if(Ar){const[,Ir]=Ar;Ir(m.data,y.slot)}})})})),l}async removeEventListener(r){const c=this._eventCallbacks.get(r);if(!c)throw new Error(`Event listener ${r} doesn't exist!`);const[u]=c;let l=this._eventListeners.get(u);if(!l)throw new Error(`Event listeners don't exist for ${u}!`);this._eventCallbacks.delete(r),l=l.filter(d=>d!==r),l.length===0&&this._eventListeners.delete(u),this._eventCallbacks.size==0&&(assertExports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class or{constructor(r,c){this.coder=c,this.programId=r}parseLogs(r,c){const u=new ar(r),l=new sr;let d=u.next();for(;d!==null;){let[y,m,wr]=this.handleLog(l,d);y&&c(y),m&&l.push(m),wr&&l.pop(),d=u.next()}}handleLog(r,c){return r.stack.length>0&&r.program()===this.programId.toString()?this.handleProgramLog(c):[null,...this.handleSystemLog(c)]}handleProgramLog(r){if(r.startsWith("Program log: ")||r.startsWith("Program data: ")){const c=r.startsWith("Program log: ")?r.slice(rr):r.slice(nr);return[this.coder.events.decode(c),null,!1]}return[null,...this.handleSystemLog(r)]}handleSystemLog(r){const c=r.split(":")[0];return c.match(/^Program (.*) success/g)!==null?[null,!0]:c.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:c.includes("invoke")?["cpi",!1]:[null,!1]}}class sr{constructor(){this.stack=[]}program(){return assertExports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(r){this.stack.push(r)}pop(){assertExports.ok(this.stack.length>0),this.stack.pop()}}class ar{constructor(r){this.logs=r}next(){if(this.logs.length===0)return null;let r=this.logs[0];return this.logs=this.logs.slice(1),r}}const cr=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function ur(){return new Pe(dr)}const dr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class lr{constructor(r,c,u,l,d,y){this._args=r,this._accounts=c,this._provider=u,this._programId=l,this._idlIx=d,this._accountStore=new hr(u,y)}async resolve(){for(let r=0;r<this._idlIx.accounts.length;r+=1){const c=this._idlIx.accounts[r],u=camelcase.exports(c.name);if(c.pda&&c.pda.seeds.length>0&&!this._accounts[u])await this.autoPopulatePda(c);else if(!c.isSigner||this._accounts[u])Reflect.has(lr.CONST_ACCOUNTS,u)&&!this._accounts[u]&&(this._accounts[u]=lr.CONST_ACCOUNTS[u]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[u]=this._provider.wallet.publicKey}}}async autoPopulatePda(r){if(!r.pda||!r.pda.seeds)throw new Error("Must have seeds");const c=await Promise.all(r.pda.seeds.map(d=>this.toBuffer(d))),u=await this.parseProgramId(r),[l]=await PublicKey.findProgramAddress(c,u);this._accounts[camelcase.exports(r.name)]=l}async parseProgramId(r){var c;if(!(!((c=r.pda)===null||c===void 0)&&c.programId))return this._programId;switch(r.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(r.pda.programId.value));case"arg":return this.argValue(r.pda.programId);case"account":return await this.accountValue(r.pda.programId);default:throw new Error(`Unexpected program seed kind: ${r.pda.programId.kind}`)}}async toBuffer(r){switch(r.kind){case"const":return this.toBufferConst(r);case"arg":return await this.toBufferArg(r);case"account":return await this.toBufferAccount(r);default:throw new Error(`Unexpected seed kind: ${r.kind}`)}}toBufferConst(r){return this.toBufferValue(r.type,r.value)}async toBufferArg(r){const c=this.argValue(r);return this.toBufferValue(r.type,c)}argValue(r){const c=camelcase.exports(r.path.split(".")[0]),u=this._idlIx.args.findIndex(l=>l.name===c);if(u===-1)throw new Error(`Unable to find argument for seed: ${c}`);return this._args[u]}async toBufferAccount(r){const c=await this.accountValue(r);return this.toBufferValue(r.type,c)}async accountValue(r){const c=r.path.split("."),u=c[0],l=this._accounts[camelcase.exports(u)];if(c.length===1)return l;const d=await this._accountStore.fetchAccount(r.account,l);return this.parseAccountValue(d,c.slice(1))}parseAccountValue(r,c){let u;for(;c.length>0;)u=r[camelcase.exports(c[0])],c=c.slice(1);return u}toBufferValue(r,c){switch(r){case"u8":return Buffer.from([c]);case"u16":let u=Buffer.alloc(2);return u.writeUInt16LE(c),u;case"u32":let l=Buffer.alloc(4);return l.writeUInt32LE(c),l;case"u64":let d=Buffer.alloc(8);return d.writeBigUInt64LE(BigInt(c)),d;case"string":return Buffer.from(v(c));case"publicKey":return c.toBuffer();default:if(r.array)return Buffer.from(c);throw new Error(`Unexpected seed type: ${r}`)}}}lr.CONST_ACCOUNTS={systemProgram:SystemProgram.programId,tokenProgram:Ne,associatedTokenProgram:je,rent:SYSVAR_RENT_PUBKEY};class hr{constructor(r,c){this._provider=r,this._accounts=c,this._cache=new Map}async fetchAccount(r,c){const u=c.toString();if(!this._cache.has(u))if(r==="TokenAccount"){const l=await this._provider.connection.getAccountInfo(c);if(l===null)throw new Error(`invalid account info for ${u}`);const d=ur().accounts.decode("token",l.data);this._cache.set(u,d)}else{const l=this._accounts[camelcase.exports(r)].fetch(c);this._cache.set(u,l)}return this._cache.get(u)}}class fr{static build(r,c,u,l,d,y,m,wr,Sr){return(...Ar)=>new pr(Ar,l,d,y,m,wr,r,c,u,Sr)}}class pr{constructor(r,c,u,l,d,y,m,wr,Sr,Ar){this._args=r,this._ixFn=c,this._txFn=u,this._rpcFn=l,this._simulateFn=d,this._viewFn=y,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new lr(r,this._accounts,m,wr,Sr,Ar)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(r){return Object.assign(this._accounts,r),this}signers(r){return this._signers=this._signers.concat(r),this}remainingAccounts(r){return this._remainingAccounts=this._remainingAccounts.concat(r),this}preInstructions(r){return this._preInstructions=this._preInstructions.concat(r),this}postInstructions(r){return this._postInstructions=this._postInstructions.concat(r),this}async rpc(r){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:r})}async view(r){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:r})}async simulate(r){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:r})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class mr{constructor(r,c,u,l){c=P(c),u||(u=dt()),this._idl=r,this._provider=u,this._programId=c,this._coder=l??new Vt(r),this._events=new ir(this._programId,u,this._coder);const[d,y,m,wr,Sr,Ar,Ir,$r]=class{static build(kr,Dr,Cr,Br){const Fr={},qr={},Vr={},Jr={},Qr={},Wr={},Zr=k(kr),rn=kr.accounts?class{static build(an,fn,mn,Mr){var xr;const Pr={};return(xr=an.accounts)===null||xr===void 0||xr.forEach(Kr=>{const Hr=camelcase.exports(Kr.name);Pr[Hr]=new tr(an,Kr,mn,Mr,fn)}),Pr}}.build(kr,Dr,Cr,Br):{},gn=class{static build(an,fn,mn,Mr){if(an.state!==void 0)return new Xe(an,mn,Mr,fn)}}.build(kr,Dr,Cr,Br);return kr.instructions.forEach(an=>{const fn=Je.build(an,(Gr,un)=>Dr.instruction.encode(Gr,un),Cr),mn=Qe.build(an,fn),Mr=Ze.build(an,mn,Zr,Br),xr=class{static build(Gr,un,wn,jr,Rr,Ur,hn){return async(...en)=>{var tn;const dn=un(...en),[,pn]=He(Gr,[...en]);let vn;if(jr.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{vn=await jr.simulate(dn,pn.signers,(tn=pn.options)===null||tn===void 0?void 0:tn.commitment)}catch(kn){throw bt(kn,wn)}if(vn===void 0)throw new Error("Unable to simulate transaction");const $n=vn.logs;if(!$n)throw new Error("Simulated logs not found");const Pn=[];return hn.events&&new or(Ur,Rr).parseLogs($n,kn=>{Pn.push(kn)}),{events:Pn,raw:$n}}}}.build(an,mn,Zr,Br,Dr,Cr,kr),Pr=class{static build(Gr,un,wn,jr){const Rr=un.accounts.find(hn=>hn.isMut),Ur=!!un.returns;if(!Rr&&Ur)return async(...hn)=>{var en,tn;let dn=await wn(...hn);const pn=`Program return: ${Gr} `;let vn=dn.raw.find(kn=>kn.startsWith(pn));if(!vn)throw new Error("View expected return log");let $n=E(vn.slice(pn.length)),Pn=un.returns;if(!Pn)throw new Error("View expected return type");return Pt.fieldLayout({type:Pn},Array.from([...(en=jr.accounts)!==null&&en!==void 0?en:[],...(tn=jr.types)!==null&&tn!==void 0?tn:[]])).decode($n)}}}.build(Cr,an,xr,kr),Kr=fr.build(Br,Cr,an,fn,mn,Mr,xr,Pr,rn),Hr=camelcase.exports(an.name);qr[Hr]=fn,Vr[Hr]=mn,Fr[Hr]=Mr,Jr[Hr]=xr,Qr[Hr]=Kr,Pr&&(Wr[Hr]=Pr)}),[Fr,qr,Vr,rn,Jr,Qr,gn,Wr]}}.build(r,this._coder,c,u);this.rpc=d,this.instruction=y,this.transaction=m,this.account=wr,this.simulate=Sr,this.methods=Ar,this.state=Ir,this.views=$r}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(r,c){const u=P(r),l=await mr.fetchIdl(u,c);if(!l)throw new Error(`IDL not found for program: ${r.toString()}`);return new mr(l,u,c)}static async fetchIdl(r,c){c=c??dt();const u=P(r),l=await async function(Sr){const Ar=(await PublicKey.findProgramAddress([],Sr))[0];return await PublicKey.createWithSeed(Ar,"anchor:idl",Sr)}(u),d=await c.connection.getAccountInfo(l);if(!d)return null;let y=(m=d.data.slice(8),Ge.decode(m));var m;const wr=inflate_1(y.data);return JSON.parse(w(wr))}addEventListener(r,c){return this._events.addEventListener(r,c)}async removeEventListener(r){return await this._events.removeEventListener(r)}}class yr{static token(r){return function(c){return new mr(dr,cr,c,ur())}(r)}}const browser=Object.freeze(Object.defineProperty({__proto__:null,web3:index_browser_esm$1,ACCOUNT_DISCRIMINATOR_SIZE:Dt,AccountClient:tr,AnchorError:wt,AnchorProvider:ot,BorshAccountsCoder:zt,BorshCoder:Vt,BorshEventCoder:Nt,BorshInstructionCoder:Tt,BorshStateCoder:Rt,EventManager:ir,EventParser:or,IdlError:yt,LangErrorCode:At,LangErrorMessage:_t,MethodsBuilderFactory:fr,Program:mr,ProgramError:vt,ProgramErrorStack:gt,Spl:yr,SplTokenCoder:Pe,StateClient:Xe,eventDiscriminator:jt,getProvider:dt,parseIdlErrors:k,setProvider:ut,splitArgsAndCtx:He,stateDiscriminator:Ut,toInstruction:x,translateAddress:P,translateError:bt,utils:We,validateAccounts:M,BN},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser);var stakingIdl={};Object.defineProperty(stakingIdl,"__esModule",{value:!0});stakingIdl.stakingIdl=void 0;stakingIdl.stakingIdl={version:"0.1.0",name:"atlas_staking",instructions:[{name:"cancelUnstake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[]},{name:"createStakingAccount",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"harvest",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStaking",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerStake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"Mint",path:"stake_mint"},{kind:"account",type:"publicKey",account:"Mint",path:"reward_mint"}]}},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"}]},{name:"settle",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[{name:"updatedStakingPeriod",type:"u16"}]},{name:"stakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeAmount",type:"u64"}]},{name:"unstakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateRewardMultiplier",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"rewardMultiplier",type:"u64"},{name:"newStakingPeriod",type:"u16"}]},{name:"withdrawTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"RegisteredStake",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"rewardMint",type:"publicKey"},{name:"currentPeriod",type:"u16"},{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"},{name:"bump",type:"u8"}]}},{name:"StakingAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"totalStake",type:"u64"},{name:"activeStake",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"paidRewards",type:"u64"},{name:"currentPeriod",type:"u16"},{name:"stakedAtTs",type:"i64"},{name:"lastPendingRewardCalcTs",type:"i64"},{name:"lastHarvestTs",type:"i64"},{name:"unstakedTs",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StakingVars",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"bump",type:"u8"}]}}],errors:[{code:6e3,name:"InvalidMint",msg:"Invalid Token Mint"},{code:6001,name:"InvalidOwner",msg:"Account now owned by user"},{code:6002,name:"InsufficientFunds",msg:"Insufficient token balance"},{code:6003,name:"InvalidAuthority",msg:"Invalid authority for this account"},{code:6004,name:"InvalidDepositQty",msg:"Invalid deposit quantity"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"StakeOnCooldown",msg:"Cannot stake while account is on cooldown"},{code:6007,name:"InvalidEscrowAuth",msg:"Invalid escrow authority"},{code:6008,name:"WithdrawOnCooldown",msg:"Cannot withdraw before cooldown period has elapsed"},{code:6009,name:"InvalidPeriod",msg:"Staking account must be in the same period as the Registered Stake"},{code:6010,name:"NotOnCooldown",msg:"Staking account is not on cooldown"}],metadata:{}};Object.defineProperty(getStakingProgram$1,"__esModule",{value:!0});getStakingProgram$1.getStakingProgram=getStakingProgram$1.getStakingIdl=void 0;const anchor_1$a=require$$0$1,stakingIdl_1=stakingIdl;function getStakingIdl(a){const r=stakingIdl_1.stakingIdl;return r.metadata.address=a.toBase58(),r}getStakingProgram$1.getStakingIdl=getStakingIdl;function getStakingProgram({connection:a,programId:r}){const c=getStakingIdl(r),u=new anchor_1$a.AnchorProvider(a,null,null);return new anchor_1$a.Program(c,r,u)}getStakingProgram$1.getStakingProgram=getStakingProgram;(function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(getStakingProgram$1,a)})(utils$1);var __awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(cancelUnstake,"__esModule",{value:!0});cancelUnstake.cancelUnstakeInstruction=void 0;const utils_1$c=utils$1;function cancelUnstakeInstruction({connection:a,user:r,registeredStake:c,programId:u}){return __awaiter$i(this,void 0,void 0,function*(){const l=(0,utils_1$c.getStakingProgram)({connection:a,programId:u}),d={instructions:[],signers:[]},y=yield l.methods.cancelUnstake().accounts({user:r,registeredStake:c}).instruction();return d.instructions.push(y),d})}cancelUnstake.cancelUnstakeInstruction=cancelUnstakeInstruction;var createStakeAccount={},__awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(createStakeAccount,"__esModule",{value:!0});createStakeAccount.createStakingAccountInstruction=void 0;const utils_1$b=utils$1;function createStakingAccountInstruction({connection:a,user:r,registeredStake:c,programId:u}){return __awaiter$h(this,void 0,void 0,function*(){const l=(0,utils_1$b.getStakingProgram)({connection:a,programId:u}),d={instructions:[],signers:[]},y=yield l.methods.createStakingAccount().accounts({user:r,registeredStake:c}).instruction();return d.instructions.push(y),d})}createStakeAccount.createStakingAccountInstruction=createStakingAccountInstruction;var harvestRewards={},token={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.associatedAddress=a.ASSOCIATED_PROGRAM_ID=a.TOKEN_PROGRAM_ID=void 0;const r=require$$0$2;a.TOKEN_PROGRAM_ID=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),a.ASSOCIATED_PROGRAM_ID=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function c({mint:u,owner:l}){return(await r.PublicKey.findProgramAddress([l.toBuffer(),a.TOKEN_PROGRAM_ID.toBuffer(),u.toBuffer()],a.ASSOCIATED_PROGRAM_ID))[0]}a.associatedAddress=c})(token);var util={},helpers$1={};function _defineProperty(a,r,c){return r in a?Object.defineProperty(a,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[r]=c,a}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(a){var r=a.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");c===-1&&(c=r);var u=c===r?0:4-c%4;return[c,u]}function byteLength(a){var r=getLens(a),c=r[0],u=r[1];return(c+u)*3/4-u}function _byteLength(a,r,c){return(r+c)*3/4-c}function toByteArray(a){var r,c=getLens(a),u=c[0],l=c[1],d=new Arr(_byteLength(a,u,l)),y=0,m=l>0?u-4:u,wr;for(wr=0;wr<m;wr+=4)r=revLookup[a.charCodeAt(wr)]<<18|revLookup[a.charCodeAt(wr+1)]<<12|revLookup[a.charCodeAt(wr+2)]<<6|revLookup[a.charCodeAt(wr+3)],d[y++]=r>>16&255,d[y++]=r>>8&255,d[y++]=r&255;return l===2&&(r=revLookup[a.charCodeAt(wr)]<<2|revLookup[a.charCodeAt(wr+1)]>>4,d[y++]=r&255),l===1&&(r=revLookup[a.charCodeAt(wr)]<<10|revLookup[a.charCodeAt(wr+1)]<<4|revLookup[a.charCodeAt(wr+2)]>>2,d[y++]=r>>8&255,d[y++]=r&255),d}function tripletToBase64(a){return lookup[a>>18&63]+lookup[a>>12&63]+lookup[a>>6&63]+lookup[a&63]}function encodeChunk(a,r,c){for(var u,l=[],d=r;d<c;d+=3)u=(a[d]<<16&16711680)+(a[d+1]<<8&65280)+(a[d+2]&255),l.push(tripletToBase64(u));return l.join("")}function fromByteArray(a){for(var r,c=a.length,u=c%3,l=[],d=16383,y=0,m=c-u;y<m;y+=d)l.push(encodeChunk(a,y,y+d>m?m:y+d));return u===1?(r=a[c-1],l.push(lookup[r>>2]+lookup[r<<4&63]+"==")):u===2&&(r=(a[c-2]<<8)+a[c-1],l.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),l.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,r,c,u,l){var d,y,m=l*8-u-1,wr=(1<<m)-1,Sr=wr>>1,Ar=-7,Ir=c?l-1:0,$r=c?-1:1,kr=a[r+Ir];for(Ir+=$r,d=kr&(1<<-Ar)-1,kr>>=-Ar,Ar+=m;Ar>0;d=d*256+a[r+Ir],Ir+=$r,Ar-=8);for(y=d&(1<<-Ar)-1,d>>=-Ar,Ar+=u;Ar>0;y=y*256+a[r+Ir],Ir+=$r,Ar-=8);if(d===0)d=1-Sr;else{if(d===wr)return y?NaN:(kr?-1:1)*(1/0);y=y+Math.pow(2,u),d=d-Sr}return(kr?-1:1)*y*Math.pow(2,d-u)};ieee754.write=function(a,r,c,u,l,d){var y,m,wr,Sr=d*8-l-1,Ar=(1<<Sr)-1,Ir=Ar>>1,$r=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,kr=u?0:d-1,Dr=u?1:-1,Cr=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,y=Ar):(y=Math.floor(Math.log(r)/Math.LN2),r*(wr=Math.pow(2,-y))<1&&(y--,wr*=2),y+Ir>=1?r+=$r/wr:r+=$r*Math.pow(2,1-Ir),r*wr>=2&&(y++,wr/=2),y+Ir>=Ar?(m=0,y=Ar):y+Ir>=1?(m=(r*wr-1)*Math.pow(2,l),y=y+Ir):(m=r*Math.pow(2,Ir-1)*Math.pow(2,l),y=0));l>=8;a[c+kr]=m&255,kr+=Dr,m/=256,l-=8);for(y=y<<l|m,Sr+=l;Sr>0;a[c+kr]=y&255,kr+=Dr,y/=256,Sr-=8);a[c+kr-Dr]|=Cr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const r=base64Js,c=ieee754,u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=m,a.SlowBuffer=qr,a.INSPECT_MAX_BYTES=50;const l=2147483647;a.kMaxLength=l,m.TYPED_ARRAY_SUPPORT=d(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{const Er=new Uint8Array(1),_r={foo:function(){return 42}};return Object.setPrototypeOf(_r,Uint8Array.prototype),Object.setPrototypeOf(Er,_r),Er.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.byteOffset}});function y(Er){if(Er>l)throw new RangeError('The value "'+Er+'" is invalid for option "size"');const _r=new Uint8Array(Er);return Object.setPrototypeOf(_r,m.prototype),_r}function m(Er,_r,br){if(typeof Er=="number"){if(typeof _r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ir(Er)}return wr(Er,_r,br)}m.poolSize=8192;function wr(Er,_r,br){if(typeof Er=="string")return $r(Er,_r);if(ArrayBuffer.isView(Er))return Dr(Er);if(Er==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Er);if(cn(Er,ArrayBuffer)||Er&&cn(Er.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(cn(Er,SharedArrayBuffer)||Er&&cn(Er.buffer,SharedArrayBuffer)))return Cr(Er,_r,br);if(typeof Er=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Tr=Er.valueOf&&Er.valueOf();if(Tr!=null&&Tr!==Er)return m.from(Tr,_r,br);const Lr=Br(Er);if(Lr)return Lr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Er[Symbol.toPrimitive]=="function")return m.from(Er[Symbol.toPrimitive]("string"),_r,br);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Er)}m.from=function(Er,_r,br){return wr(Er,_r,br)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function Sr(Er){if(typeof Er!="number")throw new TypeError('"size" argument must be of type number');if(Er<0)throw new RangeError('The value "'+Er+'" is invalid for option "size"')}function Ar(Er,_r,br){return Sr(Er),Er<=0?y(Er):_r!==void 0?typeof br=="string"?y(Er).fill(_r,br):y(Er).fill(_r):y(Er)}m.alloc=function(Er,_r,br){return Ar(Er,_r,br)};function Ir(Er){return Sr(Er),y(Er<0?0:Fr(Er)|0)}m.allocUnsafe=function(Er){return Ir(Er)},m.allocUnsafeSlow=function(Er){return Ir(Er)};function $r(Er,_r){if((typeof _r!="string"||_r==="")&&(_r="utf8"),!m.isEncoding(_r))throw new TypeError("Unknown encoding: "+_r);const br=Vr(Er,_r)|0;let Tr=y(br);const Lr=Tr.write(Er,_r);return Lr!==br&&(Tr=Tr.slice(0,Lr)),Tr}function kr(Er){const _r=Er.length<0?0:Fr(Er.length)|0,br=y(_r);for(let Tr=0;Tr<_r;Tr+=1)br[Tr]=Er[Tr]&255;return br}function Dr(Er){if(cn(Er,Uint8Array)){const _r=new Uint8Array(Er);return Cr(_r.buffer,_r.byteOffset,_r.byteLength)}return kr(Er)}function Cr(Er,_r,br){if(_r<0||Er.byteLength<_r)throw new RangeError('"offset" is outside of buffer bounds');if(Er.byteLength<_r+(br||0))throw new RangeError('"length" is outside of buffer bounds');let Tr;return _r===void 0&&br===void 0?Tr=new Uint8Array(Er):br===void 0?Tr=new Uint8Array(Er,_r):Tr=new Uint8Array(Er,_r,br),Object.setPrototypeOf(Tr,m.prototype),Tr}function Br(Er){if(m.isBuffer(Er)){const _r=Fr(Er.length)|0,br=y(_r);return br.length===0||Er.copy(br,0,0,_r),br}if(Er.length!==void 0)return typeof Er.length!="number"||yn(Er.length)?y(0):kr(Er);if(Er.type==="Buffer"&&Array.isArray(Er.data))return kr(Er.data)}function Fr(Er){if(Er>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return Er|0}function qr(Er){return+Er!=Er&&(Er=0),m.alloc(+Er)}m.isBuffer=function(_r){return _r!=null&&_r._isBuffer===!0&&_r!==m.prototype},m.compare=function(_r,br){if(cn(_r,Uint8Array)&&(_r=m.from(_r,_r.offset,_r.byteLength)),cn(br,Uint8Array)&&(br=m.from(br,br.offset,br.byteLength)),!m.isBuffer(_r)||!m.isBuffer(br))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_r===br)return 0;let Tr=_r.length,Lr=br.length;for(let zr=0,Xr=Math.min(Tr,Lr);zr<Xr;++zr)if(_r[zr]!==br[zr]){Tr=_r[zr],Lr=br[zr];break}return Tr<Lr?-1:Lr<Tr?1:0},m.isEncoding=function(_r){switch(String(_r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(_r,br){if(!Array.isArray(_r))throw new TypeError('"list" argument must be an Array of Buffers');if(_r.length===0)return m.alloc(0);let Tr;if(br===void 0)for(br=0,Tr=0;Tr<_r.length;++Tr)br+=_r[Tr].length;const Lr=m.allocUnsafe(br);let zr=0;for(Tr=0;Tr<_r.length;++Tr){let Xr=_r[Tr];if(cn(Xr,Uint8Array))zr+Xr.length>Lr.length?(m.isBuffer(Xr)||(Xr=m.from(Xr)),Xr.copy(Lr,zr)):Uint8Array.prototype.set.call(Lr,Xr,zr);else if(m.isBuffer(Xr))Xr.copy(Lr,zr);else throw new TypeError('"list" argument must be an Array of Buffers');zr+=Xr.length}return Lr};function Vr(Er,_r){if(m.isBuffer(Er))return Er.length;if(ArrayBuffer.isView(Er)||cn(Er,ArrayBuffer))return Er.byteLength;if(typeof Er!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Er);const br=Er.length,Tr=arguments.length>2&&arguments[2]===!0;if(!Tr&&br===0)return 0;let Lr=!1;for(;;)switch(_r){case"ascii":case"latin1":case"binary":return br;case"utf8":case"utf-8":return In(Er).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return br*2;case"hex":return br>>>1;case"base64":return Cn(Er).length;default:if(Lr)return Tr?-1:In(Er).length;_r=(""+_r).toLowerCase(),Lr=!0}}m.byteLength=Vr;function Jr(Er,_r,br){let Tr=!1;if((_r===void 0||_r<0)&&(_r=0),_r>this.length||((br===void 0||br>this.length)&&(br=this.length),br<=0)||(br>>>=0,_r>>>=0,br<=_r))return"";for(Er||(Er="utf8");;)switch(Er){case"hex":return un(this,_r,br);case"utf8":case"utf-8":return xr(this,_r,br);case"ascii":return Hr(this,_r,br);case"latin1":case"binary":return Gr(this,_r,br);case"base64":return Mr(this,_r,br);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wn(this,_r,br);default:if(Tr)throw new TypeError("Unknown encoding: "+Er);Er=(Er+"").toLowerCase(),Tr=!0}}m.prototype._isBuffer=!0;function Qr(Er,_r,br){const Tr=Er[_r];Er[_r]=Er[br],Er[br]=Tr}m.prototype.swap16=function(){const _r=this.length;if(_r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let br=0;br<_r;br+=2)Qr(this,br,br+1);return this},m.prototype.swap32=function(){const _r=this.length;if(_r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let br=0;br<_r;br+=4)Qr(this,br,br+3),Qr(this,br+1,br+2);return this},m.prototype.swap64=function(){const _r=this.length;if(_r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let br=0;br<_r;br+=8)Qr(this,br,br+7),Qr(this,br+1,br+6),Qr(this,br+2,br+5),Qr(this,br+3,br+4);return this},m.prototype.toString=function(){const _r=this.length;return _r===0?"":arguments.length===0?xr(this,0,_r):Jr.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(_r){if(!m.isBuffer(_r))throw new TypeError("Argument must be a Buffer");return this===_r?!0:m.compare(this,_r)===0},m.prototype.inspect=function(){let _r="";const br=a.INSPECT_MAX_BYTES;return _r=this.toString("hex",0,br).replace(/(.{2})/g,"$1 ").trim(),this.length>br&&(_r+=" ... "),"<Buffer "+_r+">"},u&&(m.prototype[u]=m.prototype.inspect),m.prototype.compare=function(_r,br,Tr,Lr,zr){if(cn(_r,Uint8Array)&&(_r=m.from(_r,_r.offset,_r.byteLength)),!m.isBuffer(_r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _r);if(br===void 0&&(br=0),Tr===void 0&&(Tr=_r?_r.length:0),Lr===void 0&&(Lr=0),zr===void 0&&(zr=this.length),br<0||Tr>_r.length||Lr<0||zr>this.length)throw new RangeError("out of range index");if(Lr>=zr&&br>=Tr)return 0;if(Lr>=zr)return-1;if(br>=Tr)return 1;if(br>>>=0,Tr>>>=0,Lr>>>=0,zr>>>=0,this===_r)return 0;let Xr=zr-Lr,Dn=Tr-br;const Vn=Math.min(Xr,Dn),Fn=this.slice(Lr,zr),Wn=_r.slice(br,Tr);for(let Hn=0;Hn<Vn;++Hn)if(Fn[Hn]!==Wn[Hn]){Xr=Fn[Hn],Dn=Wn[Hn];break}return Xr<Dn?-1:Dn<Xr?1:0};function Wr(Er,_r,br,Tr,Lr){if(Er.length===0)return-1;if(typeof br=="string"?(Tr=br,br=0):br>2147483647?br=2147483647:br<-2147483648&&(br=-2147483648),br=+br,yn(br)&&(br=Lr?0:Er.length-1),br<0&&(br=Er.length+br),br>=Er.length){if(Lr)return-1;br=Er.length-1}else if(br<0)if(Lr)br=0;else return-1;if(typeof _r=="string"&&(_r=m.from(_r,Tr)),m.isBuffer(_r))return _r.length===0?-1:Zr(Er,_r,br,Tr,Lr);if(typeof _r=="number")return _r=_r&255,typeof Uint8Array.prototype.indexOf=="function"?Lr?Uint8Array.prototype.indexOf.call(Er,_r,br):Uint8Array.prototype.lastIndexOf.call(Er,_r,br):Zr(Er,[_r],br,Tr,Lr);throw new TypeError("val must be string, number or Buffer")}function Zr(Er,_r,br,Tr,Lr){let zr=1,Xr=Er.length,Dn=_r.length;if(Tr!==void 0&&(Tr=String(Tr).toLowerCase(),Tr==="ucs2"||Tr==="ucs-2"||Tr==="utf16le"||Tr==="utf-16le")){if(Er.length<2||_r.length<2)return-1;zr=2,Xr/=2,Dn/=2,br/=2}function Vn(Wn,Hn){return zr===1?Wn[Hn]:Wn.readUInt16BE(Hn*zr)}let Fn;if(Lr){let Wn=-1;for(Fn=br;Fn<Xr;Fn++)if(Vn(Er,Fn)===Vn(_r,Wn===-1?0:Fn-Wn)){if(Wn===-1&&(Wn=Fn),Fn-Wn+1===Dn)return Wn*zr}else Wn!==-1&&(Fn-=Fn-Wn),Wn=-1}else for(br+Dn>Xr&&(br=Xr-Dn),Fn=br;Fn>=0;Fn--){let Wn=!0;for(let Hn=0;Hn<Dn;Hn++)if(Vn(Er,Fn+Hn)!==Vn(_r,Hn)){Wn=!1;break}if(Wn)return Fn}return-1}m.prototype.includes=function(_r,br,Tr){return this.indexOf(_r,br,Tr)!==-1},m.prototype.indexOf=function(_r,br,Tr){return Wr(this,_r,br,Tr,!0)},m.prototype.lastIndexOf=function(_r,br,Tr){return Wr(this,_r,br,Tr,!1)};function rn(Er,_r,br,Tr){br=Number(br)||0;const Lr=Er.length-br;Tr?(Tr=Number(Tr),Tr>Lr&&(Tr=Lr)):Tr=Lr;const zr=_r.length;Tr>zr/2&&(Tr=zr/2);let Xr;for(Xr=0;Xr<Tr;++Xr){const Dn=parseInt(_r.substr(Xr*2,2),16);if(yn(Dn))return Xr;Er[br+Xr]=Dn}return Xr}function gn(Er,_r,br,Tr){return Mn(In(_r,Er.length-br),Er,br,Tr)}function an(Er,_r,br,Tr){return Mn(Ln(_r),Er,br,Tr)}function fn(Er,_r,br,Tr){return Mn(Cn(_r),Er,br,Tr)}function mn(Er,_r,br,Tr){return Mn(An(_r,Er.length-br),Er,br,Tr)}m.prototype.write=function(_r,br,Tr,Lr){if(br===void 0)Lr="utf8",Tr=this.length,br=0;else if(Tr===void 0&&typeof br=="string")Lr=br,Tr=this.length,br=0;else if(isFinite(br))br=br>>>0,isFinite(Tr)?(Tr=Tr>>>0,Lr===void 0&&(Lr="utf8")):(Lr=Tr,Tr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const zr=this.length-br;if((Tr===void 0||Tr>zr)&&(Tr=zr),_r.length>0&&(Tr<0||br<0)||br>this.length)throw new RangeError("Attempt to write outside buffer bounds");Lr||(Lr="utf8");let Xr=!1;for(;;)switch(Lr){case"hex":return rn(this,_r,br,Tr);case"utf8":case"utf-8":return gn(this,_r,br,Tr);case"ascii":case"latin1":case"binary":return an(this,_r,br,Tr);case"base64":return fn(this,_r,br,Tr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mn(this,_r,br,Tr);default:if(Xr)throw new TypeError("Unknown encoding: "+Lr);Lr=(""+Lr).toLowerCase(),Xr=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mr(Er,_r,br){return _r===0&&br===Er.length?r.fromByteArray(Er):r.fromByteArray(Er.slice(_r,br))}function xr(Er,_r,br){br=Math.min(Er.length,br);const Tr=[];let Lr=_r;for(;Lr<br;){const zr=Er[Lr];let Xr=null,Dn=zr>239?4:zr>223?3:zr>191?2:1;if(Lr+Dn<=br){let Vn,Fn,Wn,Hn;switch(Dn){case 1:zr<128&&(Xr=zr);break;case 2:Vn=Er[Lr+1],(Vn&192)===128&&(Hn=(zr&31)<<6|Vn&63,Hn>127&&(Xr=Hn));break;case 3:Vn=Er[Lr+1],Fn=Er[Lr+2],(Vn&192)===128&&(Fn&192)===128&&(Hn=(zr&15)<<12|(Vn&63)<<6|Fn&63,Hn>2047&&(Hn<55296||Hn>57343)&&(Xr=Hn));break;case 4:Vn=Er[Lr+1],Fn=Er[Lr+2],Wn=Er[Lr+3],(Vn&192)===128&&(Fn&192)===128&&(Wn&192)===128&&(Hn=(zr&15)<<18|(Vn&63)<<12|(Fn&63)<<6|Wn&63,Hn>65535&&Hn<1114112&&(Xr=Hn))}}Xr===null?(Xr=65533,Dn=1):Xr>65535&&(Xr-=65536,Tr.push(Xr>>>10&1023|55296),Xr=56320|Xr&1023),Tr.push(Xr),Lr+=Dn}return Kr(Tr)}const Pr=4096;function Kr(Er){const _r=Er.length;if(_r<=Pr)return String.fromCharCode.apply(String,Er);let br="",Tr=0;for(;Tr<_r;)br+=String.fromCharCode.apply(String,Er.slice(Tr,Tr+=Pr));return br}function Hr(Er,_r,br){let Tr="";br=Math.min(Er.length,br);for(let Lr=_r;Lr<br;++Lr)Tr+=String.fromCharCode(Er[Lr]&127);return Tr}function Gr(Er,_r,br){let Tr="";br=Math.min(Er.length,br);for(let Lr=_r;Lr<br;++Lr)Tr+=String.fromCharCode(Er[Lr]);return Tr}function un(Er,_r,br){const Tr=Er.length;(!_r||_r<0)&&(_r=0),(!br||br<0||br>Tr)&&(br=Tr);let Lr="";for(let zr=_r;zr<br;++zr)Lr+=xn[Er[zr]];return Lr}function wn(Er,_r,br){const Tr=Er.slice(_r,br);let Lr="";for(let zr=0;zr<Tr.length-1;zr+=2)Lr+=String.fromCharCode(Tr[zr]+Tr[zr+1]*256);return Lr}m.prototype.slice=function(_r,br){const Tr=this.length;_r=~~_r,br=br===void 0?Tr:~~br,_r<0?(_r+=Tr,_r<0&&(_r=0)):_r>Tr&&(_r=Tr),br<0?(br+=Tr,br<0&&(br=0)):br>Tr&&(br=Tr),br<_r&&(br=_r);const Lr=this.subarray(_r,br);return Object.setPrototypeOf(Lr,m.prototype),Lr};function jr(Er,_r,br){if(Er%1!==0||Er<0)throw new RangeError("offset is not uint");if(Er+_r>br)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r],zr=1,Xr=0;for(;++Xr<br&&(zr*=256);)Lr+=this[_r+Xr]*zr;return Lr},m.prototype.readUintBE=m.prototype.readUIntBE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r+--br],zr=1;for(;br>0&&(zr*=256);)Lr+=this[_r+--br]*zr;return Lr},m.prototype.readUint8=m.prototype.readUInt8=function(_r,br){return _r=_r>>>0,br||jr(_r,1,this.length),this[_r]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(_r,br){return _r=_r>>>0,br||jr(_r,2,this.length),this[_r]|this[_r+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(_r,br){return _r=_r>>>0,br||jr(_r,2,this.length),this[_r]<<8|this[_r+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),(this[_r]|this[_r+1]<<8|this[_r+2]<<16)+this[_r+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]*16777216+(this[_r+1]<<16|this[_r+2]<<8|this[_r+3])},m.prototype.readBigUInt64LE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=br+this[++_r]*2**8+this[++_r]*2**16+this[++_r]*2**24,zr=this[++_r]+this[++_r]*2**8+this[++_r]*2**16+Tr*2**24;return BigInt(Lr)+(BigInt(zr)<<BigInt(32))}),m.prototype.readBigUInt64BE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=br*2**24+this[++_r]*2**16+this[++_r]*2**8+this[++_r],zr=this[++_r]*2**24+this[++_r]*2**16+this[++_r]*2**8+Tr;return(BigInt(Lr)<<BigInt(32))+BigInt(zr)}),m.prototype.readIntLE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=this[_r],zr=1,Xr=0;for(;++Xr<br&&(zr*=256);)Lr+=this[_r+Xr]*zr;return zr*=128,Lr>=zr&&(Lr-=Math.pow(2,8*br)),Lr},m.prototype.readIntBE=function(_r,br,Tr){_r=_r>>>0,br=br>>>0,Tr||jr(_r,br,this.length);let Lr=br,zr=1,Xr=this[_r+--Lr];for(;Lr>0&&(zr*=256);)Xr+=this[_r+--Lr]*zr;return zr*=128,Xr>=zr&&(Xr-=Math.pow(2,8*br)),Xr},m.prototype.readInt8=function(_r,br){return _r=_r>>>0,br||jr(_r,1,this.length),this[_r]&128?(255-this[_r]+1)*-1:this[_r]},m.prototype.readInt16LE=function(_r,br){_r=_r>>>0,br||jr(_r,2,this.length);const Tr=this[_r]|this[_r+1]<<8;return Tr&32768?Tr|4294901760:Tr},m.prototype.readInt16BE=function(_r,br){_r=_r>>>0,br||jr(_r,2,this.length);const Tr=this[_r+1]|this[_r]<<8;return Tr&32768?Tr|4294901760:Tr},m.prototype.readInt32LE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]|this[_r+1]<<8|this[_r+2]<<16|this[_r+3]<<24},m.prototype.readInt32BE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),this[_r]<<24|this[_r+1]<<16|this[_r+2]<<8|this[_r+3]},m.prototype.readBigInt64LE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=this[_r+4]+this[_r+5]*2**8+this[_r+6]*2**16+(Tr<<24);return(BigInt(Lr)<<BigInt(32))+BigInt(br+this[++_r]*2**8+this[++_r]*2**16+this[++_r]*2**24)}),m.prototype.readBigInt64BE=Rn(function(_r){_r=_r>>>0,sn(_r,"offset");const br=this[_r],Tr=this[_r+7];(br===void 0||Tr===void 0)&&ln(_r,this.length-8);const Lr=(br<<24)+this[++_r]*2**16+this[++_r]*2**8+this[++_r];return(BigInt(Lr)<<BigInt(32))+BigInt(this[++_r]*2**24+this[++_r]*2**16+this[++_r]*2**8+Tr)}),m.prototype.readFloatLE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),c.read(this,_r,!0,23,4)},m.prototype.readFloatBE=function(_r,br){return _r=_r>>>0,br||jr(_r,4,this.length),c.read(this,_r,!1,23,4)},m.prototype.readDoubleLE=function(_r,br){return _r=_r>>>0,br||jr(_r,8,this.length),c.read(this,_r,!0,52,8)},m.prototype.readDoubleBE=function(_r,br){return _r=_r>>>0,br||jr(_r,8,this.length),c.read(this,_r,!1,52,8)};function Rr(Er,_r,br,Tr,Lr,zr){if(!m.isBuffer(Er))throw new TypeError('"buffer" argument must be a Buffer instance');if(_r>Lr||_r<zr)throw new RangeError('"value" argument is out of bounds');if(br+Tr>Er.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,Tr=Tr>>>0,!Lr){const Dn=Math.pow(2,8*Tr)-1;Rr(this,_r,br,Tr,Dn,0)}let zr=1,Xr=0;for(this[br]=_r&255;++Xr<Tr&&(zr*=256);)this[br+Xr]=_r/zr&255;return br+Tr},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,Tr=Tr>>>0,!Lr){const Dn=Math.pow(2,8*Tr)-1;Rr(this,_r,br,Tr,Dn,0)}let zr=Tr-1,Xr=1;for(this[br+zr]=_r&255;--zr>=0&&(Xr*=256);)this[br+zr]=_r/Xr&255;return br+Tr},m.prototype.writeUint8=m.prototype.writeUInt8=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,1,255,0),this[br]=_r&255,br+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,65535,0),this[br]=_r&255,this[br+1]=_r>>>8,br+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,65535,0),this[br]=_r>>>8,this[br+1]=_r&255,br+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,4294967295,0),this[br+3]=_r>>>24,this[br+2]=_r>>>16,this[br+1]=_r>>>8,this[br]=_r&255,br+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,4294967295,0),this[br]=_r>>>24,this[br+1]=_r>>>16,this[br+2]=_r>>>8,this[br+3]=_r&255,br+4};function Ur(Er,_r,br,Tr,Lr){kn(_r,Tr,Lr,Er,br,7);let zr=Number(_r&BigInt(4294967295));Er[br++]=zr,zr=zr>>8,Er[br++]=zr,zr=zr>>8,Er[br++]=zr,zr=zr>>8,Er[br++]=zr;let Xr=Number(_r>>BigInt(32)&BigInt(4294967295));return Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,Xr=Xr>>8,Er[br++]=Xr,br}function hn(Er,_r,br,Tr,Lr){kn(_r,Tr,Lr,Er,br,7);let zr=Number(_r&BigInt(4294967295));Er[br+7]=zr,zr=zr>>8,Er[br+6]=zr,zr=zr>>8,Er[br+5]=zr,zr=zr>>8,Er[br+4]=zr;let Xr=Number(_r>>BigInt(32)&BigInt(4294967295));return Er[br+3]=Xr,Xr=Xr>>8,Er[br+2]=Xr,Xr=Xr>>8,Er[br+1]=Xr,Xr=Xr>>8,Er[br]=Xr,br+8}m.prototype.writeBigUInt64LE=Rn(function(_r,br=0){return Ur(this,_r,br,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Rn(function(_r,br=0){return hn(this,_r,br,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,!Lr){const Vn=Math.pow(2,8*Tr-1);Rr(this,_r,br,Tr,Vn-1,-Vn)}let zr=0,Xr=1,Dn=0;for(this[br]=_r&255;++zr<Tr&&(Xr*=256);)_r<0&&Dn===0&&this[br+zr-1]!==0&&(Dn=1),this[br+zr]=(_r/Xr>>0)-Dn&255;return br+Tr},m.prototype.writeIntBE=function(_r,br,Tr,Lr){if(_r=+_r,br=br>>>0,!Lr){const Vn=Math.pow(2,8*Tr-1);Rr(this,_r,br,Tr,Vn-1,-Vn)}let zr=Tr-1,Xr=1,Dn=0;for(this[br+zr]=_r&255;--zr>=0&&(Xr*=256);)_r<0&&Dn===0&&this[br+zr+1]!==0&&(Dn=1),this[br+zr]=(_r/Xr>>0)-Dn&255;return br+Tr},m.prototype.writeInt8=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,1,127,-128),_r<0&&(_r=255+_r+1),this[br]=_r&255,br+1},m.prototype.writeInt16LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,32767,-32768),this[br]=_r&255,this[br+1]=_r>>>8,br+2},m.prototype.writeInt16BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,2,32767,-32768),this[br]=_r>>>8,this[br+1]=_r&255,br+2},m.prototype.writeInt32LE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,2147483647,-2147483648),this[br]=_r&255,this[br+1]=_r>>>8,this[br+2]=_r>>>16,this[br+3]=_r>>>24,br+4},m.prototype.writeInt32BE=function(_r,br,Tr){return _r=+_r,br=br>>>0,Tr||Rr(this,_r,br,4,2147483647,-2147483648),_r<0&&(_r=4294967295+_r+1),this[br]=_r>>>24,this[br+1]=_r>>>16,this[br+2]=_r>>>8,this[br+3]=_r&255,br+4},m.prototype.writeBigInt64LE=Rn(function(_r,br=0){return Ur(this,_r,br,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Rn(function(_r,br=0){return hn(this,_r,br,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function en(Er,_r,br,Tr,Lr,zr){if(br+Tr>Er.length)throw new RangeError("Index out of range");if(br<0)throw new RangeError("Index out of range")}function tn(Er,_r,br,Tr,Lr){return _r=+_r,br=br>>>0,Lr||en(Er,_r,br,4),c.write(Er,_r,br,Tr,23,4),br+4}m.prototype.writeFloatLE=function(_r,br,Tr){return tn(this,_r,br,!0,Tr)},m.prototype.writeFloatBE=function(_r,br,Tr){return tn(this,_r,br,!1,Tr)};function dn(Er,_r,br,Tr,Lr){return _r=+_r,br=br>>>0,Lr||en(Er,_r,br,8),c.write(Er,_r,br,Tr,52,8),br+8}m.prototype.writeDoubleLE=function(_r,br,Tr){return dn(this,_r,br,!0,Tr)},m.prototype.writeDoubleBE=function(_r,br,Tr){return dn(this,_r,br,!1,Tr)},m.prototype.copy=function(_r,br,Tr,Lr){if(!m.isBuffer(_r))throw new TypeError("argument should be a Buffer");if(Tr||(Tr=0),!Lr&&Lr!==0&&(Lr=this.length),br>=_r.length&&(br=_r.length),br||(br=0),Lr>0&&Lr<Tr&&(Lr=Tr),Lr===Tr||_r.length===0||this.length===0)return 0;if(br<0)throw new RangeError("targetStart out of bounds");if(Tr<0||Tr>=this.length)throw new RangeError("Index out of range");if(Lr<0)throw new RangeError("sourceEnd out of bounds");Lr>this.length&&(Lr=this.length),_r.length-br<Lr-Tr&&(Lr=_r.length-br+Tr);const zr=Lr-Tr;return this===_r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(br,Tr,Lr):Uint8Array.prototype.set.call(_r,this.subarray(Tr,Lr),br),zr},m.prototype.fill=function(_r,br,Tr,Lr){if(typeof _r=="string"){if(typeof br=="string"?(Lr=br,br=0,Tr=this.length):typeof Tr=="string"&&(Lr=Tr,Tr=this.length),Lr!==void 0&&typeof Lr!="string")throw new TypeError("encoding must be a string");if(typeof Lr=="string"&&!m.isEncoding(Lr))throw new TypeError("Unknown encoding: "+Lr);if(_r.length===1){const Xr=_r.charCodeAt(0);(Lr==="utf8"&&Xr<128||Lr==="latin1")&&(_r=Xr)}}else typeof _r=="number"?_r=_r&255:typeof _r=="boolean"&&(_r=Number(_r));if(br<0||this.length<br||this.length<Tr)throw new RangeError("Out of range index");if(Tr<=br)return this;br=br>>>0,Tr=Tr===void 0?this.length:Tr>>>0,_r||(_r=0);let zr;if(typeof _r=="number")for(zr=br;zr<Tr;++zr)this[zr]=_r;else{const Xr=m.isBuffer(_r)?_r:m.from(_r,Lr),Dn=Xr.length;if(Dn===0)throw new TypeError('The value "'+_r+'" is invalid for argument "value"');for(zr=0;zr<Tr-br;++zr)this[zr+br]=Xr[zr%Dn]}return this};const pn={};function vn(Er,_r,br){pn[Er]=class extends br{constructor(){super(),Object.defineProperty(this,"message",{value:_r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Er}]`,this.stack,delete this.name}get code(){return Er}set code(Lr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Lr,writable:!0})}toString(){return`${this.name} [${Er}]: ${this.message}`}}}vn("ERR_BUFFER_OUT_OF_BOUNDS",function(Er){return Er?`${Er} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vn("ERR_INVALID_ARG_TYPE",function(Er,_r){return`The "${Er}" argument must be of type number. Received type ${typeof _r}`},TypeError),vn("ERR_OUT_OF_RANGE",function(Er,_r,br){let Tr=`The value of "${Er}" is out of range.`,Lr=br;return Number.isInteger(br)&&Math.abs(br)>2**32?Lr=$n(String(br)):typeof br=="bigint"&&(Lr=String(br),(br>BigInt(2)**BigInt(32)||br<-(BigInt(2)**BigInt(32)))&&(Lr=$n(Lr)),Lr+="n"),Tr+=` It must be ${_r}. Received ${Lr}`,Tr},RangeError);function $n(Er){let _r="",br=Er.length;const Tr=Er[0]==="-"?1:0;for(;br>=Tr+4;br-=3)_r=`_${Er.slice(br-3,br)}${_r}`;return`${Er.slice(0,br)}${_r}`}function Pn(Er,_r,br){sn(_r,"offset"),(Er[_r]===void 0||Er[_r+br]===void 0)&&ln(_r,Er.length-(br+1))}function kn(Er,_r,br,Tr,Lr,zr){if(Er>br||Er<_r){const Xr=typeof _r=="bigint"?"n":"";let Dn;throw zr>3?_r===0||_r===BigInt(0)?Dn=`>= 0${Xr} and < 2${Xr} ** ${(zr+1)*8}${Xr}`:Dn=`>= -(2${Xr} ** ${(zr+1)*8-1}${Xr}) and < 2 ** ${(zr+1)*8-1}${Xr}`:Dn=`>= ${_r}${Xr} and <= ${br}${Xr}`,new pn.ERR_OUT_OF_RANGE("value",Dn,Er)}Pn(Tr,Lr,zr)}function sn(Er,_r){if(typeof Er!="number")throw new pn.ERR_INVALID_ARG_TYPE(_r,"number",Er)}function ln(Er,_r,br){throw Math.floor(Er)!==Er?(sn(Er,br),new pn.ERR_OUT_OF_RANGE(br||"offset","an integer",Er)):_r<0?new pn.ERR_BUFFER_OUT_OF_BOUNDS:new pn.ERR_OUT_OF_RANGE(br||"offset",`>= ${br?1:0} and <= ${_r}`,Er)}const Sn=/[^+/0-9A-Za-z-_]/g;function Bn(Er){if(Er=Er.split("=")[0],Er=Er.trim().replace(Sn,""),Er.length<2)return"";for(;Er.length%4!==0;)Er=Er+"=";return Er}function In(Er,_r){_r=_r||1/0;let br;const Tr=Er.length;let Lr=null;const zr=[];for(let Xr=0;Xr<Tr;++Xr){if(br=Er.charCodeAt(Xr),br>55295&&br<57344){if(!Lr){if(br>56319){(_r-=3)>-1&&zr.push(239,191,189);continue}else if(Xr+1===Tr){(_r-=3)>-1&&zr.push(239,191,189);continue}Lr=br;continue}if(br<56320){(_r-=3)>-1&&zr.push(239,191,189),Lr=br;continue}br=(Lr-55296<<10|br-56320)+65536}else Lr&&(_r-=3)>-1&&zr.push(239,191,189);if(Lr=null,br<128){if((_r-=1)<0)break;zr.push(br)}else if(br<2048){if((_r-=2)<0)break;zr.push(br>>6|192,br&63|128)}else if(br<65536){if((_r-=3)<0)break;zr.push(br>>12|224,br>>6&63|128,br&63|128)}else if(br<1114112){if((_r-=4)<0)break;zr.push(br>>18|240,br>>12&63|128,br>>6&63|128,br&63|128)}else throw new Error("Invalid code point")}return zr}function Ln(Er){const _r=[];for(let br=0;br<Er.length;++br)_r.push(Er.charCodeAt(br)&255);return _r}function An(Er,_r){let br,Tr,Lr;const zr=[];for(let Xr=0;Xr<Er.length&&!((_r-=2)<0);++Xr)br=Er.charCodeAt(Xr),Tr=br>>8,Lr=br%256,zr.push(Lr),zr.push(Tr);return zr}function Cn(Er){return r.toByteArray(Bn(Er))}function Mn(Er,_r,br,Tr){let Lr;for(Lr=0;Lr<Tr&&!(Lr+br>=_r.length||Lr>=Er.length);++Lr)_r[Lr+br]=Er[Lr];return Lr}function cn(Er,_r){return Er instanceof _r||Er!=null&&Er.constructor!=null&&Er.constructor.name!=null&&Er.constructor.name===_r.name}function yn(Er){return Er!==Er}const xn=function(){const Er="0123456789abcdef",_r=new Array(256);for(let br=0;br<16;++br){const Tr=br*16;for(let Lr=0;Lr<16;++Lr)_r[Tr+Lr]=Er[br]+Er[Lr]}return _r}();function Rn(Er){return typeof BigInt>"u"?Nn:Er}function Nn(){throw new Error("BigInt not supported")}})(buffer);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},inherits;typeof Object.create=="function"?inherits=function(r,c){r.super_=c,r.prototype=Object.create(c.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(r,c){r.super_=c;var u=function(){};u.prototype=c.prototype,r.prototype=new u,r.prototype.constructor=r};var inherits$1=inherits;function inspect$1(a,r){var c={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(c.depth=arguments[2]),arguments.length>=4&&(c.colors=arguments[3]),isBoolean(r)?c.showHidden=r:r&&_extend(c,r),isUndefined(c.showHidden)&&(c.showHidden=!1),isUndefined(c.depth)&&(c.depth=2),isUndefined(c.colors)&&(c.colors=!1),isUndefined(c.customInspect)&&(c.customInspect=!0),c.colors&&(c.stylize=stylizeWithColor),formatValue(c,a,c.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(a,r){var c=inspect$1.styles[r];return c?"\x1B["+inspect$1.colors[c][0]+"m"+a+"\x1B["+inspect$1.colors[c][1]+"m":a}function stylizeNoColor(a,r){return a}function arrayToHash(a){var r={};return a.forEach(function(c,u){r[c]=!0}),r}function formatValue(a,r,c){if(a.customInspect&&r&&isFunction$1(r.inspect)&&r.inspect!==inspect$1&&!(r.constructor&&r.constructor.prototype===r)){var u=r.inspect(c,a);return isString(u)||(u=formatValue(a,u,c)),u}var l=formatPrimitive(a,r);if(l)return l;var d=Object.keys(r),y=arrayToHash(d);if(a.showHidden&&(d=Object.getOwnPropertyNames(r)),isError(r)&&(d.indexOf("message")>=0||d.indexOf("description")>=0))return formatError(r);if(d.length===0){if(isFunction$1(r)){var m=r.name?": "+r.name:"";return a.stylize("[Function"+m+"]","special")}if(isRegExp(r))return a.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return a.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var wr="",Sr=!1,Ar=["{","}"];if(isArray(r)&&(Sr=!0,Ar=["[","]"]),isFunction$1(r)){var Ir=r.name?": "+r.name:"";wr=" [Function"+Ir+"]"}if(isRegExp(r)&&(wr=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(wr=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(wr=" "+formatError(r)),d.length===0&&(!Sr||r.length==0))return Ar[0]+wr+Ar[1];if(c<0)return isRegExp(r)?a.stylize(RegExp.prototype.toString.call(r),"regexp"):a.stylize("[Object]","special");a.seen.push(r);var $r;return Sr?$r=formatArray(a,r,c,y,d):$r=d.map(function(kr){return formatProperty(a,r,c,y,kr,Sr)}),a.seen.pop(),reduceToSingleString($r,wr,Ar)}function formatPrimitive(a,r){if(isUndefined(r))return a.stylize("undefined","undefined");if(isString(r)){var c="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}if(isNumber(r))return a.stylize(""+r,"number");if(isBoolean(r))return a.stylize(""+r,"boolean");if(isNull(r))return a.stylize("null","null")}function formatError(a){return"["+Error.prototype.toString.call(a)+"]"}function formatArray(a,r,c,u,l){for(var d=[],y=0,m=r.length;y<m;++y)hasOwnProperty(r,String(y))?d.push(formatProperty(a,r,c,u,String(y),!0)):d.push("");return l.forEach(function(wr){wr.match(/^\d+$/)||d.push(formatProperty(a,r,c,u,wr,!0))}),d}function formatProperty(a,r,c,u,l,d){var y,m,wr;if(wr=Object.getOwnPropertyDescriptor(r,l)||{value:r[l]},wr.get?wr.set?m=a.stylize("[Getter/Setter]","special"):m=a.stylize("[Getter]","special"):wr.set&&(m=a.stylize("[Setter]","special")),hasOwnProperty(u,l)||(y="["+l+"]"),m||(a.seen.indexOf(wr.value)<0?(isNull(c)?m=formatValue(a,wr.value,null):m=formatValue(a,wr.value,c-1),m.indexOf(`
`)>-1&&(d?m=m.split(`
`).map(function(Sr){return"  "+Sr}).join(`
`).substr(2):m=`
`+m.split(`
`).map(function(Sr){return"   "+Sr}).join(`
`))):m=a.stylize("[Circular]","special")),isUndefined(y)){if(d&&l.match(/^\d+$/))return m;y=JSON.stringify(""+l),y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(y=y.substr(1,y.length-2),y=a.stylize(y,"name")):(y=y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),y=a.stylize(y,"string"))}return y+": "+m}function reduceToSingleString(a,r,c){var u=a.reduce(function(l,d){return d.indexOf(`
`)>=0,l+d.replace(/\u001b\[\d\d?m/g,"").length+1},0);return u>60?c[0]+(r===""?"":r+`
 `)+" "+a.join(`,
  `)+" "+c[1]:c[0]+r+" "+a.join(", ")+" "+c[1]}function isArray(a){return Array.isArray(a)}function isBoolean(a){return typeof a=="boolean"}function isNull(a){return a===null}function isNumber(a){return typeof a=="number"}function isString(a){return typeof a=="string"}function isUndefined(a){return a===void 0}function isRegExp(a){return isObject$1(a)&&objectToString(a)==="[object RegExp]"}function isObject$1(a){return typeof a=="object"&&a!==null}function isDate(a){return isObject$1(a)&&objectToString(a)==="[object Date]"}function isError(a){return isObject$1(a)&&(objectToString(a)==="[object Error]"||a instanceof Error)}function isFunction$1(a){return typeof a=="function"}function isPrimitive(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||typeof a>"u"}function objectToString(a){return Object.prototype.toString.call(a)}function _extend(a,r){if(!r||!isObject$1(r))return a;for(var c=Object.keys(r),u=c.length;u--;)a[c[u]]=r[c[u]];return a}function hasOwnProperty(a,r){return Object.prototype.hasOwnProperty.call(a,r)}function compare(a,r){if(a===r)return 0;for(var c=a.length,u=r.length,l=0,d=Math.min(c,u);l<d;++l)if(a[l]!==r[l]){c=a[l],u=r[l];break}return c<u?-1:u<c?1:0}var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(a){var r=[];for(var c in a)hasOwn.call(a,c)&&r.push(c);return r},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return typeof _functionsHaveNames<"u"?_functionsHaveNames:_functionsHaveNames=function(){return function(){}.name==="foo"}()}function pToString(a){return Object.prototype.toString.call(a)}function isView(a){return buffer.isBuffer(a)||typeof global$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a?!!(a instanceof DataView||a.buffer&&a.buffer instanceof ArrayBuffer):!1}function assert(a,r){a||fail$1(a,!0,r,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(a){if(!!isFunction$1(a)){if(functionsHaveNames())return a.name;var r=a.toString(),c=r.match(regex);return c&&c[1]}}assert.AssertionError=AssertionError;function AssertionError(a){this.name="AssertionError",this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,a.message?(this.message=a.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var r=a.stackStartFunction||fail$1;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var c=new Error;if(c.stack){var u=c.stack,l=getName(r),d=u.indexOf(`
`+l);if(d>=0){var y=u.indexOf(`
`,d+1);u=u.substring(y+1)}this.stack=u}}}inherits$1(AssertionError,Error);function truncate(a,r){return typeof a=="string"?a.length<r?a:a.slice(0,r):a}function inspect(a){if(functionsHaveNames()||!isFunction$1(a))return inspect$1(a);var r=getName(a),c=r?": "+r:"";return"[Function"+c+"]"}function getMessage(a){return truncate(inspect(a.actual),128)+" "+a.operator+" "+truncate(inspect(a.expected),128)}function fail$1(a,r,c,u,l){throw new AssertionError({message:c,actual:a,expected:r,operator:u,stackStartFunction:l})}assert.fail=fail$1;function ok(a,r){a||fail$1(a,!0,r,"==",ok)}assert.ok=ok;assert.equal=equal;function equal(a,r,c){a!=r&&fail$1(a,r,c,"==",equal)}assert.notEqual=notEqual;function notEqual(a,r,c){a==r&&fail$1(a,r,c,"!=",notEqual)}assert.deepEqual=deepEqual$1;function deepEqual$1(a,r,c){_deepEqual(a,r,!1)||fail$1(a,r,c,"deepEqual",deepEqual$1)}assert.deepStrictEqual=deepStrictEqual;function deepStrictEqual(a,r,c){_deepEqual(a,r,!0)||fail$1(a,r,c,"deepStrictEqual",deepStrictEqual)}function _deepEqual(a,r,c,u){if(a===r)return!0;if(buffer.isBuffer(a)&&buffer.isBuffer(r))return compare(a,r)===0;if(isDate(a)&&isDate(r))return a.getTime()===r.getTime();if(isRegExp(a)&&isRegExp(r))return a.source===r.source&&a.global===r.global&&a.multiline===r.multiline&&a.lastIndex===r.lastIndex&&a.ignoreCase===r.ignoreCase;if((a===null||typeof a!="object")&&(r===null||typeof r!="object"))return c?a===r:a==r;if(isView(a)&&isView(r)&&pToString(a)===pToString(r)&&!(a instanceof Float32Array||a instanceof Float64Array))return compare(new Uint8Array(a.buffer),new Uint8Array(r.buffer))===0;if(buffer.isBuffer(a)!==buffer.isBuffer(r))return!1;u=u||{actual:[],expected:[]};var l=u.actual.indexOf(a);return l!==-1&&l===u.expected.indexOf(r)?!0:(u.actual.push(a),u.expected.push(r),objEquiv(a,r,c,u))}function isArguments(a){return Object.prototype.toString.call(a)=="[object Arguments]"}function objEquiv(a,r,c,u){if(a==null||r===null||r===void 0)return!1;if(isPrimitive(a)||isPrimitive(r))return a===r;if(c&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(r))return!1;var l=isArguments(a),d=isArguments(r);if(l&&!d||!l&&d)return!1;if(l)return a=pSlice.call(a),r=pSlice.call(r),_deepEqual(a,r,c);var y=objectKeys(a),m=objectKeys(r),wr,Sr;if(y.length!==m.length)return!1;for(y.sort(),m.sort(),Sr=y.length-1;Sr>=0;Sr--)if(y[Sr]!==m[Sr])return!1;for(Sr=y.length-1;Sr>=0;Sr--)if(wr=y[Sr],!_deepEqual(a[wr],r[wr],c,u))return!1;return!0}assert.notDeepEqual=notDeepEqual;function notDeepEqual(a,r,c){_deepEqual(a,r,!1)&&fail$1(a,r,c,"notDeepEqual",notDeepEqual)}assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(a,r,c){_deepEqual(a,r,!0)&&fail$1(a,r,c,"notDeepStrictEqual",notDeepStrictEqual)}assert.strictEqual=strictEqual;function strictEqual(a,r,c){a!==r&&fail$1(a,r,c,"===",strictEqual)}assert.notStrictEqual=notStrictEqual;function notStrictEqual(a,r,c){a===r&&fail$1(a,r,c,"!==",notStrictEqual)}function expectedException(a,r){if(!a||!r)return!1;if(Object.prototype.toString.call(r)=="[object RegExp]")return r.test(a);try{if(a instanceof r)return!0}catch{}return Error.isPrototypeOf(r)?!1:r.call({},a)===!0}function _tryBlock(a){var r;try{a()}catch(c){r=c}return r}function _throws(a,r,c,u){var l;if(typeof r!="function")throw new TypeError('"block" argument must be a function');typeof c=="string"&&(u=c,c=null),l=_tryBlock(r),u=(c&&c.name?" ("+c.name+").":".")+(u?" "+u:"."),a&&!l&&fail$1(l,c,"Missing expected exception"+u);var d=typeof u=="string",y=!a&&isError(l),m=!a&&l&&!c;if((y&&d&&expectedException(l,c)||m)&&fail$1(l,c,"Got unwanted exception"+u),a&&l&&c&&!expectedException(l,c)||!a&&l)throw l}assert.throws=throws;function throws(a,r,c){_throws(!0,a,r,c)}assert.doesNotThrow=doesNotThrow;function doesNotThrow(a,r,c){_throws(!1,a,r,c)}assert.ifError=ifError;function ifError(a){if(a)throw a}class Layout{constructor(r,c){if(!Number.isInteger(r))throw new TypeError("span must be an integer");this.span=r,this.property=c}makeDestinationObject(){return{}}decode(r,c){throw new Error("Layout is abstract")}encode(r,c,u){throw new Error("Layout is abstract")}getSpan(r,c){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(r){const c=Object.create(this.constructor.prototype);return Object.assign(c,this),c.property=r,c}fromArray(r){}}function nameWithProperty(a,r){return r.property?a+"["+r.property+"]":a}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(r,c){if(super(r,c),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,c){return c===void 0&&(c=0),r.readUIntLE(c,this.span)}encode(r,c,u){return u===void 0&&(u=0),c.writeUIntLE(r,u,this.span),this.span}}class Structure extends Layout{constructor(r,c,u){if(!(Array.isArray(r)&&r.reduce((d,y)=>d&&y instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof c=="boolean"&&u===void 0&&(u=c,c=void 0);for(const d of r)if(0>d.span&&d.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let l=-1;try{l=r.reduce((d,y)=>d+y.getSpan(),0)}catch{}super(l,c),this.fields=r,this.decodePrefixes=!!u}getSpan(r,c){if(0<=this.span)return this.span;c===void 0&&(c=0);let u=0;try{u=this.fields.reduce((l,d)=>{const y=d.getSpan(r,c);return c+=y,l+y},0)}catch{throw new RangeError("indeterminate span")}return u}decode(r,c){c===void 0&&(c=0);const u=this.makeDestinationObject();for(const l of this.fields)if(l.property!==void 0&&(u[l.property]=l.decode(r,c)),c+=l.getSpan(r,c),this.decodePrefixes&&r.length===c)break;return u}encode(r,c,u){u===void 0&&(u=0);const l=u;let d=0,y=0;for(const m of this.fields){let wr=m.span;if(y=0<wr?wr:0,m.property!==void 0){const Sr=r[m.property];Sr!==void 0&&(y=m.encode(Sr,c,u),0>wr&&(wr=m.getSpan(c,u)))}d=u,u+=wr}return d+y-l}fromArray(r){const c=this.makeDestinationObject();for(const u of this.fields)u.property!==void 0&&0<r.length&&(c[u.property]=r.shift());return c}layoutFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const c of this.fields)if(c.property===r)return c}offsetOf(r){if(typeof r!="string")throw new TypeError("property must be string");let c=0;for(const u of this.fields){if(u.property===r)return c;0>u.span?c=-1:0<=c&&(c+=u.span)}}}class Blob$1 extends Layout{constructor(r,c){if(!(r instanceof ExternalLayout&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let u=-1;r instanceof ExternalLayout||(u=r),super(u,c),this.length=r}getSpan(r,c){let u=this.span;return 0>u&&(u=this.length.decode(r,c)),u}decode(r,c){c===void 0&&(c=0);let u=this.span;return 0>u&&(u=this.length.decode(r,c)),r.slice(c,c+u)}encode(r,c,u){let l=this.length;if(this.length instanceof ExternalLayout&&(l=r.length),!(buffer.Buffer.isBuffer(r)&&l===r.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+l+") Buffer as src");if(u+l>c.length)throw new RangeError("encoding overruns Buffer");return c.write(r.toString("hex"),u,l,"hex"),this.length instanceof ExternalLayout&&this.length.encode(l,c,u),l}}var u8=a=>new UInt(1,a),u32=a=>new UInt(4,a),struct=(a,r,c)=>new Structure(a,r,c),blob=(a,r)=>new Blob$1(a,r);const publicKey=(a="publicKey")=>blob(32,a),uint64=(a="uint64")=>blob(8,a);function sendAndConfirmTransaction$1(a,r,c,...u){return sendAndConfirmTransaction$2(r,c,u,{skipPreflight:!1})}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(a){return buffer.Buffer.from(a.toBuffer())}class u64 extends BN{toBuffer(){const r=super.toArray().reverse(),c=buffer.Buffer.from(r);if(c.length===8)return c;assert(c.length<8,"u64 too large");const u=buffer.Buffer.alloc(8);return c.copy(u),u}static fromBuffer(r){return assert(r.length===8,`Invalid buffer length: ${r.length}`),new u64([...r].reverse().map(c=>`00${c.toString(16)}`.slice(-2)).join(""),16)}}function isAccount(a){return"publicKey"in a}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(r,c,u,l){_defineProperty(this,"connection",void 0),_defineProperty(this,"publicKey",void 0),_defineProperty(this,"programId",void 0),_defineProperty(this,"associatedProgramId",void 0),_defineProperty(this,"payer",void 0),Object.assign(this,{connection:r,publicKey:c,programId:u,payer:l,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(r){return await r.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(r){return await r.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(r){return await r.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(r,c,u,l,d,y){const m=Keypair.generate(),wr=new Token(r,m.publicKey,y,c),Sr=await Token.getMinBalanceRentForExemptMint(r),Ar=new Transaction;return Ar.add(SystemProgram.createAccount({fromPubkey:c.publicKey,newAccountPubkey:m.publicKey,lamports:Sr,space:MintLayout.span,programId:y})),Ar.add(Token.createInitMintInstruction(y,m.publicKey,d,u,l)),await sendAndConfirmTransaction$1("createAccount and InitializeMint",r,Ar,c,m),wr}async createAccount(r){const c=await Token.getMinBalanceRentForExemptAccount(this.connection),u=Keypair.generate(),l=new Transaction;l.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:u.publicKey,lamports:c,space:AccountLayout.span,programId:this.programId}));const d=this.publicKey;return l.add(Token.createInitAccountInstruction(this.programId,d,u.publicKey,r)),await sendAndConfirmTransaction$1("createAccount and InitializeAccount",this.connection,l,this.payer,u),u.publicKey}async createAssociatedTokenAccount(r){const c=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,r);return this.createAssociatedTokenAccountInternal(r,c)}async createAssociatedTokenAccountInternal(r,c){return await sendAndConfirmTransaction$1("CreateAssociatedTokenAccount",this.connection,new Transaction().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,c,r,this.payer.publicKey)),this.payer),c}async getOrCreateAssociatedAccountInfo(r){const c=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,r);try{return await this.getAccountInfo(c)}catch(u){if(u.message===FAILED_TO_FIND_ACCOUNT||u.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(r,c)}catch{}return await this.getAccountInfo(c)}else throw u}}static async createWrappedNativeAccount(r,c,u,l,d){const y=await Token.getMinBalanceRentForExemptAccount(r),m=Keypair.generate(),wr=new Transaction;return wr.add(SystemProgram.createAccount({fromPubkey:l.publicKey,newAccountPubkey:m.publicKey,lamports:y,space:AccountLayout.span,programId:c})),wr.add(SystemProgram.transfer({fromPubkey:l.publicKey,toPubkey:m.publicKey,lamports:d})),wr.add(Token.createInitAccountInstruction(c,NATIVE_MINT,m.publicKey,u)),await sendAndConfirmTransaction$1("createAccount, transfer, and initializeAccount",r,wr,l,m),m.publicKey}async createMultisig(r,c){const u=Keypair.generate(),l=await Token.getMinBalanceRentForExemptMultisig(this.connection),d=new Transaction;d.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:u.publicKey,lamports:l,space:MultisigLayout.span,programId:this.programId}));let y=[{pubkey:u.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];c.forEach(Sr=>y.push({pubkey:Sr,isSigner:!1,isWritable:!1}));const m=struct([u8("instruction"),u8("m")]),wr=buffer.Buffer.alloc(m.span);return m.encode({instruction:2,m:r},wr),d.add({keys:y,programId:this.programId,data:wr}),await sendAndConfirmTransaction$1("createAccount and InitializeMultisig",this.connection,d,this.payer,u),u.publicKey}async getMintInfo(){const r=await this.connection.getAccountInfo(this.publicKey);if(r===null)throw new Error("Failed to find mint account");if(!r.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(r.owner)}`);if(r.data.length!=MintLayout.span)throw new Error("Invalid mint size");const c=buffer.Buffer.from(r.data),u=MintLayout.decode(c);return u.mintAuthorityOption===0?u.mintAuthority=null:u.mintAuthority=new PublicKey(u.mintAuthority),u.supply=u64.fromBuffer(u.supply),u.isInitialized=u.isInitialized!=0,u.freezeAuthorityOption===0?u.freezeAuthority=null:u.freezeAuthority=new PublicKey(u.freezeAuthority),u}async getAccountInfo(r,c){const u=await this.connection.getAccountInfo(r,c);if(u===null)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!u.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(u.data.length!=AccountLayout.span)throw new Error("Invalid account size");const l=buffer.Buffer.from(u.data),d=AccountLayout.decode(l);if(d.address=r,d.mint=new PublicKey(d.mint),d.owner=new PublicKey(d.owner),d.amount=u64.fromBuffer(d.amount),d.delegateOption===0?(d.delegate=null,d.delegatedAmount=new u64):(d.delegate=new PublicKey(d.delegate),d.delegatedAmount=u64.fromBuffer(d.delegatedAmount)),d.isInitialized=d.state!==0,d.isFrozen=d.state===2,d.isNativeOption===1?(d.rentExemptReserve=u64.fromBuffer(d.isNative),d.isNative=!0):(d.rentExemptReserve=null,d.isNative=!1),d.closeAuthorityOption===0?d.closeAuthority=null:d.closeAuthority=new PublicKey(d.closeAuthority),!d.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(d.mint)} !== ${JSON.stringify(this.publicKey)}`);return d}async getMultisigInfo(r){const c=await this.connection.getAccountInfo(r);if(c===null)throw new Error("Failed to find multisig");if(!c.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(c.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const u=buffer.Buffer.from(c.data),l=MultisigLayout.decode(u);return l.signer1=new PublicKey(l.signer1),l.signer2=new PublicKey(l.signer2),l.signer3=new PublicKey(l.signer3),l.signer4=new PublicKey(l.signer4),l.signer5=new PublicKey(l.signer5),l.signer6=new PublicKey(l.signer6),l.signer7=new PublicKey(l.signer7),l.signer8=new PublicKey(l.signer8),l.signer9=new PublicKey(l.signer9),l.signer10=new PublicKey(l.signer10),l.signer11=new PublicKey(l.signer11),l}async transfer(r,c,u,l,d){let y,m;return isAccount(u)?(y=u.publicKey,m=[u]):(y=u,m=l),await sendAndConfirmTransaction$1("Transfer",this.connection,new Transaction().add(Token.createTransferInstruction(this.programId,r,c,y,l,d)),this.payer,...m)}async approve(r,c,u,l,d){let y,m;isAccount(u)?(y=u.publicKey,m=[u]):(y=u,m=l),await sendAndConfirmTransaction$1("Approve",this.connection,new Transaction().add(Token.createApproveInstruction(this.programId,r,c,y,l,d)),this.payer,...m)}async revoke(r,c,u){let l,d;isAccount(c)?(l=c.publicKey,d=[c]):(l=c,d=u),await sendAndConfirmTransaction$1("Revoke",this.connection,new Transaction().add(Token.createRevokeInstruction(this.programId,r,l,u)),this.payer,...d)}async setAuthority(r,c,u,l,d){let y,m;isAccount(l)?(y=l.publicKey,m=[l]):(y=l,m=d),await sendAndConfirmTransaction$1("SetAuthority",this.connection,new Transaction().add(Token.createSetAuthorityInstruction(this.programId,r,c,u,y,d)),this.payer,...m)}async mintTo(r,c,u,l){let d,y;isAccount(c)?(d=c.publicKey,y=[c]):(d=c,y=u),await sendAndConfirmTransaction$1("MintTo",this.connection,new Transaction().add(Token.createMintToInstruction(this.programId,this.publicKey,r,d,u,l)),this.payer,...y)}async burn(r,c,u,l){let d,y;isAccount(c)?(d=c.publicKey,y=[c]):(d=c,y=u),await sendAndConfirmTransaction$1("Burn",this.connection,new Transaction().add(Token.createBurnInstruction(this.programId,this.publicKey,r,d,u,l)),this.payer,...y)}async closeAccount(r,c,u,l){let d,y;isAccount(u)?(d=u.publicKey,y=[u]):(d=u,y=l),await sendAndConfirmTransaction$1("CloseAccount",this.connection,new Transaction().add(Token.createCloseAccountInstruction(this.programId,r,c,d,l)),this.payer,...y)}async freezeAccount(r,c,u){let l,d;isAccount(c)?(l=c.publicKey,d=[c]):(l=c,d=u),await sendAndConfirmTransaction$1("FreezeAccount",this.connection,new Transaction().add(Token.createFreezeAccountInstruction(this.programId,r,this.publicKey,l,u)),this.payer,...d)}async thawAccount(r,c,u){let l,d;isAccount(c)?(l=c.publicKey,d=[c]):(l=c,d=u),await sendAndConfirmTransaction$1("ThawAccount",this.connection,new Transaction().add(Token.createThawAccountInstruction(this.programId,r,this.publicKey,l,u)),this.payer,...d)}async transferChecked(r,c,u,l,d,y){let m,wr;return isAccount(u)?(m=u.publicKey,wr=[u]):(m=u,wr=l),await sendAndConfirmTransaction$1("TransferChecked",this.connection,new Transaction().add(Token.createTransferCheckedInstruction(this.programId,r,this.publicKey,c,m,l,d,y)),this.payer,...wr)}async approveChecked(r,c,u,l,d,y){let m,wr;isAccount(u)?(m=u.publicKey,wr=[u]):(m=u,wr=l),await sendAndConfirmTransaction$1("ApproveChecked",this.connection,new Transaction().add(Token.createApproveCheckedInstruction(this.programId,r,this.publicKey,c,m,l,d,y)),this.payer,...wr)}async mintToChecked(r,c,u,l,d){let y,m;isAccount(c)?(y=c.publicKey,m=[c]):(y=c,m=u),await sendAndConfirmTransaction$1("MintToChecked",this.connection,new Transaction().add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,r,y,u,l,d)),this.payer,...m)}async burnChecked(r,c,u,l,d){let y,m;isAccount(c)?(y=c.publicKey,m=[c]):(y=c,m=u),await sendAndConfirmTransaction$1("BurnChecked",this.connection,new Transaction().add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,r,y,u,l,d)),this.payer,...m)}async syncNative(r){await sendAndConfirmTransaction$1("SyncNative",this.connection,new Transaction().add(Token.createSyncNativeInstruction(this.programId,r)),this.payer)}static createInitMintInstruction(r,c,u,l,d){let y=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const m=struct([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let wr=buffer.Buffer.alloc(1024);{const Sr=m.encode({instruction:0,decimals:u,mintAuthority:pubkeyToBuffer(l),option:d===null?0:1,freezeAuthority:pubkeyToBuffer(d||new PublicKey(0))},wr);wr=wr.slice(0,Sr)}return new TransactionInstruction({keys:y,programId:r,data:wr})}static createInitAccountInstruction(r,c,u,l){const d=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],y=struct([u8("instruction")]),m=buffer.Buffer.alloc(y.span);return y.encode({instruction:1},m),new TransactionInstruction({keys:d,programId:r,data:m})}static createTransferInstruction(r,c,u,l,d,y){const m=struct([u8("instruction"),uint64("amount")]),wr=buffer.Buffer.alloc(m.span);m.encode({instruction:3,amount:new u64(y).toBuffer()},wr);let Sr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}];return d.length===0?Sr.push({pubkey:l,isSigner:!0,isWritable:!1}):(Sr.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Ar=>Sr.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Sr,programId:r,data:wr})}static createApproveInstruction(r,c,u,l,d,y){const m=struct([u8("instruction"),uint64("amount")]),wr=buffer.Buffer.alloc(m.span);m.encode({instruction:4,amount:new u64(y).toBuffer()},wr);let Sr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1}];return d.length===0?Sr.push({pubkey:l,isSigner:!0,isWritable:!1}):(Sr.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Ar=>Sr.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Sr,programId:r,data:wr})}static createRevokeInstruction(r,c,u,l){const d=struct([u8("instruction")]),y=buffer.Buffer.alloc(d.span);d.encode({instruction:5},y);let m=[{pubkey:c,isSigner:!1,isWritable:!0}];return l.length===0?m.push({pubkey:u,isSigner:!0,isWritable:!1}):(m.push({pubkey:u,isSigner:!1,isWritable:!1}),l.forEach(wr=>m.push({pubkey:wr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:r,data:y})}static createSetAuthorityInstruction(r,c,u,l,d,y){const m=struct([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let wr=buffer.Buffer.alloc(1024);{const Ar=m.encode({instruction:6,authorityType:AuthorityTypeCodes[l],option:u===null?0:1,newAuthority:pubkeyToBuffer(u||new PublicKey(0))},wr);wr=wr.slice(0,Ar)}let Sr=[{pubkey:c,isSigner:!1,isWritable:!0}];return y.length===0?Sr.push({pubkey:d,isSigner:!0,isWritable:!1}):(Sr.push({pubkey:d,isSigner:!1,isWritable:!1}),y.forEach(Ar=>Sr.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Sr,programId:r,data:wr})}static createMintToInstruction(r,c,u,l,d,y){const m=struct([u8("instruction"),uint64("amount")]),wr=buffer.Buffer.alloc(m.span);m.encode({instruction:7,amount:new u64(y).toBuffer()},wr);let Sr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}];return d.length===0?Sr.push({pubkey:l,isSigner:!0,isWritable:!1}):(Sr.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Ar=>Sr.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Sr,programId:r,data:wr})}static createBurnInstruction(r,c,u,l,d,y){const m=struct([u8("instruction"),uint64("amount")]),wr=buffer.Buffer.alloc(m.span);m.encode({instruction:8,amount:new u64(y).toBuffer()},wr);let Sr=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0}];return d.length===0?Sr.push({pubkey:l,isSigner:!0,isWritable:!1}):(Sr.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Ar=>Sr.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Sr,programId:r,data:wr})}static createCloseAccountInstruction(r,c,u,l,d){const y=struct([u8("instruction")]),m=buffer.Buffer.alloc(y.span);y.encode({instruction:9},m);let wr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}];return d.length===0?wr.push({pubkey:l,isSigner:!0,isWritable:!1}):(wr.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Sr=>wr.push({pubkey:Sr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:wr,programId:r,data:m})}static createFreezeAccountInstruction(r,c,u,l,d){const y=struct([u8("instruction")]),m=buffer.Buffer.alloc(y.span);y.encode({instruction:10},m);let wr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1}];return d.length===0?wr.push({pubkey:l,isSigner:!0,isWritable:!1}):(wr.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Sr=>wr.push({pubkey:Sr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:wr,programId:r,data:m})}static createThawAccountInstruction(r,c,u,l,d){const y=struct([u8("instruction")]),m=buffer.Buffer.alloc(y.span);y.encode({instruction:11},m);let wr=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1}];return d.length===0?wr.push({pubkey:l,isSigner:!0,isWritable:!1}):(wr.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Sr=>wr.push({pubkey:Sr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:wr,programId:r,data:m})}static createTransferCheckedInstruction(r,c,u,l,d,y,m,wr){const Sr=struct([u8("instruction"),uint64("amount"),u8("decimals")]),Ar=buffer.Buffer.alloc(Sr.span);Sr.encode({instruction:12,amount:new u64(m).toBuffer(),decimals:wr},Ar);let Ir=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0}];return y.length===0?Ir.push({pubkey:d,isSigner:!0,isWritable:!1}):(Ir.push({pubkey:d,isSigner:!1,isWritable:!1}),y.forEach($r=>Ir.push({pubkey:$r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Ir,programId:r,data:Ar})}static createApproveCheckedInstruction(r,c,u,l,d,y,m,wr){const Sr=struct([u8("instruction"),uint64("amount"),u8("decimals")]),Ar=buffer.Buffer.alloc(Sr.span);Sr.encode({instruction:13,amount:new u64(m).toBuffer(),decimals:wr},Ar);let Ir=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1}];return y.length===0?Ir.push({pubkey:d,isSigner:!0,isWritable:!1}):(Ir.push({pubkey:d,isSigner:!1,isWritable:!1}),y.forEach($r=>Ir.push({pubkey:$r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Ir,programId:r,data:Ar})}static createMintToCheckedInstruction(r,c,u,l,d,y,m){const wr=struct([u8("instruction"),uint64("amount"),u8("decimals")]),Sr=buffer.Buffer.alloc(wr.span);wr.encode({instruction:14,amount:new u64(y).toBuffer(),decimals:m},Sr);let Ar=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}];return d.length===0?Ar.push({pubkey:l,isSigner:!0,isWritable:!1}):(Ar.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Ir=>Ar.push({pubkey:Ir.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Ar,programId:r,data:Sr})}static createBurnCheckedInstruction(r,c,u,l,d,y,m){const wr=struct([u8("instruction"),uint64("amount"),u8("decimals")]),Sr=buffer.Buffer.alloc(wr.span);wr.encode({instruction:15,amount:new u64(y).toBuffer(),decimals:m},Sr);let Ar=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0}];return d.length===0?Ar.push({pubkey:l,isSigner:!0,isWritable:!1}):(Ar.push({pubkey:l,isSigner:!1,isWritable:!1}),d.forEach(Ir=>Ar.push({pubkey:Ir.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Ar,programId:r,data:Sr})}static createSyncNativeInstruction(r,c){const u=struct([u8("instruction")]),l=buffer.Buffer.alloc(u.span);u.encode({instruction:17},l);let d=[{pubkey:c,isSigner:!1,isWritable:!0}];return new TransactionInstruction({keys:d,programId:r,data:l})}static async getAssociatedTokenAddress(r,c,u,l,d=!1){if(!d&&!PublicKey.isOnCurve(l.toBuffer()))throw new Error(`Owner cannot sign: ${l.toString()}`);return(await PublicKey.findProgramAddress([l.toBuffer(),c.toBuffer(),u.toBuffer()],r))[0]}static createAssociatedTokenAccountInstruction(r,c,u,l,d,y){const m=buffer.Buffer.alloc(0);let wr=[{pubkey:y,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:wr,programId:r,data:m})}}const index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID,AccountLayout,MintLayout,NATIVE_MINT,TOKEN_PROGRAM_ID,Token,u64},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_browser_esm);var hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers$1;hasRequiredHelpers=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(kr,Dr,Cr,Br){function Fr(qr){return qr instanceof Cr?qr:new Cr(function(Vr){Vr(qr)})}return new(Cr||(Cr=Promise))(function(qr,Vr){function Jr(Zr){try{Wr(Br.next(Zr))}catch(rn){Vr(rn)}}function Qr(Zr){try{Wr(Br.throw(Zr))}catch(rn){Vr(rn)}}function Wr(Zr){Zr.done?qr(Zr.value):Fr(Zr.value).then(Jr,Qr)}Wr((Br=Br.apply(kr,Dr||[])).next())})};Object.defineProperty(helpers$1,"__esModule",{value:!0}),helpers$1.getAccountInfo=helpers$1.getTokenAccount=helpers$1.getAssociatedTokenAddress=helpers$1.convertFactionStringToNum=helpers$1.longToByteArray=helpers$1.byteArrayToLong=helpers$1.stringToByteArray=helpers$1.byteArrayToString=void 0;const r=requireDist(),c=require$$0$1,u=require$$0$2,l=require$$1$1;function d(kr){return String.fromCharCode(...kr)}helpers$1.byteArrayToString=d;function y(kr,Dr){if(kr.length>Dr)return null;let Cr=[];for(let Br=0;Br<Dr;Br+=1){let Fr=32;Br<kr.length&&(Fr=kr.charCodeAt(Br)),Cr=Cr.concat([Fr])}return Cr}helpers$1.stringToByteArray=y;function m(kr){let Dr=0;for(let Cr=kr.length-1;Cr>=0;Cr-=1)Dr=Dr*256+kr[Cr];return Dr}helpers$1.byteArrayToLong=m;function wr(kr){const Dr=[0,0,0,0,0,0,0,0];for(let Cr=0;Cr<Dr.length;Cr+=1){const Br=kr&255;Dr[Cr]=Br,kr=(kr-Br)/256}return Dr}helpers$1.longToByteArray=wr;function Sr(kr){return a(this,void 0,void 0,function*(){switch(kr.toLowerCase()){case"mud":return r.FactionType.MUD;case"oni":return r.FactionType.ONI;case"ustur":return r.FactionType.Ustur;default:return r.FactionType.Unenlisted}})}helpers$1.convertFactionStringToNum=Sr;function Ar(kr,Dr){return a(this,void 0,void 0,function*(){const[Cr]=yield u.PublicKey.findProgramAddress([kr.toBuffer(),l.TOKEN_PROGRAM_ID.toBuffer(),Dr.toBuffer()],l.ASSOCIATED_TOKEN_PROGRAM_ID);return Cr})}helpers$1.getAssociatedTokenAddress=Ar;function Ir(kr,Dr,Cr,Br=Dr,Fr){return a(this,void 0,void 0,function*(){const{value:qr}=yield kr.getParsedTokenAccountsByOwner(Dr,{mint:Cr});let Vr=null;if(Fr===void 0){let Jr=null;for(const Qr of qr)if(Qr.account.data.parsed.type==="account"){const Wr=Qr.account.data.parsed,Zr=new c.BN(Wr.info.tokenAmount.amount);(Jr===null||Zr.gt(Jr))&&(Vr=Qr.pubkey,Jr=Zr)}}else{let Jr=null;for(const Qr of qr)if(Qr.account.data.parsed.type==="account"){const Wr=Qr.account.data.parsed,Zr=new c.BN(Wr.info.tokenAmount.amount);Zr.gt(new c.BN(Fr))&&(Jr===null||Zr.lt(Jr))&&(Vr=Qr.pubkey,Jr=Zr)}}if(Vr===null){const Jr=yield Ar(Dr,Cr),{value:Qr}=yield kr.getParsedAccountInfo(Jr,"confirmed");if(Qr===null||Qr.owner.equals(u.SystemProgram.programId))return{tokenAccount:Jr,createInstruction:l.Token.createAssociatedTokenAccountInstruction(l.ASSOCIATED_TOKEN_PROGRAM_ID,l.TOKEN_PROGRAM_ID,Cr,Jr,Dr,Br)};if("program"in Qr.data&&Qr.data.parsed.type==="account"&&new u.PublicKey(Qr.data.parsed.info.owner).equals(Dr))return{tokenAccount:Jr};{const Wr=c.web3.Keypair.generate();return{tokenAccount:Wr,createInstruction:l.Token.createInitAccountInstruction(l.TOKEN_PROGRAM_ID,Cr,Wr.publicKey,Dr)}}}else return{tokenAccount:Vr}})}helpers$1.getTokenAccount=Ir;function $r(kr,Dr){return a(this,void 0,void 0,function*(){const{value:Cr}=yield kr.getParsedAccountInfo(Dr);return Cr.data})}return helpers$1.getAccountInfo=$r,helpers$1}var wallet={},__awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(wallet,"__esModule",{value:!0});wallet.sendAndConfirmTransaction=void 0;const web3_js_1$3=require$$0$2;function sendAndConfirmTransaction(a,r,...c){return __awaiter$g(this,void 0,void 0,function*(){let u="";try{u=yield(0,web3_js_1$3.sendAndConfirmTransaction)(a,r,c,{skipPreflight:!0,commitment:"singleGossip",preflightCommitment:null})}catch(l){console.log(l)}return u})}wallet.sendAndConfirmTransaction=sendAndConfirmTransaction;var gmHelper$1={},marketplace={},instruction_builders={},BaseParams={};Object.defineProperty(BaseParams,"__esModule",{value:!0});var cancelOrder={},pda_getters$3={},order_getters={},getMarketplaceProgram$1={},gmIdl={};Object.defineProperty(gmIdl,"__esModule",{value:!0});gmIdl.baseIdl=void 0;gmIdl.baseIdl={version:"0.1.0",name:"marketplace",instructions:[{name:"addRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"deleteRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"}]},{name:"deregisterCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMarketplace",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateCurrencyVault",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCurrencyRoyalty",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"processInitializeBuy",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processInitializeSell",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!1,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"receive_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processExchange",accounts:[{name:"orderTaker",isMut:!0,isSigner:!0},{name:"orderTakerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderTakerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"assetMint",isMut:!1,isSigner:!1},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",account:"OrderAccount",path:"order_account.order_initializer_pubkey"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"saVault",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"atlasStaking",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1},{name:"stakingAccount",isMut:!1,isSigner:!1}],args:[{name:"purchaseQuantity",type:"u64"},{name:"expectedPrice",type:"u64"},{name:"seller",type:"publicKey"}]},{name:"processCancel",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeOpenOrdersCounter",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!1,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"MarketVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"bump",type:"u8"}]}},{name:"OpenOrdersCounter",type:{kind:"struct",fields:[{name:"openOrderCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"OrderAccount",type:{kind:"struct",fields:[{name:"orderInitializerPubkey",type:"publicKey"},{name:"currencyMint",type:"publicKey"},{name:"assetMint",type:"publicKey"},{name:"initializerCurrencyTokenAccount",type:"publicKey"},{name:"initializerAssetTokenAccount",type:"publicKey"},{name:"orderSide",type:{defined:"OrderSide"}},{name:"price",type:"u64"},{name:"orderOriginationQty",type:"u64"},{name:"orderRemainingQty",type:"u64"},{name:"createdAtTimestamp",type:"i64"}]}},{name:"RegisteredCurrency",type:{kind:"struct",fields:[{name:"tokenMint",type:"publicKey"},{name:"saCurrencyVault",type:"publicKey"},{name:"royalty",type:"u64"},{name:"bump",type:"u8"},{name:"royaltyTiers",type:{vec:{defined:"RoyaltyTier"}}}]}}],types:[{name:"RoyaltyTier",type:{kind:"struct",fields:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]}},{name:"OrderSide",type:{kind:"enum",variants:[{name:"Buy"},{name:"Sell"}]}},{name:"TokenType",type:{kind:"enum",variants:[{name:"Asset"},{name:"Currency"}]}}],errors:[{code:6e3,name:"InvalidDestinationAccount",msg:"Invalid Destination Token Account"},{code:6001,name:"InvalidInstruction",msg:"Invalid instruction."},{code:6002,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6003,name:"InvalidOfferAccountOwner",msg:"Invalid Offer Account Owner"},{code:6004,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"InvalidUpdateAuthorityAccount",msg:"Invalid Update Authority account"},{code:6007,name:"InvalidOrderVaultAuthorityAccount",msg:"Invalid Order Vault Authority account"},{code:6008,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6009,name:"InsufficientBalance",msg:"Insufficient Balance"},{code:6010,name:"InvalidOrderDuration",msg:"Invalid Order Duration"},{code:6011,name:"InvalidOriginationQty",msg:"Origination quantity must be greater than 0"},{code:6012,name:"InsufficientOrderQty",msg:"Insufficient Order Quantity Remaining"},{code:6013,name:"InvalidRoyalty",msg:"Invalid Royalty Value"},{code:6014,name:"InvalidCounter",msg:"Invalid Open Order Counter"},{code:6015,name:"MintDecimalError",msg:"Mint must be zero decimal"},{code:6016,name:"InvalidOrderAccountError",msg:"Order Account does not match provided account"},{code:6017,name:"InvalidRoyaltyTier",msg:"No royalty tier exists with provided stake amount"},{code:6018,name:"RoyaltyTierLength",msg:"Royalty Tier vector cannot hold any additional tiers"},{code:6019,name:"InvalidOrderPrice",msg:"Order price did not match expected price"},{code:6020,name:"DuplicateRoyaltyTier",msg:"Royalty tier already exists"},{code:6021,name:"InvalidSeller",msg:"Order seller did not match expected seller"}],metadata:{}};var gmLogsIdl$1={};Object.defineProperty(gmLogsIdl$1,"__esModule",{value:!0});gmLogsIdl$1.baseIdl=void 0;gmLogsIdl$1.baseIdl={version:"0.1.0",name:"gm_logs",instructions:[],events:[{name:"RegisterCurrencyMemo",fields:[{name:"updateAuthorityAccount",type:"publicKey",index:!1},{name:"registeredCurrency",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"saCurrencyVault",type:"publicKey",index:!1},{name:"royalty",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"InitializeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"ExchangeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"CancelOrderMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]}],metadata:{}};var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,r,c,u){u===void 0&&(u=c);var l=Object.getOwnPropertyDescriptor(r,c);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[c]}}),Object.defineProperty(a,u,l)}:function(a,r,c,u){u===void 0&&(u=c),a[u]=r[c]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}:function(a,r){a.default=r}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var c in a)c!=="default"&&Object.prototype.hasOwnProperty.call(a,c)&&__createBinding$1(r,a,c);return __setModuleDefault$1(r,a),r};Object.defineProperty(getMarketplaceProgram$1,"__esModule",{value:!0});getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram$1.getGmLogsIDL=getMarketplaceProgram$1.getGmIDL=void 0;const anchor_1$9=require$$0$1,gmIdl_1=gmIdl,gmLogsIdl=__importStar$1(gmLogsIdl$1);function getGmIDL(a){const r=gmIdl_1.baseIdl;return r.metadata.address=a.toBase58(),r}getMarketplaceProgram$1.getGmIDL=getGmIDL;function getGmLogsIDL(a){const r=gmLogsIdl.baseIdl;return r.metadata.address=a.toBase58(),r}getMarketplaceProgram$1.getGmLogsIDL=getGmLogsIDL;function getMarketplaceProgram({connection:a,programId:r}){const c=getGmIDL(r),u=new anchor_1$9.AnchorProvider(a,null,null);return new anchor_1$9.Program(c,r,u)}getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram;var __awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(order_getters,"__esModule",{value:!0});order_getters.getSingleOrder=order_getters.getOpenOrdersForPlayerAndAsset=order_getters.getOpenOrdersForPlayerAndCurrency=order_getters.getOpenOrdersForAsset=order_getters.getOpenOrdersForCurrency=order_getters.getOpenOrdersForPlayer=order_getters.getAllOpenOrders=void 0;const anchor_1$8=require$$0$1,getMarketplaceProgram_1$1=getMarketplaceProgram$1;function getAllOpenOrders(a,r){return __awaiter$f(this,void 0,void 0,function*(){const c=new anchor_1$8.AnchorProvider(a,null,null),u=(0,getMarketplaceProgram_1$1.getGmIDL)(r),l=new anchor_1$8.Program(u,r,c),d=[{dataSize:201}];return yield l.account.orderAccount.all(d)})}order_getters.getAllOpenOrders=getAllOpenOrders;function getOpenOrdersForPlayer(a,r,c){return __awaiter$f(this,void 0,void 0,function*(){const u=new anchor_1$8.AnchorProvider(a,null,null),l=(0,getMarketplaceProgram_1$1.getGmIDL)(c),d=new anchor_1$8.Program(l,c,u),y=[{dataSize:201},{memcmp:{offset:8,bytes:r.toBase58()}}];return yield d.account.orderAccount.all(y)})}order_getters.getOpenOrdersForPlayer=getOpenOrdersForPlayer;function getOpenOrdersForCurrency(a,r,c){return __awaiter$f(this,void 0,void 0,function*(){const u=new anchor_1$8.AnchorProvider(a,null,null),l=(0,getMarketplaceProgram_1$1.getGmIDL)(c),d=new anchor_1$8.Program(l,c,u),y=[{dataSize:201},{memcmp:{offset:40,bytes:r.toBase58()}}];return yield d.account.orderAccount.all(y)})}order_getters.getOpenOrdersForCurrency=getOpenOrdersForCurrency;function getOpenOrdersForAsset(a,r,c){return __awaiter$f(this,void 0,void 0,function*(){const u=new anchor_1$8.AnchorProvider(a,null,null),l=(0,getMarketplaceProgram_1$1.getGmIDL)(c),d=new anchor_1$8.Program(l,c,u),y=[{dataSize:201},{memcmp:{offset:72,bytes:r.toBase58()}}];return yield d.account.orderAccount.all(y)})}order_getters.getOpenOrdersForAsset=getOpenOrdersForAsset;function getOpenOrdersForPlayerAndCurrency(a,r,c,u){return __awaiter$f(this,void 0,void 0,function*(){const l=new anchor_1$8.AnchorProvider(a,null,null),d=(0,getMarketplaceProgram_1$1.getGmIDL)(u),y=new anchor_1$8.Program(d,u,l),m=[{dataSize:201},{memcmp:{offset:40,bytes:c.toBase58()}},{memcmp:{offset:8,bytes:r.toBase58()}}];return yield y.account.orderAccount.all(m)})}order_getters.getOpenOrdersForPlayerAndCurrency=getOpenOrdersForPlayerAndCurrency;function getOpenOrdersForPlayerAndAsset(a,r,c,u){return __awaiter$f(this,void 0,void 0,function*(){const l=new anchor_1$8.AnchorProvider(a,null,null),d=(0,getMarketplaceProgram_1$1.getGmIDL)(u),y=new anchor_1$8.Program(d,u,l),m=[{dataSize:201},{memcmp:{offset:72,bytes:c.toBase58()}},{memcmp:{offset:8,bytes:r.toBase58()}}];return yield y.account.orderAccount.all(m)})}order_getters.getOpenOrdersForPlayerAndAsset=getOpenOrdersForPlayerAndAsset;function getSingleOrder(a,r,c){return __awaiter$f(this,void 0,void 0,function*(){const u=new anchor_1$8.AnchorProvider(a,null,null),l=(0,getMarketplaceProgram_1$1.getGmIDL)(c);return yield new anchor_1$8.Program(l,c,u).account.orderAccount.fetch(r)})}order_getters.getSingleOrder=getSingleOrder;var pda_getters$2={},seeds$1={};Object.defineProperty(seeds$1,"__esModule",{value:!0});seeds$1.OPEN_ORDERS_COUNTER=seeds$1.REGISTERED_CURRENCY_SEED=seeds$1.ORDER_VAULT_AUTH_SEED=seeds$1.ORDER_VAULT_SEED=seeds$1.MARKET_VARS_SEED=void 0;seeds$1.MARKET_VARS_SEED=Buffer.from("market-vars");seeds$1.ORDER_VAULT_SEED=Buffer.from("order-vault-account");seeds$1.ORDER_VAULT_AUTH_SEED=Buffer.from("order-vault-auth");seeds$1.REGISTERED_CURRENCY_SEED=Buffer.from("registered-currency");seeds$1.OPEN_ORDERS_COUNTER=Buffer.from("open-orders-counter");var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,r,c,u){u===void 0&&(u=c);var l=Object.getOwnPropertyDescriptor(r,c);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[c]}}),Object.defineProperty(a,u,l)}:function(a,r,c,u){u===void 0&&(u=c),a[u]=r[c]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}:function(a,r){a.default=r}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var c in a)c!=="default"&&Object.prototype.hasOwnProperty.call(a,c)&&__createBinding(r,a,c);return __setModuleDefault(r,a),r},__awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(pda_getters$2,"__esModule",{value:!0});pda_getters$2.getOpenOrdersCounter=pda_getters$2.getAllRegisteredCurrencies=pda_getters$2.getRegisteredCurrencyAccount=pda_getters$2.getOrderVaultAuth=pda_getters$2.getOrderVault=pda_getters$2.getMarketVarsAccount=void 0;const anchor_1$7=require$$0$1,web3_js_1$2=require$$0$2,Seeds=__importStar(seeds$1),getMarketplaceProgram_1=getMarketplaceProgram$1;function getMarketVarsAccount(a){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.MARKET_VARS_SEED],a)})}pda_getters$2.getMarketVarsAccount=getMarketVarsAccount;function getOrderVault(a,r,c){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_SEED,a.toBuffer(),r.toBuffer()],c)})}pda_getters$2.getOrderVault=getOrderVault;function getOrderVaultAuth(a,r){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_AUTH_SEED,a.toBuffer()],r)})}pda_getters$2.getOrderVaultAuth=getOrderVaultAuth;function getRegisteredCurrencyAccount(a,r){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.REGISTERED_CURRENCY_SEED,r.toBuffer()],a)})}pda_getters$2.getRegisteredCurrencyAccount=getRegisteredCurrencyAccount;function getAllRegisteredCurrencies(a,r){return __awaiter$e(this,void 0,void 0,function*(){const c=new anchor_1$7.AnchorProvider(a,null,null),u=(0,getMarketplaceProgram_1.getGmIDL)(r),l=new anchor_1$7.Program(u,r,c),d=[{dataSize:1686}],y=yield l.account.registeredCurrency.all(d),m=[];for(const wr of y){const Sr={mint:wr.account.tokenMint,royalty:wr.account.royalty,saVault:wr.account.saCurrencyVault};m.push(Sr)}return m})}pda_getters$2.getAllRegisteredCurrencies=getAllRegisteredCurrencies;function getOpenOrdersCounter(a,r,c){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.OPEN_ORDERS_COUNTER,a.toBuffer(),r.toBuffer()],c)})}pda_getters$2.getOpenOrdersCounter=getOpenOrdersCounter;var pda_info_getters$1={},hasRequiredPda_info_getters;function requirePda_info_getters(){if(hasRequiredPda_info_getters)return pda_info_getters$1;hasRequiredPda_info_getters=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ar,Ir,$r,kr){function Dr(Cr){return Cr instanceof $r?Cr:new $r(function(Br){Br(Cr)})}return new($r||($r=Promise))(function(Cr,Br){function Fr(Jr){try{Vr(kr.next(Jr))}catch(Qr){Br(Qr)}}function qr(Jr){try{Vr(kr.throw(Jr))}catch(Qr){Br(Qr)}}function Vr(Jr){Jr.done?Cr(Jr.value):Dr(Jr.value).then(Fr,qr)}Vr((kr=kr.apply(Ar,Ir||[])).next())})};Object.defineProperty(pda_info_getters$1,"__esModule",{value:!0}),pda_info_getters$1.getRoyaltyReductionForStakingAccount=pda_info_getters$1.getRoyaltyReductionForUserAndMint=pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=pda_info_getters$1.getRegisteredCurrencyAccountInfo=pda_info_getters$1.getMarketVarsAccountInfo=void 0;const r=require$$0$1,c=pda_getters$2,u=getMarketplaceProgram$1,l=requireAtlasStaking();function d(Ar,Ir){return a(this,void 0,void 0,function*(){const $r=(0,u.getMarketplaceProgram)({connection:Ar,programId:Ir}),[kr]=yield(0,c.getMarketVarsAccount)(Ir);return yield $r.account.marketVars.fetch(kr)})}pda_info_getters$1.getMarketVarsAccountInfo=d;function y(Ar,Ir,$r){return a(this,void 0,void 0,function*(){const kr=(0,u.getMarketplaceProgram)({connection:Ar,programId:Ir}),[Dr]=yield(0,c.getRegisteredCurrencyAccount)(Ir,$r);return yield kr.account.registeredCurrency.fetch(Dr)})}pda_info_getters$1.getRegisteredCurrencyAccountInfo=y;function m(Ar,Ir,$r){return a(this,void 0,void 0,function*(){return yield(0,u.getMarketplaceProgram)({connection:Ar,programId:Ir}).account.registeredCurrency.fetch($r)})}pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=m;function wr(Ar,Ir,$r,kr,Dr,Cr){return a(this,void 0,void 0,function*(){let Br=0;const Fr=yield m(Ar,Ir,Dr),[qr]=yield(0,l.getStakingAccount)($r,kr,Cr),Vr=yield(0,l.getStakingAccountInfo)(Ar,qr,$r);if(Vr.unstakedTs.eq(new r.BN(0))){const Jr=Fr.royaltyTiers;let Qr=new r.BN(0);for(const Wr of Jr)Vr.totalStake.gte(Wr.stakeAmount)&&(Qr=Wr.discount);Br=Qr.toNumber()/1e4}return Br})}pda_info_getters$1.getRoyaltyReductionForUserAndMint=wr;function Sr(Ar,Ir,$r,kr,Dr){return a(this,void 0,void 0,function*(){let Cr=0;const Br=yield m(Ar,Ir,Dr),Fr=yield(0,l.getStakingAccountInfo)(Ar,kr,$r);if(Fr.unstakedTs.eq(new r.BN(0))){const qr=Br.royaltyTiers;let Vr=new r.BN(0);for(const Jr of qr)Fr.totalStake.gte(Jr.stakeAmount)&&(Vr=Jr.discount);Cr=Vr.toNumber()/1e4}return Cr})}return pda_info_getters$1.getRoyaltyReductionForStakingAccount=Sr,pda_info_getters$1}var hasRequiredPda_getters;function requirePda_getters(){return hasRequiredPda_getters||(hasRequiredPda_getters=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(order_getters,a),c(pda_getters$2,a),c(requirePda_info_getters(),a),c(seeds$1,a)}(pda_getters$3)),pda_getters$3}var createOrderCounter={},utils={},gmHelper={},__awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(gmHelper,"__esModule",{value:!0});gmHelper.convertDecimalPriceToBn=gmHelper.initializeAtaForMint=gmHelper.getOrderSide=void 0;const anchor_1$6=require$$0$1,token_1$2=token,spl_token_1=require$$1$1,getOrderSide=a=>JSON.stringify(a.orderSide)===JSON.stringify({buy:{}})?"BuySide":"SellSide";gmHelper.getOrderSide=getOrderSide;function initializeAtaForMint({mint:a,owner:r,connection:c}){return __awaiter$d(this,void 0,void 0,function*(){const u=[],l=yield(0,token_1$2.associatedAddress)({mint:a,owner:r});return(yield c.getAccountInfo(l))===null&&u.push(spl_token_1.Token.createAssociatedTokenAccountInstruction(spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1.TOKEN_PROGRAM_ID,a,l,r,r)),{account:l,instructions:u}})}gmHelper.initializeAtaForMint=initializeAtaForMint;const convertDecimalPriceToBn=(a,r)=>new anchor_1$6.BN(a*Math.pow(10,r));gmHelper.convertDecimalPriceToBn=convertDecimalPriceToBn;(function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(getMarketplaceProgram$1,a),c(gmHelper,a)})(utils);var __awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(createOrderCounter,"__esModule",{value:!0});createOrderCounter.createOrderCounterInstruction=void 0;const utils_1$a=utils;function createOrderCounterInstruction({connection:a,payer:r,initializerMainAccount:c,depositMint:u,programId:l}){return __awaiter$c(this,void 0,void 0,function*(){return yield(0,utils_1$a.getMarketplaceProgram)({connection:a,programId:l}).methods.initializeOpenOrdersCounter().accounts({payer:r,user:c,depositMint:u}).instruction()})}createOrderCounter.createOrderCounterInstruction=createOrderCounterInstruction;var hasRequiredCancelOrder;function requireCancelOrder(){if(hasRequiredCancelOrder)return cancelOrder;hasRequiredCancelOrder=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(m,wr,Sr,Ar){function Ir($r){return $r instanceof Sr?$r:new Sr(function(kr){kr($r)})}return new(Sr||(Sr=Promise))(function($r,kr){function Dr(Fr){try{Br(Ar.next(Fr))}catch(qr){kr(qr)}}function Cr(Fr){try{Br(Ar.throw(Fr))}catch(qr){kr(qr)}}function Br(Fr){Fr.done?$r(Fr.value):Ir(Fr.value).then(Dr,Cr)}Br((Ar=Ar.apply(m,wr||[])).next())})};Object.defineProperty(cancelOrder,"__esModule",{value:!0}),cancelOrder.createCancelOrderInstruction=void 0;const r=require$$0$1,c=requirePda_getters(),u=createOrderCounter,l=utils,d=requireUtil();function y({connection:m,orderInitializer:wr,orderAccount:Sr,programId:Ar,payer:Ir=wr}){return a(this,void 0,void 0,function*(){const $r=(0,l.getMarketplaceProgram)({connection:m,programId:Ar}),kr={signers:[],instructions:[]},Dr=yield $r.account.orderAccount.fetch(Sr),Br=(0,l.getOrderSide)(Dr)==="SellSide"?Dr.assetMint:Dr.currencyMint;let Fr=null,qr=null;const Vr=yield(0,d.getTokenAccount)(m,wr,Br);Fr=Vr.tokenAccount,"createInstruction"in Vr&&kr.instructions.push(Vr.createInstruction),Fr instanceof r.web3.Keypair?(qr=Fr.publicKey,kr.signers.push(Fr)):qr=Fr;const[Jr]=yield(0,c.getOpenOrdersCounter)(wr,Br,Ar);if((yield m.getAccountInfo(Jr))===null){const Zr=yield(0,u.createOrderCounterInstruction)({connection:m,payer:Ir,initializerMainAccount:wr,depositMint:Br,programId:Ar});kr.instructions.push(Zr)}const Wr=yield $r.methods.processCancel().accounts({signer:Ir,depositMint:Br,orderInitializer:wr,initializerDepositTokenAccount:qr,orderAccount:Sr}).instruction();return kr.instructions.push(Wr),kr})}return cancelOrder.createCancelOrderInstruction=y,cancelOrder}var createOrder={},hasRequiredCreateOrder;function requireCreateOrder(){if(hasRequiredCreateOrder)return createOrder;hasRequiredCreateOrder=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(Sr,Ar,Ir,$r){function kr(Dr){return Dr instanceof Ir?Dr:new Ir(function(Cr){Cr(Dr)})}return new(Ir||(Ir=Promise))(function(Dr,Cr){function Br(Vr){try{qr($r.next(Vr))}catch(Jr){Cr(Jr)}}function Fr(Vr){try{qr($r.throw(Vr))}catch(Jr){Cr(Jr)}}function qr(Vr){Vr.done?Dr(Vr.value):kr(Vr.value).then(Br,Fr)}qr(($r=$r.apply(Sr,Ar||[])).next())})};Object.defineProperty(createOrder,"__esModule",{value:!0}),createOrder.createInitializeSellOrderInstruction=createOrder.createInitializeBuyOrderInstruction=void 0;const r=require$$0$1,c=utils,u=requireUtil(),l=requirePda_getters(),d=createOrderCounter,y=requireUtil();function m({connection:Sr,initializerMainAccount:Ar,initializerDepositTokenAccount:Ir,price:$r,originationQty:kr,depositMint:Dr,receiveMint:Cr,programId:Br}){return a(this,void 0,void 0,function*(){const Fr=(0,c.getMarketplaceProgram)({connection:Sr,programId:Br}),qr={signers:[],instructions:[]};let Vr=null,Jr=null;const Qr=yield(0,u.getTokenAccount)(Sr,Ar,Cr);Vr=Qr.tokenAccount,"createInstruction"in Qr&&qr.instructions.push(Qr.createInstruction),Vr instanceof r.web3.Keypair?(Jr=Vr.publicKey,qr.signers.push(Vr)):Jr=Vr;const[Wr]=yield(0,l.getOpenOrdersCounter)(Ar,Dr,Br);if((yield Sr.getAccountInfo(Wr))===null){const fn=yield(0,d.createOrderCounterInstruction)({connection:Sr,payer:Ar,initializerMainAccount:Ar,depositMint:Dr,programId:Br});qr.instructions.push(fn)}const rn=r.web3.Keypair.generate();qr.signers.push(rn);const gn=yield(0,y.createAccountInstruction)(Sr,Ar,rn,Br);qr.instructions.push(gn);const an=yield Fr.methods.processInitializeBuy($r,new r.BN(kr)).accounts({orderInitializer:Ar,initializerDepositTokenAccount:Ir,initializerReceiveTokenAccount:Jr,orderAccount:rn.publicKey,depositMint:Dr,receiveMint:Cr}).signers([rn]).instruction();return qr.instructions.push(an),{orderAccount:rn.publicKey,ixSet:qr}})}createOrder.createInitializeBuyOrderInstruction=m;function wr({connection:Sr,initializerMainAccount:Ar,initializerDepositTokenAccount:Ir,price:$r,originationQty:kr,depositMint:Dr,receiveMint:Cr,programId:Br}){return a(this,void 0,void 0,function*(){const Fr=(0,c.getMarketplaceProgram)({connection:Sr,programId:Br}),qr={signers:[],instructions:[]};let Vr=null,Jr=null;const Qr=yield(0,u.getTokenAccount)(Sr,Ar,Cr);Vr=Qr.tokenAccount,"createInstruction"in Qr&&qr.instructions.push(Qr.createInstruction),Vr instanceof r.web3.Keypair?(Jr=Vr.publicKey,qr.signers.push(Vr)):Jr=Vr;const[Wr]=yield(0,l.getOpenOrdersCounter)(Ar,Dr,Br);if((yield Sr.getAccountInfo(Wr))===null){const fn=yield(0,d.createOrderCounterInstruction)({connection:Sr,payer:Ar,initializerMainAccount:Ar,depositMint:Dr,programId:Br});qr.instructions.push(fn)}const rn=r.web3.Keypair.generate();qr.signers.push(rn);const gn=yield(0,y.createAccountInstruction)(Sr,Ar,rn,Br);qr.instructions.push(gn);const an=yield Fr.methods.processInitializeSell($r,new r.BN(kr)).accounts({orderInitializer:Ar,initializerDepositTokenAccount:Ir,initializerReceiveTokenAccount:Jr,orderAccount:rn.publicKey,depositMint:Dr,receiveMint:Cr}).signers([rn]).instruction();return qr.instructions.push(an),{orderAccount:rn.publicKey,ixSet:qr}})}return createOrder.createInitializeSellOrderInstruction=wr,createOrder}var deregisterCurrency={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(deregisterCurrency,"__esModule",{value:!0});deregisterCurrency.createDeregisterCurrencyInstruction=void 0;const utils_1$9=utils;function createDeregisterCurrencyInstruction({connection:a,updateAuthorityAccount:r,currencyMint:c,programId:u}){return __awaiter$b(this,void 0,void 0,function*(){const d=[yield(0,utils_1$9.getMarketplaceProgram)({connection:a,programId:u}).methods.deregisterCurrency().accounts({updateAuthorityAccount:r,currencyMint:c}).instruction()];return{accounts:[],instructions:d}})}deregisterCurrency.createDeregisterCurrencyInstruction=createDeregisterCurrencyInstruction;var exchangeOrder={},models={},Order={},big={exports:{}};(function(a){(function(r){var c,u=20,l=1,d=1e6,y=1e6,m=-7,wr=21,Sr=!1,Ar="[big.js] ",Ir=Ar+"Invalid ",$r=Ir+"decimal places",kr=Ir+"rounding mode",Dr=Ar+"Division by zero",Cr={},Br=void 0,Fr=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function qr(){function Wr(Zr){var rn=this;if(!(rn instanceof Wr))return Zr===Br?qr():new Wr(Zr);if(Zr instanceof Wr)rn.s=Zr.s,rn.e=Zr.e,rn.c=Zr.c.slice();else{if(typeof Zr!="string"){if(Wr.strict===!0&&typeof Zr!="bigint")throw TypeError(Ir+"value");Zr=Zr===0&&1/Zr<0?"-0":String(Zr)}Vr(rn,Zr)}rn.constructor=Wr}return Wr.prototype=Cr,Wr.DP=u,Wr.RM=l,Wr.NE=m,Wr.PE=wr,Wr.strict=Sr,Wr.roundDown=0,Wr.roundHalfUp=1,Wr.roundHalfEven=2,Wr.roundUp=3,Wr}function Vr(Wr,Zr){var rn,gn,an;if(!Fr.test(Zr))throw Error(Ir+"number");for(Wr.s=Zr.charAt(0)=="-"?(Zr=Zr.slice(1),-1):1,(rn=Zr.indexOf("."))>-1&&(Zr=Zr.replace(".","")),(gn=Zr.search(/e/i))>0?(rn<0&&(rn=gn),rn+=+Zr.slice(gn+1),Zr=Zr.substring(0,gn)):rn<0&&(rn=Zr.length),an=Zr.length,gn=0;gn<an&&Zr.charAt(gn)=="0";)++gn;if(gn==an)Wr.c=[Wr.e=0];else{for(;an>0&&Zr.charAt(--an)=="0";);for(Wr.e=rn-gn-1,Wr.c=[],rn=0;gn<=an;)Wr.c[rn++]=+Zr.charAt(gn++)}return Wr}function Jr(Wr,Zr,rn,gn){var an=Wr.c;if(rn===Br&&(rn=Wr.constructor.RM),rn!==0&&rn!==1&&rn!==2&&rn!==3)throw Error(kr);if(Zr<1)gn=rn===3&&(gn||!!an[0])||Zr===0&&(rn===1&&an[0]>=5||rn===2&&(an[0]>5||an[0]===5&&(gn||an[1]!==Br))),an.length=1,gn?(Wr.e=Wr.e-Zr+1,an[0]=1):an[0]=Wr.e=0;else if(Zr<an.length){if(gn=rn===1&&an[Zr]>=5||rn===2&&(an[Zr]>5||an[Zr]===5&&(gn||an[Zr+1]!==Br||an[Zr-1]&1))||rn===3&&(gn||!!an[0]),an.length=Zr,gn){for(;++an[--Zr]>9;)if(an[Zr]=0,Zr===0){++Wr.e,an.unshift(1);break}}for(Zr=an.length;!an[--Zr];)an.pop()}return Wr}function Qr(Wr,Zr,rn){var gn=Wr.e,an=Wr.c.join(""),fn=an.length;if(Zr)an=an.charAt(0)+(fn>1?"."+an.slice(1):"")+(gn<0?"e":"e+")+gn;else if(gn<0){for(;++gn;)an="0"+an;an="0."+an}else if(gn>0)if(++gn>fn)for(gn-=fn;gn--;)an+="0";else gn<fn&&(an=an.slice(0,gn)+"."+an.slice(gn));else fn>1&&(an=an.charAt(0)+"."+an.slice(1));return Wr.s<0&&rn?"-"+an:an}Cr.abs=function(){var Wr=new this.constructor(this);return Wr.s=1,Wr},Cr.cmp=function(Wr){var Zr,rn=this,gn=rn.c,an=(Wr=new rn.constructor(Wr)).c,fn=rn.s,mn=Wr.s,Mr=rn.e,xr=Wr.e;if(!gn[0]||!an[0])return gn[0]?fn:an[0]?-mn:0;if(fn!=mn)return fn;if(Zr=fn<0,Mr!=xr)return Mr>xr^Zr?1:-1;for(mn=(Mr=gn.length)<(xr=an.length)?Mr:xr,fn=-1;++fn<mn;)if(gn[fn]!=an[fn])return gn[fn]>an[fn]^Zr?1:-1;return Mr==xr?0:Mr>xr^Zr?1:-1},Cr.div=function(Wr){var Zr=this,rn=Zr.constructor,gn=Zr.c,an=(Wr=new rn(Wr)).c,fn=Zr.s==Wr.s?1:-1,mn=rn.DP;if(mn!==~~mn||mn<0||mn>d)throw Error($r);if(!an[0])throw Error(Dr);if(!gn[0])return Wr.s=fn,Wr.c=[Wr.e=0],Wr;var Mr,xr,Pr,Kr,Hr,Gr=an.slice(),un=Mr=an.length,wn=gn.length,jr=gn.slice(0,Mr),Rr=jr.length,Ur=Wr,hn=Ur.c=[],en=0,tn=mn+(Ur.e=Zr.e-Wr.e)+1;for(Ur.s=fn,fn=tn<0?0:tn,Gr.unshift(0);Rr++<Mr;)jr.push(0);do{for(Pr=0;Pr<10;Pr++){if(Mr!=(Rr=jr.length))Kr=Mr>Rr?1:-1;else for(Hr=-1,Kr=0;++Hr<Mr;)if(an[Hr]!=jr[Hr]){Kr=an[Hr]>jr[Hr]?1:-1;break}if(Kr<0){for(xr=Rr==Mr?an:Gr;Rr;){if(jr[--Rr]<xr[Rr]){for(Hr=Rr;Hr&&!jr[--Hr];)jr[Hr]=9;--jr[Hr],jr[Rr]+=10}jr[Rr]-=xr[Rr]}for(;!jr[0];)jr.shift()}else break}hn[en++]=Kr?Pr:++Pr,jr[0]&&Kr?jr[Rr]=gn[un]||0:jr=[gn[un]]}while((un++<wn||jr[0]!==Br)&&fn--);return!hn[0]&&en!=1&&(hn.shift(),Ur.e--,tn--),en>tn&&Jr(Ur,tn,rn.RM,jr[0]!==Br),Ur},Cr.eq=function(Wr){return this.cmp(Wr)===0},Cr.gt=function(Wr){return this.cmp(Wr)>0},Cr.gte=function(Wr){return this.cmp(Wr)>-1},Cr.lt=function(Wr){return this.cmp(Wr)<0},Cr.lte=function(Wr){return this.cmp(Wr)<1},Cr.minus=Cr.sub=function(Wr){var Zr,rn,gn,an,fn=this,mn=fn.constructor,Mr=fn.s,xr=(Wr=new mn(Wr)).s;if(Mr!=xr)return Wr.s=-xr,fn.plus(Wr);var Pr=fn.c.slice(),Kr=fn.e,Hr=Wr.c,Gr=Wr.e;if(!Pr[0]||!Hr[0])return Hr[0]?Wr.s=-xr:Pr[0]?Wr=new mn(fn):Wr.s=1,Wr;if(Mr=Kr-Gr){for((an=Mr<0)?(Mr=-Mr,gn=Pr):(Gr=Kr,gn=Hr),gn.reverse(),xr=Mr;xr--;)gn.push(0);gn.reverse()}else for(rn=((an=Pr.length<Hr.length)?Pr:Hr).length,Mr=xr=0;xr<rn;xr++)if(Pr[xr]!=Hr[xr]){an=Pr[xr]<Hr[xr];break}if(an&&(gn=Pr,Pr=Hr,Hr=gn,Wr.s=-Wr.s),(xr=(rn=Hr.length)-(Zr=Pr.length))>0)for(;xr--;)Pr[Zr++]=0;for(xr=Zr;rn>Mr;){if(Pr[--rn]<Hr[rn]){for(Zr=rn;Zr&&!Pr[--Zr];)Pr[Zr]=9;--Pr[Zr],Pr[rn]+=10}Pr[rn]-=Hr[rn]}for(;Pr[--xr]===0;)Pr.pop();for(;Pr[0]===0;)Pr.shift(),--Gr;return Pr[0]||(Wr.s=1,Pr=[Gr=0]),Wr.c=Pr,Wr.e=Gr,Wr},Cr.mod=function(Wr){var Zr,rn=this,gn=rn.constructor,an=rn.s,fn=(Wr=new gn(Wr)).s;if(!Wr.c[0])throw Error(Dr);return rn.s=Wr.s=1,Zr=Wr.cmp(rn)==1,rn.s=an,Wr.s=fn,Zr?new gn(rn):(an=gn.DP,fn=gn.RM,gn.DP=gn.RM=0,rn=rn.div(Wr),gn.DP=an,gn.RM=fn,this.minus(rn.times(Wr)))},Cr.neg=function(){var Wr=new this.constructor(this);return Wr.s=-Wr.s,Wr},Cr.plus=Cr.add=function(Wr){var Zr,rn,gn,an=this,fn=an.constructor;if(Wr=new fn(Wr),an.s!=Wr.s)return Wr.s=-Wr.s,an.minus(Wr);var mn=an.e,Mr=an.c,xr=Wr.e,Pr=Wr.c;if(!Mr[0]||!Pr[0])return Pr[0]||(Mr[0]?Wr=new fn(an):Wr.s=an.s),Wr;if(Mr=Mr.slice(),Zr=mn-xr){for(Zr>0?(xr=mn,gn=Pr):(Zr=-Zr,gn=Mr),gn.reverse();Zr--;)gn.push(0);gn.reverse()}for(Mr.length-Pr.length<0&&(gn=Pr,Pr=Mr,Mr=gn),Zr=Pr.length,rn=0;Zr;Mr[Zr]%=10)rn=(Mr[--Zr]=Mr[Zr]+Pr[Zr]+rn)/10|0;for(rn&&(Mr.unshift(rn),++xr),Zr=Mr.length;Mr[--Zr]===0;)Mr.pop();return Wr.c=Mr,Wr.e=xr,Wr},Cr.pow=function(Wr){var Zr=this,rn=new Zr.constructor("1"),gn=rn,an=Wr<0;if(Wr!==~~Wr||Wr<-y||Wr>y)throw Error(Ir+"exponent");for(an&&(Wr=-Wr);Wr&1&&(gn=gn.times(Zr)),Wr>>=1,!!Wr;)Zr=Zr.times(Zr);return an?rn.div(gn):gn},Cr.prec=function(Wr,Zr){if(Wr!==~~Wr||Wr<1||Wr>d)throw Error(Ir+"precision");return Jr(new this.constructor(this),Wr,Zr)},Cr.round=function(Wr,Zr){if(Wr===Br)Wr=0;else if(Wr!==~~Wr||Wr<-d||Wr>d)throw Error($r);return Jr(new this.constructor(this),Wr+this.e+1,Zr)},Cr.sqrt=function(){var Wr,Zr,rn,gn=this,an=gn.constructor,fn=gn.s,mn=gn.e,Mr=new an("0.5");if(!gn.c[0])return new an(gn);if(fn<0)throw Error(Ar+"No square root");fn=Math.sqrt(gn+""),fn===0||fn===1/0?(Zr=gn.c.join(""),Zr.length+mn&1||(Zr+="0"),fn=Math.sqrt(Zr),mn=((mn+1)/2|0)-(mn<0||mn&1),Wr=new an((fn==1/0?"5e":(fn=fn.toExponential()).slice(0,fn.indexOf("e")+1))+mn)):Wr=new an(fn+""),mn=Wr.e+(an.DP+=4);do rn=Wr,Wr=Mr.times(rn.plus(gn.div(rn)));while(rn.c.slice(0,mn).join("")!==Wr.c.slice(0,mn).join(""));return Jr(Wr,(an.DP-=4)+Wr.e+1,an.RM)},Cr.times=Cr.mul=function(Wr){var Zr,rn=this,gn=rn.constructor,an=rn.c,fn=(Wr=new gn(Wr)).c,mn=an.length,Mr=fn.length,xr=rn.e,Pr=Wr.e;if(Wr.s=rn.s==Wr.s?1:-1,!an[0]||!fn[0])return Wr.c=[Wr.e=0],Wr;for(Wr.e=xr+Pr,mn<Mr&&(Zr=an,an=fn,fn=Zr,Pr=mn,mn=Mr,Mr=Pr),Zr=new Array(Pr=mn+Mr);Pr--;)Zr[Pr]=0;for(xr=Mr;xr--;){for(Mr=0,Pr=mn+xr;Pr>xr;)Mr=Zr[Pr]+fn[xr]*an[Pr-xr-1]+Mr,Zr[Pr--]=Mr%10,Mr=Mr/10|0;Zr[Pr]=Mr}for(Mr?++Wr.e:Zr.shift(),xr=Zr.length;!Zr[--xr];)Zr.pop();return Wr.c=Zr,Wr},Cr.toExponential=function(Wr,Zr){var rn=this,gn=rn.c[0];if(Wr!==Br){if(Wr!==~~Wr||Wr<0||Wr>d)throw Error($r);for(rn=Jr(new rn.constructor(rn),++Wr,Zr);rn.c.length<Wr;)rn.c.push(0)}return Qr(rn,!0,!!gn)},Cr.toFixed=function(Wr,Zr){var rn=this,gn=rn.c[0];if(Wr!==Br){if(Wr!==~~Wr||Wr<0||Wr>d)throw Error($r);for(rn=Jr(new rn.constructor(rn),Wr+rn.e+1,Zr),Wr=Wr+rn.e+1;rn.c.length<Wr;)rn.c.push(0)}return Qr(rn,!1,!!gn)},Cr.toJSON=Cr.toString=function(){var Wr=this,Zr=Wr.constructor;return Qr(Wr,Wr.e<=Zr.NE||Wr.e>=Zr.PE,!!Wr.c[0])},Cr.toNumber=function(){var Wr=Number(Qr(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(Wr.toString()))throw Error(Ar+"Imprecise conversion");return Wr},Cr.toPrecision=function(Wr,Zr){var rn=this,gn=rn.constructor,an=rn.c[0];if(Wr!==Br){if(Wr!==~~Wr||Wr<1||Wr>d)throw Error(Ir+"precision");for(rn=Jr(new gn(rn),Wr,Zr);rn.c.length<Wr;)rn.c.push(0)}return Qr(rn,Wr<=rn.e||rn.e<=gn.NE||rn.e>=gn.PE,!!an)},Cr.valueOf=function(){var Wr=this,Zr=Wr.constructor;if(Zr.strict===!0)throw Error(Ar+"valueOf disallowed");return Qr(Wr,Wr.e<=Zr.NE||Wr.e>=Zr.PE,!0)},c=qr(),c.default=c.Big=c,a.exports?a.exports=c:r.Big=c})(commonjsGlobal)})(big);function die(a){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];throw new Error(typeof a=="number"?"[MobX] minified error nr: "+a+(c.length?" "+c.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+a)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:mockGlobal}var assign=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(a){var r=!1;return function(){if(!r)return r=!0,a.apply(this,arguments)}}var noop=function a(){};function isFunction(a){return typeof a=="function"}function isStringish(a){var r=typeof a;switch(r){case"string":case"symbol":case"number":return!0}return!1}function isObject(a){return a!==null&&typeof a=="object"}function isPlainObject(a){if(!isObject(a))return!1;var r=Object.getPrototypeOf(a);if(r==null)return!0;var c=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return typeof c=="function"&&c.toString()===plainObjectString}function isGenerator(a){var r=a?.constructor;return r?r.name==="GeneratorFunction"||r.displayName==="GeneratorFunction":!1}function addHiddenProp$1(a,r,c){defineProperty(a,r,{enumerable:!1,writable:!0,configurable:!0,value:c})}function addHiddenFinalProp(a,r,c){defineProperty(a,r,{enumerable:!1,writable:!1,configurable:!0,value:c})}function createInstanceofPredicate(a,r){var c="isMobX"+a;return r.prototype[c]=!0,function(u){return isObject(u)&&u[c]===!0}}function isES6Map(a){return a instanceof Map}function isES6Set(a){return a instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(a){var r=Object.keys(a);if(!hasGetOwnPropertySymbols)return r;var c=Object.getOwnPropertySymbols(a);return c.length?[].concat(r,c.filter(function(u){return objectPrototype.propertyIsEnumerable.call(a,u)})):r}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:Object.getOwnPropertyNames;function toPrimitive(a){return a===null?null:typeof a=="object"?""+a:a}function hasProp(a,r){return objectPrototype.hasOwnProperty.call(a,r)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function a(r){var c={};return ownKeys(r).forEach(function(u){c[u]=getDescriptor(r,u)}),c};function _defineProperties(a,r){for(var c=0;c<r.length;c++){var u=r[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}function _createClass(a,r,c){return r&&_defineProperties(a.prototype,r),c&&_defineProperties(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function _extends(){return _extends=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var c=arguments[r];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(a[u]=c[u])}return a},_extends.apply(this,arguments)}function _inheritsLoose(a,r){a.prototype=Object.create(r.prototype),a.prototype.constructor=a,_setPrototypeOf(a,r)}function _setPrototypeOf(a,r){return _setPrototypeOf=Object.setPrototypeOf||function(u,l){return u.__proto__=l,u},_setPrototypeOf(a,r)}function _assertThisInitialized(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _unsupportedIterableToArray(a,r){if(!!a){if(typeof a=="string")return _arrayLikeToArray(a,r);var c=Object.prototype.toString.call(a).slice(8,-1);if(c==="Object"&&a.constructor&&(c=a.constructor.name),c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _arrayLikeToArray(a,r)}}function _arrayLikeToArray(a,r){(r==null||r>a.length)&&(r=a.length);for(var c=0,u=new Array(r);c<r;c++)u[c]=a[c];return u}function _createForOfIteratorHelperLoose(a,r){var c=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(c)return(c=c.call(a)).next.bind(c);if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||r&&a&&typeof a.length=="number"){c&&(a=c);var u=0;return function(){return u>=a.length?{done:!0}:{done:!1,value:a[u++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(a){function r(c,u){storeAnnotation(c,u,a)}return Object.assign(r,a)}function storeAnnotation(a,r,c){hasProp(a,storedAnnotationsSymbol)||addHiddenProp$1(a,storedAnnotationsSymbol,_extends({},a[storedAnnotationsSymbol])),isOverride(c)||(a[storedAnnotationsSymbol][r]=c)}function collectStoredAnnotations(a){return hasProp(a,storedAnnotationsSymbol)||addHiddenProp$1(a,storedAnnotationsSymbol,_extends({},a[storedAnnotationsSymbol])),a[storedAnnotationsSymbol]}var $mobx=Symbol("mobx administration"),Atom=function(){function a(c){c===void 0&&(c="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=c}var r=a.prototype;return r.onBO=function(){this.onBOL&&this.onBOL.forEach(function(u){return u()})},r.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(u){return u()})},r.reportObserved=function(){return reportObserved(this)},r.reportChanged=function(){startBatch(),propagateChanged(this),endBatch()},r.toString=function(){return this.name_},a}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(a,r,c){r===void 0&&(r=noop),c===void 0&&(c=noop);var u=new Atom(a);return r!==noop&&onBecomeObserved(u,r),c!==noop&&onBecomeUnobserved(u,c),u}function identityComparer(a,r){return a===r}function structuralComparer(a,r){return deepEqual(a,r)}function shallowComparer(a,r){return deepEqual(a,r,1)}function defaultComparer(a,r){return Object.is?Object.is(a,r):a===r?a!==0||1/a===1/r:a!==a&&r!==r}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(a,r,c){return isObservable(a)?a:Array.isArray(a)?observable.array(a,{name:c}):isPlainObject(a)?observable.object(a,void 0,{name:c}):isES6Map(a)?observable.map(a,{name:c}):isES6Set(a)?observable.set(a,{name:c}):typeof a=="function"&&!isAction(a)&&!isFlow(a)?isGenerator(a)?flow(a):autoAction(c,a):a}function shallowEnhancer(a,r,c){if(a==null||isObservableObject(a)||isObservableArray(a)||isObservableMap(a)||isObservableSet(a))return a;if(Array.isArray(a))return observable.array(a,{name:c,deep:!1});if(isPlainObject(a))return observable.object(a,void 0,{name:c,deep:!1});if(isES6Map(a))return observable.map(a,{name:c,deep:!1});if(isES6Set(a))return observable.set(a,{name:c,deep:!1})}function referenceEnhancer(a){return a}function refStructEnhancer(a,r){return deepEqual(a,r)?r:a}var OVERRIDE="override",override=createDecoratorAnnotation({annotationType_:OVERRIDE,make_,extend_});function isOverride(a){return a.annotationType_===OVERRIDE}function make_(a,r){return 0}function extend_(a,r,c,u){die("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function createActionAnnotation(a,r){return{annotationType_:a,options_:r,make_:make_$1,extend_:extend_$1}}function make_$1(a,r,c,u){var l;if((l=this.options_)!=null&&l.bound)return this.extend_(a,r,c,!1)===null?0:1;if(u===a.target_)return this.extend_(a,r,c,!1)===null?0:2;if(isAction(c.value))return 1;var d=createActionDescriptor(a,this,r,c,!1);return defineProperty(u,r,d),2}function extend_$1(a,r,c,u){var l=createActionDescriptor(a,this,r,c);return a.defineProperty_(r,l,u)}function assertActionDescriptor(a,r,c,u){r.annotationType_,u.value}function createActionDescriptor(a,r,c,u,l){var d,y,m,wr,Sr,Ar,Ir;l===void 0&&(l=globalState.safeDescriptors),assertActionDescriptor(a,r,c,u);var $r=u.value;if((d=r.options_)!=null&&d.bound){var kr;$r=$r.bind((kr=a.proxy_)!=null?kr:a.target_)}return{value:createAction((y=(m=r.options_)==null?void 0:m.name)!=null?y:c.toString(),$r,(wr=(Sr=r.options_)==null?void 0:Sr.autoAction)!=null?wr:!1,(Ar=r.options_)!=null&&Ar.bound?(Ir=a.proxy_)!=null?Ir:a.target_:void 0),configurable:l?a.isPlainObject_:!0,enumerable:!1,writable:!l}}function createFlowAnnotation(a,r){return{annotationType_:a,options_:r,make_:make_$2,extend_:extend_$2}}function make_$2(a,r,c,u){var l;if(u===a.target_)return this.extend_(a,r,c,!1)===null?0:2;if((l=this.options_)!=null&&l.bound&&(!hasProp(a.target_,r)||!isFlow(a.target_[r]))&&this.extend_(a,r,c,!1)===null)return 0;if(isFlow(c.value))return 1;var d=createFlowDescriptor(a,this,r,c,!1,!1);return defineProperty(u,r,d),2}function extend_$2(a,r,c,u){var l,d=createFlowDescriptor(a,this,r,c,(l=this.options_)==null?void 0:l.bound);return a.defineProperty_(r,d,u)}function assertFlowDescriptor(a,r,c,u){r.annotationType_,u.value}function createFlowDescriptor(a,r,c,u,l,d){d===void 0&&(d=globalState.safeDescriptors),assertFlowDescriptor(a,r,c,u);var y=u.value;if(isFlow(y)||(y=flow(y)),l){var m;y=y.bind((m=a.proxy_)!=null?m:a.target_),y.isMobXFlow=!0}return{value:y,configurable:d?a.isPlainObject_:!0,enumerable:!1,writable:!d}}function createComputedAnnotation(a,r){return{annotationType_:a,options_:r,make_:make_$3,extend_:extend_$3}}function make_$3(a,r,c){return this.extend_(a,r,c,!1)===null?0:1}function extend_$3(a,r,c,u){return assertComputedDescriptor(a,this,r,c),a.defineComputedProperty_(r,_extends({},this.options_,{get:c.get,set:c.set}),u)}function assertComputedDescriptor(a,r,c,u){r.annotationType_,u.get}function createObservableAnnotation(a,r){return{annotationType_:a,options_:r,make_:make_$4,extend_:extend_$4}}function make_$4(a,r,c){return this.extend_(a,r,c,!1)===null?0:1}function extend_$4(a,r,c,u){var l,d;return assertObservableDescriptor(a,this),a.defineObservableProperty_(r,c.value,(l=(d=this.options_)==null?void 0:d.enhancer)!=null?l:deepEnhancer,u)}function assertObservableDescriptor(a,r,c,u){r.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(a){return{annotationType_:AUTO,options_:a,make_:make_$5,extend_:extend_$5}}function make_$5(a,r,c,u){var l,d;if(c.get)return computed.make_(a,r,c,u);if(c.set){var y=createAction(r.toString(),c.set);return u===a.target_?a.defineProperty_(r,{configurable:globalState.safeDescriptors?a.isPlainObject_:!0,set:y})===null?0:2:(defineProperty(u,r,{configurable:!0,set:y}),2)}if(u!==a.target_&&typeof c.value=="function"){var m;if(isGenerator(c.value)){var wr,Sr=(wr=this.options_)!=null&&wr.autoBind?flow.bound:flow;return Sr.make_(a,r,c,u)}var Ar=(m=this.options_)!=null&&m.autoBind?autoAction.bound:autoAction;return Ar.make_(a,r,c,u)}var Ir=((l=this.options_)==null?void 0:l.deep)===!1?observable.ref:observable;if(typeof c.value=="function"&&(d=this.options_)!=null&&d.autoBind){var $r;c.value=c.value.bind(($r=a.proxy_)!=null?$r:a.target_)}return Ir.make_(a,r,c,u)}function extend_$5(a,r,c,u){var l,d;if(c.get)return computed.extend_(a,r,c,u);if(c.set)return a.defineProperty_(r,{configurable:globalState.safeDescriptors?a.isPlainObject_:!0,set:createAction(r.toString(),c.set)},u);if(typeof c.value=="function"&&(l=this.options_)!=null&&l.autoBind){var y;c.value=c.value.bind((y=a.proxy_)!=null?y:a.target_)}var m=((d=this.options_)==null?void 0:d.deep)===!1?observable.ref:observable;return m.extend_(a,r,c,u)}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(a){return a||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(a){return a.deep===!0?deepEnhancer:a.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(a.defaultDecorator)}function getAnnotationFromOptions(a){var r;return a?(r=a.defaultDecorator)!=null?r:createAutoAnnotation(a):void 0}function getEnhancerFromAnnotation(a){var r,c;return a&&(r=(c=a.options_)==null?void 0:c.enhancer)!=null?r:deepEnhancer}function createObservable(a,r,c){if(isStringish(r)){storeAnnotation(a,r,observableAnnotation);return}return isObservable(a)?a:isPlainObject(a)?observable.object(a,r,c):Array.isArray(a)?observable.array(a,r):isES6Map(a)?observable.map(a,r):isES6Set(a)?observable.set(a,r):typeof a=="object"&&a!==null?a:observable.box(a,r)}Object.assign(createObservable,observableDecoratorAnnotation);var observableFactories={box:function a(r,c){var u=asCreateObservableOptions(c);return new ObservableValue(r,getEnhancerFromOptions(u),u.name,!0,u.equals)},array:function a(r,c){var u=asCreateObservableOptions(c);return(globalState.useProxies===!1||u.proxy===!1?createLegacyArray:createObservableArray)(r,getEnhancerFromOptions(u),u.name)},map:function a(r,c){var u=asCreateObservableOptions(c);return new ObservableMap(r,getEnhancerFromOptions(u),u.name)},set:function a(r,c){var u=asCreateObservableOptions(c);return new ObservableSet(r,getEnhancerFromOptions(u),u.name)},object:function a(r,c,u){return extendObservable(globalState.useProxies===!1||u?.proxy===!1?asObservableObject({},u):asDynamicObservableObject({},u),r,c)},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable=assign(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function a(r,c){if(isStringish(c))return storeAnnotation(r,c,computedAnnotation);if(isPlainObject(r))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,r));var u=isPlainObject(c)?c:{};return u.get=r,u.name||(u.name=r.name||""),new ComputedValue(u)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(a,r,c,u){c===void 0&&(c=!1);function l(){return executeAction(a,c,r,u||this,arguments)}return l.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=a,Object.defineProperty(l,"name",tmpNameDescriptor)),l}function executeAction(a,r,c,u,l){var d=_startAction(a,r);try{return c.apply(u,l)}catch(y){throw d.error_=y,y}finally{_endAction(d)}}function _startAction(a,r,c,u){var l=!1,d=0,y=globalState.trackingDerivation,m=!r||!y;startBatch();var wr=globalState.allowStateChanges;m&&(untrackedStart(),wr=allowStateChangesStart(!0));var Sr=allowStateReadsStart(!0),Ar={runAsAction_:m,prevDerivation_:y,prevAllowStateChanges_:wr,prevAllowStateReads_:Sr,notifySpy_:l,startTime_:d,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=Ar.actionId_,Ar}function _endAction(a){currentActionId!==a.actionId_&&die(30),currentActionId=a.parentActionId_,a.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(a.prevAllowStateChanges_),allowStateReadsEnd(a.prevAllowStateReads_),endBatch(),a.runAsAction_&&untrackedEnd(a.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(a,r){var c=allowStateChangesStart(a);try{return r()}finally{allowStateChangesEnd(c)}}function allowStateChangesStart(a){var r=globalState.allowStateChanges;return globalState.allowStateChanges=a,r}function allowStateChangesEnd(a){globalState.allowStateChanges=a}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(a){_inheritsLoose(r,a);function r(u,l,d,y,m){var wr;return d===void 0&&(d="ObservableValue"),m===void 0&&(m=comparer.default),wr=a.call(this,d)||this,wr.enhancer=void 0,wr.name_=void 0,wr.equals=void 0,wr.hasUnreportedChange_=!1,wr.interceptors_=void 0,wr.changeListeners_=void 0,wr.value_=void 0,wr.dehancer=void 0,wr.enhancer=l,wr.name_=d,wr.equals=m,wr.value_=l(u,void 0,d),wr}var c=r.prototype;return c.dehanceValue=function(l){return this.dehancer!==void 0?this.dehancer(l):l},c.set=function(l){this.value_,l=this.prepareNewValue_(l),l!==globalState.UNCHANGED&&this.setNewValue_(l)},c.prepareNewValue_=function(l){if(hasInterceptors(this)){var d=interceptChange(this,{object:this,type:UPDATE,newValue:l});if(!d)return globalState.UNCHANGED;l=d.newValue}return l=this.enhancer(l,this.value_,this.name_),this.equals(this.value_,l)?globalState.UNCHANGED:l},c.setNewValue_=function(l){var d=this.value_;this.value_=l,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:l,oldValue:d})},c.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},c.intercept_=function(l){return registerInterceptor(this,l)},c.observe_=function(l,d){return d&&l({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,l)},c.raw=function(){return this.value_},c.toJSON=function(){return this.get()},c.toString=function(){return this.name_+"["+this.value_+"]"},c.valueOf=function(){return toPrimitive(this.get())},c[_Symbol$toPrimitive]=function(){return this.valueOf()},r}(Atom),isObservableValue=createInstanceofPredicate("ObservableValue",ObservableValue),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function a(c){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,c.get||die(31),this.derivation=c.get,this.name_=c.name||"ComputedValue",c.set&&(this.setter_=createAction("ComputedValue-setter",c.set)),this.equals_=c.equals||(c.compareStructural||c.struct?comparer.structural:comparer.default),this.scope_=c.context,this.requiresReaction_=c.requiresReaction,this.keepAlive_=!!c.keepAlive}var r=a.prototype;return r.onBecomeStale_=function(){propagateMaybeChanged(this)},r.onBO=function(){this.onBOL&&this.onBOL.forEach(function(u){return u()})},r.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(u){return u()})},r.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var u=globalState.trackingContext;this.keepAlive_&&!u&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=u}var l=this.value_;if(isCaughtException(l))throw l.cause;return l},r.set=function(u){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,u)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},r.trackAndCompute=function(){var u=this.value_,l=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,d=this.computeValue_(!0),y=l||isCaughtException(u)||isCaughtException(d)||!this.equals_(u,d);return y&&(this.value_=d),y},r.computeValue_=function(u){this.isComputing_=!0;var l=allowStateChangesStart(!1),d;if(u)d=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)d=this.derivation.call(this.scope_);else try{d=this.derivation.call(this.scope_)}catch(y){d=new CaughtException(y)}return allowStateChangesEnd(l),this.isComputing_=!1,d},r.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},r.observe_=function(u,l){var d=this,y=!0,m=void 0;return autorun(function(){var wr=d.get();if(!y||l){var Sr=untrackedStart();u({observableKind:"computed",debugObjectName:d.name_,type:UPDATE,object:d,newValue:wr,oldValue:m}),untrackedEnd(Sr)}y=!1,m=wr})},r.warnAboutUntrackedRead_=function(){},r.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},r.valueOf=function(){return toPrimitive(this.get())},r[_Symbol$toPrimitive$1]=function(){return this.valueOf()},a}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(a){a[a.NOT_TRACKING_=-1]="NOT_TRACKING_",a[a.UP_TO_DATE_=0]="UP_TO_DATE_",a[a.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",a[a.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(a){a[a.NONE=0]="NONE",a[a.LOG=1]="LOG",a[a.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function a(r){this.cause=void 0,this.cause=r};function isCaughtException(a){return a instanceof CaughtException}function shouldCompute(a){switch(a.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var r=allowStateReadsStart(!0),c=untrackedStart(),u=a.observing_,l=u.length,d=0;d<l;d++){var y=u[d];if(isComputedValue(y)){if(globalState.disableErrorBoundaries)y.get();else try{y.get()}catch{return untrackedEnd(c),allowStateReadsEnd(r),!0}if(a.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(c),allowStateReadsEnd(r),!0}}return changeDependenciesStateTo0(a),untrackedEnd(c),allowStateReadsEnd(r),!1}}}function isComputingDerivation(){return globalState.trackingDerivation!==null}function checkIfStateModificationsAreAllowed(a){}function trackDerivedFunction(a,r,c){var u=allowStateReadsStart(!0);changeDependenciesStateTo0(a),a.newObserving_=new Array(a.observing_.length+100),a.unboundDepsCount_=0,a.runId_=++globalState.runId;var l=globalState.trackingDerivation;globalState.trackingDerivation=a,globalState.inBatch++;var d;if(globalState.disableErrorBoundaries===!0)d=r.call(c);else try{d=r.call(c)}catch(y){d=new CaughtException(y)}return globalState.inBatch--,globalState.trackingDerivation=l,bindDependencies(a),allowStateReadsEnd(u),d}function bindDependencies(a){for(var r=a.observing_,c=a.observing_=a.newObserving_,u=IDerivationState_.UP_TO_DATE_,l=0,d=a.unboundDepsCount_,y=0;y<d;y++){var m=c[y];m.diffValue_===0&&(m.diffValue_=1,l!==y&&(c[l]=m),l++),m.dependenciesState_>u&&(u=m.dependenciesState_)}for(c.length=l,a.newObserving_=null,d=r.length;d--;){var wr=r[d];wr.diffValue_===0&&removeObserver(wr,a),wr.diffValue_=0}for(;l--;){var Sr=c[l];Sr.diffValue_===1&&(Sr.diffValue_=0,addObserver(Sr,a))}u!==IDerivationState_.UP_TO_DATE_&&(a.dependenciesState_=u,a.onBecomeStale_())}function clearObserving(a){var r=a.observing_;a.observing_=[];for(var c=r.length;c--;)removeObserver(r[c],a);a.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(a){var r=untrackedStart();try{return a()}finally{untrackedEnd(r)}}function untrackedStart(){var a=globalState.trackingDerivation;return globalState.trackingDerivation=null,a}function untrackedEnd(a){globalState.trackingDerivation=a}function allowStateReadsStart(a){var r=globalState.allowStateReads;return globalState.allowStateReads=a,r}function allowStateReadsEnd(a){globalState.allowStateReads=a}function changeDependenciesStateTo0(a){if(a.dependenciesState_!==IDerivationState_.UP_TO_DATE_){a.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var r=a.observing_,c=r.length;c--;)r[c].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var persistentKeys=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],MobXGlobals=function a(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){var a=getGlobal();return a.__mobxInstanceCount>0&&!a.__mobxGlobals&&(canMergeGlobalState=!1),a.__mobxGlobals&&a.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?a.__mobxGlobals?(a.__mobxInstanceCount+=1,a.__mobxGlobals.UNCHANGED||(a.__mobxGlobals.UNCHANGED={}),a.__mobxGlobals):(a.__mobxInstanceCount=1,a.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){if((globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState){var a=getGlobal();--a.__mobxInstanceCount===0&&(a.__mobxGlobals=void 0),globalState=new MobXGlobals}}function getGlobalState(){return globalState}function resetGlobalState(){var a=new MobXGlobals;for(var r in a)persistentKeys.indexOf(r)===-1&&(globalState[r]=a[r]);globalState.allowStateChanges=!globalState.enforceActions}function hasObservers(a){return a.observers_&&a.observers_.size>0}function getObservers(a){return a.observers_}function addObserver(a,r){a.observers_.add(r),a.lowestObserverState_>r.dependenciesState_&&(a.lowestObserverState_=r.dependenciesState_)}function removeObserver(a,r){a.observers_.delete(r),a.observers_.size===0&&queueForUnobservation(a)}function queueForUnobservation(a){a.isPendingUnobservation_===!1&&(a.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(a))}function startBatch(){globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var a=globalState.pendingUnobservations,r=0;r<a.length;r++){var c=a[r];c.isPendingUnobservation_=!1,c.observers_.size===0&&(c.isBeingObserved_&&(c.isBeingObserved_=!1,c.onBUO()),c instanceof ComputedValue&&c.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(a){var r=globalState.trackingDerivation;return r!==null?(r.runId_!==a.lastAccessedBy_&&(a.lastAccessedBy_=r.runId_,r.newObserving_[r.unboundDepsCount_++]=a,!a.isBeingObserved_&&globalState.trackingContext&&(a.isBeingObserved_=!0,a.onBO())),!0):(a.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(a),!1)}function propagateChanged(a){a.lowestObserverState_!==IDerivationState_.STALE_&&(a.lowestObserverState_=IDerivationState_.STALE_,a.observers_.forEach(function(r){r.dependenciesState_===IDerivationState_.UP_TO_DATE_&&r.onBecomeStale_(),r.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(a){a.lowestObserverState_!==IDerivationState_.STALE_&&(a.lowestObserverState_=IDerivationState_.STALE_,a.observers_.forEach(function(r){r.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?r.dependenciesState_=IDerivationState_.STALE_:r.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(a.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(a){a.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(a.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,a.observers_.forEach(function(r){r.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(r.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,r.onBecomeStale_())}))}var Reaction=function(){function a(c,u,l,d){c===void 0&&(c="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=c,this.onInvalidate_=u,this.errorHandler_=l,this.requiresObservable_=d}var r=a.prototype;return r.onBecomeStale_=function(){this.schedule_()},r.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},r.isScheduled=function(){return this.isScheduled_},r.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var u=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(l){this.reportExceptionInDerivation_(l)}}globalState.trackingContext=u,endBatch()}},r.track=function(u){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var l=globalState.trackingContext;globalState.trackingContext=this;var d=trackDerivedFunction(this,u,void 0);globalState.trackingContext=l,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(d)&&this.reportExceptionInDerivation_(d.cause),endBatch()}},r.reportExceptionInDerivation_=function(u){var l=this;if(this.errorHandler_){this.errorHandler_(u,this);return}if(globalState.disableErrorBoundaries)throw u;var d="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(d,u),globalState.globalReactionErrorHandlers.forEach(function(y){return y(u,l)})},r.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},r.getDisposer_=function(){var u=this.dispose.bind(this);return u[$mobx]=this,u},r.toString=function(){return"Reaction["+this.name_+"]"},r.trace=function(u){u===void 0&&(u=!1),trace(this,u)},a}();function onReactionError(a){return globalState.globalReactionErrorHandlers.push(a),function(){var r=globalState.globalReactionErrorHandlers.indexOf(a);r>=0&&globalState.globalReactionErrorHandlers.splice(r,1)}}var MAX_REACTION_ITERATIONS=100,reactionScheduler=function a(r){return r()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var a=globalState.pendingReactions,r=0;a.length>0;){++r===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+a[0]),a.splice(0));for(var c=a.splice(0),u=0,l=c.length;u<l;u++)c[u].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(a){var r=reactionScheduler;reactionScheduler=function(u){return a(function(){return r(u)})}}function isSpyEnabled(){return!1}function spyReport(a){}function spyReportStart(a){}function spyReportEnd(a){}function spy(a){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(a){var r=function(u,l){if(isFunction(u))return createAction(u.name||DEFAULT_ACTION_NAME,u,a);if(isFunction(l))return createAction(u,l,a);if(isStringish(l))return storeAnnotation(u,l,a?autoActionAnnotation:actionAnnotation);if(isStringish(u))return createDecoratorAnnotation(createActionAnnotation(a?AUTOACTION:ACTION,{name:u,autoAction:a}))};return r}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(a){return executeAction(a.name||DEFAULT_ACTION_NAME,!1,a,this,void 0)}function isAction(a){return isFunction(a)&&a.isMobxAction===!0}function autorun(a,r){var c,u;r===void 0&&(r=EMPTY_OBJECT);var l=(c=(u=r)==null?void 0:u.name)!=null?c:"Autorun",d=!r.scheduler&&!r.delay,y;if(d)y=new Reaction(l,function(){this.track(Sr)},r.onError,r.requiresObservable);else{var m=createSchedulerFromOptions(r),wr=!1;y=new Reaction(l,function(){wr||(wr=!0,m(function(){wr=!1,y.isDisposed_||y.track(Sr)}))},r.onError,r.requiresObservable)}function Sr(){a(y)}return y.schedule_(),y.getDisposer_()}var run=function a(r){return r()};function createSchedulerFromOptions(a){return a.scheduler?a.scheduler:a.delay?function(r){return setTimeout(r,a.delay)}:run}function reaction(a,r,c){var u;c===void 0&&(c=EMPTY_OBJECT);var l=(u=c.name)!=null?u:"Reaction",d=action(l,c.onError?wrapErrorHandler(c.onError,r):r),y=!c.scheduler&&!c.delay,m=createSchedulerFromOptions(c),wr=!0,Sr=!1,Ar,Ir,$r=c.compareStructural?comparer.structural:c.equals||comparer.default,kr=new Reaction(l,function(){wr||y?Dr():Sr||(Sr=!0,m(Dr))},c.onError,c.requiresObservable);function Dr(){if(Sr=!1,!kr.isDisposed_){var Cr=!1;kr.track(function(){var Br=allowStateChanges(!1,function(){return a(kr)});Cr=wr||!$r(Ar,Br),Ir=Ar,Ar=Br}),(wr&&c.fireImmediately||!wr&&Cr)&&d(Ar,Ir,kr),wr=!1}}return kr.schedule_(),kr.getDisposer_()}function wrapErrorHandler(a,r){return function(){try{return r.apply(this,arguments)}catch(c){a.call(this,c)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(a,r,c){return interceptHook(ON_BECOME_OBSERVED,a,r,c)}function onBecomeUnobserved(a,r,c){return interceptHook(ON_BECOME_UNOBSERVED,a,r,c)}function interceptHook(a,r,c,u){var l=typeof u=="function"?getAtom(r,c):getAtom(r),d=isFunction(u)?u:c,y=a+"L";return l[y]?l[y].add(d):l[y]=new Set([d]),function(){var m=l[y];m&&(m.delete(d),m.size===0&&delete l[y])}}var NEVER="never",ALWAYS="always",OBSERVED="observed";function configure(a){a.isolateGlobalState===!0&&isolateGlobalState();var r=a.useProxies,c=a.enforceActions;if(r!==void 0&&(globalState.useProxies=r===ALWAYS?!0:r===NEVER?!1:typeof Proxy<"u"),r==="ifavailable"&&(globalState.verifyProxies=!0),c!==void 0){var u=c===ALWAYS?ALWAYS:c===OBSERVED;globalState.enforceActions=u,globalState.allowStateChanges=!(u===!0||u===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(l){l in a&&(globalState[l]=!!a[l])}),globalState.allowStateReads=!globalState.observableRequiresReaction,a.reactionScheduler&&setReactionScheduler(a.reactionScheduler)}function extendObservable(a,r,c,u){var l=getOwnPropertyDescriptors(r),d=asObservableObject(a,u)[$mobx];startBatch();try{ownKeys(l).forEach(function(y){d.extend_(y,l[y],c&&y in c?c[y]:!0)})}finally{endBatch()}return a}function getDependencyTree(a,r){return nodeToDependencyTree(getAtom(a,r))}function nodeToDependencyTree(a){var r={name:a.name_};return a.observing_&&a.observing_.length>0&&(r.dependencies=unique(a.observing_).map(nodeToDependencyTree)),r}function getObserverTree(a,r){return nodeToObserverTree(getAtom(a,r))}function nodeToObserverTree(a){var r={name:a.name_};return hasObservers(a)&&(r.observers=Array.from(getObservers(a)).map(nodeToObserverTree)),r}function unique(a){return Array.from(new Set(a))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);function isFlowCancellationError(a){return a instanceof FlowCancellationError}var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function a(r,c){if(isStringish(c))return storeAnnotation(r,c,flowAnnotation);var u=r,l=u.name||"<unnamed flow>",d=function(){var m=this,wr=arguments,Sr=++generatorId,Ar=action(l+" - runid: "+Sr+" - init",u).apply(m,wr),Ir,$r=void 0,kr=new Promise(function(Dr,Cr){var Br=0;Ir=Cr;function Fr(Jr){$r=void 0;var Qr;try{Qr=action(l+" - runid: "+Sr+" - yield "+Br++,Ar.next).call(Ar,Jr)}catch(Wr){return Cr(Wr)}Vr(Qr)}function qr(Jr){$r=void 0;var Qr;try{Qr=action(l+" - runid: "+Sr+" - yield "+Br++,Ar.throw).call(Ar,Jr)}catch(Wr){return Cr(Wr)}Vr(Qr)}function Vr(Jr){if(isFunction(Jr?.then)){Jr.then(Vr,Cr);return}return Jr.done?Dr(Jr.value):($r=Promise.resolve(Jr.value),$r.then(Fr,qr))}Fr(void 0)});return kr.cancel=action(l+" - runid: "+Sr+" - cancel",function(){try{$r&&cancelPromise($r);var Dr=Ar.return(void 0),Cr=Promise.resolve(Dr.value);Cr.then(noop,noop),cancelPromise(Cr),Ir(new FlowCancellationError)}catch(Br){Ir(Br)}}),kr};return d.isMobXFlow=!0,d},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(a){isFunction(a.cancel)&&a.cancel()}function flowResult(a){return a}function isFlow(a){return a?.isMobXFlow===!0}function interceptReads(a,r,c){var u;return isObservableMap(a)||isObservableArray(a)||isObservableValue(a)?u=getAdministration(a):isObservableObject(a)&&(u=getAdministration(a,r)),u.dehancer=typeof r=="function"?r:c,function(){u.dehancer=void 0}}function intercept(a,r,c){return isFunction(c)?interceptProperty(a,r,c):interceptInterceptable(a,r)}function interceptInterceptable(a,r){return getAdministration(a).intercept_(r)}function interceptProperty(a,r,c){return getAdministration(a,r).intercept_(c)}function _isComputed(a,r){if(r===void 0)return isComputedValue(a);if(isObservableObject(a)===!1||!a[$mobx].values_.has(r))return!1;var c=getAtom(a,r);return isComputedValue(c)}function isComputed(a){return _isComputed(a)}function isComputedProp(a,r){return _isComputed(a,r)}function _isObservable(a,r){return a?r!==void 0?isObservableObject(a)?a[$mobx].values_.has(r):!1:isObservableObject(a)||!!a[$mobx]||isAtom(a)||isReaction(a)||isComputedValue(a):!1}function isObservable(a){return _isObservable(a)}function isObservableProp(a,r){return _isObservable(a,r)}function keys(a){if(isObservableObject(a))return a[$mobx].keys_();if(isObservableMap(a)||isObservableSet(a))return Array.from(a.keys());if(isObservableArray(a))return a.map(function(r,c){return c});die(5)}function values(a){if(isObservableObject(a))return keys(a).map(function(r){return a[r]});if(isObservableMap(a))return keys(a).map(function(r){return a.get(r)});if(isObservableSet(a))return Array.from(a.values());if(isObservableArray(a))return a.slice();die(6)}function entries(a){if(isObservableObject(a))return keys(a).map(function(r){return[r,a[r]]});if(isObservableMap(a))return keys(a).map(function(r){return[r,a.get(r)]});if(isObservableSet(a))return Array.from(a.entries());if(isObservableArray(a))return a.map(function(r,c){return[c,r]});die(7)}function set(a,r,c){if(arguments.length===2&&!isObservableSet(a)){startBatch();var u=r;try{for(var l in u)set(a,l,u[l])}finally{endBatch()}return}isObservableObject(a)?a[$mobx].set_(r,c):isObservableMap(a)?a.set(r,c):isObservableSet(a)?a.add(r):isObservableArray(a)?(typeof r!="number"&&(r=parseInt(r,10)),r<0&&die("Invalid index: '"+r+"'"),startBatch(),r>=a.length&&(a.length=r+1),a[r]=c,endBatch()):die(8)}function remove(a,r){isObservableObject(a)?a[$mobx].delete_(r):isObservableMap(a)||isObservableSet(a)?a.delete(r):isObservableArray(a)?(typeof r!="number"&&(r=parseInt(r,10)),a.splice(r,1)):die(9)}function has(a,r){if(isObservableObject(a))return a[$mobx].has_(r);if(isObservableMap(a))return a.has(r);if(isObservableSet(a))return a.has(r);if(isObservableArray(a))return r>=0&&r<a.length;die(10)}function get(a,r){if(!!has(a,r)){if(isObservableObject(a))return a[$mobx].get_(r);if(isObservableMap(a))return a.get(r);if(isObservableArray(a))return a[r];die(11)}}function apiDefineProperty(a,r,c){if(isObservableObject(a))return a[$mobx].defineProperty_(r,c);die(39)}function apiOwnKeys(a){if(isObservableObject(a))return a[$mobx].ownKeys_();die(38)}function observe(a,r,c,u){return isFunction(c)?observeObservableProperty(a,r,c,u):observeObservable(a,r,c)}function observeObservable(a,r,c){return getAdministration(a).observe_(r,c)}function observeObservableProperty(a,r,c,u){return getAdministration(a,r).observe_(c,u)}function cache(a,r,c){return a.set(r,c),c}function toJSHelper(a,r){if(a==null||typeof a!="object"||a instanceof Date||!isObservable(a))return a;if(isObservableValue(a)||isComputedValue(a))return toJSHelper(a.get(),r);if(r.has(a))return r.get(a);if(isObservableArray(a)){var c=cache(r,a,new Array(a.length));return a.forEach(function(y,m){c[m]=toJSHelper(y,r)}),c}if(isObservableSet(a)){var u=cache(r,a,new Set);return a.forEach(function(y){u.add(toJSHelper(y,r))}),u}if(isObservableMap(a)){var l=cache(r,a,new Map);return a.forEach(function(y,m){l.set(m,toJSHelper(y,r))}),l}else{var d=cache(r,a,{});return apiOwnKeys(a).forEach(function(y){objectPrototype.propertyIsEnumerable.call(a,y)&&(d[y]=toJSHelper(a[y],r))}),d}}function toJS(a,r){return toJSHelper(a,new Map)}function trace(){die("trace() is not available in production builds");for(var a=!1,r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];typeof c[c.length-1]=="boolean"&&(a=c.pop());var l=getAtomFromArgs(c);if(!l)return die("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");l.isTracing_===TraceMode.NONE&&console.log("[mobx.trace] '"+l.name_+"' tracing enabled"),l.isTracing_=a?TraceMode.BREAK:TraceMode.LOG}function getAtomFromArgs(a){switch(a.length){case 0:return globalState.trackingDerivation;case 1:return getAtom(a[0]);case 2:return getAtom(a[0],a[1])}}function transaction(a,r){r===void 0&&(r=void 0),startBatch();try{return a.apply(r)}finally{endBatch()}}function when(a,r,c){return arguments.length===1||r&&typeof r=="object"?whenPromise(a,r):_when(a,r,c||{})}function _when(a,r,c){var u;if(typeof c.timeout=="number"){var l=new Error("WHEN_TIMEOUT");u=setTimeout(function(){if(!y[$mobx].isDisposed_)if(y(),c.onError)c.onError(l);else throw l},c.timeout)}c.name="When";var d=createAction("When-effect",r),y=autorun(function(m){var wr=allowStateChanges(!1,a);wr&&(m.dispose(),u&&clearTimeout(u),d())},c);return y}function whenPromise(a,r){var c,u=new Promise(function(l,d){var y=_when(a,l,_extends({},r,{onError:d}));c=function(){y(),d(new Error("WHEN_CANCELLED"))}});return u.cancel=c,u}function getAdm(a){return a[$mobx]}var objectProxyTraps={has:function a(r,c){return getAdm(r).has_(c)},get:function a(r,c){return getAdm(r).get_(c)},set:function a(r,c,u){var l;return isStringish(c)?(l=getAdm(r).set_(c,u,!0))!=null?l:!0:!1},deleteProperty:function a(r,c){var u;return isStringish(c)?(u=getAdm(r).delete_(c,!0))!=null?u:!0:!1},defineProperty:function a(r,c,u){var l;return(l=getAdm(r).defineProperty_(c,u))!=null?l:!0},ownKeys:function a(r){return getAdm(r).ownKeys_()},preventExtensions:function a(r){die(13)}};function asDynamicObservableObject(a,r){var c,u;return assertProxies(),a=asObservableObject(a,r),(u=(c=a[$mobx]).proxy_)!=null?u:c.proxy_=new Proxy(a,objectProxyTraps)}function hasInterceptors(a){return a.interceptors_!==void 0&&a.interceptors_.length>0}function registerInterceptor(a,r){var c=a.interceptors_||(a.interceptors_=[]);return c.push(r),once(function(){var u=c.indexOf(r);u!==-1&&c.splice(u,1)})}function interceptChange(a,r){var c=untrackedStart();try{for(var u=[].concat(a.interceptors_||[]),l=0,d=u.length;l<d&&(r=u[l](r),r&&!r.type&&die(14),!!r);l++);return r}finally{untrackedEnd(c)}}function hasListeners(a){return a.changeListeners_!==void 0&&a.changeListeners_.length>0}function registerListener(a,r){var c=a.changeListeners_||(a.changeListeners_=[]);return c.push(r),once(function(){var u=c.indexOf(r);u!==-1&&c.splice(u,1)})}function notifyListeners(a,r){var c=untrackedStart(),u=a.changeListeners_;if(!!u){u=u.slice();for(var l=0,d=u.length;l<d;l++)u[l](r);untrackedEnd(c)}}function makeObservable(a,r,c){var u=asObservableObject(a,c)[$mobx];startBatch();try{var l;(l=r)!=null||(r=collectStoredAnnotations(a)),ownKeys(r).forEach(function(d){return u.make_(d,r[d])})}finally{endBatch()}return a}var keysSymbol=Symbol("mobx-keys");function makeAutoObservable(a,r,c){if(isPlainObject(a))return extendObservable(a,a,r,c);var u=asObservableObject(a,c)[$mobx];if(!a[keysSymbol]){var l=Object.getPrototypeOf(a),d=new Set([].concat(ownKeys(a),ownKeys(l)));d.delete("constructor"),d.delete($mobx),addHiddenProp$1(l,keysSymbol,d)}startBatch();try{a[keysSymbol].forEach(function(y){return u.make_(y,r&&y in r?r[y]:!0)})}finally{endBatch()}return a}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function a(r,c){var u=r[$mobx];return c===$mobx?u:c==="length"?u.getArrayLength_():typeof c=="string"&&!isNaN(c)?u.get_(parseInt(c)):hasProp(arrayExtensions,c)?arrayExtensions[c]:r[c]},set:function a(r,c,u){var l=r[$mobx];return c==="length"&&l.setArrayLength_(u),typeof c=="symbol"||isNaN(c)?r[c]=u:l.set_(parseInt(c),u),!0},preventExtensions:function a(){die(15)}},ObservableArrayAdministration=function(){function a(c,u,l,d){c===void 0&&(c="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=l,this.legacyMode_=d,this.atom_=new Atom(c),this.enhancer_=function(y,m){return u(y,m,"ObservableArray[..]")}}var r=a.prototype;return r.dehanceValue_=function(u){return this.dehancer!==void 0?this.dehancer(u):u},r.dehanceValues_=function(u){return this.dehancer!==void 0&&u.length>0?u.map(this.dehancer):u},r.intercept_=function(u){return registerInterceptor(this,u)},r.observe_=function(u,l){return l===void 0&&(l=!1),l&&u({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,u)},r.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},r.setArrayLength_=function(u){(typeof u!="number"||isNaN(u)||u<0)&&die("Out of range: "+u);var l=this.values_.length;if(u!==l)if(u>l){for(var d=new Array(u-l),y=0;y<u-l;y++)d[y]=void 0;this.spliceWithArray_(l,0,d)}else this.spliceWithArray_(u,l-u)},r.updateArrayLength_=function(u,l){u!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=l,this.legacyMode_&&l>0&&reserveArrayBuffer(u+l+1)},r.spliceWithArray_=function(u,l,d){var y=this;this.atom_;var m=this.values_.length;if(u===void 0?u=0:u>m?u=m:u<0&&(u=Math.max(0,m+u)),arguments.length===1?l=m-u:l==null?l=0:l=Math.max(0,Math.min(l,m-u)),d===void 0&&(d=EMPTY_ARRAY),hasInterceptors(this)){var wr=interceptChange(this,{object:this.proxy_,type:SPLICE,index:u,removedCount:l,added:d});if(!wr)return EMPTY_ARRAY;l=wr.removedCount,d=wr.added}if(d=d.length===0?d:d.map(function(Ir){return y.enhancer_(Ir,void 0)}),this.legacyMode_){var Sr=d.length-l;this.updateArrayLength_(m,Sr)}var Ar=this.spliceItemsIntoValues_(u,l,d);return(l!==0||d.length!==0)&&this.notifyArraySplice_(u,d,Ar),this.dehanceValues_(Ar)},r.spliceItemsIntoValues_=function(u,l,d){if(d.length<MAX_SPLICE_SIZE){var y;return(y=this.values_).splice.apply(y,[u,l].concat(d))}else{var m=this.values_.slice(u,u+l),wr=this.values_.slice(u+l);this.values_.length+=d.length-l;for(var Sr=0;Sr<d.length;Sr++)this.values_[u+Sr]=d[Sr];for(var Ar=0;Ar<wr.length;Ar++)this.values_[u+d.length+Ar]=wr[Ar];return m}},r.notifyArrayChildUpdate_=function(u,l,d){var y=!this.owned_&&isSpyEnabled(),m=hasListeners(this),wr=m||y?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:u,newValue:l,oldValue:d}:null;this.atom_.reportChanged(),m&&notifyListeners(this,wr)},r.notifyArraySplice_=function(u,l,d){var y=!this.owned_&&isSpyEnabled(),m=hasListeners(this),wr=m||y?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:u,removed:d,added:l,removedCount:d.length,addedCount:l.length}:null;this.atom_.reportChanged(),m&&notifyListeners(this,wr)},r.get_=function(u){if(u<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[u]);console.warn("[mobx.array] Attempt to read an array index ("+u+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},r.set_=function(u,l){var d=this.values_;if(u<d.length){this.atom_;var y=d[u];if(hasInterceptors(this)){var m=interceptChange(this,{type:UPDATE,object:this.proxy_,index:u,newValue:l});if(!m)return;l=m.newValue}l=this.enhancer_(l,y);var wr=l!==y;wr&&(d[u]=l,this.notifyArrayChildUpdate_(u,l,y))}else u===d.length?this.spliceWithArray_(u,0,[l]):die(17,u,d.length)},a}();function createObservableArray(a,r,c,u){c===void 0&&(c="ObservableArray"),u===void 0&&(u=!1),assertProxies();var l=new ObservableArrayAdministration(c,r,u,!1);addHiddenFinalProp(l.values_,$mobx,l);var d=new Proxy(l.values_,arrayTraps);if(l.proxy_=d,a&&a.length){var y=allowStateChangesStart(!0);l.spliceWithArray_(0,0,a),allowStateChangesEnd(y)}return d}var arrayExtensions={clear:function a(){return this.splice(0)},replace:function a(r){var c=this[$mobx];return c.spliceWithArray_(0,c.values_.length,r)},toJSON:function a(){return this.slice()},splice:function a(r,c){for(var u=arguments.length,l=new Array(u>2?u-2:0),d=2;d<u;d++)l[d-2]=arguments[d];var y=this[$mobx];switch(arguments.length){case 0:return[];case 1:return y.spliceWithArray_(r);case 2:return y.spliceWithArray_(r,c)}return y.spliceWithArray_(r,c,l)},spliceWithArray:function a(r,c,u){return this[$mobx].spliceWithArray_(r,c,u)},push:function a(){for(var r=this[$mobx],c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return r.spliceWithArray_(r.values_.length,0,u),r.values_.length},pop:function a(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function a(){return this.splice(0,1)[0]},unshift:function a(){for(var r=this[$mobx],c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];return r.spliceWithArray_(0,0,u),r.values_.length},reverse:function a(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function a(){globalState.trackingDerivation&&die(37,"sort");var r=this.slice();return r.sort.apply(r,arguments),this.replace(r),this},remove:function a(r){var c=this[$mobx],u=c.dehanceValues_(c.values_).indexOf(r);return u>-1?(this.splice(u,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(a,r){typeof Array.prototype[a]=="function"&&(arrayExtensions[a]=r(a))}function simpleFunc(a){return function(){var r=this[$mobx];r.atom_.reportObserved();var c=r.dehanceValues_(r.values_);return c[a].apply(c,arguments)}}function mapLikeFunc(a){return function(r,c){var u=this,l=this[$mobx];l.atom_.reportObserved();var d=l.dehanceValues_(l.values_);return d[a](function(y,m){return r.call(c,y,m,u)})}}function reduceLikeFunc(a){return function(){var r=this,c=this[$mobx];c.atom_.reportObserved();var u=c.dehanceValues_(c.values_),l=arguments[0];return arguments[0]=function(d,y,m){return l(d,y,m,r)},u[a].apply(u,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(a){return isObject(a)&&isObservableArrayAdministration(a[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function a(c,u,l){var d=this;u===void 0&&(u=deepEnhancer),l===void 0&&(l="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=u,this.name_=l,isFunction(Map)||die(18),this.keysAtom_=createAtom("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,allowStateChanges(!0,function(){d.merge(c)})}var r=a.prototype;return r.has_=function(u){return this.data_.has(u)},r.has=function(u){var l=this;if(!globalState.trackingDerivation)return this.has_(u);var d=this.hasMap_.get(u);if(!d){var y=d=new ObservableValue(this.has_(u),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(u,y),onBecomeUnobserved(y,function(){return l.hasMap_.delete(u)})}return d.get()},r.set=function(u,l){var d=this.has_(u);if(hasInterceptors(this)){var y=interceptChange(this,{type:d?UPDATE:ADD,object:this,newValue:l,name:u});if(!y)return this;l=y.newValue}return d?this.updateValue_(u,l):this.addValue_(u,l),this},r.delete=function(u){var l=this;if(this.keysAtom_,hasInterceptors(this)){var d=interceptChange(this,{type:DELETE,object:this,name:u});if(!d)return!1}if(this.has_(u)){var y=isSpyEnabled(),m=hasListeners(this),wr=m||y?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(u).value_,name:u}:null;return transaction(function(){var Sr;l.keysAtom_.reportChanged(),(Sr=l.hasMap_.get(u))==null||Sr.setNewValue_(!1);var Ar=l.data_.get(u);Ar.setNewValue_(void 0),l.data_.delete(u)}),m&&notifyListeners(this,wr),!0}return!1},r.updateValue_=function(u,l){var d=this.data_.get(u);if(l=d.prepareNewValue_(l),l!==globalState.UNCHANGED){var y=isSpyEnabled(),m=hasListeners(this),wr=m||y?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:d.value_,name:u,newValue:l}:null;d.setNewValue_(l),m&&notifyListeners(this,wr)}},r.addValue_=function(u,l){var d=this;this.keysAtom_,transaction(function(){var Sr,Ar=new ObservableValue(l,d.enhancer_,"ObservableMap.key",!1);d.data_.set(u,Ar),l=Ar.value_,(Sr=d.hasMap_.get(u))==null||Sr.setNewValue_(!0),d.keysAtom_.reportChanged()});var y=isSpyEnabled(),m=hasListeners(this),wr=m||y?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:u,newValue:l}:null;m&&notifyListeners(this,wr)},r.get=function(u){return this.has(u)?this.dehanceValue_(this.data_.get(u).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(u){return this.dehancer!==void 0?this.dehancer(u):u},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var u=this,l=this.keys();return makeIterable({next:function(){var y=l.next(),m=y.done,wr=y.value;return{done:m,value:m?void 0:u.get(wr)}}})},r.entries=function(){var u=this,l=this.keys();return makeIterable({next:function(){var y=l.next(),m=y.done,wr=y.value;return{done:m,value:m?void 0:[wr,u.get(wr)]}}})},r[_Symbol$iterator]=function(){return this.entries()},r.forEach=function(u,l){for(var d=_createForOfIteratorHelperLoose(this),y;!(y=d()).done;){var m=y.value,wr=m[0],Sr=m[1];u.call(l,Sr,wr,this)}},r.merge=function(u){var l=this;return isObservableMap(u)&&(u=new Map(u)),transaction(function(){isPlainObject(u)?getPlainObjectKeys(u).forEach(function(d){return l.set(d,u[d])}):Array.isArray(u)?u.forEach(function(d){var y=d[0],m=d[1];return l.set(y,m)}):isES6Map(u)?(u.constructor!==Map&&die(19,u),u.forEach(function(d,y){return l.set(y,d)})):u!=null&&die(20,u)}),this},r.clear=function(){var u=this;transaction(function(){untracked(function(){for(var l=_createForOfIteratorHelperLoose(u.keys()),d;!(d=l()).done;){var y=d.value;u.delete(y)}})})},r.replace=function(u){var l=this;return transaction(function(){for(var d=convertToMap(u),y=new Map,m=!1,wr=_createForOfIteratorHelperLoose(l.data_.keys()),Sr;!(Sr=wr()).done;){var Ar=Sr.value;if(!d.has(Ar)){var Ir=l.delete(Ar);if(Ir)m=!0;else{var $r=l.data_.get(Ar);y.set(Ar,$r)}}}for(var kr=_createForOfIteratorHelperLoose(d.entries()),Dr;!(Dr=kr()).done;){var Cr=Dr.value,Br=Cr[0],Fr=Cr[1],qr=l.data_.has(Br);if(l.set(Br,Fr),l.data_.has(Br)){var Vr=l.data_.get(Br);y.set(Br,Vr),qr||(m=!0)}}if(!m)if(l.data_.size!==y.size)l.keysAtom_.reportChanged();else for(var Jr=l.data_.keys(),Qr=y.keys(),Wr=Jr.next(),Zr=Qr.next();!Wr.done;){if(Wr.value!==Zr.value){l.keysAtom_.reportChanged();break}Wr=Jr.next(),Zr=Qr.next()}l.data_=y}),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(u,l){return registerListener(this,u)},r.intercept_=function(u){return registerInterceptor(this,u)},_createClass(a,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),a}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(a){if(isES6Map(a)||isObservableMap(a))return a;if(Array.isArray(a))return new Map(a);if(isPlainObject(a)){var r=new Map;for(var c in a)r.set(c,a[c]);return r}else return die(21,a)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function a(c,u,l){u===void 0&&(u=deepEnhancer),l===void 0&&(l="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=l,isFunction(Set)||die(22),this.atom_=createAtom(this.name_),this.enhancer_=function(d,y){return u(d,y,l)},c&&this.replace(c)}var r=a.prototype;return r.dehanceValue_=function(u){return this.dehancer!==void 0?this.dehancer(u):u},r.clear=function(){var u=this;transaction(function(){untracked(function(){for(var l=_createForOfIteratorHelperLoose(u.data_.values()),d;!(d=l()).done;){var y=d.value;u.delete(y)}})})},r.forEach=function(u,l){for(var d=_createForOfIteratorHelperLoose(this),y;!(y=d()).done;){var m=y.value;u.call(l,m,m,this)}},r.add=function(u){var l=this;if(this.atom_,hasInterceptors(this)){var d=interceptChange(this,{type:ADD,object:this,newValue:u});if(!d)return this}if(!this.has(u)){transaction(function(){l.data_.add(l.enhancer_(u,void 0)),l.atom_.reportChanged()});var y=!1,m=hasListeners(this),wr=m||y?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:u}:null;m&&notifyListeners(this,wr)}return this},r.delete=function(u){var l=this;if(hasInterceptors(this)){var d=interceptChange(this,{type:DELETE,object:this,oldValue:u});if(!d)return!1}if(this.has(u)){var y=!1,m=hasListeners(this),wr=m||y?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:u}:null;return transaction(function(){l.atom_.reportChanged(),l.data_.delete(u)}),m&&notifyListeners(this,wr),!0}return!1},r.has=function(u){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(u))},r.entries=function(){var u=0,l=Array.from(this.keys()),d=Array.from(this.values());return makeIterable({next:function(){var m=u;return u+=1,m<d.length?{value:[l[m],d[m]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var u=this,l=0,d=Array.from(this.data_.values());return makeIterable({next:function(){return l<d.length?{value:u.dehanceValue_(d[l++]),done:!1}:{done:!0}}})},r.replace=function(u){var l=this;return isObservableSet(u)&&(u=new Set(u)),transaction(function(){Array.isArray(u)?(l.clear(),u.forEach(function(d){return l.add(d)})):isES6Set(u)?(l.clear(),u.forEach(function(d){return l.add(d)})):u!=null&&die("Cannot initialize set from "+u)}),this},r.observe_=function(u,l){return registerListener(this,u)},r.intercept_=function(u){return registerInterceptor(this,u)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[_Symbol$iterator$1]=function(){return this.values()},_createClass(a,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),a}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function a(c,u,l,d){u===void 0&&(u=new Map),d===void 0&&(d=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=c,this.values_=u,this.name_=l,this.defaultAnnotation_=d,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject(this.target_)}var r=a.prototype;return r.getObservablePropValue_=function(u){return this.values_.get(u).get()},r.setObservablePropValue_=function(u,l){var d=this.values_.get(u);if(d instanceof ComputedValue)return d.set(l),!0;if(hasInterceptors(this)){var y=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:u,newValue:l});if(!y)return null;l=y.newValue}if(l=d.prepareNewValue_(l),l!==globalState.UNCHANGED){var m=hasListeners(this),wr=!1,Sr=m||wr?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:d.value_,name:u,newValue:l}:null;d.setNewValue_(l),m&&notifyListeners(this,Sr)}return!0},r.get_=function(u){return globalState.trackingDerivation&&!hasProp(this.target_,u)&&this.has_(u),this.target_[u]},r.set_=function(u,l,d){return d===void 0&&(d=!1),hasProp(this.target_,u)?this.values_.has(u)?this.setObservablePropValue_(u,l):d?Reflect.set(this.target_,u,l):(this.target_[u]=l,!0):this.extend_(u,{value:l,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,d)},r.has_=function(u){if(!globalState.trackingDerivation)return u in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var l=this.pendingKeys_.get(u);return l||(l=new ObservableValue(u in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(u,l)),l.get()},r.make_=function(u,l){if(l===!0&&(l=this.defaultAnnotation_),l!==!1){if(!(u in this.target_)){var d;if((d=this.target_[storedAnnotationsSymbol])!=null&&d[u])return;die(1,l.annotationType_,this.name_+"."+u.toString())}for(var y=this.target_;y&&y!==objectPrototype;){var m=getDescriptor(y,u);if(m){var wr=l.make_(this,u,m,y);if(wr===0)return;if(wr===1)break}y=Object.getPrototypeOf(y)}recordAnnotationApplied(this,l,u)}},r.extend_=function(u,l,d,y){if(y===void 0&&(y=!1),d===!0&&(d=this.defaultAnnotation_),d===!1)return this.defineProperty_(u,l,y);var m=d.extend_(this,u,l,y);return m&&recordAnnotationApplied(this,d,u),m},r.defineProperty_=function(u,l,d){d===void 0&&(d=!1);try{startBatch();var y=this.delete_(u);if(!y)return y;if(hasInterceptors(this)){var m=interceptChange(this,{object:this.proxy_||this.target_,name:u,type:ADD,newValue:l.value});if(!m)return null;var wr=m.newValue;l.value!==wr&&(l=_extends({},l,{value:wr}))}if(d){if(!Reflect.defineProperty(this.target_,u,l))return!1}else defineProperty(this.target_,u,l);this.notifyPropertyAddition_(u,l.value)}finally{endBatch()}return!0},r.defineObservableProperty_=function(u,l,d,y){y===void 0&&(y=!1);try{startBatch();var m=this.delete_(u);if(!m)return m;if(hasInterceptors(this)){var wr=interceptChange(this,{object:this.proxy_||this.target_,name:u,type:ADD,newValue:l});if(!wr)return null;l=wr.newValue}var Sr=getCachedObservablePropDescriptor(u),Ar={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:Sr.get,set:Sr.set};if(y){if(!Reflect.defineProperty(this.target_,u,Ar))return!1}else defineProperty(this.target_,u,Ar);var Ir=new ObservableValue(l,d,"ObservableObject.key",!1);this.values_.set(u,Ir),this.notifyPropertyAddition_(u,Ir.value_)}finally{endBatch()}return!0},r.defineComputedProperty_=function(u,l,d){d===void 0&&(d=!1);try{startBatch();var y=this.delete_(u);if(!y)return y;if(hasInterceptors(this)){var m=interceptChange(this,{object:this.proxy_||this.target_,name:u,type:ADD,newValue:void 0});if(!m)return null}l.name||(l.name="ObservableObject.key"),l.context=this.proxy_||this.target_;var wr=getCachedObservablePropDescriptor(u),Sr={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:wr.get,set:wr.set};if(d){if(!Reflect.defineProperty(this.target_,u,Sr))return!1}else defineProperty(this.target_,u,Sr);this.values_.set(u,new ComputedValue(l)),this.notifyPropertyAddition_(u,void 0)}finally{endBatch()}return!0},r.delete_=function(u,l){if(l===void 0&&(l=!1),!hasProp(this.target_,u))return!0;if(hasInterceptors(this)){var d=interceptChange(this,{object:this.proxy_||this.target_,name:u,type:REMOVE});if(!d)return null}try{var y,m;startBatch();var wr=hasListeners(this),Sr=!1,Ar=this.values_.get(u),Ir=void 0;if(!Ar&&(wr||Sr)){var $r;Ir=($r=getDescriptor(this.target_,u))==null?void 0:$r.value}if(l){if(!Reflect.deleteProperty(this.target_,u))return!1}else delete this.target_[u];if(Ar&&(this.values_.delete(u),Ar instanceof ObservableValue&&(Ir=Ar.value_),propagateChanged(Ar)),this.keysAtom_.reportChanged(),(y=this.pendingKeys_)==null||(m=y.get(u))==null||m.set(u in this.target_),wr||Sr){var kr={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:Ir,name:u};wr&&notifyListeners(this,kr)}}finally{endBatch()}return!0},r.observe_=function(u,l){return registerListener(this,u)},r.intercept_=function(u){return registerInterceptor(this,u)},r.notifyPropertyAddition_=function(u,l){var d,y,m=hasListeners(this),wr=!1;if(m||wr){var Sr=m||wr?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:u,newValue:l}:null;m&&notifyListeners(this,Sr)}(d=this.pendingKeys_)==null||(y=d.get(u))==null||y.set(!0),this.keysAtom_.reportChanged()},r.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},r.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},a}();function asObservableObject(a,r){var c;if(hasProp(a,$mobx))return a;var u=(c=r?.name)!=null?c:"ObservableObject",l=new ObservableObjectAdministration(a,new Map,String(u),getAnnotationFromOptions(r));return addHiddenProp$1(a,$mobx,l),a}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(a){return descriptorCache[a]||(descriptorCache[a]={get:function(){return this[$mobx].getObservablePropValue_(a)},set:function(c){return this[$mobx].setObservablePropValue_(a,c)}})}function isObservableObject(a){return isObject(a)?isObservableObjectAdministration(a[$mobx]):!1}function recordAnnotationApplied(a,r,c){var u;(u=a.target_[storedAnnotationsSymbol])==null||delete u[c]}var ENTRY_0=createArrayEntryDescriptor(0),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function a(){};function inherit(a,r){Object.setPrototypeOf?Object.setPrototypeOf(a.prototype,r):a.prototype.__proto__!==void 0?a.prototype.__proto__=r:a.prototype=r}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(a,r,c){_inheritsLoose(u,a);function u(d,y,m,wr){var Sr;m===void 0&&(m="ObservableArray"),wr===void 0&&(wr=!1),Sr=a.call(this)||this;var Ar=new ObservableArrayAdministration(m,y,wr,!0);if(Ar.proxy_=_assertThisInitialized(Sr),addHiddenFinalProp(_assertThisInitialized(Sr),$mobx,Ar),d&&d.length){var Ir=allowStateChangesStart(!0);Sr.spliceWithArray(0,0,d),allowStateChangesEnd(Ir)}return Object.defineProperty(_assertThisInitialized(Sr),"0",ENTRY_0),Sr}var l=u.prototype;return l.concat=function(){this[$mobx].atom_.reportObserved();for(var y=arguments.length,m=new Array(y),wr=0;wr<y;wr++)m[wr]=arguments[wr];return Array.prototype.concat.apply(this.slice(),m.map(function(Sr){return isObservableArray(Sr)?Sr.slice():Sr}))},l[c]=function(){var d=this,y=0;return makeIterable({next:function(){return y<d.length?{value:d[y++],done:!1}:{done:!0,value:void 0}}})},_createClass(u,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(y){this[$mobx].setArrayLength_(y)}},{key:r,get:function(){return"Array"}}]),u}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(a){var r=a[0],c=a[1];r!=="concat"&&addHiddenProp$1(LegacyObservableArray.prototype,r,c)});function createArrayEntryDescriptor(a){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(a)},set:function(c){this[$mobx].set_(a,c)}}}function createArrayBufferItem(a){defineProperty(LegacyObservableArray.prototype,""+a,createArrayEntryDescriptor(a))}function reserveArrayBuffer(a){if(a>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var r=OBSERVABLE_ARRAY_BUFFER_SIZE;r<a+100;r++)createArrayBufferItem(r);OBSERVABLE_ARRAY_BUFFER_SIZE=a}}reserveArrayBuffer(1e3);function createLegacyArray(a,r,c){return new LegacyObservableArray(a,r,c)}function getAtom(a,r){if(typeof a=="object"&&a!==null){if(isObservableArray(a))return r!==void 0&&die(23),a[$mobx].atom_;if(isObservableSet(a))return a[$mobx];if(isObservableMap(a)){if(r===void 0)return a.keysAtom_;var c=a.data_.get(r)||a.hasMap_.get(r);return c||die(25,r,getDebugName(a)),c}if(isObservableObject(a)){if(!r)return die(26);var u=a[$mobx].values_.get(r);return u||die(27,r,getDebugName(a)),u}if(isAtom(a)||isComputedValue(a)||isReaction(a))return a}else if(isFunction(a)&&isReaction(a[$mobx]))return a[$mobx];die(28)}function getAdministration(a,r){if(a||die(29),r!==void 0)return getAdministration(getAtom(a,r));if(isAtom(a)||isComputedValue(a)||isReaction(a)||isObservableMap(a)||isObservableSet(a))return a;if(a[$mobx])return a[$mobx];die(24,a)}function getDebugName(a,r){var c;if(r!==void 0)c=getAtom(a,r);else{if(isAction(a))return a.name;isObservableObject(a)||isObservableMap(a)||isObservableSet(a)?c=getAdministration(a):c=getAtom(a)}return c.name_}var toString=objectPrototype.toString;function deepEqual(a,r,c){return c===void 0&&(c=-1),eq(a,r,c)}function eq(a,r,c,u,l){if(a===r)return a!==0||1/a===1/r;if(a==null||r==null)return!1;if(a!==a)return r!==r;var d=typeof a;if(d!=="function"&&d!=="object"&&typeof r!="object")return!1;var y=toString.call(a);if(y!==toString.call(r))return!1;switch(y){case"[object RegExp]":case"[object String]":return""+a==""+r;case"[object Number]":return+a!=+a?+r!=+r:+a==0?1/+a===1/r:+a==+r;case"[object Date]":case"[object Boolean]":return+a==+r;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(a)===Symbol.valueOf.call(r);case"[object Map]":case"[object Set]":c>=0&&c++;break}a=unwrap(a),r=unwrap(r);var m=y==="[object Array]";if(!m){if(typeof a!="object"||typeof r!="object")return!1;var wr=a.constructor,Sr=r.constructor;if(wr!==Sr&&!(isFunction(wr)&&wr instanceof wr&&isFunction(Sr)&&Sr instanceof Sr)&&"constructor"in a&&"constructor"in r)return!1}if(c===0)return!1;c<0&&(c=-1),u=u||[],l=l||[];for(var Ar=u.length;Ar--;)if(u[Ar]===a)return l[Ar]===r;if(u.push(a),l.push(r),m){if(Ar=a.length,Ar!==r.length)return!1;for(;Ar--;)if(!eq(a[Ar],r[Ar],c-1,u,l))return!1}else{var Ir=Object.keys(a),$r;if(Ar=Ir.length,Object.keys(r).length!==Ar)return!1;for(;Ar--;)if($r=Ir[Ar],!(hasProp(r,$r)&&eq(a[$r],r[$r],c-1,u,l)))return!1}return u.pop(),l.pop(),!0}function unwrap(a){return isObservableArray(a)?a.slice():isES6Map(a)||isObservableMap(a)||isES6Set(a)||isObservableSet(a)?Array.from(a.entries()):a}function makeIterable(a){return a[Symbol.iterator]=getSelf,a}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(a){var r=getGlobal();typeof r[a]>"u"&&die("MobX requires global '"+a+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});const mobx_esm=Object.freeze(Object.defineProperty({__proto__:null,$mobx,FlowCancellationError,ObservableMap,ObservableSet,Reaction,_allowStateChanges:allowStateChanges,_allowStateChangesInsideComputed:runInAction,_allowStateReadsEnd:allowStateReadsEnd,_allowStateReadsStart:allowStateReadsStart,_autoAction:autoAction,_endAction,_getAdministration:getAdministration,_getGlobalState:getGlobalState,_interceptReads:interceptReads,_isComputingDerivation:isComputingDerivation,_resetGlobalState:resetGlobalState,_startAction,action,autorun,comparer,computed,configure,createAtom,defineProperty:apiDefineProperty,entries,extendObservable,flow,flowResult,get,getAtom,getDebugName,getDependencyTree,getObserverTree,has,intercept,isAction,isBoxedObservable:isObservableValue,isComputed,isComputedProp,isFlow,isFlowCancellationError,isObservable,isObservableArray,isObservableMap,isObservableObject,isObservableProp,isObservableSet,keys,makeAutoObservable,makeObservable,observable,observe,onBecomeObserved,onBecomeUnobserved,onReactionError,override,ownKeys:apiOwnKeys,reaction,remove,runInAction,set,spy,toJS,trace,transaction,untracked,values,when},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(mobx_esm);(function(a){var r=commonjsGlobal&&commonjsGlobal.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(a,"__esModule",{value:!0}),a.Order=a.OrderSide=void 0;const c=require$$0$1,u=r(big.exports),l=require$$1;var d;(function(m){m.Buy="buy",m.Sell="sell"})(d=a.OrderSide||(a.OrderSide={}));class y{constructor(wr){this.id="",this.orderType=d.Buy,this.orderMint="",this.currencyMint="",this.currencyDecimals=0,this.price=new c.BN(0),this.orderQtyRemaining=0,this.orderOriginationQty=0,this.owner="",this.ownerAssetTokenAccount="",this.ownerCurrencyTokenAccount="",this.createdAt=0,this.slotContext=0,wr&&(this.id=wr.id,this.orderType=wr.orderType,this.orderMint=wr.orderMint,this.currencyMint=wr.currencyMint,this.currencyDecimals=wr.currencyDecimals,this.price=wr.price,this.orderQtyRemaining=wr.orderQtyRemaining,this.orderOriginationQty=wr.orderOriginationQty,this.owner=wr.owner,this.ownerAssetTokenAccount=wr.ownerAssetTokenAccount,this.ownerCurrencyTokenAccount=wr.ownerCurrencyTokenAccount,this.createdAt=wr.createdAt,this.slotContext=wr.slotContext),(0,l.makeObservable)(this,{orderQtyRemaining:l.observable})}get decimalDivisor(){return new u.default(10).pow(this.currencyDecimals)}get bigNumberPrice(){return new u.default(this.price.toString())}get uiPrice(){return this.bigNumberPrice.div(this.decimalDivisor).toNumber()}priceForQuantity(wr=1){return this.bigNumberPrice.mul(wr).div(this.decimalDivisor).toNumber()}}a.Order=y})(Order);(function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(Order,a)})(models);var hasRequiredExchangeOrder;function requireExchangeOrder(){if(hasRequiredExchangeOrder)return exchangeOrder;hasRequiredExchangeOrder=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(Sr,Ar,Ir,$r){function kr(Dr){return Dr instanceof Ir?Dr:new Ir(function(Cr){Cr(Dr)})}return new(Ir||(Ir=Promise))(function(Dr,Cr){function Br(Vr){try{qr($r.next(Vr))}catch(Jr){Cr(Jr)}}function Fr(Vr){try{qr($r.throw(Vr))}catch(Jr){Cr(Jr)}}function qr(Vr){Vr.done?Dr(Vr.value):kr(Vr.value).then(Br,Fr)}qr(($r=$r.apply(Sr,Ar||[])).next())})};Object.defineProperty(exchangeOrder,"__esModule",{value:!0}),exchangeOrder.createExchangeInstruction=void 0;const r=require$$0$1,c=require$$0$2,u=utils,l=requirePda_getters(),d=requirePda_getters(),y=requireUtil(),m=models;function wr({connection:Sr,orderAccount:Ar,purchaseQty:Ir,orderTaker:$r,orderTakerDepositTokenAccount:kr,programId:Dr,expectedPrice:Cr,orderType:Br,assetMint:Fr,currencyMint:qr,orderInitializer:Vr,saVault:Jr,stakingProgramId:Qr,registeredStake:Wr,stakingAccount:Zr}){return a(this,void 0,void 0,function*(){const rn=(0,u.getMarketplaceProgram)({connection:Sr,programId:Dr}),gn={signers:[],instructions:[]};Qr=r.web3.Keypair.generate().publicKey,Wr=r.web3.Keypair.generate().publicKey,Zr=r.web3.Keypair.generate().publicKey;const an=Br===m.OrderSide.Sell?new c.PublicKey(Fr):new c.PublicKey(qr),fn=Br===m.OrderSide.Sell?new c.PublicKey(qr):new c.PublicKey(Fr);let mn=null,Mr=null,xr=null,Pr=yield(0,y.getTokenAccount)(Sr,Vr,an,$r);"createInstruction"in Pr?(gn.instructions.push(Pr.createInstruction),Pr.tokenAccount instanceof r.web3.Keypair?(mn=Pr.tokenAccount.publicKey,gn.signers.push(Pr.tokenAccount)):mn=Pr.tokenAccount):mn=Pr.tokenAccount,Pr=yield(0,y.getTokenAccount)(Sr,Vr,fn,$r),"createInstruction"in Pr?(gn.instructions.push(Pr.createInstruction),Pr.tokenAccount instanceof r.web3.Keypair?(Mr=Pr.tokenAccount.publicKey,gn.signers.push(Pr.tokenAccount)):Mr=Pr.tokenAccount):Mr=Pr.tokenAccount;const[Kr]=yield(0,l.getOrderVault)(Vr,an,Dr),[Hr]=yield(0,d.getOpenOrdersCounter)(Vr,an,Dr);Pr=yield(0,y.getTokenAccount)(Sr,$r,an),"createInstruction"in Pr?(gn.instructions.push(Pr.createInstruction),Pr.tokenAccount instanceof r.web3.Keypair?(xr=Pr.tokenAccount.publicKey,gn.signers.push(Pr.tokenAccount)):xr=Pr.tokenAccount):xr=Pr.tokenAccount;const Gr=Br===m.OrderSide.Buy?$r:Vr,un=yield rn.methods.processExchange(new r.BN(Ir),Cr,Gr).accounts({orderTaker:$r,orderTakerDepositTokenAccount:kr,orderTakerReceiveTokenAccount:xr,currencyMint:qr,assetMint:Fr,orderInitializer:Vr,initializerDepositTokenAccount:mn,initializerReceiveTokenAccount:Mr,orderVaultAccount:Kr,orderAccount:Ar,openOrdersCounter:Hr,saVault:Jr,atlasStaking:Qr,registeredStake:Wr,stakingAccount:Zr}).instruction();return gn.instructions.push(un),gn})}return exchangeOrder.createExchangeInstruction=wr,exchangeOrder}var initializeMarketplace={},__awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(initializeMarketplace,"__esModule",{value:!0});initializeMarketplace.createInitializeMarketInstruction=void 0;const utils_1$8=utils;function createInitializeMarketInstruction({connection:a,updateAuthorityAccount:r,programId:c}){return __awaiter$a(this,void 0,void 0,function*(){const l=[yield(0,utils_1$8.getMarketplaceProgram)({connection:a,programId:c}).methods.initializeMarketplace().accounts({updateAuthorityAccount:r}).instruction()];return{accounts:[],instructions:l}})}initializeMarketplace.createInitializeMarketInstruction=createInitializeMarketInstruction;var registerCurrency={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(registerCurrency,"__esModule",{value:!0});registerCurrency.createRegisterCurrencyInstruction=void 0;const anchor_1$5=require$$0$1,utils_1$7=utils;function createRegisterCurrencyInstruction({connection:a,updateAuthorityAccount:r,royalty:c,saCurrencyVault:u,currencyMint:l,programId:d}){return __awaiter$9(this,void 0,void 0,function*(){const m=[yield(0,utils_1$7.getMarketplaceProgram)({connection:a,programId:d}).methods.registerCurrency(new anchor_1$5.BN(c)).accounts({updateAuthorityAccount:r,saCurrencyVault:u,currencyMint:l}).instruction()];return{accounts:[],instructions:m}})}registerCurrency.createRegisterCurrencyInstruction=createRegisterCurrencyInstruction;var royaltyTiers={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(royaltyTiers,"__esModule",{value:!0});royaltyTiers.updateRoyaltyTier=royaltyTiers.deleteRoyaltyTier=royaltyTiers.addRoyaltyTier=void 0;const anchor_1$4=require$$0$1,utils_1$6=utils;function addRoyaltyTier({connection:a,updateAuthorityAccount:r,registeredCurrency:c,stakeAmount:u,discount:l,programId:d}){return __awaiter$8(this,void 0,void 0,function*(){const y=(0,utils_1$6.getMarketplaceProgram)({connection:a,programId:d}),m={signers:[],instructions:[]},wr=yield y.methods.addRoyaltyTier(new anchor_1$4.BN(u),new anchor_1$4.BN(l)).accounts({updateAuthorityAccount:r,registeredCurrency:c}).instruction();return m.instructions.push(wr),m})}royaltyTiers.addRoyaltyTier=addRoyaltyTier;function deleteRoyaltyTier({connection:a,updateAuthorityAccount:r,registeredCurrency:c,stakeAmount:u,programId:l}){return __awaiter$8(this,void 0,void 0,function*(){const d=(0,utils_1$6.getMarketplaceProgram)({connection:a,programId:l}),y={signers:[],instructions:[]},m=yield d.methods.deleteRoyaltyTier(new anchor_1$4.BN(u)).accounts({updateAuthorityAccount:r,registeredCurrency:c}).instruction();return y.instructions.push(m),y})}royaltyTiers.deleteRoyaltyTier=deleteRoyaltyTier;function updateRoyaltyTier({connection:a,updateAuthorityAccount:r,registeredCurrency:c,stakeAmount:u,discount:l,programId:d}){return __awaiter$8(this,void 0,void 0,function*(){const y=(0,utils_1$6.getMarketplaceProgram)({connection:a,programId:d}),m={signers:[],instructions:[]},wr=yield y.methods.updateRoyaltyTier(new anchor_1$4.BN(u),new anchor_1$4.BN(l)).accounts({updateAuthorityAccount:r,registeredCurrency:c}).instruction();return m.instructions.push(wr),m})}royaltyTiers.updateRoyaltyTier=updateRoyaltyTier;var updateCurrency={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(updateCurrency,"__esModule",{value:!0});updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=void 0;const anchor_1$3=require$$0$1,utils_1$5=utils;function createUpdateRegisteredCurrencyRoyaltyInstruction({connection:a,updateAuthorityAccount:r,royalty:c,currencyMint:u,programId:l}){return __awaiter$7(this,void 0,void 0,function*(){const y=[yield(0,utils_1$5.getMarketplaceProgram)({connection:a,programId:l}).methods.updateCurrencyRoyalty(new anchor_1$3.BN(c)).accounts({updateAuthorityAccount:r,currencyMint:u}).instruction()];return{accounts:[],instructions:y}})}updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=createUpdateRegisteredCurrencyRoyaltyInstruction;function createUpdateRegisteredCurrencyVaultInstruction({connection:a,updateAuthorityAccount:r,saCurrencyVault:c,currencyMint:u,programId:l}){return __awaiter$7(this,void 0,void 0,function*(){const y=[yield(0,utils_1$5.getMarketplaceProgram)({connection:a,programId:l}).methods.updateCurrencyVault().accounts({updateAuthorityAccount:r,saCurrencyVault:c,currencyMint:u}).instruction()];return{accounts:[],instructions:y}})}updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=createUpdateRegisteredCurrencyVaultInstruction;var hasRequiredInstruction_builders$1;function requireInstruction_builders$1(){return hasRequiredInstruction_builders$1||(hasRequiredInstruction_builders$1=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(BaseParams,a),c(requireCancelOrder(),a),c(requireCreateOrder(),a),c(deregisterCurrency,a),c(requireExchangeOrder(),a),c(initializeMarketplace,a),c(registerCurrency,a),c(royaltyTiers,a),c(updateCurrency,a)}(instruction_builders)),instruction_builders}var types$2={},marketplace_accounts={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.GmLogs=void 0,function(r){r.CancelOrderMemo="CancelOrderMemo",r.ExchangeMemo="ExchangeMemo",r.InitializeMemo="InitializeMemo",r.RegisterCurrencyMemo="RegisterCurrencyMemo"}(a.GmLogs||(a.GmLogs={}))})(marketplace_accounts);var services$1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.GmEventType=void 0,function(r){r[r.orderAdded=0]="orderAdded",r[r.orderRemoved=1]="orderRemoved",r[r.orderModified=2]="orderModified"}(a.GmEventType||(a.GmEventType={}))})(services$1);(function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(gmIdl,a),c(marketplace_accounts,a),c(services$1,a)})(types$2);var services={},GmOrderbookService={},NOOP=function(){},IDENTITY=function(a){return a};function fail(a){throw new Error("[mobx-utils] "+a)}function invariant(a,r){r===void 0&&(r="Illegal state"),a||fail(r)}function addHiddenProp(a,r,c){Object.defineProperty(a,r,{enumerable:!1,writable:!0,configurable:!0,value:c})}var deepFields=function(a){return a&&a!==Object.prototype&&Object.getOwnPropertyNames(a).concat(deepFields(Object.getPrototypeOf(a))||[])},distinctDeepFields=function(a){var r=deepFields(a),c=r.filter(function(u,l){return r.indexOf(u)===l});return c},getAllMethodsAndProperties=function(a){return distinctDeepFields(a).filter(function(r){return r!=="constructor"&&!~r.indexOf("__")})},PENDING="pending",FULFILLED="fulfilled",REJECTED="rejected";function caseImpl(a){switch(this.state){case PENDING:return a.pending&&a.pending(this.value);case REJECTED:return a.rejected&&a.rejected(this.value);case FULFILLED:return a.fulfilled?a.fulfilled(this.value):this.value}}function fromPromise(a,r){if(invariant(arguments.length<=2,"fromPromise expects up to two arguments"),invariant(typeof a=="function"||typeof a=="object"&&a&&typeof a.then=="function","Please pass a promise or function to fromPromise"),a.isPromiseBasedObservable===!0)return a;typeof a=="function"&&(a=new Promise(a));var c=a;a.then(action("observableFromPromise-resolve",function(l){c.value=l,c.state=FULFILLED}),action("observableFromPromise-reject",function(l){c.value=l,c.state=REJECTED})),c.isPromiseBasedObservable=!0,c.case=caseImpl;var u=r&&r.state===FULFILLED?r.value:void 0;return extendObservable(c,{value:u,state:PENDING},{},{deep:!1}),c}(function(a){a.reject=action("fromPromise.reject",function(c){var u=a(Promise.reject(c));return u.state=REJECTED,u.value=c,u});function r(c){c===void 0&&(c=void 0);var u=a(Promise.resolve(c));return u.state=FULFILLED,u.value=c,u}a.resolve=action("fromPromise.resolve",r)})(fromPromise||(fromPromise={}));function isPromiseBasedObservable(a){return a&&a.isPromiseBasedObservable===!0}var __spreadArrays=function(){for(var a=0,r=0,c=arguments.length;r<c;r++)a+=arguments[r].length;for(var u=Array(a),l=0,r=0;r<c;r++)for(var d=arguments[r],y=0,m=d.length;y<m;y++,l++)u[l]=d[y];return u};function moveItem(a,r,c){if(checkIndex(a,r),checkIndex(a,c),r!==c){var u=a.slice(),l;return r<c?l=__spreadArrays(u.slice(0,r),u.slice(r+1,c+1),[u[r]],u.slice(c+1)):l=__spreadArrays(u.slice(0,c),[u[r]],u.slice(c,r),u.slice(r+1)),a.replace(l),a}}function checkIndex(a,r){if(r<0)throw new Error("[mobx.array] Index out of bounds: "+r+" is negative");var c=a.length;if(r>=c)throw new Error("[mobx.array] Index out of bounds: "+r+" is not smaller than "+c)}function lazyObservable(a,r){r===void 0&&(r=void 0);var c=!1,u=observable.box(r,{deep:!1}),l=observable.box(!1),d=function(){return c||(c=!0,allowStateChanges(!0,function(){l.set(!0)}),a(function(m){allowStateChanges(!0,function(){u.set(m),l.set(!1)})})),u.get()},y=action("lazyObservable-reset",function(){return c=!1,u.set(r),u.get()});return{current:d,refresh:function(){return c?(c=!1,d()):u.get()},reset:function(){return y()},get pending(){return l.get()}}}function fromResource(a,r,c){r===void 0&&(r=NOOP),c===void 0&&(c=void 0);var u=!1,l=!1,d=c,y=function(){u&&(u=!1,r())},m=createAtom("ResourceBasedObservable",function(){invariant(!u&&!l),u=!0,a(function(wr){allowStateChanges(!0,function(){d=wr,m.reportChanged()})})},y);return{current:function(){invariant(!l,"subscribingObservable has already been disposed");var wr=m.reportObserved();return!wr&&!u&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),d},dispose:function(){l=!0,y()},isAlive:function(){return u}}}var __decorate=function(a,r,c,u){var l=arguments.length,d=l<3?r:u===null?u=Object.getOwnPropertyDescriptor(r,c):u,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(a,r,c,u);else for(var m=a.length-1;m>=0;m--)(y=a[m])&&(d=(l<3?y(d):l>3?y(r,c,d):y(r,c))||d);return l>3&&d&&Object.defineProperty(r,c,d),d};function observableSymbol(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function toStream(a,r){var c;r===void 0&&(r=!1);var u=computed(a);return c={subscribe:function(l){return typeof l=="function"?{unsubscribe:observe(u,function(d){var y=d.newValue;return l(y)},r)}:l&&typeof l=="object"&&l.next?{unsubscribe:observe(u,function(d){var y=d.newValue;return l.next(y)},r)}:{unsubscribe:function(){}}}},c[observableSymbol()]=function(){return this},c}var StreamListener=function(){function a(r,c){var u=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),makeObservable(this),runInAction(function(){u.current=c,u.subscription=r.subscribe(u)})}return Object.defineProperty(a.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(a.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.current=r}}),Object.defineProperty(a.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(a.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.current=r,this.dispose()}}),__decorate([observable.ref],a.prototype,"current",void 0),__decorate([action.bound],a.prototype,"next",null),__decorate([action.bound],a.prototype,"complete",null),__decorate([action.bound],a.prototype,"error",null),a}();function fromStream(a,r){return r===void 0&&(r=void 0),new StreamListener(a,r)}var __assign=function(){return __assign=Object.assign||function(a){for(var r,c=1,u=arguments.length;c<u;c++){r=arguments[c];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l])}return a},__assign.apply(this,arguments)},__decorate$1=function(a,r,c,u){var l=arguments.length,d=l<3?r:u===null?u=Object.getOwnPropertyDescriptor(r,c):u,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(a,r,c,u);else for(var m=a.length-1;m>=0;m--)(y=a[m])&&(d=(l<3?y(d):l>3?y(r,c,d):y(r,c))||d);return l>3&&d&&Object.defineProperty(r,c,d),d},RESERVED_NAMES=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],ViewModel=function(){function a(r){var c=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(l){return c.localValues.has(l)}}),makeObservable(this),invariant(isObservableObject(r),"createViewModel expects an observable object");var u=getAllMethodsAndProperties(this);getAllMethodsAndProperties(r).forEach(function(l){var d;if(!u.includes(l)&&!(l===$mobx||l==="__mobxDidRunLazyInitializers")){if(invariant(RESERVED_NAMES.indexOf(l)===-1,"The propertyname "+l+" is reserved and cannot be used with viewModels"),isComputedProp(r,l)){var y=getAdministration(r,l),m=y.derivation.bind(c),wr=(d=y.setter_)===null||d===void 0?void 0:d.bind(c);c.localComputedValues.set(l,computed(m,{set:wr}))}var Sr=Object.getOwnPropertyDescriptor(r,l),Ar=Sr?{enumerable:Sr.enumerable}:{};Object.defineProperty(c,l,__assign(__assign({},Ar),{configurable:!0,get:function(){return isComputedProp(r,l)?c.localComputedValues.get(l).get():c.isPropertyDirty(l)?c.localValues.get(l):c.model[l]},set:action(function(Ir){isComputedProp(r,l)?c.localComputedValues.get(l).set(Ir):Ir!==c.model[l]?c.localValues.set(l,Ir):c.localValues.delete(l)})}))}})}return Object.defineProperty(a.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;keys(this.localValues).forEach(function(c){var u=r.localValues.get(c),l=r.model[c];isObservableArray(l)?l.replace(u):isObservableMap(l)?(l.clear(),l.merge(u)):isComputed(u)||(r.model[c]=u)}),this.localValues.clear()}}),Object.defineProperty(a.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(a.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.localValues.delete(r)}}),__decorate$1([computed],a.prototype,"isDirty",null),__decorate$1([computed],a.prototype,"changedValues",null),__decorate$1([action.bound],a.prototype,"submit",null),__decorate$1([action.bound],a.prototype,"reset",null),__decorate$1([action.bound],a.prototype,"resetProperty",null),a}();function createViewModel(a){return new ViewModel(a)}function keepAlive(a,r){var c=getAtom(a,r);if(!c)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return observe(c,function(){})}function queueProcessor(a,r,c){if(c===void 0&&(c=0),!isObservableArray(a))throw new Error("Expected observable array as first argument");isAction(r)||(r=action("queueProcessor",r));var u=function(){var l=a.slice(0);runInAction(function(){return a.splice(0)}),l.forEach(r)};return c>0?autorun(u,{delay:c}):autorun(u)}function chunkProcessor(a,r,c,u){if(c===void 0&&(c=0),u===void 0&&(u=0),!isObservableArray(a))throw new Error("Expected observable array as first argument");isAction(r)||(r=action("chunkProcessor",r));var l=function(){for(var d=function(){var y=u===0?a.length:Math.min(a.length,u),m=a.slice(0,y);runInAction(function(){return a.splice(0,y)}),r(m)};a.length>0;)d()};return c>0?autorun(l,{delay:c}):autorun(l)}var tickers={};function now(a){return a===void 0&&(a=1e3),isComputingDerivation()?(tickers[a]||(typeof a=="number"?tickers[a]=createIntervalTicker(a):tickers[a]=createAnimationFrameTicker()),tickers[a].current()):Date.now()}function createIntervalTicker(a){var r;return fromResource(function(c){c(Date.now()),r=setInterval(function(){return c(Date.now())},a)},function(){clearInterval(r)},Date.now())}function createAnimationFrameTicker(){var a=fromResource(function(r){r(Date.now());function c(){window.requestAnimationFrame(function(){r(Date.now()),a.isAlive()&&c()})}c()},function(){},Date.now());return a}function expr(a){return isComputingDerivation()||console.warn("'expr' should only be used inside other reactive functions."),computed(a).get()}var __assign$1=function(){return __assign$1=Object.assign||function(a){for(var r,c=1,u=arguments.length;c<u;c++){r=arguments[c];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l])}return a},__assign$1.apply(this,arguments)},memoizationId=0;function createTransformer(a,r){invariant(typeof a=="function"&&a.length<2,"createTransformer expects a function that accepts one argument");var c={},u=void 0,l=!1,d=void 0;typeof r=="object"?(u=r.onCleanup,l=r.keepAlive!==void 0?r.keepAlive:!1,d=r.debugNameGenerator):typeof r=="function"&&(u=r);function y(wr,Sr){var Ar,Ir={};typeof r=="object"?(u=r.onCleanup,d=r.debugNameGenerator,Ir=r):typeof r=="function"?u=r:(u=void 0,d=void 0);var $r=d?d(Sr):"Transformer-"+a.name+"-"+wr,kr=computed(function(){return Ar=a(Sr)},__assign$1(__assign$1({},Ir),{name:$r}));if(!l)var Dr=onBecomeUnobserved(kr,function(){delete c[wr],Dr(),u&&u(Ar,Sr)});return kr}var m=!1;return function(wr){var Sr=getMemoizationId(wr),Ar=c[Sr];if(Ar)return Ar.get();if(!l&&!isComputingDerivation()){m||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),m=!0);var Ir=a(wr);return u&&u(Ir,wr),Ir}return Ar=c[Sr]=y(Sr,wr),Ar.get()}}function getMemoizationId(a){var r=typeof a;if(r==="string")return"string:"+a;if(r==="number")return"number:"+a;if(a===null||r!=="object"&&r!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(a));var c=a.$transformId;return c===void 0&&(c="memoizationId:"+ ++memoizationId,addHiddenProp(a,"$transformId",c)),c}function buildPath(a){if(!a)return"ROOT";for(var r=[];a.parent;)r.push(a.path),a=a.parent;return r.reverse().join("/")}function isRecursivelyObservable(a){return isObservableObject(a)||isObservableArray(a)||isObservableMap(a)}function deepObserve(a,r){var c=new WeakMap;function u(m){var wr=c.get(m.object);l(m,wr),r(m,buildPath(wr),a)}function l(m,wr){switch(m.type){case"add":d(m.newValue,wr,m.name);break;case"update":y(m.oldValue),d(m.newValue,wr,m.name||""+m.index);break;case"remove":case"delete":y(m.oldValue);break;case"splice":m.removed.map(y),m.added.forEach(function(Ir,$r){return d(Ir,wr,""+(m.index+$r))});for(var Sr=m.index+m.addedCount;Sr<m.object.length;Sr++)if(isRecursivelyObservable(m.object[Sr])){var Ar=c.get(m.object[Sr]);Ar&&(Ar.path=""+Sr)}break}}function d(m,wr,Sr){if(isRecursivelyObservable(m)){var Ar=c.get(m);if(Ar){if(Ar.parent!==wr||Ar.path!==Sr)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+buildPath(wr)+"/"+Sr+"',")+(" but it already exists at '"+buildPath(Ar.parent)+"/"+Ar.path+"'"))}else{var Ir={parent:wr,path:Sr,dispose:observe(m,u)};c.set(m,Ir),entries(m).forEach(function($r){var kr=$r[0],Dr=$r[1];return d(Dr,Ir,kr)})}}}function y(m){if(isRecursivelyObservable(m)){var wr=c.get(m);if(!wr)return;c.delete(m),wr.dispose(),values(m).forEach(y)}}return d(a,void 0,""),function(){y(a)}}var __extends=function(){var a=function(r,c){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(u[d]=l[d])},a(r,c)};return function(r,c){a(r,c);function u(){this.constructor=r}r.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),ObservableGroupMap=function(a){__extends(r,a);function r(c,u,l){var d=l===void 0?{}:l,y=d.name,m=y===void 0?"ogm"+(Math.random()*1e3|0):y,wr=d.keyToName,Sr=wr===void 0?function($r){return""+$r}:wr,Ar=a.call(this)||this;Object.defineProperty(Ar,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(Ar,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(Ar,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(Ar,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(Ar,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ar._keyToName=Sr,Ar._groupBy=u,Ar._ogmInfoKey=Symbol("ogmInfo"+m),Ar._base=c;for(var Ir=0;Ir<c.length;Ir++)Ar._addItem(c[Ir]);return Ar._disposeBaseObserver=observe(Ar._base,function($r){if($r.type==="splice")transaction(function(){for(var kr=0,Dr=$r.removed;kr<Dr.length;kr++){var Cr=Dr[kr];Ar._removeItem(Cr)}for(var Br=0,Fr=$r.added;Br<Fr.length;Br++){var qr=Fr[Br];Ar._addItem(qr)}});else if($r.type==="update")transaction(function(){Ar._removeItem($r.oldValue),Ar._addItem($r.newValue)});else throw new Error("illegal state")}),Ar}return Object.defineProperty(r.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(r.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(c){throw new Error("not supported")}}),Object.defineProperty(r.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(c,u){throw new Error("not supported")}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var c=0;c<this._base.length;c++){var u=this._base[c],l=u[this._ogmInfoKey];l.reaction(),delete u[this._ogmInfoKey]}}}),Object.defineProperty(r.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(c){var u=a.prototype.get.call(this,c);return u===void 0&&(u=observable([],{name:"GroupArray["+this._keyToName(c)+"]",deep:!1}),a.prototype.set.call(this,c,u)),u}}),Object.defineProperty(r.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(c,u){var l=a.prototype.get.call(this,c);l.length===1?a.prototype.delete.call(this,c):(u===l.length-1||(l[u]=l[l.length-1],l[u][this._ogmInfoKey].groupArrIndex=u),l.length--)}}),Object.defineProperty(r.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(c){var u=this,l=this._groupBy(c),d=this._getGroupArr(l),y={groupByValue:l,groupArrIndex:d.length,reaction:reaction(function(){return u._groupBy(c)},function(m,wr){var Sr=c[u._ogmInfoKey];u._removeFromGroupArr(Sr.groupByValue,Sr.groupArrIndex);var Ar=u._getGroupArr(m),Ir=Ar.length;Ar.push(c),Sr.groupByValue=m,Sr.groupArrIndex=Ir})};Object.defineProperty(c,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:y}),d.push(c)}}),Object.defineProperty(r.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(c){var u=c[this._ogmInfoKey];this._removeFromGroupArr(u.groupByValue,u.groupArrIndex),u.reaction(),delete c[this._ogmInfoKey]}}),r}(ObservableMap),DeepMapEntry=function(){function a(r,c){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:c}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var u=this.closest=this.root=r,l=0;l<this.args.length-1&&(u=u.get(c[l]),u);l++)this.closest=u;this.closestIdx=l}return Object.defineProperty(a.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var r=this.args.length;return this.closestIdx>=r-1&&this.closest.has(this.args[r-1])}}),Object.defineProperty(a.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(a.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.assertNotDisposed();for(var c=this.args.length,u=this.closest,l=this.closestIdx;l<c-1;l++){var d=new Map;u.set(this.args[l],d),u=d}this.closestIdx=c-1,this.closest=u,u.set(this.args[c-1],r)}}),Object.defineProperty(a.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var r=this.args.length;this.closest.delete(this.args[r-1]);for(var c=this.root,u=[c],l=0;l<r-1;l++)c=c.get(this.args[l]),u.push(c);for(var l=u.length-1;l>0;l--)u[l].size===0&&u[l-1].delete(this.args[l-1]);this.isDisposed=!0}}),Object.defineProperty(a.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),a}(),DeepMap=function(){function a(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(a.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this.argsLength===-1)this.argsLength=r.length;else if(this.argsLength!==r.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+r.length);return this.last&&(this.last.isDisposed=!0),this.last=new DeepMapEntry(this.store,r)}}),a}(),__assign$2=function(){return __assign$2=Object.assign||function(a){for(var r,c=1,u=arguments.length;c<u;c++){r=arguments[c];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l])}return a},__assign$2.apply(this,arguments)},__spreadArrays$1=function(){for(var a=0,r=0,c=arguments.length;r<c;r++)a+=arguments[r].length;for(var u=Array(a),l=0,r=0;r<c;r++)for(var d=arguments[r],y=0,m=d.length;y<m;y++,l++)u[l]=d[y];return u};function computedFn(a,r){if(r===void 0&&(r=!1),isAction(a))throw new Error("computedFn shouldn't be used on actions");var c=!1,u=0,l=typeof r=="boolean"?{keepAlive:r}:r,d=new DeepMap;return function(){for(var y=this,m=[],wr=0;wr<arguments.length;wr++)m[wr]=arguments[wr];var Sr=d.entry(m);if(Sr.exists())return Sr.get().get();if(!l.keepAlive&&!isComputingDerivation())return c||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),c=!0),a.apply(this,m);var Ar,Ir=computed(function(){return Ar=a.apply(y,m)},__assign$2(__assign$2({},l),{name:"computedFn("+(l.name||a.name)+"#"+ ++u+")"}));return Sr.set(Ir),l.keepAlive||onBecomeUnobserved(Ir,function(){d.entry(m).delete(),l.onCleanup&&l.onCleanup.apply(l,__spreadArrays$1([Ar],m)),Ar=void 0}),Ir.get()}}const mobxUtils_module=Object.freeze(Object.defineProperty({__proto__:null,FULFILLED,IDENTITY,NOOP,ObservableGroupMap,PENDING,REJECTED,ViewModel,addHiddenProp,chunkProcessor,computedFn,createTransformer,createViewModel,deepObserve,expr,fail,get fromPromise(){return fromPromise},fromResource,fromStream,getAllMethodsAndProperties,invariant,isPromiseBasedObservable,keepAlive,lazyObservable,moveItem,now,queueProcessor,toStream},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(mobxUtils_module);var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,r){(function(){var c,u="4.17.21",l=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",y="Expected a function",m="Invalid `variable` option passed into `_.template`",wr="__lodash_hash_undefined__",Sr=500,Ar="__lodash_placeholder__",Ir=1,$r=2,kr=4,Dr=1,Cr=2,Br=1,Fr=2,qr=4,Vr=8,Jr=16,Qr=32,Wr=64,Zr=128,rn=256,gn=512,an=30,fn="...",mn=800,Mr=16,xr=1,Pr=2,Kr=3,Hr=1/0,Gr=9007199254740991,un=17976931348623157e292,wn=0/0,jr=4294967295,Rr=jr-1,Ur=jr>>>1,hn=[["ary",Zr],["bind",Br],["bindKey",Fr],["curry",Vr],["curryRight",Jr],["flip",gn],["partial",Qr],["partialRight",Wr],["rearg",rn]],en="[object Arguments]",tn="[object Array]",dn="[object AsyncFunction]",pn="[object Boolean]",vn="[object Date]",$n="[object DOMException]",Pn="[object Error]",kn="[object Function]",sn="[object GeneratorFunction]",ln="[object Map]",Sn="[object Number]",Bn="[object Null]",In="[object Object]",Ln="[object Promise]",An="[object Proxy]",Cn="[object RegExp]",Mn="[object Set]",cn="[object String]",yn="[object Symbol]",xn="[object Undefined]",Rn="[object WeakMap]",Nn="[object WeakSet]",Er="[object ArrayBuffer]",_r="[object DataView]",br="[object Float32Array]",Tr="[object Float64Array]",Lr="[object Int8Array]",zr="[object Int16Array]",Xr="[object Int32Array]",Dn="[object Uint8Array]",Vn="[object Uint8ClampedArray]",Fn="[object Uint16Array]",Wn="[object Uint32Array]",Hn=/\b__p \+= '';/g,Si=/\b(__p \+=) '' \+/g,Fs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mi=/&(?:amp|lt|gt|quot|#39);/g,_i=/[&<>"']/g,Ks=RegExp(mi.source),Ai=RegExp(_i.source),Ei=/<%-([\s\S]+?)%>/g,js=/<%([\s\S]+?)%>/g,bi=/<%=([\s\S]+?)%>/g,Ii=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zs=/^\w*$/,xi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pi=/[\\^$.*+?()[\]{}|]/g,Hs=RegExp(pi.source),gi=/^\s+/,Oi=/\s/,Vs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ti=/\{\n\/\* \[wrapped with (.+)\] \*/,Ri=/,? & /,qs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ki=/[()=,{}\[\]\/\s]/,$i=/\\(\\)?/g,Ws=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wi=/\w*$/,Pi=/^[-+]0x[0-9a-f]+$/i,ds=/^0b[01]+$/i,hs=/^\[object .+?Constructor\]$/,ps=/^0o[0-7]+$/i,gs=/^(?:0|[1-9]\d*)$/,ys=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oo=/($^)/,ms=/['\n\r\u2028\u2029\\]/g,To="\\ud800-\\udfff",_s="\\u0300-\\u036f",bs="\\ufe20-\\ufe2f",ws="\\u20d0-\\u20ff",Wo=_s+bs+ws,Go="\\u2700-\\u27bf",Yo="a-z\\xdf-\\xf6\\xf8-\\xff",vs="\\xac\\xb1\\xd7\\xf7",Ss="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",As="\\u2000-\\u206f",Es=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zo="A-Z\\xc0-\\xd6\\xd8-\\xde",Vc="\\ufe0e\\ufe0f",qc=vs+Ss+As+Es,Ca="['\u2019]",hf="["+To+"]",Wc="["+qc+"]",Gs="["+Wo+"]",Gc="\\d+",pf="["+Go+"]",Yc="["+Yo+"]",Zc="[^"+To+qc+Gc+Go+Yo+Zo+"]",La="\\ud83c[\\udffb-\\udfff]",gf="(?:"+Gs+"|"+La+")",Jc="[^"+To+"]",Na="(?:\\ud83c[\\udde6-\\uddff]){2}",Da="[\\ud800-\\udbff][\\udc00-\\udfff]",Jo="["+Zo+"]",Xc="\\u200d",Qc="(?:"+Yc+"|"+Zc+")",yf="(?:"+Jo+"|"+Zc+")",eu="(?:"+Ca+"(?:d|ll|m|re|s|t|ve))?",tu="(?:"+Ca+"(?:D|LL|M|RE|S|T|VE))?",ru=gf+"?",nu="["+Vc+"]?",mf="(?:"+Xc+"(?:"+[Jc,Na,Da].join("|")+")"+nu+ru+")*",_f="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",iu=nu+ru+mf,wf="(?:"+[pf,Na,Da].join("|")+")"+iu,vf="(?:"+[Jc+Gs+"?",Gs,Na,Da,hf].join("|")+")",Sf=RegExp(Ca,"g"),Af=RegExp(Gs,"g"),Ua=RegExp(La+"(?="+La+")|"+vf+iu,"g"),Ef=RegExp([Jo+"?"+Yc+"+"+eu+"(?="+[Wc,Jo,"$"].join("|")+")",yf+"+"+tu+"(?="+[Wc,Jo+Qc,"$"].join("|")+")",Jo+"?"+Qc+"+"+eu,Jo+"+"+tu,bf,_f,Gc,wf].join("|"),"g"),If=RegExp("["+Xc+To+Wo+Vc+"]"),xf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Of=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tf=-1,hi={};hi[br]=hi[Tr]=hi[Lr]=hi[zr]=hi[Xr]=hi[Dn]=hi[Vn]=hi[Fn]=hi[Wn]=!0,hi[en]=hi[tn]=hi[Er]=hi[pn]=hi[_r]=hi[vn]=hi[Pn]=hi[kn]=hi[ln]=hi[Sn]=hi[In]=hi[Cn]=hi[Mn]=hi[cn]=hi[Rn]=!1;var di={};di[en]=di[tn]=di[Er]=di[_r]=di[pn]=di[vn]=di[br]=di[Tr]=di[Lr]=di[zr]=di[Xr]=di[ln]=di[Sn]=di[In]=di[Cn]=di[Mn]=di[cn]=di[yn]=di[Dn]=di[Vn]=di[Fn]=di[Wn]=!0,di[Pn]=di[kn]=di[Rn]=!1;var Rf={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},kf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$f={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Pf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bf=parseFloat,Mf=parseInt,ou=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Cf=typeof self=="object"&&self&&self.Object===Object&&self,Ui=ou||Cf||Function("return this")(),Fa=r&&!r.nodeType&&r,Do=Fa&&!0&&a&&!a.nodeType&&a,su=Do&&Do.exports===Fa,Ka=su&&ou.process,ro=function(){try{var On=Do&&Do.require&&Do.require("util").types;return On||Ka&&Ka.binding&&Ka.binding("util")}catch{}}(),au=ro&&ro.isArrayBuffer,cu=ro&&ro.isDate,uu=ro&&ro.isMap,lu=ro&&ro.isRegExp,fu=ro&&ro.isSet,du=ro&&ro.isTypedArray;function Zi(On,Kn,Un){switch(Un.length){case 0:return On.call(Kn);case 1:return On.call(Kn,Un[0]);case 2:return On.call(Kn,Un[0],Un[1]);case 3:return On.call(Kn,Un[0],Un[1],Un[2])}return On.apply(Kn,Un)}function Lf(On,Kn,Un,Yn){for(var ei=-1,ci=On==null?0:On.length;++ei<ci;){var Li=On[ei];Kn(Yn,Li,Un(Li),On)}return Yn}function no(On,Kn){for(var Un=-1,Yn=On==null?0:On.length;++Un<Yn&&Kn(On[Un],Un,On)!==!1;);return On}function Nf(On,Kn){for(var Un=On==null?0:On.length;Un--&&Kn(On[Un],Un,On)!==!1;);return On}function hu(On,Kn){for(var Un=-1,Yn=On==null?0:On.length;++Un<Yn;)if(!Kn(On[Un],Un,On))return!1;return!0}function Ro(On,Kn){for(var Un=-1,Yn=On==null?0:On.length,ei=0,ci=[];++Un<Yn;){var Li=On[Un];Kn(Li,Un,On)&&(ci[ei++]=Li)}return ci}function Ys(On,Kn){var Un=On==null?0:On.length;return!!Un&&Xo(On,Kn,0)>-1}function ja(On,Kn,Un){for(var Yn=-1,ei=On==null?0:On.length;++Yn<ei;)if(Un(Kn,On[Yn]))return!0;return!1}function yi(On,Kn){for(var Un=-1,Yn=On==null?0:On.length,ei=Array(Yn);++Un<Yn;)ei[Un]=Kn(On[Un],Un,On);return ei}function ko(On,Kn){for(var Un=-1,Yn=Kn.length,ei=On.length;++Un<Yn;)On[ei+Un]=Kn[Un];return On}function za(On,Kn,Un,Yn){var ei=-1,ci=On==null?0:On.length;for(Yn&&ci&&(Un=On[++ei]);++ei<ci;)Un=Kn(Un,On[ei],ei,On);return Un}function Df(On,Kn,Un,Yn){var ei=On==null?0:On.length;for(Yn&&ei&&(Un=On[--ei]);ei--;)Un=Kn(Un,On[ei],ei,On);return Un}function Ha(On,Kn){for(var Un=-1,Yn=On==null?0:On.length;++Un<Yn;)if(Kn(On[Un],Un,On))return!0;return!1}var Uf=Va("length");function Ff(On){return On.split("")}function Kf(On){return On.match(qs)||[]}function pu(On,Kn,Un){var Yn;return Un(On,function(ei,ci,Li){if(Kn(ei,ci,Li))return Yn=ci,!1}),Yn}function Zs(On,Kn,Un,Yn){for(var ei=On.length,ci=Un+(Yn?1:-1);Yn?ci--:++ci<ei;)if(Kn(On[ci],ci,On))return ci;return-1}function Xo(On,Kn,Un){return Kn===Kn?Qf(On,Kn,Un):Zs(On,gu,Un)}function jf(On,Kn,Un,Yn){for(var ei=Un-1,ci=On.length;++ei<ci;)if(Yn(On[ei],Kn))return ei;return-1}function gu(On){return On!==On}function yu(On,Kn){var Un=On==null?0:On.length;return Un?Wa(On,Kn)/Un:wn}function Va(On){return function(Kn){return Kn==null?c:Kn[On]}}function qa(On){return function(Kn){return On==null?c:On[Kn]}}function mu(On,Kn,Un,Yn,ei){return ei(On,function(ci,Li,fi){Un=Yn?(Yn=!1,ci):Kn(Un,ci,Li,fi)}),Un}function zf(On,Kn){var Un=On.length;for(On.sort(Kn);Un--;)On[Un]=On[Un].value;return On}function Wa(On,Kn){for(var Un,Yn=-1,ei=On.length;++Yn<ei;){var ci=Kn(On[Yn]);ci!==c&&(Un=Un===c?ci:Un+ci)}return Un}function Ga(On,Kn){for(var Un=-1,Yn=Array(On);++Un<On;)Yn[Un]=Kn(Un);return Yn}function Hf(On,Kn){return yi(Kn,function(Un){return[Un,On[Un]]})}function _u(On){return On&&On.slice(0,Su(On)+1).replace(gi,"")}function Ji(On){return function(Kn){return On(Kn)}}function Ya(On,Kn){return yi(Kn,function(Un){return On[Un]})}function Is(On,Kn){return On.has(Kn)}function bu(On,Kn){for(var Un=-1,Yn=On.length;++Un<Yn&&Xo(Kn,On[Un],0)>-1;);return Un}function wu(On,Kn){for(var Un=On.length;Un--&&Xo(Kn,On[Un],0)>-1;);return Un}function Vf(On,Kn){for(var Un=On.length,Yn=0;Un--;)On[Un]===Kn&&++Yn;return Yn}var qf=qa(Rf),Wf=qa(kf);function Gf(On){return"\\"+Pf[On]}function Yf(On,Kn){return On==null?c:On[Kn]}function Qo(On){return If.test(On)}function Zf(On){return xf.test(On)}function Jf(On){for(var Kn,Un=[];!(Kn=On.next()).done;)Un.push(Kn.value);return Un}function Za(On){var Kn=-1,Un=Array(On.size);return On.forEach(function(Yn,ei){Un[++Kn]=[ei,Yn]}),Un}function vu(On,Kn){return function(Un){return On(Kn(Un))}}function $o(On,Kn){for(var Un=-1,Yn=On.length,ei=0,ci=[];++Un<Yn;){var Li=On[Un];(Li===Kn||Li===Ar)&&(On[Un]=Ar,ci[ei++]=Un)}return ci}function Js(On){var Kn=-1,Un=Array(On.size);return On.forEach(function(Yn){Un[++Kn]=Yn}),Un}function Xf(On){var Kn=-1,Un=Array(On.size);return On.forEach(function(Yn){Un[++Kn]=[Yn,Yn]}),Un}function Qf(On,Kn,Un){for(var Yn=Un-1,ei=On.length;++Yn<ei;)if(On[Yn]===Kn)return Yn;return-1}function ed(On,Kn,Un){for(var Yn=Un+1;Yn--;)if(On[Yn]===Kn)return Yn;return Yn}function es(On){return Qo(On)?rd(On):Uf(On)}function lo(On){return Qo(On)?nd(On):Ff(On)}function Su(On){for(var Kn=On.length;Kn--&&Oi.test(On.charAt(Kn)););return Kn}var td=qa($f);function rd(On){for(var Kn=Ua.lastIndex=0;Ua.test(On);)++Kn;return Kn}function nd(On){return On.match(Ua)||[]}function id(On){return On.match(Ef)||[]}var od=function On(Kn){Kn=Kn==null?Ui:ts.defaults(Ui.Object(),Kn,ts.pick(Ui,Of));var Un=Kn.Array,Yn=Kn.Date,ei=Kn.Error,ci=Kn.Function,Li=Kn.Math,fi=Kn.Object,Ja=Kn.RegExp,sd=Kn.String,io=Kn.TypeError,Xs=Un.prototype,ad=ci.prototype,rs=fi.prototype,Qs=Kn["__core-js_shared__"],ea=ad.toString,li=rs.hasOwnProperty,cd=0,Au=function(){var gr=/[^.]+$/.exec(Qs&&Qs.keys&&Qs.keys.IE_PROTO||"");return gr?"Symbol(src)_1."+gr:""}(),ta=rs.toString,ud=ea.call(fi),ld=Ui._,fd=Ja("^"+ea.call(li).replace(pi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ra=su?Kn.Buffer:c,Po=Kn.Symbol,na=Kn.Uint8Array,Eu=ra?ra.allocUnsafe:c,ia=vu(fi.getPrototypeOf,fi),Iu=fi.create,xu=rs.propertyIsEnumerable,oa=Xs.splice,Ou=Po?Po.isConcatSpreadable:c,xs=Po?Po.iterator:c,Uo=Po?Po.toStringTag:c,sa=function(){try{var gr=Ho(fi,"defineProperty");return gr({},"",{}),gr}catch{}}(),dd=Kn.clearTimeout!==Ui.clearTimeout&&Kn.clearTimeout,hd=Yn&&Yn.now!==Ui.Date.now&&Yn.now,pd=Kn.setTimeout!==Ui.setTimeout&&Kn.setTimeout,aa=Li.ceil,ca=Li.floor,Xa=fi.getOwnPropertySymbols,gd=ra?ra.isBuffer:c,Tu=Kn.isFinite,yd=Xs.join,md=vu(fi.keys,fi),Ni=Li.max,Ki=Li.min,_d=Yn.now,bd=Kn.parseInt,Ru=Li.random,wd=Xs.reverse,Qa=Ho(Kn,"DataView"),Os=Ho(Kn,"Map"),ec=Ho(Kn,"Promise"),ns=Ho(Kn,"Set"),Ts=Ho(Kn,"WeakMap"),Rs=Ho(fi,"create"),ua=Ts&&new Ts,os={},vd=Vo(Qa),Sd=Vo(Os),Ad=Vo(ec),Ed=Vo(ns),Id=Vo(Ts),la=Po?Po.prototype:c,ks=la?la.valueOf:c,ku=la?la.toString:c;function nn(gr){if(Bi(gr)&&!ti(gr)&&!(gr instanceof si)){if(gr instanceof oo)return gr;if(li.call(gr,"__wrapped__"))return $l(gr)}return new oo(gr)}var ss=function(){function gr(){}return function(vr){if(!vi(vr))return{};if(Iu)return Iu(vr);gr.prototype=vr;var Or=new gr;return gr.prototype=c,Or}}();function fa(){}function oo(gr,vr){this.__wrapped__=gr,this.__actions__=[],this.__chain__=!!vr,this.__index__=0,this.__values__=c}nn.templateSettings={escape:Ei,evaluate:js,interpolate:bi,variable:"",imports:{_:nn}},nn.prototype=fa.prototype,nn.prototype.constructor=nn,oo.prototype=ss(fa.prototype),oo.prototype.constructor=oo;function si(gr){this.__wrapped__=gr,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jr,this.__views__=[]}function xd(){var gr=new si(this.__wrapped__);return gr.__actions__=qi(this.__actions__),gr.__dir__=this.__dir__,gr.__filtered__=this.__filtered__,gr.__iteratees__=qi(this.__iteratees__),gr.__takeCount__=this.__takeCount__,gr.__views__=qi(this.__views__),gr}function Od(){if(this.__filtered__){var gr=new si(this);gr.__dir__=-1,gr.__filtered__=!0}else gr=this.clone(),gr.__dir__*=-1;return gr}function Td(){var gr=this.__wrapped__.value(),vr=this.__dir__,Or=ti(gr),Nr=vr<0,Yr=Or?gr.length:0,on=Fh(0,Yr,this.__views__),_n=on.start,En=on.end,Tn=En-_n,jn=Nr?En:_n-1,zn=this.__iteratees__,qn=zn.length,Gn=0,Zn=Ki(Tn,this.__takeCount__);if(!Or||!Nr&&Yr==Tn&&Zn==Tn)return el(gr,this.__actions__);var Xn=[];e:for(;Tn--&&Gn<Zn;){jn+=vr;for(var ni=-1,Qn=gr[jn];++ni<qn;){var oi=zn[ni],ai=oi.iteratee,eo=oi.type,Vi=ai(Qn);if(eo==Pr)Qn=Vi;else if(!Vi){if(eo==xr)continue e;break e}}Xn[Gn++]=Qn}return Xn}si.prototype=ss(fa.prototype),si.prototype.constructor=si;function Fo(gr){var vr=-1,Or=gr==null?0:gr.length;for(this.clear();++vr<Or;){var Nr=gr[vr];this.set(Nr[0],Nr[1])}}function Rd(){this.__data__=Rs?Rs(null):{},this.size=0}function kd(gr){var vr=this.has(gr)&&delete this.__data__[gr];return this.size-=vr?1:0,vr}function $d(gr){var vr=this.__data__;if(Rs){var Or=vr[gr];return Or===wr?c:Or}return li.call(vr,gr)?vr[gr]:c}function Pd(gr){var vr=this.__data__;return Rs?vr[gr]!==c:li.call(vr,gr)}function Bd(gr,vr){var Or=this.__data__;return this.size+=this.has(gr)?0:1,Or[gr]=Rs&&vr===c?wr:vr,this}Fo.prototype.clear=Rd,Fo.prototype.delete=kd,Fo.prototype.get=$d,Fo.prototype.has=Pd,Fo.prototype.set=Bd;function _o(gr){var vr=-1,Or=gr==null?0:gr.length;for(this.clear();++vr<Or;){var Nr=gr[vr];this.set(Nr[0],Nr[1])}}function Md(){this.__data__=[],this.size=0}function Cd(gr){var vr=this.__data__,Or=da(vr,gr);if(Or<0)return!1;var Nr=vr.length-1;return Or==Nr?vr.pop():oa.call(vr,Or,1),--this.size,!0}function Ld(gr){var vr=this.__data__,Or=da(vr,gr);return Or<0?c:vr[Or][1]}function Nd(gr){return da(this.__data__,gr)>-1}function Dd(gr,vr){var Or=this.__data__,Nr=da(Or,gr);return Nr<0?(++this.size,Or.push([gr,vr])):Or[Nr][1]=vr,this}_o.prototype.clear=Md,_o.prototype.delete=Cd,_o.prototype.get=Ld,_o.prototype.has=Nd,_o.prototype.set=Dd;function bo(gr){var vr=-1,Or=gr==null?0:gr.length;for(this.clear();++vr<Or;){var Nr=gr[vr];this.set(Nr[0],Nr[1])}}function Ud(){this.size=0,this.__data__={hash:new Fo,map:new(Os||_o),string:new Fo}}function Fd(gr){var vr=Ia(this,gr).delete(gr);return this.size-=vr?1:0,vr}function Kd(gr){return Ia(this,gr).get(gr)}function jd(gr){return Ia(this,gr).has(gr)}function zd(gr,vr){var Or=Ia(this,gr),Nr=Or.size;return Or.set(gr,vr),this.size+=Or.size==Nr?0:1,this}bo.prototype.clear=Ud,bo.prototype.delete=Fd,bo.prototype.get=Kd,bo.prototype.has=jd,bo.prototype.set=zd;function Ko(gr){var vr=-1,Or=gr==null?0:gr.length;for(this.__data__=new bo;++vr<Or;)this.add(gr[vr])}function Hd(gr){return this.__data__.set(gr,wr),this}function Vd(gr){return this.__data__.has(gr)}Ko.prototype.add=Ko.prototype.push=Hd,Ko.prototype.has=Vd;function fo(gr){var vr=this.__data__=new _o(gr);this.size=vr.size}function qd(){this.__data__=new _o,this.size=0}function Wd(gr){var vr=this.__data__,Or=vr.delete(gr);return this.size=vr.size,Or}function Gd(gr){return this.__data__.get(gr)}function Yd(gr){return this.__data__.has(gr)}function Zd(gr,vr){var Or=this.__data__;if(Or instanceof _o){var Nr=Or.__data__;if(!Os||Nr.length<l-1)return Nr.push([gr,vr]),this.size=++Or.size,this;Or=this.__data__=new bo(Nr)}return Or.set(gr,vr),this.size=Or.size,this}fo.prototype.clear=qd,fo.prototype.delete=Wd,fo.prototype.get=Gd,fo.prototype.has=Yd,fo.prototype.set=Zd;function $u(gr,vr){var Or=ti(gr),Nr=!Or&&qo(gr),Yr=!Or&&!Nr&&No(gr),on=!Or&&!Nr&&!Yr&&ls(gr),_n=Or||Nr||Yr||on,En=_n?Ga(gr.length,sd):[],Tn=En.length;for(var jn in gr)(vr||li.call(gr,jn))&&!(_n&&(jn=="length"||Yr&&(jn=="offset"||jn=="parent")||on&&(jn=="buffer"||jn=="byteLength"||jn=="byteOffset")||Ao(jn,Tn)))&&En.push(jn);return En}function Pu(gr){var vr=gr.length;return vr?gr[fc(0,vr-1)]:c}function Jd(gr,vr){return xa(qi(gr),jo(vr,0,gr.length))}function Xd(gr){return xa(qi(gr))}function tc(gr,vr,Or){(Or!==c&&!ho(gr[vr],Or)||Or===c&&!(vr in gr))&&wo(gr,vr,Or)}function $s(gr,vr,Or){var Nr=gr[vr];(!(li.call(gr,vr)&&ho(Nr,Or))||Or===c&&!(vr in gr))&&wo(gr,vr,Or)}function da(gr,vr){for(var Or=gr.length;Or--;)if(ho(gr[Or][0],vr))return Or;return-1}function Qd(gr,vr,Or,Nr){return Bo(gr,function(Yr,on,_n){vr(Nr,Yr,Or(Yr),_n)}),Nr}function Bu(gr,vr){return gr&&yo(vr,Di(vr),gr)}function eh(gr,vr){return gr&&yo(vr,Gi(vr),gr)}function wo(gr,vr,Or){vr=="__proto__"&&sa?sa(gr,vr,{configurable:!0,enumerable:!0,value:Or,writable:!0}):gr[vr]=Or}function rc(gr,vr){for(var Or=-1,Nr=vr.length,Yr=Un(Nr),on=gr==null;++Or<Nr;)Yr[Or]=on?c:Lc(gr,vr[Or]);return Yr}function jo(gr,vr,Or){return gr===gr&&(Or!==c&&(gr=gr<=Or?gr:Or),vr!==c&&(gr=gr>=vr?gr:vr)),gr}function so(gr,vr,Or,Nr,Yr,on){var _n,En=vr&Ir,Tn=vr&$r,jn=vr&kr;if(Or&&(_n=Yr?Or(gr,Nr,Yr,on):Or(gr)),_n!==c)return _n;if(!vi(gr))return gr;var zn=ti(gr);if(zn){if(_n=jh(gr),!En)return qi(gr,_n)}else{var qn=ji(gr),Gn=qn==kn||qn==sn;if(No(gr))return nl(gr,En);if(qn==In||qn==en||Gn&&!Yr){if(_n=Tn||Gn?{}:Sl(gr),!En)return Tn?$h(gr,eh(_n,gr)):kh(gr,Bu(_n,gr))}else{if(!di[qn])return Yr?gr:{};_n=zh(gr,qn,En)}}on||(on=new fo);var Zn=on.get(gr);if(Zn)return Zn;on.set(gr,_n),Jl(gr)?gr.forEach(function(Qn){_n.add(so(Qn,vr,Or,Qn,gr,on))}):Yl(gr)&&gr.forEach(function(Qn,oi){_n.set(oi,so(Qn,vr,Or,oi,gr,on))});var Xn=jn?Tn?Sc:vc:Tn?Gi:Di,ni=zn?c:Xn(gr);return no(ni||gr,function(Qn,oi){ni&&(oi=Qn,Qn=gr[oi]),$s(_n,oi,so(Qn,vr,Or,oi,gr,on))}),_n}function th(gr){var vr=Di(gr);return function(Or){return Mu(Or,gr,vr)}}function Mu(gr,vr,Or){var Nr=Or.length;if(gr==null)return!Nr;for(gr=fi(gr);Nr--;){var Yr=Or[Nr],on=vr[Yr],_n=gr[Yr];if(_n===c&&!(Yr in gr)||!on(_n))return!1}return!0}function Cu(gr,vr,Or){if(typeof gr!="function")throw new io(y);return Ds(function(){gr.apply(c,Or)},vr)}function Ps(gr,vr,Or,Nr){var Yr=-1,on=Ys,_n=!0,En=gr.length,Tn=[],jn=vr.length;if(!En)return Tn;Or&&(vr=yi(vr,Ji(Or))),Nr?(on=ja,_n=!1):vr.length>=l&&(on=Is,_n=!1,vr=new Ko(vr));e:for(;++Yr<En;){var zn=gr[Yr],qn=Or==null?zn:Or(zn);if(zn=Nr||zn!==0?zn:0,_n&&qn===qn){for(var Gn=jn;Gn--;)if(vr[Gn]===qn)continue e;Tn.push(zn)}else on(vr,qn,Nr)||Tn.push(zn)}return Tn}var Bo=cl(go),Lu=cl(ic,!0);function rh(gr,vr){var Or=!0;return Bo(gr,function(Nr,Yr,on){return Or=!!vr(Nr,Yr,on),Or}),Or}function ha(gr,vr,Or){for(var Nr=-1,Yr=gr.length;++Nr<Yr;){var on=gr[Nr],_n=vr(on);if(_n!=null&&(En===c?_n===_n&&!Qi(_n):Or(_n,En)))var En=_n,Tn=on}return Tn}function nh(gr,vr,Or,Nr){var Yr=gr.length;for(Or=ri(Or),Or<0&&(Or=-Or>Yr?0:Yr+Or),Nr=Nr===c||Nr>Yr?Yr:ri(Nr),Nr<0&&(Nr+=Yr),Nr=Or>Nr?0:Ql(Nr);Or<Nr;)gr[Or++]=vr;return gr}function Nu(gr,vr){var Or=[];return Bo(gr,function(Nr,Yr,on){vr(Nr,Yr,on)&&Or.push(Nr)}),Or}function Fi(gr,vr,Or,Nr,Yr){var on=-1,_n=gr.length;for(Or||(Or=Vh),Yr||(Yr=[]);++on<_n;){var En=gr[on];vr>0&&Or(En)?vr>1?Fi(En,vr-1,Or,Nr,Yr):ko(Yr,En):Nr||(Yr[Yr.length]=En)}return Yr}var nc=ul(),Du=ul(!0);function go(gr,vr){return gr&&nc(gr,vr,Di)}function ic(gr,vr){return gr&&Du(gr,vr,Di)}function pa(gr,vr){return Ro(vr,function(Or){return Eo(gr[Or])})}function zo(gr,vr){vr=Co(vr,gr);for(var Or=0,Nr=vr.length;gr!=null&&Or<Nr;)gr=gr[mo(vr[Or++])];return Or&&Or==Nr?gr:c}function Uu(gr,vr,Or){var Nr=vr(gr);return ti(gr)?Nr:ko(Nr,Or(gr))}function zi(gr){return gr==null?gr===c?xn:Bn:Uo&&Uo in fi(gr)?Uh(gr):Xh(gr)}function oc(gr,vr){return gr>vr}function ih(gr,vr){return gr!=null&&li.call(gr,vr)}function oh(gr,vr){return gr!=null&&vr in fi(gr)}function sh(gr,vr,Or){return gr>=Ki(vr,Or)&&gr<Ni(vr,Or)}function sc(gr,vr,Or){for(var Nr=Or?ja:Ys,Yr=gr[0].length,on=gr.length,_n=on,En=Un(on),Tn=1/0,jn=[];_n--;){var zn=gr[_n];_n&&vr&&(zn=yi(zn,Ji(vr))),Tn=Ki(zn.length,Tn),En[_n]=!Or&&(vr||Yr>=120&&zn.length>=120)?new Ko(_n&&zn):c}zn=gr[0];var qn=-1,Gn=En[0];e:for(;++qn<Yr&&jn.length<Tn;){var Zn=zn[qn],Xn=vr?vr(Zn):Zn;if(Zn=Or||Zn!==0?Zn:0,!(Gn?Is(Gn,Xn):Nr(jn,Xn,Or))){for(_n=on;--_n;){var ni=En[_n];if(!(ni?Is(ni,Xn):Nr(gr[_n],Xn,Or)))continue e}Gn&&Gn.push(Xn),jn.push(Zn)}}return jn}function ah(gr,vr,Or,Nr){return go(gr,function(Yr,on,_n){vr(Nr,Or(Yr),on,_n)}),Nr}function Bs(gr,vr,Or){vr=Co(vr,gr),gr=xl(gr,vr);var Nr=gr==null?gr:gr[mo(co(vr))];return Nr==null?c:Zi(Nr,gr,Or)}function Fu(gr){return Bi(gr)&&zi(gr)==en}function ch(gr){return Bi(gr)&&zi(gr)==Er}function uh(gr){return Bi(gr)&&zi(gr)==vn}function Ms(gr,vr,Or,Nr,Yr){return gr===vr?!0:gr==null||vr==null||!Bi(gr)&&!Bi(vr)?gr!==gr&&vr!==vr:lh(gr,vr,Or,Nr,Ms,Yr)}function lh(gr,vr,Or,Nr,Yr,on){var _n=ti(gr),En=ti(vr),Tn=_n?tn:ji(gr),jn=En?tn:ji(vr);Tn=Tn==en?In:Tn,jn=jn==en?In:jn;var zn=Tn==In,qn=jn==In,Gn=Tn==jn;if(Gn&&No(gr)){if(!No(vr))return!1;_n=!0,zn=!1}if(Gn&&!zn)return on||(on=new fo),_n||ls(gr)?bl(gr,vr,Or,Nr,Yr,on):Nh(gr,vr,Tn,Or,Nr,Yr,on);if(!(Or&Dr)){var Zn=zn&&li.call(gr,"__wrapped__"),Xn=qn&&li.call(vr,"__wrapped__");if(Zn||Xn){var ni=Zn?gr.value():gr,Qn=Xn?vr.value():vr;return on||(on=new fo),Yr(ni,Qn,Or,Nr,on)}}return Gn?(on||(on=new fo),Dh(gr,vr,Or,Nr,Yr,on)):!1}function fh(gr){return Bi(gr)&&ji(gr)==ln}function ac(gr,vr,Or,Nr){var Yr=Or.length,on=Yr,_n=!Nr;if(gr==null)return!on;for(gr=fi(gr);Yr--;){var En=Or[Yr];if(_n&&En[2]?En[1]!==gr[En[0]]:!(En[0]in gr))return!1}for(;++Yr<on;){En=Or[Yr];var Tn=En[0],jn=gr[Tn],zn=En[1];if(_n&&En[2]){if(jn===c&&!(Tn in gr))return!1}else{var qn=new fo;if(Nr)var Gn=Nr(jn,zn,Tn,gr,vr,qn);if(!(Gn===c?Ms(zn,jn,Dr|Cr,Nr,qn):Gn))return!1}}return!0}function Ku(gr){if(!vi(gr)||Wh(gr))return!1;var vr=Eo(gr)?fd:hs;return vr.test(Vo(gr))}function dh(gr){return Bi(gr)&&zi(gr)==Cn}function hh(gr){return Bi(gr)&&ji(gr)==Mn}function ph(gr){return Bi(gr)&&Pa(gr.length)&&!!hi[zi(gr)]}function ju(gr){return typeof gr=="function"?gr:gr==null?Yi:typeof gr=="object"?ti(gr)?Vu(gr[0],gr[1]):Hu(gr):ff(gr)}function cc(gr){if(!Ns(gr))return md(gr);var vr=[];for(var Or in fi(gr))li.call(gr,Or)&&Or!="constructor"&&vr.push(Or);return vr}function gh(gr){if(!vi(gr))return Jh(gr);var vr=Ns(gr),Or=[];for(var Nr in gr)Nr=="constructor"&&(vr||!li.call(gr,Nr))||Or.push(Nr);return Or}function uc(gr,vr){return gr<vr}function zu(gr,vr){var Or=-1,Nr=Wi(gr)?Un(gr.length):[];return Bo(gr,function(Yr,on,_n){Nr[++Or]=vr(Yr,on,_n)}),Nr}function Hu(gr){var vr=Ec(gr);return vr.length==1&&vr[0][2]?El(vr[0][0],vr[0][1]):function(Or){return Or===gr||ac(Or,gr,vr)}}function Vu(gr,vr){return xc(gr)&&Al(vr)?El(mo(gr),vr):function(Or){var Nr=Lc(Or,gr);return Nr===c&&Nr===vr?Nc(Or,gr):Ms(vr,Nr,Dr|Cr)}}function ga(gr,vr,Or,Nr,Yr){gr!==vr&&nc(vr,function(on,_n){if(Yr||(Yr=new fo),vi(on))yh(gr,vr,_n,Or,ga,Nr,Yr);else{var En=Nr?Nr(Tc(gr,_n),on,_n+"",gr,vr,Yr):c;En===c&&(En=on),tc(gr,_n,En)}},Gi)}function yh(gr,vr,Or,Nr,Yr,on,_n){var En=Tc(gr,Or),Tn=Tc(vr,Or),jn=_n.get(Tn);if(jn){tc(gr,Or,jn);return}var zn=on?on(En,Tn,Or+"",gr,vr,_n):c,qn=zn===c;if(qn){var Gn=ti(Tn),Zn=!Gn&&No(Tn),Xn=!Gn&&!Zn&&ls(Tn);zn=Tn,Gn||Zn||Xn?ti(En)?zn=En:Mi(En)?zn=qi(En):Zn?(qn=!1,zn=nl(Tn,!0)):Xn?(qn=!1,zn=il(Tn,!0)):zn=[]:Us(Tn)||qo(Tn)?(zn=En,qo(En)?zn=ef(En):(!vi(En)||Eo(En))&&(zn=Sl(Tn))):qn=!1}qn&&(_n.set(Tn,zn),Yr(zn,Tn,Nr,on,_n),_n.delete(Tn)),tc(gr,Or,zn)}function qu(gr,vr){var Or=gr.length;if(!!Or)return vr+=vr<0?Or:0,Ao(vr,Or)?gr[vr]:c}function Wu(gr,vr,Or){vr.length?vr=yi(vr,function(on){return ti(on)?function(_n){return zo(_n,on.length===1?on[0]:on)}:on}):vr=[Yi];var Nr=-1;vr=yi(vr,Ji(Jn()));var Yr=zu(gr,function(on,_n,En){var Tn=yi(vr,function(jn){return jn(on)});return{criteria:Tn,index:++Nr,value:on}});return zf(Yr,function(on,_n){return Rh(on,_n,Or)})}function mh(gr,vr){return Gu(gr,vr,function(Or,Nr){return Nc(gr,Nr)})}function Gu(gr,vr,Or){for(var Nr=-1,Yr=vr.length,on={};++Nr<Yr;){var _n=vr[Nr],En=zo(gr,_n);Or(En,_n)&&Cs(on,Co(_n,gr),En)}return on}function _h(gr){return function(vr){return zo(vr,gr)}}function lc(gr,vr,Or,Nr){var Yr=Nr?jf:Xo,on=-1,_n=vr.length,En=gr;for(gr===vr&&(vr=qi(vr)),Or&&(En=yi(gr,Ji(Or)));++on<_n;)for(var Tn=0,jn=vr[on],zn=Or?Or(jn):jn;(Tn=Yr(En,zn,Tn,Nr))>-1;)En!==gr&&oa.call(En,Tn,1),oa.call(gr,Tn,1);return gr}function Yu(gr,vr){for(var Or=gr?vr.length:0,Nr=Or-1;Or--;){var Yr=vr[Or];if(Or==Nr||Yr!==on){var on=Yr;Ao(Yr)?oa.call(gr,Yr,1):pc(gr,Yr)}}return gr}function fc(gr,vr){return gr+ca(Ru()*(vr-gr+1))}function bh(gr,vr,Or,Nr){for(var Yr=-1,on=Ni(aa((vr-gr)/(Or||1)),0),_n=Un(on);on--;)_n[Nr?on:++Yr]=gr,gr+=Or;return _n}function dc(gr,vr){var Or="";if(!gr||vr<1||vr>Gr)return Or;do vr%2&&(Or+=gr),vr=ca(vr/2),vr&&(gr+=gr);while(vr);return Or}function ii(gr,vr){return Rc(Il(gr,vr,Yi),gr+"")}function wh(gr){return Pu(fs(gr))}function vh(gr,vr){var Or=fs(gr);return xa(Or,jo(vr,0,Or.length))}function Cs(gr,vr,Or,Nr){if(!vi(gr))return gr;vr=Co(vr,gr);for(var Yr=-1,on=vr.length,_n=on-1,En=gr;En!=null&&++Yr<on;){var Tn=mo(vr[Yr]),jn=Or;if(Tn==="__proto__"||Tn==="constructor"||Tn==="prototype")return gr;if(Yr!=_n){var zn=En[Tn];jn=Nr?Nr(zn,Tn,En):c,jn===c&&(jn=vi(zn)?zn:Ao(vr[Yr+1])?[]:{})}$s(En,Tn,jn),En=En[Tn]}return gr}var Zu=ua?function(gr,vr){return ua.set(gr,vr),gr}:Yi,Sh=sa?function(gr,vr){return sa(gr,"toString",{configurable:!0,enumerable:!1,value:Uc(vr),writable:!0})}:Yi;function Ah(gr){return xa(fs(gr))}function ao(gr,vr,Or){var Nr=-1,Yr=gr.length;vr<0&&(vr=-vr>Yr?0:Yr+vr),Or=Or>Yr?Yr:Or,Or<0&&(Or+=Yr),Yr=vr>Or?0:Or-vr>>>0,vr>>>=0;for(var on=Un(Yr);++Nr<Yr;)on[Nr]=gr[Nr+vr];return on}function Eh(gr,vr){var Or;return Bo(gr,function(Nr,Yr,on){return Or=vr(Nr,Yr,on),!Or}),!!Or}function ya(gr,vr,Or){var Nr=0,Yr=gr==null?Nr:gr.length;if(typeof vr=="number"&&vr===vr&&Yr<=Ur){for(;Nr<Yr;){var on=Nr+Yr>>>1,_n=gr[on];_n!==null&&!Qi(_n)&&(Or?_n<=vr:_n<vr)?Nr=on+1:Yr=on}return Yr}return hc(gr,vr,Yi,Or)}function hc(gr,vr,Or,Nr){var Yr=0,on=gr==null?0:gr.length;if(on===0)return 0;vr=Or(vr);for(var _n=vr!==vr,En=vr===null,Tn=Qi(vr),jn=vr===c;Yr<on;){var zn=ca((Yr+on)/2),qn=Or(gr[zn]),Gn=qn!==c,Zn=qn===null,Xn=qn===qn,ni=Qi(qn);if(_n)var Qn=Nr||Xn;else jn?Qn=Xn&&(Nr||Gn):En?Qn=Xn&&Gn&&(Nr||!Zn):Tn?Qn=Xn&&Gn&&!Zn&&(Nr||!ni):Zn||ni?Qn=!1:Qn=Nr?qn<=vr:qn<vr;Qn?Yr=zn+1:on=zn}return Ki(on,Rr)}function Ju(gr,vr){for(var Or=-1,Nr=gr.length,Yr=0,on=[];++Or<Nr;){var _n=gr[Or],En=vr?vr(_n):_n;if(!Or||!ho(En,Tn)){var Tn=En;on[Yr++]=_n===0?0:_n}}return on}function Xu(gr){return typeof gr=="number"?gr:Qi(gr)?wn:+gr}function Xi(gr){if(typeof gr=="string")return gr;if(ti(gr))return yi(gr,Xi)+"";if(Qi(gr))return ku?ku.call(gr):"";var vr=gr+"";return vr=="0"&&1/gr==-Hr?"-0":vr}function Mo(gr,vr,Or){var Nr=-1,Yr=Ys,on=gr.length,_n=!0,En=[],Tn=En;if(Or)_n=!1,Yr=ja;else if(on>=l){var jn=vr?null:Ch(gr);if(jn)return Js(jn);_n=!1,Yr=Is,Tn=new Ko}else Tn=vr?[]:En;e:for(;++Nr<on;){var zn=gr[Nr],qn=vr?vr(zn):zn;if(zn=Or||zn!==0?zn:0,_n&&qn===qn){for(var Gn=Tn.length;Gn--;)if(Tn[Gn]===qn)continue e;vr&&Tn.push(qn),En.push(zn)}else Yr(Tn,qn,Or)||(Tn!==En&&Tn.push(qn),En.push(zn))}return En}function pc(gr,vr){return vr=Co(vr,gr),gr=xl(gr,vr),gr==null||delete gr[mo(co(vr))]}function Qu(gr,vr,Or,Nr){return Cs(gr,vr,Or(zo(gr,vr)),Nr)}function ma(gr,vr,Or,Nr){for(var Yr=gr.length,on=Nr?Yr:-1;(Nr?on--:++on<Yr)&&vr(gr[on],on,gr););return Or?ao(gr,Nr?0:on,Nr?on+1:Yr):ao(gr,Nr?on+1:0,Nr?Yr:on)}function el(gr,vr){var Or=gr;return Or instanceof si&&(Or=Or.value()),za(vr,function(Nr,Yr){return Yr.func.apply(Yr.thisArg,ko([Nr],Yr.args))},Or)}function gc(gr,vr,Or){var Nr=gr.length;if(Nr<2)return Nr?Mo(gr[0]):[];for(var Yr=-1,on=Un(Nr);++Yr<Nr;)for(var _n=gr[Yr],En=-1;++En<Nr;)En!=Yr&&(on[Yr]=Ps(on[Yr]||_n,gr[En],vr,Or));return Mo(Fi(on,1),vr,Or)}function tl(gr,vr,Or){for(var Nr=-1,Yr=gr.length,on=vr.length,_n={};++Nr<Yr;){var En=Nr<on?vr[Nr]:c;Or(_n,gr[Nr],En)}return _n}function yc(gr){return Mi(gr)?gr:[]}function mc(gr){return typeof gr=="function"?gr:Yi}function Co(gr,vr){return ti(gr)?gr:xc(gr,vr)?[gr]:kl(ui(gr))}var Ih=ii;function Lo(gr,vr,Or){var Nr=gr.length;return Or=Or===c?Nr:Or,!vr&&Or>=Nr?gr:ao(gr,vr,Or)}var rl=dd||function(gr){return Ui.clearTimeout(gr)};function nl(gr,vr){if(vr)return gr.slice();var Or=gr.length,Nr=Eu?Eu(Or):new gr.constructor(Or);return gr.copy(Nr),Nr}function _c(gr){var vr=new gr.constructor(gr.byteLength);return new na(vr).set(new na(gr)),vr}function xh(gr,vr){var Or=vr?_c(gr.buffer):gr.buffer;return new gr.constructor(Or,gr.byteOffset,gr.byteLength)}function Oh(gr){var vr=new gr.constructor(gr.source,wi.exec(gr));return vr.lastIndex=gr.lastIndex,vr}function Th(gr){return ks?fi(ks.call(gr)):{}}function il(gr,vr){var Or=vr?_c(gr.buffer):gr.buffer;return new gr.constructor(Or,gr.byteOffset,gr.length)}function ol(gr,vr){if(gr!==vr){var Or=gr!==c,Nr=gr===null,Yr=gr===gr,on=Qi(gr),_n=vr!==c,En=vr===null,Tn=vr===vr,jn=Qi(vr);if(!En&&!jn&&!on&&gr>vr||on&&_n&&Tn&&!En&&!jn||Nr&&_n&&Tn||!Or&&Tn||!Yr)return 1;if(!Nr&&!on&&!jn&&gr<vr||jn&&Or&&Yr&&!Nr&&!on||En&&Or&&Yr||!_n&&Yr||!Tn)return-1}return 0}function Rh(gr,vr,Or){for(var Nr=-1,Yr=gr.criteria,on=vr.criteria,_n=Yr.length,En=Or.length;++Nr<_n;){var Tn=ol(Yr[Nr],on[Nr]);if(Tn){if(Nr>=En)return Tn;var jn=Or[Nr];return Tn*(jn=="desc"?-1:1)}}return gr.index-vr.index}function sl(gr,vr,Or,Nr){for(var Yr=-1,on=gr.length,_n=Or.length,En=-1,Tn=vr.length,jn=Ni(on-_n,0),zn=Un(Tn+jn),qn=!Nr;++En<Tn;)zn[En]=vr[En];for(;++Yr<_n;)(qn||Yr<on)&&(zn[Or[Yr]]=gr[Yr]);for(;jn--;)zn[En++]=gr[Yr++];return zn}function al(gr,vr,Or,Nr){for(var Yr=-1,on=gr.length,_n=-1,En=Or.length,Tn=-1,jn=vr.length,zn=Ni(on-En,0),qn=Un(zn+jn),Gn=!Nr;++Yr<zn;)qn[Yr]=gr[Yr];for(var Zn=Yr;++Tn<jn;)qn[Zn+Tn]=vr[Tn];for(;++_n<En;)(Gn||Yr<on)&&(qn[Zn+Or[_n]]=gr[Yr++]);return qn}function qi(gr,vr){var Or=-1,Nr=gr.length;for(vr||(vr=Un(Nr));++Or<Nr;)vr[Or]=gr[Or];return vr}function yo(gr,vr,Or,Nr){var Yr=!Or;Or||(Or={});for(var on=-1,_n=vr.length;++on<_n;){var En=vr[on],Tn=Nr?Nr(Or[En],gr[En],En,Or,gr):c;Tn===c&&(Tn=gr[En]),Yr?wo(Or,En,Tn):$s(Or,En,Tn)}return Or}function kh(gr,vr){return yo(gr,Ic(gr),vr)}function $h(gr,vr){return yo(gr,wl(gr),vr)}function ba(gr,vr){return function(Or,Nr){var Yr=ti(Or)?Lf:Qd,on=vr?vr():{};return Yr(Or,gr,Jn(Nr,2),on)}}function as(gr){return ii(function(vr,Or){var Nr=-1,Yr=Or.length,on=Yr>1?Or[Yr-1]:c,_n=Yr>2?Or[2]:c;for(on=gr.length>3&&typeof on=="function"?(Yr--,on):c,_n&&Hi(Or[0],Or[1],_n)&&(on=Yr<3?c:on,Yr=1),vr=fi(vr);++Nr<Yr;){var En=Or[Nr];En&&gr(vr,En,Nr,on)}return vr})}function cl(gr,vr){return function(Or,Nr){if(Or==null)return Or;if(!Wi(Or))return gr(Or,Nr);for(var Yr=Or.length,on=vr?Yr:-1,_n=fi(Or);(vr?on--:++on<Yr)&&Nr(_n[on],on,_n)!==!1;);return Or}}function ul(gr){return function(vr,Or,Nr){for(var Yr=-1,on=fi(vr),_n=Nr(vr),En=_n.length;En--;){var Tn=_n[gr?En:++Yr];if(Or(on[Tn],Tn,on)===!1)break}return vr}}function Ph(gr,vr,Or){var Nr=vr&Br,Yr=Ls(gr);function on(){var _n=this&&this!==Ui&&this instanceof on?Yr:gr;return _n.apply(Nr?Or:this,arguments)}return on}function ll(gr){return function(vr){vr=ui(vr);var Or=Qo(vr)?lo(vr):c,Nr=Or?Or[0]:vr.charAt(0),Yr=Or?Lo(Or,1).join(""):vr.slice(1);return Nr[gr]()+Yr}}function cs(gr){return function(vr){return za(uf(cf(vr).replace(Sf,"")),gr,"")}}function Ls(gr){return function(){var vr=arguments;switch(vr.length){case 0:return new gr;case 1:return new gr(vr[0]);case 2:return new gr(vr[0],vr[1]);case 3:return new gr(vr[0],vr[1],vr[2]);case 4:return new gr(vr[0],vr[1],vr[2],vr[3]);case 5:return new gr(vr[0],vr[1],vr[2],vr[3],vr[4]);case 6:return new gr(vr[0],vr[1],vr[2],vr[3],vr[4],vr[5]);case 7:return new gr(vr[0],vr[1],vr[2],vr[3],vr[4],vr[5],vr[6])}var Or=ss(gr.prototype),Nr=gr.apply(Or,vr);return vi(Nr)?Nr:Or}}function Bh(gr,vr,Or){var Nr=Ls(gr);function Yr(){for(var on=arguments.length,_n=Un(on),En=on,Tn=us(Yr);En--;)_n[En]=arguments[En];var jn=on<3&&_n[0]!==Tn&&_n[on-1]!==Tn?[]:$o(_n,Tn);if(on-=jn.length,on<Or)return gl(gr,vr,wa,Yr.placeholder,c,_n,jn,c,c,Or-on);var zn=this&&this!==Ui&&this instanceof Yr?Nr:gr;return Zi(zn,this,_n)}return Yr}function fl(gr){return function(vr,Or,Nr){var Yr=fi(vr);if(!Wi(vr)){var on=Jn(Or,3);vr=Di(vr),Or=function(En){return on(Yr[En],En,Yr)}}var _n=gr(vr,Or,Nr);return _n>-1?Yr[on?vr[_n]:_n]:c}}function dl(gr){return So(function(vr){var Or=vr.length,Nr=Or,Yr=oo.prototype.thru;for(gr&&vr.reverse();Nr--;){var on=vr[Nr];if(typeof on!="function")throw new io(y);if(Yr&&!_n&&Ea(on)=="wrapper")var _n=new oo([],!0)}for(Nr=_n?Nr:Or;++Nr<Or;){on=vr[Nr];var En=Ea(on),Tn=En=="wrapper"?Ac(on):c;Tn&&Oc(Tn[0])&&Tn[1]==(Zr|Vr|Qr|rn)&&!Tn[4].length&&Tn[9]==1?_n=_n[Ea(Tn[0])].apply(_n,Tn[3]):_n=on.length==1&&Oc(on)?_n[En]():_n.thru(on)}return function(){var jn=arguments,zn=jn[0];if(_n&&jn.length==1&&ti(zn))return _n.plant(zn).value();for(var qn=0,Gn=Or?vr[qn].apply(this,jn):zn;++qn<Or;)Gn=vr[qn].call(this,Gn);return Gn}})}function wa(gr,vr,Or,Nr,Yr,on,_n,En,Tn,jn){var zn=vr&Zr,qn=vr&Br,Gn=vr&Fr,Zn=vr&(Vr|Jr),Xn=vr&gn,ni=Gn?c:Ls(gr);function Qn(){for(var oi=arguments.length,ai=Un(oi),eo=oi;eo--;)ai[eo]=arguments[eo];if(Zn)var Vi=us(Qn),to=Vf(ai,Vi);if(Nr&&(ai=sl(ai,Nr,Yr,Zn)),on&&(ai=al(ai,on,_n,Zn)),oi-=to,Zn&&oi<jn){var Ci=$o(ai,Vi);return gl(gr,vr,wa,Qn.placeholder,Or,ai,Ci,En,Tn,jn-oi)}var po=qn?Or:this,xo=Gn?po[gr]:gr;return oi=ai.length,En?ai=Qh(ai,En):Xn&&oi>1&&ai.reverse(),zn&&Tn<oi&&(ai.length=Tn),this&&this!==Ui&&this instanceof Qn&&(xo=ni||Ls(xo)),xo.apply(po,ai)}return Qn}function hl(gr,vr){return function(Or,Nr){return ah(Or,gr,vr(Nr),{})}}function va(gr,vr){return function(Or,Nr){var Yr;if(Or===c&&Nr===c)return vr;if(Or!==c&&(Yr=Or),Nr!==c){if(Yr===c)return Nr;typeof Or=="string"||typeof Nr=="string"?(Or=Xi(Or),Nr=Xi(Nr)):(Or=Xu(Or),Nr=Xu(Nr)),Yr=gr(Or,Nr)}return Yr}}function bc(gr){return So(function(vr){return vr=yi(vr,Ji(Jn())),ii(function(Or){var Nr=this;return gr(vr,function(Yr){return Zi(Yr,Nr,Or)})})})}function Sa(gr,vr){vr=vr===c?" ":Xi(vr);var Or=vr.length;if(Or<2)return Or?dc(vr,gr):vr;var Nr=dc(vr,aa(gr/es(vr)));return Qo(vr)?Lo(lo(Nr),0,gr).join(""):Nr.slice(0,gr)}function Mh(gr,vr,Or,Nr){var Yr=vr&Br,on=Ls(gr);function _n(){for(var En=-1,Tn=arguments.length,jn=-1,zn=Nr.length,qn=Un(zn+Tn),Gn=this&&this!==Ui&&this instanceof _n?on:gr;++jn<zn;)qn[jn]=Nr[jn];for(;Tn--;)qn[jn++]=arguments[++En];return Zi(Gn,Yr?Or:this,qn)}return _n}function pl(gr){return function(vr,Or,Nr){return Nr&&typeof Nr!="number"&&Hi(vr,Or,Nr)&&(Or=Nr=c),vr=Io(vr),Or===c?(Or=vr,vr=0):Or=Io(Or),Nr=Nr===c?vr<Or?1:-1:Io(Nr),bh(vr,Or,Nr,gr)}}function Aa(gr){return function(vr,Or){return typeof vr=="string"&&typeof Or=="string"||(vr=uo(vr),Or=uo(Or)),gr(vr,Or)}}function gl(gr,vr,Or,Nr,Yr,on,_n,En,Tn,jn){var zn=vr&Vr,qn=zn?_n:c,Gn=zn?c:_n,Zn=zn?on:c,Xn=zn?c:on;vr|=zn?Qr:Wr,vr&=~(zn?Wr:Qr),vr&qr||(vr&=~(Br|Fr));var ni=[gr,vr,Yr,Zn,qn,Xn,Gn,En,Tn,jn],Qn=Or.apply(c,ni);return Oc(gr)&&Ol(Qn,ni),Qn.placeholder=Nr,Tl(Qn,gr,vr)}function wc(gr){var vr=Li[gr];return function(Or,Nr){if(Or=uo(Or),Nr=Nr==null?0:Ki(ri(Nr),292),Nr&&Tu(Or)){var Yr=(ui(Or)+"e").split("e"),on=vr(Yr[0]+"e"+(+Yr[1]+Nr));return Yr=(ui(on)+"e").split("e"),+(Yr[0]+"e"+(+Yr[1]-Nr))}return vr(Or)}}var Ch=ns&&1/Js(new ns([,-0]))[1]==Hr?function(gr){return new ns(gr)}:jc;function yl(gr){return function(vr){var Or=ji(vr);return Or==ln?Za(vr):Or==Mn?Xf(vr):Hf(vr,gr(vr))}}function vo(gr,vr,Or,Nr,Yr,on,_n,En){var Tn=vr&Fr;if(!Tn&&typeof gr!="function")throw new io(y);var jn=Nr?Nr.length:0;if(jn||(vr&=~(Qr|Wr),Nr=Yr=c),_n=_n===c?_n:Ni(ri(_n),0),En=En===c?En:ri(En),jn-=Yr?Yr.length:0,vr&Wr){var zn=Nr,qn=Yr;Nr=Yr=c}var Gn=Tn?c:Ac(gr),Zn=[gr,vr,Or,Nr,Yr,zn,qn,on,_n,En];if(Gn&&Zh(Zn,Gn),gr=Zn[0],vr=Zn[1],Or=Zn[2],Nr=Zn[3],Yr=Zn[4],En=Zn[9]=Zn[9]===c?Tn?0:gr.length:Ni(Zn[9]-jn,0),!En&&vr&(Vr|Jr)&&(vr&=~(Vr|Jr)),!vr||vr==Br)var Xn=Ph(gr,vr,Or);else vr==Vr||vr==Jr?Xn=Bh(gr,vr,En):(vr==Qr||vr==(Br|Qr))&&!Yr.length?Xn=Mh(gr,vr,Or,Nr):Xn=wa.apply(c,Zn);var ni=Gn?Zu:Ol;return Tl(ni(Xn,Zn),gr,vr)}function ml(gr,vr,Or,Nr){return gr===c||ho(gr,rs[Or])&&!li.call(Nr,Or)?vr:gr}function _l(gr,vr,Or,Nr,Yr,on){return vi(gr)&&vi(vr)&&(on.set(vr,gr),ga(gr,vr,c,_l,on),on.delete(vr)),gr}function Lh(gr){return Us(gr)?c:gr}function bl(gr,vr,Or,Nr,Yr,on){var _n=Or&Dr,En=gr.length,Tn=vr.length;if(En!=Tn&&!(_n&&Tn>En))return!1;var jn=on.get(gr),zn=on.get(vr);if(jn&&zn)return jn==vr&&zn==gr;var qn=-1,Gn=!0,Zn=Or&Cr?new Ko:c;for(on.set(gr,vr),on.set(vr,gr);++qn<En;){var Xn=gr[qn],ni=vr[qn];if(Nr)var Qn=_n?Nr(ni,Xn,qn,vr,gr,on):Nr(Xn,ni,qn,gr,vr,on);if(Qn!==c){if(Qn)continue;Gn=!1;break}if(Zn){if(!Ha(vr,function(oi,ai){if(!Is(Zn,ai)&&(Xn===oi||Yr(Xn,oi,Or,Nr,on)))return Zn.push(ai)})){Gn=!1;break}}else if(!(Xn===ni||Yr(Xn,ni,Or,Nr,on))){Gn=!1;break}}return on.delete(gr),on.delete(vr),Gn}function Nh(gr,vr,Or,Nr,Yr,on,_n){switch(Or){case _r:if(gr.byteLength!=vr.byteLength||gr.byteOffset!=vr.byteOffset)return!1;gr=gr.buffer,vr=vr.buffer;case Er:return!(gr.byteLength!=vr.byteLength||!on(new na(gr),new na(vr)));case pn:case vn:case Sn:return ho(+gr,+vr);case Pn:return gr.name==vr.name&&gr.message==vr.message;case Cn:case cn:return gr==vr+"";case ln:var En=Za;case Mn:var Tn=Nr&Dr;if(En||(En=Js),gr.size!=vr.size&&!Tn)return!1;var jn=_n.get(gr);if(jn)return jn==vr;Nr|=Cr,_n.set(gr,vr);var zn=bl(En(gr),En(vr),Nr,Yr,on,_n);return _n.delete(gr),zn;case yn:if(ks)return ks.call(gr)==ks.call(vr)}return!1}function Dh(gr,vr,Or,Nr,Yr,on){var _n=Or&Dr,En=vc(gr),Tn=En.length,jn=vc(vr),zn=jn.length;if(Tn!=zn&&!_n)return!1;for(var qn=Tn;qn--;){var Gn=En[qn];if(!(_n?Gn in vr:li.call(vr,Gn)))return!1}var Zn=on.get(gr),Xn=on.get(vr);if(Zn&&Xn)return Zn==vr&&Xn==gr;var ni=!0;on.set(gr,vr),on.set(vr,gr);for(var Qn=_n;++qn<Tn;){Gn=En[qn];var oi=gr[Gn],ai=vr[Gn];if(Nr)var eo=_n?Nr(ai,oi,Gn,vr,gr,on):Nr(oi,ai,Gn,gr,vr,on);if(!(eo===c?oi===ai||Yr(oi,ai,Or,Nr,on):eo)){ni=!1;break}Qn||(Qn=Gn=="constructor")}if(ni&&!Qn){var Vi=gr.constructor,to=vr.constructor;Vi!=to&&"constructor"in gr&&"constructor"in vr&&!(typeof Vi=="function"&&Vi instanceof Vi&&typeof to=="function"&&to instanceof to)&&(ni=!1)}return on.delete(gr),on.delete(vr),ni}function So(gr){return Rc(Il(gr,c,Ml),gr+"")}function vc(gr){return Uu(gr,Di,Ic)}function Sc(gr){return Uu(gr,Gi,wl)}var Ac=ua?function(gr){return ua.get(gr)}:jc;function Ea(gr){for(var vr=gr.name+"",Or=os[vr],Nr=li.call(os,vr)?Or.length:0;Nr--;){var Yr=Or[Nr],on=Yr.func;if(on==null||on==gr)return Yr.name}return vr}function us(gr){var vr=li.call(nn,"placeholder")?nn:gr;return vr.placeholder}function Jn(){var gr=nn.iteratee||Fc;return gr=gr===Fc?ju:gr,arguments.length?gr(arguments[0],arguments[1]):gr}function Ia(gr,vr){var Or=gr.__data__;return qh(vr)?Or[typeof vr=="string"?"string":"hash"]:Or.map}function Ec(gr){for(var vr=Di(gr),Or=vr.length;Or--;){var Nr=vr[Or],Yr=gr[Nr];vr[Or]=[Nr,Yr,Al(Yr)]}return vr}function Ho(gr,vr){var Or=Yf(gr,vr);return Ku(Or)?Or:c}function Uh(gr){var vr=li.call(gr,Uo),Or=gr[Uo];try{gr[Uo]=c;var Nr=!0}catch{}var Yr=ta.call(gr);return Nr&&(vr?gr[Uo]=Or:delete gr[Uo]),Yr}var Ic=Xa?function(gr){return gr==null?[]:(gr=fi(gr),Ro(Xa(gr),function(vr){return xu.call(gr,vr)}))}:zc,wl=Xa?function(gr){for(var vr=[];gr;)ko(vr,Ic(gr)),gr=ia(gr);return vr}:zc,ji=zi;(Qa&&ji(new Qa(new ArrayBuffer(1)))!=_r||Os&&ji(new Os)!=ln||ec&&ji(ec.resolve())!=Ln||ns&&ji(new ns)!=Mn||Ts&&ji(new Ts)!=Rn)&&(ji=function(gr){var vr=zi(gr),Or=vr==In?gr.constructor:c,Nr=Or?Vo(Or):"";if(Nr)switch(Nr){case vd:return _r;case Sd:return ln;case Ad:return Ln;case Ed:return Mn;case Id:return Rn}return vr});function Fh(gr,vr,Or){for(var Nr=-1,Yr=Or.length;++Nr<Yr;){var on=Or[Nr],_n=on.size;switch(on.type){case"drop":gr+=_n;break;case"dropRight":vr-=_n;break;case"take":vr=Ki(vr,gr+_n);break;case"takeRight":gr=Ni(gr,vr-_n);break}}return{start:gr,end:vr}}function Kh(gr){var vr=gr.match(Ti);return vr?vr[1].split(Ri):[]}function vl(gr,vr,Or){vr=Co(vr,gr);for(var Nr=-1,Yr=vr.length,on=!1;++Nr<Yr;){var _n=mo(vr[Nr]);if(!(on=gr!=null&&Or(gr,_n)))break;gr=gr[_n]}return on||++Nr!=Yr?on:(Yr=gr==null?0:gr.length,!!Yr&&Pa(Yr)&&Ao(_n,Yr)&&(ti(gr)||qo(gr)))}function jh(gr){var vr=gr.length,Or=new gr.constructor(vr);return vr&&typeof gr[0]=="string"&&li.call(gr,"index")&&(Or.index=gr.index,Or.input=gr.input),Or}function Sl(gr){return typeof gr.constructor=="function"&&!Ns(gr)?ss(ia(gr)):{}}function zh(gr,vr,Or){var Nr=gr.constructor;switch(vr){case Er:return _c(gr);case pn:case vn:return new Nr(+gr);case _r:return xh(gr,Or);case br:case Tr:case Lr:case zr:case Xr:case Dn:case Vn:case Fn:case Wn:return il(gr,Or);case ln:return new Nr;case Sn:case cn:return new Nr(gr);case Cn:return Oh(gr);case Mn:return new Nr;case yn:return Th(gr)}}function Hh(gr,vr){var Or=vr.length;if(!Or)return gr;var Nr=Or-1;return vr[Nr]=(Or>1?"& ":"")+vr[Nr],vr=vr.join(Or>2?", ":" "),gr.replace(Vs,`{
/* [wrapped with `+vr+`] */
`)}function Vh(gr){return ti(gr)||qo(gr)||!!(Ou&&gr&&gr[Ou])}function Ao(gr,vr){var Or=typeof gr;return vr=vr??Gr,!!vr&&(Or=="number"||Or!="symbol"&&gs.test(gr))&&gr>-1&&gr%1==0&&gr<vr}function Hi(gr,vr,Or){if(!vi(Or))return!1;var Nr=typeof vr;return(Nr=="number"?Wi(Or)&&Ao(vr,Or.length):Nr=="string"&&vr in Or)?ho(Or[vr],gr):!1}function xc(gr,vr){if(ti(gr))return!1;var Or=typeof gr;return Or=="number"||Or=="symbol"||Or=="boolean"||gr==null||Qi(gr)?!0:zs.test(gr)||!Ii.test(gr)||vr!=null&&gr in fi(vr)}function qh(gr){var vr=typeof gr;return vr=="string"||vr=="number"||vr=="symbol"||vr=="boolean"?gr!=="__proto__":gr===null}function Oc(gr){var vr=Ea(gr),Or=nn[vr];if(typeof Or!="function"||!(vr in si.prototype))return!1;if(gr===Or)return!0;var Nr=Ac(Or);return!!Nr&&gr===Nr[0]}function Wh(gr){return!!Au&&Au in gr}var Gh=Qs?Eo:Hc;function Ns(gr){var vr=gr&&gr.constructor,Or=typeof vr=="function"&&vr.prototype||rs;return gr===Or}function Al(gr){return gr===gr&&!vi(gr)}function El(gr,vr){return function(Or){return Or==null?!1:Or[gr]===vr&&(vr!==c||gr in fi(Or))}}function Yh(gr){var vr=ka(gr,function(Nr){return Or.size===Sr&&Or.clear(),Nr}),Or=vr.cache;return vr}function Zh(gr,vr){var Or=gr[1],Nr=vr[1],Yr=Or|Nr,on=Yr<(Br|Fr|Zr),_n=Nr==Zr&&Or==Vr||Nr==Zr&&Or==rn&&gr[7].length<=vr[8]||Nr==(Zr|rn)&&vr[7].length<=vr[8]&&Or==Vr;if(!(on||_n))return gr;Nr&Br&&(gr[2]=vr[2],Yr|=Or&Br?0:qr);var En=vr[3];if(En){var Tn=gr[3];gr[3]=Tn?sl(Tn,En,vr[4]):En,gr[4]=Tn?$o(gr[3],Ar):vr[4]}return En=vr[5],En&&(Tn=gr[5],gr[5]=Tn?al(Tn,En,vr[6]):En,gr[6]=Tn?$o(gr[5],Ar):vr[6]),En=vr[7],En&&(gr[7]=En),Nr&Zr&&(gr[8]=gr[8]==null?vr[8]:Ki(gr[8],vr[8])),gr[9]==null&&(gr[9]=vr[9]),gr[0]=vr[0],gr[1]=Yr,gr}function Jh(gr){var vr=[];if(gr!=null)for(var Or in fi(gr))vr.push(Or);return vr}function Xh(gr){return ta.call(gr)}function Il(gr,vr,Or){return vr=Ni(vr===c?gr.length-1:vr,0),function(){for(var Nr=arguments,Yr=-1,on=Ni(Nr.length-vr,0),_n=Un(on);++Yr<on;)_n[Yr]=Nr[vr+Yr];Yr=-1;for(var En=Un(vr+1);++Yr<vr;)En[Yr]=Nr[Yr];return En[vr]=Or(_n),Zi(gr,this,En)}}function xl(gr,vr){return vr.length<2?gr:zo(gr,ao(vr,0,-1))}function Qh(gr,vr){for(var Or=gr.length,Nr=Ki(vr.length,Or),Yr=qi(gr);Nr--;){var on=vr[Nr];gr[Nr]=Ao(on,Or)?Yr[on]:c}return gr}function Tc(gr,vr){if(!(vr==="constructor"&&typeof gr[vr]=="function")&&vr!="__proto__")return gr[vr]}var Ol=Rl(Zu),Ds=pd||function(gr,vr){return Ui.setTimeout(gr,vr)},Rc=Rl(Sh);function Tl(gr,vr,Or){var Nr=vr+"";return Rc(gr,Hh(Nr,ep(Kh(Nr),Or)))}function Rl(gr){var vr=0,Or=0;return function(){var Nr=_d(),Yr=Mr-(Nr-Or);if(Or=Nr,Yr>0){if(++vr>=mn)return arguments[0]}else vr=0;return gr.apply(c,arguments)}}function xa(gr,vr){var Or=-1,Nr=gr.length,Yr=Nr-1;for(vr=vr===c?Nr:vr;++Or<vr;){var on=fc(Or,Yr),_n=gr[on];gr[on]=gr[Or],gr[Or]=_n}return gr.length=vr,gr}var kl=Yh(function(gr){var vr=[];return gr.charCodeAt(0)===46&&vr.push(""),gr.replace(xi,function(Or,Nr,Yr,on){vr.push(Yr?on.replace($i,"$1"):Nr||Or)}),vr});function mo(gr){if(typeof gr=="string"||Qi(gr))return gr;var vr=gr+"";return vr=="0"&&1/gr==-Hr?"-0":vr}function Vo(gr){if(gr!=null){try{return ea.call(gr)}catch{}try{return gr+""}catch{}}return""}function ep(gr,vr){return no(hn,function(Or){var Nr="_."+Or[0];vr&Or[1]&&!Ys(gr,Nr)&&gr.push(Nr)}),gr.sort()}function $l(gr){if(gr instanceof si)return gr.clone();var vr=new oo(gr.__wrapped__,gr.__chain__);return vr.__actions__=qi(gr.__actions__),vr.__index__=gr.__index__,vr.__values__=gr.__values__,vr}function tp(gr,vr,Or){(Or?Hi(gr,vr,Or):vr===c)?vr=1:vr=Ni(ri(vr),0);var Nr=gr==null?0:gr.length;if(!Nr||vr<1)return[];for(var Yr=0,on=0,_n=Un(aa(Nr/vr));Yr<Nr;)_n[on++]=ao(gr,Yr,Yr+=vr);return _n}function rp(gr){for(var vr=-1,Or=gr==null?0:gr.length,Nr=0,Yr=[];++vr<Or;){var on=gr[vr];on&&(Yr[Nr++]=on)}return Yr}function np(){var gr=arguments.length;if(!gr)return[];for(var vr=Un(gr-1),Or=arguments[0],Nr=gr;Nr--;)vr[Nr-1]=arguments[Nr];return ko(ti(Or)?qi(Or):[Or],Fi(vr,1))}var ip=ii(function(gr,vr){return Mi(gr)?Ps(gr,Fi(vr,1,Mi,!0)):[]}),op=ii(function(gr,vr){var Or=co(vr);return Mi(Or)&&(Or=c),Mi(gr)?Ps(gr,Fi(vr,1,Mi,!0),Jn(Or,2)):[]}),sp=ii(function(gr,vr){var Or=co(vr);return Mi(Or)&&(Or=c),Mi(gr)?Ps(gr,Fi(vr,1,Mi,!0),c,Or):[]});function ap(gr,vr,Or){var Nr=gr==null?0:gr.length;return Nr?(vr=Or||vr===c?1:ri(vr),ao(gr,vr<0?0:vr,Nr)):[]}function cp(gr,vr,Or){var Nr=gr==null?0:gr.length;return Nr?(vr=Or||vr===c?1:ri(vr),vr=Nr-vr,ao(gr,0,vr<0?0:vr)):[]}function up(gr,vr){return gr&&gr.length?ma(gr,Jn(vr,3),!0,!0):[]}function lp(gr,vr){return gr&&gr.length?ma(gr,Jn(vr,3),!0):[]}function fp(gr,vr,Or,Nr){var Yr=gr==null?0:gr.length;return Yr?(Or&&typeof Or!="number"&&Hi(gr,vr,Or)&&(Or=0,Nr=Yr),nh(gr,vr,Or,Nr)):[]}function Pl(gr,vr,Or){var Nr=gr==null?0:gr.length;if(!Nr)return-1;var Yr=Or==null?0:ri(Or);return Yr<0&&(Yr=Ni(Nr+Yr,0)),Zs(gr,Jn(vr,3),Yr)}function Bl(gr,vr,Or){var Nr=gr==null?0:gr.length;if(!Nr)return-1;var Yr=Nr-1;return Or!==c&&(Yr=ri(Or),Yr=Or<0?Ni(Nr+Yr,0):Ki(Yr,Nr-1)),Zs(gr,Jn(vr,3),Yr,!0)}function Ml(gr){var vr=gr==null?0:gr.length;return vr?Fi(gr,1):[]}function dp(gr){var vr=gr==null?0:gr.length;return vr?Fi(gr,Hr):[]}function hp(gr,vr){var Or=gr==null?0:gr.length;return Or?(vr=vr===c?1:ri(vr),Fi(gr,vr)):[]}function pp(gr){for(var vr=-1,Or=gr==null?0:gr.length,Nr={};++vr<Or;){var Yr=gr[vr];Nr[Yr[0]]=Yr[1]}return Nr}function Cl(gr){return gr&&gr.length?gr[0]:c}function gp(gr,vr,Or){var Nr=gr==null?0:gr.length;if(!Nr)return-1;var Yr=Or==null?0:ri(Or);return Yr<0&&(Yr=Ni(Nr+Yr,0)),Xo(gr,vr,Yr)}function yp(gr){var vr=gr==null?0:gr.length;return vr?ao(gr,0,-1):[]}var mp=ii(function(gr){var vr=yi(gr,yc);return vr.length&&vr[0]===gr[0]?sc(vr):[]}),_p=ii(function(gr){var vr=co(gr),Or=yi(gr,yc);return vr===co(Or)?vr=c:Or.pop(),Or.length&&Or[0]===gr[0]?sc(Or,Jn(vr,2)):[]}),bp=ii(function(gr){var vr=co(gr),Or=yi(gr,yc);return vr=typeof vr=="function"?vr:c,vr&&Or.pop(),Or.length&&Or[0]===gr[0]?sc(Or,c,vr):[]});function wp(gr,vr){return gr==null?"":yd.call(gr,vr)}function co(gr){var vr=gr==null?0:gr.length;return vr?gr[vr-1]:c}function vp(gr,vr,Or){var Nr=gr==null?0:gr.length;if(!Nr)return-1;var Yr=Nr;return Or!==c&&(Yr=ri(Or),Yr=Yr<0?Ni(Nr+Yr,0):Ki(Yr,Nr-1)),vr===vr?ed(gr,vr,Yr):Zs(gr,gu,Yr,!0)}function Sp(gr,vr){return gr&&gr.length?qu(gr,ri(vr)):c}var Ap=ii(Ll);function Ll(gr,vr){return gr&&gr.length&&vr&&vr.length?lc(gr,vr):gr}function Ep(gr,vr,Or){return gr&&gr.length&&vr&&vr.length?lc(gr,vr,Jn(Or,2)):gr}function Ip(gr,vr,Or){return gr&&gr.length&&vr&&vr.length?lc(gr,vr,c,Or):gr}var xp=So(function(gr,vr){var Or=gr==null?0:gr.length,Nr=rc(gr,vr);return Yu(gr,yi(vr,function(Yr){return Ao(Yr,Or)?+Yr:Yr}).sort(ol)),Nr});function Op(gr,vr){var Or=[];if(!(gr&&gr.length))return Or;var Nr=-1,Yr=[],on=gr.length;for(vr=Jn(vr,3);++Nr<on;){var _n=gr[Nr];vr(_n,Nr,gr)&&(Or.push(_n),Yr.push(Nr))}return Yu(gr,Yr),Or}function kc(gr){return gr==null?gr:wd.call(gr)}function Tp(gr,vr,Or){var Nr=gr==null?0:gr.length;return Nr?(Or&&typeof Or!="number"&&Hi(gr,vr,Or)?(vr=0,Or=Nr):(vr=vr==null?0:ri(vr),Or=Or===c?Nr:ri(Or)),ao(gr,vr,Or)):[]}function Rp(gr,vr){return ya(gr,vr)}function kp(gr,vr,Or){return hc(gr,vr,Jn(Or,2))}function $p(gr,vr){var Or=gr==null?0:gr.length;if(Or){var Nr=ya(gr,vr);if(Nr<Or&&ho(gr[Nr],vr))return Nr}return-1}function Pp(gr,vr){return ya(gr,vr,!0)}function Bp(gr,vr,Or){return hc(gr,vr,Jn(Or,2),!0)}function Mp(gr,vr){var Or=gr==null?0:gr.length;if(Or){var Nr=ya(gr,vr,!0)-1;if(ho(gr[Nr],vr))return Nr}return-1}function Cp(gr){return gr&&gr.length?Ju(gr):[]}function Lp(gr,vr){return gr&&gr.length?Ju(gr,Jn(vr,2)):[]}function Np(gr){var vr=gr==null?0:gr.length;return vr?ao(gr,1,vr):[]}function Dp(gr,vr,Or){return gr&&gr.length?(vr=Or||vr===c?1:ri(vr),ao(gr,0,vr<0?0:vr)):[]}function Up(gr,vr,Or){var Nr=gr==null?0:gr.length;return Nr?(vr=Or||vr===c?1:ri(vr),vr=Nr-vr,ao(gr,vr<0?0:vr,Nr)):[]}function Fp(gr,vr){return gr&&gr.length?ma(gr,Jn(vr,3),!1,!0):[]}function Kp(gr,vr){return gr&&gr.length?ma(gr,Jn(vr,3)):[]}var jp=ii(function(gr){return Mo(Fi(gr,1,Mi,!0))}),zp=ii(function(gr){var vr=co(gr);return Mi(vr)&&(vr=c),Mo(Fi(gr,1,Mi,!0),Jn(vr,2))}),Hp=ii(function(gr){var vr=co(gr);return vr=typeof vr=="function"?vr:c,Mo(Fi(gr,1,Mi,!0),c,vr)});function Vp(gr){return gr&&gr.length?Mo(gr):[]}function qp(gr,vr){return gr&&gr.length?Mo(gr,Jn(vr,2)):[]}function Wp(gr,vr){return vr=typeof vr=="function"?vr:c,gr&&gr.length?Mo(gr,c,vr):[]}function $c(gr){if(!(gr&&gr.length))return[];var vr=0;return gr=Ro(gr,function(Or){if(Mi(Or))return vr=Ni(Or.length,vr),!0}),Ga(vr,function(Or){return yi(gr,Va(Or))})}function Nl(gr,vr){if(!(gr&&gr.length))return[];var Or=$c(gr);return vr==null?Or:yi(Or,function(Nr){return Zi(vr,c,Nr)})}var Gp=ii(function(gr,vr){return Mi(gr)?Ps(gr,vr):[]}),Yp=ii(function(gr){return gc(Ro(gr,Mi))}),Zp=ii(function(gr){var vr=co(gr);return Mi(vr)&&(vr=c),gc(Ro(gr,Mi),Jn(vr,2))}),Jp=ii(function(gr){var vr=co(gr);return vr=typeof vr=="function"?vr:c,gc(Ro(gr,Mi),c,vr)}),Xp=ii($c);function Qp(gr,vr){return tl(gr||[],vr||[],$s)}function eg(gr,vr){return tl(gr||[],vr||[],Cs)}var tg=ii(function(gr){var vr=gr.length,Or=vr>1?gr[vr-1]:c;return Or=typeof Or=="function"?(gr.pop(),Or):c,Nl(gr,Or)});function Dl(gr){var vr=nn(gr);return vr.__chain__=!0,vr}function rg(gr,vr){return vr(gr),gr}function Oa(gr,vr){return vr(gr)}var ng=So(function(gr){var vr=gr.length,Or=vr?gr[0]:0,Nr=this.__wrapped__,Yr=function(on){return rc(on,gr)};return vr>1||this.__actions__.length||!(Nr instanceof si)||!Ao(Or)?this.thru(Yr):(Nr=Nr.slice(Or,+Or+(vr?1:0)),Nr.__actions__.push({func:Oa,args:[Yr],thisArg:c}),new oo(Nr,this.__chain__).thru(function(on){return vr&&!on.length&&on.push(c),on}))});function ig(){return Dl(this)}function og(){return new oo(this.value(),this.__chain__)}function sg(){this.__values__===c&&(this.__values__=Xl(this.value()));var gr=this.__index__>=this.__values__.length,vr=gr?c:this.__values__[this.__index__++];return{done:gr,value:vr}}function ag(){return this}function cg(gr){for(var vr,Or=this;Or instanceof fa;){var Nr=$l(Or);Nr.__index__=0,Nr.__values__=c,vr?Yr.__wrapped__=Nr:vr=Nr;var Yr=Nr;Or=Or.__wrapped__}return Yr.__wrapped__=gr,vr}function ug(){var gr=this.__wrapped__;if(gr instanceof si){var vr=gr;return this.__actions__.length&&(vr=new si(this)),vr=vr.reverse(),vr.__actions__.push({func:Oa,args:[kc],thisArg:c}),new oo(vr,this.__chain__)}return this.thru(kc)}function lg(){return el(this.__wrapped__,this.__actions__)}var fg=ba(function(gr,vr,Or){li.call(gr,Or)?++gr[Or]:wo(gr,Or,1)});function dg(gr,vr,Or){var Nr=ti(gr)?hu:rh;return Or&&Hi(gr,vr,Or)&&(vr=c),Nr(gr,Jn(vr,3))}function hg(gr,vr){var Or=ti(gr)?Ro:Nu;return Or(gr,Jn(vr,3))}var pg=fl(Pl),gg=fl(Bl);function yg(gr,vr){return Fi(Ta(gr,vr),1)}function mg(gr,vr){return Fi(Ta(gr,vr),Hr)}function _g(gr,vr,Or){return Or=Or===c?1:ri(Or),Fi(Ta(gr,vr),Or)}function Ul(gr,vr){var Or=ti(gr)?no:Bo;return Or(gr,Jn(vr,3))}function Fl(gr,vr){var Or=ti(gr)?Nf:Lu;return Or(gr,Jn(vr,3))}var bg=ba(function(gr,vr,Or){li.call(gr,Or)?gr[Or].push(vr):wo(gr,Or,[vr])});function wg(gr,vr,Or,Nr){gr=Wi(gr)?gr:fs(gr),Or=Or&&!Nr?ri(Or):0;var Yr=gr.length;return Or<0&&(Or=Ni(Yr+Or,0)),Ba(gr)?Or<=Yr&&gr.indexOf(vr,Or)>-1:!!Yr&&Xo(gr,vr,Or)>-1}var vg=ii(function(gr,vr,Or){var Nr=-1,Yr=typeof vr=="function",on=Wi(gr)?Un(gr.length):[];return Bo(gr,function(_n){on[++Nr]=Yr?Zi(vr,_n,Or):Bs(_n,vr,Or)}),on}),Sg=ba(function(gr,vr,Or){wo(gr,Or,vr)});function Ta(gr,vr){var Or=ti(gr)?yi:zu;return Or(gr,Jn(vr,3))}function Ag(gr,vr,Or,Nr){return gr==null?[]:(ti(vr)||(vr=vr==null?[]:[vr]),Or=Nr?c:Or,ti(Or)||(Or=Or==null?[]:[Or]),Wu(gr,vr,Or))}var Eg=ba(function(gr,vr,Or){gr[Or?0:1].push(vr)},function(){return[[],[]]});function Ig(gr,vr,Or){var Nr=ti(gr)?za:mu,Yr=arguments.length<3;return Nr(gr,Jn(vr,4),Or,Yr,Bo)}function xg(gr,vr,Or){var Nr=ti(gr)?Df:mu,Yr=arguments.length<3;return Nr(gr,Jn(vr,4),Or,Yr,Lu)}function Og(gr,vr){var Or=ti(gr)?Ro:Nu;return Or(gr,$a(Jn(vr,3)))}function Tg(gr){var vr=ti(gr)?Pu:wh;return vr(gr)}function Rg(gr,vr,Or){(Or?Hi(gr,vr,Or):vr===c)?vr=1:vr=ri(vr);var Nr=ti(gr)?Jd:vh;return Nr(gr,vr)}function kg(gr){var vr=ti(gr)?Xd:Ah;return vr(gr)}function $g(gr){if(gr==null)return 0;if(Wi(gr))return Ba(gr)?es(gr):gr.length;var vr=ji(gr);return vr==ln||vr==Mn?gr.size:cc(gr).length}function Pg(gr,vr,Or){var Nr=ti(gr)?Ha:Eh;return Or&&Hi(gr,vr,Or)&&(vr=c),Nr(gr,Jn(vr,3))}var Bg=ii(function(gr,vr){if(gr==null)return[];var Or=vr.length;return Or>1&&Hi(gr,vr[0],vr[1])?vr=[]:Or>2&&Hi(vr[0],vr[1],vr[2])&&(vr=[vr[0]]),Wu(gr,Fi(vr,1),[])}),Ra=hd||function(){return Ui.Date.now()};function Mg(gr,vr){if(typeof vr!="function")throw new io(y);return gr=ri(gr),function(){if(--gr<1)return vr.apply(this,arguments)}}function Kl(gr,vr,Or){return vr=Or?c:vr,vr=gr&&vr==null?gr.length:vr,vo(gr,Zr,c,c,c,c,vr)}function jl(gr,vr){var Or;if(typeof vr!="function")throw new io(y);return gr=ri(gr),function(){return--gr>0&&(Or=vr.apply(this,arguments)),gr<=1&&(vr=c),Or}}var Pc=ii(function(gr,vr,Or){var Nr=Br;if(Or.length){var Yr=$o(Or,us(Pc));Nr|=Qr}return vo(gr,Nr,vr,Or,Yr)}),zl=ii(function(gr,vr,Or){var Nr=Br|Fr;if(Or.length){var Yr=$o(Or,us(zl));Nr|=Qr}return vo(vr,Nr,gr,Or,Yr)});function Hl(gr,vr,Or){vr=Or?c:vr;var Nr=vo(gr,Vr,c,c,c,c,c,vr);return Nr.placeholder=Hl.placeholder,Nr}function Vl(gr,vr,Or){vr=Or?c:vr;var Nr=vo(gr,Jr,c,c,c,c,c,vr);return Nr.placeholder=Vl.placeholder,Nr}function ql(gr,vr,Or){var Nr,Yr,on,_n,En,Tn,jn=0,zn=!1,qn=!1,Gn=!0;if(typeof gr!="function")throw new io(y);vr=uo(vr)||0,vi(Or)&&(zn=!!Or.leading,qn="maxWait"in Or,on=qn?Ni(uo(Or.maxWait)||0,vr):on,Gn="trailing"in Or?!!Or.trailing:Gn);function Zn(Ci){var po=Nr,xo=Yr;return Nr=Yr=c,jn=Ci,_n=gr.apply(xo,po),_n}function Xn(Ci){return jn=Ci,En=Ds(oi,vr),zn?Zn(Ci):_n}function ni(Ci){var po=Ci-Tn,xo=Ci-jn,df=vr-po;return qn?Ki(df,on-xo):df}function Qn(Ci){var po=Ci-Tn,xo=Ci-jn;return Tn===c||po>=vr||po<0||qn&&xo>=on}function oi(){var Ci=Ra();if(Qn(Ci))return ai(Ci);En=Ds(oi,ni(Ci))}function ai(Ci){return En=c,Gn&&Nr?Zn(Ci):(Nr=Yr=c,_n)}function eo(){En!==c&&rl(En),jn=0,Nr=Tn=Yr=En=c}function Vi(){return En===c?_n:ai(Ra())}function to(){var Ci=Ra(),po=Qn(Ci);if(Nr=arguments,Yr=this,Tn=Ci,po){if(En===c)return Xn(Tn);if(qn)return rl(En),En=Ds(oi,vr),Zn(Tn)}return En===c&&(En=Ds(oi,vr)),_n}return to.cancel=eo,to.flush=Vi,to}var Cg=ii(function(gr,vr){return Cu(gr,1,vr)}),Lg=ii(function(gr,vr,Or){return Cu(gr,uo(vr)||0,Or)});function Ng(gr){return vo(gr,gn)}function ka(gr,vr){if(typeof gr!="function"||vr!=null&&typeof vr!="function")throw new io(y);var Or=function(){var Nr=arguments,Yr=vr?vr.apply(this,Nr):Nr[0],on=Or.cache;if(on.has(Yr))return on.get(Yr);var _n=gr.apply(this,Nr);return Or.cache=on.set(Yr,_n)||on,_n};return Or.cache=new(ka.Cache||bo),Or}ka.Cache=bo;function $a(gr){if(typeof gr!="function")throw new io(y);return function(){var vr=arguments;switch(vr.length){case 0:return!gr.call(this);case 1:return!gr.call(this,vr[0]);case 2:return!gr.call(this,vr[0],vr[1]);case 3:return!gr.call(this,vr[0],vr[1],vr[2])}return!gr.apply(this,vr)}}function Dg(gr){return jl(2,gr)}var Ug=Ih(function(gr,vr){vr=vr.length==1&&ti(vr[0])?yi(vr[0],Ji(Jn())):yi(Fi(vr,1),Ji(Jn()));var Or=vr.length;return ii(function(Nr){for(var Yr=-1,on=Ki(Nr.length,Or);++Yr<on;)Nr[Yr]=vr[Yr].call(this,Nr[Yr]);return Zi(gr,this,Nr)})}),Bc=ii(function(gr,vr){var Or=$o(vr,us(Bc));return vo(gr,Qr,c,vr,Or)}),Wl=ii(function(gr,vr){var Or=$o(vr,us(Wl));return vo(gr,Wr,c,vr,Or)}),Fg=So(function(gr,vr){return vo(gr,rn,c,c,c,vr)});function Kg(gr,vr){if(typeof gr!="function")throw new io(y);return vr=vr===c?vr:ri(vr),ii(gr,vr)}function jg(gr,vr){if(typeof gr!="function")throw new io(y);return vr=vr==null?0:Ni(ri(vr),0),ii(function(Or){var Nr=Or[vr],Yr=Lo(Or,0,vr);return Nr&&ko(Yr,Nr),Zi(gr,this,Yr)})}function zg(gr,vr,Or){var Nr=!0,Yr=!0;if(typeof gr!="function")throw new io(y);return vi(Or)&&(Nr="leading"in Or?!!Or.leading:Nr,Yr="trailing"in Or?!!Or.trailing:Yr),ql(gr,vr,{leading:Nr,maxWait:vr,trailing:Yr})}function Hg(gr){return Kl(gr,1)}function Vg(gr,vr){return Bc(mc(vr),gr)}function qg(){if(!arguments.length)return[];var gr=arguments[0];return ti(gr)?gr:[gr]}function Wg(gr){return so(gr,kr)}function Gg(gr,vr){return vr=typeof vr=="function"?vr:c,so(gr,kr,vr)}function Yg(gr){return so(gr,Ir|kr)}function Zg(gr,vr){return vr=typeof vr=="function"?vr:c,so(gr,Ir|kr,vr)}function Jg(gr,vr){return vr==null||Mu(gr,vr,Di(vr))}function ho(gr,vr){return gr===vr||gr!==gr&&vr!==vr}var Xg=Aa(oc),Qg=Aa(function(gr,vr){return gr>=vr}),qo=Fu(function(){return arguments}())?Fu:function(gr){return Bi(gr)&&li.call(gr,"callee")&&!xu.call(gr,"callee")},ti=Un.isArray,ey=au?Ji(au):ch;function Wi(gr){return gr!=null&&Pa(gr.length)&&!Eo(gr)}function Mi(gr){return Bi(gr)&&Wi(gr)}function ty(gr){return gr===!0||gr===!1||Bi(gr)&&zi(gr)==pn}var No=gd||Hc,ry=cu?Ji(cu):uh;function ny(gr){return Bi(gr)&&gr.nodeType===1&&!Us(gr)}function iy(gr){if(gr==null)return!0;if(Wi(gr)&&(ti(gr)||typeof gr=="string"||typeof gr.splice=="function"||No(gr)||ls(gr)||qo(gr)))return!gr.length;var vr=ji(gr);if(vr==ln||vr==Mn)return!gr.size;if(Ns(gr))return!cc(gr).length;for(var Or in gr)if(li.call(gr,Or))return!1;return!0}function oy(gr,vr){return Ms(gr,vr)}function sy(gr,vr,Or){Or=typeof Or=="function"?Or:c;var Nr=Or?Or(gr,vr):c;return Nr===c?Ms(gr,vr,c,Or):!!Nr}function Mc(gr){if(!Bi(gr))return!1;var vr=zi(gr);return vr==Pn||vr==$n||typeof gr.message=="string"&&typeof gr.name=="string"&&!Us(gr)}function ay(gr){return typeof gr=="number"&&Tu(gr)}function Eo(gr){if(!vi(gr))return!1;var vr=zi(gr);return vr==kn||vr==sn||vr==dn||vr==An}function Gl(gr){return typeof gr=="number"&&gr==ri(gr)}function Pa(gr){return typeof gr=="number"&&gr>-1&&gr%1==0&&gr<=Gr}function vi(gr){var vr=typeof gr;return gr!=null&&(vr=="object"||vr=="function")}function Bi(gr){return gr!=null&&typeof gr=="object"}var Yl=uu?Ji(uu):fh;function cy(gr,vr){return gr===vr||ac(gr,vr,Ec(vr))}function uy(gr,vr,Or){return Or=typeof Or=="function"?Or:c,ac(gr,vr,Ec(vr),Or)}function ly(gr){return Zl(gr)&&gr!=+gr}function fy(gr){if(Gh(gr))throw new ei(d);return Ku(gr)}function dy(gr){return gr===null}function hy(gr){return gr==null}function Zl(gr){return typeof gr=="number"||Bi(gr)&&zi(gr)==Sn}function Us(gr){if(!Bi(gr)||zi(gr)!=In)return!1;var vr=ia(gr);if(vr===null)return!0;var Or=li.call(vr,"constructor")&&vr.constructor;return typeof Or=="function"&&Or instanceof Or&&ea.call(Or)==ud}var Cc=lu?Ji(lu):dh;function py(gr){return Gl(gr)&&gr>=-Gr&&gr<=Gr}var Jl=fu?Ji(fu):hh;function Ba(gr){return typeof gr=="string"||!ti(gr)&&Bi(gr)&&zi(gr)==cn}function Qi(gr){return typeof gr=="symbol"||Bi(gr)&&zi(gr)==yn}var ls=du?Ji(du):ph;function gy(gr){return gr===c}function yy(gr){return Bi(gr)&&ji(gr)==Rn}function my(gr){return Bi(gr)&&zi(gr)==Nn}var _y=Aa(uc),by=Aa(function(gr,vr){return gr<=vr});function Xl(gr){if(!gr)return[];if(Wi(gr))return Ba(gr)?lo(gr):qi(gr);if(xs&&gr[xs])return Jf(gr[xs]());var vr=ji(gr),Or=vr==ln?Za:vr==Mn?Js:fs;return Or(gr)}function Io(gr){if(!gr)return gr===0?gr:0;if(gr=uo(gr),gr===Hr||gr===-Hr){var vr=gr<0?-1:1;return vr*un}return gr===gr?gr:0}function ri(gr){var vr=Io(gr),Or=vr%1;return vr===vr?Or?vr-Or:vr:0}function Ql(gr){return gr?jo(ri(gr),0,jr):0}function uo(gr){if(typeof gr=="number")return gr;if(Qi(gr))return wn;if(vi(gr)){var vr=typeof gr.valueOf=="function"?gr.valueOf():gr;gr=vi(vr)?vr+"":vr}if(typeof gr!="string")return gr===0?gr:+gr;gr=_u(gr);var Or=ds.test(gr);return Or||ps.test(gr)?Mf(gr.slice(2),Or?2:8):Pi.test(gr)?wn:+gr}function ef(gr){return yo(gr,Gi(gr))}function wy(gr){return gr?jo(ri(gr),-Gr,Gr):gr===0?gr:0}function ui(gr){return gr==null?"":Xi(gr)}var vy=as(function(gr,vr){if(Ns(vr)||Wi(vr)){yo(vr,Di(vr),gr);return}for(var Or in vr)li.call(vr,Or)&&$s(gr,Or,vr[Or])}),tf=as(function(gr,vr){yo(vr,Gi(vr),gr)}),Ma=as(function(gr,vr,Or,Nr){yo(vr,Gi(vr),gr,Nr)}),Sy=as(function(gr,vr,Or,Nr){yo(vr,Di(vr),gr,Nr)}),Ay=So(rc);function Ey(gr,vr){var Or=ss(gr);return vr==null?Or:Bu(Or,vr)}var Iy=ii(function(gr,vr){gr=fi(gr);var Or=-1,Nr=vr.length,Yr=Nr>2?vr[2]:c;for(Yr&&Hi(vr[0],vr[1],Yr)&&(Nr=1);++Or<Nr;)for(var on=vr[Or],_n=Gi(on),En=-1,Tn=_n.length;++En<Tn;){var jn=_n[En],zn=gr[jn];(zn===c||ho(zn,rs[jn])&&!li.call(gr,jn))&&(gr[jn]=on[jn])}return gr}),xy=ii(function(gr){return gr.push(c,_l),Zi(rf,c,gr)});function Oy(gr,vr){return pu(gr,Jn(vr,3),go)}function Ty(gr,vr){return pu(gr,Jn(vr,3),ic)}function Ry(gr,vr){return gr==null?gr:nc(gr,Jn(vr,3),Gi)}function ky(gr,vr){return gr==null?gr:Du(gr,Jn(vr,3),Gi)}function $y(gr,vr){return gr&&go(gr,Jn(vr,3))}function Py(gr,vr){return gr&&ic(gr,Jn(vr,3))}function By(gr){return gr==null?[]:pa(gr,Di(gr))}function My(gr){return gr==null?[]:pa(gr,Gi(gr))}function Lc(gr,vr,Or){var Nr=gr==null?c:zo(gr,vr);return Nr===c?Or:Nr}function Cy(gr,vr){return gr!=null&&vl(gr,vr,ih)}function Nc(gr,vr){return gr!=null&&vl(gr,vr,oh)}var Ly=hl(function(gr,vr,Or){vr!=null&&typeof vr.toString!="function"&&(vr=ta.call(vr)),gr[vr]=Or},Uc(Yi)),Ny=hl(function(gr,vr,Or){vr!=null&&typeof vr.toString!="function"&&(vr=ta.call(vr)),li.call(gr,vr)?gr[vr].push(Or):gr[vr]=[Or]},Jn),Dy=ii(Bs);function Di(gr){return Wi(gr)?$u(gr):cc(gr)}function Gi(gr){return Wi(gr)?$u(gr,!0):gh(gr)}function Uy(gr,vr){var Or={};return vr=Jn(vr,3),go(gr,function(Nr,Yr,on){wo(Or,vr(Nr,Yr,on),Nr)}),Or}function Fy(gr,vr){var Or={};return vr=Jn(vr,3),go(gr,function(Nr,Yr,on){wo(Or,Yr,vr(Nr,Yr,on))}),Or}var Ky=as(function(gr,vr,Or){ga(gr,vr,Or)}),rf=as(function(gr,vr,Or,Nr){ga(gr,vr,Or,Nr)}),jy=So(function(gr,vr){var Or={};if(gr==null)return Or;var Nr=!1;vr=yi(vr,function(on){return on=Co(on,gr),Nr||(Nr=on.length>1),on}),yo(gr,Sc(gr),Or),Nr&&(Or=so(Or,Ir|$r|kr,Lh));for(var Yr=vr.length;Yr--;)pc(Or,vr[Yr]);return Or});function zy(gr,vr){return nf(gr,$a(Jn(vr)))}var Hy=So(function(gr,vr){return gr==null?{}:mh(gr,vr)});function nf(gr,vr){if(gr==null)return{};var Or=yi(Sc(gr),function(Nr){return[Nr]});return vr=Jn(vr),Gu(gr,Or,function(Nr,Yr){return vr(Nr,Yr[0])})}function Vy(gr,vr,Or){vr=Co(vr,gr);var Nr=-1,Yr=vr.length;for(Yr||(Yr=1,gr=c);++Nr<Yr;){var on=gr==null?c:gr[mo(vr[Nr])];on===c&&(Nr=Yr,on=Or),gr=Eo(on)?on.call(gr):on}return gr}function qy(gr,vr,Or){return gr==null?gr:Cs(gr,vr,Or)}function Wy(gr,vr,Or,Nr){return Nr=typeof Nr=="function"?Nr:c,gr==null?gr:Cs(gr,vr,Or,Nr)}var of=yl(Di),sf=yl(Gi);function Gy(gr,vr,Or){var Nr=ti(gr),Yr=Nr||No(gr)||ls(gr);if(vr=Jn(vr,4),Or==null){var on=gr&&gr.constructor;Yr?Or=Nr?new on:[]:vi(gr)?Or=Eo(on)?ss(ia(gr)):{}:Or={}}return(Yr?no:go)(gr,function(_n,En,Tn){return vr(Or,_n,En,Tn)}),Or}function Yy(gr,vr){return gr==null?!0:pc(gr,vr)}function Zy(gr,vr,Or){return gr==null?gr:Qu(gr,vr,mc(Or))}function Jy(gr,vr,Or,Nr){return Nr=typeof Nr=="function"?Nr:c,gr==null?gr:Qu(gr,vr,mc(Or),Nr)}function fs(gr){return gr==null?[]:Ya(gr,Di(gr))}function Xy(gr){return gr==null?[]:Ya(gr,Gi(gr))}function Qy(gr,vr,Or){return Or===c&&(Or=vr,vr=c),Or!==c&&(Or=uo(Or),Or=Or===Or?Or:0),vr!==c&&(vr=uo(vr),vr=vr===vr?vr:0),jo(uo(gr),vr,Or)}function em(gr,vr,Or){return vr=Io(vr),Or===c?(Or=vr,vr=0):Or=Io(Or),gr=uo(gr),sh(gr,vr,Or)}function tm(gr,vr,Or){if(Or&&typeof Or!="boolean"&&Hi(gr,vr,Or)&&(vr=Or=c),Or===c&&(typeof vr=="boolean"?(Or=vr,vr=c):typeof gr=="boolean"&&(Or=gr,gr=c)),gr===c&&vr===c?(gr=0,vr=1):(gr=Io(gr),vr===c?(vr=gr,gr=0):vr=Io(vr)),gr>vr){var Nr=gr;gr=vr,vr=Nr}if(Or||gr%1||vr%1){var Yr=Ru();return Ki(gr+Yr*(vr-gr+Bf("1e-"+((Yr+"").length-1))),vr)}return fc(gr,vr)}var rm=cs(function(gr,vr,Or){return vr=vr.toLowerCase(),gr+(Or?af(vr):vr)});function af(gr){return Dc(ui(gr).toLowerCase())}function cf(gr){return gr=ui(gr),gr&&gr.replace(ys,qf).replace(Af,"")}function nm(gr,vr,Or){gr=ui(gr),vr=Xi(vr);var Nr=gr.length;Or=Or===c?Nr:jo(ri(Or),0,Nr);var Yr=Or;return Or-=vr.length,Or>=0&&gr.slice(Or,Yr)==vr}function im(gr){return gr=ui(gr),gr&&Ai.test(gr)?gr.replace(_i,Wf):gr}function om(gr){return gr=ui(gr),gr&&Hs.test(gr)?gr.replace(pi,"\\$&"):gr}var sm=cs(function(gr,vr,Or){return gr+(Or?"-":"")+vr.toLowerCase()}),am=cs(function(gr,vr,Or){return gr+(Or?" ":"")+vr.toLowerCase()}),cm=ll("toLowerCase");function um(gr,vr,Or){gr=ui(gr),vr=ri(vr);var Nr=vr?es(gr):0;if(!vr||Nr>=vr)return gr;var Yr=(vr-Nr)/2;return Sa(ca(Yr),Or)+gr+Sa(aa(Yr),Or)}function lm(gr,vr,Or){gr=ui(gr),vr=ri(vr);var Nr=vr?es(gr):0;return vr&&Nr<vr?gr+Sa(vr-Nr,Or):gr}function fm(gr,vr,Or){gr=ui(gr),vr=ri(vr);var Nr=vr?es(gr):0;return vr&&Nr<vr?Sa(vr-Nr,Or)+gr:gr}function dm(gr,vr,Or){return Or||vr==null?vr=0:vr&&(vr=+vr),bd(ui(gr).replace(gi,""),vr||0)}function hm(gr,vr,Or){return(Or?Hi(gr,vr,Or):vr===c)?vr=1:vr=ri(vr),dc(ui(gr),vr)}function pm(){var gr=arguments,vr=ui(gr[0]);return gr.length<3?vr:vr.replace(gr[1],gr[2])}var gm=cs(function(gr,vr,Or){return gr+(Or?"_":"")+vr.toLowerCase()});function ym(gr,vr,Or){return Or&&typeof Or!="number"&&Hi(gr,vr,Or)&&(vr=Or=c),Or=Or===c?jr:Or>>>0,Or?(gr=ui(gr),gr&&(typeof vr=="string"||vr!=null&&!Cc(vr))&&(vr=Xi(vr),!vr&&Qo(gr))?Lo(lo(gr),0,Or):gr.split(vr,Or)):[]}var mm=cs(function(gr,vr,Or){return gr+(Or?" ":"")+Dc(vr)});function _m(gr,vr,Or){return gr=ui(gr),Or=Or==null?0:jo(ri(Or),0,gr.length),vr=Xi(vr),gr.slice(Or,Or+vr.length)==vr}function bm(gr,vr,Or){var Nr=nn.templateSettings;Or&&Hi(gr,vr,Or)&&(vr=c),gr=ui(gr),vr=Ma({},vr,Nr,ml);var Yr=Ma({},vr.imports,Nr.imports,ml),on=Di(Yr),_n=Ya(Yr,on),En,Tn,jn=0,zn=vr.interpolate||Oo,qn="__p += '",Gn=Ja((vr.escape||Oo).source+"|"+zn.source+"|"+(zn===bi?Ws:Oo).source+"|"+(vr.evaluate||Oo).source+"|$","g"),Zn="//# sourceURL="+(li.call(vr,"sourceURL")?(vr.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tf+"]")+`
`;gr.replace(Gn,function(Qn,oi,ai,eo,Vi,to){return ai||(ai=eo),qn+=gr.slice(jn,to).replace(ms,Gf),oi&&(En=!0,qn+=`' +
__e(`+oi+`) +
'`),Vi&&(Tn=!0,qn+=`';
`+Vi+`;
__p += '`),ai&&(qn+=`' +
((__t = (`+ai+`)) == null ? '' : __t) +
'`),jn=to+Qn.length,Qn}),qn+=`';
`;var Xn=li.call(vr,"variable")&&vr.variable;if(!Xn)qn=`with (obj) {
`+qn+`
}
`;else if(ki.test(Xn))throw new ei(m);qn=(Tn?qn.replace(Hn,""):qn).replace(Si,"$1").replace(Fs,"$1;"),qn="function("+(Xn||"obj")+`) {
`+(Xn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(En?", __e = _.escape":"")+(Tn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qn+`return __p
}`;var ni=lf(function(){return ci(on,Zn+"return "+qn).apply(c,_n)});if(ni.source=qn,Mc(ni))throw ni;return ni}function wm(gr){return ui(gr).toLowerCase()}function vm(gr){return ui(gr).toUpperCase()}function Sm(gr,vr,Or){if(gr=ui(gr),gr&&(Or||vr===c))return _u(gr);if(!gr||!(vr=Xi(vr)))return gr;var Nr=lo(gr),Yr=lo(vr),on=bu(Nr,Yr),_n=wu(Nr,Yr)+1;return Lo(Nr,on,_n).join("")}function Am(gr,vr,Or){if(gr=ui(gr),gr&&(Or||vr===c))return gr.slice(0,Su(gr)+1);if(!gr||!(vr=Xi(vr)))return gr;var Nr=lo(gr),Yr=wu(Nr,lo(vr))+1;return Lo(Nr,0,Yr).join("")}function Em(gr,vr,Or){if(gr=ui(gr),gr&&(Or||vr===c))return gr.replace(gi,"");if(!gr||!(vr=Xi(vr)))return gr;var Nr=lo(gr),Yr=bu(Nr,lo(vr));return Lo(Nr,Yr).join("")}function Im(gr,vr){var Or=an,Nr=fn;if(vi(vr)){var Yr="separator"in vr?vr.separator:Yr;Or="length"in vr?ri(vr.length):Or,Nr="omission"in vr?Xi(vr.omission):Nr}gr=ui(gr);var on=gr.length;if(Qo(gr)){var _n=lo(gr);on=_n.length}if(Or>=on)return gr;var En=Or-es(Nr);if(En<1)return Nr;var Tn=_n?Lo(_n,0,En).join(""):gr.slice(0,En);if(Yr===c)return Tn+Nr;if(_n&&(En+=Tn.length-En),Cc(Yr)){if(gr.slice(En).search(Yr)){var jn,zn=Tn;for(Yr.global||(Yr=Ja(Yr.source,ui(wi.exec(Yr))+"g")),Yr.lastIndex=0;jn=Yr.exec(zn);)var qn=jn.index;Tn=Tn.slice(0,qn===c?En:qn)}}else if(gr.indexOf(Xi(Yr),En)!=En){var Gn=Tn.lastIndexOf(Yr);Gn>-1&&(Tn=Tn.slice(0,Gn))}return Tn+Nr}function xm(gr){return gr=ui(gr),gr&&Ks.test(gr)?gr.replace(mi,td):gr}var Om=cs(function(gr,vr,Or){return gr+(Or?" ":"")+vr.toUpperCase()}),Dc=ll("toUpperCase");function uf(gr,vr,Or){return gr=ui(gr),vr=Or?c:vr,vr===c?Zf(gr)?id(gr):Kf(gr):gr.match(vr)||[]}var lf=ii(function(gr,vr){try{return Zi(gr,c,vr)}catch(Or){return Mc(Or)?Or:new ei(Or)}}),Tm=So(function(gr,vr){return no(vr,function(Or){Or=mo(Or),wo(gr,Or,Pc(gr[Or],gr))}),gr});function Rm(gr){var vr=gr==null?0:gr.length,Or=Jn();return gr=vr?yi(gr,function(Nr){if(typeof Nr[1]!="function")throw new io(y);return[Or(Nr[0]),Nr[1]]}):[],ii(function(Nr){for(var Yr=-1;++Yr<vr;){var on=gr[Yr];if(Zi(on[0],this,Nr))return Zi(on[1],this,Nr)}})}function km(gr){return th(so(gr,Ir))}function Uc(gr){return function(){return gr}}function $m(gr,vr){return gr==null||gr!==gr?vr:gr}var Pm=dl(),Bm=dl(!0);function Yi(gr){return gr}function Fc(gr){return ju(typeof gr=="function"?gr:so(gr,Ir))}function Mm(gr){return Hu(so(gr,Ir))}function Cm(gr,vr){return Vu(gr,so(vr,Ir))}var Lm=ii(function(gr,vr){return function(Or){return Bs(Or,gr,vr)}}),Nm=ii(function(gr,vr){return function(Or){return Bs(gr,Or,vr)}});function Kc(gr,vr,Or){var Nr=Di(vr),Yr=pa(vr,Nr);Or==null&&!(vi(vr)&&(Yr.length||!Nr.length))&&(Or=vr,vr=gr,gr=this,Yr=pa(vr,Di(vr)));var on=!(vi(Or)&&"chain"in Or)||!!Or.chain,_n=Eo(gr);return no(Yr,function(En){var Tn=vr[En];gr[En]=Tn,_n&&(gr.prototype[En]=function(){var jn=this.__chain__;if(on||jn){var zn=gr(this.__wrapped__),qn=zn.__actions__=qi(this.__actions__);return qn.push({func:Tn,args:arguments,thisArg:gr}),zn.__chain__=jn,zn}return Tn.apply(gr,ko([this.value()],arguments))})}),gr}function Dm(){return Ui._===this&&(Ui._=ld),this}function jc(){}function Um(gr){return gr=ri(gr),ii(function(vr){return qu(vr,gr)})}var Fm=bc(yi),Km=bc(hu),jm=bc(Ha);function ff(gr){return xc(gr)?Va(mo(gr)):_h(gr)}function zm(gr){return function(vr){return gr==null?c:zo(gr,vr)}}var Hm=pl(),Vm=pl(!0);function zc(){return[]}function Hc(){return!1}function qm(){return{}}function Wm(){return""}function Gm(){return!0}function Ym(gr,vr){if(gr=ri(gr),gr<1||gr>Gr)return[];var Or=jr,Nr=Ki(gr,jr);vr=Jn(vr),gr-=jr;for(var Yr=Ga(Nr,vr);++Or<gr;)vr(Or);return Yr}function Zm(gr){return ti(gr)?yi(gr,mo):Qi(gr)?[gr]:qi(kl(ui(gr)))}function Jm(gr){var vr=++cd;return ui(gr)+vr}var Xm=va(function(gr,vr){return gr+vr},0),Qm=wc("ceil"),e0=va(function(gr,vr){return gr/vr},1),t0=wc("floor");function r0(gr){return gr&&gr.length?ha(gr,Yi,oc):c}function n0(gr,vr){return gr&&gr.length?ha(gr,Jn(vr,2),oc):c}function i0(gr){return yu(gr,Yi)}function o0(gr,vr){return yu(gr,Jn(vr,2))}function s0(gr){return gr&&gr.length?ha(gr,Yi,uc):c}function a0(gr,vr){return gr&&gr.length?ha(gr,Jn(vr,2),uc):c}var c0=va(function(gr,vr){return gr*vr},1),u0=wc("round"),l0=va(function(gr,vr){return gr-vr},0);function f0(gr){return gr&&gr.length?Wa(gr,Yi):0}function d0(gr,vr){return gr&&gr.length?Wa(gr,Jn(vr,2)):0}return nn.after=Mg,nn.ary=Kl,nn.assign=vy,nn.assignIn=tf,nn.assignInWith=Ma,nn.assignWith=Sy,nn.at=Ay,nn.before=jl,nn.bind=Pc,nn.bindAll=Tm,nn.bindKey=zl,nn.castArray=qg,nn.chain=Dl,nn.chunk=tp,nn.compact=rp,nn.concat=np,nn.cond=Rm,nn.conforms=km,nn.constant=Uc,nn.countBy=fg,nn.create=Ey,nn.curry=Hl,nn.curryRight=Vl,nn.debounce=ql,nn.defaults=Iy,nn.defaultsDeep=xy,nn.defer=Cg,nn.delay=Lg,nn.difference=ip,nn.differenceBy=op,nn.differenceWith=sp,nn.drop=ap,nn.dropRight=cp,nn.dropRightWhile=up,nn.dropWhile=lp,nn.fill=fp,nn.filter=hg,nn.flatMap=yg,nn.flatMapDeep=mg,nn.flatMapDepth=_g,nn.flatten=Ml,nn.flattenDeep=dp,nn.flattenDepth=hp,nn.flip=Ng,nn.flow=Pm,nn.flowRight=Bm,nn.fromPairs=pp,nn.functions=By,nn.functionsIn=My,nn.groupBy=bg,nn.initial=yp,nn.intersection=mp,nn.intersectionBy=_p,nn.intersectionWith=bp,nn.invert=Ly,nn.invertBy=Ny,nn.invokeMap=vg,nn.iteratee=Fc,nn.keyBy=Sg,nn.keys=Di,nn.keysIn=Gi,nn.map=Ta,nn.mapKeys=Uy,nn.mapValues=Fy,nn.matches=Mm,nn.matchesProperty=Cm,nn.memoize=ka,nn.merge=Ky,nn.mergeWith=rf,nn.method=Lm,nn.methodOf=Nm,nn.mixin=Kc,nn.negate=$a,nn.nthArg=Um,nn.omit=jy,nn.omitBy=zy,nn.once=Dg,nn.orderBy=Ag,nn.over=Fm,nn.overArgs=Ug,nn.overEvery=Km,nn.overSome=jm,nn.partial=Bc,nn.partialRight=Wl,nn.partition=Eg,nn.pick=Hy,nn.pickBy=nf,nn.property=ff,nn.propertyOf=zm,nn.pull=Ap,nn.pullAll=Ll,nn.pullAllBy=Ep,nn.pullAllWith=Ip,nn.pullAt=xp,nn.range=Hm,nn.rangeRight=Vm,nn.rearg=Fg,nn.reject=Og,nn.remove=Op,nn.rest=Kg,nn.reverse=kc,nn.sampleSize=Rg,nn.set=qy,nn.setWith=Wy,nn.shuffle=kg,nn.slice=Tp,nn.sortBy=Bg,nn.sortedUniq=Cp,nn.sortedUniqBy=Lp,nn.split=ym,nn.spread=jg,nn.tail=Np,nn.take=Dp,nn.takeRight=Up,nn.takeRightWhile=Fp,nn.takeWhile=Kp,nn.tap=rg,nn.throttle=zg,nn.thru=Oa,nn.toArray=Xl,nn.toPairs=of,nn.toPairsIn=sf,nn.toPath=Zm,nn.toPlainObject=ef,nn.transform=Gy,nn.unary=Hg,nn.union=jp,nn.unionBy=zp,nn.unionWith=Hp,nn.uniq=Vp,nn.uniqBy=qp,nn.uniqWith=Wp,nn.unset=Yy,nn.unzip=$c,nn.unzipWith=Nl,nn.update=Zy,nn.updateWith=Jy,nn.values=fs,nn.valuesIn=Xy,nn.without=Gp,nn.words=uf,nn.wrap=Vg,nn.xor=Yp,nn.xorBy=Zp,nn.xorWith=Jp,nn.zip=Xp,nn.zipObject=Qp,nn.zipObjectDeep=eg,nn.zipWith=tg,nn.entries=of,nn.entriesIn=sf,nn.extend=tf,nn.extendWith=Ma,Kc(nn,nn),nn.add=Xm,nn.attempt=lf,nn.camelCase=rm,nn.capitalize=af,nn.ceil=Qm,nn.clamp=Qy,nn.clone=Wg,nn.cloneDeep=Yg,nn.cloneDeepWith=Zg,nn.cloneWith=Gg,nn.conformsTo=Jg,nn.deburr=cf,nn.defaultTo=$m,nn.divide=e0,nn.endsWith=nm,nn.eq=ho,nn.escape=im,nn.escapeRegExp=om,nn.every=dg,nn.find=pg,nn.findIndex=Pl,nn.findKey=Oy,nn.findLast=gg,nn.findLastIndex=Bl,nn.findLastKey=Ty,nn.floor=t0,nn.forEach=Ul,nn.forEachRight=Fl,nn.forIn=Ry,nn.forInRight=ky,nn.forOwn=$y,nn.forOwnRight=Py,nn.get=Lc,nn.gt=Xg,nn.gte=Qg,nn.has=Cy,nn.hasIn=Nc,nn.head=Cl,nn.identity=Yi,nn.includes=wg,nn.indexOf=gp,nn.inRange=em,nn.invoke=Dy,nn.isArguments=qo,nn.isArray=ti,nn.isArrayBuffer=ey,nn.isArrayLike=Wi,nn.isArrayLikeObject=Mi,nn.isBoolean=ty,nn.isBuffer=No,nn.isDate=ry,nn.isElement=ny,nn.isEmpty=iy,nn.isEqual=oy,nn.isEqualWith=sy,nn.isError=Mc,nn.isFinite=ay,nn.isFunction=Eo,nn.isInteger=Gl,nn.isLength=Pa,nn.isMap=Yl,nn.isMatch=cy,nn.isMatchWith=uy,nn.isNaN=ly,nn.isNative=fy,nn.isNil=hy,nn.isNull=dy,nn.isNumber=Zl,nn.isObject=vi,nn.isObjectLike=Bi,nn.isPlainObject=Us,nn.isRegExp=Cc,nn.isSafeInteger=py,nn.isSet=Jl,nn.isString=Ba,nn.isSymbol=Qi,nn.isTypedArray=ls,nn.isUndefined=gy,nn.isWeakMap=yy,nn.isWeakSet=my,nn.join=wp,nn.kebabCase=sm,nn.last=co,nn.lastIndexOf=vp,nn.lowerCase=am,nn.lowerFirst=cm,nn.lt=_y,nn.lte=by,nn.max=r0,nn.maxBy=n0,nn.mean=i0,nn.meanBy=o0,nn.min=s0,nn.minBy=a0,nn.stubArray=zc,nn.stubFalse=Hc,nn.stubObject=qm,nn.stubString=Wm,nn.stubTrue=Gm,nn.multiply=c0,nn.nth=Sp,nn.noConflict=Dm,nn.noop=jc,nn.now=Ra,nn.pad=um,nn.padEnd=lm,nn.padStart=fm,nn.parseInt=dm,nn.random=tm,nn.reduce=Ig,nn.reduceRight=xg,nn.repeat=hm,nn.replace=pm,nn.result=Vy,nn.round=u0,nn.runInContext=On,nn.sample=Tg,nn.size=$g,nn.snakeCase=gm,nn.some=Pg,nn.sortedIndex=Rp,nn.sortedIndexBy=kp,nn.sortedIndexOf=$p,nn.sortedLastIndex=Pp,nn.sortedLastIndexBy=Bp,nn.sortedLastIndexOf=Mp,nn.startCase=mm,nn.startsWith=_m,nn.subtract=l0,nn.sum=f0,nn.sumBy=d0,nn.template=bm,nn.times=Ym,nn.toFinite=Io,nn.toInteger=ri,nn.toLength=Ql,nn.toLower=wm,nn.toNumber=uo,nn.toSafeInteger=wy,nn.toString=ui,nn.toUpper=vm,nn.trim=Sm,nn.trimEnd=Am,nn.trimStart=Em,nn.truncate=Im,nn.unescape=xm,nn.uniqueId=Jm,nn.upperCase=Om,nn.upperFirst=Dc,nn.each=Ul,nn.eachRight=Fl,nn.first=Cl,Kc(nn,function(){var gr={};return go(nn,function(vr,Or){li.call(nn.prototype,Or)||(gr[Or]=vr)}),gr}(),{chain:!1}),nn.VERSION=u,no(["bind","bindKey","curry","curryRight","partial","partialRight"],function(gr){nn[gr].placeholder=nn}),no(["drop","take"],function(gr,vr){si.prototype[gr]=function(Or){Or=Or===c?1:Ni(ri(Or),0);var Nr=this.__filtered__&&!vr?new si(this):this.clone();return Nr.__filtered__?Nr.__takeCount__=Ki(Or,Nr.__takeCount__):Nr.__views__.push({size:Ki(Or,jr),type:gr+(Nr.__dir__<0?"Right":"")}),Nr},si.prototype[gr+"Right"]=function(Or){return this.reverse()[gr](Or).reverse()}}),no(["filter","map","takeWhile"],function(gr,vr){var Or=vr+1,Nr=Or==xr||Or==Kr;si.prototype[gr]=function(Yr){var on=this.clone();return on.__iteratees__.push({iteratee:Jn(Yr,3),type:Or}),on.__filtered__=on.__filtered__||Nr,on}}),no(["head","last"],function(gr,vr){var Or="take"+(vr?"Right":"");si.prototype[gr]=function(){return this[Or](1).value()[0]}}),no(["initial","tail"],function(gr,vr){var Or="drop"+(vr?"":"Right");si.prototype[gr]=function(){return this.__filtered__?new si(this):this[Or](1)}}),si.prototype.compact=function(){return this.filter(Yi)},si.prototype.find=function(gr){return this.filter(gr).head()},si.prototype.findLast=function(gr){return this.reverse().find(gr)},si.prototype.invokeMap=ii(function(gr,vr){return typeof gr=="function"?new si(this):this.map(function(Or){return Bs(Or,gr,vr)})}),si.prototype.reject=function(gr){return this.filter($a(Jn(gr)))},si.prototype.slice=function(gr,vr){gr=ri(gr);var Or=this;return Or.__filtered__&&(gr>0||vr<0)?new si(Or):(gr<0?Or=Or.takeRight(-gr):gr&&(Or=Or.drop(gr)),vr!==c&&(vr=ri(vr),Or=vr<0?Or.dropRight(-vr):Or.take(vr-gr)),Or)},si.prototype.takeRightWhile=function(gr){return this.reverse().takeWhile(gr).reverse()},si.prototype.toArray=function(){return this.take(jr)},go(si.prototype,function(gr,vr){var Or=/^(?:filter|find|map|reject)|While$/.test(vr),Nr=/^(?:head|last)$/.test(vr),Yr=nn[Nr?"take"+(vr=="last"?"Right":""):vr],on=Nr||/^find/.test(vr);!Yr||(nn.prototype[vr]=function(){var _n=this.__wrapped__,En=Nr?[1]:arguments,Tn=_n instanceof si,jn=En[0],zn=Tn||ti(_n),qn=function(oi){var ai=Yr.apply(nn,ko([oi],En));return Nr&&Gn?ai[0]:ai};zn&&Or&&typeof jn=="function"&&jn.length!=1&&(Tn=zn=!1);var Gn=this.__chain__,Zn=!!this.__actions__.length,Xn=on&&!Gn,ni=Tn&&!Zn;if(!on&&zn){_n=ni?_n:new si(this);var Qn=gr.apply(_n,En);return Qn.__actions__.push({func:Oa,args:[qn],thisArg:c}),new oo(Qn,Gn)}return Xn&&ni?gr.apply(this,En):(Qn=this.thru(qn),Xn?Nr?Qn.value()[0]:Qn.value():Qn)})}),no(["pop","push","shift","sort","splice","unshift"],function(gr){var vr=Xs[gr],Or=/^(?:push|sort|unshift)$/.test(gr)?"tap":"thru",Nr=/^(?:pop|shift)$/.test(gr);nn.prototype[gr]=function(){var Yr=arguments;if(Nr&&!this.__chain__){var on=this.value();return vr.apply(ti(on)?on:[],Yr)}return this[Or](function(_n){return vr.apply(ti(_n)?_n:[],Yr)})}}),go(si.prototype,function(gr,vr){var Or=nn[vr];if(Or){var Nr=Or.name+"";li.call(os,Nr)||(os[Nr]=[]),os[Nr].push({name:vr,func:Or})}}),os[wa(c,Fr).name]=[{name:"wrapper",func:c}],si.prototype.clone=xd,si.prototype.reverse=Od,si.prototype.value=Td,nn.prototype.at=ng,nn.prototype.chain=ig,nn.prototype.commit=og,nn.prototype.next=sg,nn.prototype.plant=cg,nn.prototype.reverse=ug,nn.prototype.toJSON=nn.prototype.valueOf=nn.prototype.value=lg,nn.prototype.first=nn.prototype.head,xs&&(nn.prototype[xs]=ag),nn},ts=od();Do?((Do.exports=ts)._=ts,Fa._=ts):Ui._=ts}).call(commonjsGlobal)})(lodash,lodash.exports);var OrderCacheService$1={};Object.defineProperty(OrderCacheService$1,"__esModule",{value:!0});OrderCacheService$1.OrderCacheService=void 0;const lodash_1=lodash.exports,mobx_1=require$$1,Order_1=Order,types_1=types$2;class OrderCacheService{constructor(){this.endTriggered=!1,this.observableData={buyOrdersCache:new Map,sellOrdersCache:new Map},this.orderChanges=(0,mobx_1.observable)([]),this.observableData=(0,mobx_1.makeAutoObservable)(this.observableData),(0,mobx_1.makeObservable)(this,{buyOrdersCache:mobx_1.computed,sellOrdersCache:mobx_1.computed,allOrdersCache:mobx_1.computed})}get buyOrdersCache(){return this.observableData.buyOrdersCache}get sellOrdersCache(){return this.observableData.sellOrdersCache}get allOrdersCache(){const r=new Map;return this.buyOrdersCache.forEach(c=>{c.forEach((u,l)=>{r.set(l,u)})}),this.sellOrdersCache.forEach(c=>{c.forEach((u,l)=>{r.set(l,u)})}),r}get mints(){return(0,lodash_1.union)(Array.from(this.buyOrdersCache.keys()),Array.from(this.sellOrdersCache.keys()))}get orders(){return this.allOrdersCache}get buyOrders(){const r=new Map;return this.buyOrdersCache.forEach(c=>{c.forEach(u=>{r.set(u.id,u)})}),r}get sellOrders(){const r=new Map;return this.sellOrdersCache.forEach(c=>{c.forEach(u=>{r.set(u.id,u)})}),r}clearOrders(){const{allOrdersCache:r}=this;r.forEach(c=>{(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderRemoved,order:c})})}),this.buyOrdersCache.clear(),this.sellOrdersCache.clear()}getAllOrdersCache(){return this.allOrdersCache}getOrderCacheByType(r){return r===Order_1.OrderSide.Buy?this.getBuyOrderCache():this.getSellOrderCache()}getBuyOrderCache(){return new Map(this.buyOrdersCache)}getSellOrderCache(){return new Map(this.sellOrdersCache)}getOrderById(r){return this.allOrdersCache.get(r)}addOrder(r){const c=this.getOrdersForType(r.orderType);c.get(r.orderMint)||c.set(r.orderMint,new Map);const u=c.get(r.orderMint),l=u.get(r.id);return l&&l.slotContext>r.slotContext?l:(u.set(r.id,r),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderAdded,order:r})}),r)}updateOrder(r){const u=this.getOrdersForType(r.orderType).get(r.orderMint),l=u.get(r.id);if(!!l){if(l.orderQtyRemaining!==r.orderQtyRemaining&&r.slotContext>l.slotContext){const d=(0,lodash_1.clone)(l);d.orderQtyRemaining=r.orderQtyRemaining,u.set(r.id,d),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderModified,order:r})})}return r}}cancelOrder(r){return this.getOrdersForType(r.orderType).get(r.orderMint).delete(r.id)?((0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderRemoved,order:r})}),!0):!1}getOrdersForType(r){return r===Order_1.OrderSide.Buy?this.buyOrdersCache:this.sellOrdersCache}}OrderCacheService$1.OrderCacheService=OrderCacheService;var GmClientService={},helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.createTransactionFromInstructions=void 0;const web3_js_1$1=require$$0$2,createTransactionFromInstructions=a=>{const r=new web3_js_1$1.Transaction;return r.add(...a),r};helpers.createTransactionFromInstructions=createTransactionFromInstructions;var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.ONE_MILLION=void 0;constants.ONE_MILLION=1e6;var hasRequiredGmClientService;function requireGmClientService(){if(hasRequiredGmClientService)return GmClientService;hasRequiredGmClientService=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ar,Ir,$r,kr){function Dr(Cr){return Cr instanceof $r?Cr:new $r(function(Br){Br(Cr)})}return new($r||($r=Promise))(function(Cr,Br){function Fr(Jr){try{Vr(kr.next(Jr))}catch(Qr){Br(Qr)}}function qr(Jr){try{Vr(kr.throw(Jr))}catch(Qr){Br(Qr)}}function Vr(Jr){Jr.done?Cr(Jr.value):Dr(Jr.value).then(Fr,qr)}Vr((kr=kr.apply(Ar,Ir||[])).next())})};Object.defineProperty(GmClientService,"__esModule",{value:!0}),GmClientService.GmClientService=void 0;const r=require$$0$2,c=requireInstruction_builders$1(),u=requirePda_getters(),l=helpers,d=requireUtil(),y=Order,m=constants,wr=utils;class Sr{constructor(){this.currencyInfo=[]}getRegisteredCurrencies(Ir,$r,kr=!1){var Dr;return a(this,void 0,void 0,function*(){if(((Dr=this.currencyInfo)===null||Dr===void 0?void 0:Dr.length)&&!kr)return this.currencyInfo;const Cr=[],Br=yield(0,u.getAllRegisteredCurrencies)(Ir,$r);for(const Fr of Br){const{mint:qr,royalty:Vr,saVault:Jr}=Fr,Qr=yield Ir.getTokenSupply(qr,"recent"),{decimals:Wr}=Qr.value;Cr.push({decimals:Wr,mint:qr.toString(),royaltyPercentageAsDecimal:Vr.toNumber()/m.ONE_MILLION,saVault:Jr.toString()})}return this.currencyInfo=Cr,this.currencyInfo})}getAllOpenOrders(Ir,$r){return a(this,void 0,void 0,function*(){const kr=yield(0,u.getAllOpenOrders)(Ir,$r),Dr=yield Ir.getSlot();return this.accountItemsToOrders(Ir,$r,kr,Dr)})}getOpenOrdersForPlayer(Ir,$r,kr){return a(this,void 0,void 0,function*(){const Dr=yield(0,u.getOpenOrdersForPlayer)(Ir,$r,kr),Cr=yield Ir.getSlot();return this.accountItemsToOrders(Ir,kr,Dr,Cr)})}getOpenOrdersForCurrency(Ir,$r,kr){return a(this,void 0,void 0,function*(){const Dr=yield(0,u.getOpenOrdersForCurrency)(Ir,$r,kr),Cr=yield Ir.getSlot();return this.accountItemsToOrders(Ir,kr,Dr,Cr)})}getOpenOrdersForAsset(Ir,$r,kr){return a(this,void 0,void 0,function*(){const Dr=yield(0,u.getOpenOrdersForAsset)(Ir,$r,kr),Cr=yield Ir.getSlot();return this.accountItemsToOrders(Ir,kr,Dr,Cr)})}getOpenOrdersForPlayerAndCurrency(Ir,$r,kr,Dr){return a(this,void 0,void 0,function*(){const Cr=yield(0,u.getOpenOrdersForPlayerAndCurrency)(Ir,$r,kr,Dr),Br=yield Ir.getSlot();return this.accountItemsToOrders(Ir,Dr,Cr,Br)})}getOpenOrdersForPlayerAndAsset(Ir,$r,kr,Dr){return a(this,void 0,void 0,function*(){const Cr=yield(0,u.getOpenOrdersForPlayerAndAsset)(Ir,$r,kr,Dr),Br=yield Ir.getSlot();return this.accountItemsToOrders(Ir,Dr,Cr,Br)})}getOpenOrder(Ir,$r,kr){return a(this,void 0,void 0,function*(){const Dr=yield(0,u.getSingleOrder)(Ir,$r,kr),Cr={publicKey:$r,account:Dr},Br=yield Ir.getSlot(),[Fr]=yield this.accountItemsToOrders(Ir,kr,[Cr],Br);return Fr})}getInitializeOrderTransaction(Ir,$r,kr,Dr,Cr,Br,Fr,qr){return a(this,void 0,void 0,function*(){let Vr=c.createInitializeSellOrderInstruction,Jr=kr,Qr=Dr;qr===y.OrderSide.Buy&&(Vr=c.createInitializeBuyOrderInstruction,Jr=Dr,Qr=kr);const Wr=yield(0,d.getAssociatedTokenAddress)($r,Jr),{ixSet:Zr}=yield Vr({connection:Ir,depositMint:Jr,initializerDepositTokenAccount:Wr,initializerMainAccount:$r,originationQty:Cr,price:Br,programId:Fr,receiveMint:Qr}),{signers:rn,instructions:gn}=Zr;return{transaction:(0,l.createTransactionFromInstructions)(gn),signers:rn}})}getBnPriceForCurrency(Ir,$r,kr,Dr){return a(this,void 0,void 0,function*(){const Cr=yield this.getRegisteredCurrencies(Ir,Dr),{decimals:Br}=Cr.find(Fr=>Fr.mint.toString()===kr.toString());return(0,wr.convertDecimalPriceToBn)($r,Br)})}getCancelOrderTransaction(Ir,$r,kr,Dr){return a(this,void 0,void 0,function*(){const{instructions:Cr,signers:Br}=yield(0,c.createCancelOrderInstruction)({connection:Ir,orderAccount:$r,orderInitializer:kr,programId:Dr});return{transaction:(0,l.createTransactionFromInstructions)(Cr),signers:Br}})}getCreateExchangeTransaction(Ir,$r,kr,Dr,Cr){return a(this,void 0,void 0,function*(){const Br=new r.PublicKey($r.id),Fr=new r.PublicKey($r.orderMint),qr=new r.PublicKey($r.currencyMint),Vr=new r.PublicKey($r.owner),Jr=yield(0,d.getAssociatedTokenAddress)(kr,$r.orderType===y.OrderSide.Buy?Fr:qr),Qr=yield this.getRegisteredCurrencies(Ir,Cr),{saVault:Wr}=Qr.find(an=>an.mint===$r.currencyMint),{instructions:Zr,signers:rn}=yield(0,c.createExchangeInstruction)({connection:Ir,orderAccount:Br,purchaseQty:Dr,orderTaker:kr,orderTakerDepositTokenAccount:Jr,programId:Cr,expectedPrice:$r.price,orderType:$r.orderType,assetMint:Fr,currencyMint:qr,orderInitializer:Vr,saVault:new r.PublicKey(Wr)});return{transaction:(0,l.createTransactionFromInstructions)(Zr),signers:rn}})}accountItemsToOrders(Ir,$r,kr,Dr){return a(this,void 0,void 0,function*(){if(!kr.length)return[];const Cr=yield this.getRegisteredCurrencies(Ir,$r);return kr.map(Br=>{const Fr=Br.publicKey.toString(),qr=Object.keys(Br.account.orderSide)[0]==="buy"?y.OrderSide.Buy:y.OrderSide.Sell,Vr=Br.account.assetMint.toString(),Jr=Br.account.currencyMint.toString(),Qr=Br.account.price,Wr=Br.account.orderRemainingQty.toNumber(),Zr=Br.account.orderOriginationQty.toNumber(),rn=Br.account.orderInitializerPubkey.toString(),gn=Br.account.initializerAssetTokenAccount.toString(),an=Br.account.initializerCurrencyTokenAccount.toString(),fn=Br.account.createdAtTimestamp.toNumber(),{decimals:mn}=Cr.find(Mr=>Mr.mint.toString()===Jr);return new y.Order({id:Fr,orderType:qr,orderMint:Vr,currencyMint:Jr,currencyDecimals:mn,price:Qr,orderQtyRemaining:Wr,orderOriginationQty:Zr,owner:rn,ownerAssetTokenAccount:gn,ownerCurrencyTokenAccount:an,createdAt:fn,slotContext:Dr})})})}}return GmClientService.GmClientService=Sr,GmClientService}var GmEventService={},hasRequiredGmEventService;function requireGmEventService(){if(hasRequiredGmEventService)return GmEventService;hasRequiredGmEventService=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(wr,Sr,Ar,Ir){function $r(kr){return kr instanceof Ar?kr:new Ar(function(Dr){Dr(kr)})}return new(Ar||(Ar=Promise))(function(kr,Dr){function Cr(qr){try{Fr(Ir.next(qr))}catch(Vr){Dr(Vr)}}function Br(qr){try{Fr(Ir.throw(qr))}catch(Vr){Dr(Vr)}}function Fr(qr){qr.done?kr(qr.value):$r(qr.value).then(Cr,Br)}Fr((Ir=Ir.apply(wr,Sr||[])).next())})};Object.defineProperty(GmEventService,"__esModule",{value:!0}),GmEventService.GmEventService=void 0;const r=require$$0$1,c=models,u=types$2,l=requireGmClientService(),d=utils,y=types$2;class m{constructor(Sr,Ar,Ir){this.registeredCurrencyInfo={},this.eventListeners=[],this.queuedEvents=[],this.connection=Sr,this.programId=Ar,this.commitment=Ir||Sr.commitment,this.handleOrderCreated=this.handleOrderCreated.bind(this),this.handleOrderExchanged=this.handleOrderExchanged.bind(this),this.handleOrderCanceled=this.handleOrderCanceled.bind(this)}initialize(){return a(this,void 0,void 0,function*(){this.idl=(0,d.getGmLogsIDL)(this.programId),this.provider=new r.AnchorProvider(this.connection,null,{commitment:this.commitment}),this.program=new r.Program(this.idl,this.programId,this.provider,{instruction:new r.BorshInstructionCoder(this.idl),accounts:new r.BorshAccountsCoder(this.idl),state:null,events:new r.BorshEventCoder(this.idl)}),yield this.setCurrencyInfo();const Sr=this.program.addEventListener(y.GmLogs.InitializeMemo,this.handleOrderCreated),Ar=this.program.addEventListener(y.GmLogs.ExchangeMemo,this.handleOrderExchanged),Ir=this.program.addEventListener(y.GmLogs.CancelOrderMemo,this.handleOrderCanceled),$r=this.program.addEventListener(y.GmLogs.RegisterCurrencyMemo,this.handleCurrencyRegistered);this.eventListeners.push(Sr,Ar,Ir,$r)})}end(){return a(this,void 0,void 0,function*(){for(const Sr of this.eventListeners)yield this.program.removeEventListener(Sr);this.eventListeners=[],this.onEvent=null})}setEventHandler(Sr){this.onEvent=Sr;for(const Ar of this.queuedEvents)this.onEvent(Ar.eventType,Ar.order,Ar.slotContext)}setCurrencyInfo(){return a(this,void 0,void 0,function*(){const Ar=yield new l.GmClientService().getRegisteredCurrencies(this.connection,this.programId,!0);for(const Ir of Ar)this.registeredCurrencyInfo[Ir.mint]=Ir})}getParsedOrderFromEvent(Sr,Ar){const Ir=this.registeredCurrencyInfo[Sr.currencyMint.toString()];if(!Ir)return null;const{decimals:$r}=Ir;return new c.Order({id:Sr.orderId.toString(),orderType:Sr.orderSide===0?c.OrderSide.Buy:c.OrderSide.Sell,orderMint:Sr.assetMint.toString(),currencyMint:Sr.currencyMint.toString(),currencyDecimals:$r,price:Sr.price,orderQtyRemaining:Sr.orderRemainingQty.toNumber(),orderOriginationQty:Sr.orderOriginationQty.toNumber(),owner:Sr.orderInitializerPubkey.toString(),ownerAssetTokenAccount:Sr.initializerAssetTokenAccount.toString(),ownerCurrencyTokenAccount:Sr.initializerCurrencyTokenAccount.toString(),createdAt:Sr.createdAtTimestamp.toNumber(),slotContext:Ar})}handleOrderCreated(Sr,Ar){this.processEvent(u.GmEventType.orderAdded,this.getParsedOrderFromEvent(Sr,Ar),Ar)}handleOrderExchanged(Sr,Ar){this.processEvent(u.GmEventType.orderModified,this.getParsedOrderFromEvent(Sr,Ar),Ar)}handleOrderCanceled(Sr,Ar){this.processEvent(u.GmEventType.orderRemoved,this.getParsedOrderFromEvent(Sr,Ar),Ar)}processEvent(Sr,Ar,Ir){if(!this.onEvent){this.queuedEvents.push({eventType:Sr,order:Ar,slotContext:Ir});return}this.onEvent(Sr,Ar,Ir)}handleCurrencyRegistered(){return a(this,void 0,void 0,function*(){yield this.setCurrencyInfo()})}}return GmEventService.GmEventService=m,GmEventService}var hasRequiredGmOrderbookService;function requireGmOrderbookService(){if(hasRequiredGmOrderbookService)return GmOrderbookService;hasRequiredGmOrderbookService=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(wr,Sr,Ar,Ir){function $r(kr){return kr instanceof Ar?kr:new Ar(function(Dr){Dr(kr)})}return new(Ar||(Ar=Promise))(function(kr,Dr){function Cr(qr){try{Fr(Ir.next(qr))}catch(Vr){Dr(Vr)}}function Br(qr){try{Fr(Ir.throw(qr))}catch(Vr){Dr(Vr)}}function Fr(qr){qr.done?kr(qr.value):$r(qr.value).then(Cr,Br)}Fr((Ir=Ir.apply(wr,Sr||[])).next())})};Object.defineProperty(GmOrderbookService,"__esModule",{value:!0}),GmOrderbookService.GmOrderbookService=void 0;const r=require$$0,c=lodash.exports,u=OrderCacheService$1,l=types$2,d=requireGmClientService(),y=requireGmEventService();class m{constructor(Sr,Ar,Ir=60){this.gmClientService=new d.GmClientService,this.eventCallBacks=[],this.changeObserverDisposer=null,this.lastEventTimestamp=this.getNow(),this.isReloading=!1,this.connection=Sr,this.marketplaceProgramId=Ar,this.healthcheckThreshold=Ir,this.orderCacheService=new u.OrderCacheService,this.gmClientService=new d.GmClientService,this.gmEventService=new y.GmEventService(this.connection,this.marketplaceProgramId),this.handleMarketplaceEvent=this.handleMarketplaceEvent.bind(this)}initialize(){return a(this,void 0,void 0,function*(){return yield this.gmEventService.initialize(),this.changeObserverDisposer=(0,r.queueProcessor)(this.orderCacheService.orderChanges,Sr=>{this.eventCallBacks.forEach(Ar=>Ar.onEvent(Sr))},250),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.loadInitialOrders(),this.healthcheckTimer=setInterval(()=>{!this.getIsServiceHealthy()&&!this.isReloading&&this.resetOrdersData()},m.HEALTH_CHECK_RATE),this.orderCacheService.mints.length})}end(){return a(this,void 0,void 0,function*(){return yield this.gmEventService.end(),this.eventCallBacks=[],this.changeObserverDisposer=null,!0})}getIsServiceHealthy(){return this.getNow()-this.lastEventTimestamp<=this.healthcheckThreshold}resetOrdersData(){return a(this,void 0,void 0,function*(){this.isReloading||(this.isReloading=!0,yield this.resetEventService(),yield this.refetchOrderData(),this.lastEventTimestamp=this.getNow(),this.isReloading=!1)})}resetEventService(){return a(this,void 0,void 0,function*(){yield this.gmEventService.end(),this.gmEventService=new y.GmEventService(this.connection,this.marketplaceProgramId),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.gmEventService.initialize()})}refetchOrderData(){return a(this,void 0,void 0,function*(){const Sr=this.orderCacheService.getAllOrdersCache();try{const Ar=yield this.connection.getSlot("confirmed"),Ir=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId),$r=new Map;for(const kr of Ir){$r.set(kr.id,kr);const Dr=Sr.get(kr.id);Dr?Dr&&Dr.orderQtyRemaining!==kr.orderQtyRemaining&&this.updateOrderInCache(kr):this.addOrderToCache(kr)}for(const kr of Array.from(Sr.values()))kr.slotContext<Ar&&!$r.get(kr.id)&&this.removeOrderFromCache(kr)}catch(Ar){console.log("There was an error refreshing all marketplace data",Ar)}})}addOnEventHandler(Sr){this.eventCallBacks.push(Sr)}removeOnEventHandler(Sr){(0,c.pull)(this.eventCallBacks,Sr)}loadInitialOrders(){return a(this,void 0,void 0,function*(){try{const Sr=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId);for(const Ar of Sr)this.addOrderToCache(Ar)}catch(Sr){console.log(Sr)}return this.orderCacheService.getAllOrdersCache().size})}addOrderToCache(Sr){return this.orderCacheService.addOrder(Sr)}removeOrderFromCache(Sr){return this.orderCacheService.cancelOrder(Sr)}updateOrderInCache(Sr){return this.orderCacheService.updateOrder(Sr)}getBuyOrders(){return this.orderCacheService.buyOrdersCache}getBuyOrdersForMint(Sr){return this.orderCacheService.buyOrdersCache.get(Sr)}getSellOrders(){return this.orderCacheService.sellOrdersCache}getSellOrdersForMint(Sr){return this.orderCacheService.sellOrdersCache.get(Sr)}getOrdersByType(Sr){return Sr==="buy"?this.getBuyOrders():this.getSellOrders()}getBuyOrdersByCurrencyAndItem(Sr,Ar){const Ir=this.getBuyOrdersForMint(Ar);if(!Ir)return[];const $r=[...Ir.values()];return $r.length?this.filterOrdersByCurrency(Sr,$r):[]}getSellOrdersByCurrencyAndItem(Sr,Ar){const Ir=this.getSellOrdersForMint(Ar);if(!Ir)return[];const $r=[...Ir.values()];return $r.length?this.filterOrdersByCurrency(Sr,$r):[]}filterOrdersByCurrency(Sr,Ar){return Ar.length?Ar.filter(Ir=>Ir.currencyMint===Sr):[]}getOrderById(Sr){return this.orderCacheService.getOrderById(Sr)}getAllOrdersByItemMint(Sr){const Ar=new Map,Ir=this.getSellOrdersForMint(Sr),$r=this.getBuyOrdersForMint(Sr);if(Ir)for(const kr of Ir.values())Ar.set(kr.id,kr);if($r)for(const kr of $r.values())Ar.set(kr.id,kr);return Ar}getAllMints(){return this.orderCacheService.mints}getAllOrdersForUserAddress(Sr){const Ar=this.orderCacheService.getAllOrdersCache();return Array.from(Ar.values()).filter(kr=>kr.owner===Sr)}handleOrderAddedEvent(Sr){this.addOrderToCache(Sr)}handleOrderModifiedEvent(Sr){if(Sr.orderQtyRemaining===0){this.removeOrderFromCache(Sr);return}this.updateOrderInCache(Sr)}handleOrderCanceledEvent(Sr){this.removeOrderFromCache(Sr)}handleMarketplaceEvent(Sr,Ar){if(!!Ar)switch(this.lastEventTimestamp=this.getNow(),Sr){case l.GmEventType.orderAdded:this.handleOrderAddedEvent(Ar);break;case l.GmEventType.orderModified:this.handleOrderModifiedEvent(Ar);break;case l.GmEventType.orderRemoved:this.handleOrderCanceledEvent(Ar);break}}getNow(){return new Date().getTime()/1e3}}return GmOrderbookService.GmOrderbookService=m,m.HEALTH_CHECK_RATE=5e3,GmOrderbookService}var hasRequiredServices;function requireServices(){return hasRequiredServices||(hasRequiredServices=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(requireGmOrderbookService(),a),c(requireGmClientService(),a),c(requireGmEventService(),a)}(services)),services}var hasRequiredMarketplace;function requireMarketplace(){return hasRequiredMarketplace||(hasRequiredMarketplace=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(requireInstruction_builders$1(),a),c(requirePda_getters(),a),c(types$2,a),c(utils,a),c(models,a),c(requireServices(),a)}(marketplace)),marketplace}var hasRequiredGmHelper;function requireGmHelper(){if(hasRequiredGmHelper)return gmHelper$1;hasRequiredGmHelper=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(y,m,wr,Sr){function Ar(Ir){return Ir instanceof wr?Ir:new wr(function($r){$r(Ir)})}return new(wr||(wr=Promise))(function(Ir,$r){function kr(Br){try{Cr(Sr.next(Br))}catch(Fr){$r(Fr)}}function Dr(Br){try{Cr(Sr.throw(Br))}catch(Fr){$r(Fr)}}function Cr(Br){Br.done?Ir(Br.value):Ar(Br.value).then(kr,Dr)}Cr((Sr=Sr.apply(y,m||[])).next())})};Object.defineProperty(gmHelper$1,"__esModule",{value:!0}),gmHelper$1.createAccountTransaction=gmHelper$1.createAccountInstruction=void 0;const r=require$$0$1,c=require$$0$2,u=requireMarketplace();function l(y,m,wr,Sr){return a(this,void 0,void 0,function*(){const Ar=(0,u.getGmIDL)(Sr),Ir=new r.AnchorProvider(y,null,null),$r=new r.Program(Ar,Sr,Ir);return c.SystemProgram.createAccount({fromPubkey:m,newAccountPubkey:wr.publicKey,space:$r.account.orderAccount.size,lamports:yield y.getMinimumBalanceForRentExemption($r.account.orderAccount.size),programId:Sr})})}gmHelper$1.createAccountInstruction=l;function d(y,m,wr,Sr){return a(this,void 0,void 0,function*(){const Ar=(0,u.getGmIDL)(Sr),Ir=new r.AnchorProvider(y,null,null),$r=new r.Program(Ar,Sr,Ir),kr=new c.Transaction({recentBlockhash:(yield y.getLatestBlockhash()).blockhash,feePayer:m});return kr.add(c.SystemProgram.createAccount({fromPubkey:m,newAccountPubkey:wr.publicKey,space:$r.account.orderAccount.size,lamports:yield y.getMinimumBalanceForRentExemption($r.account.orderAccount.size),programId:Sr})),kr})}return gmHelper$1.createAccountTransaction=d,gmHelper$1}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(requireHelpers(),a),c(wallet,a),c(requireGmHelper(),a)}(util)),util}var hasRequiredHarvestRewards;function requireHarvestRewards(){if(hasRequiredHarvestRewards)return harvestRewards;hasRequiredHarvestRewards=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(y,m,wr,Sr){function Ar(Ir){return Ir instanceof wr?Ir:new wr(function($r){$r(Ir)})}return new(wr||(wr=Promise))(function(Ir,$r){function kr(Br){try{Cr(Sr.next(Br))}catch(Fr){$r(Fr)}}function Dr(Br){try{Cr(Sr.throw(Br))}catch(Fr){$r(Fr)}}function Cr(Br){Br.done?Ir(Br.value):Ar(Br.value).then(kr,Dr)}Cr((Sr=Sr.apply(y,m||[])).next())})};Object.defineProperty(harvestRewards,"__esModule",{value:!0}),harvestRewards.harvestRewardsInstruction=void 0;const r=require$$0$1,c=token,u=requireUtil(),l=utils$1;function d({connection:y,user:m,rewardMint:wr,registeredStake:Sr,stakingAccount:Ar,programId:Ir}){return a(this,void 0,void 0,function*(){const $r=(0,l.getStakingProgram)({connection:y,programId:Ir}),kr={signers:[],instructions:[]};let Dr=null,Cr=null;const Br=yield(0,u.getTokenAccount)(y,m,wr);Dr=Br.tokenAccount,"createInstruction"in Br&&kr.instructions.push(Br.createInstruction),Dr instanceof r.web3.Keypair?(Cr=Dr.publicKey,kr.signers.push(Dr)):Cr=Dr;const Fr=yield(0,c.associatedAddress)({owner:Sr,mint:wr}),qr=yield $r.methods.harvest().accounts({user:m,rewardMint:wr,registeredStake:Sr,stakingAccount:Ar,userRewardAccount:Cr,rewardAta:Fr}).instruction();return kr.instructions.push(qr),kr})}return harvestRewards.harvestRewardsInstruction=d,harvestRewards}var initializeStaking={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(initializeStaking,"__esModule",{value:!0});initializeStaking.createInitializeStakingInstruction=void 0;const utils_1$4=utils$1;function createInitializeStakingInstruction({connection:a,updateAuthorityAccount:r,programId:c}){return __awaiter$6(this,void 0,void 0,function*(){const u=(0,utils_1$4.getStakingProgram)({connection:a,programId:c}),l={signers:[],instructions:[]},d=yield u.methods.initializeStaking().accounts({updateAuthorityAccount:r}).instruction();return l.instructions.push(d),l})}initializeStaking.createInitializeStakingInstruction=createInitializeStakingInstruction;var registerStake={},pda_getters$1={},pda_getters={},seeds={};Object.defineProperty(seeds,"__esModule",{value:!0});seeds.ESCROW_AUTH=seeds.STAKING_VARS=seeds.STAKING_ESCROW=seeds.STAKING_ACCOUNT=seeds.REWARD_AUTH=seeds.REWARD_ACCOUNT=seeds.REGISTERED_STAKE=void 0;seeds.REGISTERED_STAKE=Buffer.from("registered-stake");seeds.REWARD_ACCOUNT=Buffer.from("reward-account");seeds.REWARD_AUTH=Buffer.from("reward-vault-authority");seeds.STAKING_ACCOUNT=Buffer.from("staking-account");seeds.STAKING_ESCROW=Buffer.from("staking-escrow");seeds.STAKING_VARS=Buffer.from("staking-vars");seeds.ESCROW_AUTH=Buffer.from("escrow-auth");var __awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(pda_getters,"__esModule",{value:!0});pda_getters.getRewardAuth=pda_getters.getTokenEscrow=pda_getters.getStakingVarsAccount=pda_getters.getStakingAccount=pda_getters.getRegisteredStake=void 0;const web3_js_1=require$$0$2,seeds_1=seeds;function getRegisteredStake(a,r,c,u){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.REGISTERED_STAKE,r.toBuffer(),c.toBuffer(),u.toBuffer()],a)})}pda_getters.getRegisteredStake=getRegisteredStake;function getStakingAccount(a,r,c){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_ACCOUNT,r.toBuffer(),c.toBuffer()],a)})}pda_getters.getStakingAccount=getStakingAccount;function getStakingVarsAccount(a){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_VARS],a)})}pda_getters.getStakingVarsAccount=getStakingVarsAccount;function getTokenEscrow(a,r,c){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_ESCROW,r.toBuffer(),c.toBuffer()],a)})}pda_getters.getTokenEscrow=getTokenEscrow;function getRewardAuth(a,r){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.REWARD_AUTH,r.toBuffer()],a)})}pda_getters.getRewardAuth=getRewardAuth;var pda_info_getters={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(pda_info_getters,"__esModule",{value:!0});pda_info_getters.getStakingVarsAccountInfo=pda_info_getters.getStakingAccountInfo=pda_info_getters.getRegisteredStakeAccountInfo=void 0;const getStakingProgram_1=getStakingProgram$1,pda_getters_1$1=pda_getters;function getRegisteredStakeAccountInfo(a,r,c){return __awaiter$4(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:a,programId:c}).account.registeredStake.fetch(r)})}pda_info_getters.getRegisteredStakeAccountInfo=getRegisteredStakeAccountInfo;function getStakingAccountInfo(a,r,c){return __awaiter$4(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:a,programId:c}).account.stakingAccount.fetch(r)})}pda_info_getters.getStakingAccountInfo=getStakingAccountInfo;function getStakingVarsAccountInfo(a,r){return __awaiter$4(this,void 0,void 0,function*(){const c=(0,getStakingProgram_1.getStakingProgram)({connection:a,programId:r}),[u]=yield(0,pda_getters_1$1.getStakingVarsAccount)(r);return yield c.account.stakingVars.fetch(u)})}pda_info_getters.getStakingVarsAccountInfo=getStakingVarsAccountInfo;(function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(pda_getters,a),c(pda_info_getters,a)})(pda_getters$1);var __awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(registerStake,"__esModule",{value:!0});registerStake.registerStakeInstruction=void 0;const anchor_1$2=require$$0$1,token_1$1=token,pda_getters_1=pda_getters$1,utils_1$3=utils$1;function registerStakeInstruction({connection:a,authority:r,rewardMultiplier:c,stakeMint:u,rewardMint:l,cooldownPeriod:d,programId:y}){return __awaiter$3(this,void 0,void 0,function*(){const m=(0,utils_1$3.getStakingProgram)({connection:a,programId:y}),wr={instructions:[],signers:[]},[Sr]=yield(0,pda_getters_1.getRegisteredStake)(y,r,u,l),Ar=yield(0,token_1$1.associatedAddress)({owner:Sr,mint:l}),Ir=yield m.methods.registerStake(new anchor_1$2.BN(c),new anchor_1$2.BN(d)).accounts({authority:r,stakeMint:u,rewardMint:l,rewardAta:Ar}).instruction();return wr.instructions.push(Ir),wr})}registerStake.registerStakeInstruction=registerStakeInstruction;var settle={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(settle,"__esModule",{value:!0});settle.createSettleStakingAccountInstruction=void 0;const utils_1$2=utils$1;function createSettleStakingAccountInstruction({connection:a,authority:r,registeredStake:c,stakingAccount:u,updatedStakingPeriod:l,programId:d}){return __awaiter$2(this,void 0,void 0,function*(){const y=(0,utils_1$2.getStakingProgram)({connection:a,programId:d}),m={instructions:[],signers:[]},wr=yield y.methods.settle(l).accounts({authority:r,registeredStake:c,stakingAccount:u}).instruction();return m.instructions.push(wr),m})}settle.createSettleStakingAccountInstruction=createSettleStakingAccountInstruction;var stakeTokens={},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(stakeTokens,"__esModule",{value:!0});stakeTokens.stakeTokensInstruction=void 0;const anchor_1$1=require$$0$1,token_1=token,utils_1$1=utils$1;function stakeTokensInstruction({connection:a,user:r,stakeMint:c,tokenSource:u,stakeQuantity:l,registeredStake:d,stakingAccount:y,programId:m}){return __awaiter$1(this,void 0,void 0,function*(){const wr=(0,utils_1$1.getStakingProgram)({connection:a,programId:m}),Sr=yield(0,token_1.associatedAddress)({owner:y,mint:c}),Ar={instructions:[],signers:[]},Ir=yield wr.methods.stakeTokens(new anchor_1$1.BN(l)).accounts({user:r,stakeMint:c,tokenSource:u,registeredStake:d,tokenEscrow:Sr}).instruction();return Ar.instructions.push(Ir),Ar})}stakeTokens.stakeTokensInstruction=stakeTokensInstruction;var unstakeTokens={},hasRequiredUnstakeTokens;function requireUnstakeTokens(){if(hasRequiredUnstakeTokens)return unstakeTokens;hasRequiredUnstakeTokens=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(m,wr,Sr,Ar){function Ir($r){return $r instanceof Sr?$r:new Sr(function(kr){kr($r)})}return new(Sr||(Sr=Promise))(function($r,kr){function Dr(Fr){try{Br(Ar.next(Fr))}catch(qr){kr(qr)}}function Cr(Fr){try{Br(Ar.throw(Fr))}catch(qr){kr(qr)}}function Br(Fr){Fr.done?$r(Fr.value):Ir(Fr.value).then(Dr,Cr)}Br((Ar=Ar.apply(m,wr||[])).next())})};Object.defineProperty(unstakeTokens,"__esModule",{value:!0}),unstakeTokens.unstakeTokensInstruction=void 0;const r=require$$0$1,c=token,u=requireUtil(),l=pda_getters$1,d=utils$1;function y({connection:m,user:wr,registeredStake:Sr,stakingAccount:Ar,programId:Ir}){return a(this,void 0,void 0,function*(){const $r=(0,d.getStakingProgram)({connection:m,programId:Ir}),kr={signers:[],instructions:[]},Cr=(yield(0,l.getRegisteredStakeAccountInfo)(m,Sr,Ir)).rewardMint;let Br=null,Fr=null;const qr=yield(0,u.getTokenAccount)(m,wr,Cr);Br=qr.tokenAccount,"createInstruction"in qr&&kr.instructions.push(qr.createInstruction),Br instanceof r.web3.Keypair?(Fr=Br.publicKey,kr.signers.push(Br)):Fr=Br;const Vr=yield(0,c.associatedAddress)({owner:Sr,mint:Cr}),Jr=yield $r.methods.unstakeTokens().accounts({user:wr,rewardMint:Cr,registeredStake:Sr,stakingAccount:Ar,userRewardAccount:Fr,rewardAta:Vr}).instruction();return kr.instructions.push(Jr),kr})}return unstakeTokens.unstakeTokensInstruction=y,unstakeTokens}var updateRewardMultiplier={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,r,c,u){function l(d){return d instanceof c?d:new c(function(y){y(d)})}return new(c||(c=Promise))(function(d,y){function m(Ar){try{Sr(u.next(Ar))}catch(Ir){y(Ir)}}function wr(Ar){try{Sr(u.throw(Ar))}catch(Ir){y(Ir)}}function Sr(Ar){Ar.done?d(Ar.value):l(Ar.value).then(m,wr)}Sr((u=u.apply(a,r||[])).next())})};Object.defineProperty(updateRewardMultiplier,"__esModule",{value:!0});updateRewardMultiplier.updateRewardMultiplierInstruction=void 0;const anchor_1=require$$0$1,utils_1=utils$1;function updateRewardMultiplierInstruction({connection:a,authority:r,rewardMultiplier:c,registeredStake:u,newStakingPeriod:l,programId:d}){return __awaiter(this,void 0,void 0,function*(){const y=(0,utils_1.getStakingProgram)({connection:a,programId:d}),m={instructions:[],signers:[]},wr=yield y.methods.updateRewardMultiplier(new anchor_1.BN(c),l).accounts({authority:r,registeredStake:u}).instruction();return m.instructions.push(wr),m})}updateRewardMultiplier.updateRewardMultiplierInstruction=updateRewardMultiplierInstruction;var withdrawTokens={},hasRequiredWithdrawTokens;function requireWithdrawTokens(){if(hasRequiredWithdrawTokens)return withdrawTokens;hasRequiredWithdrawTokens=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(y,m,wr,Sr){function Ar(Ir){return Ir instanceof wr?Ir:new wr(function($r){$r(Ir)})}return new(wr||(wr=Promise))(function(Ir,$r){function kr(Br){try{Cr(Sr.next(Br))}catch(Fr){$r(Fr)}}function Dr(Br){try{Cr(Sr.throw(Br))}catch(Fr){$r(Fr)}}function Cr(Br){Br.done?Ir(Br.value):Ar(Br.value).then(kr,Dr)}Cr((Sr=Sr.apply(y,m||[])).next())})};Object.defineProperty(withdrawTokens,"__esModule",{value:!0}),withdrawTokens.withdrawTokensInstruction=void 0;const r=require$$0$1,c=token,u=utils$1,l=requireUtil();function d({connection:y,authority:m,user:wr,stakeMint:Sr,registeredStake:Ar,stakingAccount:Ir,programId:$r}){return a(this,void 0,void 0,function*(){const kr=(0,u.getStakingProgram)({connection:y,programId:$r}),Dr=yield(0,c.associatedAddress)({owner:Ir,mint:Sr}),Cr={signers:[],instructions:[]};let Br=null,Fr=null;const qr=yield(0,l.getTokenAccount)(y,wr,Sr);Br=qr.tokenAccount,"createInstruction"in qr&&Cr.instructions.push(qr.createInstruction),Br instanceof r.web3.Keypair?(Fr=Br.publicKey,Cr.signers.push(Br)):Fr=Br;const Vr=yield kr.methods.withdrawTokens().accounts({user:wr,authority:m,stakeMint:Sr,tokenSource:Fr,registeredStake:Ar,stakingAccount:Ir,tokenEscrow:Dr}).instruction();return Cr.instructions.push(Vr),Cr})}return withdrawTokens.withdrawTokensInstruction=d,withdrawTokens}var hasRequiredInstruction_builders;function requireInstruction_builders(){return hasRequiredInstruction_builders||(hasRequiredInstruction_builders=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(baseParams,a),c(cancelUnstake,a),c(createStakeAccount,a),c(requireHarvestRewards(),a),c(initializeStaking,a),c(registerStake,a),c(settle,a),c(stakeTokens,a),c(requireUnstakeTokens(),a),c(updateRewardMultiplier,a),c(requireWithdrawTokens(),a)}(instruction_builders$1)),instruction_builders$1}var types$1={},stakingProgramAccounts={};Object.defineProperty(stakingProgramAccounts,"__esModule",{value:!0});(function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(stakingIdl,a),c(stakingProgramAccounts,a)})(types$1);var hasRequiredAtlasStaking;function requireAtlasStaking(){return hasRequiredAtlasStaking||(hasRequiredAtlasStaking=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(requireInstruction_builders(),a),c(pda_getters$1,a),c(types$1,a),c(utils$1,a)}(atlasStaking)),atlasStaking}var factions={};(function(a){var r=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ir,$r,kr,Dr){function Cr(Br){return Br instanceof kr?Br:new kr(function(Fr){Fr(Br)})}return new(kr||(kr=Promise))(function(Br,Fr){function qr(Qr){try{Jr(Dr.next(Qr))}catch(Wr){Fr(Wr)}}function Vr(Qr){try{Jr(Dr.throw(Qr))}catch(Wr){Fr(Wr)}}function Jr(Qr){Qr.done?Br(Qr.value):Cr(Qr.value).then(qr,Vr)}Jr((Dr=Dr.apply(Ir,$r||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.getPlayersOfFaction=a.getAllPlayers=a.getPlayer=a.enlistToFaction=a.getPlayerFactionPDA=a.getIDL=a.FactionType=void 0;const c=require$$0$1,u={version:"0.0.0",name:"enlist_to_faction",instructions:[{name:"processEnlistPlayer",accounts:[{name:"playerFactionAccount",isMut:!0,isSigner:!1},{name:"playerAccount",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"factionId",type:"u8"}]}],accounts:[{name:"PlayerFactionData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"enlistedAtTimestamp",type:"i64"},{name:"factionId",type:"u8"},{name:"bump",type:"u8"},{name:"padding",type:{array:["u64",5]}}]}}],errors:[{code:300,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."}],metadata:{}},l="FACTION_ENLISTMENT";(function(Ir){Ir[Ir.Unenlisted=-1]="Unenlisted",Ir[Ir.MUD=0]="MUD",Ir[Ir.ONI=1]="ONI",Ir[Ir.Ustur=2]="Ustur"})(a.FactionType||(a.FactionType={}));function d(Ir){const $r=u;return $r.metadata.address=Ir.toBase58(),$r}a.getIDL=d;function y(Ir,$r){return r(this,void 0,void 0,function*(){return c.web3.PublicKey.findProgramAddress([Buffer.from(l,"utf8"),Ir.toBuffer()],$r)})}a.getPlayerFactionPDA=y;function m(Ir,$r,kr,Dr){return r(this,void 0,void 0,function*(){const[Cr,Br]=yield y(kr,Dr),Fr=d(Dr),qr=new c.AnchorProvider(Ir,null,null);return yield new c.Program(Fr,Dr,qr).instruction.processEnlistPlayer(Br,$r,{accounts:{playerFactionAccount:Cr,playerAccount:kr,systemProgram:c.web3.SystemProgram.programId,clock:c.web3.SYSVAR_CLOCK_PUBKEY}})})}a.enlistToFaction=m;function wr(Ir,$r,kr){return r(this,void 0,void 0,function*(){const Dr=new c.AnchorProvider(Ir,null,null),Cr=d(kr),Br=new c.Program(Cr,kr,Dr),[Fr]=yield y($r,kr);return yield Br.account.playerFactionData.fetch(Fr)})}a.getPlayer=wr;function Sr(Ir,$r){return r(this,void 0,void 0,function*(){const kr=new c.AnchorProvider(Ir,null,null),Dr=d($r);return(yield new c.Program(Dr,$r,kr).account.playerFactionData.all()).map(qr=>qr.account)})}a.getAllPlayers=Sr;function Ar(Ir,$r,kr){return r(this,void 0,void 0,function*(){const Dr=new c.AnchorProvider(Ir,null,null),Cr=d(kr);return(yield new c.Program(Cr,kr,Dr).account.playerFactionData.all()).map(Vr=>Vr.account).filter(Vr=>Vr.factionId==$r)})}a.getPlayersOfFaction=Ar})(factions);var gumdrop={},gumdropIdl={};Object.defineProperty(gumdropIdl,"__esModule",{value:!0});gumdropIdl.gumDropIdl=void 0;gumdropIdl.gumDropIdl={version:"0.0.0",name:"merkle_distributor",instructions:[{name:"newDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]},{name:"closeDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"receiver",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"walletBump",type:"u8"}]},{name:"claim",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"claimStatus",isMut:!0,isSigner:!1},{name:"from",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimCandy",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"claimCount",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"candyMachineConfig",isMut:!1,isSigner:!1},{name:"candyMachine",isMut:!0,isSigner:!1},{name:"candyMachineWallet",isMut:!0,isSigner:!1},{name:"candyMachineMint",isMut:!0,isSigner:!1},{name:"candyMachineMetadata",isMut:!0,isSigner:!1},{name:"candyMachineMasterEdition",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"candyMachineProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"walletBump",type:"u8"},{name:"claimBump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]}],accounts:[{name:"MerkleDistributor",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]}},{name:"ClaimStatus",type:{kind:"struct",fields:[{name:"isClaimed",type:"bool"},{name:"claimant",type:"publicKey"},{name:"claimedAt",type:"i64"},{name:"amount",type:"u64"}]}},{name:"ClaimCount",type:{kind:"struct",fields:[{name:"count",type:"u64"},{name:"claimant",type:"publicKey"}]}},{name:"CandyMachine",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"wallet",type:"publicKey"},{name:"tokenMint",type:{option:"publicKey"}},{name:"config",type:"publicKey"},{name:"data",type:{defined:"CandyMachineData"}},{name:"itemsRedeemed",type:"u64"},{name:"bump",type:"u8"}]}}],types:[{name:"CandyMachineData",type:{kind:"struct",fields:[{name:"uuid",type:"string"},{name:"price",type:"u64"},{name:"itemsAvailable",type:"u64"},{name:"goLiveDate",type:{option:"i64"}}]}}],events:[{name:"ClaimedEvent",fields:[{name:"index",type:"u64",index:!1},{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:300,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:301,name:"DropAlreadyClaimed",msg:"Drop already claimed."},{code:302,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:303,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:304,name:"TemporalMismatch",msg:"Temporal signer did not match distributor"}]};var hasRequiredGumdrop;function requireGumdrop(){return hasRequiredGumdrop||(hasRequiredGumdrop=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Cr,Br,Fr,qr){qr===void 0&&(qr=Fr);var Vr=Object.getOwnPropertyDescriptor(Br,Fr);(!Vr||("get"in Vr?!Br.__esModule:Vr.writable||Vr.configurable))&&(Vr={enumerable:!0,get:function(){return Br[Fr]}}),Object.defineProperty(Cr,qr,Vr)}:function(Cr,Br,Fr,qr){qr===void 0&&(qr=Fr),Cr[qr]=Br[Fr]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Cr,Br){Object.defineProperty(Cr,"default",{enumerable:!0,value:Br})}:function(Cr,Br){Cr.default=Br}),u=commonjsGlobal&&commonjsGlobal.__importStar||function(Cr){if(Cr&&Cr.__esModule)return Cr;var Br={};if(Cr!=null)for(var Fr in Cr)Fr!=="default"&&Object.prototype.hasOwnProperty.call(Cr,Fr)&&r(Br,Cr,Fr);return c(Br,Cr),Br},l=commonjsGlobal&&commonjsGlobal.__awaiter||function(Cr,Br,Fr,qr){function Vr(Jr){return Jr instanceof Fr?Jr:new Fr(function(Qr){Qr(Jr)})}return new(Fr||(Fr=Promise))(function(Jr,Qr){function Wr(gn){try{rn(qr.next(gn))}catch(an){Qr(an)}}function Zr(gn){try{rn(qr.throw(gn))}catch(an){Qr(an)}}function rn(gn){gn.done?Jr(gn.value):Vr(gn.value).then(Wr,Zr)}rn((qr=qr.apply(Cr,Br||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.claimTokenInstructions=a.getMultipleClaimStatusAccounts=a.getClaimStatusAccount=a.getClaimStatusKey=void 0;const d=require$$0$1,y=require$$1$1,m=u(bs58),wr=requireHelpers(),Sr=gumdropIdl,Ar=new d.web3.PublicKey("gdrpGjVffourzkdDRrQmySw4aTHr8a3xmQzzxSwFD1a"),Ir=(Cr,Br,Fr=Ar)=>l(void 0,void 0,void 0,function*(){return yield d.web3.PublicKey.findProgramAddress([Buffer.from("ClaimStatus"),Cr.toArrayLike(Buffer,"le",8),Br.toBuffer()],Fr)});a.getClaimStatusKey=Ir;const $r=(Cr,Br,Fr,qr=Ar)=>l(void 0,void 0,void 0,function*(){const Vr=new d.AnchorProvider(Cr,null,null),Jr=new d.Program(Sr.gumDropIdl,qr,Vr),Qr=yield(0,a.getClaimStatusKey)(Br,Fr,qr);try{return yield Jr.account.claimStatus.fetch(Qr[0])}catch{return null}});a.getClaimStatusAccount=$r;const kr=(Cr,Br,Fr,qr=Ar)=>l(void 0,void 0,void 0,function*(){const Vr=new d.AnchorProvider(Cr,null,null),Jr=new d.Program(Sr.gumDropIdl,qr,Vr),Qr=Br.map(rn=>(0,a.getClaimStatusKey)(rn,Fr,qr)),Wr=(yield Promise.all(Qr)).map(rn=>rn[0]);return yield Jr.account.claimStatus.fetchMultiple(Wr)});a.getMultipleClaimStatusAccounts=kr;const Dr=Cr=>l(void 0,void 0,void 0,function*(){const{connection:Br,claimUrl:Fr,playerPublicKey:qr,programId:Vr}=Cr,Jr=new URLSearchParams(Fr.split("?")[1]),Qr=Jr.get("distributor"),Wr=Jr.get("handle"),Zr=Jr.get("amount"),rn=Jr.get("index"),gn=Jr.get("proof"),an=Jr.get("tokenAcc");if(!Qr||!Wr||!Zr||!rn||!gn||!an)throw new Error("Invalid claim");const fn=gn===""?[]:gn.split(",").map(dn=>{const pn=Buffer.from(m.decode(dn));if(pn.length!==32)throw new Error("Invalid proof hash length");return pn}),mn=new d.web3.PublicKey(Qr),Mr=new d.web3.PublicKey(an),xr=yield Br.getAccountInfo(Mr);if(xr===null)throw new Error("Could not fetch distributor token account");const Pr=y.AccountLayout.decode(xr.data),Kr=new d.web3.PublicKey(Pr.mint),Hr=new d.web3.PublicKey(Wr),Gr=yield(0,wr.getAssociatedTokenAddress)(Hr,Kr),un=yield Br.getParsedTokenAccountsByOwner(Hr,{mint:Kr}),wn=new d.BN(rn),jr=new d.BN(Zr),[Rr,Ur]=yield(0,a.getClaimStatusKey)(wn,mn,Vr),hn=new d.AnchorProvider(Br,null,null),en=new d.Program(Sr.gumDropIdl,Vr,hn),tn=[];return un.value.length===0&&tn.push(y.Token.createAssociatedTokenAccountInstruction(y.ASSOCIATED_TOKEN_PROGRAM_ID,y.TOKEN_PROGRAM_ID,Kr,Gr,Hr,qr)),tn.push(en.instruction.claim(Ur,wn,jr,qr,fn,{accounts:{distributor:mn,claimStatus:Rr,from:Mr,to:Gr,temporal:qr,payer:qr,tokenProgram:y.TOKEN_PROGRAM_ID,systemProgram:d.web3.SystemProgram.programId}})),tn});a.claimTokenInstructions=Dr}(gumdrop)),gumdrop}var score={},scoreIdl={};Object.defineProperty(scoreIdl,"__esModule",{value:!0});scoreIdl.baseIdl=void 0;scoreIdl.baseIdl={version:"0.0.0",name:"score",instructions:[{name:"processInitialize",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"atlasMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processRegisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"scorevarsShipBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]},{name:"processDeregisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processUpdateRewardRate",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"newRewardRatePerSecond",type:"u64"}]},{name:"processInitialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerFactionAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processPartialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processRefuel",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"fuelTokenAccountSource",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"fuelQuantity",type:"u64"}]},{name:"processRefeed",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"foodTokenAccountSource",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"foodQuantity",type:"u64"}]},{name:"processRearm",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"armsTokenAccountSource",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"armsQuantity",type:"u64"}]},{name:"processRepair",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"toolkitQuantity",type:"u64"}]},{name:"processSettle",accounts:[{name:"playerAccount",isMut:!1,isSigner:!1},{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processHarvest",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processWithdrawFuel",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountReturn",isMut:!0,isSigner:!1},{name:"fuelMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawFood",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountReturn",isMut:!0,isSigner:!1},{name:"foodMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawArms",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountReturn",isMut:!0,isSigner:!1},{name:"armsMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawShips",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"shipTokenAccountReturn",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"},{name:"treasuryBump",type:"u8"}]},{name:"processCloseAccounts",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"shipBump",type:"u8"},{name:"fuelBump",type:"u8"},{name:"foodBump",type:"u8"},{name:"armsBump",type:"u8"},{name:"escrowAuthBump",type:"u8"}]}],accounts:[{name:"ScoreVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"fuelMint",type:"publicKey"},{name:"foodMint",type:"publicKey"},{name:"armsMint",type:"publicKey"},{name:"toolkitMint",type:"publicKey"}]}},{name:"ScoreVarsShip",type:{kind:"struct",fields:[{name:"shipMint",type:"publicKey"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]}},{name:"ShipStaking",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"factionId",type:"u8"},{name:"shipMint",type:"publicKey"},{name:"shipQuantityInEscrow",type:"u64"},{name:"fuelQuantityInEscrow",type:"u64"},{name:"foodQuantityInEscrow",type:"u64"},{name:"armsQuantityInEscrow",type:"u64"},{name:"fuelCurrentCapacity",type:"u64"},{name:"foodCurrentCapacity",type:"u64"},{name:"armsCurrentCapacity",type:"u64"},{name:"healthCurrentCapacity",type:"u64"},{name:"stakedAtTimestamp",type:"i64"},{name:"fueledAtTimestamp",type:"i64"},{name:"fedAtTimestamp",type:"i64"},{name:"armedAtTimestamp",type:"i64"},{name:"repairedAtTimestamp",type:"i64"},{name:"currentCapacityTimestamp",type:"i64"},{name:"totalTimeStaked",type:"u64"},{name:"stakedTimePaid",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"totalRewardsPaid",type:"u64"}]}}],types:[{name:"Resource",type:{kind:"enum",variants:[{name:"Arms"},{name:"Fuel"},{name:"Food"},{name:"Toolkits"}]}}],errors:[{code:300,name:"ScorevarsNotInitialized",msg:"Scorevars auth is not initialized"},{code:301,name:"ScorevarsAuthInvalid",msg:"Scorevars auth invalid"},{code:302,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."},{code:303,name:"InvalidShipError",msg:"Invalid Ship Mint"},{code:304,name:"InvalidResourceError",msg:"Invalid Resource Mint"},{code:305,name:"ZeroResourceError",msg:"Resource Quantity must be >0."},{code:306,name:"ZeroShipError",msg:"Ship Quantity must be >0."},{code:307,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:308,name:"ResourceAmountTooSmall",msg:"Resource Amount Too Small, would add 0 seconds to capacity"},{code:309,name:"InvalidScoreVarsAccount",msg:"Invalid ScoreVars account for ship Staking Account given"},{code:310,name:"InvalidResourceWithdraw",msg:"Invalid Resource Withdraw, nothing to withdraw"},{code:311,name:"InvalidShipStakingOwner",msg:"Invalid Ship Staking Owner"},{code:312,name:"InvalidShipWithdraw",msg:"Invalid Ship Withdraw"},{code:313,name:"NotEnoughToolkits",msg:"Not enough toolkits for Ship Withdraw"},{code:314,name:"EscrowAccountNotZero",msg:"Escrow account must be 0 to close accounts"},{code:315,name:"IncorrectTokenAccountOwner",msg:"Token account does not have correct owner!"},{code:316,name:"UninitializedTokenAccount",msg:"Token or Mint Account is not initialized!"},{code:317,name:"IncorrectTokenAccountMint",msg:"Token or Mint Account mint is not correct!"}],metadata:{}};var scoreLogIdl={};Object.defineProperty(scoreLogIdl,"__esModule",{value:!0});scoreLogIdl.scoreLogBaseIdl=void 0;scoreLogIdl.scoreLogBaseIdl={version:"0.0.0",name:"score_logs",instructions:[],events:[{name:"ProcessInitialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"factionId",type:"u8",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessPartialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"previousShipQuantity",type:"u64",index:!1},{name:"addedShipQuantity",type:"u64",index:!1},{name:"newShipQuantity",type:"u64",index:!1},{name:"partialDepositTimestamp",type:"i64",index:!1}]},{name:"ProcessRearmMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityToDeposit",type:"u64",index:!1},{name:"armedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefeedMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityToDeposit",type:"u64",index:!1},{name:"fedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefuelMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityToDeposit",type:"u64",index:!1},{name:"fueledAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRepairMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"toolkitQuantityToDeposit",type:"u64",index:!1},{name:"repairedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessHarvestMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"rewardPayout",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"harvestTimestamp",type:"i64",index:!1}]},{name:"ProcessSettleMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"settleTimestamp",type:"i64",index:!1}]},{name:"ProcessArmsWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityWithdrawn",type:"u64",index:!1},{name:"armsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFoodWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityWithdrawn",type:"u64",index:!1},{name:"foodWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFuelWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityWithdrawn",type:"u64",index:!1},{name:"fuelWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessWithdrawShipsMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"shipsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessCloseAccountMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"accountClosedTimestamp",type:"i64",index:!1}]}]};var hasRequiredScore;function requireScore(){if(hasRequiredScore)return score;hasRequiredScore=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(en,tn,dn,pn){function vn($n){return $n instanceof dn?$n:new dn(function(Pn){Pn($n)})}return new(dn||(dn=Promise))(function($n,Pn){function kn(Sn){try{ln(pn.next(Sn))}catch(Bn){Pn(Bn)}}function sn(Sn){try{ln(pn.throw(Sn))}catch(Bn){Pn(Bn)}}function ln(Sn){Sn.done?$n(Sn.value):vn(Sn.value).then(kn,sn)}ln((pn=pn.apply(en,tn||[])).next())})};Object.defineProperty(score,"__esModule",{value:!0}),score.closeAccountsInstruction=score.createWithdrawShipsInstruction=score.createWithdrawArmsInstruction=score.createWithdrawFoodInstruction=score.createWithdrawFuelInstruction=score.createHarvestInstruction=score.createSettleInstruction=score.createRepairInstruction=score.createRefuelInstruction=score.createRefeedInstruction=score.createRearmInstruction=score.createPartialDepositInstruction=score.createInitialDepositInstruction=score.createUpdateRewardRateInstruction=score.createDeregisterShipInstruction=score.createRegisterShipInstruction=score.createScoreVarsInitializeInstruction=score.getAllFleetsForUserPublicKey=score.getAllFleets=score.getAllRegisteredShips=score.getScoreTreasuryAuthAccount=score.getScoreTreasuryTokenAccount=score.getScoreVarsShipInfo=score.decodeEvent=score.getShipStakingAccountInfo=score.getScoreVarsInfo=score.getShipStakingAccount=score.getScoreEscrowAuthAccount=score.getScoreEscrowAccount=score.getScoreVarsShipAccount=score.getScoreVarsAccount=score.getScoreIDL=void 0;const r=require$$0$1,c=require$$1$1,u=require$$0$2,l=requireDist(),d=scoreIdl,y=scoreLogIdl,m=requireUtil(),wr=new r.web3.PublicKey("FACTNmq2FhA2QNTnGM2aWJH3i7zT3cND5CgvjYTjyVYe");function Sr(en){const tn=d.baseIdl;return tn.metadata.address=en.toBase58(),tn}score.getScoreIDL=Sr;function Ar(en){return a(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([Buffer.from("SCOREVARS")],en)})}score.getScoreVarsAccount=Ar;function Ir(en,tn){return a(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([Buffer.from("SCOREVARS_SHIP"),tn.toBuffer()],en)})}score.getScoreVarsShipAccount=Ir;function $r(en,tn,dn,pn){return a(this,void 0,void 0,function*(){const vn=[Buffer.from("SCORE_ESCROW"),pn.toBuffer(),tn.toBuffer()];return dn!==null&&vn.push(dn.toBuffer()),r.web3.PublicKey.findProgramAddress(vn,en)})}score.getScoreEscrowAccount=$r;function kr(en,tn,dn){return a(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_ESCROW_AUTHORITY"),dn.toBuffer(),tn.toBuffer()],en)})}score.getScoreEscrowAuthAccount=kr;function Dr(en,tn,dn){return a(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_INFO"),dn.toBuffer(),tn.toBuffer()],en)})}score.getShipStakingAccount=Dr;function Cr(en,tn){return a(this,void 0,void 0,function*(){const dn=new r.AnchorProvider(en,null,null),pn=Sr(tn),vn=new r.Program(pn,tn,dn),[$n]=yield Ar(tn);return yield vn.account.scoreVars.fetch($n)})}score.getScoreVarsInfo=Cr;function Br(en,tn,dn,pn){return a(this,void 0,void 0,function*(){const vn=new r.AnchorProvider(en,null,null),$n=Sr(tn),Pn=new r.Program($n,tn,vn),[kn]=yield Dr(tn,dn,pn);return yield Pn.account.shipStaking.fetch(kn)})}score.getShipStakingAccountInfo=Br;function Fr(en,tn,dn){return a(this,void 0,void 0,function*(){const pn=new r.AnchorProvider(en,null,null);return new r.Program(y.scoreLogBaseIdl,tn,pn).coder.events.decode(dn)})}score.decodeEvent=Fr;function qr(en,tn,dn){return a(this,void 0,void 0,function*(){const pn=new r.AnchorProvider(en,null,null),vn=Sr(tn),$n=new r.Program(vn,tn,pn),[Pn]=yield Ir(tn,dn);return yield $n.account.scoreVarsShip.fetch(Pn)})}score.getScoreVarsShipInfo=qr;function Vr(en){return a(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_TREASURY")],en)})}score.getScoreTreasuryTokenAccount=Vr;function Jr(en){return a(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_TREASURY_AUTHORITY")],en)})}score.getScoreTreasuryAuthAccount=Jr;function Qr(en,tn){return a(this,void 0,void 0,function*(){const dn=Sr(tn),pn=new r.AnchorProvider(en,null,null),$n=yield new r.Program(dn,tn,pn).account.scoreVarsShip.all(),Pn=[];for(const kn of $n)Pn.push(kn.account);return Pn})}score.getAllRegisteredShips=Qr;function Wr(en,tn){return a(this,void 0,void 0,function*(){const dn=Sr(tn),pn=new r.AnchorProvider(en,null,null),$n=yield new r.Program(dn,tn,pn).account.shipStaking.all(),Pn=[];for(const kn of $n)Pn.push(kn.account);return Pn})}score.getAllFleets=Wr;function Zr(en,tn,dn){return a(this,void 0,void 0,function*(){const pn=Sr(dn),vn=new r.AnchorProvider(en,null,null),$n=new r.Program(pn,dn,vn),Pn=yield $n.account.scoreVarsShip.all(),kn=[];for(const Sn of Pn){const[Bn]=yield Dr(dn,Sn.account.shipMint,tn);kn.push(Bn)}return(yield $n.account.shipStaking.fetchMultiple(kn)).filter(Sn=>Sn!==null).map(Sn=>Sn)})}score.getAllFleetsForUserPublicKey=Zr;function rn(en,tn,dn,pn,vn,$n,Pn,kn){return a(this,void 0,void 0,function*(){const sn=Sr(kn),ln=new r.AnchorProvider(en,null,null),Sn=new r.Program(sn,kn,ln),[Bn,In]=yield Vr(kn),[Ln,An]=yield Jr(kn),[Cn,Mn]=yield Ar(kn);return yield Sn.instruction.processInitialize(Mn,In,An,{accounts:{updateAuthorityAccount:tn,scoreVarsAccount:Cn,tokenProgram:c.TOKEN_PROGRAM_ID,systemProgram:u.SystemProgram.programId,rent:r.web3.SYSVAR_RENT_PUBKEY,treasuryTokenAccount:Bn,treasuryAuthorityAccount:Ln,atlasMint:dn,fuelMint:pn,foodMint:vn,armsMint:$n,toolkitMint:Pn},signers:[]})})}score.createScoreVarsInitializeInstruction=rn;function gn(en,tn,dn,pn,vn,$n,Pn,kn,sn,ln,Sn,Bn,In){return a(this,void 0,void 0,function*(){const Ln=Sr(In),An=new r.AnchorProvider(en,null,null),Cn=new r.Program(Ln,In,An),[Mn,cn]=yield Ir(In,dn),[yn,xn]=yield Ar(In);return yield Cn.instruction.processRegisterShip(xn,cn,new r.BN(Bn),pn,vn,$n,Pn,kn,sn,ln,Sn,{accounts:{updateAuthorityAccount:tn,scoreVarsAccount:yn,scoreVarsShipAccount:Mn,shipMint:dn,systemProgram:u.SystemProgram.programId},signers:[]})})}score.createRegisterShipInstruction=gn;function an(en,tn,dn,pn){return a(this,void 0,void 0,function*(){const vn=Sr(pn),$n=new r.AnchorProvider(en,null,null),Pn=new r.Program(vn,pn,$n),[kn,sn]=yield Ir(pn,dn),[ln,Sn]=yield Ar(pn);return yield Pn.instruction.processDeregisterShip(Sn,sn,{accounts:{updateAuthorityAccount:tn,scoreVarsAccount:ln,scoreVarsShipAccount:kn,shipMint:dn},signers:[]})})}score.createDeregisterShipInstruction=an;function fn(en,tn,dn,pn,vn){return a(this,void 0,void 0,function*(){const $n=Sr(vn),Pn=new r.AnchorProvider(en,null,null),kn=new r.Program($n,vn,Pn),[sn,ln]=yield Ir(vn,dn),[Sn,Bn]=yield Ar(vn);return yield kn.instruction.processUpdateRewardRate(Bn,ln,new r.BN(pn),{accounts:{updateAuthorityAccount:tn,scoreVarsAccount:Sn,scoreVarsShipAccount:sn,shipMint:dn},signers:[]})})}score.createUpdateRewardRateInstruction=fn;function mn(en,tn,dn,pn,vn,$n){return a(this,void 0,void 0,function*(){const[Pn,kn]=yield kr($n,pn,tn),[sn,ln]=yield $r($n,pn,null,tn),[Sn,Bn]=yield Dr($n,pn,tn),[In,Ln]=yield Ir($n,pn),[An]=yield(0,l.getPlayerFactionPDA)(tn,wr),Cn=Sr($n),Mn=new r.AnchorProvider(en,null,null);return yield new r.Program(Cn,$n,Mn).instruction.processInitialDeposit(Bn,Ln,kn,ln,new r.BN(dn),{accounts:{playerAccount:tn,shipStakingAccount:Sn,scoreVarsShipAccount:In,playerFactionAccount:An,escrowAuthority:Pn,systemProgram:r.web3.SystemProgram.programId,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,rent:r.web3.SYSVAR_RENT_PUBKEY,shipMint:pn,shipTokenAccountSource:vn,shipTokenAccountEscrow:sn}})})}score.createInitialDepositInstruction=mn;function Mr(en,tn,dn,pn,vn,$n){return a(this,void 0,void 0,function*(){const[Pn,kn]=yield kr($n,pn,tn),[sn,ln]=yield $r($n,pn,null,tn),[Sn,Bn]=yield Dr($n,pn,tn),[In,Ln]=yield Ir($n,pn),An=Sr($n),Cn=new r.AnchorProvider(en,null,null);return yield new r.Program(An,$n,Cn).instruction.processPartialDeposit(Bn,Ln,kn,ln,new r.BN(dn),{accounts:{playerAccount:tn,shipStakingAccount:Sn,scoreVarsShipAccount:In,escrowAuthority:Pn,systemProgram:r.web3.SystemProgram.programId,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,shipMint:pn,shipTokenAccountSource:vn,shipTokenAccountEscrow:sn}})})}score.createPartialDepositInstruction=Mr;function xr(en,tn,dn,pn,vn,$n,Pn,kn){return a(this,void 0,void 0,function*(){const[sn,ln]=yield kr(kn,vn,dn),[Sn,Bn]=yield $r(kn,vn,$n,dn),[In,Ln]=yield Dr(kn,vn,dn),[An,Cn]=yield Ir(kn,vn),[Mn,cn]=yield Ar(kn),yn=Sr(kn),xn=new r.AnchorProvider(en,null,null);return yield new r.Program(yn,kn,xn).instruction.processRearm(Ln,cn,Cn,ln,Bn,new r.BN(pn),{accounts:{tokenOwnerAccount:tn,playerAccount:dn,shipStakingAccount:In,scoreVarsAccount:Mn,scoreVarsShipAccount:An,escrowAuthority:sn,systemProgram:r.web3.SystemProgram.programId,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,rent:r.web3.SYSVAR_RENT_PUBKEY,shipMint:vn,armsMint:$n,armsTokenAccountSource:Pn,armsTokenAccountEscrow:Sn}})})}score.createRearmInstruction=xr;function Pr(en,tn,dn,pn,vn,$n,Pn,kn){return a(this,void 0,void 0,function*(){const[sn,ln]=yield kr(kn,vn,dn),[Sn,Bn]=yield $r(kn,vn,$n,dn),[In,Ln]=yield Dr(kn,vn,dn),[An,Cn]=yield Ir(kn,vn),[Mn,cn]=yield Ar(kn),yn=Sr(kn),xn=new r.AnchorProvider(en,null,null);return yield new r.Program(yn,kn,xn).instruction.processRefeed(Ln,cn,Cn,ln,Bn,new r.BN(pn),{accounts:{tokenOwnerAccount:tn,playerAccount:dn,shipStakingAccount:In,scoreVarsAccount:Mn,scoreVarsShipAccount:An,escrowAuthority:sn,systemProgram:r.web3.SystemProgram.programId,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,rent:r.web3.SYSVAR_RENT_PUBKEY,shipMint:vn,foodMint:$n,foodTokenAccountSource:Pn,foodTokenAccountEscrow:Sn}})})}score.createRefeedInstruction=Pr;function Kr(en,tn,dn,pn,vn,$n,Pn,kn){return a(this,void 0,void 0,function*(){const[sn,ln]=yield kr(kn,vn,dn),[Sn,Bn]=yield $r(kn,vn,$n,dn),[In,Ln]=yield Dr(kn,vn,dn),[An,Cn]=yield Ir(kn,vn),[Mn,cn]=yield Ar(kn),yn=Sr(kn),xn=new r.AnchorProvider(en,null,null);return yield new r.Program(yn,kn,xn).instruction.processRefuel(Ln,cn,Cn,ln,Bn,new r.BN(pn),{accounts:{tokenOwnerAccount:tn,playerAccount:dn,shipStakingAccount:In,scoreVarsAccount:Mn,scoreVarsShipAccount:An,escrowAuthority:sn,systemProgram:r.web3.SystemProgram.programId,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,rent:r.web3.SYSVAR_RENT_PUBKEY,shipMint:vn,fuelMint:$n,fuelTokenAccountSource:Pn,fuelTokenAccountEscrow:Sn}})})}score.createRefuelInstruction=Kr;function Hr(en,tn,dn,pn,vn,$n,Pn,kn){return a(this,void 0,void 0,function*(){const[sn,ln]=yield Dr(kn,vn,dn),[Sn,Bn]=yield Ir(kn,vn),[In,Ln]=yield Ar(kn),An=Sr(kn),Cn=new r.AnchorProvider(en,null,null);return yield new r.Program(An,kn,Cn).instruction.processRepair(ln,Ln,Bn,new r.BN(pn),{accounts:{tokenOwnerAccount:tn,playerAccount:dn,shipStakingAccount:sn,scoreVarsAccount:In,scoreVarsShipAccount:Sn,systemProgram:r.web3.SystemProgram.programId,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,rent:r.web3.SYSVAR_RENT_PUBKEY,shipMint:vn,toolkitMint:$n,toolkitTokenAccountSource:Pn}})})}score.createRepairInstruction=Hr;function Gr(en,tn,dn,pn,vn){return a(this,void 0,void 0,function*(){const[$n,Pn]=yield Dr(vn,pn,tn),[kn,sn]=yield Ir(vn,pn),[ln,Sn]=yield Ar(vn),Bn=Sr(vn),In=new r.AnchorProvider(en,null,null);return yield new r.Program(Bn,vn,In).instruction.processSettle(Pn,Sn,sn,{accounts:{playerAccount:tn,updateAuthorityAccount:dn,shipStakingAccount:$n,scoreVarsShipAccount:kn,scoreVarsAccount:ln,clock:r.web3.SYSVAR_CLOCK_PUBKEY,shipMint:pn}})})}score.createSettleInstruction=Gr;function un(en,tn,dn,pn,vn){return a(this,void 0,void 0,function*(){const[$n,Pn]=yield Dr(vn,pn,tn),[kn,sn]=yield Ir(vn,pn),[ln,Sn]=yield Vr(vn),[Bn,In]=yield Jr(vn),Ln=Sr(vn),An=new r.AnchorProvider(en,null,null),Cn=new r.Program(Ln,vn,An),Mn={signers:[],instructions:[]};let cn;const yn=yield(0,m.getTokenAccount)(en,tn,dn),xn=yn.tokenAccount;"createInstruction"in yn&&Mn.instructions.push(yn.createInstruction),xn instanceof r.web3.Keypair?(cn=xn.publicKey,Mn.signers.push(xn)):cn=xn;const Rn=yield Cn.instruction.processHarvest(Pn,sn,Sn,In,{accounts:{playerAccount:tn,shipStakingAccount:$n,scoreVarsShipAccount:kn,playerAtlasTokenAccount:cn,treasuryTokenAccount:ln,treasuryAuthorityAccount:Bn,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,shipMint:pn}});return Mn.instructions.push(Rn),Mn})}score.createHarvestInstruction=un;function wn(en,tn,dn,pn,vn){return a(this,void 0,void 0,function*(){const[$n,Pn]=yield kr(vn,pn,tn),[kn,sn]=yield $r(vn,pn,dn,tn),[ln,Sn]=yield Dr(vn,pn,tn),[Bn,In]=yield Ir(vn,pn),[Ln,An]=yield Ar(vn),Cn=Sr(vn),Mn=new r.AnchorProvider(en,null,null),cn=new r.Program(Cn,vn,Mn),yn={signers:[],instructions:[]};let xn;const Rn=yield(0,m.getTokenAccount)(en,tn,dn),Nn=Rn.tokenAccount;"createInstruction"in Rn&&yn.instructions.push(Rn.createInstruction),Nn instanceof r.web3.Keypair?(xn=Nn.publicKey,yn.signers.push(Nn)):xn=Nn;const Er=yield cn.instruction.processWithdrawFuel(Sn,An,In,Pn,sn,{accounts:{playerAccount:tn,shipStakingAccount:ln,scoreVarsAccount:Ln,scoreVarsShipAccount:Bn,fuelTokenAccountEscrow:kn,fuelTokenAccountReturn:xn,fuelMint:dn,escrowAuthority:$n,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,shipMint:pn}});return yn.instructions.push(Er),yn})}score.createWithdrawFuelInstruction=wn;function jr(en,tn,dn,pn,vn){return a(this,void 0,void 0,function*(){const[$n,Pn]=yield kr(vn,pn,tn),[kn,sn]=yield $r(vn,pn,dn,tn),[ln,Sn]=yield Dr(vn,pn,tn),[Bn,In]=yield Ir(vn,pn),[Ln,An]=yield Ar(vn),Cn=Sr(vn),Mn=new r.AnchorProvider(en,null,null),cn=new r.Program(Cn,vn,Mn),yn={signers:[],instructions:[]};let xn;const Rn=yield(0,m.getTokenAccount)(en,tn,dn),Nn=Rn.tokenAccount;"createInstruction"in Rn&&yn.instructions.push(Rn.createInstruction),Nn instanceof r.web3.Keypair?(xn=Nn.publicKey,yn.signers.push(Nn)):xn=Nn;const Er=yield cn.instruction.processWithdrawFood(Sn,An,In,Pn,sn,{accounts:{playerAccount:tn,shipStakingAccount:ln,scoreVarsAccount:Ln,scoreVarsShipAccount:Bn,foodTokenAccountEscrow:kn,foodTokenAccountReturn:xn,foodMint:dn,escrowAuthority:$n,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,shipMint:pn}});return yn.instructions.push(Er),yn})}score.createWithdrawFoodInstruction=jr;function Rr(en,tn,dn,pn,vn){return a(this,void 0,void 0,function*(){const[$n,Pn]=yield kr(vn,pn,tn),[kn,sn]=yield $r(vn,pn,dn,tn),[ln,Sn]=yield Dr(vn,pn,tn),[Bn,In]=yield Ir(vn,pn),[Ln,An]=yield Ar(vn),Cn=Sr(vn),Mn=new r.AnchorProvider(en,null,null),cn=new r.Program(Cn,vn,Mn),yn={signers:[],instructions:[]};let xn;const Rn=yield(0,m.getTokenAccount)(en,tn,dn),Nn=Rn.tokenAccount;"createInstruction"in Rn&&yn.instructions.push(Rn.createInstruction),Nn instanceof r.web3.Keypair?(xn=Nn.publicKey,yn.signers.push(Nn)):xn=Nn;const Er=yield cn.instruction.processWithdrawArms(Sn,An,In,Pn,sn,{accounts:{playerAccount:tn,shipStakingAccount:ln,scoreVarsAccount:Ln,scoreVarsShipAccount:Bn,armsTokenAccountEscrow:kn,armsTokenAccountReturn:xn,armsMint:dn,escrowAuthority:$n,tokenProgram:c.TOKEN_PROGRAM_ID,clock:r.web3.SYSVAR_CLOCK_PUBKEY,shipMint:pn}});return yn.instructions.push(Er),yn})}score.createWithdrawArmsInstruction=Rr;function Ur(en,tn,dn,pn,vn,$n){return a(this,void 0,void 0,function*(){const[Pn,kn]=yield kr($n,dn,tn),[sn,ln]=yield $r($n,dn,null,tn),[Sn,Bn]=yield Dr($n,dn,tn),[In,Ln]=yield Ir($n,dn),[An,Cn]=yield Ar($n),[Mn,cn]=yield Vr($n),[yn,xn]=yield Jr($n),Rn={signers:[],instructions:[]},Nn=Sr($n),Er=new r.AnchorProvider(en,null,null),_r=new r.Program(Nn,$n,Er);let br;const Tr=yield(0,m.getTokenAccount)(en,tn,pn),Lr=Tr.tokenAccount;"createInstruction"in Tr&&Rn.instructions.push(Tr.createInstruction),Lr instanceof r.web3.Keypair?(br=Lr.publicKey,Rn.signers.push(Lr)):br=Lr;let zr;const Xr=yield(0,m.getTokenAccount)(en,tn,dn),Dn=Xr.tokenAccount;"createInstruction"in Xr&&Rn.instructions.push(Xr.createInstruction),Dn instanceof r.web3.Keypair?(zr=Dn.publicKey,Rn.signers.push(Dn)):zr=Dn;let Vn;const Fn=yield(0,m.getTokenAccount)(en,tn,vn),Wn=Fn.tokenAccount;"createInstruction"in Fn&&Rn.instructions.push(Fn.createInstruction),Wn instanceof r.web3.Keypair?(Vn=Wn.publicKey,Rn.signers.push(Wn)):Vn=Wn;const Hn=yield _r.instruction.processWithdrawShips(Bn,Cn,Ln,kn,ln,xn,cn,{accounts:{playerAccount:tn,shipStakingAccount:Sn,scoreVarsAccount:An,scoreVarsShipAccount:In,playerAtlasTokenAccount:br,shipTokenAccountEscrow:sn,shipTokenAccountReturn:zr,toolkitTokenAccountSource:Vn,treasuryTokenAccount:Mn,treasuryAuthorityAccount:yn,escrowAuthority:Pn,tokenProgram:c.TOKEN_PROGRAM_ID,systemProgram:r.web3.SystemProgram.programId,clock:r.web3.SYSVAR_CLOCK_PUBKEY,shipMint:dn,toolkitMint:vn}});return Rn.instructions.push(Hn),Rn})}score.createWithdrawShipsInstruction=Ur;function hn(en,tn,dn,pn,vn,$n,Pn){return a(this,void 0,void 0,function*(){const[kn,sn]=yield kr(Pn,dn,tn),[ln,Sn]=yield $r(Pn,dn,null,tn),[Bn,In]=yield $r(Pn,dn,pn,tn),[Ln,An]=yield $r(Pn,dn,vn,tn),[Cn,Mn]=yield $r(Pn,dn,$n,tn),[cn,yn]=yield Ar(Pn),[xn,Rn]=yield Dr(Pn,dn,tn),Nn=Sr(Pn),Er=new r.AnchorProvider(en,null,null);return yield new r.Program(Nn,Pn,Er).instruction.processCloseAccounts(Rn,yn,Sn,In,An,Mn,sn,{accounts:{playerAccount:tn,shipStakingAccount:xn,scoreVarsAccount:cn,shipTokenAccountEscrow:ln,fuelTokenAccountEscrow:Bn,foodTokenAccountEscrow:Ln,armsTokenAccountEscrow:Cn,escrowAuthority:kn,tokenProgram:c.TOKEN_PROGRAM_ID,systemProgram:r.web3.SystemProgram.programId,shipMint:dn,fuelMint:pn,foodMint:vn,armsMint:$n,clock:r.web3.SYSVAR_CLOCK_PUBKEY}})})}return score.closeAccountsInstruction=hn,score}var types={};Object.defineProperty(types,"__esModule",{value:!0});var scoreHelpers={},hasRequiredScoreHelpers;function requireScoreHelpers(){if(hasRequiredScoreHelpers)return scoreHelpers;hasRequiredScoreHelpers=1;var a=commonjsGlobal&&commonjsGlobal.__awaiter||function(Br,Fr,qr,Vr){function Jr(Qr){return Qr instanceof qr?Qr:new qr(function(Wr){Wr(Qr)})}return new(qr||(qr=Promise))(function(Qr,Wr){function Zr(an){try{gn(Vr.next(an))}catch(fn){Wr(fn)}}function rn(an){try{gn(Vr.throw(an))}catch(fn){Wr(fn)}}function gn(an){an.done?Qr(an.value):Jr(an.value).then(Zr,rn)}gn((Vr=Vr.apply(Br,Fr||[])).next())})},r=commonjsGlobal&&commonjsGlobal.__importDefault||function(Br){return Br&&Br.__esModule?Br:{default:Br}};Object.defineProperty(scoreHelpers,"__esModule",{value:!0}),scoreHelpers.sendTokens=scoreHelpers.confirmTokenBalance=scoreHelpers.createMint=scoreHelpers.mintTokens=scoreHelpers.createAssociatedTokenAccountInstruction=scoreHelpers.createRequestUnitsInstruction=scoreHelpers.Numberu32=scoreHelpers.createATokenAccount=scoreHelpers.getAtaForMint=void 0;const c=require$$0$1,u=require$$1$1,l=requireUtil(),d=requireAssert(),y=r(bn.exports);function m(Br,Fr){return a(this,void 0,void 0,function*(){return c.web3.PublicKey.findProgramAddress([Fr.toBuffer(),u.TOKEN_PROGRAM_ID.toBuffer(),Br.toBuffer()],u.ASSOCIATED_TOKEN_PROGRAM_ID)})}scoreHelpers.getAtaForMint=m;function wr(Br,Fr,qr,Vr){return a(this,void 0,void 0,function*(){qr=qr||Br.wallet.publicKey,Vr=Vr||Br.wallet.publicKey;const[Jr]=yield m(Fr,Vr),Qr=new c.web3.Transaction,Wr=yield Ir(Jr,qr,Vr,Fr);return Qr.add(Wr),yield Br.sendAndConfirm(Qr),Jr})}scoreHelpers.createATokenAccount=wr;class Sr extends y.default{toBuffer(){const Fr=super.toArray().reverse(),qr=Buffer.from(Fr);if(qr.length===4)return qr;const Vr=Buffer.alloc(4);return qr.copy(Vr),Vr}static fromBuffer(Fr){return new y.default([...Fr].reverse().map(qr=>`00${qr.toString(16)}`.slice(-2)).join(""),16)}}scoreHelpers.Numberu32=Sr;function Ar(Br){return a(this,void 0,void 0,function*(){const Fr=new Sr(1e6),qr=Buffer.from([0]),Vr=Fr.toBuffer();return new c.web3.TransactionInstruction({keys:[{pubkey:Br,isSigner:!0,isWritable:!0}],programId:new c.web3.PublicKey("ComputeBudget111111111111111111111111111111"),data:Buffer.concat([qr,Vr])})})}scoreHelpers.createRequestUnitsInstruction=Ar;function Ir(Br,Fr,qr,Vr){return a(this,void 0,void 0,function*(){const Jr=[{pubkey:Fr,isSigner:!0,isWritable:!0},{pubkey:Br,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:c.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:c.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new c.web3.TransactionInstruction({keys:Jr,programId:u.ASSOCIATED_TOKEN_PROGRAM_ID,data:Buffer.from([])})})}scoreHelpers.createAssociatedTokenAccountInstruction=Ir;function $r(Br,Fr,qr,Vr,Jr){return a(this,void 0,void 0,function*(){const Qr=new c.web3.Transaction;return Jr=Jr||Br.wallet.publicKey,Qr.add(u.Token.createMintToInstruction(u.TOKEN_PROGRAM_ID,Fr,qr,Jr,[],Vr)),yield Br.sendAndConfirm(Qr)})}scoreHelpers.mintTokens=$r;function kr(Br,Fr,qr,Vr){return a(this,void 0,void 0,function*(){const Jr=c.web3.Keypair.generate(),Qr=new c.web3.Transaction,Wr=yield Br.connection.getMinimumBalanceForRentExemption(u.MintLayout.span);qr=qr||Br.wallet.publicKey,Vr=Vr||Br.wallet.publicKey;const Zr=c.web3.SystemProgram.createAccount({fromPubkey:Br.wallet.publicKey,newAccountPubkey:Jr.publicKey,lamports:Wr,space:u.MintLayout.span,programId:u.TOKEN_PROGRAM_ID});Qr.add(Zr);const rn=u.Token.createInitMintInstruction(u.TOKEN_PROGRAM_ID,Jr.publicKey,Fr,qr,Vr);return Qr.add(rn),yield Br.sendAndConfirm(Qr,[Jr]),Jr.publicKey})}scoreHelpers.createMint=kr;function Dr(Br,Fr,qr,Vr){return a(this,void 0,void 0,function*(){const Jr=yield Br.connection.getAccountInfo(Fr,"recent");if(Vr===!0&&(0,d.strict)(Jr===null),Jr!==null){const Qr=(0,l.byteArrayToLong)(Jr.data.slice(64,72));(0,d.strict)(Qr==qr,`On-chain Token amount of ${Qr} does not match expected amount ${qr}`)}else console.log("Token account %s does not exist",Fr.toString())})}scoreHelpers.confirmTokenBalance=Dr;function Cr(Br,Fr,qr,Vr){return a(this,void 0,void 0,function*(){const Jr=new c.web3.Transaction;return Jr.add(u.Token.createTransferInstruction(u.TOKEN_PROGRAM_ID,Fr,qr,Br.wallet.publicKey,[],Vr)),yield Br.sendAndConfirm(Jr)})}return scoreHelpers.sendTokens=Cr,scoreHelpers}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(a){var r=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(u,l,d,y){y===void 0&&(y=d);var m=Object.getOwnPropertyDescriptor(l,d);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(u,y,m)}:function(u,l,d,y){y===void 0&&(y=d),u[y]=l[d]}),c=commonjsGlobal&&commonjsGlobal.__exportStar||function(u,l){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&r(l,u,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(requireAtlasStaking(),a),c(factions,a),c(requireGumdrop(),a),c(requireMarketplace(),a),c(requireScore(),a),c(types,a),c(requireScoreHelpers(),a),c(requireGmHelper(),a),c(requireUtil(),a)}(dist)),dist}var distExports=requireDist();const TOKEN_USDC=new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),TOKEN_ATLAS=new PublicKey("ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx"),SERUMRPC="https://solana-api.projectserum.com",useStaratlasGmStore=defineStore({id:"staratlasGmStore",state:()=>({client:new distExports.GmClientService,connection:new Connection(SERUMRPC),orders:[],atlasOrders:{buyOrders:[],sellOrders:[]},usdcOrders:{buyOrders:[],sellOrders:[]}}),actions:{async getOpenOrdersForAsset(a){await this.client.getOpenOrdersForAsset(this.connection,new PublicKey(a),TRADE_PROGRAM).then(r=>{this.orders=r,this.atlasOrders.buyOrders=this.orders.filter(c=>c.orderType==="buy"&&c.currencyMint===TOKEN_ATLAS.toString()).sort((c,u)=>c.uiPrice-u.uiPrice),this.atlasOrders.sellOrders=this.orders.filter(c=>c.orderType==="sell"&&c.currencyMint===TOKEN_ATLAS.toString()).sort((c,u)=>c.uiPrice-u.uiPrice),this.usdcOrders.buyOrders=this.orders.filter(c=>c.orderType==="buy"&&c.currencyMint===TOKEN_USDC.toString()).sort((c,u)=>c.uiPrice-u.uiPrice),this.usdcOrders.sellOrders=this.orders.filter(c=>c.orderType==="sell"&&c.currencyMint===TOKEN_USDC.toString()).sort((c,u)=>c.uiPrice-u.uiPrice)}).catch(r=>console.log("{getOpenOrdersForAssetError}: "+r))}}}),_hoisted_1$5=createBaseVNode("h2",null,"Asset list",-1),_hoisted_2$4=["onClick"],_sfc_main$6=defineComponent({__name:"AssetsList",setup(a){const{allAssets:r}=storeToRefs(useAssetsStore());ref();const c=useStaratlasGmStore();return useAssetsStore().init(),(l,d)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$5,createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(r),y=>(openBlock(),createElementBlock("p",{key:y._id,onClick:m=>unref(c).getOpenOrdersForAsset(y.mint).then(()=>{})},toDisplayString(y.name),9,_hoisted_2$4))),128))])],64))}}),_hoisted_1$4=createBaseVNode("h2",null,"Orderbook",-1),_hoisted_2$3=createBaseVNode("option",null,"ATLAS",-1),_hoisted_3$1=createBaseVNode("option",null,"USDC",-1),_hoisted_4=[_hoisted_2$3,_hoisted_3$1],_hoisted_5={class:"order-type-container"},_hoisted_6=createBaseVNode("p",null,"Sell orders:",-1),_hoisted_7={class:"order-type-container"},_hoisted_8=createBaseVNode("p",null,"Buy orders:",-1),_sfc_main$5=defineComponent({__name:"OrderbookList",setup(a){const{atlasOrders:r,usdcOrders:c}=storeToRefs(useStaratlasGmStore()),u=ref("USDC");return(l,d)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$4,createBaseVNode("div",null,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":d[0]||(d[0]=y=>u.value=y)},_hoisted_4,512),[[vModelSelect,u.value]]),createBaseVNode("div",_hoisted_5,[_hoisted_6,(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value==="ATLAS"?unref(r).sellOrders:unref(c).sellOrders,y=>(openBlock(),createElementBlock("p",{key:y.id},toDisplayString(y.uiPrice),1))),128))]),createBaseVNode("div",_hoisted_7,[_hoisted_8,(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value==="ATLAS"?unref(r).buyOrders:unref(c).buyOrders,y=>(openBlock(),createElementBlock("p",{key:y.id},toDisplayString(y.uiPrice),1))),128))])])],64))}}),OrderbookList_vue_vue_type_style_index_0_lang="";function e(a,r){const c={...a};for(const u in r)typeof a[u]!="object"||a[u]===null||Array.isArray(a[u])?r[u]!==void 0&&(c[u]=r[u]):c[u]=e(a[u],r[u]);return c}const t={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},i={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};let n=!1;function o(){return"CL v22.032 (internal id e2a841ff @ 2022-07-06T11:53:07.702Z)"}const s=class{constructor(a){if(this._id=`tradingview_${(1048576*(1+Math.random())|0).toString(16).substring(1)}`,this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!a.datafeed)throw new Error("Datafeed is not defined");if(this._options=e(i,a),a.preset){const r=t[a.preset];r?(this._options.disabled_features!==void 0?this._options.disabled_features=this._options.disabled_features.concat(r.disabled_features):this._options.disabled_features=r.disabled_features,this._options.enabled_features!==void 0?this._options.enabled_features=this._options.enabled_features.concat(r.enabled_features):this._options.enabled_features=r.enabled_features):console.warn("Unknown preset: `"+a.preset+"`")}this._options.theme==="Dark"&&this._options.loading_screen===void 0&&(this._options.loading_screen={backgroundColor:"#131722"}),this._options.debug&&(n||(n=!0,console.log("Using CL v22.032 (internal id e2a841ff @ 2022-07-06T11:53:07.702Z)"))),this._create()}onChartReady(a){this._ready?a.call(this):this._readyHandlers.push(a)}headerReady(){return this._innerWindowLoaded.then(()=>this._innerWindow().headerReady())}onGrayedObjectClicked(a){this._doWhenInnerApiLoaded(r=>{r.onGrayedObjectClicked(a)})}onShortcut(a,r){this._doWhenInnerWindowLoaded(c=>{c.createShortcutAction(a,r)})}subscribe(a,r){this._doWhenInnerApiLoaded(c=>{c.subscribe(a,r)})}unsubscribe(a,r){this._doWhenInnerApiLoaded(c=>{c.unsubscribe(a,r)})}chart(a){return this._innerAPI().chart(a)}getLanguage(){return this._options.locale}setSymbol(a,r,c){this._innerAPI().changeSymbol(a,r,c)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._doWhenInnerApiLoaded(a=>{a.closePopupsAndDialogs()})}selectLineTool(a){this._innerAPI().selectLineTool(a)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(a){this._innerAPI().saveChart(a)}load(a,r){this._innerAPI().loadChart({json:a,extendedData:r})}getSavedCharts(a){this._innerAPI().getSavedCharts(a)}loadChartFromServer(a){this._innerAPI().loadChartFromServer(a)}saveChartToServer(a,r,c){this._innerAPI().saveChartToServer(a,r,c)}removeChartFromServer(a,r){this._innerAPI().removeChartFromServer(a,r)}onContextMenu(a){this._doWhenInnerApiLoaded(r=>{r.onContextMenu(a)})}createButton(a){return this._innerWindow().createButton(a)}createDropdown(a){return this._innerWindow().createDropdown(a)}showNoticeDialog(a){this._doWhenInnerApiLoaded(r=>{r.showNoticeDialog(a)})}showConfirmDialog(a){this._doWhenInnerApiLoaded(r=>{r.showConfirmDialog(a)})}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}getStudyInputs(a){return this._innerAPI().getStudyInputs(a)}addCustomCSSFile(a){this._innerWindow().addCustomCSSFile(a)}applyOverrides(a){this._options=e(this._options,{overrides:a}),this._doWhenInnerWindowLoaded(r=>{r.applyOverrides(a)})}applyStudiesOverrides(a){this._doWhenInnerWindowLoaded(r=>{r.applyStudiesOverrides(a)})}watchList(){return this._innerAPI().watchlist()}news(){return this._innerAPI().news()}widgetbar(){return this._innerAPI().widgetbar()}activeChart(){return this._innerAPI().activeChart()}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(a){this._innerAPI().setLayout(a)}layoutName(){return this._innerAPI().layoutName()}changeTheme(a,r){return this._innerWindow().changeTheme(a,r)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._doWhenInnerApiLoaded(a=>{a.takeScreenshot()})}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllCharts(a){this._innerAPI().drawOnAllCharts(a)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(a){this._innerAPI().setIntervalLinkingEnabled(a)}setTimeFrame(a){this._innerAPI().setTimeFrame(a)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(a){return this._innerAPI().takeClientScreenshot(a)}navigationButtonsVisibility(){return this._innerWindow().getNavigationButtonsVisibility()}paneButtonsVisibility(){return this._innerWindow().getPaneButtonsVisibility()}dateFormat(){return this._innerWindow().getDateFormat()}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_doWhenInnerWindowLoaded(a){this._ready?a(this._innerWindow()):this._innerWindowLoaded.then(()=>{a(this._innerWindow())})}_doWhenInnerApiLoaded(a){this._doWhenInnerWindowLoaded(r=>{r.doWhenApiIsReady(()=>a(this._innerAPI()))})}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")}_create(){const a=this._render();this._options.container_id&&console.warn("`container_id` is now deprecated. Please use `container` instead to either still pass a string or an `HTMLElement`.");const r=this._options.container_id||this._options.container,c=typeof r=="string"?document.getElementById(r):r;if(c===null)throw new Error(`There is no such element - #${this._options.container}`);c.innerHTML=a,this._iFrame=c.querySelector(`#${this._id}`);const u=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(u.style.width="100%",this._options.fullscreen||(u.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(l=>{const d=()=>{u.removeEventListener("load",d,!1),l()};u.addEventListener("load",d,!1)}),this._innerWindowLoaded.then(()=>{this._innerWindow().widgetReady(()=>{this._ready=!0;for(const l of this._readyHandlers)try{l.call(this)}catch(d){console.error(d)}this._innerWindow().initializationFinished()})})}_render(){const a=window;if(a[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides},this._options.saved_data)a[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(a[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");const r=(this._options.library_path||"")+`${encodeURIComponent(this._options.locale)}-tv-chart.e2a841ff.html#symbol=`+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+r+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'}};window.TradingView=window.TradingView||{},window.TradingView.version=o;function logMessage(a){{const r=new Date;console.log(`${r.toLocaleTimeString()}.${r.getMilliseconds()}> ${a}`)}}function getErrorMessage(a){return a===void 0?"":typeof a=="string"?a:a.message}class HistoryProvider{constructor(r,c){this._datafeedUrl=r,this._requester=c}getBars(r,c,u){const l={symbol:r.ticker||"",resolution:c,from:u.from,to:u.to};return u.countBack!==void 0&&(l.countback=u.countBack),r.currency_code!==void 0&&(l.currencyCode=r.currency_code),r.unit_id!==void 0&&(l.unitId=r.unit_id),new Promise((d,y)=>{this._requester.sendRequest(this._datafeedUrl,"history",l).then(m=>{if(m.s!=="ok"&&m.s!=="no_data"){y(m.errmsg);return}const wr=[],Sr={noData:!1};if(m.s==="no_data")Sr.noData=!0,Sr.nextTime=m.nextTime;else{const Ar=m.v!==void 0,Ir=m.o!==void 0;for(let $r=0;$r<m.t.length;++$r){const kr={time:m.t[$r]*1e3,close:parseFloat(m.c[$r]),open:parseFloat(m.c[$r]),high:parseFloat(m.c[$r]),low:parseFloat(m.c[$r])};Ir&&(kr.open=parseFloat(m.o[$r]),kr.high=parseFloat(m.h[$r]),kr.low=parseFloat(m.l[$r])),Ar&&(kr.volume=parseFloat(m.v[$r])),wr.push(kr)}}d({bars:wr,meta:Sr})}).catch(m=>{const wr=getErrorMessage(m);console.warn(`HistoryProvider: getBars() failed, error=${wr}`),y(wr)})})}}class DataPulseProvider{constructor(r,c){this._subscribers={},this._requestsPending=0,this._historyProvider=r,setInterval(this._updateData.bind(this),c)}subscribeBars(r,c,u,l){if(this._subscribers.hasOwnProperty(l)){logMessage(`DataPulseProvider: already has subscriber with id=${l}`);return}this._subscribers[l]={lastBarTime:null,listener:u,resolution:c,symbolInfo:r},logMessage(`DataPulseProvider: subscribed for #${l} - {${r.name}, ${c}}`)}unsubscribeBars(r){delete this._subscribers[r],logMessage(`DataPulseProvider: unsubscribed for #${r}`)}_updateData(){if(!(this._requestsPending>0)){this._requestsPending=0;for(const r in this._subscribers)this._requestsPending+=1,this._updateDataForSubscriber(r).then(()=>{this._requestsPending-=1,logMessage(`DataPulseProvider: data for #${r} updated successfully, pending=${this._requestsPending}`)}).catch(c=>{this._requestsPending-=1,logMessage(`DataPulseProvider: data for #${r} updated with error=${getErrorMessage(c)}, pending=${this._requestsPending}`)})}}_updateDataForSubscriber(r){const c=this._subscribers[r],u=parseInt((Date.now()/1e3).toString()),l=u-periodLengthSeconds(c.resolution,10);return this._historyProvider.getBars(c.symbolInfo,c.resolution,{from:l,to:u,countBack:2,firstDataRequest:!1}).then(d=>{this._onSubscriberDataReceived(r,d)})}_onSubscriberDataReceived(r,c){if(!this._subscribers.hasOwnProperty(r)){logMessage(`DataPulseProvider: Data comes for already unsubscribed subscription #${r}`);return}const u=c.bars;if(u.length===0)return;const l=u[u.length-1],d=this._subscribers[r];if(d.lastBarTime!==null&&l.time<d.lastBarTime)return;if(d.lastBarTime!==null&&l.time>d.lastBarTime){if(u.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");const m=u[u.length-2];d.listener(m)}d.lastBarTime=l.time,d.listener(l)}}function periodLengthSeconds(a,r){let c=0;return a==="D"||a==="1D"?c=r:a==="M"||a==="1M"?c=31*r:a==="W"||a==="1W"?c=7*r:c=r*parseInt(a)/(24*60),c*24*60*60}class QuotesPulseProvider{constructor(r){this._subscribers={},this._requestsPending=0,this._quotesProvider=r,setInterval(this._updateQuotes.bind(this,1),1e4),setInterval(this._updateQuotes.bind(this,0),6e4)}subscribeQuotes(r,c,u,l){this._subscribers[l]={symbols:r,fastSymbols:c,listener:u},logMessage(`QuotesPulseProvider: subscribed quotes with #${l}`)}unsubscribeQuotes(r){delete this._subscribers[r],logMessage(`QuotesPulseProvider: unsubscribed quotes with #${r}`)}_updateQuotes(r){if(!(this._requestsPending>0))for(const c in this._subscribers){this._requestsPending++;const u=this._subscribers[c];this._quotesProvider.getQuotes(r===1?u.fastSymbols:u.symbols).then(l=>{this._requestsPending--,this._subscribers.hasOwnProperty(c)&&(u.listener(l),logMessage(`QuotesPulseProvider: data for #${c} (${r}) updated successfully, pending=${this._requestsPending}`))}).catch(l=>{this._requestsPending--,logMessage(`QuotesPulseProvider: data for #${c} (${r}) updated with error=${getErrorMessage(l)}, pending=${this._requestsPending}`)})}}}function extractField$1(a,r,c,u){const l=a[r];return Array.isArray(l)&&(!u||Array.isArray(l[0]))?l[c]:l}function symbolKey(a,r,c){return a+(r!==void 0?"_%|#|%_"+r:"")+(c!==void 0?"_%|#|%_"+c:"")}class SymbolsStorage{constructor(r,c,u){this._exchangesList=["NYSE","FOREX","AMEX"],this._symbolsInfo={},this._symbolsList=[],this._datafeedUrl=r,this._datafeedSupportedResolutions=c,this._requester=u,this._readyPromise=this._init(),this._readyPromise.catch(l=>{console.error(`SymbolsStorage: Cannot init, error=${l.toString()}`)})}resolveSymbol(r,c,u){return this._readyPromise.then(()=>{const l=this._symbolsInfo[symbolKey(r,c,u)];return l===void 0?Promise.reject("invalid symbol"):Promise.resolve(l)})}searchSymbols(r,c,u,l){return this._readyPromise.then(()=>{const d=[],y=r.length===0;r=r.toUpperCase();for(const wr of this._symbolsList){const Sr=this._symbolsInfo[wr];if(Sr===void 0||u.length>0&&Sr.type!==u||c&&c.length>0&&Sr.exchange!==c)continue;const Ar=Sr.name.toUpperCase().indexOf(r),Ir=Sr.description.toUpperCase().indexOf(r);if((y||Ar>=0||Ir>=0)&&!d.some(kr=>kr.symbolInfo===Sr)){const kr=Ar>=0?Ar:8e3+Ir;d.push({symbolInfo:Sr,weight:kr})}}const m=d.sort((wr,Sr)=>wr.weight-Sr.weight).slice(0,l).map(wr=>{const Sr=wr.symbolInfo;return{symbol:Sr.name,full_name:Sr.full_name,description:Sr.description,exchange:Sr.exchange,params:[],type:Sr.type,ticker:Sr.name}});return Promise.resolve(m)})}_init(){const r=[],c={};for(const u of this._exchangesList)c[u]||(c[u]=!0,r.push(this._requestExchangeData(u)));return Promise.all(r).then(()=>{this._symbolsList.sort(),logMessage("SymbolsStorage: All exchanges data loaded")})}_requestExchangeData(r){return new Promise((c,u)=>{this._requester.sendRequest(this._datafeedUrl,"symbol_info",{group:r}).then(l=>{try{this._onExchangeDataReceived(r,l)}catch(d){u(d instanceof Error?d:new Error(`SymbolsStorage: Unexpected exception ${d}`));return}c()}).catch(l=>{logMessage(`SymbolsStorage: Request data for exchange '${r}' failed, reason=${getErrorMessage(l)}`),c()})})}_onExchangeDataReceived(r,c){let u=0;try{const l=c.symbol.length,d=c.ticker!==void 0;for(;u<l;++u){const y=c.symbol[u],m=extractField$1(c,"exchange-listed",u),wr=extractField$1(c,"exchange-traded",u),Sr=wr+":"+y,Ar=extractField$1(c,"currency-code",u),Ir=extractField$1(c,"unit-id",u),$r=d?extractField$1(c,"ticker",u):y,kr={ticker:$r,name:y,base_name:[m+":"+y],full_name:Sr,listed_exchange:m,exchange:wr,currency_code:Ar,original_currency_code:extractField$1(c,"original-currency-code",u),unit_id:Ir,original_unit_id:extractField$1(c,"original-unit-id",u),unit_conversion_types:extractField$1(c,"unit-conversion-types",u,!0),description:extractField$1(c,"description",u),has_intraday:definedValueOrDefault(extractField$1(c,"has-intraday",u),!1),has_no_volume:definedValueOrDefault(extractField$1(c,"has-no-volume",u),void 0),visible_plots_set:definedValueOrDefault(extractField$1(c,"visible-plots-set",u),void 0),minmov:extractField$1(c,"minmovement",u)||extractField$1(c,"minmov",u)||0,minmove2:extractField$1(c,"minmove2",u)||extractField$1(c,"minmov2",u),fractional:extractField$1(c,"fractional",u),pricescale:extractField$1(c,"pricescale",u),type:extractField$1(c,"type",u),session:extractField$1(c,"session-regular",u),session_holidays:extractField$1(c,"session-holidays",u),corrections:extractField$1(c,"corrections",u),timezone:extractField$1(c,"timezone",u),supported_resolutions:definedValueOrDefault(extractField$1(c,"supported-resolutions",u,!0),this._datafeedSupportedResolutions),has_daily:definedValueOrDefault(extractField$1(c,"has-daily",u),!0),intraday_multipliers:definedValueOrDefault(extractField$1(c,"intraday-multipliers",u,!0),["1","5","15","30","60"]),has_weekly_and_monthly:extractField$1(c,"has-weekly-and-monthly",u),has_empty_bars:extractField$1(c,"has-empty-bars",u),volume_precision:definedValueOrDefault(extractField$1(c,"volume-precision",u),0),format:"price"};this._symbolsInfo[$r]=kr,this._symbolsInfo[y]=kr,this._symbolsInfo[Sr]=kr,(Ar!==void 0||Ir!==void 0)&&(this._symbolsInfo[symbolKey($r,Ar,Ir)]=kr,this._symbolsInfo[symbolKey(y,Ar,Ir)]=kr,this._symbolsInfo[symbolKey(Sr,Ar,Ir)]=kr),this._symbolsList.push(y)}}catch(l){throw new Error(`SymbolsStorage: API error when processing exchange ${r} symbol #${u} (${c.symbol[u]}): ${Object(l).message}`)}}}function definedValueOrDefault(a,r){return a!==void 0?a:r}function extractField(a,r,c){const u=a[r];return Array.isArray(u)?u[c]:u}class UDFCompatibleDatafeedBase{constructor(r,c,u,l=10*1e3){this._configuration=defaultConfiguration(),this._symbolsStorage=null,this._datafeedURL=r,this._requester=u,this._historyProvider=new HistoryProvider(r,this._requester),this._quotesProvider=c,this._dataPulseProvider=new DataPulseProvider(this._historyProvider,l),this._quotesPulseProvider=new QuotesPulseProvider(this._quotesProvider),this._configurationReadyPromise=this._requestConfiguration().then(d=>{d===null&&(d=defaultConfiguration()),this._setupWithConfiguration(d)})}onReady(r){this._configurationReadyPromise.then(()=>{r(this._configuration)})}getQuotes(r,c,u){this._quotesProvider.getQuotes(r).then(c).catch(u)}subscribeQuotes(r,c,u,l){this._quotesPulseProvider.subscribeQuotes(r,c,u,l)}unsubscribeQuotes(r){this._quotesPulseProvider.unsubscribeQuotes(r)}getMarks(r,c,u,l,d){if(!this._configuration.supports_marks)return;const y={symbol:r.ticker||"",from:c,to:u,resolution:d};this._send("marks",y).then(m=>{if(!Array.isArray(m)){const wr=[];for(let Sr=0;Sr<m.id.length;++Sr)wr.push({id:extractField(m,"id",Sr),time:extractField(m,"time",Sr),color:extractField(m,"color",Sr),text:extractField(m,"text",Sr),label:extractField(m,"label",Sr),labelFontColor:extractField(m,"labelFontColor",Sr),minSize:extractField(m,"minSize",Sr)});m=wr}l(m)}).catch(m=>{logMessage(`UdfCompatibleDatafeed: Request marks failed: ${getErrorMessage(m)}`),l([])})}getTimescaleMarks(r,c,u,l,d){if(!this._configuration.supports_timescale_marks)return;const y={symbol:r.ticker||"",from:c,to:u,resolution:d};this._send("timescale_marks",y).then(m=>{if(!Array.isArray(m)){const wr=[];for(let Sr=0;Sr<m.id.length;++Sr)wr.push({id:extractField(m,"id",Sr),time:extractField(m,"time",Sr),color:extractField(m,"color",Sr),label:extractField(m,"label",Sr),tooltip:extractField(m,"tooltip",Sr)});m=wr}l(m)}).catch(m=>{logMessage(`UdfCompatibleDatafeed: Request timescale marks failed: ${getErrorMessage(m)}`),l([])})}getServerTime(r){!this._configuration.supports_time||this._send("time").then(c=>{const u=parseInt(c);isNaN(u)||r(u)}).catch(c=>{logMessage(`UdfCompatibleDatafeed: Fail to load server time, error=${getErrorMessage(c)}`)})}searchSymbols(r,c,u,l){if(this._configuration.supports_search){const d={limit:30,query:r.toUpperCase(),type:u,exchange:c};this._send("search",d).then(y=>{if(y.s!==void 0){logMessage(`UdfCompatibleDatafeed: search symbols error=${y.errmsg}`),l([]);return}l(y)}).catch(y=>{logMessage(`UdfCompatibleDatafeed: Search symbols for '${r}' failed. Error=${getErrorMessage(y)}`),l([])})}else{if(this._symbolsStorage===null)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.searchSymbols(r,c,u,30).then(l).catch(l.bind(null,[]))}}resolveSymbol(r,c,u,l){logMessage("Resolve requested");const d=l&&l.currencyCode,y=l&&l.unitId,m=Date.now();function wr(Sr){logMessage(`Symbol resolved: ${Date.now()-m}ms`),c(Sr)}if(this._configuration.supports_group_request){if(this._symbolsStorage===null)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.resolveSymbol(r,d,y).then(wr).catch(u)}else{const Sr={symbol:r};d!==void 0&&(Sr.currencyCode=d),y!==void 0&&(Sr.unitId=y),this._send("symbols",Sr).then(Ar=>{Ar.s!==void 0?u("unknown_symbol"):wr(Ar)}).catch(Ar=>{logMessage(`UdfCompatibleDatafeed: Error resolving symbol: ${getErrorMessage(Ar)}`),u("unknown_symbol")})}}getBars(r,c,u,l,d){this._historyProvider.getBars(r,c,u).then(y=>{l(y.bars,y.meta)}).catch(d)}subscribeBars(r,c,u,l,d){this._dataPulseProvider.subscribeBars(r,c,u,l)}unsubscribeBars(r){this._dataPulseProvider.unsubscribeBars(r)}_requestConfiguration(){return this._send("config").catch(r=>(logMessage(`UdfCompatibleDatafeed: Cannot get datafeed configuration - use default, error=${getErrorMessage(r)}`),null))}_send(r,c){return this._requester.sendRequest(this._datafeedURL,r,c)}_setupWithConfiguration(r){if(this._configuration=r,r.exchanges===void 0&&(r.exchanges=[]),!r.supports_search&&!r.supports_group_request)throw new Error("Unsupported datafeed configuration. Must either support search, or support group request");(r.supports_group_request||!r.supports_search)&&(this._symbolsStorage=new SymbolsStorage(this._datafeedURL,r.supported_resolutions||[],this._requester)),logMessage(`UdfCompatibleDatafeed: Initialized with ${JSON.stringify(r)}`)}}function defaultConfiguration(){return{supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1}}class QuotesProvider{constructor(r,c){this._datafeedUrl=r,this._requester=c}getQuotes(r){return new Promise((c,u)=>{this._requester.sendRequest(this._datafeedUrl,"quotes",{symbols:r}).then(l=>{l.s==="ok"?c(l.d):u(l.errmsg)}).catch(l=>{const d=getErrorMessage(l);logMessage(`QuotesProvider: getQuotes failed, error=${d}`),u(`network error: ${d}`)})})}}class Requester{constructor(r){r&&(this._headers=r)}sendRequest(r,c,u){if(u!==void 0){const d=Object.keys(u);d.length!==0&&(c+="?"),c+=d.map(y=>`${encodeURIComponent(y)}=${encodeURIComponent(u[y].toString())}`).join("&")}logMessage("New request: "+c);const l={credentials:"same-origin"};return this._headers!==void 0&&(l.headers=this._headers),fetch(`${r}/${c}`,l).then(d=>d.text()).then(d=>JSON.parse(d))}}class UDFCompatibleDatafeed extends UDFCompatibleDatafeedBase{constructor(r,c=10*1e3){const u=new Requester,l=new QuotesProvider(r,u);super(r,l,u,c)}}const TVChartContainer_vue_vue_type_style_index_0_scoped_165d0c02_lang="";function getLanguageFromURL(){const r=new RegExp("[\\?&]lang=([^&#]*)").exec(window.location.search);return r===null?null:decodeURIComponent(r[1].replace(/\+/g," "))}const _sfc_main$4={name:"TVChartContainer",props:{symbol:{default:"FOODATLAS",type:String},interval:{default:"100",type:String},datafeedUrl:{default:"https://api2.skullnbones.xyz",type:String},libraryPath:{default:"/charting_library/",type:String},chartsStorageApiVersion:{default:"1.1",type:String},clientId:{default:"tradingview.com",type:String},userId:{default:"public_user_id",type:String},fullscreen:{default:!1,type:Boolean},autosize:{default:!0,type:Boolean},studiesOverrides:{type:Object}},tvWidget:null,mounted(){const a=this.$refs.chartContainer,r={symbol:this.symbol,datafeed:new UDFCompatibleDatafeed(this.datafeedUrl),interval:this.interval,container:a,library_path:this.libraryPath,theme:"dark",locale:getLanguageFromURL()||"en",disabled_features:["use_localstorage_for_settings"],charts_storage_api_version:this.chartsStorageApiVersion,client_id:this.clientId,user_id:this.userId,fullscreen:this.fullscreen,autosize:this.autosize,studies_overrides:this.studiesOverrides},c=new s(r);this.tvWidget=c,c.onChartReady(()=>{c.headerReady().then(()=>{const u=c.createButton();u.setAttribute("title","Click to show a notification popup"),u.classList.add("apply-common-tooltip"),u.addEventListener("click",()=>c.showNoticeDialog({title:"Notification",body:"TradingView Charting Library API works correctly",callback:()=>{console.log("Noticed!")}})),u.innerHTML="Check API"})})},destroyed(){this.tvWidget!==null&&(this.tvWidget.remove(),this.tvWidget=null)}},_hoisted_1$3={ref:"chartContainer",class:"TVChartContainer"};function _sfc_render$2(a,r,c,u,l,d){return openBlock(),createElementBlock("div",_hoisted_1$3,null,512)}const TVChartContainer=_export_sfc(_sfc_main$4,[["render",_sfc_render$2],["__scopeId","data-v-165d0c02"]]),_withScopeId=a=>(pushScopeId("data-v-1c3cd060"),a=a(),popScopeId(),a),_hoisted_1$2={class:"app"},_hoisted_2$2=_withScopeId(()=>createBaseVNode("header",{class:"app__header"},null,-1)),_sfc_main$3=defineComponent({__name:"TradingViewChart",setup(a){return(r,c)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[_hoisted_2$2,createVNode(TVChartContainer)]))}}),TradingViewChart_vue_vue_type_style_index_0_scoped_1c3cd060_lang="",TradingViewChart=_export_sfc(_sfc_main$3,[["__scopeId","data-v-1c3cd060"]]),_sfc_main$2={},_hoisted_1$1=createBaseVNode("h2",null,"Order Setter",-1),_hoisted_2$1=createBaseVNode("div",null,null,-1);function _sfc_render$1(a,r){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1,_hoisted_2$1],64)}const OrderSetter=_export_sfc(_sfc_main$2,[["render",_sfc_render$1]]),_hoisted_1={class:""},_hoisted_2={class:"grid grid-cols-3 gap-3"},_hoisted_3={class:"col-span-2"},_sfc_main$1=defineComponent({__name:"MarketplaceView",setup(a){return onMounted(async()=>{useTokenPriceStore(),useSolanaNetworkStore(),useStaratlasGmStore(),await useAssetsStore().init()}),(r,c)=>(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(_sfc_main$7),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(TradingViewChart)]),createBaseVNode("div",null,[createVNode(_sfc_main$5),createVNode(OrderSetter),createVNode(_sfc_main$6)])])]))}}),_sfc_main={};function _sfc_render(a,r){return openBlock(),createElementBlock("h1",null,"P2P")}const PersonToPersonView=_export_sfc(_sfc_main,[["render",_sfc_render]]),bootstrapIcons="",styles="",scriptRel="modulepreload",assetsURL=function(a,r){return new URL(a,r).href},seen={},__vitePreload=function a(r,c,u){return!c||c.length===0?r():Promise.all(c.map(l=>{if(l=assetsURL(l,u),l in seen)return;seen[l]=!0;const d=l.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${y}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":scriptRel,d||(m.as="script",m.crossOrigin=""),m.href=l,document.head.appendChild(m),d)return new Promise((wr,Sr)=>{m.addEventListener("load",wr),m.addEventListener("error",()=>Sr(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>r())},PhantomWalletName="Phantom";class PhantomWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(r={}){super(),this.name=PhantomWalletName,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._disconnected=()=>{const c=this._wallet;c&&(c.off("disconnect",this._disconnected),c.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._accountChanged=c=>{const u=this._publicKey;if(!!u){try{c=new PublicKey(c.toBytes())}catch(l){this.emit("error",new WalletPublicKeyError(l?.message,l));return}u.equals(c)||(this._publicKey=c,this.emit("connect",c))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.isConnected}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;this._connecting=!0;const r=window.phantom?.solana||window.solana;if(!r.isConnected)try{await r.connect()}catch(u){throw new WalletConnectionError(u?.message,u)}if(!r.publicKey)throw new WalletAccountError;let c;try{c=new PublicKey(r.publicKey.toBytes())}catch(u){throw new WalletPublicKeyError(u?.message,u)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=c,this.emit("connect",c)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){const r=this._wallet;if(r){r.off("disconnect",this._disconnected),r.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await r.disconnect()}catch(c){this.emit("error",new WalletDisconnectionError(c?.message,c))}}this.emit("disconnect")}async sendTransaction(r,c,u={}){try{const l=this._wallet;if(!l)throw new WalletNotConnectedError;try{const{signers:d,...y}=u;r=await this.prepareTransaction(r,c,y),d?.length&&r.partialSign(...d),y.preflightCommitment=y.preflightCommitment||c.commitment;const{signature:m}=await l.signAndSendTransaction(r,y);return m}catch(d){throw d instanceof WalletError?d:new WalletSendTransactionError(d?.message,d)}}catch(l){throw this.emit("error",l),l}}async signTransaction(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{return await c.signTransaction(r)||r}catch(u){throw new WalletSignTransactionError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}async signAllTransactions(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{return await c.signAllTransactions(r)||r}catch(u){throw new WalletSignTransactionError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}async signMessage(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{const{signature:u}=await c.signMessage(r);return u}catch(u){throw new WalletSignMessageError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}}const SlopeWalletName="Slope";class SlopeWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(r={}){super(),this.name=SlopeWalletName,this.url="https://slope.finance",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iNjQiIGZpbGw9IiM2RTY2RkEiLz4KPHBhdGggZD0iTTI3Ljk0NzUgNTIuMTU5Nkw1MS45ODI2IDI4LjA1NzJMNzIuNjA5OCA3LjY1Mzg5QzczLjg3MzQgNi40MDQwMSA3Ni4wMTc4IDcuMjk5MSA3Ni4wMTc4IDkuMDc2NDJMNzYuMDE4NyA1Mi4xNTlMNTEuOTgzNiA3Ni4xMjY4TDI3Ljk0NzUgNTIuMTU5NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zNzk1XzI1NTQzKSIvPgo8cGF0aCBkPSJNMTAwLjA1MyA3NS45OTNMNzYuMDE4IDUxLjk1OEw1MS45ODI5IDc1Ljk5MzFMNTEuOTgyOSAxMTguOTI0QzUxLjk4MjkgMTIwLjcwMyA1NC4xMzEyIDEyMS41OTcgNTUuMzkzNyAxMjAuMzQzTDEwMC4wNTMgNzUuOTkzWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3OTVfMjU1NDMpIi8+CjxwYXRoIGQ9Ik0yNy45NDcgNTIuMTYwMUg0NC42ODM5QzQ4LjcxNDcgNTIuMTYwMSA1MS45ODIyIDU1LjQyNzYgNTEuOTgyMiA1OS40NTgzVjc2LjEyNjlIMzUuMjQ1M0MzMS4yMTQ2IDc2LjEyNjkgMjcuOTQ3IDcyLjg1OTQgMjcuOTQ3IDY4LjgyODdWNTIuMTYwMVoiIGZpbGw9IiNGMUYwRkYiLz4KPHBhdGggZD0iTTc2LjAxNzggNTIuMTYwMUg5Mi43NTQ3Qzk2Ljc4NTUgNTIuMTYwMSAxMDAuMDUzIDU1LjQyNzYgMTAwLjA1MyA1OS40NTgzVjc2LjEyNjlIODMuMzE2MUM3OS4yODU0IDc2LjEyNjkgNzYuMDE3OCA3Mi44NTk0IDc2LjAxNzggNjguODI4N1Y1Mi4xNjAxWiIgZmlsbD0iI0YxRjBGRiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI1MS45ODMxIiB5MT0iNy4wNzE1NSIgeDI9IjUxLjk4MzEiIHkyPSI3Ni4xMjY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNBOEFERkYiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0ODU1NiIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI3Ni4wMTgiIHkxPSI1MS45NTgiIHgyPSI3Ni4wMTgiIHkyPSIxMjAuOTI4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yNjA3ODQiIHN0b3AtY29sb3I9IiNCNkJBRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTRFMkZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>typeof window.Slope=="function"||window.slopeApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Installed||typeof window.Slope!="function")throw new WalletNotReadyError;this._connecting=!0;const r=new window.Slope;let c;try{({data:c}=await r.connect())}catch(l){throw new WalletConnectionError(l?.message,l)}if(!c.publicKey)throw new WalletAccountError;let u;try{u=new PublicKey(c.publicKey)}catch(l){throw new WalletPublicKeyError(l?.message,l)}this._wallet=r,this._publicKey=u,this.emit("connect",u)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){const r=this._wallet;if(r){this._wallet=null,this._publicKey=null;try{let c;try{({msg:c}=await r.disconnect())}catch(u){throw new WalletDisconnectionError(u?.message,u)}if(c!=="ok")throw new WalletDisconnectionError(c)}catch(c){this.emit("error",c)}}this.emit("disconnect")}async signTransaction(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{const u=bs58.encode(r.serializeMessage()),{msg:l,data:d}=await c.signTransaction(u);if(!d.publicKey||!d.signature)throw new WalletSignTransactionError(l);const y=new PublicKey(d.publicKey),m=bs58.decode(d.signature);return r.addSignature(y,m),r}catch(u){throw u instanceof WalletError?u:new WalletSignTransactionError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}async signAllTransactions(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{const u=r.map(wr=>bs58.encode(wr.serializeMessage())),{msg:l,data:d}=await c.signAllTransactions(u),y=r.length;if(!d.publicKey||d.signatures?.length!==y)throw new WalletSignTransactionError(l);const m=new PublicKey(d.publicKey);for(let wr=0;wr<y;wr++)r[wr].addSignature(m,bs58.decode(d.signatures[wr]));return r}catch(u){throw u instanceof WalletError?u:new WalletSignTransactionError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}async signMessage(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{const u=await c.signMessage(r);return bs58.decode(u.data.signature)}catch(u){throw new WalletSignMessageError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}}const SolflareWalletName="Solflare";class SolflareWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(r={}){super(),this.name=SolflareWalletName,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Loadable,this._disconnected=()=>{const c=this._wallet;c&&(c.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=r,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Loadable&&this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;let r;try{r=(await __vitePreload(()=>import("./index.919a7399.js"),[],import.meta.url)).default}catch(l){throw new WalletLoadError(l?.message,l)}let c;try{c=new r({network:this._config.network})}catch(l){throw new WalletConfigError(l?.message,l)}if(this._connecting=!0,!c.connected)try{await c.connect()}catch(l){throw new WalletConnectionError(l?.message,l)}if(!c.publicKey)throw new WalletConnectionError;let u;try{u=new PublicKey(c.publicKey.toBytes())}catch(l){throw new WalletPublicKeyError(l?.message,l)}c.on("disconnect",this._disconnected),this._wallet=c,this._publicKey=u,this.emit("connect",u)}catch(r){throw this.emit("error",r),r}finally{this._connecting=!1}}async disconnect(){const r=this._wallet;if(r){r.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await r.disconnect()}catch(c){this.emit("error",new WalletDisconnectionError(c?.message,c))}}this.emit("disconnect")}async signTransaction(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{return await c.signTransaction(r)||r}catch(u){throw new WalletSignTransactionError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}async signAllTransactions(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{return await c.signAllTransactions(r)||r}catch(u){throw new WalletSignTransactionError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}async signMessage(r){try{const c=this._wallet;if(!c)throw new WalletNotConnectedError;try{return await c.signMessage(r,"utf8")}catch(u){throw new WalletSignMessageError(u?.message,u)}}catch(c){throw this.emit("error",c),c}}}const pinia=createPinia(),About={template:"<div>About</div>"},routes=[{path:"/",component:Home},{path:"/marketplace",component:_sfc_main$1},{path:"/p2p",component:PersonToPersonView},{path:"/about",component:About}],walletOptions={wallets:[new PhantomWalletAdapter,new SlopeWalletAdapter,new SolflareWalletAdapter({network:WalletAdapterNetwork.Devnet})],autoConnect:!0},router=createRouter({history:createWebHashHistory(),routes});createApp(_sfc_main$9).use(pinia).use(index$1,walletOptions).use(router).mount("#app");export{EventEmitter as E,PublicKey as P,bs58 as b,v4 as v};
