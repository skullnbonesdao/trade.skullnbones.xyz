(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var browser$3={exports:{}},process$1=browser$3.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue$1.length;e;){for(currentQueue=queue$1,queue$1=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process$1.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];queue$1.push(new Item(t,e)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$3(){}process$1.on=noop$3;process$1.addListener=noop$3;process$1.once=noop$3;process$1.off=noop$3;process$1.removeListener=noop$3;process$1.removeAllListeners=noop$3;process$1.emit=noop$3;process$1.prependListener=noop$3;process$1.prependOnceListener=noop$3;process$1.listeners=function(t){return[]};process$1.binding=function(t){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(t){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var buffer$2={},base64Js$1={};base64Js$1.byteLength=byteLength$1;var toByteArray_1=base64Js$1.toByteArray=toByteArray$1,fromByteArray_1=base64Js$1.fromByteArray=fromByteArray$1,lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len$1=code$1.length;i$2<len$1;++i$2)lookup$1[i$2]=code$1[i$2],revLookup$1[code$1.charCodeAt(i$2)]=i$2;revLookup$1["-".charCodeAt(0)]=62;revLookup$1["_".charCodeAt(0)]=63;function getLens$1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function byteLength$1(t){var e=getLens$1(t),n=e[0],r=e[1];return(n+r)*3/4-r}function _byteLength$1(t,e,n){return(e+n)*3/4-n}function toByteArray$1(t){var e,n=getLens$1(t),r=n[0],o=n[1],s=new Arr$1(_byteLength$1(t,r,o)),a=0,c=o>0?r-4:r,m;for(m=0;m<c;m+=4)e=revLookup$1[t.charCodeAt(m)]<<18|revLookup$1[t.charCodeAt(m+1)]<<12|revLookup$1[t.charCodeAt(m+2)]<<6|revLookup$1[t.charCodeAt(m+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=revLookup$1[t.charCodeAt(m)]<<2|revLookup$1[t.charCodeAt(m+1)]>>4,s[a++]=e&255),o===1&&(e=revLookup$1[t.charCodeAt(m)]<<10|revLookup$1[t.charCodeAt(m+1)]<<4|revLookup$1[t.charCodeAt(m+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function tripletToBase64$1(t){return lookup$1[t>>18&63]+lookup$1[t>>12&63]+lookup$1[t>>6&63]+lookup$1[t&63]}function encodeChunk$1(t,e,n){for(var r,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64$1(r));return o.join("")}function fromByteArray$1(t){for(var e,n=t.length,r=n%3,o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(encodeChunk$1(t,a,a+s>c?c:a+s));return r===1?(e=t[n-1],o.push(lookup$1[e>>2]+lookup$1[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],o.push(lookup$1[e>>10]+lookup$1[e>>4&63]+lookup$1[e<<2&63]+"=")),o.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(t,e,n,r,o){var s,a,c=o*8-r-1,m=(1<<c)-1,en=m>>1,tn=-7,sn=n?o-1:0,un=n?-1:1,cn=t[e+sn];for(sn+=un,s=cn&(1<<-tn)-1,cn>>=-tn,tn+=c;tn>0;s=s*256+t[e+sn],sn+=un,tn-=8);for(a=s&(1<<-tn)-1,s>>=-tn,tn+=r;tn>0;a=a*256+t[e+sn],sn+=un,tn-=8);if(s===0)s=1-en;else{if(s===m)return a?NaN:(cn?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-en}return(cn?-1:1)*a*Math.pow(2,s-r)};ieee754$1.write=function(t,e,n,r,o,s){var a,c,m,en=s*8-o-1,tn=(1<<en)-1,sn=tn>>1,un=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,cn=r?0:s-1,gn=r?1:-1,mn=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=tn):(a=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-a))<1&&(a--,m*=2),a+sn>=1?e+=un/m:e+=un*Math.pow(2,1-sn),e*m>=2&&(a++,m/=2),a+sn>=tn?(c=0,a=tn):a+sn>=1?(c=(e*m-1)*Math.pow(2,o),a=a+sn):(c=e*Math.pow(2,sn-1)*Math.pow(2,o),a=0));o>=8;t[n+cn]=c&255,cn+=gn,c/=256,o-=8);for(a=a<<o|c,en+=o;en>0;t[n+cn]=a&255,cn+=gn,a/=256,en-=8);t[n+cn-gn]|=mn*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js$1,n=ieee754$1,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=kn,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const nn=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(nn,l),nn.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(nn){if(nn>o)throw new RangeError('The value "'+nn+'" is invalid for option "size"');const l=new Uint8Array(nn);return Object.setPrototypeOf(l,c.prototype),l}function c(nn,l,d){if(typeof nn=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return sn(nn)}return m(nn,l,d)}c.poolSize=8192;function m(nn,l,d){if(typeof nn=="string")return un(nn,l);if(ArrayBuffer.isView(nn))return gn(nn);if(nn==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nn);if(br(nn,ArrayBuffer)||nn&&br(nn.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(br(nn,SharedArrayBuffer)||nn&&br(nn.buffer,SharedArrayBuffer)))return mn(nn,l,d);if(typeof nn=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const an=nn.valueOf&&nn.valueOf();if(an!=null&&an!==nn)return c.from(an,l,d);const hn=yn(nn);if(hn)return hn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof nn[Symbol.toPrimitive]=="function")return c.from(nn[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nn)}c.from=function(nn,l,d){return m(nn,l,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function en(nn){if(typeof nn!="number")throw new TypeError('"size" argument must be of type number');if(nn<0)throw new RangeError('The value "'+nn+'" is invalid for option "size"')}function tn(nn,l,d){return en(nn),nn<=0?a(nn):l!==void 0?typeof d=="string"?a(nn).fill(l,d):a(nn).fill(l):a(nn)}c.alloc=function(nn,l,d){return tn(nn,l,d)};function sn(nn){return en(nn),a(nn<0?0:wn(nn)|0)}c.allocUnsafe=function(nn){return sn(nn)},c.allocUnsafeSlow=function(nn){return sn(nn)};function un(nn,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=An(nn,l)|0;let an=a(d);const hn=an.write(nn,l);return hn!==d&&(an=an.slice(0,hn)),an}function cn(nn){const l=nn.length<0?0:wn(nn.length)|0,d=a(l);for(let an=0;an<l;an+=1)d[an]=nn[an]&255;return d}function gn(nn){if(br(nn,Uint8Array)){const l=new Uint8Array(nn);return mn(l.buffer,l.byteOffset,l.byteLength)}return cn(nn)}function mn(nn,l,d){if(l<0||nn.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(nn.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let an;return l===void 0&&d===void 0?an=new Uint8Array(nn):d===void 0?an=new Uint8Array(nn,l):an=new Uint8Array(nn,l,d),Object.setPrototypeOf(an,c.prototype),an}function yn(nn){if(c.isBuffer(nn)){const l=wn(nn.length)|0,d=a(l);return d.length===0||nn.copy(d,0,0,l),d}if(nn.length!==void 0)return typeof nn.length!="number"||Tr(nn.length)?a(0):cn(nn);if(nn.type==="Buffer"&&Array.isArray(nn.data))return cn(nn.data)}function wn(nn){if(nn>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return nn|0}function kn(nn){return+nn!=nn&&(nn=0),c.alloc(+nn)}c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,d){if(br(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),br(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),!c.isBuffer(l)||!c.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let an=l.length,hn=d.length;for(let _n=0,In=Math.min(an,hn);_n<In;++_n)if(l[_n]!==d[_n]){an=l[_n],hn=d[_n];break}return an<hn?-1:hn<an?1:0},c.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);let an;if(d===void 0)for(d=0,an=0;an<l.length;++an)d+=l[an].length;const hn=c.allocUnsafe(d);let _n=0;for(an=0;an<l.length;++an){let In=l[an];if(br(In,Uint8Array))_n+In.length>hn.length?(c.isBuffer(In)||(In=c.from(In)),In.copy(hn,_n)):Uint8Array.prototype.set.call(hn,In,_n);else if(c.isBuffer(In))In.copy(hn,_n);else throw new TypeError('"list" argument must be an Array of Buffers');_n+=In.length}return hn};function An(nn,l){if(c.isBuffer(nn))return nn.length;if(ArrayBuffer.isView(nn)||br(nn,ArrayBuffer))return nn.byteLength;if(typeof nn!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof nn);const d=nn.length,an=arguments.length>2&&arguments[2]===!0;if(!an&&d===0)return 0;let hn=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return Xn(nn).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return Ar(nn).length;default:if(hn)return an?-1:Xn(nn).length;l=(""+l).toLowerCase(),hn=!0}}c.byteLength=An;function $n(nn,l,d){let an=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(nn||(nn="utf8");;)switch(nn){case"hex":return Hn(this,l,d);case"utf8":case"utf-8":return on(this,l,d);case"ascii":return xn(this,l,d);case"latin1":case"binary":return On(this,l,d);case"base64":return pn(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zn(this,l,d);default:if(an)throw new TypeError("Unknown encoding: "+nn);nn=(nn+"").toLowerCase(),an=!0}}c.prototype._isBuffer=!0;function Mn(nn,l,d){const an=nn[l];nn[l]=nn[d],nn[d]=an}c.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)Mn(this,d,d+1);return this},c.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)Mn(this,d,d+3),Mn(this,d+1,d+2);return this},c.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)Mn(this,d,d+7),Mn(this,d+1,d+6),Mn(this,d+2,d+5),Mn(this,d+3,d+4);return this},c.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?on(this,0,l):$n.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:c.compare(this,l)===0},c.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(l,d,an,hn,_n){if(br(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),an===void 0&&(an=l?l.length:0),hn===void 0&&(hn=0),_n===void 0&&(_n=this.length),d<0||an>l.length||hn<0||_n>this.length)throw new RangeError("out of range index");if(hn>=_n&&d>=an)return 0;if(hn>=_n)return-1;if(d>=an)return 1;if(d>>>=0,an>>>=0,hn>>>=0,_n>>>=0,this===l)return 0;let In=_n-hn,kr=an-d;const Ur=Math.min(In,kr),Pr=this.slice(hn,_n),Kr=l.slice(d,an);for(let Lr=0;Lr<Ur;++Lr)if(Pr[Lr]!==Kr[Lr]){In=Pr[Lr],kr=Kr[Lr];break}return In<kr?-1:kr<In?1:0};function En(nn,l,d,an,hn){if(nn.length===0)return-1;if(typeof d=="string"?(an=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Tr(d)&&(d=hn?0:nn.length-1),d<0&&(d=nn.length+d),d>=nn.length){if(hn)return-1;d=nn.length-1}else if(d<0)if(hn)d=0;else return-1;if(typeof l=="string"&&(l=c.from(l,an)),c.isBuffer(l))return l.length===0?-1:Tn(nn,l,d,an,hn);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?hn?Uint8Array.prototype.indexOf.call(nn,l,d):Uint8Array.prototype.lastIndexOf.call(nn,l,d):Tn(nn,[l],d,an,hn);throw new TypeError("val must be string, number or Buffer")}function Tn(nn,l,d,an,hn){let _n=1,In=nn.length,kr=l.length;if(an!==void 0&&(an=String(an).toLowerCase(),an==="ucs2"||an==="ucs-2"||an==="utf16le"||an==="utf-16le")){if(nn.length<2||l.length<2)return-1;_n=2,In/=2,kr/=2,d/=2}function Ur(Kr,Lr){return _n===1?Kr[Lr]:Kr.readUInt16BE(Lr*_n)}let Pr;if(hn){let Kr=-1;for(Pr=d;Pr<In;Pr++)if(Ur(nn,Pr)===Ur(l,Kr===-1?0:Pr-Kr)){if(Kr===-1&&(Kr=Pr),Pr-Kr+1===kr)return Kr*_n}else Kr!==-1&&(Pr-=Pr-Kr),Kr=-1}else for(d+kr>In&&(d=In-kr),Pr=d;Pr>=0;Pr--){let Kr=!0;for(let Lr=0;Lr<kr;Lr++)if(Ur(nn,Pr+Lr)!==Ur(l,Lr)){Kr=!1;break}if(Kr)return Pr}return-1}c.prototype.includes=function(l,d,an){return this.indexOf(l,d,an)!==-1},c.prototype.indexOf=function(l,d,an){return En(this,l,d,an,!0)},c.prototype.lastIndexOf=function(l,d,an){return En(this,l,d,an,!1)};function Pn(nn,l,d,an){d=Number(d)||0;const hn=nn.length-d;an?(an=Number(an),an>hn&&(an=hn)):an=hn;const _n=l.length;an>_n/2&&(an=_n/2);let In;for(In=0;In<an;++In){const kr=parseInt(l.substr(In*2,2),16);if(Tr(kr))return In;nn[d+In]=kr}return In}function zn(nn,l,d,an){return vr(Xn(l,nn.length-d),nn,d,an)}function Nn(nn,l,d,an){return vr(Er(l),nn,d,an)}function Kn(nn,l,d,an){return vr(Ar(l),nn,d,an)}function _r(nn,l,d,an){return vr(Nr(l,nn.length-d),nn,d,an)}c.prototype.write=function(l,d,an,hn){if(d===void 0)hn="utf8",an=this.length,d=0;else if(an===void 0&&typeof d=="string")hn=d,an=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(an)?(an=an>>>0,hn===void 0&&(hn="utf8")):(hn=an,an=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _n=this.length-d;if((an===void 0||an>_n)&&(an=_n),l.length>0&&(an<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");hn||(hn="utf8");let In=!1;for(;;)switch(hn){case"hex":return Pn(this,l,d,an);case"utf8":case"utf-8":return zn(this,l,d,an);case"ascii":case"latin1":case"binary":return Nn(this,l,d,an);case"base64":return Kn(this,l,d,an);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _r(this,l,d,an);default:if(In)throw new TypeError("Unknown encoding: "+hn);hn=(""+hn).toLowerCase(),In=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pn(nn,l,d){return l===0&&d===nn.length?e.fromByteArray(nn):e.fromByteArray(nn.slice(l,d))}function on(nn,l,d){d=Math.min(nn.length,d);const an=[];let hn=l;for(;hn<d;){const _n=nn[hn];let In=null,kr=_n>239?4:_n>223?3:_n>191?2:1;if(hn+kr<=d){let Ur,Pr,Kr,Lr;switch(kr){case 1:_n<128&&(In=_n);break;case 2:Ur=nn[hn+1],(Ur&192)===128&&(Lr=(_n&31)<<6|Ur&63,Lr>127&&(In=Lr));break;case 3:Ur=nn[hn+1],Pr=nn[hn+2],(Ur&192)===128&&(Pr&192)===128&&(Lr=(_n&15)<<12|(Ur&63)<<6|Pr&63,Lr>2047&&(Lr<55296||Lr>57343)&&(In=Lr));break;case 4:Ur=nn[hn+1],Pr=nn[hn+2],Kr=nn[hn+3],(Ur&192)===128&&(Pr&192)===128&&(Kr&192)===128&&(Lr=(_n&15)<<18|(Ur&63)<<12|(Pr&63)<<6|Kr&63,Lr>65535&&Lr<1114112&&(In=Lr))}}In===null?(In=65533,kr=1):In>65535&&(In-=65536,an.push(In>>>10&1023|55296),In=56320|In&1023),an.push(In),hn+=kr}return vn(an)}const ln=4096;function vn(nn){const l=nn.length;if(l<=ln)return String.fromCharCode.apply(String,nn);let d="",an=0;for(;an<l;)d+=String.fromCharCode.apply(String,nn.slice(an,an+=ln));return d}function xn(nn,l,d){let an="";d=Math.min(nn.length,d);for(let hn=l;hn<d;++hn)an+=String.fromCharCode(nn[hn]&127);return an}function On(nn,l,d){let an="";d=Math.min(nn.length,d);for(let hn=l;hn<d;++hn)an+=String.fromCharCode(nn[hn]);return an}function Hn(nn,l,d){const an=nn.length;(!l||l<0)&&(l=0),(!d||d<0||d>an)&&(d=an);let hn="";for(let _n=l;_n<d;++_n)hn+=$r[nn[_n]];return hn}function Zn(nn,l,d){const an=nn.slice(l,d);let hn="";for(let _n=0;_n<an.length-1;_n+=2)hn+=String.fromCharCode(an[_n]+an[_n+1]*256);return hn}c.prototype.slice=function(l,d){const an=this.length;l=~~l,d=d===void 0?an:~~d,l<0?(l+=an,l<0&&(l=0)):l>an&&(l=an),d<0?(d+=an,d<0&&(d=0)):d>an&&(d=an),d<l&&(d=l);const hn=this.subarray(l,d);return Object.setPrototypeOf(hn,c.prototype),hn};function Rn(nn,l,d){if(nn%1!==0||nn<0)throw new RangeError("offset is not uint");if(nn+l>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l],_n=1,In=0;for(;++In<d&&(_n*=256);)hn+=this[l+In]*_n;return hn},c.prototype.readUintBE=c.prototype.readUIntBE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l+--d],_n=1;for(;d>0&&(_n*=256);)hn+=this[l+--d]*_n;return hn},c.prototype.readUint8=c.prototype.readUInt8=function(l,d){return l=l>>>0,d||Rn(l,1,this.length),this[l]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||Rn(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||Rn(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readBigUInt64LE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,_n=this[++l]+this[++l]*2**8+this[++l]*2**16+an*2**24;return BigInt(hn)+(BigInt(_n)<<BigInt(32))}),c.prototype.readBigUInt64BE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],_n=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+an;return(BigInt(hn)<<BigInt(32))+BigInt(_n)}),c.prototype.readIntLE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l],_n=1,In=0;for(;++In<d&&(_n*=256);)hn+=this[l+In]*_n;return _n*=128,hn>=_n&&(hn-=Math.pow(2,8*d)),hn},c.prototype.readIntBE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=d,_n=1,In=this[l+--hn];for(;hn>0&&(_n*=256);)In+=this[l+--hn]*_n;return _n*=128,In>=_n&&(In-=Math.pow(2,8*d)),In},c.prototype.readInt8=function(l,d){return l=l>>>0,d||Rn(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},c.prototype.readInt16LE=function(l,d){l=l>>>0,d||Rn(l,2,this.length);const an=this[l]|this[l+1]<<8;return an&32768?an|4294901760:an},c.prototype.readInt16BE=function(l,d){l=l>>>0,d||Rn(l,2,this.length);const an=this[l+1]|this[l]<<8;return an&32768?an|4294901760:an},c.prototype.readInt32LE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readBigInt64LE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(an<<24);return(BigInt(hn)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),c.prototype.readBigInt64BE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(hn)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+an)}),c.prototype.readFloatLE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),n.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),n.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||Rn(l,8,this.length),n.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||Rn(l,8,this.length),n.read(this,l,!1,52,8)};function fn(nn,l,d,an,hn,_n){if(!c.isBuffer(nn))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>hn||l<_n)throw new RangeError('"value" argument is out of bounds');if(d+an>nn.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(l,d,an,hn){if(l=+l,d=d>>>0,an=an>>>0,!hn){const kr=Math.pow(2,8*an)-1;fn(this,l,d,an,kr,0)}let _n=1,In=0;for(this[d]=l&255;++In<an&&(_n*=256);)this[d+In]=l/_n&255;return d+an},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(l,d,an,hn){if(l=+l,d=d>>>0,an=an>>>0,!hn){const kr=Math.pow(2,8*an)-1;fn(this,l,d,an,kr,0)}let _n=an-1,In=1;for(this[d+_n]=l&255;--_n>=0&&(In*=256);)this[d+_n]=l/In&255;return d+an},c.prototype.writeUint8=c.prototype.writeUInt8=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,1,255,0),this[d]=l&255,d+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function Dn(nn,l,d,an,hn){wr(l,an,hn,nn,d,7);let _n=Number(l&BigInt(4294967295));nn[d++]=_n,_n=_n>>8,nn[d++]=_n,_n=_n>>8,nn[d++]=_n,_n=_n>>8,nn[d++]=_n;let In=Number(l>>BigInt(32)&BigInt(4294967295));return nn[d++]=In,In=In>>8,nn[d++]=In,In=In>>8,nn[d++]=In,In=In>>8,nn[d++]=In,d}function Hr(nn,l,d,an,hn){wr(l,an,hn,nn,d,7);let _n=Number(l&BigInt(4294967295));nn[d+7]=_n,_n=_n>>8,nn[d+6]=_n,_n=_n>>8,nn[d+5]=_n,_n=_n>>8,nn[d+4]=_n;let In=Number(l>>BigInt(32)&BigInt(4294967295));return nn[d+3]=In,In=In>>8,nn[d+2]=In,In=In>>8,nn[d+1]=In,In=In>>8,nn[d]=In,d+8}c.prototype.writeBigUInt64LE=Br(function(l,d=0){return Dn(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Br(function(l,d=0){return Hr(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(l,d,an,hn){if(l=+l,d=d>>>0,!hn){const Ur=Math.pow(2,8*an-1);fn(this,l,d,an,Ur-1,-Ur)}let _n=0,In=1,kr=0;for(this[d]=l&255;++_n<an&&(In*=256);)l<0&&kr===0&&this[d+_n-1]!==0&&(kr=1),this[d+_n]=(l/In>>0)-kr&255;return d+an},c.prototype.writeIntBE=function(l,d,an,hn){if(l=+l,d=d>>>0,!hn){const Ur=Math.pow(2,8*an-1);fn(this,l,d,an,Ur-1,-Ur)}let _n=an-1,In=1,kr=0;for(this[d+_n]=l&255;--_n>=0&&(In*=256);)l<0&&kr===0&&this[d+_n+1]!==0&&(kr=1),this[d+_n]=(l/In>>0)-kr&255;return d+an},c.prototype.writeInt8=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},c.prototype.writeInt16LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeInt16BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeInt32LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},c.prototype.writeInt32BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},c.prototype.writeBigInt64LE=Br(function(l,d=0){return Dn(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Br(function(l,d=0){return Hr(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fn(nn,l,d,an,hn,_n){if(d+an>nn.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Vn(nn,l,d,an,hn){return l=+l,d=d>>>0,hn||Fn(nn,l,d,4),n.write(nn,l,d,an,23,4),d+4}c.prototype.writeFloatLE=function(l,d,an){return Vn(this,l,d,!0,an)},c.prototype.writeFloatBE=function(l,d,an){return Vn(this,l,d,!1,an)};function Gn(nn,l,d,an,hn){return l=+l,d=d>>>0,hn||Fn(nn,l,d,8),n.write(nn,l,d,an,52,8),d+8}c.prototype.writeDoubleLE=function(l,d,an){return Gn(this,l,d,!0,an)},c.prototype.writeDoubleBE=function(l,d,an){return Gn(this,l,d,!1,an)},c.prototype.copy=function(l,d,an,hn){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(an||(an=0),!hn&&hn!==0&&(hn=this.length),d>=l.length&&(d=l.length),d||(d=0),hn>0&&hn<an&&(hn=an),hn===an||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(an<0||an>=this.length)throw new RangeError("Index out of range");if(hn<0)throw new RangeError("sourceEnd out of bounds");hn>this.length&&(hn=this.length),l.length-d<hn-an&&(hn=l.length-d+an);const _n=hn-an;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,an,hn):Uint8Array.prototype.set.call(l,this.subarray(an,hn),d),_n},c.prototype.fill=function(l,d,an,hn){if(typeof l=="string"){if(typeof d=="string"?(hn=d,d=0,an=this.length):typeof an=="string"&&(hn=an,an=this.length),hn!==void 0&&typeof hn!="string")throw new TypeError("encoding must be a string");if(typeof hn=="string"&&!c.isEncoding(hn))throw new TypeError("Unknown encoding: "+hn);if(l.length===1){const In=l.charCodeAt(0);(hn==="utf8"&&In<128||hn==="latin1")&&(l=In)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<an)throw new RangeError("Out of range index");if(an<=d)return this;d=d>>>0,an=an===void 0?this.length:an>>>0,l||(l=0);let _n;if(typeof l=="number")for(_n=d;_n<an;++_n)this[_n]=l;else{const In=c.isBuffer(l)?l:c.from(l,hn),kr=In.length;if(kr===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(_n=0;_n<an-d;++_n)this[_n+d]=In[_n%kr]}return this};const Yn={};function gr(nn,l,d){Yn[nn]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${nn}]`,this.stack,delete this.name}get code(){return nn}set code(hn){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:hn,writable:!0})}toString(){return`${this.name} [${nn}]: ${this.message}`}}}gr("ERR_BUFFER_OUT_OF_BOUNDS",function(nn){return nn?`${nn} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),gr("ERR_INVALID_ARG_TYPE",function(nn,l){return`The "${nn}" argument must be of type number. Received type ${typeof l}`},TypeError),gr("ERR_OUT_OF_RANGE",function(nn,l,d){let an=`The value of "${nn}" is out of range.`,hn=d;return Number.isInteger(d)&&Math.abs(d)>2**32?hn=Or(String(d)):typeof d=="bigint"&&(hn=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(hn=Or(hn)),hn+="n"),an+=` It must be ${l}. Received ${hn}`,an},RangeError);function Or(nn){let l="",d=nn.length;const an=nn[0]==="-"?1:0;for(;d>=an+4;d-=3)l=`_${nn.slice(d-3,d)}${l}`;return`${nn.slice(0,d)}${l}`}function Ir(nn,l,d){Ln(l,"offset"),(nn[l]===void 0||nn[l+d]===void 0)&&Un(l,nn.length-(d+1))}function wr(nn,l,d,an,hn,_n){if(nn>d||nn<l){const In=typeof l=="bigint"?"n":"";let kr;throw _n>3?l===0||l===BigInt(0)?kr=`>= 0${In} and < 2${In} ** ${(_n+1)*8}${In}`:kr=`>= -(2${In} ** ${(_n+1)*8-1}${In}) and < 2 ** ${(_n+1)*8-1}${In}`:kr=`>= ${l}${In} and <= ${d}${In}`,new Yn.ERR_OUT_OF_RANGE("value",kr,nn)}Ir(an,hn,_n)}function Ln(nn,l){if(typeof nn!="number")throw new Yn.ERR_INVALID_ARG_TYPE(l,"number",nn)}function Un(nn,l,d){throw Math.floor(nn)!==nn?(Ln(nn,d),new Yn.ERR_OUT_OF_RANGE(d||"offset","an integer",nn)):l<0?new Yn.ERR_BUFFER_OUT_OF_BOUNDS:new Yn.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${l}`,nn)}const qn=/[^+/0-9A-Za-z-_]/g;function Sr(nn){if(nn=nn.split("=")[0],nn=nn.trim().replace(qn,""),nn.length<2)return"";for(;nn.length%4!==0;)nn=nn+"=";return nn}function Xn(nn,l){l=l||1/0;let d;const an=nn.length;let hn=null;const _n=[];for(let In=0;In<an;++In){if(d=nn.charCodeAt(In),d>55295&&d<57344){if(!hn){if(d>56319){(l-=3)>-1&&_n.push(239,191,189);continue}else if(In+1===an){(l-=3)>-1&&_n.push(239,191,189);continue}hn=d;continue}if(d<56320){(l-=3)>-1&&_n.push(239,191,189),hn=d;continue}d=(hn-55296<<10|d-56320)+65536}else hn&&(l-=3)>-1&&_n.push(239,191,189);if(hn=null,d<128){if((l-=1)<0)break;_n.push(d)}else if(d<2048){if((l-=2)<0)break;_n.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;_n.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;_n.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return _n}function Er(nn){const l=[];for(let d=0;d<nn.length;++d)l.push(nn.charCodeAt(d)&255);return l}function Nr(nn,l){let d,an,hn;const _n=[];for(let In=0;In<nn.length&&!((l-=2)<0);++In)d=nn.charCodeAt(In),an=d>>8,hn=d%256,_n.push(hn),_n.push(an);return _n}function Ar(nn){return e.toByteArray(Sr(nn))}function vr(nn,l,d,an){let hn;for(hn=0;hn<an&&!(hn+d>=l.length||hn>=nn.length);++hn)l[hn+d]=nn[hn];return hn}function br(nn,l){return nn instanceof l||nn!=null&&nn.constructor!=null&&nn.constructor.name!=null&&nn.constructor.name===l.name}function Tr(nn){return nn!==nn}const $r=function(){const nn="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const an=d*16;for(let hn=0;hn<16;++hn)l[an+hn]=nn[d]+nn[hn]}return l}();function Br(nn){return typeof BigInt>"u"?Fr:nn}function Fr(){throw new Error("BigInt not supported")}})(buffer$2);var events={exports:{}},R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},ReflectOwnKeys;R$1&&typeof R$1.ownKeys=="function"?ReflectOwnKeys=R$1.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ReflectOwnKeys=function(e){return Object.getOwnPropertyNames(e)};function ProcessEmitWarning(t){console&&console.warn&&console.warn(t)}var NumberIsNaN=Number.isNaN||function(e){return e!==e};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once$1;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");defaultMaxListeners=t}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _getMaxListeners(t){return t._maxListeners===void 0?EventEmitter.defaultMaxListeners:t._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var o=e==="error",s=this._events;if(s!==void 0)o=o&&s.error===void 0;else if(!o)return!1;if(o){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var m=s[e];if(m===void 0)return!1;if(typeof m=="function")ReflectApply(m,this,n);else for(var en=m.length,tn=arrayClone(m,en),r=0;r<en;++r)ReflectApply(tn[r],this,n);return!0};function _addListener(t,e,n,r){var o,s,a;if(checkListener(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),o=_getMaxListeners(t),o>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,ProcessEmitWarning(c)}return t}EventEmitter.prototype.addListener=function(e,n){return _addListener(this,e,n,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(e,n){return _addListener(this,e,n,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=onceWrapper.bind(r);return o.listener=n,r.wrapFn=o,o}EventEmitter.prototype.once=function(e,n){return checkListener(n),this.on(e,_onceWrap(this,e,n)),this};EventEmitter.prototype.prependOnceListener=function(e,n){return checkListener(n),this.prependListener(e,_onceWrap(this,e,n)),this};EventEmitter.prototype.removeListener=function(e,n){var r,o,s,a,c;if(checkListener(n),o=this._events,o===void 0)return this;if(r=o[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){c=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():spliceOne(r,s),r.length===1&&(o[e]=r[0]),o.removeListener!==void 0&&this.emit("removeListener",e,c||n)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(e){var n,r,o;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),a;for(o=0;o<s.length;++o)a=s[o],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(o=n.length-1;o>=0;o--)this.removeListener(e,n[o]);return this};function _listeners(t,e,n){var r=t._events;if(r===void 0)return[];var o=r[e];return o===void 0?[]:typeof o=="function"?n?[o.listener||o]:[o]:n?unwrapListeners(o):arrayClone(o,o.length)}EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)};EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)};EventEmitter.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):listenerCount.call(t,e)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function spliceOne(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function unwrapListeners(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function once$1(t,e){return new Promise(function(n,r){function o(a){t.removeListener(e,s),r(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",o),n([].slice.call(arguments))}eventTargetAgnosticAddListener(t,e,s,{once:!0}),e!=="error"&&addErrorHandlerIfEventEmitter(t,o,{once:!0})})}function addErrorHandlerIfEventEmitter(t,e,n){typeof t.on=="function"&&eventTargetAgnosticAddListener(t,"error",e,n)}function eventTargetAgnosticAddListener(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(s){r.once&&t.removeEventListener(e,o),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}window.Buffer=buffer$2.Buffer;window.process=browser$3.exports;window.EventEmitter=events.exports;function makeMap(t,e){const n=Object.create(null),r=t.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function normalizeStyle(t){if(isArray$2(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=isString$1(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const s in o)e[s]=o[s]}return e}else{if(isString$1(t))return t;if(isObject$3(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(t){const e={};return t.split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$1(t))e=t;else if(isArray$2(t))for(let n=0;n<t.length;n++){const r=normalizeClass(t[n]);r&&(e+=r+" ")}else if(isObject$3(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=looseEqual(t[r],e[r]);return n}function looseEqual(t,e){if(t===e)return!0;let n=isDate$1(t),r=isDate$1(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=isSymbol(t),r=isSymbol(e),n||r)return t===e;if(n=isArray$2(t),r=isArray$2(e),n||r)return n&&r?looseCompareArrays(t,e):!1;if(n=isObject$3(t),r=isObject$3(e),n||r){if(!n||!r)return!1;const o=Object.keys(t).length,s=Object.keys(e).length;if(o!==s)return!1;for(const a in t){const c=t.hasOwnProperty(a),m=e.hasOwnProperty(a);if(c&&!m||!c&&m||!looseEqual(t[a],e[a]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(n=>looseEqual(n,e))}const toDisplayString=t=>isString$1(t)?t:t==null?"":isArray$2(t)||isObject$3(t)&&(t.toString===objectToString$1||!isFunction$2(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$3(e)&&!isArray$2(e)&&!isPlainObject$2(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove$1=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn$1=(t,e)=>hasOwnProperty$1.call(t,e),isArray$2=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isDate$1=t=>toTypeString(t)==="[object Date]",isFunction$2=t=>typeof t=="function",isString$1=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$3=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$3(t)&&isFunction$2(t.then)&&isFunction$2(t.catch),objectToString$1=Object.prototype.toString,toTypeString=t=>objectToString$1.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$2=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},def=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},toNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active){const n=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const o=e[r];wasTracked(o)&&!newTracked(o)?o.delete(t):e[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let e=activeEffect,n=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,n){if(shouldTrack&&activeEffect){let r=targetMap.get(t);r||targetMap.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=createDep()),trackEffects(o)}}function trackEffects(t,e){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,n=!wasTracked(t)):n=!t.has(activeEffect),n&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,n,r,o,s){const a=targetMap.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&isArray$2(t))a.forEach((m,en)=>{(en==="length"||en>=r)&&c.push(m)});else switch(n!==void 0&&c.push(a.get(n)),e){case"add":isArray$2(t)?isIntegerKey(n)&&c.push(a.get("length")):(c.push(a.get(ITERATE_KEY)),isMap(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(t)||(c.push(a.get(ITERATE_KEY)),isMap(t)&&c.push(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&c.push(a.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const m=[];for(const en of c)en&&m.push(...en);triggerEffects(createDep(m))}}function triggerEffects(t,e){const n=isArray$2(t)?t:[...t];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=toRaw(this);for(let s=0,a=this.length;s<a;s++)track(r,"get",s+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pauseTracking();const r=toRaw(this)[e].apply(this,n);return resetTracking(),r}}),t}function createGetter(t=!1,e=!1){return function(r,o,s){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&s===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(r))return r;const a=isArray$2(r);if(!t&&a&&hasOwn$1(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,s);const c=Reflect.get(r,o,s);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(t||track(r,"get",o),e)?c:isRef(c)?a&&isIntegerKey(o)?c:c.value:isObject$3(c)?t?readonly(c):reactive(c):c}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(n,r,o,s){let a=n[r];if(isReadonly(a)&&isRef(a)&&!isRef(o))return!1;if(!t&&(!isShallow(o)&&!isReadonly(o)&&(a=toRaw(a),o=toRaw(o)),!isArray$2(n)&&isRef(a)&&!isRef(o)))return a.value=o,!0;const c=isArray$2(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn$1(n,r),m=Reflect.set(n,r,o,s);return n===toRaw(s)&&(c?hasChanged(o,a)&&trigger(n,"set",r,o):trigger(n,"add",r,o)),m}}function deleteProperty(t,e){const n=hasOwn$1(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&trigger(t,"delete",e,void 0),r}function has$1(t,e){const n=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),n}function ownKeys$1(t){return track(t,"iterate",isArray$2(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get$1$1(t,e,n=!1,r=!1){t=t.__v_raw;const o=toRaw(t),s=toRaw(e);n||(e!==s&&track(o,"get",e),track(o,"get",s));const{has:a}=getProto(o),c=r?toShallow:n?toReadonly:toReactive;if(a.call(o,e))return c(t.get(e));if(a.call(o,s))return c(t.get(s));t!==o&&t.get(e)}function has$1$1(t,e=!1){const n=this.__v_raw,r=toRaw(n),o=toRaw(t);return e||(t!==o&&track(r,"has",t),track(r,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add$1(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$1$1(t,e){e=toRaw(e);const n=toRaw(this),{has:r,get:o}=getProto(n);let s=r.call(n,t);s||(t=toRaw(t),s=r.call(n,t));const a=o.call(n,t);return n.set(t,e),s?hasChanged(e,a)&&trigger(n,"set",t,e):trigger(n,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:n,get:r}=getProto(e);let o=n.call(e,t);o||(t=toRaw(t),o=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return o&&trigger(e,"delete",t,void 0),s}function clear(){const t=toRaw(this),e=t.size!==0,n=t.clear();return e&&trigger(t,"clear",void 0,void 0),n}function createForEach(t,e){return function(r,o){const s=this,a=s.__v_raw,c=toRaw(a),m=e?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",ITERATE_KEY),a.forEach((en,tn)=>r.call(o,m(en),m(tn),s))}}function createIterableMethod(t,e,n){return function(...r){const o=this.__v_raw,s=toRaw(o),a=isMap(s),c=t==="entries"||t===Symbol.iterator&&a,m=t==="keys"&&a,en=o[t](...r),tn=n?toShallow:e?toReadonly:toReactive;return!e&&track(s,"iterate",m?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:sn,done:un}=en.next();return un?{value:sn,done:un}:{value:c?[tn(sn[0]),tn(sn[1])]:tn(sn),done:un}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(s){return get$1$1(this,s)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(s){return get$1$1(this,s,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(s){return get$1$1(this,s,!0)},get size(){return size(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(s){return get$1$1(this,s,!0,!0)},get size(){return size(this,!0)},has(s){return has$1$1.call(this,s,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=createIterableMethod(s,!1,!1),n[s]=createIterableMethod(s,!0,!1),e[s]=createIterableMethod(s,!1,!0),r[s]=createIterableMethod(s,!0,!0)}),[t,n,e,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const n=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(r,o,s)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(hasOwn$1(n,o)&&o in r?n:r,o,s)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,e,n,r,o){if(!isObject$3(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=o.get(t);if(s)return s;const a=getTargetType(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return o.set(t,c),c}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$3(t)?reactive(t):t,toReadonly=t=>isObject$3(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:toRaw(e),this._value=n?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const n=this.__v_isShallow||isShallow(e)||isReadonly(e);e=n?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:toReactive(e),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,n)=>unref(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}function toRefs(t){const e=isArray$2(t)?new Array(t.length):{};for(const n in t)e[n]=toRef(t,n);return e}class ObjectRefImpl{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function toRef(t,e,n){const r=t[e];return isRef(r)?r:new ObjectRefImpl(t,e,n)}var _a;class ComputedRefImpl{constructor(e,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}_a="__v_isReadonly";function computed$2(t,e,n=!1){let r,o;const s=isFunction$2(t);return s?(r=t,o=NOOP$1):(r=t.get,o=t.set),new ComputedRefImpl(r,o,s||!o,n)}function callWithErrorHandling(t,e,n,r){let o;try{o=r?t(...r):t()}catch(s){handleError(s,e,n)}return o}function callWithAsyncErrorHandling(t,e,n,r){if(isFunction$2(t)){const s=callWithErrorHandling(t,e,n,r);return s&&isPromise(s)&&s.catch(a=>{handleError(a,e,n)}),s}const o=[];for(let s=0;s<t.length;s++)o.push(callWithAsyncErrorHandling(t[s],e,n,r));return o}function handleError(t,e,n,r=!0){const o=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=n;for(;s;){const en=s.ec;if(en){for(let tn=0;tn<en.length;tn++)if(en[tn](t,a,c)===!1)return}s=s.parent}const m=e.appContext.config.errorHandler;if(m){callWithErrorHandling(m,null,10,[t,a,c]);return}}logError(t,n,o,r)}function logError(t,e,n,r=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,n=queue.length;for(;e<n;){const r=e+n>>>1;getId(queue[r])<t?e=r+1:n=r}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$2(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const n=queue[e];n&&n.pre&&(queue.splice(e,1),e--,n())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const n=getId(t)-getId(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP$1;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||EMPTY_OBJ;let o=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const tn=`${a==="modelValue"?"model":a}Modifiers`,{number:sn,trim:un}=r[tn]||EMPTY_OBJ;un&&(o=n.map(cn=>cn.trim())),sn&&(o=n.map(toNumber))}let c,m=r[c=toHandlerKey(e)]||r[c=toHandlerKey(camelize(e))];!m&&s&&(m=r[c=toHandlerKey(hyphenate(e))]),m&&callWithAsyncErrorHandling(m,t,6,o);const en=r[c+"Once"];if(en){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,callWithAsyncErrorHandling(en,t,6,o)}}function normalizeEmitsOptions(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const s=t.emits;let a={},c=!1;if(!isFunction$2(t)){const m=en=>{const tn=normalizeEmitsOptions(en,e,!0);tn&&(c=!0,extend(a,tn))};!n&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}return!s&&!c?(isObject$3(t)&&r.set(t,null),null):(isArray$2(s)?s.forEach(m=>a[m]=null):extend(a,s),isObject$3(t)&&r.set(t,a),a)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$1(t,e[0].toLowerCase()+e.slice(1))||hasOwn$1(t,hyphenate(e))||hasOwn$1(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function withCtx(t,e=currentRenderingInstance,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&setBlockTracking(-1);const s=setCurrentRenderingInstance(e),a=t(...o);return setCurrentRenderingInstance(s),r._d&&setBlockTracking(1),a};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:c,attrs:m,emit:en,render:tn,renderCache:sn,data:un,setupState:cn,ctx:gn,inheritAttrs:mn}=t;let yn,wn;const kn=setCurrentRenderingInstance(t);try{if(n.shapeFlag&4){const $n=o||r;yn=normalizeVNode(tn.call($n,$n,sn,s,cn,un,gn)),wn=m}else{const $n=e;yn=normalizeVNode($n.length>1?$n(s,{attrs:m,slots:c,emit:en}):$n(s,null)),wn=e.props?m:getFunctionalFallthrough(m)}}catch($n){blockStack.length=0,handleError($n,t,1),yn=createVNode(Comment)}let An=yn;if(wn&&mn!==!1){const $n=Object.keys(wn),{shapeFlag:Mn}=An;$n.length&&Mn&7&&(a&&$n.some(isModelListener)&&(wn=filterModelListeners(wn,a)),An=cloneVNode(An,wn))}return n.dirs&&(An=cloneVNode(An),An.dirs=An.dirs?An.dirs.concat(n.dirs):n.dirs),n.transition&&(An.transition=n.transition),yn=An,setCurrentRenderingInstance(kn),yn}const getFunctionalFallthrough=t=>{let e;for(const n in t)(n==="class"||n==="style"||isOn(n))&&((e||(e={}))[n]=t[n]);return e},filterModelListeners=(t,e)=>{const n={};for(const r in t)(!isModelListener(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function shouldUpdateComponent(t,e,n){const{props:r,children:o,component:s}=t,{props:a,children:c,patchFlag:m}=e,en=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&m>=0){if(m&1024)return!0;if(m&16)return r?hasPropsChanged(r,a,en):!!a;if(m&8){const tn=e.dynamicProps;for(let sn=0;sn<tn.length;sn++){const un=tn[sn];if(a[un]!==r[un]&&!isEmitListener(en,un))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?hasPropsChanged(r,a,en):!0:!!a;return!1}function hasPropsChanged(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(e[s]!==t[s]&&!isEmitListener(n,s))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$2(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function provide(t,e){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[t]=e}}function inject(t,e,n=!1){const r=currentInstance||currentRenderingInstance;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&isFunction$2(e)?e.call(r.proxy):e}}const INITIAL_WATCHER_VALUE={};function watch(t,e,n){return doWatch(t,e,n)}function doWatch(t,e,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=EMPTY_OBJ){const c=currentInstance;let m,en=!1,tn=!1;if(isRef(t)?(m=()=>t.value,en=isShallow(t)):isReactive(t)?(m=()=>t,r=!0):isArray$2(t)?(tn=!0,en=t.some(wn=>isReactive(wn)||isShallow(wn)),m=()=>t.map(wn=>{if(isRef(wn))return wn.value;if(isReactive(wn))return traverse(wn);if(isFunction$2(wn))return callWithErrorHandling(wn,c,2)})):isFunction$2(t)?e?m=()=>callWithErrorHandling(t,c,2):m=()=>{if(!(c&&c.isUnmounted))return sn&&sn(),callWithAsyncErrorHandling(t,c,3,[un])}:m=NOOP$1,e&&r){const wn=m;m=()=>traverse(wn())}let sn,un=wn=>{sn=yn.onStop=()=>{callWithErrorHandling(wn,c,4)}};if(isInSSRComponentSetup)return un=NOOP$1,e?n&&callWithAsyncErrorHandling(e,c,3,[m(),tn?[]:void 0,un]):m(),NOOP$1;let cn=tn?[]:INITIAL_WATCHER_VALUE;const gn=()=>{if(!!yn.active)if(e){const wn=yn.run();(r||en||(tn?wn.some((kn,An)=>hasChanged(kn,cn[An])):hasChanged(wn,cn)))&&(sn&&sn(),callWithAsyncErrorHandling(e,c,3,[wn,cn===INITIAL_WATCHER_VALUE?void 0:cn,un]),cn=wn)}else yn.run()};gn.allowRecurse=!!e;let mn;o==="sync"?mn=gn:o==="post"?mn=()=>queuePostRenderEffect(gn,c&&c.suspense):(gn.pre=!0,c&&(gn.id=c.uid),mn=()=>queueJob(gn));const yn=new ReactiveEffect(m,mn);return e?n?gn():cn=yn.run():o==="post"?queuePostRenderEffect(yn.run.bind(yn),c&&c.suspense):yn.run(),()=>{yn.stop(),c&&c.scope&&remove$1(c.scope.effects,yn)}}function instanceWatch(t,e,n){const r=this.proxy,o=isString$1(t)?t.includes(".")?createPathGetter(r,t):()=>r[t]:t.bind(r,r);let s;isFunction$2(e)?s=e:(s=e.handler,n=e);const a=currentInstance;setCurrentInstance(this);const c=doWatch(o,s.bind(r),n);return a?setCurrentInstance(a):unsetCurrentInstance(),c}function createPathGetter(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function traverse(t,e){if(!isObject$3(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$2(t))for(let n=0;n<t.length;n++)traverse(t[n],e);else if(isSet(t)||isMap(t))t.forEach(n=>{traverse(n,e)});else if(isPlainObject$2(t))for(const n in t)traverse(t[n],e);return t}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(t,{slots:e}){const n=getCurrentInstance(),r=useTransitionState();let o;return()=>{const s=e.default&&getTransitionRawChildren(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const mn of s)if(mn.type!==Comment){a=mn;break}}const c=toRaw(t),{mode:m}=c;if(r.isLeaving)return emptyPlaceholder(a);const en=getKeepAliveChild(a);if(!en)return emptyPlaceholder(a);const tn=resolveTransitionHooks(en,c,r,n);setTransitionHooks(en,tn);const sn=n.subTree,un=sn&&getKeepAliveChild(sn);let cn=!1;const{getTransitionKey:gn}=en.type;if(gn){const mn=gn();o===void 0?o=mn:mn!==o&&(o=mn,cn=!0)}if(un&&un.type!==Comment&&(!isSameVNodeType(en,un)||cn)){const mn=resolveTransitionHooks(un,c,r,n);if(setTransitionHooks(un,mn),m==="out-in")return r.isLeaving=!0,mn.afterLeave=()=>{r.isLeaving=!1,n.update()},emptyPlaceholder(a);m==="in-out"&&en.type!==Comment&&(mn.delayLeave=(yn,wn,kn)=>{const An=getLeavingNodesForType(r,un);An[String(un.key)]=un,yn._leaveCb=()=>{wn(),yn._leaveCb=void 0,delete tn.delayedLeave},tn.delayedLeave=kn})}return a}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function resolveTransitionHooks(t,e,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:m,onAfterEnter:en,onEnterCancelled:tn,onBeforeLeave:sn,onLeave:un,onAfterLeave:cn,onLeaveCancelled:gn,onBeforeAppear:mn,onAppear:yn,onAfterAppear:wn,onAppearCancelled:kn}=e,An=String(t.key),$n=getLeavingNodesForType(n,t),Mn=(Pn,zn)=>{Pn&&callWithAsyncErrorHandling(Pn,r,9,zn)},En=(Pn,zn)=>{const Nn=zn[1];Mn(Pn,zn),isArray$2(Pn)?Pn.every(Kn=>Kn.length<=1)&&Nn():Pn.length<=1&&Nn()},Tn={mode:s,persisted:a,beforeEnter(Pn){let zn=c;if(!n.isMounted)if(o)zn=mn||c;else return;Pn._leaveCb&&Pn._leaveCb(!0);const Nn=$n[An];Nn&&isSameVNodeType(t,Nn)&&Nn.el._leaveCb&&Nn.el._leaveCb(),Mn(zn,[Pn])},enter(Pn){let zn=m,Nn=en,Kn=tn;if(!n.isMounted)if(o)zn=yn||m,Nn=wn||en,Kn=kn||tn;else return;let _r=!1;const pn=Pn._enterCb=on=>{_r||(_r=!0,on?Mn(Kn,[Pn]):Mn(Nn,[Pn]),Tn.delayedLeave&&Tn.delayedLeave(),Pn._enterCb=void 0)};zn?En(zn,[Pn,pn]):pn()},leave(Pn,zn){const Nn=String(t.key);if(Pn._enterCb&&Pn._enterCb(!0),n.isUnmounting)return zn();Mn(sn,[Pn]);let Kn=!1;const _r=Pn._leaveCb=pn=>{Kn||(Kn=!0,zn(),pn?Mn(gn,[Pn]):Mn(cn,[Pn]),Pn._leaveCb=void 0,$n[Nn]===t&&delete $n[Nn])};$n[Nn]=t,un?En(un,[Pn,_r]):_r()},clone(Pn){return resolveTransitionHooks(Pn,e,n,r)}};return Tn}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,n){let r=[],o=0;for(let s=0;s<t.length;s++){let a=t[s];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Fragment?(a.patchFlag&128&&o++,r=r.concat(getTransitionRawChildren(a.children,e,c))):(e||a.type!==Comment)&&r.push(c!=null?cloneVNode(a,{key:c}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function defineComponent(t){return isFunction$2(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,n=currentInstance){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(e,r,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,e,n,o),o=o.parent}}function injectToKeepAliveRoot(t,e,n,r){const o=injectHook(e,t,r,!0);onUnmounted(()=>{remove$1(r[e],o)},n)}function injectHook(t,e,n=currentInstance,r=!1){if(n){const o=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const c=callWithAsyncErrorHandling(e,n,t,a);return unsetCurrentInstance(),resetTracking(),c});return r?o.unshift(s):o.push(s),s}}const createHook=t=>(e,n=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,e,n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}function withDirectives(t,e){const n=currentRenderingInstance;if(n===null)return t;const r=getExposeProxy(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,m,en=EMPTY_OBJ]=e[s];isFunction$2(a)&&(a={mounted:a,updated:a}),a.deep&&traverse(c),o.push({dir:a,instance:r,value:c,oldValue:void 0,arg:m,modifiers:en})}return t}function invokeDirectiveHook(t,e,n,r){const o=t.dirs,s=e&&e.dirs;for(let a=0;a<o.length;a++){const c=o[a];s&&(c.oldValue=s[a].value);let m=c.dir[r];m&&(pauseTracking(),callWithAsyncErrorHandling(m,n,8,[t.el,c,t,e]),resetTracking())}}const COMPONENTS="components";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(t,e,n=!0,r=!1){const o=currentRenderingInstance||currentInstance;if(o){const s=o.type;if(t===COMPONENTS){const c=getComponentName(s,!1);if(c&&(c===e||c===camelize(e)||c===capitalize(camelize(e))))return s}const a=resolve(o[t]||s[t],e)||resolve(o.appContext[t],e);return!a&&r?s:a}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,n,r){let o;const s=n&&n[r];if(isArray$2(t)||isString$1(t)){o=new Array(t.length);for(let a=0,c=t.length;a<c;a++)o[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,s&&s[a])}else if(isObject$3(t))if(t[Symbol.iterator])o=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);o=new Array(a.length);for(let c=0,m=a.length;c<m;c++){const en=a[c];o[c]=e(t[en],en,c,s&&s[c])}}else o=[];return n&&(n[r]=o),o}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:c,appContext:m}=t;let en;if(e[0]!=="$"){const cn=a[e];if(cn!==void 0)switch(cn){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return s[e]}else{if(r!==EMPTY_OBJ&&hasOwn$1(r,e))return a[e]=1,r[e];if(o!==EMPTY_OBJ&&hasOwn$1(o,e))return a[e]=2,o[e];if((en=t.propsOptions[0])&&hasOwn$1(en,e))return a[e]=3,s[e];if(n!==EMPTY_OBJ&&hasOwn$1(n,e))return a[e]=4,n[e];shouldCacheAccess&&(a[e]=0)}}const tn=publicPropertiesMap[e];let sn,un;if(tn)return e==="$attrs"&&track(t,"get",e),tn(t);if((sn=c.__cssModules)&&(sn=sn[e]))return sn;if(n!==EMPTY_OBJ&&hasOwn$1(n,e))return a[e]=4,n[e];if(un=m.config.globalProperties,hasOwn$1(un,e))return un[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:s}=t;return o!==EMPTY_OBJ&&hasOwn$1(o,e)?(o[e]=n,!0):r!==EMPTY_OBJ&&hasOwn$1(r,e)?(r[e]=n,!0):hasOwn$1(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let c;return!!n[a]||t!==EMPTY_OBJ&&hasOwn$1(t,a)||e!==EMPTY_OBJ&&hasOwn$1(e,a)||(c=s[0])&&hasOwn$1(c,a)||hasOwn$1(r,a)||hasOwn$1(publicPropertiesMap,a)||hasOwn$1(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:hasOwn$1(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),n=t.proxy,r=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:a,watch:c,provide:m,inject:en,created:tn,beforeMount:sn,mounted:un,beforeUpdate:cn,updated:gn,activated:mn,deactivated:yn,beforeDestroy:wn,beforeUnmount:kn,destroyed:An,unmounted:$n,render:Mn,renderTracked:En,renderTriggered:Tn,errorCaptured:Pn,serverPrefetch:zn,expose:Nn,inheritAttrs:Kn,components:_r,directives:pn,filters:on}=e;if(en&&resolveInjections(en,r,null,t.appContext.config.unwrapInjectedRef),a)for(const xn in a){const On=a[xn];isFunction$2(On)&&(r[xn]=On.bind(n))}if(o){const xn=o.call(n,n);isObject$3(xn)&&(t.data=reactive(xn))}if(shouldCacheAccess=!0,s)for(const xn in s){const On=s[xn],Hn=isFunction$2(On)?On.bind(n,n):isFunction$2(On.get)?On.get.bind(n,n):NOOP$1,Zn=!isFunction$2(On)&&isFunction$2(On.set)?On.set.bind(n):NOOP$1,Rn=computed$1({get:Hn,set:Zn});Object.defineProperty(r,xn,{enumerable:!0,configurable:!0,get:()=>Rn.value,set:fn=>Rn.value=fn})}if(c)for(const xn in c)createWatcher(c[xn],r,n,xn);if(m){const xn=isFunction$2(m)?m.call(n):m;Reflect.ownKeys(xn).forEach(On=>{provide(On,xn[On])})}tn&&callHook(tn,t,"c");function vn(xn,On){isArray$2(On)?On.forEach(Hn=>xn(Hn.bind(n))):On&&xn(On.bind(n))}if(vn(onBeforeMount,sn),vn(onMounted,un),vn(onBeforeUpdate,cn),vn(onUpdated,gn),vn(onActivated,mn),vn(onDeactivated,yn),vn(onErrorCaptured,Pn),vn(onRenderTracked,En),vn(onRenderTriggered,Tn),vn(onBeforeUnmount,kn),vn(onUnmounted,$n),vn(onServerPrefetch,zn),isArray$2(Nn))if(Nn.length){const xn=t.exposed||(t.exposed={});Nn.forEach(On=>{Object.defineProperty(xn,On,{get:()=>n[On],set:Hn=>n[On]=Hn})})}else t.exposed||(t.exposed={});Mn&&t.render===NOOP$1&&(t.render=Mn),Kn!=null&&(t.inheritAttrs=Kn),_r&&(t.components=_r),pn&&(t.directives=pn)}function resolveInjections(t,e,n=NOOP$1,r=!1){isArray$2(t)&&(t=normalizeInject(t));for(const o in t){const s=t[o];let a;isObject$3(s)?"default"in s?a=inject(s.from||o,s.default,!0):a=inject(s.from||o):a=inject(s),isRef(a)&&r?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[o]=a}}function callHook(t,e,n){callWithAsyncErrorHandling(isArray$2(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function createWatcher(t,e,n,r){const o=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString$1(t)){const s=e[t];isFunction$2(s)&&watch(o,s)}else if(isFunction$2(t))watch(o,t.bind(n));else if(isObject$3(t))if(isArray$2(t))t.forEach(s=>createWatcher(s,e,n,r));else{const s=isFunction$2(t.handler)?t.handler.bind(n):e[t.handler];isFunction$2(s)&&watch(o,s,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let m;return c?m=c:!o.length&&!n&&!r?m=e:(m={},o.length&&o.forEach(en=>mergeOptions$1(m,en,a,!0)),mergeOptions$1(m,e,a)),isObject$3(e)&&s.set(e,m),m}function mergeOptions$1(t,e,n,r=!1){const{mixins:o,extends:s}=e;s&&mergeOptions$1(t,s,n,!0),o&&o.forEach(a=>mergeOptions$1(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=internalOptionMergeStrats[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction$2(t)?t.call(this,this):t,isFunction$2(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$2(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(extend(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const n=extend(Object.create(null),t);for(const r in e)n[r]=mergeAsArray(t[r],e[r]);return n}function initProps(t,e,n,r=!1){const o={},s={};def(s,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,o,s);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=r?o:shallowReactive(o):t.type.props?t.props=o:t.props=s,t.attrs=s}function updateProps(t,e,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=t,c=toRaw(o),[m]=t.propsOptions;let en=!1;if((r||a>0)&&!(a&16)){if(a&8){const tn=t.vnode.dynamicProps;for(let sn=0;sn<tn.length;sn++){let un=tn[sn];if(isEmitListener(t.emitsOptions,un))continue;const cn=e[un];if(m)if(hasOwn$1(s,un))cn!==s[un]&&(s[un]=cn,en=!0);else{const gn=camelize(un);o[gn]=resolvePropValue(m,c,gn,cn,t,!1)}else cn!==s[un]&&(s[un]=cn,en=!0)}}}else{setFullProps(t,e,o,s)&&(en=!0);let tn;for(const sn in c)(!e||!hasOwn$1(e,sn)&&((tn=hyphenate(sn))===sn||!hasOwn$1(e,tn)))&&(m?n&&(n[sn]!==void 0||n[tn]!==void 0)&&(o[sn]=resolvePropValue(m,c,sn,void 0,t,!0)):delete o[sn]);if(s!==c)for(const sn in s)(!e||!hasOwn$1(e,sn)&&!0)&&(delete s[sn],en=!0)}en&&trigger(t,"set","$attrs")}function setFullProps(t,e,n,r){const[o,s]=t.propsOptions;let a=!1,c;if(e)for(let m in e){if(isReservedProp(m))continue;const en=e[m];let tn;o&&hasOwn$1(o,tn=camelize(m))?!s||!s.includes(tn)?n[tn]=en:(c||(c={}))[tn]=en:isEmitListener(t.emitsOptions,m)||(!(m in r)||en!==r[m])&&(r[m]=en,a=!0)}if(s){const m=toRaw(n),en=c||EMPTY_OBJ;for(let tn=0;tn<s.length;tn++){const sn=s[tn];n[sn]=resolvePropValue(o,m,sn,en[sn],t,!hasOwn$1(en,sn))}}return a}function resolvePropValue(t,e,n,r,o,s){const a=t[n];if(a!=null){const c=hasOwn$1(a,"default");if(c&&r===void 0){const m=a.default;if(a.type!==Function&&isFunction$2(m)){const{propsDefaults:en}=o;n in en?r=en[n]:(setCurrentInstance(o),r=en[n]=m.call(null,e),unsetCurrentInstance())}else r=m}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}function normalizePropsOptions(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const s=t.props,a={},c=[];let m=!1;if(!isFunction$2(t)){const tn=sn=>{m=!0;const[un,cn]=normalizePropsOptions(sn,e,!0);extend(a,un),cn&&c.push(...cn)};!n&&e.mixins.length&&e.mixins.forEach(tn),t.extends&&tn(t.extends),t.mixins&&t.mixins.forEach(tn)}if(!s&&!m)return isObject$3(t)&&r.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$2(s))for(let tn=0;tn<s.length;tn++){const sn=camelize(s[tn]);validatePropName(sn)&&(a[sn]=EMPTY_OBJ)}else if(s)for(const tn in s){const sn=camelize(tn);if(validatePropName(sn)){const un=s[tn],cn=a[sn]=isArray$2(un)||isFunction$2(un)?{type:un}:un;if(cn){const gn=getTypeIndex(Boolean,cn.type),mn=getTypeIndex(String,cn.type);cn[0]=gn>-1,cn[1]=mn<0||gn<mn,(gn>-1||hasOwn$1(cn,"default"))&&c.push(sn)}}}const en=[a,c];return isObject$3(t)&&r.set(t,en),en}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$2(e)?e.findIndex(n=>isSameType(n,t)):isFunction$2(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$2(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,n)=>{if(e._n)return e;const r=withCtx((...o)=>normalizeSlotValue(e(...o)),n);return r._c=!1,r},normalizeObjectSlots=(t,e,n)=>{const r=t._ctx;for(const o in t){if(isInternalKey(o))continue;const s=t[o];if(isFunction$2(s))e[o]=normalizeSlot$1(o,s,r);else if(s!=null){const a=normalizeSlotValue(s);e[o]=()=>a}}},normalizeVNodeSlots=(t,e)=>{const n=normalizeSlotValue(e);t.slots.default=()=>n},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=toRaw(e),def(e,"_",n)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,n)=>{const{vnode:r,slots:o}=t;let s=!0,a=EMPTY_OBJ;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(extend(o,e),!n&&c===1&&delete o._):(s=!e.$stable,normalizeObjectSlots(e,o)),a=e}else e&&(normalizeVNodeSlots(t,e),a={default:1});if(s)for(const c in o)!isInternalKey(c)&&!(c in a)&&delete o[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(t,e){return function(r,o=null){isFunction$2(r)||(r=Object.assign({},r)),o!=null&&!isObject$3(o)&&(o=null);const s=createAppContext(),a=new Set;let c=!1;const m=s.app={_uid:uid++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:version$1,get config(){return s.config},set config(en){},use(en,...tn){return a.has(en)||(en&&isFunction$2(en.install)?(a.add(en),en.install(m,...tn)):isFunction$2(en)&&(a.add(en),en(m,...tn))),m},mixin(en){return s.mixins.includes(en)||s.mixins.push(en),m},component(en,tn){return tn?(s.components[en]=tn,m):s.components[en]},directive(en,tn){return tn?(s.directives[en]=tn,m):s.directives[en]},mount(en,tn,sn){if(!c){const un=createVNode(r,o);return un.appContext=s,tn&&e?e(un,en):t(un,en,sn),c=!0,m._container=en,en.__vue_app__=m,getExposeProxy(un.component)||un.component.proxy}},unmount(){c&&(t(null,m._container),delete m._container.__vue_app__)},provide(en,tn){return s.provides[en]=tn,m}};return m}}function setRef(t,e,n,r,o=!1){if(isArray$2(t)){t.forEach((un,cn)=>setRef(un,e&&(isArray$2(e)?e[cn]:e),n,r,o));return}if(isAsyncWrapper(r)&&!o)return;const s=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,a=o?null:s,{i:c,r:m}=t,en=e&&e.r,tn=c.refs===EMPTY_OBJ?c.refs={}:c.refs,sn=c.setupState;if(en!=null&&en!==m&&(isString$1(en)?(tn[en]=null,hasOwn$1(sn,en)&&(sn[en]=null)):isRef(en)&&(en.value=null)),isFunction$2(m))callWithErrorHandling(m,c,12,[a,tn]);else{const un=isString$1(m),cn=isRef(m);if(un||cn){const gn=()=>{if(t.f){const mn=un?tn[m]:m.value;o?isArray$2(mn)&&remove$1(mn,s):isArray$2(mn)?mn.includes(s)||mn.push(s):un?(tn[m]=[s],hasOwn$1(sn,m)&&(sn[m]=tn[m])):(m.value=[s],t.k&&(tn[t.k]=m.value))}else un?(tn[m]=a,hasOwn$1(sn,m)&&(sn[m]=a)):cn&&(m.value=a,t.k&&(tn[t.k]=a))};a?(gn.id=-1,queuePostRenderEffect(gn,n)):gn()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:c,createComment:m,setText:en,setElementText:tn,parentNode:sn,nextSibling:un,setScopeId:cn=NOOP$1,cloneNode:gn,insertStaticContent:mn}=t,yn=(Ln,Un,qn,Sr=null,Xn=null,Er=null,Nr=!1,Ar=null,vr=!!Un.dynamicChildren)=>{if(Ln===Un)return;Ln&&!isSameVNodeType(Ln,Un)&&(Sr=Yn(Ln),Dn(Ln,Xn,Er,!0),Ln=null),Un.patchFlag===-2&&(vr=!1,Un.dynamicChildren=null);const{type:br,ref:Tr,shapeFlag:$r}=Un;switch(br){case Text:wn(Ln,Un,qn,Sr);break;case Comment:kn(Ln,Un,qn,Sr);break;case Static:Ln==null&&An(Un,qn,Sr,Nr);break;case Fragment:pn(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr);break;default:$r&1?En(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr):$r&6?on(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr):($r&64||$r&128)&&br.process(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr,Or)}Tr!=null&&Xn&&setRef(Tr,Ln&&Ln.ref,Er,Un||Ln,!Un)},wn=(Ln,Un,qn,Sr)=>{if(Ln==null)r(Un.el=c(Un.children),qn,Sr);else{const Xn=Un.el=Ln.el;Un.children!==Ln.children&&en(Xn,Un.children)}},kn=(Ln,Un,qn,Sr)=>{Ln==null?r(Un.el=m(Un.children||""),qn,Sr):Un.el=Ln.el},An=(Ln,Un,qn,Sr)=>{[Ln.el,Ln.anchor]=mn(Ln.children,Un,qn,Sr,Ln.el,Ln.anchor)},$n=({el:Ln,anchor:Un},qn,Sr)=>{let Xn;for(;Ln&&Ln!==Un;)Xn=un(Ln),r(Ln,qn,Sr),Ln=Xn;r(Un,qn,Sr)},Mn=({el:Ln,anchor:Un})=>{let qn;for(;Ln&&Ln!==Un;)qn=un(Ln),o(Ln),Ln=qn;o(Un)},En=(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr)=>{Nr=Nr||Un.type==="svg",Ln==null?Tn(Un,qn,Sr,Xn,Er,Nr,Ar,vr):Nn(Ln,Un,Xn,Er,Nr,Ar,vr)},Tn=(Ln,Un,qn,Sr,Xn,Er,Nr,Ar)=>{let vr,br;const{type:Tr,props:$r,shapeFlag:Br,transition:Fr,patchFlag:nn,dirs:l}=Ln;if(Ln.el&&gn!==void 0&&nn===-1)vr=Ln.el=gn(Ln.el);else{if(vr=Ln.el=a(Ln.type,Er,$r&&$r.is,$r),Br&8?tn(vr,Ln.children):Br&16&&zn(Ln.children,vr,null,Sr,Xn,Er&&Tr!=="foreignObject",Nr,Ar),l&&invokeDirectiveHook(Ln,null,Sr,"created"),$r){for(const an in $r)an!=="value"&&!isReservedProp(an)&&s(vr,an,null,$r[an],Er,Ln.children,Sr,Xn,Gn);"value"in $r&&s(vr,"value",null,$r.value),(br=$r.onVnodeBeforeMount)&&invokeVNodeHook(br,Sr,Ln)}Pn(vr,Ln,Ln.scopeId,Nr,Sr)}l&&invokeDirectiveHook(Ln,null,Sr,"beforeMount");const d=(!Xn||Xn&&!Xn.pendingBranch)&&Fr&&!Fr.persisted;d&&Fr.beforeEnter(vr),r(vr,Un,qn),((br=$r&&$r.onVnodeMounted)||d||l)&&queuePostRenderEffect(()=>{br&&invokeVNodeHook(br,Sr,Ln),d&&Fr.enter(vr),l&&invokeDirectiveHook(Ln,null,Sr,"mounted")},Xn)},Pn=(Ln,Un,qn,Sr,Xn)=>{if(qn&&cn(Ln,qn),Sr)for(let Er=0;Er<Sr.length;Er++)cn(Ln,Sr[Er]);if(Xn){let Er=Xn.subTree;if(Un===Er){const Nr=Xn.vnode;Pn(Ln,Nr,Nr.scopeId,Nr.slotScopeIds,Xn.parent)}}},zn=(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr=0)=>{for(let br=vr;br<Ln.length;br++){const Tr=Ln[br]=Ar?cloneIfMounted(Ln[br]):normalizeVNode(Ln[br]);yn(null,Tr,Un,qn,Sr,Xn,Er,Nr,Ar)}},Nn=(Ln,Un,qn,Sr,Xn,Er,Nr)=>{const Ar=Un.el=Ln.el;let{patchFlag:vr,dynamicChildren:br,dirs:Tr}=Un;vr|=Ln.patchFlag&16;const $r=Ln.props||EMPTY_OBJ,Br=Un.props||EMPTY_OBJ;let Fr;qn&&toggleRecurse(qn,!1),(Fr=Br.onVnodeBeforeUpdate)&&invokeVNodeHook(Fr,qn,Un,Ln),Tr&&invokeDirectiveHook(Un,Ln,qn,"beforeUpdate"),qn&&toggleRecurse(qn,!0);const nn=Xn&&Un.type!=="foreignObject";if(br?Kn(Ln.dynamicChildren,br,Ar,qn,Sr,nn,Er):Nr||Hn(Ln,Un,Ar,null,qn,Sr,nn,Er,!1),vr>0){if(vr&16)_r(Ar,Un,$r,Br,qn,Sr,Xn);else if(vr&2&&$r.class!==Br.class&&s(Ar,"class",null,Br.class,Xn),vr&4&&s(Ar,"style",$r.style,Br.style,Xn),vr&8){const l=Un.dynamicProps;for(let d=0;d<l.length;d++){const an=l[d],hn=$r[an],_n=Br[an];(_n!==hn||an==="value")&&s(Ar,an,hn,_n,Xn,Ln.children,qn,Sr,Gn)}}vr&1&&Ln.children!==Un.children&&tn(Ar,Un.children)}else!Nr&&br==null&&_r(Ar,Un,$r,Br,qn,Sr,Xn);((Fr=Br.onVnodeUpdated)||Tr)&&queuePostRenderEffect(()=>{Fr&&invokeVNodeHook(Fr,qn,Un,Ln),Tr&&invokeDirectiveHook(Un,Ln,qn,"updated")},Sr)},Kn=(Ln,Un,qn,Sr,Xn,Er,Nr)=>{for(let Ar=0;Ar<Un.length;Ar++){const vr=Ln[Ar],br=Un[Ar],Tr=vr.el&&(vr.type===Fragment||!isSameVNodeType(vr,br)||vr.shapeFlag&70)?sn(vr.el):qn;yn(vr,br,Tr,null,Sr,Xn,Er,Nr,!0)}},_r=(Ln,Un,qn,Sr,Xn,Er,Nr)=>{if(qn!==Sr){for(const Ar in Sr){if(isReservedProp(Ar))continue;const vr=Sr[Ar],br=qn[Ar];vr!==br&&Ar!=="value"&&s(Ln,Ar,br,vr,Nr,Un.children,Xn,Er,Gn)}if(qn!==EMPTY_OBJ)for(const Ar in qn)!isReservedProp(Ar)&&!(Ar in Sr)&&s(Ln,Ar,qn[Ar],null,Nr,Un.children,Xn,Er,Gn);"value"in Sr&&s(Ln,"value",qn.value,Sr.value)}},pn=(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr)=>{const br=Un.el=Ln?Ln.el:c(""),Tr=Un.anchor=Ln?Ln.anchor:c("");let{patchFlag:$r,dynamicChildren:Br,slotScopeIds:Fr}=Un;Fr&&(Ar=Ar?Ar.concat(Fr):Fr),Ln==null?(r(br,qn,Sr),r(Tr,qn,Sr),zn(Un.children,qn,Tr,Xn,Er,Nr,Ar,vr)):$r>0&&$r&64&&Br&&Ln.dynamicChildren?(Kn(Ln.dynamicChildren,Br,qn,Xn,Er,Nr,Ar),(Un.key!=null||Xn&&Un===Xn.subTree)&&traverseStaticChildren(Ln,Un,!0)):Hn(Ln,Un,qn,Tr,Xn,Er,Nr,Ar,vr)},on=(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr)=>{Un.slotScopeIds=Ar,Ln==null?Un.shapeFlag&512?Xn.ctx.activate(Un,qn,Sr,Nr,vr):ln(Un,qn,Sr,Xn,Er,Nr,vr):vn(Ln,Un,vr)},ln=(Ln,Un,qn,Sr,Xn,Er,Nr)=>{const Ar=Ln.component=createComponentInstance(Ln,Sr,Xn);if(isKeepAlive(Ln)&&(Ar.ctx.renderer=Or),setupComponent(Ar),Ar.asyncDep){if(Xn&&Xn.registerDep(Ar,xn),!Ln.el){const vr=Ar.subTree=createVNode(Comment);kn(null,vr,Un,qn)}return}xn(Ar,Ln,Un,qn,Xn,Er,Nr)},vn=(Ln,Un,qn)=>{const Sr=Un.component=Ln.component;if(shouldUpdateComponent(Ln,Un,qn))if(Sr.asyncDep&&!Sr.asyncResolved){On(Sr,Un,qn);return}else Sr.next=Un,invalidateJob(Sr.update),Sr.update();else Un.el=Ln.el,Sr.vnode=Un},xn=(Ln,Un,qn,Sr,Xn,Er,Nr)=>{const Ar=()=>{if(Ln.isMounted){let{next:Tr,bu:$r,u:Br,parent:Fr,vnode:nn}=Ln,l=Tr,d;toggleRecurse(Ln,!1),Tr?(Tr.el=nn.el,On(Ln,Tr,Nr)):Tr=nn,$r&&invokeArrayFns($r),(d=Tr.props&&Tr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(d,Fr,Tr,nn),toggleRecurse(Ln,!0);const an=renderComponentRoot(Ln),hn=Ln.subTree;Ln.subTree=an,yn(hn,an,sn(hn.el),Yn(hn),Ln,Xn,Er),Tr.el=an.el,l===null&&updateHOCHostEl(Ln,an.el),Br&&queuePostRenderEffect(Br,Xn),(d=Tr.props&&Tr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(d,Fr,Tr,nn),Xn)}else{let Tr;const{el:$r,props:Br}=Un,{bm:Fr,m:nn,parent:l}=Ln,d=isAsyncWrapper(Un);if(toggleRecurse(Ln,!1),Fr&&invokeArrayFns(Fr),!d&&(Tr=Br&&Br.onVnodeBeforeMount)&&invokeVNodeHook(Tr,l,Un),toggleRecurse(Ln,!0),$r&&wr){const an=()=>{Ln.subTree=renderComponentRoot(Ln),wr($r,Ln.subTree,Ln,Xn,null)};d?Un.type.__asyncLoader().then(()=>!Ln.isUnmounted&&an()):an()}else{const an=Ln.subTree=renderComponentRoot(Ln);yn(null,an,qn,Sr,Ln,Xn,Er),Un.el=an.el}if(nn&&queuePostRenderEffect(nn,Xn),!d&&(Tr=Br&&Br.onVnodeMounted)){const an=Un;queuePostRenderEffect(()=>invokeVNodeHook(Tr,l,an),Xn)}(Un.shapeFlag&256||l&&isAsyncWrapper(l.vnode)&&l.vnode.shapeFlag&256)&&Ln.a&&queuePostRenderEffect(Ln.a,Xn),Ln.isMounted=!0,Un=qn=Sr=null}},vr=Ln.effect=new ReactiveEffect(Ar,()=>queueJob(br),Ln.scope),br=Ln.update=()=>vr.run();br.id=Ln.uid,toggleRecurse(Ln,!0),br()},On=(Ln,Un,qn)=>{Un.component=Ln;const Sr=Ln.vnode.props;Ln.vnode=Un,Ln.next=null,updateProps(Ln,Un.props,Sr,qn),updateSlots(Ln,Un.children,qn),pauseTracking(),flushPreFlushCbs(),resetTracking()},Hn=(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr=!1)=>{const br=Ln&&Ln.children,Tr=Ln?Ln.shapeFlag:0,$r=Un.children,{patchFlag:Br,shapeFlag:Fr}=Un;if(Br>0){if(Br&128){Rn(br,$r,qn,Sr,Xn,Er,Nr,Ar,vr);return}else if(Br&256){Zn(br,$r,qn,Sr,Xn,Er,Nr,Ar,vr);return}}Fr&8?(Tr&16&&Gn(br,Xn,Er),$r!==br&&tn(qn,$r)):Tr&16?Fr&16?Rn(br,$r,qn,Sr,Xn,Er,Nr,Ar,vr):Gn(br,Xn,Er,!0):(Tr&8&&tn(qn,""),Fr&16&&zn($r,qn,Sr,Xn,Er,Nr,Ar,vr))},Zn=(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr)=>{Ln=Ln||EMPTY_ARR,Un=Un||EMPTY_ARR;const br=Ln.length,Tr=Un.length,$r=Math.min(br,Tr);let Br;for(Br=0;Br<$r;Br++){const Fr=Un[Br]=vr?cloneIfMounted(Un[Br]):normalizeVNode(Un[Br]);yn(Ln[Br],Fr,qn,null,Xn,Er,Nr,Ar,vr)}br>Tr?Gn(Ln,Xn,Er,!0,!1,$r):zn(Un,qn,Sr,Xn,Er,Nr,Ar,vr,$r)},Rn=(Ln,Un,qn,Sr,Xn,Er,Nr,Ar,vr)=>{let br=0;const Tr=Un.length;let $r=Ln.length-1,Br=Tr-1;for(;br<=$r&&br<=Br;){const Fr=Ln[br],nn=Un[br]=vr?cloneIfMounted(Un[br]):normalizeVNode(Un[br]);if(isSameVNodeType(Fr,nn))yn(Fr,nn,qn,null,Xn,Er,Nr,Ar,vr);else break;br++}for(;br<=$r&&br<=Br;){const Fr=Ln[$r],nn=Un[Br]=vr?cloneIfMounted(Un[Br]):normalizeVNode(Un[Br]);if(isSameVNodeType(Fr,nn))yn(Fr,nn,qn,null,Xn,Er,Nr,Ar,vr);else break;$r--,Br--}if(br>$r){if(br<=Br){const Fr=Br+1,nn=Fr<Tr?Un[Fr].el:Sr;for(;br<=Br;)yn(null,Un[br]=vr?cloneIfMounted(Un[br]):normalizeVNode(Un[br]),qn,nn,Xn,Er,Nr,Ar,vr),br++}}else if(br>Br)for(;br<=$r;)Dn(Ln[br],Xn,Er,!0),br++;else{const Fr=br,nn=br,l=new Map;for(br=nn;br<=Br;br++){const Pr=Un[br]=vr?cloneIfMounted(Un[br]):normalizeVNode(Un[br]);Pr.key!=null&&l.set(Pr.key,br)}let d,an=0;const hn=Br-nn+1;let _n=!1,In=0;const kr=new Array(hn);for(br=0;br<hn;br++)kr[br]=0;for(br=Fr;br<=$r;br++){const Pr=Ln[br];if(an>=hn){Dn(Pr,Xn,Er,!0);continue}let Kr;if(Pr.key!=null)Kr=l.get(Pr.key);else for(d=nn;d<=Br;d++)if(kr[d-nn]===0&&isSameVNodeType(Pr,Un[d])){Kr=d;break}Kr===void 0?Dn(Pr,Xn,Er,!0):(kr[Kr-nn]=br+1,Kr>=In?In=Kr:_n=!0,yn(Pr,Un[Kr],qn,null,Xn,Er,Nr,Ar,vr),an++)}const Ur=_n?getSequence(kr):EMPTY_ARR;for(d=Ur.length-1,br=hn-1;br>=0;br--){const Pr=nn+br,Kr=Un[Pr],Lr=Pr+1<Tr?Un[Pr+1].el:Sr;kr[br]===0?yn(null,Kr,qn,Lr,Xn,Er,Nr,Ar,vr):_n&&(d<0||br!==Ur[d]?fn(Kr,qn,Lr,2):d--)}}},fn=(Ln,Un,qn,Sr,Xn=null)=>{const{el:Er,type:Nr,transition:Ar,children:vr,shapeFlag:br}=Ln;if(br&6){fn(Ln.component.subTree,Un,qn,Sr);return}if(br&128){Ln.suspense.move(Un,qn,Sr);return}if(br&64){Nr.move(Ln,Un,qn,Or);return}if(Nr===Fragment){r(Er,Un,qn);for(let $r=0;$r<vr.length;$r++)fn(vr[$r],Un,qn,Sr);r(Ln.anchor,Un,qn);return}if(Nr===Static){$n(Ln,Un,qn);return}if(Sr!==2&&br&1&&Ar)if(Sr===0)Ar.beforeEnter(Er),r(Er,Un,qn),queuePostRenderEffect(()=>Ar.enter(Er),Xn);else{const{leave:$r,delayLeave:Br,afterLeave:Fr}=Ar,nn=()=>r(Er,Un,qn),l=()=>{$r(Er,()=>{nn(),Fr&&Fr()})};Br?Br(Er,nn,l):l()}else r(Er,Un,qn)},Dn=(Ln,Un,qn,Sr=!1,Xn=!1)=>{const{type:Er,props:Nr,ref:Ar,children:vr,dynamicChildren:br,shapeFlag:Tr,patchFlag:$r,dirs:Br}=Ln;if(Ar!=null&&setRef(Ar,null,qn,Ln,!0),Tr&256){Un.ctx.deactivate(Ln);return}const Fr=Tr&1&&Br,nn=!isAsyncWrapper(Ln);let l;if(nn&&(l=Nr&&Nr.onVnodeBeforeUnmount)&&invokeVNodeHook(l,Un,Ln),Tr&6)Vn(Ln.component,qn,Sr);else{if(Tr&128){Ln.suspense.unmount(qn,Sr);return}Fr&&invokeDirectiveHook(Ln,null,Un,"beforeUnmount"),Tr&64?Ln.type.remove(Ln,Un,qn,Xn,Or,Sr):br&&(Er!==Fragment||$r>0&&$r&64)?Gn(br,Un,qn,!1,!0):(Er===Fragment&&$r&384||!Xn&&Tr&16)&&Gn(vr,Un,qn),Sr&&Hr(Ln)}(nn&&(l=Nr&&Nr.onVnodeUnmounted)||Fr)&&queuePostRenderEffect(()=>{l&&invokeVNodeHook(l,Un,Ln),Fr&&invokeDirectiveHook(Ln,null,Un,"unmounted")},qn)},Hr=Ln=>{const{type:Un,el:qn,anchor:Sr,transition:Xn}=Ln;if(Un===Fragment){Fn(qn,Sr);return}if(Un===Static){Mn(Ln);return}const Er=()=>{o(qn),Xn&&!Xn.persisted&&Xn.afterLeave&&Xn.afterLeave()};if(Ln.shapeFlag&1&&Xn&&!Xn.persisted){const{leave:Nr,delayLeave:Ar}=Xn,vr=()=>Nr(qn,Er);Ar?Ar(Ln.el,Er,vr):vr()}else Er()},Fn=(Ln,Un)=>{let qn;for(;Ln!==Un;)qn=un(Ln),o(Ln),Ln=qn;o(Un)},Vn=(Ln,Un,qn)=>{const{bum:Sr,scope:Xn,update:Er,subTree:Nr,um:Ar}=Ln;Sr&&invokeArrayFns(Sr),Xn.stop(),Er&&(Er.active=!1,Dn(Nr,Ln,Un,qn)),Ar&&queuePostRenderEffect(Ar,Un),queuePostRenderEffect(()=>{Ln.isUnmounted=!0},Un),Un&&Un.pendingBranch&&!Un.isUnmounted&&Ln.asyncDep&&!Ln.asyncResolved&&Ln.suspenseId===Un.pendingId&&(Un.deps--,Un.deps===0&&Un.resolve())},Gn=(Ln,Un,qn,Sr=!1,Xn=!1,Er=0)=>{for(let Nr=Er;Nr<Ln.length;Nr++)Dn(Ln[Nr],Un,qn,Sr,Xn)},Yn=Ln=>Ln.shapeFlag&6?Yn(Ln.component.subTree):Ln.shapeFlag&128?Ln.suspense.next():un(Ln.anchor||Ln.el),gr=(Ln,Un,qn)=>{Ln==null?Un._vnode&&Dn(Un._vnode,null,null,!0):yn(Un._vnode||null,Ln,Un,null,null,null,qn),flushPreFlushCbs(),flushPostFlushCbs(),Un._vnode=Ln},Or={p:yn,um:Dn,m:fn,r:Hr,mt:ln,mc:zn,pc:Hn,pbc:Kn,n:Yn,o:t};let Ir,wr;return e&&([Ir,wr]=e(Or)),{render:gr,hydrate:Ir,createApp:createAppAPI(gr,Ir)}}function toggleRecurse({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function traverseStaticChildren(t,e,n=!1){const r=t.children,o=e.children;if(isArray$2(r)&&isArray$2(o))for(let s=0;s<r.length;s++){const a=r[s];let c=o[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[s]=cloneIfMounted(o[s]),c.el=a.el),n||traverseStaticChildren(a,c))}}function getSequence(t){const e=t.slice(),n=[0];let r,o,s,a,c;const m=t.length;for(r=0;r<m;r++){const en=t[r];if(en!==0){if(o=n[n.length-1],t[o]<en){e[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,t[n[c]]<en?s=c+1:a=c;en<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const isTeleport=t=>t.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,n,r,o,s){return setupBlock(createBaseVNode(t,e,n,r,o,s,!0))}function createBlock(t,e,n,r,o){return setupBlock(createVNode(t,e,n,r,o,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:n})=>t!=null?isString$1(t)||isRef(t)||isFunction$2(t)?{i:currentRenderingInstance,r:t,k:e,f:!!n}:t:null;function createBaseVNode(t,e=null,n=null,r=0,o=null,s=t===Fragment?0:1,a=!1,c=!1){const m={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(normalizeChildren(m,n),s&128&&t.normalize(m)):n&&(m.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!a&&currentBlock&&(m.patchFlag>0||s&6)&&m.patchFlag!==32&&currentBlock.push(m),m}const createVNode=_createVNode;function _createVNode(t,e=null,n=null,r=0,o=null,s=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const c=cloneVNode(t,e,!0);return n&&normalizeChildren(c,n),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:c,style:m}=e;c&&!isString$1(c)&&(e.class=normalizeClass(c)),isObject$3(m)&&(isProxy(m)&&!isArray$2(m)&&(m=extend({},m)),e.style=normalizeStyle(m))}const a=isString$1(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$3(t)?4:isFunction$2(t)?2:0;return createBaseVNode(t,e,n,r,o,a,s,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=t,c=e?mergeProps(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?n&&o?isArray$2(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const n=createVNode(Static,null,t);return n.staticCount=e,n}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$2(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(isArray$2(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$2(e)?(e={default:e,_ctx:currentRenderingInstance},n=32):(e=String(e),r&64?(n=16,e=[createTextVNode(e)]):n=8);t.children=e,t.shapeFlag|=n}function mergeProps(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=normalizeClass([e.class,r.class]));else if(o==="style")e.style=normalizeStyle([e.style,r.style]);else if(isOn(o)){const s=e[o],a=r[o];a&&s!==a&&!(isArray$2(s)&&s.includes(a))&&(e[o]=s?[].concat(s,a):a)}else o!==""&&(e[o]=r[o])}return e}function invokeVNodeHook(t,e,n,r=null){callWithAsyncErrorHandling(t,e,7,[n,r])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||emptyAppContext,s={uid:uid$1++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emit$1.bind(null,s),t.ce&&t.ce(s),s}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:n,children:r}=t.vnode,o=isStatefulComponent(t);initProps(t,n,o,e),initSlots(t,r);const s=o?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,s}function setupStatefulComponent(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const o=t.setupContext=r.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const s=callWithErrorHandling(r,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(s)){if(s.then(unsetCurrentInstance,unsetCurrentInstance),e)return s.then(a=>{handleSetupResult(t,a,e)}).catch(a=>{handleError(a,t,0)});t.asyncDep=s}else handleSetupResult(t,s,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,n){isFunction$2(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$3(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,n)}let compile;function finishComponentSetup(t,e,n){const r=t.type;if(!t.render){if(!e&&compile&&!r.render){const o=r.template||resolveMergedOptions(t).template;if(o){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:m}=r,en=extend(extend({isCustomElement:s,delimiters:c},a),m);r.render=compile(o,en)}}t.render=r.render||NOOP$1}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,n){return track(t,"get","$attrs"),e[n]}})}function createSetupContext(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](t)}}))}function getComponentName(t,e=!0){return isFunction$2(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction$2(t)&&"__vccOpts"in t}const computed$1=(t,e)=>computed$2(t,e,isInSSRComponentSetup);function h(t,e,n){const r=arguments.length;return r===2?isObject$3(e)&&!isArray$2(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&isVNode(n)&&(n=[n]),createVNode(t,e,n))}const version$1="3.2.39",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e?doc.createElementNS(svgNS,t):doc.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,o,s){const a=n?n.previousSibling:e.lastChild;if(o&&(o===s||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${t}</svg>`:t;const c=templateContainer.content;if(r){const m=c.firstChild;for(;m.firstChild;)c.appendChild(m.firstChild);c.removeChild(m)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function patchClass(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,n){const r=t.style,o=isString$1(n);if(n&&!o){for(const s in n)setStyle(r,s,n[s]);if(e&&!isString$1(e))for(const s in e)n[s]==null&&setStyle(r,s,"")}else{const s=r.display;o?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const importantRE=/\s*!important$/;function setStyle(t,e,n){if(isArray$2(n))n.forEach(r=>setStyle(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=autoPrefix(t,e);importantRE.test(n)?t.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):t[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const n=prefixCache[e];if(n)return n;let r=camelize(e);if(r!=="filter"&&r in t)return prefixCache[e]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const s=prefixes[o]+r;if(s in t)return prefixCache[e]=s}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,n,r,o){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,n);else{const s=isSpecialBooleanAttr(e);n==null||s&&!includeBooleanAttr(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function patchDOMProp(t,e,n,r,o,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,o,s),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const m=n??"";(t.value!==m||t.tagName==="OPTION")&&(t.value=m),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const m=typeof t[e];m==="boolean"?n=includeBooleanAttr(n):n==null&&m==="string"?(n="",c=!0):m==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}const[_getNow,skipTimestampCheck]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener(t,e,n,r){t.addEventListener(e,n,r)}function removeEventListener(t,e,n,r){t.removeEventListener(e,n,r)}function patchEvent(t,e,n,r,o=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[c,m]=parseName(e);if(r){const en=s[e]=createInvoker(r,o);addEventListener(t,c,en,m)}else a&&(removeEventListener(t,c,a,m),s[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let r;for(;r=t.match(optionsModifierRE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}function createInvoker(t,e){const n=r=>{const o=r.timeStamp||_getNow();(skipTimestampCheck||o>=n.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),e,5,[r])};return n.value=t,n.attached=getNow(),n}function patchStopImmediatePropagation(t,e){if(isArray$2(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,n,r,o=!1,s,a,c,m)=>{e==="class"?patchClass(t,r,o):e==="style"?patchStyle(t,n,r):isOn(e)?isModelListener(e)||patchEvent(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,r,o))?patchDOMProp(t,e,r,s,a,c,m):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),patchAttr(t,e,r,o))};function shouldSetAsProp(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$2(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$1(n)?!1:e in t}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray$2(e)?n=>invokeArrayFns(e,n):e},vModelSelect={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const o=isSet(e);addEventListener(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?toNumber(getValue(a)):getValue(a));t._assign(t.multiple?o?new Set(s):s:s[0])}),t._assign=getModelAssigner(r)},mounted(t,{value:e}){setSelected(t,e)},beforeUpdate(t,e,n){t._assign=getModelAssigner(n)},updated(t,{value:e}){setSelected(t,e)}};function setSelected(t,e){const n=t.multiple;if(!(n&&!isArray$2(e)&&!isSet(e))){for(let r=0,o=t.options.length;r<o;r++){const s=t.options[r],a=getValue(s);if(n)isArray$2(e)?s.selected=looseIndexOf(e,a)>-1:s.selected=e.has(a);else if(looseEqual(getValue(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function getValue(t){return"_value"in t?t._value:t.value}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=normalizeContainer(r);if(!o)return;const s=e._component;!isFunction$2(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function normalizeContainer(t){return isString$1(t)?document.querySelector(t):t}const _hoisted_1$6={key:0,class:"bi bi-sun"},_hoisted_2$6={key:1,class:"bi bi-moon"},_sfc_main$9=defineComponent({__name:"ToggleMode",setup(t){const e=ref();onMounted(()=>{localStorage.getItem("theme")?e.value=localStorage.getItem("theme"):e.value="corporate"});async function n(){e.value=localStorage.getItem("theme")}return(r,o)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("button",{class:"btn btn-secondary btn-circle","data-act-class":"ACTIVECLASS","data-toggle-theme":"business,corporate",onClick:n},[e.value==="corporate"?(openBlock(),createElementBlock("i",_hoisted_1$6)):createCommentVNode("",!0),e.value==="business"?(openBlock(),createElementBlock("i",_hoisted_2$6)):createCommentVNode("",!0)]),createTextVNode(" "+toDisplayString(e.value),1)],64))}});var themeChange={exports:{}};(function(t,e){function n(){var a=document.querySelector("[data-toggle-theme]");(function(c=localStorage.getItem("theme")){localStorage.getItem("theme")&&(document.documentElement.setAttribute("data-theme",c),a&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(m=>{m.classList.add(a.getAttribute("data-act-class"))}))})(),a&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(c=>{c.addEventListener("click",function(){var m=c.getAttribute("data-toggle-theme");if(m){var en=m.split(",");document.documentElement.getAttribute("data-theme")==en[0]?en.length==1?(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("theme")):(document.documentElement.setAttribute("data-theme",en[1]),localStorage.setItem("theme",en[1])):(document.documentElement.setAttribute("data-theme",en[0]),localStorage.setItem("theme",en[0]))}[...document.querySelectorAll("[data-toggle-theme]")].forEach(tn=>{tn.classList.toggle(this.getAttribute("data-act-class"))})})})}function r(){(function(a=localStorage.getItem("theme")){if(a!=null&&a!="")if(localStorage.getItem("theme")&&localStorage.getItem("theme")!=""){document.documentElement.setAttribute("data-theme",a);var c=document.querySelector("[data-set-theme='"+a.toString()+"']");c&&([...document.querySelectorAll("[data-set-theme]")].forEach(m=>{m.classList.remove(m.getAttribute("data-act-class"))}),c.getAttribute("data-act-class")&&c.classList.add(c.getAttribute("data-act-class")))}else{var c=document.querySelector("[data-set-theme='']");c.getAttribute("data-act-class")&&c.classList.add(c.getAttribute("data-act-class"))}})(),[...document.querySelectorAll("[data-set-theme]")].forEach(a=>{a.addEventListener("click",function(){document.documentElement.setAttribute("data-theme",this.getAttribute("data-set-theme")),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("[data-set-theme]")].forEach(c=>{c.classList.remove(c.getAttribute("data-act-class"))}),a.getAttribute("data-act-class")&&a.classList.add(a.getAttribute("data-act-class"))})})}function o(){(function(a=localStorage.getItem("theme")){if(localStorage.getItem("theme")){document.documentElement.setAttribute("data-theme",a);var c=document.querySelector("select[data-choose-theme] [value='"+a.toString()+"']");c&&[...document.querySelectorAll("select[data-choose-theme] [value='"+a.toString()+"']")].forEach(m=>{m.selected=!0})}})(),document.querySelector("select[data-choose-theme]")&&[...document.querySelectorAll("select[data-choose-theme]")].forEach(a=>{a.addEventListener("change",function(){document.documentElement.setAttribute("data-theme",this.value),localStorage.setItem("theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("select[data-choose-theme] [value='"+localStorage.getItem("theme")+"']")].forEach(c=>{c.selected=!0})})})}function s(a=!0){a===!0?document.addEventListener("DOMContentLoaded",function(c){n(),o(),r()}):(n(),o(),r())}t.exports={themeChange:s}})(themeChange);const _sfc_main$8={components:{ToggleMode:_sfc_main$9},setup(){onMounted(()=>{themeChange.exports.themeChange(!1)})}},_export_sfc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},_hoisted_1$5={class:"bg-gray-900"},_hoisted_2$5={class:"max-w-screen-xl px-4 mx-auto sm:px-6 lg:px-8"},_hoisted_3$2={class:"flex items-center justify-between h-16"},_hoisted_4$2=createStaticVNode('<div class="flex-1 md:flex md:items-center md:gap-12"><a class="block text-teal-300" href="/"><span class="sr-only">Home</span><svg class="h-8" fill="none" viewBox="0 0 28 24" xmlns="http://www.w3.org/2000/svg"><path d="M0.41 10.3847C1.14777 7.4194 2.85643 4.7861 5.2639 2.90424C7.6714 1.02234 10.6393 0 13.695 0C16.7507 0 19.7186 1.02234 22.1261 2.90424C24.5336 4.7861 26.2422 7.4194 26.98 10.3847H25.78C23.7557 10.3549 21.7729 10.9599 20.11 12.1147C20.014 12.1842 19.9138 12.2477 19.81 12.3047H19.67C19.5662 12.2477 19.466 12.1842 19.37 12.1147C17.6924 10.9866 15.7166 10.3841 13.695 10.3841C11.6734 10.3841 9.6976 10.9866 8.02 12.1147C7.924 12.1842 7.8238 12.2477 7.72 12.3047H7.58C7.4762 12.2477 7.376 12.1842 7.28 12.1147C5.6171 10.9599 3.6343 10.3549 1.61 10.3847H0.41ZM23.62 16.6547C24.236 16.175 24.9995 15.924 25.78 15.9447H27.39V12.7347H25.78C24.4052 12.7181 23.0619 13.146 21.95 13.9547C21.3243 14.416 20.5674 14.6649 19.79 14.6649C19.0126 14.6649 18.2557 14.416 17.63 13.9547C16.4899 13.1611 15.1341 12.7356 13.745 12.7356C12.3559 12.7356 11.0001 13.1611 9.86 13.9547C9.2343 14.416 8.4774 14.6649 7.7 14.6649C6.9226 14.6649 6.1657 14.416 5.54 13.9547C4.4144 13.1356 3.0518 12.7072 1.66 12.7347H0V15.9447H1.61C2.39051 15.924 3.154 16.175 3.77 16.6547C4.908 17.4489 6.2623 17.8747 7.65 17.8747C9.0377 17.8747 10.392 17.4489 11.53 16.6547C12.1468 16.1765 12.9097 15.9257 13.69 15.9447C14.4708 15.9223 15.2348 16.1735 15.85 16.6547C16.9901 17.4484 18.3459 17.8738 19.735 17.8738C21.1241 17.8738 22.4799 17.4484 23.62 16.6547ZM23.62 22.3947C24.236 21.915 24.9995 21.664 25.78 21.6847H27.39V18.4747H25.78C24.4052 18.4581 23.0619 18.886 21.95 19.6947C21.3243 20.156 20.5674 20.4049 19.79 20.4049C19.0126 20.4049 18.2557 20.156 17.63 19.6947C16.4899 18.9011 15.1341 18.4757 13.745 18.4757C12.3559 18.4757 11.0001 18.9011 9.86 19.6947C9.2343 20.156 8.4774 20.4049 7.7 20.4049C6.9226 20.4049 6.1657 20.156 5.54 19.6947C4.4144 18.8757 3.0518 18.4472 1.66 18.4747H0V21.6847H1.61C2.39051 21.664 3.154 21.915 3.77 22.3947C4.908 23.1889 6.2623 23.6147 7.65 23.6147C9.0377 23.6147 10.392 23.1889 11.53 22.3947C12.1468 21.9165 12.9097 21.6657 13.69 21.6847C14.4708 21.6623 15.2348 21.9135 15.85 22.3947C16.9901 23.1884 18.3459 23.6138 19.735 23.6138C21.1241 23.6138 22.4799 23.1884 23.62 22.3947Z" fill="currentColor"></path></svg></a></div>',1),_hoisted_5$2={class:"md:flex md:items-center md:gap-12"},_hoisted_6$2={"aria-labelledby":"header-navigation",class:"hidden md:block"},_hoisted_7$2=createBaseVNode("h2",{id:"header-navigation",class:"sr-only"},"Header navigation",-1),_hoisted_8$2={class:"flex items-center gap-6 text-sm"},_hoisted_9$1=createTextVNode("Home"),_hoisted_10$1=createTextVNode("Marketplace"),_hoisted_11$1=createTextVNode("P2P"),_hoisted_12=createTextVNode("About"),_hoisted_13={class:"flex items-center gap-4"},_hoisted_14=createBaseVNode("div",{class:"sm:gap-4 sm:flex"},[createBaseVNode("a",{class:"px-5 py-2.5 text-sm font-medium text-white bg-teal-600 rounded-md shadow",href:"/"}," Login ")],-1),_hoisted_15=createBaseVNode("div",{class:"block md:hidden"},[createBaseVNode("button",{class:"p-2 text-white transition bg-gray-800 rounded hover:text-white/75"},[createBaseVNode("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"M4 6h16M4 12h16M4 18h16","stroke-linecap":"round","stroke-linejoin":"round"})])])],-1);function _sfc_render$3(t,e,n,r,o,s){const a=resolveComponent("RouterLink"),c=resolveComponent("ToggleMode");return openBlock(),createElementBlock("nav",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$2,[_hoisted_4$2,createBaseVNode("div",_hoisted_5$2,[createBaseVNode("nav",_hoisted_6$2,[_hoisted_7$2,createBaseVNode("ul",_hoisted_8$2,[createBaseVNode("li",null,[createVNode(a,{class:"text-white transition hover:text-white/75",to:"/"},{default:withCtx(()=>[_hoisted_9$1]),_:1})]),createBaseVNode("li",null,[createVNode(a,{class:"text-white transition hover:text-white/75",to:"/marketplace"},{default:withCtx(()=>[_hoisted_10$1]),_:1})]),createBaseVNode("li",null,[createVNode(a,{class:"text-white transition hover:text-white/75",to:"/p2p"},{default:withCtx(()=>[_hoisted_11$1]),_:1})]),createBaseVNode("li",null,[createVNode(a,{class:"text-white transition hover:text-white/75",to:"/about"},{default:withCtx(()=>[_hoisted_12]),_:1})])])]),createBaseVNode("div",_hoisted_13,[_hoisted_14,createVNode(c),_hoisted_15])])])])])}const NavBar=_export_sfc(_sfc_main$8,[["render",_sfc_render$3]]),_sfc_main$7=defineComponent({__name:"App",setup(t){return(e,n)=>{const r=resolveComponent("RouterView");return openBlock(),createElementBlock(Fragment,null,[createVNode(NavBar),createVNode(r)],64)}}});var isVue2=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject$1(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref({}));let n=[],r=[];const o=markRaw({install(s){setActivePinia(o),o._a=s,s.provide(piniaSymbol,o),s.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!isVue2?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const noop$2=()=>{};function addSubscription(t,e,n,r=noop$2){t.push(e);const o=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&getCurrentInstance()&&onUnmounted(o),o}function triggerSubscriptions(t,...e){t.slice().forEach(n=>{n(...e)})}function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],o=t[n];isPlainObject$1(o)&&isPlainObject$1(r)&&t.hasOwnProperty(n)&&!isRef(r)&&!isReactive(r)?t[n]=mergeReactiveObjects(o,r):t[n]=r}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject$1(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed$1(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,n,r){const{state:o,actions:s,getters:a}=e,c=n.state.value[t];let m;function en(){c||(n.state.value[t]=o?o():{});const tn=toRefs(n.state.value[t]);return assign$3(tn,s,Object.keys(a||{}).reduce((sn,un)=>(sn[un]=markRaw(computed$1(()=>{setActivePinia(n);const cn=n._s.get(t);return a[un].call(cn,cn)})),sn),{}))}return m=createSetupStore(t,en,e,n,r,!0),m.$reset=function(){const sn=o?o():{};this.$patch(un=>{assign$3(un,sn)})},m}function createSetupStore(t,e,n={},r,o,s){let a;const c=assign$3({actions:{}},n),m={deep:!0};let en,tn,sn=markRaw([]),un=markRaw([]),cn;const gn=r.state.value[t];!s&&!gn&&(r.state.value[t]={}),ref({});let mn;function yn(Tn){let Pn;en=tn=!1,typeof Tn=="function"?(Tn(r.state.value[t]),Pn={type:MutationType.patchFunction,storeId:t,events:cn}):(mergeReactiveObjects(r.state.value[t],Tn),Pn={type:MutationType.patchObject,payload:Tn,storeId:t,events:cn});const zn=mn=Symbol();nextTick().then(()=>{mn===zn&&(en=!0)}),tn=!0,triggerSubscriptions(sn,Pn,r.state.value[t])}const wn=noop$2;function kn(){a.stop(),sn=[],un=[],r._s.delete(t)}function An(Tn,Pn){return function(){setActivePinia(r);const zn=Array.from(arguments),Nn=[],Kn=[];function _r(ln){Nn.push(ln)}function pn(ln){Kn.push(ln)}triggerSubscriptions(un,{args:zn,name:Tn,store:Mn,after:_r,onError:pn});let on;try{on=Pn.apply(this&&this.$id===t?this:Mn,zn)}catch(ln){throw triggerSubscriptions(Kn,ln),ln}return on instanceof Promise?on.then(ln=>(triggerSubscriptions(Nn,ln),ln)).catch(ln=>(triggerSubscriptions(Kn,ln),Promise.reject(ln))):(triggerSubscriptions(Nn,on),on)}}const $n={_p:r,$id:t,$onAction:addSubscription.bind(null,un),$patch:yn,$reset:wn,$subscribe(Tn,Pn={}){const zn=addSubscription(sn,Tn,Pn.detached,()=>Nn()),Nn=a.run(()=>watch(()=>r.state.value[t],Kn=>{(Pn.flush==="sync"?tn:en)&&Tn({storeId:t,type:MutationType.direct,events:cn},Kn)},assign$3({},m,Pn)));return zn},$dispose:kn},Mn=reactive(assign$3({},$n));r._s.set(t,Mn);const En=r._e.run(()=>(a=effectScope(),a.run(()=>e())));for(const Tn in En){const Pn=En[Tn];if(isRef(Pn)&&!isComputed$1(Pn)||isReactive(Pn))s||(gn&&shouldHydrate(Pn)&&(isRef(Pn)?Pn.value=gn[Tn]:mergeReactiveObjects(Pn,gn[Tn])),r.state.value[t][Tn]=Pn);else if(typeof Pn=="function"){const zn=An(Tn,Pn);En[Tn]=zn,c.actions[Tn]=Pn}}return assign$3(Mn,En),assign$3(toRaw(Mn),En),Object.defineProperty(Mn,"$state",{get:()=>r.state.value[t],set:Tn=>{yn(Pn=>{assign$3(Pn,Tn)})}}),r._p.forEach(Tn=>{assign$3(Mn,a.run(()=>Tn({store:Mn,app:r._a,pinia:r,options:c})))}),gn&&s&&n.hydrate&&n.hydrate(Mn.$state,gn),en=!0,tn=!0,Mn}function defineStore(t,e,n){let r,o;const s=typeof e=="function";typeof t=="string"?(r=t,o=s?n:e):(o=t,r=t.id);function a(c,m){const en=getCurrentInstance();return c=c||en&&inject(piniaSymbol),c&&setActivePinia(c),c=activePinia,c._s.has(r)||(s?createSetupStore(r,e,o,c):createOptionsStore(r,o,c)),c._s.get(r)}return a.$id=r,a}function storeToRefs(t){{t=toRaw(t);const e={};for(const n in t){const r=t[n];(isRef(r)||isReactive(r))&&(e[n]=toRef(t,n))}return e}}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(t,e){const n={};for(const r in e){const o=e[r];n[r]=isArray$1(o)?o.map(t):t(o)}return n}const noop$1=()=>{},isArray$1=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,n="/"){let r,o={},s="",a="";const c=e.indexOf("#");let m=e.indexOf("?");return c<m&&c>=0&&(m=-1),m>-1&&(r=e.slice(0,m),s=e.slice(m+1,c>-1?c:e.length),o=t(s)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=resolveRelativePath(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:o,hash:a}}function stringifyURL(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,n){const r=e.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&isSameRouteRecord(e.matched[r],n.matched[o])&&isSameRouteLocationParams(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!isSameRouteLocationParamsValue(t[n],e[n]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray$1(t)?isEquivalentArray(t,e):isArray$1(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return isArray$1(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=getElementPosition(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:n,search:r,hash:o}=e,s=t.indexOf("#");if(s>-1){let c=o.includes(t.slice(s))?t.slice(s).length:1,m=o.slice(c);return m[0]!=="/"&&(m="/"+m),stripBase(m,"")}return stripBase(n,t)+r+o}function useHistoryListeners(t,e,n,r){let o=[],s=[],a=null;const c=({state:un})=>{const cn=createCurrentLocation(t,location),gn=n.value,mn=e.value;let yn=0;if(un){if(n.value=cn,e.value=un,a&&a===gn){a=null;return}yn=mn?un.position-mn.position:0}else r(cn);o.forEach(wn=>{wn(n.value,gn,{delta:yn,type:NavigationType.pop,direction:yn?yn>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function m(){a=n.value}function en(un){o.push(un);const cn=()=>{const gn=o.indexOf(un);gn>-1&&o.splice(gn,1)};return s.push(cn),cn}function tn(){const{history:un}=window;!un.state||un.replaceState(assign$2({},un.state,{scroll:computeScrollPosition()}),"")}function sn(){for(const un of s)un();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",tn)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",tn),{pauseListeners:m,listen:en,destroy:sn}}function buildState(t,e,n,r=!1,o=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:n}=window,r={value:createCurrentLocation(t,n)},o={value:e.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(m,en,tn){const sn=t.indexOf("#"),un=sn>-1?(n.host&&document.querySelector("base")?t:t.slice(sn))+m:createBaseLocation()+t+m;try{e[tn?"replaceState":"pushState"](en,"",un),o.value=en}catch(cn){console.error(cn),n[tn?"replace":"assign"](un)}}function a(m,en){const tn=assign$2({},e.state,buildState(o.value.back,m,o.value.forward,!0),en,{position:o.value.position});s(m,tn,!0),r.value=m}function c(m,en){const tn=assign$2({},o.value,e.state,{forward:m,scroll:computeScrollPosition()});s(tn.current,tn,!0);const sn=assign$2({},buildState(r.value,m,null),{position:tn.position+1},en);s(m,sn,!1),r.value=m}return{location:r,state:o,push:c,replace:a}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),n=useHistoryListeners(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=assign$2({location:"",base:t,go:r,createHref:createHref.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function createWebHashHistory(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),createWebHistory(t)}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign$2(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const n=assign$2({},BASE_PATH_PARSER_OPTIONS,e),r=[];let o=n.start?"^":"";const s=[];for(const en of t){const tn=en.length?[]:[90];n.strict&&!en.length&&(o+="/");for(let sn=0;sn<en.length;sn++){const un=en[sn];let cn=40+(n.sensitive?.25:0);if(un.type===0)sn||(o+="/"),o+=un.value.replace(REGEX_CHARS_RE,"\\$&"),cn+=40;else if(un.type===1){const{value:gn,repeatable:mn,optional:yn,regexp:wn}=un;s.push({name:gn,repeatable:mn,optional:yn});const kn=wn||BASE_PARAM_PATTERN;if(kn!==BASE_PARAM_PATTERN){cn+=10;try{new RegExp(`(${kn})`)}catch($n){throw new Error(`Invalid custom RegExp for param "${gn}" (${kn}): `+$n.message)}}let An=mn?`((?:${kn})(?:/(?:${kn}))*)`:`(${kn})`;sn||(An=yn&&en.length<2?`(?:/${An})`:"/"+An),yn&&(An+="?"),o+=An,cn+=20,yn&&(cn+=-8),mn&&(cn+=-20),kn===".*"&&(cn+=-50)}tn.push(cn)}r.push(tn)}if(n.strict&&n.end){const en=r.length-1;r[en][r[en].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function c(en){const tn=en.match(a),sn={};if(!tn)return null;for(let un=1;un<tn.length;un++){const cn=tn[un]||"",gn=s[un-1];sn[gn.name]=cn&&gn.repeatable?cn.split("/"):cn}return sn}function m(en){let tn="",sn=!1;for(const un of t){(!sn||!tn.endsWith("/"))&&(tn+="/"),sn=!1;for(const cn of un)if(cn.type===0)tn+=cn.value;else if(cn.type===1){const{value:gn,repeatable:mn,optional:yn}=cn,wn=gn in en?en[gn]:"";if(isArray$1(wn)&&!mn)throw new Error(`Provided param "${gn}" is an array but it is not repeatable (* or + modifiers)`);const kn=isArray$1(wn)?wn.join("/"):wn;if(!kn)if(yn)un.length<2&&(tn.endsWith("/")?tn=tn.slice(0,-1):sn=!0);else throw new Error(`Missing required param "${gn}"`);tn+=kn}}return tn||"/"}return{re:a,score:r,keys:s,parse:c,stringify:m}}function compareScoreArray(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let n=0;const r=t.score,o=e.score;for(;n<r.length&&n<o.length;){const s=compareScoreArray(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(isLastScoreNegative(r))return 1;if(isLastScoreNegative(o))return-1}return o.length-r.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(cn){throw new Error(`ERR (${n})/"${en}": ${cn}`)}let n=0,r=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let c=0,m,en="",tn="";function sn(){!en||(n===0?s.push({type:0,value:en}):n===1||n===2||n===3?(s.length>1&&(m==="*"||m==="+")&&e(`A repeatable param (${en}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:en,regexp:tn,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):e("Invalid state to consume buffer"),en="")}function un(){en+=m}for(;c<t.length;){if(m=t[c++],m==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:m==="/"?(en&&sn(),a()):m===":"?(sn(),n=1):un();break;case 4:un(),n=r;break;case 1:m==="("?n=2:VALID_PARAM_RE.test(m)?un():(sn(),n=0,m!=="*"&&m!=="?"&&m!=="+"&&c--);break;case 2:m===")"?tn[tn.length-1]=="\\"?tn=tn.slice(0,-1)+m:n=3:tn+=m;break;case 3:sn(),n=0,m!=="*"&&m!=="?"&&m!=="+"&&c--,tn="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${en}"`),sn(),a(),o}function createRouteRecordMatcher(t,e,n){const r=tokensToParser(tokenizePath(t.path),n),o=assign$2(r,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function createRouterMatcher(t,e){const n=[],r=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function o(tn){return r.get(tn)}function s(tn,sn,un){const cn=!un,gn=normalizeRouteRecord(tn);gn.aliasOf=un&&un.record;const mn=mergeOptions(e,tn),yn=[gn];if("alias"in tn){const An=typeof tn.alias=="string"?[tn.alias]:tn.alias;for(const $n of An)yn.push(assign$2({},gn,{components:un?un.record.components:gn.components,path:$n,aliasOf:un?un.record:gn}))}let wn,kn;for(const An of yn){const{path:$n}=An;if(sn&&$n[0]!=="/"){const Mn=sn.record.path,En=Mn[Mn.length-1]==="/"?"":"/";An.path=sn.record.path+($n&&En+$n)}if(wn=createRouteRecordMatcher(An,sn,mn),un?un.alias.push(wn):(kn=kn||wn,kn!==wn&&kn.alias.push(wn),cn&&tn.name&&!isAliasRecord(wn)&&a(tn.name)),gn.children){const Mn=gn.children;for(let En=0;En<Mn.length;En++)s(Mn[En],wn,un&&un.children[En])}un=un||wn,m(wn)}return kn?()=>{a(kn)}:noop$1}function a(tn){if(isRouteName(tn)){const sn=r.get(tn);sn&&(r.delete(tn),n.splice(n.indexOf(sn),1),sn.children.forEach(a),sn.alias.forEach(a))}else{const sn=n.indexOf(tn);sn>-1&&(n.splice(sn,1),tn.record.name&&r.delete(tn.record.name),tn.children.forEach(a),tn.alias.forEach(a))}}function c(){return n}function m(tn){let sn=0;for(;sn<n.length&&comparePathParserScore(tn,n[sn])>=0&&(tn.record.path!==n[sn].record.path||!isRecordChildOf(tn,n[sn]));)sn++;n.splice(sn,0,tn),tn.record.name&&!isAliasRecord(tn)&&r.set(tn.record.name,tn)}function en(tn,sn){let un,cn={},gn,mn;if("name"in tn&&tn.name){if(un=r.get(tn.name),!un)throw createRouterError(1,{location:tn});mn=un.record.name,cn=assign$2(paramsFromLocation(sn.params,un.keys.filter(kn=>!kn.optional).map(kn=>kn.name)),tn.params&&paramsFromLocation(tn.params,un.keys.map(kn=>kn.name))),gn=un.stringify(cn)}else if("path"in tn)gn=tn.path,un=n.find(kn=>kn.re.test(gn)),un&&(cn=un.parse(gn),mn=un.record.name);else{if(un=sn.name?r.get(sn.name):n.find(kn=>kn.re.test(sn.path)),!un)throw createRouterError(1,{location:tn,currentLocation:sn});mn=un.record.name,cn=assign$2({},sn.params,tn.params),gn=un.stringify(cn)}const yn=[];let wn=un;for(;wn;)yn.unshift(wn.record),wn=wn.parent;return{name:mn,path:gn,params:cn,matched:yn,meta:mergeMetaFields(yn)}}return t.forEach(tn=>s(tn)),{addRoute:s,resolve:en,removeRoute:a,getRoutes:c,getRecordMatcher:o}}function paramsFromLocation(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function normalizeRecordProps(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,n)=>assign$2(e,n.meta),{})}function mergeOptions(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function isRecordChildOf(t,e){return e.children.some(n=>n===t||isRecordChildOf(t,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(PLUS_RE," "),a=s.indexOf("="),c=decode(a<0?s:s.slice(0,a)),m=a<0?null:decode(s.slice(a+1));if(c in e){let en=e[c];isArray$1(en)||(en=e[c]=[en]),en.push(m)}else e[c]=m}return e}function stringifyQuery(t){let e="";for(let n in t){const r=t[n];if(n=encodeQueryKey(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(isArray$1(r)?r.map(s=>s&&encodeQueryValue(s)):[r&&encodeQueryValue(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function normalizeQuery(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=isArray$1(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(r){return t.push(r),()=>{const o=t.indexOf(r);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function guardToPromiseFn(t,e,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,c)=>{const m=sn=>{sn===!1?c(createRouterError(4,{from:n,to:e})):sn instanceof Error?c(sn):isRouteLocation(sn)?c(createRouterError(2,{from:e,to:sn})):(s&&r.enterCallbacks[o]===s&&typeof sn=="function"&&s.push(sn),a())},en=t.call(r&&r.instances[o],e,n,m);let tn=Promise.resolve(en);t.length<3&&(tn=tn.then(m)),tn.catch(sn=>c(sn))})}function extractComponentsGuards(t,e,n,r){const o=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(isRouteComponent(c)){const en=(c.__vccOpts||c)[e];en&&o.push(guardToPromiseFn(en,n,r,s,a))}else{let m=c();o.push(()=>m.then(en=>{if(!en)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const tn=isESModule(en)?en.default:en;s.components[a]=tn;const un=(tn.__vccOpts||tn)[e];return un&&guardToPromiseFn(un,n,r,s,a)()}))}}return o}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject(routerKey),n=inject(routeLocationKey),r=computed$1(()=>e.resolve(unref(t.to))),o=computed$1(()=>{const{matched:m}=r.value,{length:en}=m,tn=m[en-1],sn=n.matched;if(!tn||!sn.length)return-1;const un=sn.findIndex(isSameRouteRecord.bind(null,tn));if(un>-1)return un;const cn=getOriginalPath(m[en-2]);return en>1&&getOriginalPath(tn)===cn&&sn[sn.length-1].path!==cn?sn.findIndex(isSameRouteRecord.bind(null,m[en-2])):un}),s=computed$1(()=>o.value>-1&&includesParams(n.params,r.value.params)),a=computed$1(()=>o.value>-1&&o.value===n.matched.length-1&&isSameRouteLocationParams(n.params,r.value.params));function c(m={}){return guardEvent(m)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop$1):Promise.resolve()}return{route:r,href:computed$1(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const n=reactive(useLink(t)),{options:r}=inject(routerKey),o=computed$1(()=>({[getLinkClass(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:h("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const n in e){const r=e[n],o=t[n];if(typeof r=="string"){if(r!==o)return!1}else if(!isArray$1(o)||o.length!==r.length||r.some((s,a)=>s!==o[a]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,n)=>t??e??n,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=inject(routerViewLocationKey),o=computed$1(()=>t.route||r.value),s=inject(viewDepthKey,0),a=computed$1(()=>{let en=unref(s);const{matched:tn}=o.value;let sn;for(;(sn=tn[en])&&!sn.components;)en++;return en}),c=computed$1(()=>o.value.matched[a.value]);provide(viewDepthKey,computed$1(()=>a.value+1)),provide(matchedRouteKey,c),provide(routerViewLocationKey,o);const m=ref();return watch(()=>[m.value,c.value,t.name],([en,tn,sn],[un,cn,gn])=>{tn&&(tn.instances[sn]=en,cn&&cn!==tn&&en&&en===un&&(tn.leaveGuards.size||(tn.leaveGuards=cn.leaveGuards),tn.updateGuards.size||(tn.updateGuards=cn.updateGuards))),en&&tn&&(!cn||!isSameRouteRecord(tn,cn)||!un)&&(tn.enterCallbacks[sn]||[]).forEach(mn=>mn(en))},{flush:"post"}),()=>{const en=o.value,tn=t.name,sn=c.value,un=sn&&sn.components[tn];if(!un)return normalizeSlot(n.default,{Component:un,route:en});const cn=sn.props[tn],gn=cn?cn===!0?en.params:typeof cn=="function"?cn(en):cn:null,yn=h(un,assign$2({},gn,e,{onVnodeUnmounted:wn=>{wn.component.isUnmounted&&(sn.instances[tn]=null)},ref:m}));return normalizeSlot(n.default,{Component:yn,route:en})||yn}}});function normalizeSlot(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),n=t.parseQuery||parseQuery,r=t.stringifyQuery||stringifyQuery,o=t.history,s=useCallbacks(),a=useCallbacks(),c=useCallbacks(),m=shallowRef(START_LOCATION_NORMALIZED);let en=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const tn=applyToParams.bind(null,Fn=>""+Fn),sn=applyToParams.bind(null,encodeParam),un=applyToParams.bind(null,decode);function cn(Fn,Vn){let Gn,Yn;return isRouteName(Fn)?(Gn=e.getRecordMatcher(Fn),Yn=Vn):Yn=Fn,e.addRoute(Yn,Gn)}function gn(Fn){const Vn=e.getRecordMatcher(Fn);Vn&&e.removeRoute(Vn)}function mn(){return e.getRoutes().map(Fn=>Fn.record)}function yn(Fn){return!!e.getRecordMatcher(Fn)}function wn(Fn,Vn){if(Vn=assign$2({},Vn||m.value),typeof Fn=="string"){const wr=parseURL(n,Fn,Vn.path),Ln=e.resolve({path:wr.path},Vn),Un=o.createHref(wr.fullPath);return assign$2(wr,Ln,{params:un(Ln.params),hash:decode(wr.hash),redirectedFrom:void 0,href:Un})}let Gn;if("path"in Fn)Gn=assign$2({},Fn,{path:parseURL(n,Fn.path,Vn.path).path});else{const wr=assign$2({},Fn.params);for(const Ln in wr)wr[Ln]==null&&delete wr[Ln];Gn=assign$2({},Fn,{params:sn(Fn.params)}),Vn.params=sn(Vn.params)}const Yn=e.resolve(Gn,Vn),gr=Fn.hash||"";Yn.params=tn(un(Yn.params));const Or=stringifyURL(r,assign$2({},Fn,{hash:encodeHash(gr),path:Yn.path})),Ir=o.createHref(Or);return assign$2({fullPath:Or,hash:gr,query:r===stringifyQuery?normalizeQuery(Fn.query):Fn.query||{}},Yn,{redirectedFrom:void 0,href:Ir})}function kn(Fn){return typeof Fn=="string"?parseURL(n,Fn,m.value.path):assign$2({},Fn)}function An(Fn,Vn){if(en!==Fn)return createRouterError(8,{from:Vn,to:Fn})}function $n(Fn){return Tn(Fn)}function Mn(Fn){return $n(assign$2(kn(Fn),{replace:!0}))}function En(Fn){const Vn=Fn.matched[Fn.matched.length-1];if(Vn&&Vn.redirect){const{redirect:Gn}=Vn;let Yn=typeof Gn=="function"?Gn(Fn):Gn;return typeof Yn=="string"&&(Yn=Yn.includes("?")||Yn.includes("#")?Yn=kn(Yn):{path:Yn},Yn.params={}),assign$2({query:Fn.query,hash:Fn.hash,params:"path"in Yn?{}:Fn.params},Yn)}}function Tn(Fn,Vn){const Gn=en=wn(Fn),Yn=m.value,gr=Fn.state,Or=Fn.force,Ir=Fn.replace===!0,wr=En(Gn);if(wr)return Tn(assign$2(kn(wr),{state:typeof wr=="object"?assign$2({},gr,wr.state):gr,force:Or,replace:Ir}),Vn||Gn);const Ln=Gn;Ln.redirectedFrom=Vn;let Un;return!Or&&isSameRouteLocation(r,Yn,Gn)&&(Un=createRouterError(16,{to:Ln,from:Yn}),Zn(Yn,Yn,!0,!1)),(Un?Promise.resolve(Un):zn(Ln,Yn)).catch(qn=>isNavigationFailure(qn)?isNavigationFailure(qn,2)?qn:Hn(qn):xn(qn,Ln,Yn)).then(qn=>{if(qn){if(isNavigationFailure(qn,2))return Tn(assign$2({replace:Ir},kn(qn.to),{state:typeof qn.to=="object"?assign$2({},gr,qn.to.state):gr,force:Or}),Vn||Ln)}else qn=Kn(Ln,Yn,!0,Ir,gr);return Nn(Ln,Yn,qn),qn})}function Pn(Fn,Vn){const Gn=An(Fn,Vn);return Gn?Promise.reject(Gn):Promise.resolve()}function zn(Fn,Vn){let Gn;const[Yn,gr,Or]=extractChangingRecords(Fn,Vn);Gn=extractComponentsGuards(Yn.reverse(),"beforeRouteLeave",Fn,Vn);for(const wr of Yn)wr.leaveGuards.forEach(Ln=>{Gn.push(guardToPromiseFn(Ln,Fn,Vn))});const Ir=Pn.bind(null,Fn,Vn);return Gn.push(Ir),runGuardQueue(Gn).then(()=>{Gn=[];for(const wr of s.list())Gn.push(guardToPromiseFn(wr,Fn,Vn));return Gn.push(Ir),runGuardQueue(Gn)}).then(()=>{Gn=extractComponentsGuards(gr,"beforeRouteUpdate",Fn,Vn);for(const wr of gr)wr.updateGuards.forEach(Ln=>{Gn.push(guardToPromiseFn(Ln,Fn,Vn))});return Gn.push(Ir),runGuardQueue(Gn)}).then(()=>{Gn=[];for(const wr of Fn.matched)if(wr.beforeEnter&&!Vn.matched.includes(wr))if(isArray$1(wr.beforeEnter))for(const Ln of wr.beforeEnter)Gn.push(guardToPromiseFn(Ln,Fn,Vn));else Gn.push(guardToPromiseFn(wr.beforeEnter,Fn,Vn));return Gn.push(Ir),runGuardQueue(Gn)}).then(()=>(Fn.matched.forEach(wr=>wr.enterCallbacks={}),Gn=extractComponentsGuards(Or,"beforeRouteEnter",Fn,Vn),Gn.push(Ir),runGuardQueue(Gn))).then(()=>{Gn=[];for(const wr of a.list())Gn.push(guardToPromiseFn(wr,Fn,Vn));return Gn.push(Ir),runGuardQueue(Gn)}).catch(wr=>isNavigationFailure(wr,8)?wr:Promise.reject(wr))}function Nn(Fn,Vn,Gn){for(const Yn of c.list())Yn(Fn,Vn,Gn)}function Kn(Fn,Vn,Gn,Yn,gr){const Or=An(Fn,Vn);if(Or)return Or;const Ir=Vn===START_LOCATION_NORMALIZED,wr=isBrowser?history.state:{};Gn&&(Yn||Ir?o.replace(Fn.fullPath,assign$2({scroll:Ir&&wr&&wr.scroll},gr)):o.push(Fn.fullPath,gr)),m.value=Fn,Zn(Fn,Vn,Gn,Ir),Hn()}let _r;function pn(){_r||(_r=o.listen((Fn,Vn,Gn)=>{if(!Hr.listening)return;const Yn=wn(Fn),gr=En(Yn);if(gr){Tn(assign$2(gr,{replace:!0}),Yn).catch(noop$1);return}en=Yn;const Or=m.value;isBrowser&&saveScrollPosition(getScrollKey(Or.fullPath,Gn.delta),computeScrollPosition()),zn(Yn,Or).catch(Ir=>isNavigationFailure(Ir,12)?Ir:isNavigationFailure(Ir,2)?(Tn(Ir.to,Yn).then(wr=>{isNavigationFailure(wr,20)&&!Gn.delta&&Gn.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop$1),Promise.reject()):(Gn.delta&&o.go(-Gn.delta,!1),xn(Ir,Yn,Or))).then(Ir=>{Ir=Ir||Kn(Yn,Or,!1),Ir&&(Gn.delta&&!isNavigationFailure(Ir,8)?o.go(-Gn.delta,!1):Gn.type===NavigationType.pop&&isNavigationFailure(Ir,20)&&o.go(-1,!1)),Nn(Yn,Or,Ir)}).catch(noop$1)}))}let on=useCallbacks(),ln=useCallbacks(),vn;function xn(Fn,Vn,Gn){Hn(Fn);const Yn=ln.list();return Yn.length?Yn.forEach(gr=>gr(Fn,Vn,Gn)):console.error(Fn),Promise.reject(Fn)}function On(){return vn&&m.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Fn,Vn)=>{on.add([Fn,Vn])})}function Hn(Fn){return vn||(vn=!Fn,pn(),on.list().forEach(([Vn,Gn])=>Fn?Gn(Fn):Vn()),on.reset()),Fn}function Zn(Fn,Vn,Gn,Yn){const{scrollBehavior:gr}=t;if(!isBrowser||!gr)return Promise.resolve();const Or=!Gn&&getSavedScrollPosition(getScrollKey(Fn.fullPath,0))||(Yn||!Gn)&&history.state&&history.state.scroll||null;return nextTick().then(()=>gr(Fn,Vn,Or)).then(Ir=>Ir&&scrollToPosition(Ir)).catch(Ir=>xn(Ir,Fn,Vn))}const Rn=Fn=>o.go(Fn);let fn;const Dn=new Set,Hr={currentRoute:m,listening:!0,addRoute:cn,removeRoute:gn,hasRoute:yn,getRoutes:mn,resolve:wn,options:t,push:$n,replace:Mn,go:Rn,back:()=>Rn(-1),forward:()=>Rn(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:ln.add,isReady:On,install(Fn){const Vn=this;Fn.component("RouterLink",RouterLink),Fn.component("RouterView",RouterView),Fn.config.globalProperties.$router=Vn,Object.defineProperty(Fn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(m)}),isBrowser&&!fn&&m.value===START_LOCATION_NORMALIZED&&(fn=!0,$n(o.location).catch(gr=>{}));const Gn={};for(const gr in START_LOCATION_NORMALIZED)Gn[gr]=computed$1(()=>m.value[gr]);Fn.provide(routerKey,Vn),Fn.provide(routeLocationKey,reactive(Gn)),Fn.provide(routerViewLocationKey,m);const Yn=Fn.unmount;Dn.add(Fn),Fn.unmount=function(){Dn.delete(Fn),Dn.size<1&&(en=START_LOCATION_NORMALIZED,_r&&_r(),_r=null,m.value=START_LOCATION_NORMALIZED,fn=!1,vn=!1),Yn()}}};return Hr}function runGuardQueue(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function extractChangingRecords(t,e){const n=[],r=[],o=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(en=>isSameRouteRecord(en,c))?r.push(c):n.push(c));const m=t.matched[a];m&&(e.matched.find(en=>isSameRouteRecord(en,m))||o.push(m))}return[n,r,o]}const index="",_sfc_main$6={};function _sfc_render$2(t,e){return openBlock(),createElementBlock("h1",null,"Weclome to SkullnBones Trading ")}const Home=_export_sfc(_sfc_main$6,[["render",_sfc_render$2]]),SERUMAPIWEBSOCKET="wss://api.serum-vial.dev/v1/ws";class Convert{static toMarketLevel1(e){return JSON.parse(e)}static marketLevel1ToJson(e){return JSON.stringify(e)}}const useTokenPriceStore=defineStore({id:"tokenPriceStore",state:()=>({ws:{},btc:"0.0",sol:"0.0",atlas:"0.0",polis:"0.0"}),actions:{init(){this.ws=new WebSocket(SERUMAPIWEBSOCKET);const t={op:"subscribe",channel:"level1",markets:["BTC/USDC"]},e={op:"subscribe",channel:"level1",markets:["SOL/USDC"]},n={op:"subscribe",channel:"level1",markets:["POLIS/USDC"]},r={op:"subscribe",channel:"level1",markets:["ATLAS/USDC"]};this.ws.onopen=()=>{this.ws.send(JSON.stringify(t)),this.ws.send(JSON.stringify(e)),this.ws.send(JSON.stringify(n)),this.ws.send(JSON.stringify(r))},this.ws.onmessage=o=>{const s=Convert.toMarketLevel1(o.data);if(s.type==="quote")switch(s.market){case"BTC/USDC":this.btc=s.bestBid[0];break;case"SOL/USDC":this.sol=s.bestBid[0];break;case"ATLAS/USDC":this.atlas=s.bestBid[0];break;case"POLIS/USDC":this.polis=s.bestBid[0];break}}}}});var buffer$1={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js$1,n=ieee754$1,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=kn,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const nn=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(nn,l),nn.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(nn){if(nn>o)throw new RangeError('The value "'+nn+'" is invalid for option "size"');const l=new Uint8Array(nn);return Object.setPrototypeOf(l,c.prototype),l}function c(nn,l,d){if(typeof nn=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return sn(nn)}return m(nn,l,d)}c.poolSize=8192;function m(nn,l,d){if(typeof nn=="string")return un(nn,l);if(ArrayBuffer.isView(nn))return gn(nn);if(nn==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nn);if(br(nn,ArrayBuffer)||nn&&br(nn.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(br(nn,SharedArrayBuffer)||nn&&br(nn.buffer,SharedArrayBuffer)))return mn(nn,l,d);if(typeof nn=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const an=nn.valueOf&&nn.valueOf();if(an!=null&&an!==nn)return c.from(an,l,d);const hn=yn(nn);if(hn)return hn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof nn[Symbol.toPrimitive]=="function")return c.from(nn[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nn)}c.from=function(nn,l,d){return m(nn,l,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function en(nn){if(typeof nn!="number")throw new TypeError('"size" argument must be of type number');if(nn<0)throw new RangeError('The value "'+nn+'" is invalid for option "size"')}function tn(nn,l,d){return en(nn),nn<=0?a(nn):l!==void 0?typeof d=="string"?a(nn).fill(l,d):a(nn).fill(l):a(nn)}c.alloc=function(nn,l,d){return tn(nn,l,d)};function sn(nn){return en(nn),a(nn<0?0:wn(nn)|0)}c.allocUnsafe=function(nn){return sn(nn)},c.allocUnsafeSlow=function(nn){return sn(nn)};function un(nn,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=An(nn,l)|0;let an=a(d);const hn=an.write(nn,l);return hn!==d&&(an=an.slice(0,hn)),an}function cn(nn){const l=nn.length<0?0:wn(nn.length)|0,d=a(l);for(let an=0;an<l;an+=1)d[an]=nn[an]&255;return d}function gn(nn){if(br(nn,Uint8Array)){const l=new Uint8Array(nn);return mn(l.buffer,l.byteOffset,l.byteLength)}return cn(nn)}function mn(nn,l,d){if(l<0||nn.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(nn.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let an;return l===void 0&&d===void 0?an=new Uint8Array(nn):d===void 0?an=new Uint8Array(nn,l):an=new Uint8Array(nn,l,d),Object.setPrototypeOf(an,c.prototype),an}function yn(nn){if(c.isBuffer(nn)){const l=wn(nn.length)|0,d=a(l);return d.length===0||nn.copy(d,0,0,l),d}if(nn.length!==void 0)return typeof nn.length!="number"||Tr(nn.length)?a(0):cn(nn);if(nn.type==="Buffer"&&Array.isArray(nn.data))return cn(nn.data)}function wn(nn){if(nn>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return nn|0}function kn(nn){return+nn!=nn&&(nn=0),c.alloc(+nn)}c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,d){if(br(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),br(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),!c.isBuffer(l)||!c.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let an=l.length,hn=d.length;for(let _n=0,In=Math.min(an,hn);_n<In;++_n)if(l[_n]!==d[_n]){an=l[_n],hn=d[_n];break}return an<hn?-1:hn<an?1:0},c.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);let an;if(d===void 0)for(d=0,an=0;an<l.length;++an)d+=l[an].length;const hn=c.allocUnsafe(d);let _n=0;for(an=0;an<l.length;++an){let In=l[an];if(br(In,Uint8Array))_n+In.length>hn.length?(c.isBuffer(In)||(In=c.from(In)),In.copy(hn,_n)):Uint8Array.prototype.set.call(hn,In,_n);else if(c.isBuffer(In))In.copy(hn,_n);else throw new TypeError('"list" argument must be an Array of Buffers');_n+=In.length}return hn};function An(nn,l){if(c.isBuffer(nn))return nn.length;if(ArrayBuffer.isView(nn)||br(nn,ArrayBuffer))return nn.byteLength;if(typeof nn!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof nn);const d=nn.length,an=arguments.length>2&&arguments[2]===!0;if(!an&&d===0)return 0;let hn=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return Xn(nn).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return Ar(nn).length;default:if(hn)return an?-1:Xn(nn).length;l=(""+l).toLowerCase(),hn=!0}}c.byteLength=An;function $n(nn,l,d){let an=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(nn||(nn="utf8");;)switch(nn){case"hex":return Hn(this,l,d);case"utf8":case"utf-8":return on(this,l,d);case"ascii":return xn(this,l,d);case"latin1":case"binary":return On(this,l,d);case"base64":return pn(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zn(this,l,d);default:if(an)throw new TypeError("Unknown encoding: "+nn);nn=(nn+"").toLowerCase(),an=!0}}c.prototype._isBuffer=!0;function Mn(nn,l,d){const an=nn[l];nn[l]=nn[d],nn[d]=an}c.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)Mn(this,d,d+1);return this},c.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)Mn(this,d,d+3),Mn(this,d+1,d+2);return this},c.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)Mn(this,d,d+7),Mn(this,d+1,d+6),Mn(this,d+2,d+5),Mn(this,d+3,d+4);return this},c.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?on(this,0,l):$n.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:c.compare(this,l)===0},c.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(l,d,an,hn,_n){if(br(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),an===void 0&&(an=l?l.length:0),hn===void 0&&(hn=0),_n===void 0&&(_n=this.length),d<0||an>l.length||hn<0||_n>this.length)throw new RangeError("out of range index");if(hn>=_n&&d>=an)return 0;if(hn>=_n)return-1;if(d>=an)return 1;if(d>>>=0,an>>>=0,hn>>>=0,_n>>>=0,this===l)return 0;let In=_n-hn,kr=an-d;const Ur=Math.min(In,kr),Pr=this.slice(hn,_n),Kr=l.slice(d,an);for(let Lr=0;Lr<Ur;++Lr)if(Pr[Lr]!==Kr[Lr]){In=Pr[Lr],kr=Kr[Lr];break}return In<kr?-1:kr<In?1:0};function En(nn,l,d,an,hn){if(nn.length===0)return-1;if(typeof d=="string"?(an=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Tr(d)&&(d=hn?0:nn.length-1),d<0&&(d=nn.length+d),d>=nn.length){if(hn)return-1;d=nn.length-1}else if(d<0)if(hn)d=0;else return-1;if(typeof l=="string"&&(l=c.from(l,an)),c.isBuffer(l))return l.length===0?-1:Tn(nn,l,d,an,hn);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?hn?Uint8Array.prototype.indexOf.call(nn,l,d):Uint8Array.prototype.lastIndexOf.call(nn,l,d):Tn(nn,[l],d,an,hn);throw new TypeError("val must be string, number or Buffer")}function Tn(nn,l,d,an,hn){let _n=1,In=nn.length,kr=l.length;if(an!==void 0&&(an=String(an).toLowerCase(),an==="ucs2"||an==="ucs-2"||an==="utf16le"||an==="utf-16le")){if(nn.length<2||l.length<2)return-1;_n=2,In/=2,kr/=2,d/=2}function Ur(Kr,Lr){return _n===1?Kr[Lr]:Kr.readUInt16BE(Lr*_n)}let Pr;if(hn){let Kr=-1;for(Pr=d;Pr<In;Pr++)if(Ur(nn,Pr)===Ur(l,Kr===-1?0:Pr-Kr)){if(Kr===-1&&(Kr=Pr),Pr-Kr+1===kr)return Kr*_n}else Kr!==-1&&(Pr-=Pr-Kr),Kr=-1}else for(d+kr>In&&(d=In-kr),Pr=d;Pr>=0;Pr--){let Kr=!0;for(let Lr=0;Lr<kr;Lr++)if(Ur(nn,Pr+Lr)!==Ur(l,Lr)){Kr=!1;break}if(Kr)return Pr}return-1}c.prototype.includes=function(l,d,an){return this.indexOf(l,d,an)!==-1},c.prototype.indexOf=function(l,d,an){return En(this,l,d,an,!0)},c.prototype.lastIndexOf=function(l,d,an){return En(this,l,d,an,!1)};function Pn(nn,l,d,an){d=Number(d)||0;const hn=nn.length-d;an?(an=Number(an),an>hn&&(an=hn)):an=hn;const _n=l.length;an>_n/2&&(an=_n/2);let In;for(In=0;In<an;++In){const kr=parseInt(l.substr(In*2,2),16);if(Tr(kr))return In;nn[d+In]=kr}return In}function zn(nn,l,d,an){return vr(Xn(l,nn.length-d),nn,d,an)}function Nn(nn,l,d,an){return vr(Er(l),nn,d,an)}function Kn(nn,l,d,an){return vr(Ar(l),nn,d,an)}function _r(nn,l,d,an){return vr(Nr(l,nn.length-d),nn,d,an)}c.prototype.write=function(l,d,an,hn){if(d===void 0)hn="utf8",an=this.length,d=0;else if(an===void 0&&typeof d=="string")hn=d,an=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(an)?(an=an>>>0,hn===void 0&&(hn="utf8")):(hn=an,an=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _n=this.length-d;if((an===void 0||an>_n)&&(an=_n),l.length>0&&(an<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");hn||(hn="utf8");let In=!1;for(;;)switch(hn){case"hex":return Pn(this,l,d,an);case"utf8":case"utf-8":return zn(this,l,d,an);case"ascii":case"latin1":case"binary":return Nn(this,l,d,an);case"base64":return Kn(this,l,d,an);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _r(this,l,d,an);default:if(In)throw new TypeError("Unknown encoding: "+hn);hn=(""+hn).toLowerCase(),In=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pn(nn,l,d){return l===0&&d===nn.length?e.fromByteArray(nn):e.fromByteArray(nn.slice(l,d))}function on(nn,l,d){d=Math.min(nn.length,d);const an=[];let hn=l;for(;hn<d;){const _n=nn[hn];let In=null,kr=_n>239?4:_n>223?3:_n>191?2:1;if(hn+kr<=d){let Ur,Pr,Kr,Lr;switch(kr){case 1:_n<128&&(In=_n);break;case 2:Ur=nn[hn+1],(Ur&192)===128&&(Lr=(_n&31)<<6|Ur&63,Lr>127&&(In=Lr));break;case 3:Ur=nn[hn+1],Pr=nn[hn+2],(Ur&192)===128&&(Pr&192)===128&&(Lr=(_n&15)<<12|(Ur&63)<<6|Pr&63,Lr>2047&&(Lr<55296||Lr>57343)&&(In=Lr));break;case 4:Ur=nn[hn+1],Pr=nn[hn+2],Kr=nn[hn+3],(Ur&192)===128&&(Pr&192)===128&&(Kr&192)===128&&(Lr=(_n&15)<<18|(Ur&63)<<12|(Pr&63)<<6|Kr&63,Lr>65535&&Lr<1114112&&(In=Lr))}}In===null?(In=65533,kr=1):In>65535&&(In-=65536,an.push(In>>>10&1023|55296),In=56320|In&1023),an.push(In),hn+=kr}return vn(an)}const ln=4096;function vn(nn){const l=nn.length;if(l<=ln)return String.fromCharCode.apply(String,nn);let d="",an=0;for(;an<l;)d+=String.fromCharCode.apply(String,nn.slice(an,an+=ln));return d}function xn(nn,l,d){let an="";d=Math.min(nn.length,d);for(let hn=l;hn<d;++hn)an+=String.fromCharCode(nn[hn]&127);return an}function On(nn,l,d){let an="";d=Math.min(nn.length,d);for(let hn=l;hn<d;++hn)an+=String.fromCharCode(nn[hn]);return an}function Hn(nn,l,d){const an=nn.length;(!l||l<0)&&(l=0),(!d||d<0||d>an)&&(d=an);let hn="";for(let _n=l;_n<d;++_n)hn+=$r[nn[_n]];return hn}function Zn(nn,l,d){const an=nn.slice(l,d);let hn="";for(let _n=0;_n<an.length-1;_n+=2)hn+=String.fromCharCode(an[_n]+an[_n+1]*256);return hn}c.prototype.slice=function(l,d){const an=this.length;l=~~l,d=d===void 0?an:~~d,l<0?(l+=an,l<0&&(l=0)):l>an&&(l=an),d<0?(d+=an,d<0&&(d=0)):d>an&&(d=an),d<l&&(d=l);const hn=this.subarray(l,d);return Object.setPrototypeOf(hn,c.prototype),hn};function Rn(nn,l,d){if(nn%1!==0||nn<0)throw new RangeError("offset is not uint");if(nn+l>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l],_n=1,In=0;for(;++In<d&&(_n*=256);)hn+=this[l+In]*_n;return hn},c.prototype.readUintBE=c.prototype.readUIntBE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l+--d],_n=1;for(;d>0&&(_n*=256);)hn+=this[l+--d]*_n;return hn},c.prototype.readUint8=c.prototype.readUInt8=function(l,d){return l=l>>>0,d||Rn(l,1,this.length),this[l]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||Rn(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||Rn(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readBigUInt64LE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,_n=this[++l]+this[++l]*2**8+this[++l]*2**16+an*2**24;return BigInt(hn)+(BigInt(_n)<<BigInt(32))}),c.prototype.readBigUInt64BE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],_n=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+an;return(BigInt(hn)<<BigInt(32))+BigInt(_n)}),c.prototype.readIntLE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l],_n=1,In=0;for(;++In<d&&(_n*=256);)hn+=this[l+In]*_n;return _n*=128,hn>=_n&&(hn-=Math.pow(2,8*d)),hn},c.prototype.readIntBE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=d,_n=1,In=this[l+--hn];for(;hn>0&&(_n*=256);)In+=this[l+--hn]*_n;return _n*=128,In>=_n&&(In-=Math.pow(2,8*d)),In},c.prototype.readInt8=function(l,d){return l=l>>>0,d||Rn(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},c.prototype.readInt16LE=function(l,d){l=l>>>0,d||Rn(l,2,this.length);const an=this[l]|this[l+1]<<8;return an&32768?an|4294901760:an},c.prototype.readInt16BE=function(l,d){l=l>>>0,d||Rn(l,2,this.length);const an=this[l+1]|this[l]<<8;return an&32768?an|4294901760:an},c.prototype.readInt32LE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readBigInt64LE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(an<<24);return(BigInt(hn)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),c.prototype.readBigInt64BE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(hn)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+an)}),c.prototype.readFloatLE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),n.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),n.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||Rn(l,8,this.length),n.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||Rn(l,8,this.length),n.read(this,l,!1,52,8)};function fn(nn,l,d,an,hn,_n){if(!c.isBuffer(nn))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>hn||l<_n)throw new RangeError('"value" argument is out of bounds');if(d+an>nn.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(l,d,an,hn){if(l=+l,d=d>>>0,an=an>>>0,!hn){const kr=Math.pow(2,8*an)-1;fn(this,l,d,an,kr,0)}let _n=1,In=0;for(this[d]=l&255;++In<an&&(_n*=256);)this[d+In]=l/_n&255;return d+an},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(l,d,an,hn){if(l=+l,d=d>>>0,an=an>>>0,!hn){const kr=Math.pow(2,8*an)-1;fn(this,l,d,an,kr,0)}let _n=an-1,In=1;for(this[d+_n]=l&255;--_n>=0&&(In*=256);)this[d+_n]=l/In&255;return d+an},c.prototype.writeUint8=c.prototype.writeUInt8=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,1,255,0),this[d]=l&255,d+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function Dn(nn,l,d,an,hn){wr(l,an,hn,nn,d,7);let _n=Number(l&BigInt(4294967295));nn[d++]=_n,_n=_n>>8,nn[d++]=_n,_n=_n>>8,nn[d++]=_n,_n=_n>>8,nn[d++]=_n;let In=Number(l>>BigInt(32)&BigInt(4294967295));return nn[d++]=In,In=In>>8,nn[d++]=In,In=In>>8,nn[d++]=In,In=In>>8,nn[d++]=In,d}function Hr(nn,l,d,an,hn){wr(l,an,hn,nn,d,7);let _n=Number(l&BigInt(4294967295));nn[d+7]=_n,_n=_n>>8,nn[d+6]=_n,_n=_n>>8,nn[d+5]=_n,_n=_n>>8,nn[d+4]=_n;let In=Number(l>>BigInt(32)&BigInt(4294967295));return nn[d+3]=In,In=In>>8,nn[d+2]=In,In=In>>8,nn[d+1]=In,In=In>>8,nn[d]=In,d+8}c.prototype.writeBigUInt64LE=Br(function(l,d=0){return Dn(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Br(function(l,d=0){return Hr(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(l,d,an,hn){if(l=+l,d=d>>>0,!hn){const Ur=Math.pow(2,8*an-1);fn(this,l,d,an,Ur-1,-Ur)}let _n=0,In=1,kr=0;for(this[d]=l&255;++_n<an&&(In*=256);)l<0&&kr===0&&this[d+_n-1]!==0&&(kr=1),this[d+_n]=(l/In>>0)-kr&255;return d+an},c.prototype.writeIntBE=function(l,d,an,hn){if(l=+l,d=d>>>0,!hn){const Ur=Math.pow(2,8*an-1);fn(this,l,d,an,Ur-1,-Ur)}let _n=an-1,In=1,kr=0;for(this[d+_n]=l&255;--_n>=0&&(In*=256);)l<0&&kr===0&&this[d+_n+1]!==0&&(kr=1),this[d+_n]=(l/In>>0)-kr&255;return d+an},c.prototype.writeInt8=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},c.prototype.writeInt16LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeInt16BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeInt32LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},c.prototype.writeInt32BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},c.prototype.writeBigInt64LE=Br(function(l,d=0){return Dn(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Br(function(l,d=0){return Hr(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fn(nn,l,d,an,hn,_n){if(d+an>nn.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Vn(nn,l,d,an,hn){return l=+l,d=d>>>0,hn||Fn(nn,l,d,4),n.write(nn,l,d,an,23,4),d+4}c.prototype.writeFloatLE=function(l,d,an){return Vn(this,l,d,!0,an)},c.prototype.writeFloatBE=function(l,d,an){return Vn(this,l,d,!1,an)};function Gn(nn,l,d,an,hn){return l=+l,d=d>>>0,hn||Fn(nn,l,d,8),n.write(nn,l,d,an,52,8),d+8}c.prototype.writeDoubleLE=function(l,d,an){return Gn(this,l,d,!0,an)},c.prototype.writeDoubleBE=function(l,d,an){return Gn(this,l,d,!1,an)},c.prototype.copy=function(l,d,an,hn){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(an||(an=0),!hn&&hn!==0&&(hn=this.length),d>=l.length&&(d=l.length),d||(d=0),hn>0&&hn<an&&(hn=an),hn===an||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(an<0||an>=this.length)throw new RangeError("Index out of range");if(hn<0)throw new RangeError("sourceEnd out of bounds");hn>this.length&&(hn=this.length),l.length-d<hn-an&&(hn=l.length-d+an);const _n=hn-an;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,an,hn):Uint8Array.prototype.set.call(l,this.subarray(an,hn),d),_n},c.prototype.fill=function(l,d,an,hn){if(typeof l=="string"){if(typeof d=="string"?(hn=d,d=0,an=this.length):typeof an=="string"&&(hn=an,an=this.length),hn!==void 0&&typeof hn!="string")throw new TypeError("encoding must be a string");if(typeof hn=="string"&&!c.isEncoding(hn))throw new TypeError("Unknown encoding: "+hn);if(l.length===1){const In=l.charCodeAt(0);(hn==="utf8"&&In<128||hn==="latin1")&&(l=In)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<an)throw new RangeError("Out of range index");if(an<=d)return this;d=d>>>0,an=an===void 0?this.length:an>>>0,l||(l=0);let _n;if(typeof l=="number")for(_n=d;_n<an;++_n)this[_n]=l;else{const In=c.isBuffer(l)?l:c.from(l,hn),kr=In.length;if(kr===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(_n=0;_n<an-d;++_n)this[_n+d]=In[_n%kr]}return this};const Yn={};function gr(nn,l,d){Yn[nn]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${nn}]`,this.stack,delete this.name}get code(){return nn}set code(hn){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:hn,writable:!0})}toString(){return`${this.name} [${nn}]: ${this.message}`}}}gr("ERR_BUFFER_OUT_OF_BOUNDS",function(nn){return nn?`${nn} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),gr("ERR_INVALID_ARG_TYPE",function(nn,l){return`The "${nn}" argument must be of type number. Received type ${typeof l}`},TypeError),gr("ERR_OUT_OF_RANGE",function(nn,l,d){let an=`The value of "${nn}" is out of range.`,hn=d;return Number.isInteger(d)&&Math.abs(d)>2**32?hn=Or(String(d)):typeof d=="bigint"&&(hn=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(hn=Or(hn)),hn+="n"),an+=` It must be ${l}. Received ${hn}`,an},RangeError);function Or(nn){let l="",d=nn.length;const an=nn[0]==="-"?1:0;for(;d>=an+4;d-=3)l=`_${nn.slice(d-3,d)}${l}`;return`${nn.slice(0,d)}${l}`}function Ir(nn,l,d){Ln(l,"offset"),(nn[l]===void 0||nn[l+d]===void 0)&&Un(l,nn.length-(d+1))}function wr(nn,l,d,an,hn,_n){if(nn>d||nn<l){const In=typeof l=="bigint"?"n":"";let kr;throw _n>3?l===0||l===BigInt(0)?kr=`>= 0${In} and < 2${In} ** ${(_n+1)*8}${In}`:kr=`>= -(2${In} ** ${(_n+1)*8-1}${In}) and < 2 ** ${(_n+1)*8-1}${In}`:kr=`>= ${l}${In} and <= ${d}${In}`,new Yn.ERR_OUT_OF_RANGE("value",kr,nn)}Ir(an,hn,_n)}function Ln(nn,l){if(typeof nn!="number")throw new Yn.ERR_INVALID_ARG_TYPE(l,"number",nn)}function Un(nn,l,d){throw Math.floor(nn)!==nn?(Ln(nn,d),new Yn.ERR_OUT_OF_RANGE(d||"offset","an integer",nn)):l<0?new Yn.ERR_BUFFER_OUT_OF_BOUNDS:new Yn.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${l}`,nn)}const qn=/[^+/0-9A-Za-z-_]/g;function Sr(nn){if(nn=nn.split("=")[0],nn=nn.trim().replace(qn,""),nn.length<2)return"";for(;nn.length%4!==0;)nn=nn+"=";return nn}function Xn(nn,l){l=l||1/0;let d;const an=nn.length;let hn=null;const _n=[];for(let In=0;In<an;++In){if(d=nn.charCodeAt(In),d>55295&&d<57344){if(!hn){if(d>56319){(l-=3)>-1&&_n.push(239,191,189);continue}else if(In+1===an){(l-=3)>-1&&_n.push(239,191,189);continue}hn=d;continue}if(d<56320){(l-=3)>-1&&_n.push(239,191,189),hn=d;continue}d=(hn-55296<<10|d-56320)+65536}else hn&&(l-=3)>-1&&_n.push(239,191,189);if(hn=null,d<128){if((l-=1)<0)break;_n.push(d)}else if(d<2048){if((l-=2)<0)break;_n.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;_n.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;_n.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return _n}function Er(nn){const l=[];for(let d=0;d<nn.length;++d)l.push(nn.charCodeAt(d)&255);return l}function Nr(nn,l){let d,an,hn;const _n=[];for(let In=0;In<nn.length&&!((l-=2)<0);++In)d=nn.charCodeAt(In),an=d>>8,hn=d%256,_n.push(hn),_n.push(an);return _n}function Ar(nn){return e.toByteArray(Sr(nn))}function vr(nn,l,d,an){let hn;for(hn=0;hn<an&&!(hn+d>=l.length||hn>=nn.length);++hn)l[hn+d]=nn[hn];return hn}function br(nn,l){return nn instanceof l||nn!=null&&nn.constructor!=null&&nn.constructor.name!=null&&nn.constructor.name===l.name}function Tr(nn){return nn!==nn}const $r=function(){const nn="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const an=d*16;for(let hn=0;hn<16;++hn)l[an+hn]=nn[d]+nn[hn]}return l}();function Br(nn){return typeof BigInt>"u"?Fr:nn}function Fr(){throw new Error("BigInt not supported")}})(buffer$1);function number$1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function bool(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function bytes(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function hash(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(t.outputLen),number$1(t.blockLen)}function exists(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function output(t,e){bytes(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const assert$3={number:number$1,bool,bytes,hash,exists,output};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32$2=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rotr=(t,e)=>t<<32-e|t>>>e,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function utf8ToBytes(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function toBytes(t){if(typeof t=="string"&&(t=utf8ToBytes(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(t){const e=r=>t().update(toBytes(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function wrapConstructorWithOpts(t){const e=(r,o)=>t(o).update(toBytes(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function setBigUint64(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const o=BigInt(32),s=BigInt(4294967295),a=Number(n>>o&s),c=Number(n&s),m=r?4:0,en=r?0:4;t.setUint32(e+m,a,r),t.setUint32(e+en,c,r)}class SHA2 extends Hash{constructor(e,n,r,o){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){assert$3.exists(this);const{view:n,buffer:r,blockLen:o}=this;e=toBytes(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(o-this.pos,s-a);if(c===o){const m=createView(e);for(;o<=s-a;a+=o)this.process(m,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){assert$3.exists(this),assert$3.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let m=a;m<o;m++)n[m]=0;setBigUint64(r,o-8,BigInt(this.length*8),s),this.process(r,0);const c=createView(e);this.get().forEach((m,en)=>c.setUint32(4*en,m,s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:s,destroyed:a,pos:c}=this;return e.length=o,e.pos=c,e.finished=s,e.destroyed=a,o%n&&e.buffer.set(r),e}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(t,e=!1){return e?{h:Number(t&U32_MASK64),l:Number(t>>_32n&U32_MASK64)}:{h:Number(t>>_32n&U32_MASK64)|0,l:Number(t&U32_MASK64)|0}}function split(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:s,l:a}=fromBig(t[o],e);[n[o],r[o]]=[s,a]}return[n,r]}const toBig=(t,e)=>BigInt(t>>>0)<<_32n|BigInt(e>>>0),shrSH=(t,e,n)=>t>>>n,shrSL=(t,e,n)=>t<<32-n|e>>>n,rotrSH=(t,e,n)=>t>>>n|e<<32-n,rotrSL=(t,e,n)=>t<<32-n|e>>>n,rotrBH=(t,e,n)=>t<<64-n|e>>>n-32,rotrBL=(t,e,n)=>t>>>n-32|e<<64-n,rotr32H=(t,e)=>e,rotr32L=(t,e)=>t,rotlSH=(t,e,n)=>t<<n|e>>>32-n,rotlSL=(t,e,n)=>e<<n|t>>>32-n,rotlBH=(t,e,n)=>e<<n-32|t>>>64-n,rotlBL=(t,e,n)=>t<<n-32|e>>>64-n;function add(t,e,n,r){const o=(e>>>0)+(r>>>0);return{h:t+n+(o/2**32|0)|0,l:o|0}}const add3L=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H=(t,e,n,r,o)=>e+n+r+o+(t/2**32|0)|0,add5L=(t,e,n,r,o)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(o>>>0),add5H=(t,e,n,r,o,s)=>e+n+r+o+s+(t/2**32|0)|0,u64$2={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64$2.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:o,Ch:s,Cl:a,Dh:c,Dl:m,Eh:en,El:tn,Fh:sn,Fl:un,Gh:cn,Gl:gn,Hh:mn,Hl:yn}=this;return[e,n,r,o,s,a,c,m,en,tn,sn,un,cn,gn,mn,yn]}set(e,n,r,o,s,a,c,m,en,tn,sn,un,cn,gn,mn,yn){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=m|0,this.Eh=en|0,this.El=tn|0,this.Fh=sn|0,this.Fl=un|0,this.Gh=cn|0,this.Gl=gn|0,this.Hh=mn|0,this.Hl=yn|0}process(e,n){for(let An=0;An<16;An++,n+=4)SHA512_W_H[An]=e.getUint32(n),SHA512_W_L[An]=e.getUint32(n+=4);for(let An=16;An<80;An++){const $n=SHA512_W_H[An-15]|0,Mn=SHA512_W_L[An-15]|0,En=u64$2.rotrSH($n,Mn,1)^u64$2.rotrSH($n,Mn,8)^u64$2.shrSH($n,Mn,7),Tn=u64$2.rotrSL($n,Mn,1)^u64$2.rotrSL($n,Mn,8)^u64$2.shrSL($n,Mn,7),Pn=SHA512_W_H[An-2]|0,zn=SHA512_W_L[An-2]|0,Nn=u64$2.rotrSH(Pn,zn,19)^u64$2.rotrBH(Pn,zn,61)^u64$2.shrSH(Pn,zn,6),Kn=u64$2.rotrSL(Pn,zn,19)^u64$2.rotrBL(Pn,zn,61)^u64$2.shrSL(Pn,zn,6),_r=u64$2.add4L(Tn,Kn,SHA512_W_L[An-7],SHA512_W_L[An-16]),pn=u64$2.add4H(_r,En,Nn,SHA512_W_H[An-7],SHA512_W_H[An-16]);SHA512_W_H[An]=pn|0,SHA512_W_L[An]=_r|0}let{Ah:r,Al:o,Bh:s,Bl:a,Ch:c,Cl:m,Dh:en,Dl:tn,Eh:sn,El:un,Fh:cn,Fl:gn,Gh:mn,Gl:yn,Hh:wn,Hl:kn}=this;for(let An=0;An<80;An++){const $n=u64$2.rotrSH(sn,un,14)^u64$2.rotrSH(sn,un,18)^u64$2.rotrBH(sn,un,41),Mn=u64$2.rotrSL(sn,un,14)^u64$2.rotrSL(sn,un,18)^u64$2.rotrBL(sn,un,41),En=sn&cn^~sn&mn,Tn=un&gn^~un&yn,Pn=u64$2.add5L(kn,Mn,Tn,SHA512_Kl[An],SHA512_W_L[An]),zn=u64$2.add5H(Pn,wn,$n,En,SHA512_Kh[An],SHA512_W_H[An]),Nn=Pn|0,Kn=u64$2.rotrSH(r,o,28)^u64$2.rotrBH(r,o,34)^u64$2.rotrBH(r,o,39),_r=u64$2.rotrSL(r,o,28)^u64$2.rotrBL(r,o,34)^u64$2.rotrBL(r,o,39),pn=r&s^r&c^s&c,on=o&a^o&m^a&m;wn=mn|0,kn=yn|0,mn=cn|0,yn=gn|0,cn=sn|0,gn=un|0,{h:sn,l:un}=u64$2.add(en|0,tn|0,zn|0,Nn|0),en=c|0,tn=m|0,c=s|0,m=a|0,s=r|0,a=o|0;const ln=u64$2.add3L(Nn,_r,on);r=u64$2.add3H(ln,zn,Kn,pn),o=ln|0}({h:r,l:o}=u64$2.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l:a}=u64$2.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:m}=u64$2.add(this.Ch|0,this.Cl|0,c|0,m|0),{h:en,l:tn}=u64$2.add(this.Dh|0,this.Dl|0,en|0,tn|0),{h:sn,l:un}=u64$2.add(this.Eh|0,this.El|0,sn|0,un|0),{h:cn,l:gn}=u64$2.add(this.Fh|0,this.Fl|0,cn|0,gn|0),{h:mn,l:yn}=u64$2.add(this.Gh|0,this.Gl|0,mn|0,yn|0),{h:wn,l:kn}=u64$2.add(this.Hh|0,this.Hl|0,wn|0,kn|0),this.set(r,o,s,a,c,m,en,tn,sn,un,cn,gn,mn,yn,wn,kn)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const sha512=wrapConstructor(()=>new SHA512);wrapConstructor(()=>new SHA512_256);wrapConstructor(()=>new SHA384);const __viteBrowserExternal={},nodeCrypto=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1),_2n$2=BigInt(2),CU_O=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),CURVE$1=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:CU_O,n:CU_O,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),POW_2_256$1=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const SQRT_AD_MINUS_ONE=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),INVSQRT_A_MINUS_D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ONE_MINUS_D_SQ=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D_MINUS_ONE_SQ=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ExtendedPoint{constructor(e,n,r,o){this.x=e,this.y=n,this.z=r,this.t=o}static fromAffine(e){if(!(e instanceof Point$1))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Point$1.ZERO)?ExtendedPoint.ZERO:new ExtendedPoint(e.x,e.y,_1n$2,mod$1(e.x*e.y))}static toAffineBatch(e){const n=invertBatch$1(e.map(r=>r.z));return e.map((r,o)=>r.toAffine(n[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){assertExtPoint(e);const{x:n,y:r,z:o}=this,{x:s,y:a,z:c}=e,m=mod$1(n*c),en=mod$1(s*o),tn=mod$1(r*c),sn=mod$1(a*o);return m===en&&tn===sn}negate(){return new ExtendedPoint(mod$1(-this.x),this.y,this.z,mod$1(-this.t))}double(){const{x:e,y:n,z:r}=this,{a:o}=CURVE$1,s=mod$1(e*e),a=mod$1(n*n),c=mod$1(_2n$2*mod$1(r*r)),m=mod$1(o*s),en=e+n,tn=mod$1(mod$1(en*en)-s-a),sn=m+a,un=sn-c,cn=m-a,gn=mod$1(tn*un),mn=mod$1(sn*cn),yn=mod$1(tn*cn),wn=mod$1(un*sn);return new ExtendedPoint(gn,mn,wn,yn)}add(e){assertExtPoint(e);const{x:n,y:r,z:o,t:s}=this,{x:a,y:c,z:m,t:en}=e,tn=mod$1((r-n)*(c+a)),sn=mod$1((r+n)*(c-a)),un=mod$1(sn-tn);if(un===_0n$2)return this.double();const cn=mod$1(o*_2n$2*en),gn=mod$1(s*_2n$2*m),mn=gn+cn,yn=sn+tn,wn=gn-cn,kn=mod$1(mn*un),An=mod$1(yn*wn),$n=mod$1(mn*wn),Mn=mod$1(un*yn);return new ExtendedPoint(kn,An,Mn,$n)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const n=1+256/e,r=[];let o=this,s=o;for(let a=0;a<n;a++){s=o,r.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(o),r.push(s);o=s.double()}return r}wNAF(e,n){!n&&this.equals(ExtendedPoint.BASE)&&(n=Point$1.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=n&&pointPrecomputes$1.get(n);o||(o=this.precomputeWindow(r),n&&r!==1&&(o=ExtendedPoint.normalizeZ(o),pointPrecomputes$1.set(n,o)));let s=ExtendedPoint.ZERO,a=ExtendedPoint.ZERO;const c=1+256/r,m=2**(r-1),en=BigInt(2**r-1),tn=2**r,sn=BigInt(r);for(let un=0;un<c;un++){const cn=un*m;let gn=Number(e&en);if(e>>=sn,gn>m&&(gn-=tn,e+=_1n$2),gn===0){let mn=o[cn];un%2&&(mn=mn.negate()),a=a.add(mn)}else{let mn=o[cn+Math.abs(gn)-1];gn<0&&(mn=mn.negate()),s=s.add(mn)}}return ExtendedPoint.normalizeZ([s,a])[0]}multiply(e,n){return this.wNAF(normalizeScalar$1(e,CURVE$1.l),n)}multiplyUnsafe(e){let n=normalizeScalar$1(e,CURVE$1.l,!1);const r=ExtendedPoint.BASE,o=ExtendedPoint.ZERO;if(n===_0n$2)return o;if(this.equals(o)||n===_1n$2)return this;if(this.equals(r))return this.wNAF(n);let s=o,a=this;for(;n>_0n$2;)n&_1n$2&&(s=s.add(a)),a=a.double(),n>>=_1n$2;return s}isSmallOrder(){return this.multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}isTorsionFree(){return this.multiplyUnsafe(CURVE$1.l).equals(ExtendedPoint.ZERO)}toAffine(e=invert$1(this.z)){const{x:n,y:r,z:o}=this,s=mod$1(n*e),a=mod$1(r*e);if(mod$1(o*e)!==_1n$2)throw new Error("invZ was invalid");return new Point$1(s,a)}fromRistrettoBytes(){legacyRist()}toRistrettoBytes(){legacyRist()}fromRistrettoHash(){legacyRist()}}ExtendedPoint.BASE=new ExtendedPoint(CURVE$1.Gx,CURVE$1.Gy,_1n$2,mod$1(CURVE$1.Gx*CURVE$1.Gy));ExtendedPoint.ZERO=new ExtendedPoint(_0n$2,_1n$2,_1n$2,_0n$2);function assertExtPoint(t){if(!(t instanceof ExtendedPoint))throw new TypeError("ExtendedPoint expected")}function assertRstPoint(t){if(!(t instanceof RistrettoPoint))throw new TypeError("RistrettoPoint expected")}function legacyRist(){throw new Error("Legacy method: switch to RistrettoPoint")}class RistrettoPoint{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:n}=CURVE$1,r=mod$1(SQRT_M1*e*e),o=mod$1((r+_1n$2)*ONE_MINUS_D_SQ);let s=BigInt(-1);const a=mod$1((s-n*r)*mod$1(r+n));let{isValid:c,value:m}=uvRatio(o,a),en=mod$1(m*e);edIsNegative(en)||(en=mod$1(-en)),c||(m=en),c||(s=r);const tn=mod$1(s*(r-_1n$2)*D_MINUS_ONE_SQ-a),sn=m*m,un=mod$1((m+m)*a),cn=mod$1(tn*SQRT_AD_MINUS_ONE),gn=mod$1(_1n$2-sn),mn=mod$1(_1n$2+sn);return new ExtendedPoint(mod$1(un*mn),mod$1(gn*cn),mod$1(cn*mn),mod$1(un*gn))}static hashToCurve(e){e=ensureBytes$1(e,64);const n=bytes255ToNumberLE(e.slice(0,32)),r=this.calcElligatorRistrettoMap(n),o=bytes255ToNumberLE(e.slice(32,64)),s=this.calcElligatorRistrettoMap(o);return new RistrettoPoint(r.add(s))}static fromHex(e){e=ensureBytes$1(e,32);const{a:n,d:r}=CURVE$1,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=bytes255ToNumberLE(e);if(!equalBytes(numberTo32BytesLE(s),e)||edIsNegative(s))throw new Error(o);const a=mod$1(s*s),c=mod$1(_1n$2+n*a),m=mod$1(_1n$2-n*a),en=mod$1(c*c),tn=mod$1(m*m),sn=mod$1(n*r*en-tn),{isValid:un,value:cn}=invertSqrt(mod$1(sn*tn)),gn=mod$1(cn*m),mn=mod$1(cn*gn*sn);let yn=mod$1((s+s)*gn);edIsNegative(yn)&&(yn=mod$1(-yn));const wn=mod$1(c*mn),kn=mod$1(yn*wn);if(!un||edIsNegative(kn)||wn===_0n$2)throw new Error(o);return new RistrettoPoint(new ExtendedPoint(yn,wn,_1n$2,kn))}toRawBytes(){let{x:e,y:n,z:r,t:o}=this.ep;const s=mod$1(mod$1(r+n)*mod$1(r-n)),a=mod$1(e*n),c=mod$1(a*a),{value:m}=invertSqrt(mod$1(s*c)),en=mod$1(m*s),tn=mod$1(m*a),sn=mod$1(en*tn*o);let un;if(edIsNegative(o*sn)){let gn=mod$1(n*SQRT_M1),mn=mod$1(e*SQRT_M1);e=gn,n=mn,un=mod$1(en*INVSQRT_A_MINUS_D)}else un=tn;edIsNegative(e*sn)&&(n=mod$1(-n));let cn=mod$1((r-n)*un);return edIsNegative(cn)&&(cn=mod$1(-cn)),numberTo32BytesLE(cn)}toHex(){return bytesToHex$1(this.toRawBytes())}toString(){return this.toHex()}equals(e){assertRstPoint(e);const n=this.ep,r=e.ep,o=mod$1(n.x*r.y)===mod$1(n.y*r.x),s=mod$1(n.y*r.y)===mod$1(n.x*r.x);return o||s}add(e){return assertRstPoint(e),new RistrettoPoint(this.ep.add(e.ep))}subtract(e){return assertRstPoint(e),new RistrettoPoint(this.ep.subtract(e.ep))}multiply(e){return new RistrettoPoint(this.ep.multiply(e))}multiplyUnsafe(e){return new RistrettoPoint(this.ep.multiplyUnsafe(e))}}RistrettoPoint.BASE=new RistrettoPoint(ExtendedPoint.BASE);RistrettoPoint.ZERO=new RistrettoPoint(ExtendedPoint.ZERO);const pointPrecomputes$1=new WeakMap;class Point$1{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,pointPrecomputes$1.delete(this)}static fromHex(e,n=!0){const{d:r,P:o}=CURVE$1;e=ensureBytes$1(e,32);const s=e.slice();s[31]=e[31]&-129;const a=bytesToNumberLE(s);if(n&&a>=o)throw new Error("Expected 0 < hex < P");if(!n&&a>=POW_2_256$1)throw new Error("Expected 0 < hex < 2**256");const c=mod$1(a*a),m=mod$1(c-_1n$2),en=mod$1(r*c+_1n$2);let{isValid:tn,value:sn}=uvRatio(m,en);if(!tn)throw new Error("Point.fromHex: invalid y coordinate");const un=(sn&_1n$2)===_1n$2;return(e[31]&128)!==0!==un&&(sn=mod$1(-sn)),new Point$1(sn,a)}static async fromPrivateKey(e){return(await getExtendedPublicKey(e)).point}toRawBytes(){const e=numberTo32BytesLE(this.y);return e[31]|=this.x&_1n$2?128:0,e}toHex(){return bytesToHex$1(this.toRawBytes())}toX25519(){const{y:e}=this,n=mod$1((_1n$2+e)*invert$1(_1n$2-e));return numberTo32BytesLE(n)}isTorsionFree(){return ExtendedPoint.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Point$1(mod$1(-this.x),this.y)}add(e){return ExtendedPoint.fromAffine(this).add(ExtendedPoint.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ExtendedPoint.fromAffine(this).multiply(e,this).toAffine()}}Point$1.BASE=new Point$1(CURVE$1.Gx,CURVE$1.Gy);Point$1.ZERO=new Point$1(_0n$2,_1n$2);class Signature$1{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromHex(e){const n=ensureBytes$1(e,64),r=Point$1.fromHex(n.slice(0,32),!1),o=bytesToNumberLE(n.slice(32,64));return new Signature$1(r,o)}assertValidity(){const{r:e,s:n}=this;if(!(e instanceof Point$1))throw new Error("Expected Point instance");return normalizeScalar$1(n,CURVE$1.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(numberTo32BytesLE(this.s),32),e}toHex(){return bytesToHex$1(this.toRawBytes())}}function concatBytes$1(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];const e=t.reduce((r,o)=>r+o.length,0),n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}const hexes$1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex$1(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=hexes$1[t[n]];return e}function hexToBytes$1(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,o=t.slice(r,r+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function numberTo32BytesBE(t){const n=t.toString(16).padStart(64,"0");return hexToBytes$1(n)}function numberTo32BytesLE(t){return numberTo32BytesBE(t).reverse()}function edIsNegative(t){return(mod$1(t)&_1n$2)===_1n$2}function bytesToNumberLE(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+bytesToHex$1(Uint8Array.from(t).reverse()))}const MAX_255B=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bytes255ToNumberLE(t){return mod$1(bytesToNumberLE(t)&MAX_255B)}function mod$1(t,e=CURVE$1.P){const n=t%e;return n>=_0n$2?n:e+n}function invert$1(t,e=CURVE$1.P){if(t===_0n$2||e<=_0n$2)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=mod$1(t,e),r=e,o=_0n$2,s=_1n$2;for(;n!==_0n$2;){const c=r/n,m=r%n,en=o-s*c;r=n,n=m,o=s,s=en}if(r!==_1n$2)throw new Error("invert: does not exist");return mod$1(o,e)}function invertBatch$1(t,e=CURVE$1.P){const n=new Array(t.length),r=t.reduce((s,a,c)=>a===_0n$2?s:(n[c]=s,mod$1(s*a,e)),_1n$2),o=invert$1(r,e);return t.reduceRight((s,a,c)=>a===_0n$2?s:(n[c]=mod$1(s*n[c],e),mod$1(s*a,e)),o),n}function pow2$1(t,e){const{P:n}=CURVE$1;let r=t;for(;e-- >_0n$2;)r*=r,r%=n;return r}function pow_2_252_3(t){const{P:e}=CURVE$1,n=BigInt(5),r=BigInt(10),o=BigInt(20),s=BigInt(40),a=BigInt(80),m=t*t%e*t%e,en=pow2$1(m,_2n$2)*m%e,tn=pow2$1(en,_1n$2)*t%e,sn=pow2$1(tn,n)*tn%e,un=pow2$1(sn,r)*sn%e,cn=pow2$1(un,o)*un%e,gn=pow2$1(cn,s)*cn%e,mn=pow2$1(gn,a)*gn%e,yn=pow2$1(mn,a)*gn%e,wn=pow2$1(yn,r)*sn%e;return{pow_p_5_8:pow2$1(wn,_2n$2)*t%e,b2:m}}function uvRatio(t,e){const n=mod$1(e*e*e),r=mod$1(n*n*e),o=pow_2_252_3(t*r).pow_p_5_8;let s=mod$1(t*n*o);const a=mod$1(e*s*s),c=s,m=mod$1(s*SQRT_M1),en=a===t,tn=a===mod$1(-t),sn=a===mod$1(-t*SQRT_M1);return en&&(s=c),(tn||sn)&&(s=m),edIsNegative(s)&&(s=mod$1(-s)),{isValid:en||tn,value:s}}function invertSqrt(t){return uvRatio(_1n$2,t)}function modlLE(t){return mod$1(bytesToNumberLE(t),CURVE$1.l)}function equalBytes(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ensureBytes$1(t,e){const n=t instanceof Uint8Array?Uint8Array.from(t):hexToBytes$1(t);if(typeof e=="number"&&n.length!==e)throw new Error(`Expected ${e} bytes`);return n}function normalizeScalar$1(t,e,n=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(n){if(_0n$2<t)return t}else if(_0n$2<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function adjustBytes25519(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function checkPrivateKey(t){if(t=typeof t=="bigint"||typeof t=="number"?numberTo32BytesBE(normalizeScalar$1(t,POW_2_256$1)):ensureBytes$1(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function getKeyFromHash(t){const e=adjustBytes25519(t.slice(0,32)),n=t.slice(32,64),r=modlLE(e),o=Point$1.BASE.multiply(r),s=o.toRawBytes();return{head:e,prefix:n,scalar:r,point:o,pointBytes:s}}let _sha512Sync;function sha512s(...t){if(typeof _sha512Sync!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return _sha512Sync(...t)}async function getExtendedPublicKey(t){return getKeyFromHash(await utils$3.sha512(checkPrivateKey(t)))}function getExtendedPublicKeySync(t){return getKeyFromHash(sha512s(checkPrivateKey(t)))}function getPublicKeySync(t){return getExtendedPublicKeySync(t).pointBytes}function signSync$1(t,e){t=ensureBytes$1(t);const{prefix:n,scalar:r,pointBytes:o}=getExtendedPublicKeySync(e),s=modlLE(sha512s(n,t)),a=Point$1.BASE.multiply(s),c=modlLE(sha512s(a.toRawBytes(),o,t)),m=mod$1(s+c*r,CURVE$1.l);return new Signature$1(a,m).toRawBytes()}function prepareVerification(t,e,n){e=ensureBytes$1(e),n instanceof Point$1||(n=Point$1.fromHex(n,!1));const{r,s:o}=t instanceof Signature$1?t.assertValidity():Signature$1.fromHex(t),s=ExtendedPoint.BASE.multiplyUnsafe(o);return{r,s:o,SB:s,pub:n,msg:e}}function finishVerification(t,e,n,r){const o=modlLE(r),s=ExtendedPoint.fromAffine(t).multiplyUnsafe(o);return ExtendedPoint.fromAffine(e).add(s).subtract(n).multiplyUnsafe(CURVE$1.h).equals(ExtendedPoint.ZERO)}function verifySync(t,e,n){const{r,SB:o,msg:s,pub:a}=prepareVerification(t,e,n),c=sha512s(r.toRawBytes(),a.toRawBytes(),s);return finishVerification(a,r,o,c)}const sync={getExtendedPublicKey:getExtendedPublicKeySync,getPublicKey:getPublicKeySync,sign:signSync$1,verify:verifySync};Point$1.BASE._setWindowSize(8);const crypto$2={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},utils$3={bytesToHex:bytesToHex$1,hexToBytes:hexToBytes$1,concatBytes:concatBytes$1,getExtendedPublicKey,mod:mod$1,invert:invert$1,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=ensureBytes$1(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return mod$1(bytesToNumberLE(t),CURVE$1.l-_1n$2)+_1n$2},randomBytes:(t=32)=>{if(crypto$2.web)return crypto$2.web.getRandomValues(new Uint8Array(t));if(crypto$2.node){const{randomBytes:e}=crypto$2.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$3.randomBytes(32),sha512:async(...t)=>{const e=concatBytes$1(...t);if(crypto$2.web){const n=await crypto$2.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(n)}else{if(crypto$2.node)return Uint8Array.from(crypto$2.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Point$1.BASE){const n=e.equals(Point$1.BASE)?e:new Point$1(e.x,e.y);return n._setWindowSize(t),n.multiply(_2n$2),n},sha512Sync:void 0};Object.defineProperties(utils$3,{sha512Sync:{configurable:!1,get(){return _sha512Sync},set(t){_sha512Sync||(_sha512Sync=t)}}});var bn={exports:{}};const require$$3=getAugmentedNamespace(nodeCrypto);(function(t){(function(e,n){function r(pn,on){if(!pn)throw new Error(on||"Assertion failed")}function o(pn,on){pn.super_=on;var ln=function(){};ln.prototype=on.prototype,pn.prototype=new ln,pn.prototype.constructor=pn}function s(pn,on,ln){if(s.isBN(pn))return pn;this.negative=0,this.words=null,this.length=0,this.red=null,pn!==null&&((on==="le"||on==="be")&&(ln=on,on=10),this._init(pn||0,on||10,ln||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=require$$3.Buffer}catch{}s.isBN=function(on){return on instanceof s?!0:on!==null&&typeof on=="object"&&on.constructor.wordSize===s.wordSize&&Array.isArray(on.words)},s.max=function(on,ln){return on.cmp(ln)>0?on:ln},s.min=function(on,ln){return on.cmp(ln)<0?on:ln},s.prototype._init=function(on,ln,vn){if(typeof on=="number")return this._initNumber(on,ln,vn);if(typeof on=="object")return this._initArray(on,ln,vn);ln==="hex"&&(ln=16),r(ln===(ln|0)&&ln>=2&&ln<=36),on=on.toString().replace(/\s+/g,"");var xn=0;on[0]==="-"&&(xn++,this.negative=1),xn<on.length&&(ln===16?this._parseHex(on,xn,vn):(this._parseBase(on,ln,xn),vn==="le"&&this._initArray(this.toArray(),ln,vn)))},s.prototype._initNumber=function(on,ln,vn){on<0&&(this.negative=1,on=-on),on<67108864?(this.words=[on&67108863],this.length=1):on<4503599627370496?(this.words=[on&67108863,on/67108864&67108863],this.length=2):(r(on<9007199254740992),this.words=[on&67108863,on/67108864&67108863,1],this.length=3),vn==="le"&&this._initArray(this.toArray(),ln,vn)},s.prototype._initArray=function(on,ln,vn){if(r(typeof on.length=="number"),on.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(on.length/3),this.words=new Array(this.length);for(var xn=0;xn<this.length;xn++)this.words[xn]=0;var On,Hn,Zn=0;if(vn==="be")for(xn=on.length-1,On=0;xn>=0;xn-=3)Hn=on[xn]|on[xn-1]<<8|on[xn-2]<<16,this.words[On]|=Hn<<Zn&67108863,this.words[On+1]=Hn>>>26-Zn&67108863,Zn+=24,Zn>=26&&(Zn-=26,On++);else if(vn==="le")for(xn=0,On=0;xn<on.length;xn+=3)Hn=on[xn]|on[xn+1]<<8|on[xn+2]<<16,this.words[On]|=Hn<<Zn&67108863,this.words[On+1]=Hn>>>26-Zn&67108863,Zn+=24,Zn>=26&&(Zn-=26,On++);return this._strip()};function c(pn,on){var ln=pn.charCodeAt(on);if(ln>=48&&ln<=57)return ln-48;if(ln>=65&&ln<=70)return ln-55;if(ln>=97&&ln<=102)return ln-87;r(!1,"Invalid character in "+pn)}function m(pn,on,ln){var vn=c(pn,ln);return ln-1>=on&&(vn|=c(pn,ln-1)<<4),vn}s.prototype._parseHex=function(on,ln,vn){this.length=Math.ceil((on.length-ln)/6),this.words=new Array(this.length);for(var xn=0;xn<this.length;xn++)this.words[xn]=0;var On=0,Hn=0,Zn;if(vn==="be")for(xn=on.length-1;xn>=ln;xn-=2)Zn=m(on,ln,xn)<<On,this.words[Hn]|=Zn&67108863,On>=18?(On-=18,Hn+=1,this.words[Hn]|=Zn>>>26):On+=8;else{var Rn=on.length-ln;for(xn=Rn%2===0?ln+1:ln;xn<on.length;xn+=2)Zn=m(on,ln,xn)<<On,this.words[Hn]|=Zn&67108863,On>=18?(On-=18,Hn+=1,this.words[Hn]|=Zn>>>26):On+=8}this._strip()};function en(pn,on,ln,vn){for(var xn=0,On=0,Hn=Math.min(pn.length,ln),Zn=on;Zn<Hn;Zn++){var Rn=pn.charCodeAt(Zn)-48;xn*=vn,Rn>=49?On=Rn-49+10:Rn>=17?On=Rn-17+10:On=Rn,r(Rn>=0&&On<vn,"Invalid character"),xn+=On}return xn}s.prototype._parseBase=function(on,ln,vn){this.words=[0],this.length=1;for(var xn=0,On=1;On<=67108863;On*=ln)xn++;xn--,On=On/ln|0;for(var Hn=on.length-vn,Zn=Hn%xn,Rn=Math.min(Hn,Hn-Zn)+vn,fn=0,Dn=vn;Dn<Rn;Dn+=xn)fn=en(on,Dn,Dn+xn,ln),this.imuln(On),this.words[0]+fn<67108864?this.words[0]+=fn:this._iaddn(fn);if(Zn!==0){var Hr=1;for(fn=en(on,Dn,on.length,ln),Dn=0;Dn<Zn;Dn++)Hr*=ln;this.imuln(Hr),this.words[0]+fn<67108864?this.words[0]+=fn:this._iaddn(fn)}this._strip()},s.prototype.copy=function(on){on.words=new Array(this.length);for(var ln=0;ln<this.length;ln++)on.words[ln]=this.words[ln];on.length=this.length,on.negative=this.negative,on.red=this.red};function tn(pn,on){pn.words=on.words,pn.length=on.length,pn.negative=on.negative,pn.red=on.red}if(s.prototype._move=function(on){tn(on,this)},s.prototype.clone=function(){var on=new s(null);return this.copy(on),on},s.prototype._expand=function(on){for(;this.length<on;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=sn}catch{s.prototype.inspect=sn}else s.prototype.inspect=sn;function sn(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var un=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],cn=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gn=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(on,ln){on=on||10,ln=ln|0||1;var vn;if(on===16||on==="hex"){vn="";for(var xn=0,On=0,Hn=0;Hn<this.length;Hn++){var Zn=this.words[Hn],Rn=((Zn<<xn|On)&16777215).toString(16);On=Zn>>>24-xn&16777215,xn+=2,xn>=26&&(xn-=26,Hn--),On!==0||Hn!==this.length-1?vn=un[6-Rn.length]+Rn+vn:vn=Rn+vn}for(On!==0&&(vn=On.toString(16)+vn);vn.length%ln!==0;)vn="0"+vn;return this.negative!==0&&(vn="-"+vn),vn}if(on===(on|0)&&on>=2&&on<=36){var fn=cn[on],Dn=gn[on];vn="";var Hr=this.clone();for(Hr.negative=0;!Hr.isZero();){var Fn=Hr.modrn(Dn).toString(on);Hr=Hr.idivn(Dn),Hr.isZero()?vn=Fn+vn:vn=un[fn-Fn.length]+Fn+vn}for(this.isZero()&&(vn="0"+vn);vn.length%ln!==0;)vn="0"+vn;return this.negative!==0&&(vn="-"+vn),vn}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var on=this.words[0];return this.length===2?on+=this.words[1]*67108864:this.length===3&&this.words[2]===1?on+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-on:on},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(on,ln){return this.toArrayLike(a,on,ln)}),s.prototype.toArray=function(on,ln){return this.toArrayLike(Array,on,ln)};var mn=function(on,ln){return on.allocUnsafe?on.allocUnsafe(ln):new on(ln)};s.prototype.toArrayLike=function(on,ln,vn){this._strip();var xn=this.byteLength(),On=vn||Math.max(1,xn);r(xn<=On,"byte array longer than desired length"),r(On>0,"Requested array length <= 0");var Hn=mn(on,On),Zn=ln==="le"?"LE":"BE";return this["_toArrayLike"+Zn](Hn,xn),Hn},s.prototype._toArrayLikeLE=function(on,ln){for(var vn=0,xn=0,On=0,Hn=0;On<this.length;On++){var Zn=this.words[On]<<Hn|xn;on[vn++]=Zn&255,vn<on.length&&(on[vn++]=Zn>>8&255),vn<on.length&&(on[vn++]=Zn>>16&255),Hn===6?(vn<on.length&&(on[vn++]=Zn>>24&255),xn=0,Hn=0):(xn=Zn>>>24,Hn+=2)}if(vn<on.length)for(on[vn++]=xn;vn<on.length;)on[vn++]=0},s.prototype._toArrayLikeBE=function(on,ln){for(var vn=on.length-1,xn=0,On=0,Hn=0;On<this.length;On++){var Zn=this.words[On]<<Hn|xn;on[vn--]=Zn&255,vn>=0&&(on[vn--]=Zn>>8&255),vn>=0&&(on[vn--]=Zn>>16&255),Hn===6?(vn>=0&&(on[vn--]=Zn>>24&255),xn=0,Hn=0):(xn=Zn>>>24,Hn+=2)}if(vn>=0)for(on[vn--]=xn;vn>=0;)on[vn--]=0},Math.clz32?s.prototype._countBits=function(on){return 32-Math.clz32(on)}:s.prototype._countBits=function(on){var ln=on,vn=0;return ln>=4096&&(vn+=13,ln>>>=13),ln>=64&&(vn+=7,ln>>>=7),ln>=8&&(vn+=4,ln>>>=4),ln>=2&&(vn+=2,ln>>>=2),vn+ln},s.prototype._zeroBits=function(on){if(on===0)return 26;var ln=on,vn=0;return(ln&8191)===0&&(vn+=13,ln>>>=13),(ln&127)===0&&(vn+=7,ln>>>=7),(ln&15)===0&&(vn+=4,ln>>>=4),(ln&3)===0&&(vn+=2,ln>>>=2),(ln&1)===0&&vn++,vn},s.prototype.bitLength=function(){var on=this.words[this.length-1],ln=this._countBits(on);return(this.length-1)*26+ln};function yn(pn){for(var on=new Array(pn.bitLength()),ln=0;ln<on.length;ln++){var vn=ln/26|0,xn=ln%26;on[ln]=pn.words[vn]>>>xn&1}return on}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var on=0,ln=0;ln<this.length;ln++){var vn=this._zeroBits(this.words[ln]);if(on+=vn,vn!==26)break}return on},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(on){return this.negative!==0?this.abs().inotn(on).iaddn(1):this.clone()},s.prototype.fromTwos=function(on){return this.testn(on-1)?this.notn(on).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(on){for(;this.length<on.length;)this.words[this.length++]=0;for(var ln=0;ln<on.length;ln++)this.words[ln]=this.words[ln]|on.words[ln];return this._strip()},s.prototype.ior=function(on){return r((this.negative|on.negative)===0),this.iuor(on)},s.prototype.or=function(on){return this.length>on.length?this.clone().ior(on):on.clone().ior(this)},s.prototype.uor=function(on){return this.length>on.length?this.clone().iuor(on):on.clone().iuor(this)},s.prototype.iuand=function(on){var ln;this.length>on.length?ln=on:ln=this;for(var vn=0;vn<ln.length;vn++)this.words[vn]=this.words[vn]&on.words[vn];return this.length=ln.length,this._strip()},s.prototype.iand=function(on){return r((this.negative|on.negative)===0),this.iuand(on)},s.prototype.and=function(on){return this.length>on.length?this.clone().iand(on):on.clone().iand(this)},s.prototype.uand=function(on){return this.length>on.length?this.clone().iuand(on):on.clone().iuand(this)},s.prototype.iuxor=function(on){var ln,vn;this.length>on.length?(ln=this,vn=on):(ln=on,vn=this);for(var xn=0;xn<vn.length;xn++)this.words[xn]=ln.words[xn]^vn.words[xn];if(this!==ln)for(;xn<ln.length;xn++)this.words[xn]=ln.words[xn];return this.length=ln.length,this._strip()},s.prototype.ixor=function(on){return r((this.negative|on.negative)===0),this.iuxor(on)},s.prototype.xor=function(on){return this.length>on.length?this.clone().ixor(on):on.clone().ixor(this)},s.prototype.uxor=function(on){return this.length>on.length?this.clone().iuxor(on):on.clone().iuxor(this)},s.prototype.inotn=function(on){r(typeof on=="number"&&on>=0);var ln=Math.ceil(on/26)|0,vn=on%26;this._expand(ln),vn>0&&ln--;for(var xn=0;xn<ln;xn++)this.words[xn]=~this.words[xn]&67108863;return vn>0&&(this.words[xn]=~this.words[xn]&67108863>>26-vn),this._strip()},s.prototype.notn=function(on){return this.clone().inotn(on)},s.prototype.setn=function(on,ln){r(typeof on=="number"&&on>=0);var vn=on/26|0,xn=on%26;return this._expand(vn+1),ln?this.words[vn]=this.words[vn]|1<<xn:this.words[vn]=this.words[vn]&~(1<<xn),this._strip()},s.prototype.iadd=function(on){var ln;if(this.negative!==0&&on.negative===0)return this.negative=0,ln=this.isub(on),this.negative^=1,this._normSign();if(this.negative===0&&on.negative!==0)return on.negative=0,ln=this.isub(on),on.negative=1,ln._normSign();var vn,xn;this.length>on.length?(vn=this,xn=on):(vn=on,xn=this);for(var On=0,Hn=0;Hn<xn.length;Hn++)ln=(vn.words[Hn]|0)+(xn.words[Hn]|0)+On,this.words[Hn]=ln&67108863,On=ln>>>26;for(;On!==0&&Hn<vn.length;Hn++)ln=(vn.words[Hn]|0)+On,this.words[Hn]=ln&67108863,On=ln>>>26;if(this.length=vn.length,On!==0)this.words[this.length]=On,this.length++;else if(vn!==this)for(;Hn<vn.length;Hn++)this.words[Hn]=vn.words[Hn];return this},s.prototype.add=function(on){var ln;return on.negative!==0&&this.negative===0?(on.negative=0,ln=this.sub(on),on.negative^=1,ln):on.negative===0&&this.negative!==0?(this.negative=0,ln=on.sub(this),this.negative=1,ln):this.length>on.length?this.clone().iadd(on):on.clone().iadd(this)},s.prototype.isub=function(on){if(on.negative!==0){on.negative=0;var ln=this.iadd(on);return on.negative=1,ln._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(on),this.negative=1,this._normSign();var vn=this.cmp(on);if(vn===0)return this.negative=0,this.length=1,this.words[0]=0,this;var xn,On;vn>0?(xn=this,On=on):(xn=on,On=this);for(var Hn=0,Zn=0;Zn<On.length;Zn++)ln=(xn.words[Zn]|0)-(On.words[Zn]|0)+Hn,Hn=ln>>26,this.words[Zn]=ln&67108863;for(;Hn!==0&&Zn<xn.length;Zn++)ln=(xn.words[Zn]|0)+Hn,Hn=ln>>26,this.words[Zn]=ln&67108863;if(Hn===0&&Zn<xn.length&&xn!==this)for(;Zn<xn.length;Zn++)this.words[Zn]=xn.words[Zn];return this.length=Math.max(this.length,Zn),xn!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(on){return this.clone().isub(on)};function wn(pn,on,ln){ln.negative=on.negative^pn.negative;var vn=pn.length+on.length|0;ln.length=vn,vn=vn-1|0;var xn=pn.words[0]|0,On=on.words[0]|0,Hn=xn*On,Zn=Hn&67108863,Rn=Hn/67108864|0;ln.words[0]=Zn;for(var fn=1;fn<vn;fn++){for(var Dn=Rn>>>26,Hr=Rn&67108863,Fn=Math.min(fn,on.length-1),Vn=Math.max(0,fn-pn.length+1);Vn<=Fn;Vn++){var Gn=fn-Vn|0;xn=pn.words[Gn]|0,On=on.words[Vn]|0,Hn=xn*On+Hr,Dn+=Hn/67108864|0,Hr=Hn&67108863}ln.words[fn]=Hr|0,Rn=Dn|0}return Rn!==0?ln.words[fn]=Rn|0:ln.length--,ln._strip()}var kn=function(on,ln,vn){var xn=on.words,On=ln.words,Hn=vn.words,Zn=0,Rn,fn,Dn,Hr=xn[0]|0,Fn=Hr&8191,Vn=Hr>>>13,Gn=xn[1]|0,Yn=Gn&8191,gr=Gn>>>13,Or=xn[2]|0,Ir=Or&8191,wr=Or>>>13,Ln=xn[3]|0,Un=Ln&8191,qn=Ln>>>13,Sr=xn[4]|0,Xn=Sr&8191,Er=Sr>>>13,Nr=xn[5]|0,Ar=Nr&8191,vr=Nr>>>13,br=xn[6]|0,Tr=br&8191,$r=br>>>13,Br=xn[7]|0,Fr=Br&8191,nn=Br>>>13,l=xn[8]|0,d=l&8191,an=l>>>13,hn=xn[9]|0,_n=hn&8191,In=hn>>>13,kr=On[0]|0,Ur=kr&8191,Pr=kr>>>13,Kr=On[1]|0,Lr=Kr&8191,mi=Kr>>>13,Ms=On[2]|0,di=Ms&8191,hi=Ms>>>13,Ls=On[3]|0,_i=Ls&8191,bi=Ls>>>13,Ns=On[4]|0,pi=Ns&8191,wi=Ns>>>13,Ds=On[5]|0,vi=Ds&8191,ui=Ds>>>13,Us=On[6]|0,li=Us&8191,Si=Us>>>13,Fs=On[7]|0,Ai=Fs&8191,Ei=Fs>>>13,Ks=On[8]|0,xi=Ks&8191,Ii=Ks>>>13,Hs=On[9]|0,gi=Hs&8191,ki=Hs>>>13;vn.negative=on.negative^ln.negative,vn.length=19,Rn=Math.imul(Fn,Ur),fn=Math.imul(Fn,Pr),fn=fn+Math.imul(Vn,Ur)|0,Dn=Math.imul(Vn,Pr);var as=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(as>>>26)|0,as&=67108863,Rn=Math.imul(Yn,Ur),fn=Math.imul(Yn,Pr),fn=fn+Math.imul(gr,Ur)|0,Dn=Math.imul(gr,Pr),Rn=Rn+Math.imul(Fn,Lr)|0,fn=fn+Math.imul(Fn,mi)|0,fn=fn+Math.imul(Vn,Lr)|0,Dn=Dn+Math.imul(Vn,mi)|0;var cs=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(cs>>>26)|0,cs&=67108863,Rn=Math.imul(Ir,Ur),fn=Math.imul(Ir,Pr),fn=fn+Math.imul(wr,Ur)|0,Dn=Math.imul(wr,Pr),Rn=Rn+Math.imul(Yn,Lr)|0,fn=fn+Math.imul(Yn,mi)|0,fn=fn+Math.imul(gr,Lr)|0,Dn=Dn+Math.imul(gr,mi)|0,Rn=Rn+Math.imul(Fn,di)|0,fn=fn+Math.imul(Fn,hi)|0,fn=fn+Math.imul(Vn,di)|0,Dn=Dn+Math.imul(Vn,hi)|0;var us=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(us>>>26)|0,us&=67108863,Rn=Math.imul(Un,Ur),fn=Math.imul(Un,Pr),fn=fn+Math.imul(qn,Ur)|0,Dn=Math.imul(qn,Pr),Rn=Rn+Math.imul(Ir,Lr)|0,fn=fn+Math.imul(Ir,mi)|0,fn=fn+Math.imul(wr,Lr)|0,Dn=Dn+Math.imul(wr,mi)|0,Rn=Rn+Math.imul(Yn,di)|0,fn=fn+Math.imul(Yn,hi)|0,fn=fn+Math.imul(gr,di)|0,Dn=Dn+Math.imul(gr,hi)|0,Rn=Rn+Math.imul(Fn,_i)|0,fn=fn+Math.imul(Fn,bi)|0,fn=fn+Math.imul(Vn,_i)|0,Dn=Dn+Math.imul(Vn,bi)|0;var ls=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(ls>>>26)|0,ls&=67108863,Rn=Math.imul(Xn,Ur),fn=Math.imul(Xn,Pr),fn=fn+Math.imul(Er,Ur)|0,Dn=Math.imul(Er,Pr),Rn=Rn+Math.imul(Un,Lr)|0,fn=fn+Math.imul(Un,mi)|0,fn=fn+Math.imul(qn,Lr)|0,Dn=Dn+Math.imul(qn,mi)|0,Rn=Rn+Math.imul(Ir,di)|0,fn=fn+Math.imul(Ir,hi)|0,fn=fn+Math.imul(wr,di)|0,Dn=Dn+Math.imul(wr,hi)|0,Rn=Rn+Math.imul(Yn,_i)|0,fn=fn+Math.imul(Yn,bi)|0,fn=fn+Math.imul(gr,_i)|0,Dn=Dn+Math.imul(gr,bi)|0,Rn=Rn+Math.imul(Fn,pi)|0,fn=fn+Math.imul(Fn,wi)|0,fn=fn+Math.imul(Vn,pi)|0,Dn=Dn+Math.imul(Vn,wi)|0;var fs=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(fs>>>26)|0,fs&=67108863,Rn=Math.imul(Ar,Ur),fn=Math.imul(Ar,Pr),fn=fn+Math.imul(vr,Ur)|0,Dn=Math.imul(vr,Pr),Rn=Rn+Math.imul(Xn,Lr)|0,fn=fn+Math.imul(Xn,mi)|0,fn=fn+Math.imul(Er,Lr)|0,Dn=Dn+Math.imul(Er,mi)|0,Rn=Rn+Math.imul(Un,di)|0,fn=fn+Math.imul(Un,hi)|0,fn=fn+Math.imul(qn,di)|0,Dn=Dn+Math.imul(qn,hi)|0,Rn=Rn+Math.imul(Ir,_i)|0,fn=fn+Math.imul(Ir,bi)|0,fn=fn+Math.imul(wr,_i)|0,Dn=Dn+Math.imul(wr,bi)|0,Rn=Rn+Math.imul(Yn,pi)|0,fn=fn+Math.imul(Yn,wi)|0,fn=fn+Math.imul(gr,pi)|0,Dn=Dn+Math.imul(gr,wi)|0,Rn=Rn+Math.imul(Fn,vi)|0,fn=fn+Math.imul(Fn,ui)|0,fn=fn+Math.imul(Vn,vi)|0,Dn=Dn+Math.imul(Vn,ui)|0;var So=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(So>>>26)|0,So&=67108863,Rn=Math.imul(Tr,Ur),fn=Math.imul(Tr,Pr),fn=fn+Math.imul($r,Ur)|0,Dn=Math.imul($r,Pr),Rn=Rn+Math.imul(Ar,Lr)|0,fn=fn+Math.imul(Ar,mi)|0,fn=fn+Math.imul(vr,Lr)|0,Dn=Dn+Math.imul(vr,mi)|0,Rn=Rn+Math.imul(Xn,di)|0,fn=fn+Math.imul(Xn,hi)|0,fn=fn+Math.imul(Er,di)|0,Dn=Dn+Math.imul(Er,hi)|0,Rn=Rn+Math.imul(Un,_i)|0,fn=fn+Math.imul(Un,bi)|0,fn=fn+Math.imul(qn,_i)|0,Dn=Dn+Math.imul(qn,bi)|0,Rn=Rn+Math.imul(Ir,pi)|0,fn=fn+Math.imul(Ir,wi)|0,fn=fn+Math.imul(wr,pi)|0,Dn=Dn+Math.imul(wr,wi)|0,Rn=Rn+Math.imul(Yn,vi)|0,fn=fn+Math.imul(Yn,ui)|0,fn=fn+Math.imul(gr,vi)|0,Dn=Dn+Math.imul(gr,ui)|0,Rn=Rn+Math.imul(Fn,li)|0,fn=fn+Math.imul(Fn,Si)|0,fn=fn+Math.imul(Vn,li)|0,Dn=Dn+Math.imul(Vn,Si)|0;var ds=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(ds>>>26)|0,ds&=67108863,Rn=Math.imul(Fr,Ur),fn=Math.imul(Fr,Pr),fn=fn+Math.imul(nn,Ur)|0,Dn=Math.imul(nn,Pr),Rn=Rn+Math.imul(Tr,Lr)|0,fn=fn+Math.imul(Tr,mi)|0,fn=fn+Math.imul($r,Lr)|0,Dn=Dn+Math.imul($r,mi)|0,Rn=Rn+Math.imul(Ar,di)|0,fn=fn+Math.imul(Ar,hi)|0,fn=fn+Math.imul(vr,di)|0,Dn=Dn+Math.imul(vr,hi)|0,Rn=Rn+Math.imul(Xn,_i)|0,fn=fn+Math.imul(Xn,bi)|0,fn=fn+Math.imul(Er,_i)|0,Dn=Dn+Math.imul(Er,bi)|0,Rn=Rn+Math.imul(Un,pi)|0,fn=fn+Math.imul(Un,wi)|0,fn=fn+Math.imul(qn,pi)|0,Dn=Dn+Math.imul(qn,wi)|0,Rn=Rn+Math.imul(Ir,vi)|0,fn=fn+Math.imul(Ir,ui)|0,fn=fn+Math.imul(wr,vi)|0,Dn=Dn+Math.imul(wr,ui)|0,Rn=Rn+Math.imul(Yn,li)|0,fn=fn+Math.imul(Yn,Si)|0,fn=fn+Math.imul(gr,li)|0,Dn=Dn+Math.imul(gr,Si)|0,Rn=Rn+Math.imul(Fn,Ai)|0,fn=fn+Math.imul(Fn,Ei)|0,fn=fn+Math.imul(Vn,Ai)|0,Dn=Dn+Math.imul(Vn,Ei)|0;var Ao=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,Rn=Math.imul(d,Ur),fn=Math.imul(d,Pr),fn=fn+Math.imul(an,Ur)|0,Dn=Math.imul(an,Pr),Rn=Rn+Math.imul(Fr,Lr)|0,fn=fn+Math.imul(Fr,mi)|0,fn=fn+Math.imul(nn,Lr)|0,Dn=Dn+Math.imul(nn,mi)|0,Rn=Rn+Math.imul(Tr,di)|0,fn=fn+Math.imul(Tr,hi)|0,fn=fn+Math.imul($r,di)|0,Dn=Dn+Math.imul($r,hi)|0,Rn=Rn+Math.imul(Ar,_i)|0,fn=fn+Math.imul(Ar,bi)|0,fn=fn+Math.imul(vr,_i)|0,Dn=Dn+Math.imul(vr,bi)|0,Rn=Rn+Math.imul(Xn,pi)|0,fn=fn+Math.imul(Xn,wi)|0,fn=fn+Math.imul(Er,pi)|0,Dn=Dn+Math.imul(Er,wi)|0,Rn=Rn+Math.imul(Un,vi)|0,fn=fn+Math.imul(Un,ui)|0,fn=fn+Math.imul(qn,vi)|0,Dn=Dn+Math.imul(qn,ui)|0,Rn=Rn+Math.imul(Ir,li)|0,fn=fn+Math.imul(Ir,Si)|0,fn=fn+Math.imul(wr,li)|0,Dn=Dn+Math.imul(wr,Si)|0,Rn=Rn+Math.imul(Yn,Ai)|0,fn=fn+Math.imul(Yn,Ei)|0,fn=fn+Math.imul(gr,Ai)|0,Dn=Dn+Math.imul(gr,Ei)|0,Rn=Rn+Math.imul(Fn,xi)|0,fn=fn+Math.imul(Fn,Ii)|0,fn=fn+Math.imul(Vn,xi)|0,Dn=Dn+Math.imul(Vn,Ii)|0;var hs=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(hs>>>26)|0,hs&=67108863,Rn=Math.imul(_n,Ur),fn=Math.imul(_n,Pr),fn=fn+Math.imul(In,Ur)|0,Dn=Math.imul(In,Pr),Rn=Rn+Math.imul(d,Lr)|0,fn=fn+Math.imul(d,mi)|0,fn=fn+Math.imul(an,Lr)|0,Dn=Dn+Math.imul(an,mi)|0,Rn=Rn+Math.imul(Fr,di)|0,fn=fn+Math.imul(Fr,hi)|0,fn=fn+Math.imul(nn,di)|0,Dn=Dn+Math.imul(nn,hi)|0,Rn=Rn+Math.imul(Tr,_i)|0,fn=fn+Math.imul(Tr,bi)|0,fn=fn+Math.imul($r,_i)|0,Dn=Dn+Math.imul($r,bi)|0,Rn=Rn+Math.imul(Ar,pi)|0,fn=fn+Math.imul(Ar,wi)|0,fn=fn+Math.imul(vr,pi)|0,Dn=Dn+Math.imul(vr,wi)|0,Rn=Rn+Math.imul(Xn,vi)|0,fn=fn+Math.imul(Xn,ui)|0,fn=fn+Math.imul(Er,vi)|0,Dn=Dn+Math.imul(Er,ui)|0,Rn=Rn+Math.imul(Un,li)|0,fn=fn+Math.imul(Un,Si)|0,fn=fn+Math.imul(qn,li)|0,Dn=Dn+Math.imul(qn,Si)|0,Rn=Rn+Math.imul(Ir,Ai)|0,fn=fn+Math.imul(Ir,Ei)|0,fn=fn+Math.imul(wr,Ai)|0,Dn=Dn+Math.imul(wr,Ei)|0,Rn=Rn+Math.imul(Yn,xi)|0,fn=fn+Math.imul(Yn,Ii)|0,fn=fn+Math.imul(gr,xi)|0,Dn=Dn+Math.imul(gr,Ii)|0,Rn=Rn+Math.imul(Fn,gi)|0,fn=fn+Math.imul(Fn,ki)|0,fn=fn+Math.imul(Vn,gi)|0,Dn=Dn+Math.imul(Vn,ki)|0;var ps=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(ps>>>26)|0,ps&=67108863,Rn=Math.imul(_n,Lr),fn=Math.imul(_n,mi),fn=fn+Math.imul(In,Lr)|0,Dn=Math.imul(In,mi),Rn=Rn+Math.imul(d,di)|0,fn=fn+Math.imul(d,hi)|0,fn=fn+Math.imul(an,di)|0,Dn=Dn+Math.imul(an,hi)|0,Rn=Rn+Math.imul(Fr,_i)|0,fn=fn+Math.imul(Fr,bi)|0,fn=fn+Math.imul(nn,_i)|0,Dn=Dn+Math.imul(nn,bi)|0,Rn=Rn+Math.imul(Tr,pi)|0,fn=fn+Math.imul(Tr,wi)|0,fn=fn+Math.imul($r,pi)|0,Dn=Dn+Math.imul($r,wi)|0,Rn=Rn+Math.imul(Ar,vi)|0,fn=fn+Math.imul(Ar,ui)|0,fn=fn+Math.imul(vr,vi)|0,Dn=Dn+Math.imul(vr,ui)|0,Rn=Rn+Math.imul(Xn,li)|0,fn=fn+Math.imul(Xn,Si)|0,fn=fn+Math.imul(Er,li)|0,Dn=Dn+Math.imul(Er,Si)|0,Rn=Rn+Math.imul(Un,Ai)|0,fn=fn+Math.imul(Un,Ei)|0,fn=fn+Math.imul(qn,Ai)|0,Dn=Dn+Math.imul(qn,Ei)|0,Rn=Rn+Math.imul(Ir,xi)|0,fn=fn+Math.imul(Ir,Ii)|0,fn=fn+Math.imul(wr,xi)|0,Dn=Dn+Math.imul(wr,Ii)|0,Rn=Rn+Math.imul(Yn,gi)|0,fn=fn+Math.imul(Yn,ki)|0,fn=fn+Math.imul(gr,gi)|0,Dn=Dn+Math.imul(gr,ki)|0;var gs=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(gs>>>26)|0,gs&=67108863,Rn=Math.imul(_n,di),fn=Math.imul(_n,hi),fn=fn+Math.imul(In,di)|0,Dn=Math.imul(In,hi),Rn=Rn+Math.imul(d,_i)|0,fn=fn+Math.imul(d,bi)|0,fn=fn+Math.imul(an,_i)|0,Dn=Dn+Math.imul(an,bi)|0,Rn=Rn+Math.imul(Fr,pi)|0,fn=fn+Math.imul(Fr,wi)|0,fn=fn+Math.imul(nn,pi)|0,Dn=Dn+Math.imul(nn,wi)|0,Rn=Rn+Math.imul(Tr,vi)|0,fn=fn+Math.imul(Tr,ui)|0,fn=fn+Math.imul($r,vi)|0,Dn=Dn+Math.imul($r,ui)|0,Rn=Rn+Math.imul(Ar,li)|0,fn=fn+Math.imul(Ar,Si)|0,fn=fn+Math.imul(vr,li)|0,Dn=Dn+Math.imul(vr,Si)|0,Rn=Rn+Math.imul(Xn,Ai)|0,fn=fn+Math.imul(Xn,Ei)|0,fn=fn+Math.imul(Er,Ai)|0,Dn=Dn+Math.imul(Er,Ei)|0,Rn=Rn+Math.imul(Un,xi)|0,fn=fn+Math.imul(Un,Ii)|0,fn=fn+Math.imul(qn,xi)|0,Dn=Dn+Math.imul(qn,Ii)|0,Rn=Rn+Math.imul(Ir,gi)|0,fn=fn+Math.imul(Ir,ki)|0,fn=fn+Math.imul(wr,gi)|0,Dn=Dn+Math.imul(wr,ki)|0;var Ho=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,Rn=Math.imul(_n,_i),fn=Math.imul(_n,bi),fn=fn+Math.imul(In,_i)|0,Dn=Math.imul(In,bi),Rn=Rn+Math.imul(d,pi)|0,fn=fn+Math.imul(d,wi)|0,fn=fn+Math.imul(an,pi)|0,Dn=Dn+Math.imul(an,wi)|0,Rn=Rn+Math.imul(Fr,vi)|0,fn=fn+Math.imul(Fr,ui)|0,fn=fn+Math.imul(nn,vi)|0,Dn=Dn+Math.imul(nn,ui)|0,Rn=Rn+Math.imul(Tr,li)|0,fn=fn+Math.imul(Tr,Si)|0,fn=fn+Math.imul($r,li)|0,Dn=Dn+Math.imul($r,Si)|0,Rn=Rn+Math.imul(Ar,Ai)|0,fn=fn+Math.imul(Ar,Ei)|0,fn=fn+Math.imul(vr,Ai)|0,Dn=Dn+Math.imul(vr,Ei)|0,Rn=Rn+Math.imul(Xn,xi)|0,fn=fn+Math.imul(Xn,Ii)|0,fn=fn+Math.imul(Er,xi)|0,Dn=Dn+Math.imul(Er,Ii)|0,Rn=Rn+Math.imul(Un,gi)|0,fn=fn+Math.imul(Un,ki)|0,fn=fn+Math.imul(qn,gi)|0,Dn=Dn+Math.imul(qn,ki)|0;var Vo=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,Rn=Math.imul(_n,pi),fn=Math.imul(_n,wi),fn=fn+Math.imul(In,pi)|0,Dn=Math.imul(In,wi),Rn=Rn+Math.imul(d,vi)|0,fn=fn+Math.imul(d,ui)|0,fn=fn+Math.imul(an,vi)|0,Dn=Dn+Math.imul(an,ui)|0,Rn=Rn+Math.imul(Fr,li)|0,fn=fn+Math.imul(Fr,Si)|0,fn=fn+Math.imul(nn,li)|0,Dn=Dn+Math.imul(nn,Si)|0,Rn=Rn+Math.imul(Tr,Ai)|0,fn=fn+Math.imul(Tr,Ei)|0,fn=fn+Math.imul($r,Ai)|0,Dn=Dn+Math.imul($r,Ei)|0,Rn=Rn+Math.imul(Ar,xi)|0,fn=fn+Math.imul(Ar,Ii)|0,fn=fn+Math.imul(vr,xi)|0,Dn=Dn+Math.imul(vr,Ii)|0,Rn=Rn+Math.imul(Xn,gi)|0,fn=fn+Math.imul(Xn,ki)|0,fn=fn+Math.imul(Er,gi)|0,Dn=Dn+Math.imul(Er,ki)|0;var zo=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(zo>>>26)|0,zo&=67108863,Rn=Math.imul(_n,vi),fn=Math.imul(_n,ui),fn=fn+Math.imul(In,vi)|0,Dn=Math.imul(In,ui),Rn=Rn+Math.imul(d,li)|0,fn=fn+Math.imul(d,Si)|0,fn=fn+Math.imul(an,li)|0,Dn=Dn+Math.imul(an,Si)|0,Rn=Rn+Math.imul(Fr,Ai)|0,fn=fn+Math.imul(Fr,Ei)|0,fn=fn+Math.imul(nn,Ai)|0,Dn=Dn+Math.imul(nn,Ei)|0,Rn=Rn+Math.imul(Tr,xi)|0,fn=fn+Math.imul(Tr,Ii)|0,fn=fn+Math.imul($r,xi)|0,Dn=Dn+Math.imul($r,Ii)|0,Rn=Rn+Math.imul(Ar,gi)|0,fn=fn+Math.imul(Ar,ki)|0,fn=fn+Math.imul(vr,gi)|0,Dn=Dn+Math.imul(vr,ki)|0;var ys=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(ys>>>26)|0,ys&=67108863,Rn=Math.imul(_n,li),fn=Math.imul(_n,Si),fn=fn+Math.imul(In,li)|0,Dn=Math.imul(In,Si),Rn=Rn+Math.imul(d,Ai)|0,fn=fn+Math.imul(d,Ei)|0,fn=fn+Math.imul(an,Ai)|0,Dn=Dn+Math.imul(an,Ei)|0,Rn=Rn+Math.imul(Fr,xi)|0,fn=fn+Math.imul(Fr,Ii)|0,fn=fn+Math.imul(nn,xi)|0,Dn=Dn+Math.imul(nn,Ii)|0,Rn=Rn+Math.imul(Tr,gi)|0,fn=fn+Math.imul(Tr,ki)|0,fn=fn+Math.imul($r,gi)|0,Dn=Dn+Math.imul($r,ki)|0;var ms=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(ms>>>26)|0,ms&=67108863,Rn=Math.imul(_n,Ai),fn=Math.imul(_n,Ei),fn=fn+Math.imul(In,Ai)|0,Dn=Math.imul(In,Ei),Rn=Rn+Math.imul(d,xi)|0,fn=fn+Math.imul(d,Ii)|0,fn=fn+Math.imul(an,xi)|0,Dn=Dn+Math.imul(an,Ii)|0,Rn=Rn+Math.imul(Fr,gi)|0,fn=fn+Math.imul(Fr,ki)|0,fn=fn+Math.imul(nn,gi)|0,Dn=Dn+Math.imul(nn,ki)|0;var _s=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(_s>>>26)|0,_s&=67108863,Rn=Math.imul(_n,xi),fn=Math.imul(_n,Ii),fn=fn+Math.imul(In,xi)|0,Dn=Math.imul(In,Ii),Rn=Rn+Math.imul(d,gi)|0,fn=fn+Math.imul(d,ki)|0,fn=fn+Math.imul(an,gi)|0,Dn=Dn+Math.imul(an,ki)|0;var bs=(Zn+Rn|0)+((fn&8191)<<13)|0;Zn=(Dn+(fn>>>13)|0)+(bs>>>26)|0,bs&=67108863,Rn=Math.imul(_n,gi),fn=Math.imul(_n,ki),fn=fn+Math.imul(In,gi)|0,Dn=Math.imul(In,ki);var jo=(Zn+Rn|0)+((fn&8191)<<13)|0;return Zn=(Dn+(fn>>>13)|0)+(jo>>>26)|0,jo&=67108863,Hn[0]=as,Hn[1]=cs,Hn[2]=us,Hn[3]=ls,Hn[4]=fs,Hn[5]=So,Hn[6]=ds,Hn[7]=Ao,Hn[8]=hs,Hn[9]=ps,Hn[10]=gs,Hn[11]=Ho,Hn[12]=Vo,Hn[13]=zo,Hn[14]=ys,Hn[15]=ms,Hn[16]=_s,Hn[17]=bs,Hn[18]=jo,Zn!==0&&(Hn[19]=Zn,vn.length++),vn};Math.imul||(kn=wn);function An(pn,on,ln){ln.negative=on.negative^pn.negative,ln.length=pn.length+on.length;for(var vn=0,xn=0,On=0;On<ln.length-1;On++){var Hn=xn;xn=0;for(var Zn=vn&67108863,Rn=Math.min(On,on.length-1),fn=Math.max(0,On-pn.length+1);fn<=Rn;fn++){var Dn=On-fn,Hr=pn.words[Dn]|0,Fn=on.words[fn]|0,Vn=Hr*Fn,Gn=Vn&67108863;Hn=Hn+(Vn/67108864|0)|0,Gn=Gn+Zn|0,Zn=Gn&67108863,Hn=Hn+(Gn>>>26)|0,xn+=Hn>>>26,Hn&=67108863}ln.words[On]=Zn,vn=Hn,Hn=xn}return vn!==0?ln.words[On]=vn:ln.length--,ln._strip()}function $n(pn,on,ln){return An(pn,on,ln)}s.prototype.mulTo=function(on,ln){var vn,xn=this.length+on.length;return this.length===10&&on.length===10?vn=kn(this,on,ln):xn<63?vn=wn(this,on,ln):xn<1024?vn=An(this,on,ln):vn=$n(this,on,ln),vn},s.prototype.mul=function(on){var ln=new s(null);return ln.words=new Array(this.length+on.length),this.mulTo(on,ln)},s.prototype.mulf=function(on){var ln=new s(null);return ln.words=new Array(this.length+on.length),$n(this,on,ln)},s.prototype.imul=function(on){return this.clone().mulTo(on,this)},s.prototype.imuln=function(on){var ln=on<0;ln&&(on=-on),r(typeof on=="number"),r(on<67108864);for(var vn=0,xn=0;xn<this.length;xn++){var On=(this.words[xn]|0)*on,Hn=(On&67108863)+(vn&67108863);vn>>=26,vn+=On/67108864|0,vn+=Hn>>>26,this.words[xn]=Hn&67108863}return vn!==0&&(this.words[xn]=vn,this.length++),ln?this.ineg():this},s.prototype.muln=function(on){return this.clone().imuln(on)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(on){var ln=yn(on);if(ln.length===0)return new s(1);for(var vn=this,xn=0;xn<ln.length&&ln[xn]===0;xn++,vn=vn.sqr());if(++xn<ln.length)for(var On=vn.sqr();xn<ln.length;xn++,On=On.sqr())ln[xn]!==0&&(vn=vn.mul(On));return vn},s.prototype.iushln=function(on){r(typeof on=="number"&&on>=0);var ln=on%26,vn=(on-ln)/26,xn=67108863>>>26-ln<<26-ln,On;if(ln!==0){var Hn=0;for(On=0;On<this.length;On++){var Zn=this.words[On]&xn,Rn=(this.words[On]|0)-Zn<<ln;this.words[On]=Rn|Hn,Hn=Zn>>>26-ln}Hn&&(this.words[On]=Hn,this.length++)}if(vn!==0){for(On=this.length-1;On>=0;On--)this.words[On+vn]=this.words[On];for(On=0;On<vn;On++)this.words[On]=0;this.length+=vn}return this._strip()},s.prototype.ishln=function(on){return r(this.negative===0),this.iushln(on)},s.prototype.iushrn=function(on,ln,vn){r(typeof on=="number"&&on>=0);var xn;ln?xn=(ln-ln%26)/26:xn=0;var On=on%26,Hn=Math.min((on-On)/26,this.length),Zn=67108863^67108863>>>On<<On,Rn=vn;if(xn-=Hn,xn=Math.max(0,xn),Rn){for(var fn=0;fn<Hn;fn++)Rn.words[fn]=this.words[fn];Rn.length=Hn}if(Hn!==0)if(this.length>Hn)for(this.length-=Hn,fn=0;fn<this.length;fn++)this.words[fn]=this.words[fn+Hn];else this.words[0]=0,this.length=1;var Dn=0;for(fn=this.length-1;fn>=0&&(Dn!==0||fn>=xn);fn--){var Hr=this.words[fn]|0;this.words[fn]=Dn<<26-On|Hr>>>On,Dn=Hr&Zn}return Rn&&Dn!==0&&(Rn.words[Rn.length++]=Dn),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(on,ln,vn){return r(this.negative===0),this.iushrn(on,ln,vn)},s.prototype.shln=function(on){return this.clone().ishln(on)},s.prototype.ushln=function(on){return this.clone().iushln(on)},s.prototype.shrn=function(on){return this.clone().ishrn(on)},s.prototype.ushrn=function(on){return this.clone().iushrn(on)},s.prototype.testn=function(on){r(typeof on=="number"&&on>=0);var ln=on%26,vn=(on-ln)/26,xn=1<<ln;if(this.length<=vn)return!1;var On=this.words[vn];return!!(On&xn)},s.prototype.imaskn=function(on){r(typeof on=="number"&&on>=0);var ln=on%26,vn=(on-ln)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=vn)return this;if(ln!==0&&vn++,this.length=Math.min(vn,this.length),ln!==0){var xn=67108863^67108863>>>ln<<ln;this.words[this.length-1]&=xn}return this._strip()},s.prototype.maskn=function(on){return this.clone().imaskn(on)},s.prototype.iaddn=function(on){return r(typeof on=="number"),r(on<67108864),on<0?this.isubn(-on):this.negative!==0?this.length===1&&(this.words[0]|0)<=on?(this.words[0]=on-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(on),this.negative=1,this):this._iaddn(on)},s.prototype._iaddn=function(on){this.words[0]+=on;for(var ln=0;ln<this.length&&this.words[ln]>=67108864;ln++)this.words[ln]-=67108864,ln===this.length-1?this.words[ln+1]=1:this.words[ln+1]++;return this.length=Math.max(this.length,ln+1),this},s.prototype.isubn=function(on){if(r(typeof on=="number"),r(on<67108864),on<0)return this.iaddn(-on);if(this.negative!==0)return this.negative=0,this.iaddn(on),this.negative=1,this;if(this.words[0]-=on,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ln=0;ln<this.length&&this.words[ln]<0;ln++)this.words[ln]+=67108864,this.words[ln+1]-=1;return this._strip()},s.prototype.addn=function(on){return this.clone().iaddn(on)},s.prototype.subn=function(on){return this.clone().isubn(on)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(on,ln,vn){var xn=on.length+vn,On;this._expand(xn);var Hn,Zn=0;for(On=0;On<on.length;On++){Hn=(this.words[On+vn]|0)+Zn;var Rn=(on.words[On]|0)*ln;Hn-=Rn&67108863,Zn=(Hn>>26)-(Rn/67108864|0),this.words[On+vn]=Hn&67108863}for(;On<this.length-vn;On++)Hn=(this.words[On+vn]|0)+Zn,Zn=Hn>>26,this.words[On+vn]=Hn&67108863;if(Zn===0)return this._strip();for(r(Zn===-1),Zn=0,On=0;On<this.length;On++)Hn=-(this.words[On]|0)+Zn,Zn=Hn>>26,this.words[On]=Hn&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(on,ln){var vn=this.length-on.length,xn=this.clone(),On=on,Hn=On.words[On.length-1]|0,Zn=this._countBits(Hn);vn=26-Zn,vn!==0&&(On=On.ushln(vn),xn.iushln(vn),Hn=On.words[On.length-1]|0);var Rn=xn.length-On.length,fn;if(ln!=="mod"){fn=new s(null),fn.length=Rn+1,fn.words=new Array(fn.length);for(var Dn=0;Dn<fn.length;Dn++)fn.words[Dn]=0}var Hr=xn.clone()._ishlnsubmul(On,1,Rn);Hr.negative===0&&(xn=Hr,fn&&(fn.words[Rn]=1));for(var Fn=Rn-1;Fn>=0;Fn--){var Vn=(xn.words[On.length+Fn]|0)*67108864+(xn.words[On.length+Fn-1]|0);for(Vn=Math.min(Vn/Hn|0,67108863),xn._ishlnsubmul(On,Vn,Fn);xn.negative!==0;)Vn--,xn.negative=0,xn._ishlnsubmul(On,1,Fn),xn.isZero()||(xn.negative^=1);fn&&(fn.words[Fn]=Vn)}return fn&&fn._strip(),xn._strip(),ln!=="div"&&vn!==0&&xn.iushrn(vn),{div:fn||null,mod:xn}},s.prototype.divmod=function(on,ln,vn){if(r(!on.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var xn,On,Hn;return this.negative!==0&&on.negative===0?(Hn=this.neg().divmod(on,ln),ln!=="mod"&&(xn=Hn.div.neg()),ln!=="div"&&(On=Hn.mod.neg(),vn&&On.negative!==0&&On.iadd(on)),{div:xn,mod:On}):this.negative===0&&on.negative!==0?(Hn=this.divmod(on.neg(),ln),ln!=="mod"&&(xn=Hn.div.neg()),{div:xn,mod:Hn.mod}):(this.negative&on.negative)!==0?(Hn=this.neg().divmod(on.neg(),ln),ln!=="div"&&(On=Hn.mod.neg(),vn&&On.negative!==0&&On.isub(on)),{div:Hn.div,mod:On}):on.length>this.length||this.cmp(on)<0?{div:new s(0),mod:this}:on.length===1?ln==="div"?{div:this.divn(on.words[0]),mod:null}:ln==="mod"?{div:null,mod:new s(this.modrn(on.words[0]))}:{div:this.divn(on.words[0]),mod:new s(this.modrn(on.words[0]))}:this._wordDiv(on,ln)},s.prototype.div=function(on){return this.divmod(on,"div",!1).div},s.prototype.mod=function(on){return this.divmod(on,"mod",!1).mod},s.prototype.umod=function(on){return this.divmod(on,"mod",!0).mod},s.prototype.divRound=function(on){var ln=this.divmod(on);if(ln.mod.isZero())return ln.div;var vn=ln.div.negative!==0?ln.mod.isub(on):ln.mod,xn=on.ushrn(1),On=on.andln(1),Hn=vn.cmp(xn);return Hn<0||On===1&&Hn===0?ln.div:ln.div.negative!==0?ln.div.isubn(1):ln.div.iaddn(1)},s.prototype.modrn=function(on){var ln=on<0;ln&&(on=-on),r(on<=67108863);for(var vn=(1<<26)%on,xn=0,On=this.length-1;On>=0;On--)xn=(vn*xn+(this.words[On]|0))%on;return ln?-xn:xn},s.prototype.modn=function(on){return this.modrn(on)},s.prototype.idivn=function(on){var ln=on<0;ln&&(on=-on),r(on<=67108863);for(var vn=0,xn=this.length-1;xn>=0;xn--){var On=(this.words[xn]|0)+vn*67108864;this.words[xn]=On/on|0,vn=On%on}return this._strip(),ln?this.ineg():this},s.prototype.divn=function(on){return this.clone().idivn(on)},s.prototype.egcd=function(on){r(on.negative===0),r(!on.isZero());var ln=this,vn=on.clone();ln.negative!==0?ln=ln.umod(on):ln=ln.clone();for(var xn=new s(1),On=new s(0),Hn=new s(0),Zn=new s(1),Rn=0;ln.isEven()&&vn.isEven();)ln.iushrn(1),vn.iushrn(1),++Rn;for(var fn=vn.clone(),Dn=ln.clone();!ln.isZero();){for(var Hr=0,Fn=1;(ln.words[0]&Fn)===0&&Hr<26;++Hr,Fn<<=1);if(Hr>0)for(ln.iushrn(Hr);Hr-- >0;)(xn.isOdd()||On.isOdd())&&(xn.iadd(fn),On.isub(Dn)),xn.iushrn(1),On.iushrn(1);for(var Vn=0,Gn=1;(vn.words[0]&Gn)===0&&Vn<26;++Vn,Gn<<=1);if(Vn>0)for(vn.iushrn(Vn);Vn-- >0;)(Hn.isOdd()||Zn.isOdd())&&(Hn.iadd(fn),Zn.isub(Dn)),Hn.iushrn(1),Zn.iushrn(1);ln.cmp(vn)>=0?(ln.isub(vn),xn.isub(Hn),On.isub(Zn)):(vn.isub(ln),Hn.isub(xn),Zn.isub(On))}return{a:Hn,b:Zn,gcd:vn.iushln(Rn)}},s.prototype._invmp=function(on){r(on.negative===0),r(!on.isZero());var ln=this,vn=on.clone();ln.negative!==0?ln=ln.umod(on):ln=ln.clone();for(var xn=new s(1),On=new s(0),Hn=vn.clone();ln.cmpn(1)>0&&vn.cmpn(1)>0;){for(var Zn=0,Rn=1;(ln.words[0]&Rn)===0&&Zn<26;++Zn,Rn<<=1);if(Zn>0)for(ln.iushrn(Zn);Zn-- >0;)xn.isOdd()&&xn.iadd(Hn),xn.iushrn(1);for(var fn=0,Dn=1;(vn.words[0]&Dn)===0&&fn<26;++fn,Dn<<=1);if(fn>0)for(vn.iushrn(fn);fn-- >0;)On.isOdd()&&On.iadd(Hn),On.iushrn(1);ln.cmp(vn)>=0?(ln.isub(vn),xn.isub(On)):(vn.isub(ln),On.isub(xn))}var Hr;return ln.cmpn(1)===0?Hr=xn:Hr=On,Hr.cmpn(0)<0&&Hr.iadd(on),Hr},s.prototype.gcd=function(on){if(this.isZero())return on.abs();if(on.isZero())return this.abs();var ln=this.clone(),vn=on.clone();ln.negative=0,vn.negative=0;for(var xn=0;ln.isEven()&&vn.isEven();xn++)ln.iushrn(1),vn.iushrn(1);do{for(;ln.isEven();)ln.iushrn(1);for(;vn.isEven();)vn.iushrn(1);var On=ln.cmp(vn);if(On<0){var Hn=ln;ln=vn,vn=Hn}else if(On===0||vn.cmpn(1)===0)break;ln.isub(vn)}while(!0);return vn.iushln(xn)},s.prototype.invm=function(on){return this.egcd(on).a.umod(on)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(on){return this.words[0]&on},s.prototype.bincn=function(on){r(typeof on=="number");var ln=on%26,vn=(on-ln)/26,xn=1<<ln;if(this.length<=vn)return this._expand(vn+1),this.words[vn]|=xn,this;for(var On=xn,Hn=vn;On!==0&&Hn<this.length;Hn++){var Zn=this.words[Hn]|0;Zn+=On,On=Zn>>>26,Zn&=67108863,this.words[Hn]=Zn}return On!==0&&(this.words[Hn]=On,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(on){var ln=on<0;if(this.negative!==0&&!ln)return-1;if(this.negative===0&&ln)return 1;this._strip();var vn;if(this.length>1)vn=1;else{ln&&(on=-on),r(on<=67108863,"Number is too big");var xn=this.words[0]|0;vn=xn===on?0:xn<on?-1:1}return this.negative!==0?-vn|0:vn},s.prototype.cmp=function(on){if(this.negative!==0&&on.negative===0)return-1;if(this.negative===0&&on.negative!==0)return 1;var ln=this.ucmp(on);return this.negative!==0?-ln|0:ln},s.prototype.ucmp=function(on){if(this.length>on.length)return 1;if(this.length<on.length)return-1;for(var ln=0,vn=this.length-1;vn>=0;vn--){var xn=this.words[vn]|0,On=on.words[vn]|0;if(xn!==On){xn<On?ln=-1:xn>On&&(ln=1);break}}return ln},s.prototype.gtn=function(on){return this.cmpn(on)===1},s.prototype.gt=function(on){return this.cmp(on)===1},s.prototype.gten=function(on){return this.cmpn(on)>=0},s.prototype.gte=function(on){return this.cmp(on)>=0},s.prototype.ltn=function(on){return this.cmpn(on)===-1},s.prototype.lt=function(on){return this.cmp(on)===-1},s.prototype.lten=function(on){return this.cmpn(on)<=0},s.prototype.lte=function(on){return this.cmp(on)<=0},s.prototype.eqn=function(on){return this.cmpn(on)===0},s.prototype.eq=function(on){return this.cmp(on)===0},s.red=function(on){return new Kn(on)},s.prototype.toRed=function(on){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),on.convertTo(this)._forceRed(on)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(on){return this.red=on,this},s.prototype.forceRed=function(on){return r(!this.red,"Already a number in reduction context"),this._forceRed(on)},s.prototype.redAdd=function(on){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,on)},s.prototype.redIAdd=function(on){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,on)},s.prototype.redSub=function(on){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,on)},s.prototype.redISub=function(on){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,on)},s.prototype.redShl=function(on){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,on)},s.prototype.redMul=function(on){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,on),this.red.mul(this,on)},s.prototype.redIMul=function(on){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,on),this.red.imul(this,on)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(on){return r(this.red&&!on.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,on)};var Mn={k256:null,p224:null,p192:null,p25519:null};function En(pn,on){this.name=pn,this.p=new s(on,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}En.prototype._tmp=function(){var on=new s(null);return on.words=new Array(Math.ceil(this.n/13)),on},En.prototype.ireduce=function(on){var ln=on,vn;do this.split(ln,this.tmp),ln=this.imulK(ln),ln=ln.iadd(this.tmp),vn=ln.bitLength();while(vn>this.n);var xn=vn<this.n?-1:ln.ucmp(this.p);return xn===0?(ln.words[0]=0,ln.length=1):xn>0?ln.isub(this.p):ln.strip!==void 0?ln.strip():ln._strip(),ln},En.prototype.split=function(on,ln){on.iushrn(this.n,0,ln)},En.prototype.imulK=function(on){return on.imul(this.k)};function Tn(){En.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(Tn,En),Tn.prototype.split=function(on,ln){for(var vn=4194303,xn=Math.min(on.length,9),On=0;On<xn;On++)ln.words[On]=on.words[On];if(ln.length=xn,on.length<=9){on.words[0]=0,on.length=1;return}var Hn=on.words[9];for(ln.words[ln.length++]=Hn&vn,On=10;On<on.length;On++){var Zn=on.words[On]|0;on.words[On-10]=(Zn&vn)<<4|Hn>>>22,Hn=Zn}Hn>>>=22,on.words[On-10]=Hn,Hn===0&&on.length>10?on.length-=10:on.length-=9},Tn.prototype.imulK=function(on){on.words[on.length]=0,on.words[on.length+1]=0,on.length+=2;for(var ln=0,vn=0;vn<on.length;vn++){var xn=on.words[vn]|0;ln+=xn*977,on.words[vn]=ln&67108863,ln=xn*64+(ln/67108864|0)}return on.words[on.length-1]===0&&(on.length--,on.words[on.length-1]===0&&on.length--),on};function Pn(){En.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(Pn,En);function zn(){En.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(zn,En);function Nn(){En.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Nn,En),Nn.prototype.imulK=function(on){for(var ln=0,vn=0;vn<on.length;vn++){var xn=(on.words[vn]|0)*19+ln,On=xn&67108863;xn>>>=26,on.words[vn]=On,ln=xn}return ln!==0&&(on.words[on.length++]=ln),on},s._prime=function(on){if(Mn[on])return Mn[on];var ln;if(on==="k256")ln=new Tn;else if(on==="p224")ln=new Pn;else if(on==="p192")ln=new zn;else if(on==="p25519")ln=new Nn;else throw new Error("Unknown prime "+on);return Mn[on]=ln,ln};function Kn(pn){if(typeof pn=="string"){var on=s._prime(pn);this.m=on.p,this.prime=on}else r(pn.gtn(1),"modulus must be greater than 1"),this.m=pn,this.prime=null}Kn.prototype._verify1=function(on){r(on.negative===0,"red works only with positives"),r(on.red,"red works only with red numbers")},Kn.prototype._verify2=function(on,ln){r((on.negative|ln.negative)===0,"red works only with positives"),r(on.red&&on.red===ln.red,"red works only with red numbers")},Kn.prototype.imod=function(on){return this.prime?this.prime.ireduce(on)._forceRed(this):(tn(on,on.umod(this.m)._forceRed(this)),on)},Kn.prototype.neg=function(on){return on.isZero()?on.clone():this.m.sub(on)._forceRed(this)},Kn.prototype.add=function(on,ln){this._verify2(on,ln);var vn=on.add(ln);return vn.cmp(this.m)>=0&&vn.isub(this.m),vn._forceRed(this)},Kn.prototype.iadd=function(on,ln){this._verify2(on,ln);var vn=on.iadd(ln);return vn.cmp(this.m)>=0&&vn.isub(this.m),vn},Kn.prototype.sub=function(on,ln){this._verify2(on,ln);var vn=on.sub(ln);return vn.cmpn(0)<0&&vn.iadd(this.m),vn._forceRed(this)},Kn.prototype.isub=function(on,ln){this._verify2(on,ln);var vn=on.isub(ln);return vn.cmpn(0)<0&&vn.iadd(this.m),vn},Kn.prototype.shl=function(on,ln){return this._verify1(on),this.imod(on.ushln(ln))},Kn.prototype.imul=function(on,ln){return this._verify2(on,ln),this.imod(on.imul(ln))},Kn.prototype.mul=function(on,ln){return this._verify2(on,ln),this.imod(on.mul(ln))},Kn.prototype.isqr=function(on){return this.imul(on,on.clone())},Kn.prototype.sqr=function(on){return this.mul(on,on)},Kn.prototype.sqrt=function(on){if(on.isZero())return on.clone();var ln=this.m.andln(3);if(r(ln%2===1),ln===3){var vn=this.m.add(new s(1)).iushrn(2);return this.pow(on,vn)}for(var xn=this.m.subn(1),On=0;!xn.isZero()&&xn.andln(1)===0;)On++,xn.iushrn(1);r(!xn.isZero());var Hn=new s(1).toRed(this),Zn=Hn.redNeg(),Rn=this.m.subn(1).iushrn(1),fn=this.m.bitLength();for(fn=new s(2*fn*fn).toRed(this);this.pow(fn,Rn).cmp(Zn)!==0;)fn.redIAdd(Zn);for(var Dn=this.pow(fn,xn),Hr=this.pow(on,xn.addn(1).iushrn(1)),Fn=this.pow(on,xn),Vn=On;Fn.cmp(Hn)!==0;){for(var Gn=Fn,Yn=0;Gn.cmp(Hn)!==0;Yn++)Gn=Gn.redSqr();r(Yn<Vn);var gr=this.pow(Dn,new s(1).iushln(Vn-Yn-1));Hr=Hr.redMul(gr),Dn=gr.redSqr(),Fn=Fn.redMul(Dn),Vn=Yn}return Hr},Kn.prototype.invm=function(on){var ln=on._invmp(this.m);return ln.negative!==0?(ln.negative=0,this.imod(ln).redNeg()):this.imod(ln)},Kn.prototype.pow=function(on,ln){if(ln.isZero())return new s(1).toRed(this);if(ln.cmpn(1)===0)return on.clone();var vn=4,xn=new Array(1<<vn);xn[0]=new s(1).toRed(this),xn[1]=on;for(var On=2;On<xn.length;On++)xn[On]=this.mul(xn[On-1],on);var Hn=xn[0],Zn=0,Rn=0,fn=ln.bitLength()%26;for(fn===0&&(fn=26),On=ln.length-1;On>=0;On--){for(var Dn=ln.words[On],Hr=fn-1;Hr>=0;Hr--){var Fn=Dn>>Hr&1;if(Hn!==xn[0]&&(Hn=this.sqr(Hn)),Fn===0&&Zn===0){Rn=0;continue}Zn<<=1,Zn|=Fn,Rn++,!(Rn!==vn&&(On!==0||Hr!==0))&&(Hn=this.mul(Hn,xn[Zn]),Rn=0,Zn=0)}fn=26}return Hn},Kn.prototype.convertTo=function(on){var ln=on.umod(this.m);return ln===on?ln.clone():ln},Kn.prototype.convertFrom=function(on){var ln=on.clone();return ln.red=null,ln},s.mont=function(on){return new _r(on)};function _r(pn){Kn.call(this,pn),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(_r,Kn),_r.prototype.convertTo=function(on){return this.imod(on.ushln(this.shift))},_r.prototype.convertFrom=function(on){var ln=this.imod(on.mul(this.rinv));return ln.red=null,ln},_r.prototype.imul=function(on,ln){if(on.isZero()||ln.isZero())return on.words[0]=0,on.length=1,on;var vn=on.imul(ln),xn=vn.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),On=vn.isub(xn).iushrn(this.shift),Hn=On;return On.cmp(this.m)>=0?Hn=On.isub(this.m):On.cmpn(0)<0&&(Hn=On.iadd(this.m)),Hn._forceRed(this)},_r.prototype.mul=function(on,ln){if(on.isZero()||ln.isZero())return new s(0)._forceRed(this);var vn=on.mul(ln),xn=vn.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),On=vn.isub(xn).iushrn(this.shift),Hn=On;return On.cmp(this.m)>=0?Hn=On.isub(this.m):On.cmpn(0)<0&&(Hn=On.iadd(this.m)),Hn._forceRed(this)},_r.prototype.invm=function(on){var ln=this.imod(on._invmp(this.m).mul(this.r2));return ln._forceRed(this)}})(t,commonjsGlobal)})(bn);const BN=bn.exports;var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=buffer$2,r=n.Buffer;function o(a,c){for(var m in a)c[m]=a[m]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s);function s(a,c,m){return r(a,c,m)}s.prototype=Object.create(r.prototype),o(r,s),s.from=function(a,c,m){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,c,m)},s.alloc=function(a,c,m){if(typeof a!="number")throw new TypeError("Argument must be a number");var en=r(a);return c!==void 0?typeof m=="string"?en.fill(c,m):en.fill(c):en.fill(0),en},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}})(safeBuffer,safeBuffer.exports);var _Buffer=safeBuffer.exports.Buffer;function base(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var o=t.charAt(r),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=r}var a=t.length,c=t.charAt(0),m=Math.log(a)/Math.log(256),en=Math.log(256)/Math.log(a);function tn(cn){if((Array.isArray(cn)||cn instanceof Uint8Array)&&(cn=_Buffer.from(cn)),!_Buffer.isBuffer(cn))throw new TypeError("Expected Buffer");if(cn.length===0)return"";for(var gn=0,mn=0,yn=0,wn=cn.length;yn!==wn&&cn[yn]===0;)yn++,gn++;for(var kn=(wn-yn)*en+1>>>0,An=new Uint8Array(kn);yn!==wn;){for(var $n=cn[yn],Mn=0,En=kn-1;($n!==0||Mn<mn)&&En!==-1;En--,Mn++)$n+=256*An[En]>>>0,An[En]=$n%a>>>0,$n=$n/a>>>0;if($n!==0)throw new Error("Non-zero carry");mn=Mn,yn++}for(var Tn=kn-mn;Tn!==kn&&An[Tn]===0;)Tn++;for(var Pn=c.repeat(gn);Tn<kn;++Tn)Pn+=t.charAt(An[Tn]);return Pn}function sn(cn){if(typeof cn!="string")throw new TypeError("Expected String");if(cn.length===0)return _Buffer.alloc(0);for(var gn=0,mn=0,yn=0;cn[gn]===c;)mn++,gn++;for(var wn=(cn.length-gn)*m+1>>>0,kn=new Uint8Array(wn);cn[gn];){var An=e[cn.charCodeAt(gn)];if(An===255)return;for(var $n=0,Mn=wn-1;(An!==0||$n<yn)&&Mn!==-1;Mn--,$n++)An+=a*kn[Mn]>>>0,kn[Mn]=An%256>>>0,An=An/256>>>0;if(An!==0)throw new Error("Non-zero carry");yn=$n,gn++}for(var En=wn-yn;En!==wn&&kn[En]===0;)En++;var Tn=_Buffer.allocUnsafe(mn+(wn-En));Tn.fill(0,0,mn);for(var Pn=mn;En!==wn;)Tn[Pn++]=kn[En++];return Tn}function un(cn){var gn=sn(cn);if(gn)return gn;throw new Error("Non-base"+a+" character")}return{encode:tn,decodeUnsafe:sn,decode:un}}var src=base,basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);const Chi=(t,e,n)=>t&e^~t&n,Maj=(t,e,n)=>t&e^t&n^e&n,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:e,B:n,C:r,D:o,E:s,F:a,G:c,H:m}=this;return[e,n,r,o,s,a,c,m]}set(e,n,r,o,s,a,c,m){this.A=e|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=m|0}process(e,n){for(let sn=0;sn<16;sn++,n+=4)SHA256_W[sn]=e.getUint32(n,!1);for(let sn=16;sn<64;sn++){const un=SHA256_W[sn-15],cn=SHA256_W[sn-2],gn=rotr(un,7)^rotr(un,18)^un>>>3,mn=rotr(cn,17)^rotr(cn,19)^cn>>>10;SHA256_W[sn]=mn+SHA256_W[sn-7]+gn+SHA256_W[sn-16]|0}let{A:r,B:o,C:s,D:a,E:c,F:m,G:en,H:tn}=this;for(let sn=0;sn<64;sn++){const un=rotr(c,6)^rotr(c,11)^rotr(c,25),cn=tn+un+Chi(c,m,en)+SHA256_K[sn]+SHA256_W[sn]|0,mn=(rotr(r,2)^rotr(r,13)^rotr(r,22))+Maj(r,o,s)|0;tn=en,en=m,m=c,c=a+cn|0,a=s,s=o,o=r,r=cn+mn|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,m=m+this.F|0,en=en+this.G|0,tn=tn+this.H|0,this.set(r,o,s,a,c,m,en,tn)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);var lib$1={};function inRange(t,e,n){return e<=t&&t<=n}function ToDictionary(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(t){for(var e=String(t),n=e.length,r=0,o=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)o.push(s);else if(56320<=s&&s<=57343)o.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)o.push(65533);else{var a=t.charCodeAt(r+1);if(56320<=a&&a<=57343){var c=s&1023,m=a&1023;o.push(65536+(c<<10)+m),r+=1}else o.push(65533)}r+=1}return o}function codePointsToString(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var end_of_stream=-1;function Stream(t){this.tokens=[].slice.call(t)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var finished=-1;function decoderError(t,e){if(t)throw TypeError("Decoder error");return e||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(t,e){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=ToDictionary(n),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(n.stream);for(var o=new Stream(r),s=[],a;!o.endOfStream()&&(a=this._decoder.handler(o,o.read()),a!==finished);)a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a));if(!this._streaming){do{if(a=this._decoder.handler(o,o.read()),a===finished)break;a!==null&&(Array.isArray(a)?s.push.apply(s,a):s.push(a))}while(!o.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),codePointsToString(s)}};function TextEncoder$1(t,e){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(e,n){e=e?String(e):"",n=ToDictionary(n),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(n.stream);for(var r=[],o=new Stream(stringToCodePoints(e)),s;!o.endOfStream()&&(s=this._encoder.handler(o,o.read()),s!==finished);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(o,o.read()),s!==finished;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function UTF8Decoder(t){var e=t.fatal,n=0,r=0,o=0,s=128,a=191;this.handler=function(c,m){if(m===end_of_stream&&o!==0)return o=0,decoderError(e);if(m===end_of_stream)return finished;if(o===0){if(inRange(m,0,127))return m;if(inRange(m,194,223))o=1,n=m-192;else if(inRange(m,224,239))m===224&&(s=160),m===237&&(a=159),o=2,n=m-224;else if(inRange(m,240,244))m===240&&(s=144),m===244&&(a=143),o=3,n=m-240;else return decoderError(e);return n=n<<6*o,null}if(!inRange(m,s,a))return n=o=r=0,s=128,a=191,c.prepend(m),decoderError(e);if(s=128,a=191,r+=1,n+=m-128<<6*(o-r),r!==o)return null;var en=n;return n=o=r=0,en}}function UTF8Encoder(t){t.fatal,this.handler=function(e,n){if(n===end_of_stream)return finished;if(inRange(n,0,127))return n;var r,o;inRange(n,128,2047)?(r=1,o=192):inRange(n,2048,65535)?(r=2,o=224):inRange(n,65536,1114111)&&(r=3,o=240);for(var s=[(n>>6*r)+o];r>0;){var a=n>>6*(r-1);s.push(128|a&63),r-=1}return s}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(encoding$1);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,n,r){var o=arguments.length,s=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&__createBinding$2(e,t,n);return __setModuleDefault$2(e,t),e},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lib$1,"__esModule",{value:!0});var deserializeUnchecked_1=lib$1.deserializeUnchecked=deserialize_1=lib$1.deserialize=serialize_1=lib$1.serialize=lib$1.BinaryReader=lib$1.BinaryWriter=lib$1.BorshError=lib$1.baseDecode=lib$1.baseEncode=void 0;const bn_js_1=__importDefault(bn.exports),bs58_1=__importDefault(bs58),encoding=__importStar$2(require$$2$1),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),bs58_1.default.encode(Buffer.from(t))}lib$1.baseEncode=baseEncode;function baseDecode(t){return Buffer.from(bs58_1.default.decode(t))}lib$1.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$1.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(INITIAL_LENGTH)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}lib$1.BinaryWriter=BinaryWriter;function handlingRangeError(t,e,n){const r=n.value;n.value=function(...o){try{return r.apply(this,o)}catch(s){if(s instanceof RangeError){const a=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(a)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw s}}}class BinaryReader{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bn_js_1.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bn_js_1.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bn_js_1.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bn_js_1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new BorshError(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return textDecoder.decode(n)}catch(r){throw new BorshError(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let o=0;o<n;++o)r.push(e());return r}}__decorate$2([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$1.BinaryReader=BinaryReader;function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function serializeField(t,e,n,r,o){try{if(typeof r=="string")o[`write${capitalizeFirstLetter(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new BorshError(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);o.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new BorshError(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)serializeField(t,null,n[s],r[0],o)}else o.writeArray(n,s=>{serializeField(t,e,s,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?o.writeU8(0):(o.writeU8(1),serializeField(t,e,n,r.type,o));break}case"map":{o.writeU32(n.size),n.forEach((s,a)=>{serializeField(t,e,a,r.key,o),serializeField(t,e,s,r.value,o)});break}default:throw new BorshError(`FieldType ${r} unrecognized`)}else serializeStruct(t,n,o)}catch(s){throw s instanceof BorshError&&s.addToFieldPath(e),s}}function serializeStruct(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,s])=>{serializeField(t,o,e[o],s,n)});else if(r.kind==="enum"){const o=e[r.field];for(let s=0;s<r.values.length;++s){const[a,c]=r.values[s];if(a===o){n.writeU8(s),serializeField(t,a,e[a],c,n);break}}}else throw new BorshError(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function serialize(t,e,n=BinaryWriter){const r=new n;return serializeStruct(t,e,r),r.toArray()}var serialize_1=lib$1.serialize=serialize;function deserializeField(t,e,n,r){try{if(typeof n=="string")return r[`read${capitalizeFirstLetter(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const o=[];for(let s=0;s<n[1];s++)o.push(deserializeField(t,null,n[0],r));return o}else return r.readArray(()=>deserializeField(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?deserializeField(t,e,n.type,r):void 0;if(n.kind==="map"){let o=new Map;const s=r.readU32();for(let a=0;a<s;a++){const c=deserializeField(t,e,n.key,r),m=deserializeField(t,e,n.value,r);o.set(c,m)}return o}return deserializeStruct(t,n,r)}catch(o){throw o instanceof BorshError&&o.addToFieldPath(e),o}}function deserializeStruct(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new BorshError(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const o={};for(const[s,a]of t.get(e).fields)o[s]=deserializeField(t,s,a,n);return new e(o)}if(r.kind==="enum"){const o=n.readU8();if(o>=r.values.length)throw new BorshError(`Enum index: ${o} is out of range`);const[s,a]=r.values[o],c=deserializeField(t,s,a,n);return new e({[s]:c})}throw new BorshError(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function deserialize(t,e,n,r=BinaryReader){const o=new r(n),s=deserializeStruct(t,e,o);if(o.offset<n.length)throw new BorshError(`Unexpected ${n.length-o.offset} bytes after deserialized data`);return s}var deserialize_1=lib$1.deserialize=deserialize;function deserializeUnchecked(t,e,n,r=BinaryReader){const o=new r(n);return deserializeStruct(t,e,o)}deserializeUnchecked_1=lib$1.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$1=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$1=Layout$4.u8=offset=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$1=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$1=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=buffer$2;function checkUint8Array(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(t){return checkUint8Array(t),buffer_1.Buffer.from(t.buffer,t.byteOffset,t.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$3{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Layout$4.Layout=Layout$3;function nameWithProperty$2(t,e){return e.property?t+"["+e.property+"]":t}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$2 extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$4.ExternalLayout=ExternalLayout$2;class GreedyCount$1 extends ExternalLayout$2{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){checkUint8Array(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}Layout$4.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$2{constructor(e,n=0,r){if(!(e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$1}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}Layout$4.OffsetLayout=OffsetLayout$1;class UInt$2 extends Layout$3{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return uint8ArrayToBuffer(e).readUIntLE(n,this.span)}encode(e,n,r=0){return uint8ArrayToBuffer(n).writeUIntLE(e,r,this.span),this.span}}Layout$4.UInt=UInt$2;class UIntBE$1 extends Layout$3{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return uint8ArrayToBuffer(e).readUIntBE(n,this.span)}encode(e,n,r=0){return uint8ArrayToBuffer(n).writeUIntBE(e,r,this.span),this.span}}Layout$4.UIntBE=UIntBE$1;class Int$1 extends Layout$3{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return uint8ArrayToBuffer(e).readIntLE(n,this.span)}encode(e,n,r=0){return uint8ArrayToBuffer(n).writeIntLE(e,r,this.span),this.span}}Layout$4.Int=Int$1;class IntBE$1 extends Layout$3{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return uint8ArrayToBuffer(e).readIntBE(n,this.span)}encode(e,n,r=0){return uint8ArrayToBuffer(n).writeIntBE(e,r,this.span),this.span}}Layout$4.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(t){const e=Math.floor(t/V2E32$1),n=t-e*V2E32$1;return{hi32:e,lo32:n}}function roundedInt64$1(t,e){return t*V2E32$1+e}class NearUInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,n=0){const r=uint8ArrayToBuffer(e),o=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return roundedInt64$1(s,o)}encode(e,n,r=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(n);return s.writeUInt32LE(o.lo32,r),s.writeUInt32LE(o.hi32,r+4),8}}Layout$4.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,n=0){const r=uint8ArrayToBuffer(e),o=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return roundedInt64$1(o,s)}encode(e,n,r=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(n);return s.writeUInt32BE(o.hi32,r),s.writeUInt32BE(o.lo32,r+4),8}}Layout$4.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,n=0){const r=uint8ArrayToBuffer(e),o=r.readUInt32LE(n),s=r.readInt32LE(n+4);return roundedInt64$1(s,o)}encode(e,n,r=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(n);return s.writeUInt32LE(o.lo32,r),s.writeInt32LE(o.hi32,r+4),8}}Layout$4.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,n=0){const r=uint8ArrayToBuffer(e),o=r.readInt32BE(n),s=r.readUInt32BE(n+4);return roundedInt64$1(o,s)}encode(e,n,r=0){const o=divmodInt64$1(e),s=uint8ArrayToBuffer(n);return s.writeInt32BE(o.hi32,r),s.writeUInt32BE(o.lo32,r+4),8}}Layout$4.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$3{constructor(e){super(4,e)}decode(e,n=0){return uint8ArrayToBuffer(e).readFloatLE(n)}encode(e,n,r=0){return uint8ArrayToBuffer(n).writeFloatLE(e,r),4}}Layout$4.Float=Float$1;class FloatBE$1 extends Layout$3{constructor(e){super(4,e)}decode(e,n=0){return uint8ArrayToBuffer(e).readFloatBE(n)}encode(e,n,r=0){return uint8ArrayToBuffer(n).writeFloatBE(e,r),4}}Layout$4.FloatBE=FloatBE$1;class Double$1 extends Layout$3{constructor(e){super(8,e)}decode(e,n=0){return uint8ArrayToBuffer(e).readDoubleLE(n)}encode(e,n,r=0){return uint8ArrayToBuffer(n).writeDoubleLE(e,r),8}}Layout$4.Double=Double$1;class DoubleBE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,n=0){return uint8ArrayToBuffer(e).readDoubleBE(n)}encode(e,n,r=0){return uint8ArrayToBuffer(n).writeDoubleBE(e,r),8}}Layout$4.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$3{constructor(e,n,r){if(!(e instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ExternalLayout$2&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(n instanceof ExternalLayout$2)&&0<e.span&&(o=n*e.span),super(o,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof ExternalLayout$2&&(o=o.decode(e,n)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let s=0;for(;s<o;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let o=0,s=this.count;for(s instanceof ExternalLayout$2&&(s=s.decode(e,n));o<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),o+=1;return r}encode(e,n,r=0){const o=this.elementLayout,s=e.reduce((a,c)=>a+o.encode(c,n,r+a),0);return this.count instanceof ExternalLayout$2&&this.count.encode(e.length,n,r),s}}Layout$4.Sequence=Sequence$1;class Structure$2 extends Layout$3{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,s)=>{const a=s.getSpan(e,n);return n+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){checkUint8Array(e);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,n)),n+=o.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const o=r;let s=0,a=0;for(const c of this.fields){let m=c.span;if(a=0<m?m:0,c.property!==void 0){const en=e[c.property];en!==void 0&&(a=c.encode(en,n,r),0>m&&(m=c.getSpan(n,r)))}s=r,r+=m}return s+a-o}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Layout$4.Structure=Structure$2;class UnionDiscriminator$1{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}Layout$4.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(e,n){if(!(e instanceof ExternalLayout$2&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$3{constructor(e,n,r){let o;if(e instanceof UInt$2||e instanceof UIntBE$1)o=new UnionLayoutDiscriminator$1(new OffsetLayout$1(e));else if(e instanceof ExternalLayout$2&&e.isCount())o=new UnionLayoutDiscriminator$1(e);else if(e instanceof UnionDiscriminator$1)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof UInt$2||e instanceof UIntBE$1)&&(s+=o.layout.span)),super(s,r),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof UInt$2||e instanceof UIntBE$1,this.defaultLayout=n,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const o=this.discriminator,s=o.decode(e,n),a=this.registry[s];if(a===void 0){const c=this.defaultLayout;let m=0;this.usesPrefixDiscriminator&&(m=o.layout.span),r=this.makeDestinationObject(),r[o.property]=s,r[c.property]=c.decode(e,n+m)}else r=a.decode(e,n);return r}encode(e,n,r=0){const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],n,r),c+a.encode(e[a.property],n,r+c)}return o.encode(e,n,r)}addVariant(e,n,r){const o=new VariantLayout$1(this,e,n,r);return this.registry[e]=o,o}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}Layout$4.Union=Union$1;class VariantLayout$1 extends Layout$3{constructor(e,n,r,o){if(!(e instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Layout$3))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,n+r)),r+o}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=o;if(this.layout&&(this.layout.encode(e[this.property],n,r+o),s+=this.layout.getSpan(n,r+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Layout$4.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(t){return 0>t&&(t+=4294967296),t}class BitStructure$1 extends Layout$3{constructor(e,n,r){if(!(e instanceof UInt$2||e instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let o=0;this._packedSetValue=function(s){return o=fixBitwiseResult$1(s),this},this._packedGetValue=function(){return o}}decode(e,n=0){const r=this.makeDestinationObject(),o=this.word.decode(e,n);this._packedSetValue(o);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const o=this.word.decode(n,r);this._packedSetValue(o);for(const s of this.fields)if(s.property!==void 0){const a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new BitField$1(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Boolean$2(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}Layout$4.BitStructure=BitStructure$1;class BitField$1{constructor(e,n,r){if(!(e instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const o=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(n+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-n),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return fixBitwiseResult$1(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fixBitwiseResult$1(e&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=fixBitwiseResult$1(e<<this.start);this.container._packedSetValue(fixBitwiseResult$1(n&~this.wordMask)|r)}}Layout$4.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}}Layout$4.Boolean=Boolean$2;class Blob$3 extends Layout$3{constructor(e,n){if(!(e instanceof ExternalLayout$2&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ExternalLayout$2||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),uint8ArrayToBuffer(e).slice(n,n+r)}encode(e,n,r){let o=this.length;if(this.length instanceof ExternalLayout$2&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>n.length)throw new RangeError("encoding overruns Uint8Array");const s=uint8ArrayToBuffer(e);return uint8ArrayToBuffer(n).write(s.toString("hex"),r,o,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(o,n,r),o}}Layout$4.Blob=Blob$3;class CString$1 extends Layout$3{constructor(e){super(-1,e)}getSpan(e,n=0){checkUint8Array(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return uint8ArrayToBuffer(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),s=o.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const a=uint8ArrayToBuffer(n);return o.copy(a,r),a[r+s]=0,s+1}}Layout$4.CString=CString$1;class UTF8$1 extends Layout$3{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return checkUint8Array(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return o.copy(uint8ArrayToBuffer(n),r),s}}Layout$4.UTF8=UTF8$1;class Constant$1 extends Layout$3{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}Layout$4.Constant=Constant$1;Layout$4.greedy=(t,e)=>new GreedyCount$1(t,e);var offset=Layout$4.offset=(t,e,n)=>new OffsetLayout$1(t,e,n),u8$1=Layout$4.u8=t=>new UInt$2(1,t),u16=Layout$4.u16=t=>new UInt$2(2,t);Layout$4.u24=t=>new UInt$2(3,t);var u32$1=Layout$4.u32=t=>new UInt$2(4,t);Layout$4.u40=t=>new UInt$2(5,t);Layout$4.u48=t=>new UInt$2(6,t);var nu64=Layout$4.nu64=t=>new NearUInt64$1(t);Layout$4.u16be=t=>new UIntBE$1(2,t);Layout$4.u24be=t=>new UIntBE$1(3,t);Layout$4.u32be=t=>new UIntBE$1(4,t);Layout$4.u40be=t=>new UIntBE$1(5,t);Layout$4.u48be=t=>new UIntBE$1(6,t);Layout$4.nu64be=t=>new NearUInt64BE$1(t);Layout$4.s8=t=>new Int$1(1,t);Layout$4.s16=t=>new Int$1(2,t);Layout$4.s24=t=>new Int$1(3,t);Layout$4.s32=t=>new Int$1(4,t);Layout$4.s40=t=>new Int$1(5,t);Layout$4.s48=t=>new Int$1(6,t);var ns64=Layout$4.ns64=t=>new NearInt64$1(t);Layout$4.s16be=t=>new IntBE$1(2,t);Layout$4.s24be=t=>new IntBE$1(3,t);Layout$4.s32be=t=>new IntBE$1(4,t);Layout$4.s40be=t=>new IntBE$1(5,t);Layout$4.s48be=t=>new IntBE$1(6,t);Layout$4.ns64be=t=>new NearInt64BE$1(t);Layout$4.f32=t=>new Float$1(t);Layout$4.f32be=t=>new FloatBE$1(t);Layout$4.f64=t=>new Double$1(t);Layout$4.f64be=t=>new DoubleBE$1(t);var struct$1=Layout$4.struct=(t,e,n)=>new Structure$2(t,e,n);Layout$4.bits=(t,e,n)=>new BitStructure$1(t,e,n);var seq=Layout$4.seq=(t,e,n)=>new Sequence$1(t,e,n);Layout$4.union=(t,e,n)=>new Union$1(t,e,n);Layout$4.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator$1(t,e);var blob$1=Layout$4.blob=(t,e)=>new Blob$3(t,e);Layout$4.cstr=t=>new CString$1(t);Layout$4.utf8=(t,e)=>new UTF8$1(t,e);Layout$4.constant=(t,e)=>new Constant$1(t,e);var browser$2={};Object.defineProperty(browser$2,"__esModule",{value:!0});function toBigIntLE(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var toBigIntLE_1=browser$2.toBigIntLE=toBigIntLE;function toBigIntBE(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}browser$2.toBigIntBE=toBigIntBE;function toBufferLE(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var toBufferLE_1=browser$2.toBufferLE=toBufferLE;function toBufferBE(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}browser$2.toBufferBE=toBufferBE;class StructError extends TypeError{constructor(e,n){let r;const{message:o,...s}=e,{path:a}=e,c=a.length===0?o:"At path: "+a.join(".")+" -- "+o;super(c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var m;return(m=r)!=null?m:r=[e,...n()]}}}function isIterable(t){return isObject$2(t)&&typeof t[Symbol.iterator]=="function"}function isObject$2(t){return typeof t=="object"&&t!=null}function print(t){return typeof t=="string"?JSON.stringify(t):""+t}function shiftIterator(t){const{done:e,value:n}=t.next();return e?void 0:n}function toFailure(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:s}=e,{type:a}=n,{refinement:c,message:m="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+print(r)+"`"}=t;return{value:r,type:a,refinement:c,key:o[o.length-1],path:o,branch:s,...t,message:m}}function*toFailures(t,e,n,r){isIterable(t)||(t=[t]);for(const o of t){const s=toFailure(o,e,n,r);s&&(yield s)}}function*run$1(t,e,n={}){const{path:r=[],branch:o=[t],coerce:s=!1,mask:a=!1}=n,c={path:r,branch:o};if(s&&(t=e.coercer(t,c),a&&e.type!=="type"&&isObject$2(e.schema)&&isObject$2(t)&&!Array.isArray(t)))for(const en in t)e.schema[en]===void 0&&delete t[en];let m=!0;for(const en of e.validator(t,c))m=!1,yield[en,void 0];for(let[en,tn,sn]of e.entries(t,c)){const un=run$1(tn,sn,{path:en===void 0?r:[...r,en],branch:en===void 0?o:[...o,tn],coerce:s,mask:a});for(const cn of un)cn[0]?(m=!1,yield[cn[0],void 0]):s&&(tn=cn[1],en===void 0?t=tn:t instanceof Map?t.set(en,tn):t instanceof Set?t.add(tn):isObject$2(t)&&(t[en]=tn))}if(m)for(const en of e.refiner(t,c))m=!1,yield[en,void 0];m&&(yield[void 0,t])}class Struct$1{constructor(e){const{type:n,schema:r,validator:o,refiner:s,coercer:a=m=>m,entries:c=function*(){}}=e;this.type=n,this.schema=r,this.entries=c,this.coercer=a,o?this.validator=(m,en)=>{const tn=o(m,en);return toFailures(tn,en,this,m)}:this.validator=()=>[],s?this.refiner=(m,en)=>{const tn=s(m,en);return toFailures(tn,en,this,m)}:this.refiner=()=>[]}assert(e){return assert$2(e,this)}create(e){return create(e,this)}is(e){return is(e,this)}mask(e){return mask(e,this)}validate(e,n={}){return validate$1(e,this,n)}}function assert$2(t,e){const n=validate$1(t,e);if(n[0])throw n[0]}function create(t,e){const n=validate$1(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function mask(t,e){const n=validate$1(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function is(t,e){return!validate$1(t,e)[0]}function validate$1(t,e,n={}){const r=run$1(t,e,n),o=shiftIterator(r);if(o[0])return[new StructError(o[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0];{const s=o[1];return[void 0,s]}}function define(t,e){return new Struct$1({type:t,schema:null,validator:e})}function any(){return define("any",()=>!0)}function array(t){return new Struct$1({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print(e)}})}function boolean(){return define("boolean",t=>typeof t=="boolean")}function instance(t){return define("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+print(e))}function literal(t){const e=print(t),n=typeof t;return new Struct$1({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+print(r)}})}function never(){return define("never",()=>!1)}function nullable(t){return new Struct$1({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function number(){return define("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+print(t))}function optional(t){return new Struct$1({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function record(t,e){return new Struct$1({type:"record",schema:null,*entries(n){if(isObject$2(n))for(const r in n){const o=n[r];yield[r,r,t],yield[r,o,e]}},validator(n){return isObject$2(n)||"Expected an object, but received: "+print(n)}})}function string(){return define("string",t=>typeof t=="string"||"Expected a string, but received: "+print(t))}function tuple(t){const e=never();return new Struct$1({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let o=0;o<r;o++)yield[o,n[o],t[o]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+print(n)}})}function type(t){const e=Object.keys(t);return new Struct$1({type:"type",schema:t,*entries(n){if(isObject$2(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return isObject$2(n)||"Expected an object, but received: "+print(n)}})}function union(t){const e=t.map(n=>n.type).join(" | ");return new Struct$1({type:"union",schema:null,validator(n,r){const o=[];for(const s of t){const[...a]=run$1(n,s,r),[c]=a;if(c[0])for(const[m]of a)m&&o.push(m);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print(n),...o]}})}function unknown(){return define("unknown",()=>!0)}function coerce(t,e,n){return new Struct$1({...t,coercer:(r,o)=>is(r,e)?t.coercer(n(r,o),o):t.coercer(r,o)})}var index_browser={},interopRequireDefault={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(interopRequireDefault);var createClass={exports:{}},hasRequiredCreateClass;function requireCreateClass(){return hasRequiredCreateClass||(hasRequiredCreateClass=1,function(t){function e(r,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function n(r,o,s){return o&&e(r.prototype,o),s&&e(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(createClass)),createClass.exports}var classCallCheck={exports:{}},hasRequiredClassCallCheck;function requireClassCallCheck(){return hasRequiredClassCallCheck||(hasRequiredClassCallCheck=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(classCallCheck)),classCallCheck.exports}var inherits$2={exports:{}},setPrototypeOf={exports:{}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(setPrototypeOf)),setPrototypeOf.exports}var hasRequiredInherits;function requireInherits(){return hasRequiredInherits||(hasRequiredInherits=1,function(t){var e=requireSetPrototypeOf();function n(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&e(r,o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(inherits$2)),inherits$2.exports}var possibleConstructorReturn={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(t){function e(n){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(_typeof)),_typeof.exports}var assertThisInitialized={exports:{}},hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){return hasRequiredAssertThisInitialized||(hasRequiredAssertThisInitialized=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(assertThisInitialized)),assertThisInitialized.exports}var hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){return hasRequiredPossibleConstructorReturn||(hasRequiredPossibleConstructorReturn=1,function(t){var e=require_typeof().default,n=requireAssertThisInitialized();function r(o,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(possibleConstructorReturn)),possibleConstructorReturn.exports}var getPrototypeOf={exports:{}},hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){return hasRequiredGetPrototypeOf||(hasRequiredGetPrototypeOf=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(getPrototypeOf)),getPrototypeOf.exports}var websocket_browser={},eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(m,en,tn){this.fn=m,this.context=en,this.once=tn||!1}function s(m,en,tn,sn,un){if(typeof tn!="function")throw new TypeError("The listener must be a function");var cn=new o(tn,sn||m,un),gn=n?n+en:en;return m._events[gn]?m._events[gn].fn?m._events[gn]=[m._events[gn],cn]:m._events[gn].push(cn):(m._events[gn]=cn,m._eventsCount++),m}function a(m,en){--m._eventsCount===0?m._events=new r:delete m._events[en]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var en=[],tn,sn;if(this._eventsCount===0)return en;for(sn in tn=this._events)e.call(tn,sn)&&en.push(n?sn.slice(1):sn);return Object.getOwnPropertySymbols?en.concat(Object.getOwnPropertySymbols(tn)):en},c.prototype.listeners=function(en){var tn=n?n+en:en,sn=this._events[tn];if(!sn)return[];if(sn.fn)return[sn.fn];for(var un=0,cn=sn.length,gn=new Array(cn);un<cn;un++)gn[un]=sn[un].fn;return gn},c.prototype.listenerCount=function(en){var tn=n?n+en:en,sn=this._events[tn];return sn?sn.fn?1:sn.length:0},c.prototype.emit=function(en,tn,sn,un,cn,gn){var mn=n?n+en:en;if(!this._events[mn])return!1;var yn=this._events[mn],wn=arguments.length,kn,An;if(yn.fn){switch(yn.once&&this.removeListener(en,yn.fn,void 0,!0),wn){case 1:return yn.fn.call(yn.context),!0;case 2:return yn.fn.call(yn.context,tn),!0;case 3:return yn.fn.call(yn.context,tn,sn),!0;case 4:return yn.fn.call(yn.context,tn,sn,un),!0;case 5:return yn.fn.call(yn.context,tn,sn,un,cn),!0;case 6:return yn.fn.call(yn.context,tn,sn,un,cn,gn),!0}for(An=1,kn=new Array(wn-1);An<wn;An++)kn[An-1]=arguments[An];yn.fn.apply(yn.context,kn)}else{var $n=yn.length,Mn;for(An=0;An<$n;An++)switch(yn[An].once&&this.removeListener(en,yn[An].fn,void 0,!0),wn){case 1:yn[An].fn.call(yn[An].context);break;case 2:yn[An].fn.call(yn[An].context,tn);break;case 3:yn[An].fn.call(yn[An].context,tn,sn);break;case 4:yn[An].fn.call(yn[An].context,tn,sn,un);break;default:if(!kn)for(Mn=1,kn=new Array(wn-1);Mn<wn;Mn++)kn[Mn-1]=arguments[Mn];yn[An].fn.apply(yn[An].context,kn)}}return!0},c.prototype.on=function(en,tn,sn){return s(this,en,tn,sn,!1)},c.prototype.once=function(en,tn,sn){return s(this,en,tn,sn,!0)},c.prototype.removeListener=function(en,tn,sn,un){var cn=n?n+en:en;if(!this._events[cn])return this;if(!tn)return a(this,cn),this;var gn=this._events[cn];if(gn.fn)gn.fn===tn&&(!un||gn.once)&&(!sn||gn.context===sn)&&a(this,cn);else{for(var mn=0,yn=[],wn=gn.length;mn<wn;mn++)(gn[mn].fn!==tn||un&&!gn[mn].once||sn&&gn[mn].context!==sn)&&yn.push(gn[mn]);yn.length?this._events[cn]=yn.length===1?yn[0]:yn:a(this,cn)}return this},c.prototype.removeAllListeners=function(en){var tn;return en?(tn=n?n+en:en,this._events[tn]&&a(this,tn)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(eventemitter3)),eventemitter3.exports}var hasRequiredWebsocket_browser;function requireWebsocket_browser(){return hasRequiredWebsocket_browser||(hasRequiredWebsocket_browser=1,function(t){var e=interopRequireDefault.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=sn;var n=e(requireClassCallCheck()),r=e(requireCreateClass()),o=e(requireInherits()),s=e(requirePossibleConstructorReturn()),a=e(requireGetPrototypeOf()),c=requireEventemitter3();function m(un){var cn=en();return function(){var mn=(0,a.default)(un),yn;if(cn){var wn=(0,a.default)(this).constructor;yn=Reflect.construct(mn,arguments,wn)}else yn=mn.apply(this,arguments);return(0,s.default)(this,yn)}}function en(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var tn=function(un){(0,o.default)(gn,un);var cn=m(gn);function gn(mn,yn,wn){var kn;return(0,n.default)(this,gn),kn=cn.call(this),kn.socket=new window.WebSocket(mn,wn),kn.socket.onopen=function(){return kn.emit("open")},kn.socket.onmessage=function(An){return kn.emit("message",An.data)},kn.socket.onerror=function(An){return kn.emit("error",An)},kn.socket.onclose=function(An){kn.emit("close",An.code,An.reason)},kn}return(0,r.default)(gn,[{key:"send",value:function(yn,wn,kn){var An=kn||wn;try{this.socket.send(yn),An()}catch($n){An($n)}}},{key:"close",value:function(yn,wn){this.socket.close(yn,wn)}},{key:"addEventListener",value:function(yn,wn,kn){this.socket.addEventListener(yn,wn,kn)}}]),gn}(c.EventEmitter);function sn(un,cn){return new tn(un,cn)}}(websocket_browser)),websocket_browser}var client={},regeneratorRuntime$1={exports:{}},hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(t){var e=require_typeof().default;function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},o=Object.prototype,s=o.hasOwnProperty,a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",m=a.asyncIterator||"@@asyncIterator",en=a.toStringTag||"@@toStringTag";function tn(pn,on,ln){return Object.defineProperty(pn,on,{value:ln,enumerable:!0,configurable:!0,writable:!0}),pn[on]}try{tn({},"")}catch{tn=function(ln,vn,xn){return ln[vn]=xn}}function sn(pn,on,ln,vn){var xn=on&&on.prototype instanceof gn?on:gn,On=Object.create(xn.prototype),Hn=new Nn(vn||[]);return On._invoke=function(Zn,Rn,fn){var Dn="suspendedStart";return function(Hr,Fn){if(Dn==="executing")throw new Error("Generator is already running");if(Dn==="completed"){if(Hr==="throw")throw Fn;return _r()}for(fn.method=Hr,fn.arg=Fn;;){var Vn=fn.delegate;if(Vn){var Gn=Tn(Vn,fn);if(Gn){if(Gn===cn)continue;return Gn}}if(fn.method==="next")fn.sent=fn._sent=fn.arg;else if(fn.method==="throw"){if(Dn==="suspendedStart")throw Dn="completed",fn.arg;fn.dispatchException(fn.arg)}else fn.method==="return"&&fn.abrupt("return",fn.arg);Dn="executing";var Yn=un(Zn,Rn,fn);if(Yn.type==="normal"){if(Dn=fn.done?"completed":"suspendedYield",Yn.arg===cn)continue;return{value:Yn.arg,done:fn.done}}Yn.type==="throw"&&(Dn="completed",fn.method="throw",fn.arg=Yn.arg)}}}(pn,ln,Hn),On}function un(pn,on,ln){try{return{type:"normal",arg:pn.call(on,ln)}}catch(vn){return{type:"throw",arg:vn}}}r.wrap=sn;var cn={};function gn(){}function mn(){}function yn(){}var wn={};tn(wn,c,function(){return this});var kn=Object.getPrototypeOf,An=kn&&kn(kn(Kn([])));An&&An!==o&&s.call(An,c)&&(wn=An);var $n=yn.prototype=gn.prototype=Object.create(wn);function Mn(pn){["next","throw","return"].forEach(function(on){tn(pn,on,function(ln){return this._invoke(on,ln)})})}function En(pn,on){function ln(xn,On,Hn,Zn){var Rn=un(pn[xn],pn,On);if(Rn.type!=="throw"){var fn=Rn.arg,Dn=fn.value;return Dn&&e(Dn)=="object"&&s.call(Dn,"__await")?on.resolve(Dn.__await).then(function(Hr){ln("next",Hr,Hn,Zn)},function(Hr){ln("throw",Hr,Hn,Zn)}):on.resolve(Dn).then(function(Hr){fn.value=Hr,Hn(fn)},function(Hr){return ln("throw",Hr,Hn,Zn)})}Zn(Rn.arg)}var vn;this._invoke=function(xn,On){function Hn(){return new on(function(Zn,Rn){ln(xn,On,Zn,Rn)})}return vn=vn?vn.then(Hn,Hn):Hn()}}function Tn(pn,on){var ln=pn.iterator[on.method];if(ln===void 0){if(on.delegate=null,on.method==="throw"){if(pn.iterator.return&&(on.method="return",on.arg=void 0,Tn(pn,on),on.method==="throw"))return cn;on.method="throw",on.arg=new TypeError("The iterator does not provide a 'throw' method")}return cn}var vn=un(ln,pn.iterator,on.arg);if(vn.type==="throw")return on.method="throw",on.arg=vn.arg,on.delegate=null,cn;var xn=vn.arg;return xn?xn.done?(on[pn.resultName]=xn.value,on.next=pn.nextLoc,on.method!=="return"&&(on.method="next",on.arg=void 0),on.delegate=null,cn):xn:(on.method="throw",on.arg=new TypeError("iterator result is not an object"),on.delegate=null,cn)}function Pn(pn){var on={tryLoc:pn[0]};1 in pn&&(on.catchLoc=pn[1]),2 in pn&&(on.finallyLoc=pn[2],on.afterLoc=pn[3]),this.tryEntries.push(on)}function zn(pn){var on=pn.completion||{};on.type="normal",delete on.arg,pn.completion=on}function Nn(pn){this.tryEntries=[{tryLoc:"root"}],pn.forEach(Pn,this),this.reset(!0)}function Kn(pn){if(pn){var on=pn[c];if(on)return on.call(pn);if(typeof pn.next=="function")return pn;if(!isNaN(pn.length)){var ln=-1,vn=function xn(){for(;++ln<pn.length;)if(s.call(pn,ln))return xn.value=pn[ln],xn.done=!1,xn;return xn.value=void 0,xn.done=!0,xn};return vn.next=vn}}return{next:_r}}function _r(){return{value:void 0,done:!0}}return mn.prototype=yn,tn($n,"constructor",yn),tn(yn,"constructor",mn),mn.displayName=tn(yn,en,"GeneratorFunction"),r.isGeneratorFunction=function(pn){var on=typeof pn=="function"&&pn.constructor;return!!on&&(on===mn||(on.displayName||on.name)==="GeneratorFunction")},r.mark=function(pn){return Object.setPrototypeOf?Object.setPrototypeOf(pn,yn):(pn.__proto__=yn,tn(pn,en,"GeneratorFunction")),pn.prototype=Object.create($n),pn},r.awrap=function(pn){return{__await:pn}},Mn(En.prototype),tn(En.prototype,m,function(){return this}),r.AsyncIterator=En,r.async=function(pn,on,ln,vn,xn){xn===void 0&&(xn=Promise);var On=new En(sn(pn,on,ln,vn),xn);return r.isGeneratorFunction(on)?On:On.next().then(function(Hn){return Hn.done?Hn.value:On.next()})},Mn($n),tn($n,en,"Generator"),tn($n,c,function(){return this}),tn($n,"toString",function(){return"[object Generator]"}),r.keys=function(pn){var on=[];for(var ln in pn)on.push(ln);return on.reverse(),function vn(){for(;on.length;){var xn=on.pop();if(xn in pn)return vn.value=xn,vn.done=!1,vn}return vn.done=!0,vn}},r.values=Kn,Nn.prototype={constructor:Nn,reset:function(on){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(zn),!on)for(var ln in this)ln.charAt(0)==="t"&&s.call(this,ln)&&!isNaN(+ln.slice(1))&&(this[ln]=void 0)},stop:function(){this.done=!0;var on=this.tryEntries[0].completion;if(on.type==="throw")throw on.arg;return this.rval},dispatchException:function(on){if(this.done)throw on;var ln=this;function vn(fn,Dn){return Hn.type="throw",Hn.arg=on,ln.next=fn,Dn&&(ln.method="next",ln.arg=void 0),!!Dn}for(var xn=this.tryEntries.length-1;xn>=0;--xn){var On=this.tryEntries[xn],Hn=On.completion;if(On.tryLoc==="root")return vn("end");if(On.tryLoc<=this.prev){var Zn=s.call(On,"catchLoc"),Rn=s.call(On,"finallyLoc");if(Zn&&Rn){if(this.prev<On.catchLoc)return vn(On.catchLoc,!0);if(this.prev<On.finallyLoc)return vn(On.finallyLoc)}else if(Zn){if(this.prev<On.catchLoc)return vn(On.catchLoc,!0)}else{if(!Rn)throw new Error("try statement without catch or finally");if(this.prev<On.finallyLoc)return vn(On.finallyLoc)}}}},abrupt:function(on,ln){for(var vn=this.tryEntries.length-1;vn>=0;--vn){var xn=this.tryEntries[vn];if(xn.tryLoc<=this.prev&&s.call(xn,"finallyLoc")&&this.prev<xn.finallyLoc){var On=xn;break}}On&&(on==="break"||on==="continue")&&On.tryLoc<=ln&&ln<=On.finallyLoc&&(On=null);var Hn=On?On.completion:{};return Hn.type=on,Hn.arg=ln,On?(this.method="next",this.next=On.finallyLoc,cn):this.complete(Hn)},complete:function(on,ln){if(on.type==="throw")throw on.arg;return on.type==="break"||on.type==="continue"?this.next=on.arg:on.type==="return"?(this.rval=this.arg=on.arg,this.method="return",this.next="end"):on.type==="normal"&&ln&&(this.next=ln),cn},finish:function(on){for(var ln=this.tryEntries.length-1;ln>=0;--ln){var vn=this.tryEntries[ln];if(vn.finallyLoc===on)return this.complete(vn.completion,vn.afterLoc),zn(vn),cn}},catch:function(on){for(var ln=this.tryEntries.length-1;ln>=0;--ln){var vn=this.tryEntries[ln];if(vn.tryLoc===on){var xn=vn.completion;if(xn.type==="throw"){var On=xn.arg;zn(vn)}return On}}throw new Error("illegal catch attempt")},delegateYield:function(on,ln,vn){return this.delegate={iterator:Kn(on),resultName:ln,nextLoc:vn},this.method==="next"&&(this.arg=void 0),cn}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var t=requireRegeneratorRuntime()();regenerator=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(t){function e(r,o,s,a,c,m,en){try{var tn=r[m](en),sn=tn.value}catch(un){s(un);return}tn.done?o(sn):Promise.resolve(sn).then(a,c)}function n(r){return function(){var o=this,s=arguments;return new Promise(function(a,c){var m=r.apply(o,s);function en(sn){e(m,a,c,en,tn,"next",sn)}function tn(sn){e(m,a,c,en,tn,"throw",sn)}en(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(asyncToGenerator)),asyncToGenerator.exports}var hasRequiredClient;function requireClient(){return hasRequiredClient||(hasRequiredClient=1,function(t){var e=interopRequireDefault.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(requireRegenerator()),r=e(requireAsyncToGenerator()),o=e(require_typeof()),s=e(requireClassCallCheck()),a=e(requireCreateClass()),c=e(requireInherits()),m=e(requirePossibleConstructorReturn()),en=e(requireGetPrototypeOf()),tn=requireEventemitter3();function sn(mn){var yn=un();return function(){var kn=(0,en.default)(mn),An;if(yn){var $n=(0,en.default)(this).constructor;An=Reflect.construct(kn,arguments,$n)}else An=kn.apply(this,arguments);return(0,m.default)(this,An)}}function un(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var cn=function(mn,yn){var wn={};for(var kn in mn)Object.prototype.hasOwnProperty.call(mn,kn)&&yn.indexOf(kn)<0&&(wn[kn]=mn[kn]);if(mn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var An=0,kn=Object.getOwnPropertySymbols(mn);An<kn.length;An++)yn.indexOf(kn[An])<0&&Object.prototype.propertyIsEnumerable.call(mn,kn[An])&&(wn[kn[An]]=mn[kn[An]]);return wn},gn=function(mn){(0,c.default)(wn,mn);var yn=sn(wn);function wn(kn){var An,$n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",Mn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},En=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,wn);var Tn=Mn.autoconnect,Pn=Tn===void 0?!0:Tn,zn=Mn.reconnect,Nn=zn===void 0?!0:zn,Kn=Mn.reconnect_interval,_r=Kn===void 0?1e3:Kn,pn=Mn.max_reconnects,on=pn===void 0?5:pn,ln=cn(Mn,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return An=yn.call(this),An.webSocketFactory=kn,An.queue={},An.rpc_id=0,An.address=$n,An.autoconnect=Pn,An.ready=!1,An.reconnect=Nn,An.reconnect_interval=_r,An.max_reconnects=on,An.rest_options=ln,An.current_reconnects=0,An.generate_request_id=En||function(){return++An.rpc_id},An.autoconnect&&An._connect(An.address,Object.assign({autoconnect:An.autoconnect,reconnect:An.reconnect,reconnect_interval:An.reconnect_interval,max_reconnects:An.max_reconnects},An.rest_options)),An}return(0,a.default)(wn,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(An,$n,Mn,En){var Tn=this;return!En&&(0,o.default)(Mn)==="object"&&(En=Mn,Mn=null),new Promise(function(Pn,zn){if(!Tn.ready)return zn(new Error("socket not ready"));var Nn=Tn.generate_request_id(An,$n),Kn={jsonrpc:"2.0",method:An,params:$n||null,id:Nn};Tn.socket.send(JSON.stringify(Kn),En,function(_r){if(_r)return zn(_r);Tn.queue[Nn]={promise:[Pn,zn]},Mn&&(Tn.queue[Nn].timeout=setTimeout(function(){delete Tn.queue[Nn],zn(new Error("reply timeout"))},Mn))})})}},{key:"login",value:function(){var kn=(0,r.default)(n.default.mark(function $n(Mn){var En;return n.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.next=2,this.call("rpc.login",Mn);case 2:if(En=Pn.sent,En){Pn.next=5;break}throw new Error("authentication failed");case 5:return Pn.abrupt("return",En);case 6:case"end":return Pn.stop()}},$n,this)}));function An($n){return kn.apply(this,arguments)}return An}()},{key:"listMethods",value:function(){var kn=(0,r.default)(n.default.mark(function $n(){return n.default.wrap(function(En){for(;;)switch(En.prev=En.next){case 0:return En.next=2,this.call("__listMethods");case 2:return En.abrupt("return",En.sent);case 3:case"end":return En.stop()}},$n,this)}));function An(){return kn.apply(this,arguments)}return An}()},{key:"notify",value:function(An,$n){var Mn=this;return new Promise(function(En,Tn){if(!Mn.ready)return Tn(new Error("socket not ready"));var Pn={jsonrpc:"2.0",method:An,params:$n||null};Mn.socket.send(JSON.stringify(Pn),function(zn){if(zn)return Tn(zn);En()})})}},{key:"subscribe",value:function(){var kn=(0,r.default)(n.default.mark(function $n(Mn){var En;return n.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof Mn=="string"&&(Mn=[Mn]),Pn.next=3,this.call("rpc.on",Mn);case 3:if(En=Pn.sent,!(typeof Mn=="string"&&En[Mn]!=="ok")){Pn.next=6;break}throw new Error("Failed subscribing to an event '"+Mn+"' with: "+En[Mn]);case 6:return Pn.abrupt("return",En);case 7:case"end":return Pn.stop()}},$n,this)}));function An($n){return kn.apply(this,arguments)}return An}()},{key:"unsubscribe",value:function(){var kn=(0,r.default)(n.default.mark(function $n(Mn){var En;return n.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof Mn=="string"&&(Mn=[Mn]),Pn.next=3,this.call("rpc.off",Mn);case 3:if(En=Pn.sent,!(typeof Mn=="string"&&En[Mn]!=="ok")){Pn.next=6;break}throw new Error("Failed unsubscribing from an event with: "+En);case 6:return Pn.abrupt("return",En);case 7:case"end":return Pn.stop()}},$n,this)}));function An($n){return kn.apply(this,arguments)}return An}()},{key:"close",value:function(An,$n){this.socket.close(An||1e3,$n)}},{key:"_connect",value:function(An,$n){var Mn=this;this.socket=this.webSocketFactory(An,$n),this.socket.addEventListener("open",function(){Mn.ready=!0,Mn.emit("open"),Mn.current_reconnects=0}),this.socket.addEventListener("message",function(En){var Tn=En.data;Tn instanceof ArrayBuffer&&(Tn=Buffer.from(Tn).toString());try{Tn=JSON.parse(Tn)}catch{return}if(Tn.notification&&Mn.listeners(Tn.notification).length){if(!Object.keys(Tn.params).length)return Mn.emit(Tn.notification);var Pn=[Tn.notification];if(Tn.params.constructor===Object)Pn.push(Tn.params);else for(var zn=0;zn<Tn.params.length;zn++)Pn.push(Tn.params[zn]);return Promise.resolve().then(function(){Mn.emit.apply(Mn,Pn)})}if(!Mn.queue[Tn.id])return Tn.method&&Tn.params?Promise.resolve().then(function(){Mn.emit(Tn.method,Tn.params)}):void 0;"error"in Tn=="result"in Tn&&Mn.queue[Tn.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),Mn.queue[Tn.id].timeout&&clearTimeout(Mn.queue[Tn.id].timeout),Tn.error?Mn.queue[Tn.id].promise[1](Tn.error):Mn.queue[Tn.id].promise[0](Tn.result),delete Mn.queue[Tn.id]}),this.socket.addEventListener("error",function(En){return Mn.emit("error",En)}),this.socket.addEventListener("close",function(En){var Tn=En.code,Pn=En.reason;Mn.ready&&setTimeout(function(){return Mn.emit("close",Tn,Pn)},0),Mn.ready=!1,Mn.socket=void 0,Tn!==1e3&&(Mn.current_reconnects++,Mn.reconnect&&(Mn.max_reconnects>Mn.current_reconnects||Mn.max_reconnects===0)&&setTimeout(function(){return Mn._connect(An,$n)},Mn.reconnect_interval))})}}]),wn}(tn.EventEmitter);t.default=gn}(client)),client}var _interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(index_browser,"__esModule",{value:!0});var Client_1=index_browser.Client=void 0,_createClass2=_interopRequireDefault(requireCreateClass()),_classCallCheck2=_interopRequireDefault(requireClassCallCheck()),_inherits2=_interopRequireDefault(requireInherits()),_possibleConstructorReturn2=_interopRequireDefault(requirePossibleConstructorReturn()),_getPrototypeOf2=_interopRequireDefault(requireGetPrototypeOf()),_websocket=_interopRequireDefault(requireWebsocket_browser()),_client=_interopRequireDefault(requireClient());function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r=(0,_getPrototypeOf2.default)(t),o;if(e){var s=(0,_getPrototypeOf2.default)(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,o)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Client=function(t){(0,_inherits2.default)(n,t);var e=_createSuper(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.autoconnect,a=s===void 0?!0:s,c=o.reconnect,m=c===void 0?!0:c,en=o.reconnect_interval,tn=en===void 0?1e3:en,sn=o.max_reconnects,un=sn===void 0?5:sn,cn=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,n),e.call(this,_websocket.default,r,{autoconnect:a,reconnect:m,reconnect_interval:tn,max_reconnects:un},cn)}return(0,_createClass2.default)(n)}(_client.default);Client_1=index_browser.Client=Client;var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(t){return typeof t=="string"&&REGEX.test(t)}var byteToHex=[];for(var i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).substr(1));function stringify$1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(t,e,n){var r=e&&n||0,o=e||new Array(16);t=t||{};var s=t.node||_nodeId,a=t.clockseq!==void 0?t.clockseq:_clockseq;if(s==null||a==null){var c=t.random||(t.rng||rng)();s==null&&(s=_nodeId=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),a==null&&(a=_clockseq=(c[6]<<8|c[7])&16383)}var m=t.msecs!==void 0?t.msecs:Date.now(),en=t.nsecs!==void 0?t.nsecs:_lastNSecs+1,tn=m-_lastMSecs+(en-_lastNSecs)/1e4;if(tn<0&&t.clockseq===void 0&&(a=a+1&16383),(tn<0||m>_lastMSecs)&&t.nsecs===void 0&&(en=0),en>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=m,_lastNSecs=en,_clockseq=a,m+=122192928e5;var sn=((m&268435455)*1e4+en)%4294967296;o[r++]=sn>>>24&255,o[r++]=sn>>>16&255,o[r++]=sn>>>8&255,o[r++]=sn&255;var un=m/4294967296*1e4&268435455;o[r++]=un>>>8&255,o[r++]=un&255,o[r++]=un>>>24&15|16,o[r++]=un>>>16&255,o[r++]=a>>>8|128,o[r++]=a&255;for(var cn=0;cn<6;++cn)o[r+cn]=s[cn];return e||stringify$1(o)}function parse(t){if(!validate(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function stringToBytes(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(t,e,n){function r(o,s,a,c){if(typeof o=="string"&&(o=stringToBytes(o)),typeof s=="string"&&(s=parse(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var m=new Uint8Array(16+o.length);if(m.set(s),m.set(o,s.length),m=n(m),m[6]=m[6]&15|e,m[8]=m[8]&63|128,a){c=c||0;for(var en=0;en<16;++en)a[c+en]=m[en];return a}return stringify$1(m)}try{r.name=t}catch{}return r.DNS=DNS,r.URL=URL,r}function md5(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(t),t.length*8))}function md5ToHexEncodedArray(t){for(var e=[],n=t.length*32,r="0123456789abcdef",o=0;o<n;o+=8){var s=t[o>>5]>>>o%32&255,a=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(a)}return e}function getOutputLength(t){return(t+64>>>9<<4)+14+1}function wordsToMd5(t,e){t[e>>5]|=128<<e%32,t[getOutputLength(e)-1]=e;for(var n=1732584193,r=-271733879,o=-1732584194,s=271733878,a=0;a<t.length;a+=16){var c=n,m=r,en=o,tn=s;n=md5ff(n,r,o,s,t[a],7,-680876936),s=md5ff(s,n,r,o,t[a+1],12,-389564586),o=md5ff(o,s,n,r,t[a+2],17,606105819),r=md5ff(r,o,s,n,t[a+3],22,-1044525330),n=md5ff(n,r,o,s,t[a+4],7,-176418897),s=md5ff(s,n,r,o,t[a+5],12,1200080426),o=md5ff(o,s,n,r,t[a+6],17,-1473231341),r=md5ff(r,o,s,n,t[a+7],22,-45705983),n=md5ff(n,r,o,s,t[a+8],7,1770035416),s=md5ff(s,n,r,o,t[a+9],12,-1958414417),o=md5ff(o,s,n,r,t[a+10],17,-42063),r=md5ff(r,o,s,n,t[a+11],22,-1990404162),n=md5ff(n,r,o,s,t[a+12],7,1804603682),s=md5ff(s,n,r,o,t[a+13],12,-40341101),o=md5ff(o,s,n,r,t[a+14],17,-1502002290),r=md5ff(r,o,s,n,t[a+15],22,1236535329),n=md5gg(n,r,o,s,t[a+1],5,-165796510),s=md5gg(s,n,r,o,t[a+6],9,-1069501632),o=md5gg(o,s,n,r,t[a+11],14,643717713),r=md5gg(r,o,s,n,t[a],20,-373897302),n=md5gg(n,r,o,s,t[a+5],5,-701558691),s=md5gg(s,n,r,o,t[a+10],9,38016083),o=md5gg(o,s,n,r,t[a+15],14,-660478335),r=md5gg(r,o,s,n,t[a+4],20,-405537848),n=md5gg(n,r,o,s,t[a+9],5,568446438),s=md5gg(s,n,r,o,t[a+14],9,-1019803690),o=md5gg(o,s,n,r,t[a+3],14,-187363961),r=md5gg(r,o,s,n,t[a+8],20,1163531501),n=md5gg(n,r,o,s,t[a+13],5,-1444681467),s=md5gg(s,n,r,o,t[a+2],9,-51403784),o=md5gg(o,s,n,r,t[a+7],14,1735328473),r=md5gg(r,o,s,n,t[a+12],20,-1926607734),n=md5hh(n,r,o,s,t[a+5],4,-378558),s=md5hh(s,n,r,o,t[a+8],11,-2022574463),o=md5hh(o,s,n,r,t[a+11],16,1839030562),r=md5hh(r,o,s,n,t[a+14],23,-35309556),n=md5hh(n,r,o,s,t[a+1],4,-1530992060),s=md5hh(s,n,r,o,t[a+4],11,1272893353),o=md5hh(o,s,n,r,t[a+7],16,-155497632),r=md5hh(r,o,s,n,t[a+10],23,-1094730640),n=md5hh(n,r,o,s,t[a+13],4,681279174),s=md5hh(s,n,r,o,t[a],11,-358537222),o=md5hh(o,s,n,r,t[a+3],16,-722521979),r=md5hh(r,o,s,n,t[a+6],23,76029189),n=md5hh(n,r,o,s,t[a+9],4,-640364487),s=md5hh(s,n,r,o,t[a+12],11,-421815835),o=md5hh(o,s,n,r,t[a+15],16,530742520),r=md5hh(r,o,s,n,t[a+2],23,-995338651),n=md5ii(n,r,o,s,t[a],6,-198630844),s=md5ii(s,n,r,o,t[a+7],10,1126891415),o=md5ii(o,s,n,r,t[a+14],15,-1416354905),r=md5ii(r,o,s,n,t[a+5],21,-57434055),n=md5ii(n,r,o,s,t[a+12],6,1700485571),s=md5ii(s,n,r,o,t[a+3],10,-1894986606),o=md5ii(o,s,n,r,t[a+10],15,-1051523),r=md5ii(r,o,s,n,t[a+1],21,-2054922799),n=md5ii(n,r,o,s,t[a+8],6,1873313359),s=md5ii(s,n,r,o,t[a+15],10,-30611744),o=md5ii(o,s,n,r,t[a+6],15,-1560198380),r=md5ii(r,o,s,n,t[a+13],21,1309151649),n=md5ii(n,r,o,s,t[a+4],6,-145523070),s=md5ii(s,n,r,o,t[a+11],10,-1120210379),o=md5ii(o,s,n,r,t[a+2],15,718787259),r=md5ii(r,o,s,n,t[a+9],21,-343485551),n=safeAdd(n,c),r=safeAdd(r,m),o=safeAdd(o,en),s=safeAdd(s,tn)}return[n,r,o,s]}function bytesToWords(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(getOutputLength(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function safeAdd(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function bitRotateLeft(t,e){return t<<e|t>>>32-e}function md5cmn(t,e,n,r,o,s){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,t),safeAdd(r,s)),o),n)}function md5ff(t,e,n,r,o,s,a){return md5cmn(e&n|~e&r,t,e,o,s,a)}function md5gg(t,e,n,r,o,s,a){return md5cmn(e&r|n&~r,t,e,o,s,a)}function md5hh(t,e,n,r,o,s,a){return md5cmn(e^n^r,t,e,o,s,a)}function md5ii(t,e,n,r,o,s,a){return md5cmn(n^(e|~r),t,e,o,s,a)}var v3=v35("v3",48,md5);const v3$1=v3;function v4(t,e,n){t=t||{};var r=t.random||(t.rng||rng)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return stringify$1(r)}function f(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function ROTL(t,e){return t<<e|t>>>32-e}function sha1(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var o=0;o<r.length;++o)t.push(r.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,a=Math.ceil(s/16),c=new Array(a),m=0;m<a;++m){for(var en=new Uint32Array(16),tn=0;tn<16;++tn)en[tn]=t[m*64+tn*4]<<24|t[m*64+tn*4+1]<<16|t[m*64+tn*4+2]<<8|t[m*64+tn*4+3];c[m]=en}c[a-1][14]=(t.length-1)*8/Math.pow(2,32),c[a-1][14]=Math.floor(c[a-1][14]),c[a-1][15]=(t.length-1)*8&4294967295;for(var sn=0;sn<a;++sn){for(var un=new Uint32Array(80),cn=0;cn<16;++cn)un[cn]=c[sn][cn];for(var gn=16;gn<80;++gn)un[gn]=ROTL(un[gn-3]^un[gn-8]^un[gn-14]^un[gn-16],1);for(var mn=n[0],yn=n[1],wn=n[2],kn=n[3],An=n[4],$n=0;$n<80;++$n){var Mn=Math.floor($n/20),En=ROTL(mn,5)+f(Mn,yn,wn,kn)+An+e[Mn]+un[$n]>>>0;An=kn,kn=wn,wn=ROTL(yn,30)>>>0,yn=mn,mn=En}n[0]=n[0]+mn>>>0,n[1]=n[1]+yn>>>0,n[2]=n[2]+wn>>>0,n[3]=n[3]+kn>>>0,n[4]=n[4]+An>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var v5=v35("v5",80,sha1);const v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(t){if(!validate(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version,validate,stringify:stringify$1,parse},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(esmBrowser),uuid$1=require$$0$2.v4,generateRequest$1=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const s={method:t};if(o===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const a=typeof r.generator=="function"?r.generator:function(){return uuid$1()};s.id=a(s,r)}else o===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var generateRequest_1=generateRequest$1;const uuid=require$$0$2.v4,generateRequest=generateRequest_1,ClientBrowser=function(t,e){if(!(this instanceof ClientBrowser))return new ClientBrowser(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var browser$1=ClientBrowser;ClientBrowser.prototype.request=function(t,e,n,r){const o=this;let s=null;const a=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const en=typeof r=="function";try{s=generateRequest(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(tn){if(en)return r(tn);throw tn}if(!en)return s}let m;try{m=JSON.stringify(s,this.options.replacer)}catch(en){return r(en)}return this.callServer(m,function(en,tn){o._parseResponse(en,tn,r)}),s};ClientBrowser.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){return n(o)}if(n.length===3)if(Array.isArray(r)){const o=function(a){return typeof a.error<"u"},s=function(a){return!o(a)};return n(null,r.filter(o),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let t=0,e=_1n$1,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],SHA3_PI.push(2*(5*r+n)),SHA3_ROTL.push((t+1)*(t+2)/2%64);let o=_0n$1;for(let s=0;s<7;s++)e=(e<<_1n$1^(e>>_7n)*_0x71n)%_256n,e&_2n$1&&(o^=_1n$1<<(_1n$1<<BigInt(s))-_1n$1);_SHA3_IOTA.push(o)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64$2.split(_SHA3_IOTA,!0),rotlH=(t,e,n)=>n>32?u64$2.rotlBH(t,e,n):u64$2.rotlSH(t,e,n),rotlL=(t,e,n)=>n>32?u64$2.rotlBL(t,e,n):u64$2.rotlSL(t,e,n);function keccakP(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,m=(a+2)%10,en=n[m],tn=n[m+1],sn=rotlH(en,tn,1)^n[c],un=rotlL(en,tn,1)^n[c+1];for(let cn=0;cn<50;cn+=10)t[a+cn]^=sn,t[a+cn+1]^=un}let o=t[2],s=t[3];for(let a=0;a<24;a++){const c=SHA3_ROTL[a],m=rotlH(o,s,c),en=rotlL(o,s,c),tn=SHA3_PI[a];o=t[tn],s=t[tn+1],t[tn]=m,t[tn+1]=en}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=SHA3_IOTA_H[r],t[1]^=SHA3_IOTA_L[r]}n.fill(0)}class Keccak extends Hash{constructor(e,n,r,o=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert$3.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){assert$3.exists(this);const{blockLen:n,state:r}=this;e=toBytes(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(n-this.pos,o-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:o}=this;e[r]^=n,(n&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){assert$3.exists(this,!1),assert$3.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,s=e.length;o<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-o);e.set(n.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return assert$3.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(assert$3.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:o,rounds:s,enableXOF:a}=this;return e||(e=new Keccak(n,r,o,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=o,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gen=(t,e,n)=>wrapConstructor(()=>new Keccak(e,t,n));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(t,e,n)=>wrapConstructorWithOpts((r={})=>new Keccak(e,t,r.dkLen===void 0?n:r.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);class HMAC extends Hash{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,assert$3.hash(e);const r=toBytes(n);if(this.iHash=e.create(),!(this.iHash instanceof Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const o=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(o);s.set(r.length>this.iHash.blockLen?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return assert$3.exists(this),this.iHash.update(e),this}digestInto(e){assert$3.exists(this),assert$3.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(t,e,n)=>new HMAC(t,e).update(n).digest();hmac.create=(t,e)=>new HMAC(t,e);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function weistrass(t){const{a:e,b:n}=CURVE,r=mod(t*t),o=mod(r*t);return mod(o+e*t+n)}const USE_ENDOMORPHISM=CURVE.a===_0n;class ShaError extends Error{constructor(e){super(e)}}class JacobianPoint{constructor(e,n,r){this.x=e,this.y=n,this.z=r}static fromAffine(e){if(!(e instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new JacobianPoint(e.x,e.y,_1n)}static toAffineBatch(e){const n=invertBatch(e.map(r=>r.z));return e.map((r,o)=>r.toAffine(n[o]))}static normalizeZ(e){return JacobianPoint.toAffineBatch(e).map(JacobianPoint.fromAffine)}equals(e){if(!(e instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:n,y:r,z:o}=this,{x:s,y:a,z:c}=e,m=mod(o*o),en=mod(c*c),tn=mod(n*en),sn=mod(s*m),un=mod(mod(r*c)*en),cn=mod(mod(a*o)*m);return tn===sn&&un===cn}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:e,y:n,z:r}=this,o=mod(e*e),s=mod(n*n),a=mod(s*s),c=e+s,m=mod(_2n*(mod(c*c)-o-a)),en=mod(_3n*o),tn=mod(en*en),sn=mod(tn-_2n*m),un=mod(en*(m-sn)-_8n*a),cn=mod(_2n*n*r);return new JacobianPoint(sn,un,cn)}add(e){if(!(e instanceof JacobianPoint))throw new TypeError("JacobianPoint expected");const{x:n,y:r,z:o}=this,{x:s,y:a,z:c}=e;if(s===_0n||a===_0n)return this;if(n===_0n||r===_0n)return e;const m=mod(o*o),en=mod(c*c),tn=mod(n*en),sn=mod(s*m),un=mod(mod(r*c)*en),cn=mod(mod(a*o)*m),gn=mod(sn-tn),mn=mod(cn-un);if(gn===_0n)return mn===_0n?this.double():JacobianPoint.ZERO;const yn=mod(gn*gn),wn=mod(gn*yn),kn=mod(tn*yn),An=mod(mn*mn-wn-_2n*kn),$n=mod(mn*(kn-An)-un*wn),Mn=mod(o*c*gn);return new JacobianPoint(An,$n,Mn)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const n=JacobianPoint.ZERO;if(typeof e=="bigint"&&e===_0n)return n;let r=normalizeScalar(e);if(r===_1n)return this;if(!USE_ENDOMORPHISM){let sn=n,un=this;for(;r>_0n;)r&_1n&&(sn=sn.add(un)),un=un.double(),r>>=_1n;return sn}let{k1neg:o,k1:s,k2neg:a,k2:c}=splitScalarEndo(r),m=n,en=n,tn=this;for(;s>_0n||c>_0n;)s&_1n&&(m=m.add(tn)),c&_1n&&(en=en.add(tn)),tn=tn.double(),s>>=_1n,c>>=_1n;return o&&(m=m.negate()),a&&(en=en.negate()),en=new JacobianPoint(mod(en.x*CURVE.beta),en.y,en.z),m.add(en)}precomputeWindow(e){const n=USE_ENDOMORPHISM?128/e+1:256/e+1,r=[];let o=this,s=o;for(let a=0;a<n;a++){s=o,r.push(s);for(let c=1;c<2**(e-1);c++)s=s.add(o),r.push(s);o=s.double()}return r}wNAF(e,n){!n&&this.equals(JacobianPoint.BASE)&&(n=Point.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=n&&pointPrecomputes.get(n);o||(o=this.precomputeWindow(r),n&&r!==1&&(o=JacobianPoint.normalizeZ(o),pointPrecomputes.set(n,o)));let s=JacobianPoint.ZERO,a=JacobianPoint.ZERO;const c=1+(USE_ENDOMORPHISM?128/r:256/r),m=2**(r-1),en=BigInt(2**r-1),tn=2**r,sn=BigInt(r);for(let un=0;un<c;un++){const cn=un*m;let gn=Number(e&en);if(e>>=sn,gn>m&&(gn-=tn,e+=_1n),gn===0){let mn=o[cn];un%2&&(mn=mn.negate()),a=a.add(mn)}else{let mn=o[cn+Math.abs(gn)-1];gn<0&&(mn=mn.negate()),s=s.add(mn)}}return{p:s,f:a}}multiply(e,n){let r=normalizeScalar(e),o,s;if(USE_ENDOMORPHISM){const{k1neg:a,k1:c,k2neg:m,k2:en}=splitScalarEndo(r);let{p:tn,f:sn}=this.wNAF(c,n),{p:un,f:cn}=this.wNAF(en,n);a&&(tn=tn.negate()),m&&(un=un.negate()),un=new JacobianPoint(mod(un.x*CURVE.beta),un.y,un.z),o=tn.add(un),s=sn.add(cn)}else{const{p:a,f:c}=this.wNAF(r,n);o=a,s=c}return JacobianPoint.normalizeZ([o,s])[0]}toAffine(e=invert(this.z)){const{x:n,y:r,z:o}=this,s=e,a=mod(s*s),c=mod(a*s),m=mod(n*a),en=mod(r*c);if(mod(o*s)!==_1n)throw new Error("invZ was invalid");return new Point(m,en)}}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n);JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);const pointPrecomputes=new WeakMap;class Point{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n===_0n}static fromCompressedHex(e){const n=e.length===32,r=bytesToNumber(n?e:e.subarray(1));if(!isValidFieldElement(r))throw new Error("Point is not on curve");const o=weistrass(r);let s=sqrtMod(o);const a=(s&_1n)===_1n;n?a&&(s=mod(-s)):(e[0]&1)===1!==a&&(s=mod(-s));const c=new Point(r,s);return c.assertValidity(),c}static fromUncompressedHex(e){const n=bytesToNumber(e.subarray(1,33)),r=bytesToNumber(e.subarray(33,65)),o=new Point(n,r);return o.assertValidity(),o}static fromHex(e){const n=ensureBytes(e),r=n.length,o=n[0];if(r===32||r===33&&(o===2||o===3))return this.fromCompressedHex(n);if(r===65&&o===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return Point.BASE.multiply(normalizePrivateKey(e))}static fromSignature(e,n,r){e=ensureBytes(e);const o=truncateHash(e),{r:s,s:a}=normalizeSignature(n);if(r!==0&&r!==1)throw new Error("Cannot recover signature: invalid recovery bit");const c=r&1?"03":"02",m=Point.fromHex(c+numTo32bStr(s)),{n:en}=CURVE,tn=invert(s,en),sn=mod(-o*tn,en),un=mod(a*tn,en),cn=Point.BASE.multiplyAndAddUnsafe(m,sn,un);if(!cn)throw new Error("Cannot recover signature: point at infinify");return cn.assertValidity(),cn}toRawBytes(e=!1){return hexToBytes(this.toHex(e))}toHex(e=!1){const n=numTo32bStr(this.x);return e?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:n,y:r}=this;if(!isValidFieldElement(n)||!isValidFieldElement(r))throw new Error(e);const o=mod(r*r),s=weistrass(n);if(mod(o-s)!==_0n)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(e){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return JacobianPoint.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,n,r){const o=JacobianPoint.fromAffine(this),s=n===_0n||n===_1n||this!==Point.BASE?o.multiplyUnsafe(n):o.multiply(n),a=JacobianPoint.fromAffine(e).multiplyUnsafe(r),c=s.add(a);return c.equals(JacobianPoint.ZERO)?void 0:c.toAffine()}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy);Point.ZERO=new Point(_0n,_0n);function sliceDER(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function parseDERInt(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${bytesToHex(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(n),left:t.subarray(e+2)}}function parseDERSignature(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${bytesToHex(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=parseDERInt(t.subarray(2)),{data:r,left:o}=parseDERInt(n);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(o)}`);return{r:e,s:r}}class Signature{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromCompact(e){const n=e instanceof Uint8Array,r="Signature.fromCompact";if(typeof e!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const o=n?bytesToHex(e):e;if(o.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new Signature(hexToNumber(o.slice(0,64)),hexToNumber(o.slice(64,128)))}static fromDER(e){const n=e instanceof Uint8Array;if(typeof e!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:o}=parseDERSignature(n?e:hexToBytes(e));return new Signature(r,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:n}=this;if(!isWithinCurveOrder(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=CURVE.n>>_1n;return this.s>e}normalizeS(){return this.hasHighS()?new Signature(this.r,CURVE.n-this.s):this}toDERRawBytes(e=!1){return hexToBytes(this.toDERHex(e))}toDERHex(e=!1){const n=sliceDER(numberToHexUnpadded(this.s));if(e)return n;const r=sliceDER(numberToHexUnpadded(this.r)),o=numberToHexUnpadded(r.length/2),s=numberToHexUnpadded(n.length/2);return`30${numberToHexUnpadded(r.length/2+n.length/2+4)}02${o}${r}02${s}${n}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((r,o)=>r+o.length,0),n=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];n.set(s,o),o+=s.length}return n}const hexes=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=hexes[t[n]];return e}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(_0n<=t&&t<POW_2_256))throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function numTo32b(t){const e=hexToBytes(numTo32bStr(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function numberToHexUnpadded(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hexToNumber(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function hexToBytes(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,o=t.slice(r,r+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function bytesToNumber(t){return hexToNumber(bytesToHex(t))}function ensureBytes(t){return t instanceof Uint8Array?Uint8Array.from(t):hexToBytes(t)}function normalizeScalar(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&isWithinCurveOrder(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(t,e=CURVE.P){const n=t%e;return n>=_0n?n:e+n}function pow2(t,e){const{P:n}=CURVE;let r=t;for(;e-- >_0n;)r*=r,r%=n;return r}function sqrtMod(t){const{P:e}=CURVE,n=BigInt(6),r=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),m=t*t*t%e,en=m*m*t%e,tn=pow2(en,_3n)*en%e,sn=pow2(tn,_3n)*en%e,un=pow2(sn,_2n)*m%e,cn=pow2(un,r)*un%e,gn=pow2(cn,o)*cn%e,mn=pow2(gn,a)*gn%e,yn=pow2(mn,c)*mn%e,wn=pow2(yn,a)*gn%e,kn=pow2(wn,_3n)*en%e,An=pow2(kn,s)*cn%e,$n=pow2(An,n)*m%e;return pow2($n,_2n)}function invert(t,e=CURVE.P){if(t===_0n||e<=_0n)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=mod(t,e),r=e,o=_0n,s=_1n;for(;n!==_0n;){const c=r/n,m=r%n,en=o-s*c;r=n,n=m,o=s,s=en}if(r!==_1n)throw new Error("invert: does not exist");return mod(o,e)}function invertBatch(t,e=CURVE.P){const n=new Array(t.length),r=t.reduce((s,a,c)=>a===_0n?s:(n[c]=s,mod(s*a,e)),_1n),o=invert(r,e);return t.reduceRight((s,a,c)=>a===_0n?s:(n[c]=mod(s*n[c],e),mod(s*a,e)),o),n}const divNearest=(t,e)=>(t+e/_2n)/e,ENDO={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function splitScalarEndo(t){const{n:e}=CURVE,{a1:n,b1:r,a2:o,b2:s,POW_2_128:a}=ENDO,c=divNearest(s*t,e),m=divNearest(-r*t,e);let en=mod(t-c*n-m*o,e),tn=mod(-c*r-m*s,e);const sn=en>a,un=tn>a;if(sn&&(en=e-en),un&&(tn=e-tn),en>a||tn>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:sn,k1:en,k2neg:un,k2:tn}}function truncateHash(t){const{n:e}=CURVE,r=t.length*8-256;let o=bytesToNumber(t);return r>0&&(o=o>>BigInt(r)),o>=e&&(o-=e),o}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return utils$2.hmacSha256(this.k,...e)}hmacSync(...e){return _hmacSha256Sync(this.k,...e)}checkSync(){if(typeof _hmacSha256Sync!="function")throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function isWithinCurveOrder(t){return _0n<t&&t<CURVE.n}function isValidFieldElement(t){return _0n<t&&t<CURVE.P}function kmdToSig(t,e,n){const r=bytesToNumber(t);if(!isWithinCurveOrder(r))return;const{n:o}=CURVE,s=Point.BASE.multiply(r),a=mod(s.x,o);if(a===_0n)return;const c=mod(invert(r,o)*mod(e+n*a,o),o);if(c===_0n)return;const m=new Signature(a,c),en=(s.x===m.r?0:2)|Number(s.y&_1n);return{sig:m,recovery:en}}function normalizePrivateKey(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=hexToNumber(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=bytesToNumber(t)}else throw new TypeError("Expected valid private key");if(!isWithinCurveOrder(e))throw new Error("Expected private key: 0 < key < n");return e}function normalizeSignature(t){if(t instanceof Signature)return t.assertValidity(),t;try{return Signature.fromDER(t)}catch{return Signature.fromCompact(t)}}function getPublicKey$1(t,e=!1){return Point.fromPrivateKey(t).toRawBytes(e)}function bits2int(t){const e=t.length>32?t.slice(0,32):t;return bytesToNumber(e)}function bits2octets(t){const e=bits2int(t),n=mod(e,CURVE.n);return int2octets(n<_0n?e:n)}function int2octets(t){return numTo32b(t)}function initSigArgs(t,e,n){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);const r=ensureBytes(t),o=normalizePrivateKey(e),s=[int2octets(o),bits2octets(r)];if(n!=null){n===!0&&(n=utils$2.randomBytes(32));const m=ensureBytes(n);if(m.length!==32)throw new Error("sign: Expected 32 bytes of extra data");s.push(m)}const a=concatBytes(...s),c=bits2int(r);return{seed:a,m:c,d:o}}function finalizeSig(t,e){let{sig:n,recovery:r}=t;const{canonical:o,der:s,recovered:a}=Object.assign({canonical:!0,der:!0},e);o&&n.hasHighS()&&(n=n.normalizeS(),r^=1);const c=s?n.toDERRawBytes():n.toCompactRawBytes();return a?[c,r]:c}function signSync(t,e,n={}){const{seed:r,m:o,d:s}=initSigArgs(t,e,n.extraEntropy);let a;const c=new HmacDrbg;for(c.reseedSync(r);!(a=kmdToSig(c.generateSync(),o,s));)c.reseedSync();return finalizeSig(a,n)}Point.BASE._setWindowSize(8);const crypto$1={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils$2={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(t){try{return normalizePrivateKey(t),!0}catch{return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:t=>{if(t=ensureBytes(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const e=mod(bytesToNumber(t),CURVE.n-_1n)+_1n;return numTo32b(e)},randomBytes:(t=32)=>{if(crypto$1.web)return crypto$1.web.getRandomValues(new Uint8Array(t));if(crypto$1.node){const{randomBytes:e}=crypto$1.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$2.hashToPrivateKey(utils$2.randomBytes(40)),sha256:async(...t)=>{if(crypto$1.web){const e=await crypto$1.web.subtle.digest("SHA-256",concatBytes(...t));return new Uint8Array(e)}else if(crypto$1.node){const{createHash:e}=crypto$1.node,n=e("sha256");return t.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(crypto$1.web){const n=await crypto$1.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=concatBytes(...e),o=await crypto$1.web.subtle.sign("HMAC",n,r);return new Uint8Array(o)}else if(crypto$1.node){const{createHmac:n}=crypto$1.node,r=n("sha256",t);return e.forEach(o=>r.update(o)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=TAGGED_HASH_PREFIXES[t];if(n===void 0){const r=await utils$2.sha256(Uint8Array.from(t,o=>o.charCodeAt(0)));n=concatBytes(r,r),TAGGED_HASH_PREFIXES[t]=n}return utils$2.sha256(n,...e)},taggedHashSync:(t,...e)=>{if(typeof _sha256Sync!="function")throw new ShaError("sha256Sync is undefined, you need to set it");let n=TAGGED_HASH_PREFIXES[t];if(n===void 0){const r=_sha256Sync(Uint8Array.from(t,o=>o.charCodeAt(0)));n=concatBytes(r,r),TAGGED_HASH_PREFIXES[t]=n}return _sha256Sync(n,...e)},precompute(t=8,e=Point.BASE){const n=e===Point.BASE?e:new Point(e.x,e.y);return n._setWindowSize(t),n.multiply(_3n),n}};Object.defineProperties(utils$2,{sha256Sync:{configurable:!1,get(){return _sha256Sync},set(t){_sha256Sync||(_sha256Sync=t)}},hmacSha256Sync:{configurable:!1,get(){return _hmacSha256Sync},set(t){_hmacSha256Sync||(_hmacSha256Sync=t)}}});utils$3.sha512Sync=(...t)=>sha512(utils$3.concatBytes(...t));const generatePrivateKey=utils$3.randomPrivateKey,generateKeypair=()=>{const t=utils$3.randomPrivateKey(),e=getPublicKey(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},getPublicKey=sync.getPublicKey;function isOnCurve(t){try{return Point$1.fromHex(t,!0),!0}catch{return!1}}const sign=(t,e)=>sync.sign(t,e.slice(0,32)),verify=sync.verify,toBuffer=t=>buffer$1.Buffer.isBuffer(t)?t:t instanceof Uint8Array?buffer$1.Buffer.from(t.buffer,t.byteOffset,t.byteLength):buffer$1.Buffer.from(t);class Struct{constructor(e){Object.assign(this,e)}encode(){return buffer$1.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA,this,e)}}class Enum extends Struct{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(n=>{this.enum=n})}}const SOLANA_SCHEMA=new Map,MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(t){return t._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData(e))this._bn=e._bn;else{if(typeof e=="string"){const n=bs58.decode(e);if(n.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(n)}else this._bn=new BN(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(buffer$1.Buffer);if(e.length===PUBLIC_KEY_LENGTH)return e;const n=buffer$1.Buffer.alloc(32);return e.copy(n,32-e.length),n}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const o=buffer$1.Buffer.concat([e.toBuffer(),buffer$1.Buffer.from(n),r.toBuffer()]),s=sha256$1(o);return new PublicKey(s)}static createProgramAddressSync(e,n){let r=buffer$1.Buffer.alloc(0);e.forEach(function(s){if(s.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");r=buffer$1.Buffer.concat([r,toBuffer(s)])}),r=buffer$1.Buffer.concat([r,n.toBuffer(),buffer$1.Buffer.from("ProgramDerivedAddress")]);const o=sha256$1(r);if(isOnCurve(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(o)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,o;for(;r!=0;){try{const s=e.concat(buffer$1.Buffer.from([r]));o=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new PublicKey(e);return isOnCurve(n.toBytes())}}PublicKey.default=new PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const n=toBuffer(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=toBuffer(generatePrivateKey()),this._publicKey=toBuffer(getPublicKey(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return buffer$1.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class MessageAccountKeys{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,a)=>{r.set(s.toBase58(),a)});const o=s=>{const a=r.get(s.toBase58());if(a===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return a};return e.map(s=>({programIdIndex:o(s.programId),accountKeyIndexes:s.keys.map(a=>o(a.pubkey)),data:s.data}))}}const publicKey$1=(t="publicKey")=>blob$1(32,t),signature=(t="signature")=>blob$1(64,t),rustString=(t="string")=>{const e=struct$1([u32$1("length"),u32$1("lengthPadding"),blob$1(offset(u32$1(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(s,a)=>n(s,a).chars.toString(),o.encode=(s,a,c)=>{const m={chars:buffer$1.Buffer.from(s,"utf8")};return r(m,a,c)},o.alloc=s=>u32$1().span+u32$1().span+buffer$1.Buffer.from(s,"utf8").length,o},authorized=(t="authorized")=>struct$1([publicKey$1("staker"),publicKey$1("withdrawer")],t),lockup=(t="lockup")=>struct$1([ns64("unixTimestamp"),ns64("epoch"),publicKey$1("custodian")],t),voteInit=(t="voteInit")=>struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedVoter"),publicKey$1("authorizedWithdrawer"),u8$1("commission")],t),voteAuthorizeWithSeedArgs=(t="voteAuthorizeWithSeedArgs")=>struct$1([u32$1("voteAuthorizationType"),publicKey$1("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$1("newAuthorized")],t);function getAlloc(t,e){const n=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const s=e[o.property];if(Array.isArray(s))return s.length*n(o.elementLayout)}else if("fields"in o)return getAlloc({layout:o},e[o.property]);return 0};let r=0;return t.layout.fields.forEach(o=>{r+=n(o)}),r}function decodeLength(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,(r&128)===0)break}return e}function encodeLength(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function assert$1(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,o=a=>{const c=a.toBase58();let m=r.get(c);return m===void 0&&(m={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,m)),m},s=o(n);s.isSigner=!0,s.isWritable=!0;for(const a of e){o(a.programId).isInvoked=!0;for(const c of a.keys){const m=o(c.pubkey);m.isSigner||(m.isSigner=c.isSigner),m.isWritable||(m.isWritable=c.isWritable)}}return new CompiledKeys(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$1(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,m])=>m.isSigner&&m.isWritable),r=e.filter(([,m])=>m.isSigner&&!m.isWritable),o=e.filter(([,m])=>!m.isSigner&&m.isWritable),s=e.filter(([,m])=>!m.isSigner&&!m.isWritable),a={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{assert$1(n.length>0,"Expected at least one writable signer key");const[m]=n[0];assert$1(m===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...n.map(([m])=>new PublicKey(m)),...r.map(([m])=>new PublicKey(m)),...o.map(([m])=>new PublicKey(m)),...s.map(([m])=>new PublicKey(m))];return[a,c]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&a.isWritable),[o,s]=this.drainKeysFoundInLookupTable(e.state.addresses,a=>!a.isSigner&&!a.isInvoked&&!a.isWritable);if(!(n.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:o},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,o=new Array;for(const[s,a]of this.keyMetaMap.entries())if(n(a)){const c=new PublicKey(s),m=e.findIndex(en=>en.equals(c));m>=0&&(assert$1(m<256,"Max lookup table index exceeded"),r.push(m),o.push(c),this.keyMetaMap.delete(s))}return[r,o]}}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new PublicKey(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const n=CompiledKeys.compile(e.instructions,e.payerKey),[r,o]=n.getMessageComponents(),a=new MessageAccountKeys(o).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:bs58.encode(c.data)}));return new Message({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:a})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];encodeLength(n,e);const r=this.instructions.map(sn=>{const{accounts:un,programIdIndex:cn}=sn,gn=Array.from(bs58.decode(sn.data));let mn=[];encodeLength(mn,un.length);let yn=[];return encodeLength(yn,gn.length),{programIdIndex:cn,keyIndicesCount:buffer$1.Buffer.from(mn),keyIndices:un,dataLength:buffer$1.Buffer.from(yn),data:gn}});let o=[];encodeLength(o,r.length);let s=buffer$1.Buffer.alloc(PACKET_DATA_SIZE);buffer$1.Buffer.from(o).copy(s);let a=o.length;r.forEach(sn=>{a+=struct$1([u8$1("programIdIndex"),blob$1(sn.keyIndicesCount.length,"keyIndicesCount"),seq(u8$1("keyIndex"),sn.keyIndices.length,"keyIndices"),blob$1(sn.dataLength.length,"dataLength"),seq(u8$1("userdatum"),sn.data.length,"data")]).encode(sn,s,a)}),s=s.slice(0,a);const c=struct$1([blob$1(1,"numRequiredSignatures"),blob$1(1,"numReadonlySignedAccounts"),blob$1(1,"numReadonlyUnsignedAccounts"),blob$1(n.length,"keyCount"),seq(publicKey$1("key"),e,"keys"),publicKey$1("recentBlockhash")]),m={numRequiredSignatures:buffer$1.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:buffer$1.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:buffer$1.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:buffer$1.Buffer.from(n),keys:this.accountKeys.map(sn=>toBuffer(sn.toBytes())),recentBlockhash:bs58.decode(this.recentBlockhash)};let en=buffer$1.Buffer.alloc(2048);const tn=c.encode(m,en);return s.copy(en,tn),en.slice(0,tn+s.length)}static from(e){let n=[...e];const r=n.shift();if(r!==(r&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=n.shift(),s=n.shift(),a=decodeLength(n);let c=[];for(let un=0;un<a;un++){const cn=n.slice(0,PUBLIC_KEY_LENGTH);n=n.slice(PUBLIC_KEY_LENGTH),c.push(new PublicKey(buffer$1.Buffer.from(cn)))}const m=n.slice(0,PUBLIC_KEY_LENGTH);n=n.slice(PUBLIC_KEY_LENGTH);const en=decodeLength(n);let tn=[];for(let un=0;un<en;un++){const cn=n.shift(),gn=decodeLength(n),mn=n.slice(0,gn);n=n.slice(gn);const yn=decodeLength(n),wn=n.slice(0,yn),kn=bs58.encode(buffer$1.Buffer.from(wn));n=n.slice(yn),tn.push({programIdIndex:cn,accounts:mn,data:kn})}const sn={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:s},recentBlockhash:bs58.encode(buffer$1.Buffer.from(m)),accountKeys:c,instructions:tn};return new Message(sn)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,n)}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(s=>s.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<o.state.addresses.length)n.writable.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<o.state.addresses.length)n.readonly.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=CompiledKeys.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const tn of s){const sn=n.extractTableLookup(tn);if(sn!==void 0){const[un,{writable:cn,readonly:gn}]=sn;r.push(un),o.writable.push(...cn),o.readonly.push(...gn)}}const[a,c]=n.getMessageComponents(),en=new MessageAccountKeys(c,o).compileInstructions(e.instructions);return new MessageV0({header:a,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:en,addressTableLookups:r})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();encodeLength(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),s=Array();encodeLength(s,this.addressTableLookups.length);const a=struct$1([u8$1("prefix"),struct$1([u8$1("numRequiredSignatures"),u8$1("numReadonlySignedAccounts"),u8$1("numReadonlyUnsignedAccounts")],"header"),blob$1(e.length,"staticAccountKeysLength"),seq(publicKey$1(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$1("recentBlockhash"),blob$1(r.length,"instructionsLength"),blob$1(n.length,"serializedInstructions"),blob$1(s.length,"addressTableLookupsLength"),blob$1(o.length,"serializedAddressTableLookups")]),c=new Uint8Array(PACKET_DATA_SIZE),m=1<<7,en=a.encode({prefix:m,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(tn=>tn.toBytes()),recentBlockhash:bs58.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:o},c);return c.slice(0,en)}serializeInstructions(){let e=0;const n=new Uint8Array(PACKET_DATA_SIZE);for(const r of this.compiledInstructions){const o=Array();encodeLength(o,r.accountKeyIndexes.length);const s=Array();encodeLength(s,r.data.length),e+=struct$1([u8$1("programIdIndex"),blob$1(o.length,"encodedAccountKeyIndexesLength"),seq(u8$1(),r.accountKeyIndexes.length,"accountKeyIndexes"),blob$1(s.length,"encodedDataLength"),blob$1(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(PACKET_DATA_SIZE);for(const r of this.addressTableLookups){const o=Array();encodeLength(o,r.writableIndexes.length);const s=Array();encodeLength(s,r.readonlyIndexes.length),e+=struct$1([publicKey$1("accountKey"),blob$1(o.length,"encodedWritableIndexesLength"),seq(u8$1(),r.writableIndexes.length,"writableIndexes"),blob$1(s.length,"encodedReadonlyIndexesLength"),seq(u8$1(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=n.shift(),o=r&VERSION_PREFIX_MASK;assert$1(r!==o,"Expected versioned message but received legacy message");const s=o;assert$1(s===0,`Expected versioned message with version 0 but found version ${s}`);const a={numRequiredSignatures:n.shift(),numReadonlySignedAccounts:n.shift(),numReadonlyUnsignedAccounts:n.shift()},c=[],m=decodeLength(n);for(let gn=0;gn<m;gn++)c.push(new PublicKey(n.splice(0,PUBLIC_KEY_LENGTH)));const en=bs58.encode(n.splice(0,PUBLIC_KEY_LENGTH)),tn=decodeLength(n),sn=[];for(let gn=0;gn<tn;gn++){const mn=n.shift(),yn=decodeLength(n),wn=n.splice(0,yn),kn=decodeLength(n),An=new Uint8Array(n.splice(0,kn));sn.push({programIdIndex:mn,accountKeyIndexes:wn,data:An})}const un=decodeLength(n),cn=[];for(let gn=0;gn<un;gn++){const mn=new PublicKey(n.splice(0,PUBLIC_KEY_LENGTH)),yn=decodeLength(n),wn=n.splice(0,yn),kn=decodeLength(n),An=n.splice(0,kn);cn.push({accountKey:mn,writableIndexes:wn,readonlyIndexes:An})}return new MessageV0({header:a,staticAccountKeys:c,recentBlockhash:en,compiledInstructions:sn,addressTableLookups:cn})}}const VersionedMessage={deserializeMessageVersion(t){const e=t[0],n=e&VERSION_PREFIX_MASK;return n===e?"legacy":n},deserialize:t=>{const e=VersionedMessage.deserializeMessageVersion(t);if(e==="legacy")return Message.from(t);if(e===0)return MessageV0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT"})(TransactionStatus||(TransactionStatus={}));const DEFAULT_SIGNATURE=buffer$1.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=buffer$1.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new TransactionInstruction(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let mn=0;mn<n.length;mn++)if(n[mn].programId===void 0)throw new Error(`Transaction instruction index ${mn} has undefined program id`);const o=[],s=[];n.forEach(mn=>{mn.keys.forEach(wn=>{s.push({...wn})});const yn=mn.programId.toString();o.includes(yn)||o.push(yn)}),o.forEach(mn=>{s.push({pubkey:new PublicKey(mn),isSigner:!1,isWritable:!1})});const a=[];s.forEach(mn=>{const yn=mn.pubkey.toString(),wn=a.findIndex(kn=>kn.pubkey.toString()===yn);wn>-1?(a[wn].isWritable=a[wn].isWritable||mn.isWritable,a[wn].isSigner=a[wn].isSigner||mn.isSigner):a.push(mn)}),a.sort(function(mn,yn){return mn.isSigner!==yn.isSigner?mn.isSigner?-1:1:mn.isWritable!==yn.isWritable?mn.isWritable?-1:1:mn.pubkey.toBase58().localeCompare(yn.pubkey.toBase58())});const c=a.findIndex(mn=>mn.pubkey.equals(r));if(c>-1){const[mn]=a.splice(c,1);mn.isSigner=!0,mn.isWritable=!0,a.unshift(mn)}else a.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const mn of this.signatures){const yn=a.findIndex(wn=>wn.pubkey.equals(mn.publicKey));if(yn>-1)a[yn].isSigner||(a[yn].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${mn.publicKey.toString()}`)}let m=0,en=0,tn=0;const sn=[],un=[];a.forEach(({pubkey:mn,isSigner:yn,isWritable:wn})=>{yn?(sn.push(mn.toString()),m+=1,wn||(en+=1)):(un.push(mn.toString()),wn||(tn+=1))});const cn=sn.concat(un),gn=n.map(mn=>{const{data:yn,programId:wn}=mn;return{programIdIndex:cn.indexOf(wn.toString()),accounts:mn.keys.map(kn=>cn.indexOf(kn.pubkey.toString())),data:bs58.encode(yn)}});return gn.forEach(mn=>{assert$1(mn.programIdIndex>=0),mn.accounts.forEach(yn=>assert$1(yn>=0))}),new Message({header:{numRequiredSignatures:m,numReadonlySignedAccounts:en,numReadonlyUnsignedAccounts:tn},accountKeys:cn,recentBlockhash:e,instructions:gn})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((o,s)=>n[s].equals(o.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const o=r.toString();return n.has(o)?!1:(n.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const a=s.publicKey.toString();n.has(a)||(n.add(a),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const a=s.publicKey.toString();n.has(a)||(n.add(a),r.push(s))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(o=>{const s=sign(r,o.secretKey);this._addSignature(o.publicKey,toBuffer(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){assert$1(n.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=buffer$1.Buffer.from(n)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,n){for(const{signature:r,publicKey:o}of this.signatures)if(r===null){if(n)return!1}else if(!verify(r,e,o.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r&&!this._verifySignatures(o,n))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:n}=this,r=[];encodeLength(r,n.length);const o=r.length+n.length*64+e.length,s=buffer$1.Buffer.alloc(o);return assert$1(n.length<256),buffer$1.Buffer.from(r).copy(s,0),n.forEach(({signature:a},c)=>{a!==null&&(assert$1(a.length===64,"signature has invalid length"),buffer$1.Buffer.from(a).copy(s,r.length+c*64))}),e.copy(s,r.length+n.length*64),assert$1(s.length<=PACKET_DATA_SIZE,`Transaction too large: ${s.length} > ${PACKET_DATA_SIZE}`),s}get keys(){return assert$1(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$1(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$1(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=decodeLength(n);let o=[];for(let s=0;s<r;s++){const a=n.slice(0,SIGNATURE_LENGTH_IN_BYTES);n=n.slice(SIGNATURE_LENGTH_IN_BYTES),o.push(bs58.encode(buffer$1.Buffer.from(a)))}return Transaction.populate(Message.from(n),o)}static populate(e,n=[]){const r=new Transaction;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((o,s)=>{const a={signature:o==bs58.encode(DEFAULT_SIGNATURE)?null:bs58.decode(o),publicKey:e.accountKeys[s]};r.signatures.push(a)}),e.instructions.forEach(o=>{const s=o.accounts.map(a=>{const c=e.accountKeys[a];return{pubkey:c,isSigner:r.signatures.some(m=>m.publicKey.toString()===c.toString())||e.isAccountSigner(a),isWritable:e.isAccountWritable(a)}});r.instructions.push(new TransactionInstruction({keys:s,programId:e.accountKeys[o.programIdIndex],data:bs58.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,n){const{header:r,compiledInstructions:o,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:m}=r,en=a-c;assert$1(en>0,"Message header is invalid");const tn=e.staticAccountKeys.length-m;assert$1(tn>=0,"Message header is invalid");const sn=e.getAccountKeys(n),un=sn.get(0);if(un===void 0)throw new Error("Failed to decompile message because no account keys were found");const cn=[];for(const gn of o){const mn=[];for(const wn of gn.accountKeyIndexes){const kn=sn.get(wn);if(kn===void 0)throw new Error(`Failed to find key for account key index ${wn}`);const An=wn<a;let $n;An?$n=wn<en:wn<sn.staticAccountKeys.length?$n=wn-a<tn:$n=wn-sn.staticAccountKeys.length<sn.accountKeysFromLookups.writable.length,mn.push({pubkey:kn,isSigner:wn<r.numRequiredSignatures,isWritable:$n})}const yn=sn.get(gn.programIdIndex);if(yn===void 0)throw new Error(`Failed to find program id for program id index ${gn.programIdIndex}`);cn.push(new TransactionInstruction({programId:yn,data:toBuffer(gn.data),keys:mn}))}return new TransactionMessage({payerKey:un,instructions:cn,recentBlockhash:s})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)assert$1(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();encodeLength(n,this.signatures.length);const r=struct$1([blob$1(n.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$1(e.length,"serializedMessage")]),o=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,s)}static deserialize(e){let n=[...e];const r=[],o=decodeLength(n);for(let a=0;a<o;a++)r.push(new Uint8Array(n.splice(0,SIGNATURE_LENGTH_IN_BYTES)));const s=VersionedMessage.deserialize(new Uint8Array(n));return new VersionedTransaction(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const s=r.findIndex(a=>a.equals(o.publicKey));assert$1(s>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[s]=sign(n,o.secretKey)}}}const SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$2(t,e,n,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await t.sendTransaction(e,n,o),a=e.recentBlockhash!=null&&e.lastValidBlockHeight!=null?(await t.confirmTransaction({signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value:(await t.confirmTransaction(s,r&&r.commitment)).value;if(a.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(a)})`);return s}function sleep(t){return new Promise(e=>setTimeout(e,t))}function encodeData(t,e){const n=t.layout.span>=0?t.layout.span:getAlloc(t,e),r=buffer$1.Buffer.alloc(n),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,r),r}function decodeData$1(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct$1([u32$1("version"),u32$1("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct$1([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=NonceAccountLayout.decode(toBuffer(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(n.authorizedPubkey),nonce:new PublicKey(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const encodeDecode=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},bigInt=t=>e=>{const n=blob$1(t,e),{encode:r,decode:o}=encodeDecode(n),s=n;return s.decode=(a,c)=>{const m=o(a,c);return toBigIntLE_1(buffer$1.Buffer.from(m))},s.encode=(a,c,m)=>{const en=toBufferLE_1(a,t);return r(en,c,m)},s},u64$1=bigInt(8);class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(a.index==r){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n,space:r,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:n,space:r,programId:new PublicKey(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:n}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n,seed:r,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:n,seed:r,programId:new PublicKey(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:n}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,space:o,programId:s}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(n),seed:r,space:o,programId:new PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:n}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(n)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:n,seed:r,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(n),seed:r,programId:new PublicKey(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:n,seed:r,lamports:o,space:s,programId:a}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(n),seed:r,lamports:o,space:s,programId:new PublicKey(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:n}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(n)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(n)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$1([u32$1("instruction"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},Assign:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:struct$1([u32$1("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:struct$1([u32$1("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$1([u32$1("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$1([u32$1("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:struct$1([u32$1("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),ns64("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:struct$1([u32$1("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:struct$1([u32$1("instruction"),u64$1("lamports"),rustString("seed"),publicKey$1("programId")])},UpgradeNonceAccount:{index:12,layout:struct$1([u32$1("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.Create,r=encodeData(n,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;n=encodeData(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;n=encodeData(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;n=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Assign;n=encodeData(o,{programId:toBuffer(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,r=encodeData(n,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Transaction;"basePubkey"in e&&"seed"in e?n.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):n.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,r=encodeData(n,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(o)}static nonceAdvance(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,r=encodeData(n),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(o)}static nonceWithdraw(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,r=encodeData(n,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,r=encodeData(n,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;n=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;n=encodeData(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:n})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,n,r,o,s){{const sn=await e.getMinimumBalanceForRentExemption(s.length),un=await e.getAccountInfo(r.publicKey,"confirmed");let cn=null;if(un!==null){if(un.executable)return console.error("Program load failed, account is already executable"),!1;un.data.length!==s.length&&(cn=cn||new Transaction,cn.add(SystemProgram.allocate({accountPubkey:r.publicKey,space:s.length}))),un.owner.equals(o)||(cn=cn||new Transaction,cn.add(SystemProgram.assign({accountPubkey:r.publicKey,programId:o}))),un.lamports<sn&&(cn=cn||new Transaction,cn.add(SystemProgram.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:sn-un.lamports})))}else cn=new Transaction().add(SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:sn>0?sn:1,space:s.length,programId:o}));cn!==null&&await sendAndConfirmTransaction$2(e,cn,[n,r],{commitment:"confirmed"})}const a=struct$1([u32$1("instruction"),u32$1("offset"),u32$1("bytesLength"),u32$1("bytesLengthPadding"),seq(u8$1("byte"),offset(u32$1(),-8),"bytes")]),c=Loader.chunkSize;let m=0,en=s,tn=[];for(;en.length>0;){const sn=en.slice(0,c),un=buffer$1.Buffer.alloc(c+16);a.encode({instruction:0,offset:m,bytes:sn,bytesLength:0,bytesLengthPadding:0},un);const cn=new Transaction().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:un});tn.push(sendAndConfirmTransaction$2(e,cn,[n,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),m+=c,en=en.slice(c)}await Promise.all(tn);{const sn=struct$1([u32$1("instruction")]),un=buffer$1.Buffer.alloc(sn.span);sn.encode({instruction:1},un);const cn=new Transaction().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:o,data:un});await sendAndConfirmTransaction$2(e,cn,[n,r],{commitment:"confirmed"})}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,n,r,o,s){return Loader.load(e,n,r,s,o)}}var objToString=Object.prototype.toString,objKeys=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function stringify(t,e){var n,r,o,s,a,c,m;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return stringify(t.toJSON(),e);if(m=objToString.call(t),m==="[object Array]"){for(o="[",r=t.length-1,n=0;n<r;n++)o+=stringify(t[n],!0)+",";return r>-1&&(o+=stringify(t[n],!0)),o+"]"}else if(m==="[object Object]"){for(s=objKeys(t).sort(),r=s.length,o="",n=0;n<r;)a=s[n],c=stringify(t[a],!1),c!==void 0&&(o&&(o+=","),o+=JSON.stringify(a)+":"+c),n++;return"{"+o+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var fastStableStringify=function(t){var e=stringify(t,!1);if(e!==void 0)return""+e},fastStableStringify$1=fastStableStringify;const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(t){let e=0;for(;t>1;)t/=2,e++;return e}function nextPowerOfTwo(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class EpochSchedule{constructor(e,n,r,o,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=trailingZeros(nextPowerOfTwo(e+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,r=this.getSlotsInEpoch(n),o=e-(r-MINIMUM_SLOT_PER_EPOCH);return[n,o]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),o=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[o,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,n){super(e),this.logs=void 0,this.logs=n}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:n,data:r},o){super(o!=null?`${o}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;function decodeData(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=18446744073709551615n;return this.state.deactivationSlot===e}static deserialize(e){const n=decodeData(LookupTableMetaLayout,e),r=e.length-LOOKUP_TABLE_META_SIZE;assert$1(r>=0,"lookup table is invalid"),assert$1(r%32===0,"lookup table is invalid");const o=r/32,{addresses:s}=struct$1([seq(publicKey$1(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new PublicKey(n.authority[0]):void 0,addresses:s.map(a=>new PublicKey(a))}}}const LookupTableMetaLayout={index:1,layout:struct$1([u32$1("typeIndex"),u64$1("deactivationSlot"),nu64("lastExtendedSlot"),u8$1("lastExtendedStartIndex"),u8$1(),seq(publicKey$1(),offset(u8$1(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(t){const e=t.match(URL_RE);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,o,s]=e,a=t.startsWith("https:")?"wss:":"ws:",c=o==null?null:parseInt(o.slice(1),10),m=c==null?"":`:${c+1}`;return`${a}//${r}${m}${s}`}var _process$env$npm_pack;const PublicKeyFromString=coerce(instance(PublicKey),string(),t=>new PublicKey(t)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(buffer$1.Buffer),RawAccountDataResult,t=>buffer$1.Buffer.from(t[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function extractCommitmentFromConfig(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...o}=t;e=r,n=o}return{commitment:e,config:n}}function createRpcResult(t){return union([type({jsonrpc:literal("2.0"),id:string(),result:t}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(t){return coerce(createRpcResult(t),UnknownRpcResult,e=>"error"in e?e:{...e,result:create(e.result,t)})}function jsonRpcResultAndContext(t){return jsonRpcResult(type({context:type({slot:number()}),value:t}))}function notificationResultAndContext(t){return type({context:type({slot:number()}),value:t})}function versionedMessageFromResponse(t,e){return t===0?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new PublicKey(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:bs58.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Message(e)}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number()})))),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));function createRpcClient(t,e,n,r,o){const s=n||fetchImpl;let a;return r&&(a=async(m,en)=>{const tn=await new Promise((sn,un)=>{try{r(m,en,(cn,gn)=>sn([cn,gn]))}catch(cn){un(cn)}});return await s(...tn)}),new browser$1(async(m,en)=>{const sn={method:"POST",body:m,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS)};try{let un=5,cn,gn=500;for(;a?cn=await a(t,sn):cn=await s(t,sn),!(cn.status!==429||o===!0||(un-=1,un===0));)console.log(`Server responded with ${cn.status} ${cn.statusText}.  Retrying after ${gn}ms delay...`),await sleep(gn),gn*=2;const mn=await cn.text();cn.ok?en(null,mn):en(new Error(`${cn.status} ${cn.statusText}: ${mn}`))}catch(un){un instanceof Error&&en(un)}finally{}},{})}function createRpcRequest(t){return(e,n)=>new Promise((r,o)=>{t.request(e,n,(s,a)=>{if(s){o(s);return}r(a)})})}function createRpcBatchRequest(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const o=e.map(s=>t.request(s.methodName,s.args));t.request(o,(s,a)=>{if(s){r(s);return}n(a)})})}const GetInflationGovernorRpcResult=jsonRpcResult(GetInflationGovernorResult),GetEpochInfoRpcResult=jsonRpcResult(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult(number()),GetSupplyRpcResult=jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)})),TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})}))),ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString}))),AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce(union([instance(buffer$1.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),t=>Array.isArray(t)?create(t,BufferFromRawAccountData):t),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult}),SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)})),ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext(array(nullable(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult(number()),AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,t=>"accounts"in t?create(t,RawInstructionResult):create(t,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))})),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),GetBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetConfirmedBlockRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string())}))),blockTime:nullable(number())}))),GetBlockSignaturesRpcResult=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()})),PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult(array(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult(string()),SendTransactionRpcResult=jsonRpcResult(string()),LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext(LogsResult),subscription:number()}),COMMON_HTTP_HEADERS={"solana-client":`js/${(_process$env$npm_pack="0.0.0-development")!==null&&_process$env$npm_pack!==void 0?_process$env$npm_pack:"UNKNOWN"}`};class Connection{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let r,o,s,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,o=n.httpHeaders,s=n.fetch,a=n.fetchMiddleware,c=n.disableRetryOnRateLimit),this._rpcEndpoint=assertEndpointUrl(e),this._rpcWsEndpoint=r||makeWebsocketUrl(e),this._rpcClient=createRpcClient(e,o,s,a,c),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new Client_1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=this._buildArgs([e.toBase58()],r,void 0,o),a=await this._rpcRequest("getBalance",s),c=create(a,jsonRpcResultAndContext(number()));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=create(n,jsonRpcResult(nullable(number())));if("error"in r)throw new SolanaJSONRPCError(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=create(e,jsonRpcResult(number()));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=create(e,SlotRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),o=create(r,GetSupplyRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get supply");return o.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),o=await this._rpcRequest("getTokenSupply",r),s=create(o,jsonRpcResultAndContext(TokenAmountResult));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),o=await this._rpcRequest("getTokenAccountBalance",r),s=create(o,jsonRpcResultAndContext(TokenAmountResult));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:o,config:s}=extractCommitmentFromConfig(r);let a=[e.toBase58()];"mint"in n?a.push({mint:n.mint.toBase58()}):a.push({programId:n.programId.toBase58()});const c=this._buildArgs(a,o,"base64",s),m=await this._rpcRequest("getTokenAccountsByOwner",c),en=create(m,GetTokenAccountsByOwner);if("error"in en)throw new SolanaJSONRPCError(en.error,`failed to get token accounts owned by account ${e.toBase58()}`);return en.result}async getParsedTokenAccountsByOwner(e,n,r){let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const s=this._buildArgs(o,r,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=create(a,GetParsedTokenAccountsByOwner);if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],o=await this._rpcRequest("getLargestAccounts",r),s=create(o,GetLargestAccountsRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),o=await this._rpcRequest("getTokenLargestAccounts",r),s=create(o,GetTokenLargestAccountsResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=this._buildArgs([e.toBase58()],r,"base64",o),a=await this._rpcRequest("getAccountInfo",s),c=create(a,jsonRpcResultAndContext(nullable(AccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",o),a=await this._rpcRequest("getAccountInfo",s),c=create(a,jsonRpcResultAndContext(nullable(ParsedAccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=e.map(en=>en.toBase58()),a=this._buildArgs([s],r,"base64",o),c=await this._rpcRequest("getMultipleAccounts",a),m=create(c,jsonRpcResultAndContext(array(nullable(AccountInfoResult))));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get info for accounts ${s}`);return m.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:o,config:s}=extractCommitmentFromConfig(n),a=this._buildArgs([e.toBase58()],o,void 0,{...s,epoch:r??s?.epoch}),c=await this._rpcRequest("getStakeActivation",a),m=create(c,jsonRpcResult(StakeActivationResult));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get Stake Activation ${e.toBase58()}`);return m.result}async getProgramAccounts(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),{encoding:s,...a}=o||{},c=this._buildArgs([e.toBase58()],r,s||"base64",a),m=await this._rpcRequest("getProgramAccounts",c),en=create(m,jsonRpcResult(array(KeyedAccountInfoResult)));if("error"in en)throw new SolanaJSONRPCError(en.error,`failed to get accounts owned by program ${e.toBase58()}`);return en.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",o),a=await this._rpcRequest("getProgramAccounts",s),c=create(a,jsonRpcResult(array(KeyedParsedAccountInfoResult)));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,n){let r;typeof e=="string"?r=e:r=e.signature;let o;try{o=bs58.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}assert$1(o.length===64,"signature has invalid length");const s=n||this.commitment;let a,c,m=!1;const en=new Promise((un,cn)=>{try{c=this.onSignature(r,(gn,mn)=>{c=void 0;const yn={context:mn,value:gn};m=!0,un({__type:TransactionStatus.PROCESSED,response:yn})},s)}catch(gn){cn(gn)}}),tn=new Promise(un=>{if(typeof e=="string"){let cn=this._confirmTransactionInitialTimeout||6e4;switch(s){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{cn=this._confirmTransactionInitialTimeout||30*1e3;break}}a=setTimeout(()=>un({__type:TransactionStatus.TIMED_OUT,timeoutMs:cn}),cn)}else{let cn=e;const gn=async()=>{try{return await this.getBlockHeight(n)}catch{return-1}};(async()=>{let mn=await gn();if(!m){for(;mn<=cn.lastValidBlockHeight;)if(await sleep(1e3),m||(mn=await gn(),m))return;un({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}});let sn;try{const un=await Promise.race([en,tn]);switch(un.__type){case TransactionStatus.BLOCKHEIGHT_EXCEEDED:throw new TransactionExpiredBlockheightExceededError(r);case TransactionStatus.PROCESSED:sn=un.response;break;case TransactionStatus.TIMED_OUT:throw new TransactionExpiredTimeoutError(r,un.timeoutMs/1e3)}}finally{clearTimeout(a),c&&this.removeSignatureListener(c)}return sn}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=create(e,jsonRpcResult(array(ContactInfoResult)));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),o=create(r,GetVoteAccounts);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:n,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",o),a=create(s,jsonRpcResult(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:n,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",o),a=create(s,jsonRpcResult(string()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,n){const r=[e,n],o=await this._rpcRequest("getSlotLeaders",r),s=create(o,jsonRpcResult(array(PublicKeyFromString)));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:o}=await this.getSignatureStatuses([e],n);assert$1(o.length===1);const s=o[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const o=await this._rpcRequest("getSignatureStatuses",r),s=create(o,GetSignatureStatusesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",o),a=create(s,jsonRpcResult(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),o=create(r,GetInflationGovernorRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get inflation");return o.result}async getInflationReward(e,n,r){const{commitment:o,config:s}=extractCommitmentFromConfig(r),a=this._buildArgs([e.map(en=>en.toBase58())],o,void 0,{...s,epoch:n??s?.epoch}),c=await this._rpcRequest("getInflationReward",a),m=create(c,GetInflationRewardResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get inflation reward");return m.result}async getEpochInfo(e){const{commitment:n,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",o),a=create(s,GetEpochInfoRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=create(e,GetEpochScheduleRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get epoch schedule");const r=n.result;return new EpochSchedule(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=create(e,GetLeaderScheduleRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=create(o,GetMinimumBalanceForRentExemptionRpcResult);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",n),o=create(r,GetRecentBlockhashAndContextRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=create(n,GetRecentPerformanceSamplesRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=create(o,GetFeeCalculatorRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get fee calculator");const{context:a,value:c}=s.result;return{context:a,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,n){const r=e.serialize().toString("base64"),o=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",o),a=create(s,jsonRpcResultAndContext(nullable(number())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot");if(a.result===null)throw new Error("invalid blockhash");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",o),a=create(s,GetLatestBlockhashRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get latest blockhash");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=create(e,jsonRpcResult(VersionResult));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=create(e,jsonRpcResult(string()));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,o),a=await this._rpcRequest("getBlock",s),c=create(a,GetBlockRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get confirmed block");const m=c.result;return m&&{...m,transactions:m.transactions.map(({transaction:en,meta:tn,version:sn})=>({meta:tn,transaction:{...en,message:versionedMessageFromResponse(sn,en.message)},version:sn}))}}async getBlockHeight(e){const{commitment:n,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getBlockHeight",o),a=create(s,jsonRpcResult(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block height information");return a.result}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:c,...m}=e;r=c,n=m}const o=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",o),a=create(s,BlockProductionResponseStruct);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block production information");return a.result}async getTransaction(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,o),a=await this._rpcRequest("getTransaction",s),c=create(a,GetTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get transaction");const m=c.result;return m&&{...m,transaction:{...m.transaction,message:versionedMessageFromResponse(m.version,m.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),a=await this._rpcRequest("getTransaction",s),c=create(a,GetParsedTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=e.map(m=>{const en=this._buildArgsAtLeastConfirmed([m],r,"jsonParsed",o);return{methodName:"getTransaction",args:en}});return(await this._rpcBatchRequest(s)).map(m=>{const en=create(m,GetParsedTransactionRpcResult);if("error"in en)throw new SolanaJSONRPCError(en.error,"failed to get transactions");return en.result})}async getTransactions(e,n){const{commitment:r,config:o}=extractCommitmentFromConfig(n),s=e.map(m=>{const en=this._buildArgsAtLeastConfirmed([m],r,void 0,o);return{methodName:"getTransaction",args:en}});return(await this._rpcBatchRequest(s)).map(m=>{const en=create(m,GetTransactionRpcResult);if("error"in en)throw new SolanaJSONRPCError(en.error,"failed to get transactions");const tn=en.result;return tn&&{...tn,transaction:{...tn.transaction,message:versionedMessageFromResponse(tn.version,tn.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),o=await this._rpcRequest("getConfirmedBlock",r),s=create(o,GetConfirmedBlockRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");const c={...a,transactions:a.transactions.map(({transaction:m,meta:en})=>{const tn=new Message(m.message);return{meta:en,transaction:{...m,message:tn}}})};return{...c,transactions:c.transactions.map(({transaction:m,meta:en})=>({meta:en,transaction:Transaction.populate(m.message,m.signatures)}))}}async getBlocks(e,n,r){const o=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",o),a=create(s,jsonRpcResult(array(number())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),s=create(o,GetBlockSignaturesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get block");const a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",r),s=create(o,GetBlockSignaturesRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),o=await this._rpcRequest("getConfirmedTransaction",r),s=create(o,GetTransactionRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const a=s.result;if(!a)return a;const c=new Message(a.transaction.message),m=a.transaction.signatures;return{...a,transaction:Transaction.populate(c,m)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",r),s=create(o,GetParsedTransactionRpcResult);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(a=>{const c=this._buildArgsAtLeastConfirmed([a],n,"jsonParsed");return{methodName:"getConfirmedTransaction",args:c}});return(await this._rpcBatchRequest(r)).map(a=>{const c=create(a,GetParsedTransactionRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,n,r){let o={},s=await this.getFirstAvailableBlock();for(;!("until"in o)&&(n--,!(n<=0||n<s));)try{const m=await this.getConfirmedBlockSignatures(n,"finalized");m.signatures.length>0&&(o.until=m.signatures[m.signatures.length-1].toString())}catch(m){if(m instanceof Error&&m.message.includes("skipped"))continue;throw m}let a=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>a));)try{const m=await this.getConfirmedBlockSignatures(r);m.signatures.length>0&&(o.before=m.signatures[m.signatures.length-1].toString())}catch(m){if(m instanceof Error&&m.message.includes("skipped"))continue;throw m}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(m=>m.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),a=create(s,GetConfirmedSignaturesForAddress2RpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,n,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",o),a=create(s,GetSignaturesForAddressRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,n){const{context:r,value:o}=await this.getAccountInfoAndContext(e,n);let s=null;return o!==null&&(s=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(o.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:o}=await this.getAccountInfoAndContext(e,n);let s=null;return o!==null&&(s=NonceAccount.fromAccountData(o.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),o=create(r,RequestAirdropRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const r=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let o=0;o<50;o++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",o),a=create(s,jsonRpcResultAndContext(number()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,n,r){if("message"in e){const mn=e.serialize(),yn=buffer$1.Buffer.from(mn).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const wn=n||{};wn.encoding="base64","commitment"in wn||(wn.commitment=this.commitment);const kn=[yn,wn],An=await this._rpcRequest("simulateTransaction",kn),$n=create(An,SimulatedTransactionResponseStruct);if("error"in $n)throw new Error("failed to simulate transaction: "+$n.error.message);return $n.result}let o;if(e instanceof Transaction){let gn=e;o=new Transaction,o.feePayer=gn.feePayer,o.instructions=e.instructions,o.nonceInfo=gn.nonceInfo,o.signatures=gn.signatures}else o=Transaction.populate(e),o._message=o._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(o.nonceInfo&&s)o.sign(...s);else{let gn=this._disableBlockhashCaching;for(;;){const mn=await this._blockhashWithExpiryBlockHeight(gn);if(o.lastValidBlockHeight=mn.lastValidBlockHeight,o.recentBlockhash=mn.blockhash,!s)break;if(o.sign(...s),!o.signature)throw new Error("!signature");const yn=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(yn)&&!this._blockhashInfo.transactionSignatures.includes(yn)){this._blockhashInfo.simulatedSignatures.push(yn);break}else gn=!0}}const a=o._compile(),c=a.serialize(),en=o._serialize(c).toString("base64"),tn={encoding:"base64",commitment:this.commitment};if(r){const gn=(Array.isArray(r)?r:a.nonProgramIds()).map(mn=>mn.toBase58());tn.accounts={encoding:"base64",addresses:gn}}s&&(tn.sigVerify=!0);const sn=[en,tn],un=await this._rpcRequest("simulateTransaction",sn),cn=create(un,SimulatedTransactionResponseStruct);if("error"in cn){let gn;if("data"in cn.error&&(gn=cn.error.data.logs,gn&&Array.isArray(gn))){const mn=`
    `,yn=mn+gn.join(mn);console.error(cn.error.message,yn)}throw new SendTransactionError("failed to simulate transaction: "+cn.error.message,gn)}return cn.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const a=e.serialize();return await this.sendRawTransaction(a,r)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(e.nonceInfo)e.sign(...o);else{let a=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(a);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const m=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(m))a=!0;else{this._blockhashInfo.transactionSignatures.push(m);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=toBuffer(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},o=n&&n.skipPreflight,s=n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),o&&(r.skipPreflight=o),s&&(r.preflightCommitment=s);const a=[e,r],c=await this._rpcRequest("sendTransaction",a),m=create(c,SendTransactionRpcResult);if("error"in m){let en;throw"data"in m.error&&(en=m.error.data.logs),new SendTransactionError("failed to send transaction: "+m.error.message,en)}return m.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._subscriptionsByHash[n]={...r,state:"pending"}})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:a}=o;try{this._subscriptionsByHash[r]={...o,state:"subscribing"};const c=await this._rpcWebSocket.call(a,s);this._subscriptionsByHash[r]={...o,serverSubscriptionId:c,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[c]=o.callbacks,await this._updateSubscriptions()}catch(c){if(c instanceof Error&&console.error(`${a} error for argument`,s,c.message),!n())return;this._subscriptionsByHash[r]={...o,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:a}=o;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._subscriptionsByHash[r]={...o,state:"unsubscribing"};try{await this._rpcWebSocket.call(a,[s])}catch(c){if(c instanceof Error&&console.error(`${a} error:`,c.message),!n())return;this._subscriptionsByHash[r]={...o,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[r]={...o,state:"unsubscribed"},await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=create(e,AccountNotificationResult);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,o=fastStableStringify$1([e.method,n]),s=this._subscriptionsByHash[o];return s===void 0?this._subscriptionsByHash[o]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r];const a=this._subscriptionsByHash[o];assert$1(a!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),a.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=create(e,ProgramAccountNotificationResult);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,o){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=create(e,LogsNotificationResult);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=create(e,SlotNotificationResult);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=create(e,SlotUpdateNotificationResult);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,o){const s=n||this._commitment;if(s||r||o){let a={};r&&(a.encoding=r),s&&(a.commitment=s),o&&(a=Object.assign(a,o)),e.push(a)}return e}_buildArgsAtLeastConfirmed(e,n,r,o){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,o)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=create(e,SignatureNotificationResult);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const o=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(a,c)=>{if(a.type==="status"){n(a.result,c);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}onSignatureWithOptions(e,n,r){const{commitment:o,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},a=this._buildArgs([e],o,void 0,s),c=this._makeSubscription({callback:(m,en)=>{n(m,en);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=create(e,RootNotificationResult);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const o=e.slice(0,32),s=getPublicKey(o);for(let a=0;a<32;a++)if(r[a]!==s[a])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:r,secretKey:e})}static fromSeed(e){const n=getPublicKey(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Keypair({publicKey:n,secretKey:r})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$1([u32$1("instruction"),u64$1("recentSlot"),u8$1("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$1([u32$1("instruction")])},ExtendLookupTable:{index:2,layout:struct$1([u32$1("instruction"),u64$1(),seq(publicKey$1(),offset(u32$1(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$1([u32$1("instruction")])},CloseLookupTable:{index:4,layout:struct$1([u32$1("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(a.index==r){o=s;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:n}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:n}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:n.map(r=>new PublicKey(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[n,r]=PublicKey.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,s=encodeData(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:a,data:s}),n]}static freezeLookupTable(e){const n=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,r=encodeData(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){const n=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,r=encodeData(n,{addresses:e.addresses.map(s=>s.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){const n=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,r=encodeData(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){const n=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,r=encodeData(n),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:o,data:r})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u8$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(a.index==r){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:n,additionalFee:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:n}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:n}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:n}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:n}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:n}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:n}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$1([u8$1("instruction"),u32$1("units"),u32$1("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$1([u8$1("instruction"),u32$1("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$1([u8$1("instruction"),u32$1("units")])},SetComputeUnitPrice:{index:3,layout:struct$1([u8$1("instruction"),u64$1("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const n=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,r=encodeData(n,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,r=encodeData(n,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,r=encodeData(n,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,r=encodeData(n,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u8$1("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:o,instructionIndex:s}=e;assert$1(n.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${n.length} bytes`),assert$1(o.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${o.length} bytes`);const a=ED25519_INSTRUCTION_LAYOUT.span,c=a+n.length,m=c+o.length,en=1,tn=buffer$1.Buffer.alloc(m+r.length),sn=s??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:en,padding:0,signatureOffset:c,signatureInstructionIndex:sn,publicKeyOffset:a,publicKeyInstructionIndex:sn,messageDataOffset:m,messageDataSize:r.length,messageInstructionIndex:sn},tn),tn.fill(n,a),tn.fill(o,c),tn.fill(r,m),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:tn})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:o}=e;assert$1(n.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${n.length} bytes`);try{const s=Keypair.fromSecretKey(n),a=s.publicKey.toBytes(),c=sign(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:c,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");utils$2.hmacSha256Sync=(t,...e)=>{const n=hmac.create(sha256$1,t);return e.forEach(r=>n.update(r)),n.digest()};const ecdsaSign=(t,e)=>signSync(t,e,{der:!1,recovered:!0});utils$2.isValidPrivateKey;const publicKeyCreate=getPublicKey$1,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u16("signatureOffset"),u8$1("signatureInstructionIndex"),u16("ethAddressOffset"),u8$1("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$1("messageInstructionIndex"),blob$1(20,"ethAddress"),blob$1(64,"signature"),u8$1("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){assert$1(e.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${e.length} bytes`);try{return buffer$1.Buffer.from(keccak_256(toBuffer(e))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(e){const{publicKey:n,message:r,signature:o,recoveryId:s,instructionIndex:a}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(n),message:r,signature:o,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:n,message:r,signature:o,recoveryId:s,instructionIndex:a=0}=e;let c;typeof n=="string"?n.startsWith("0x")?c=buffer$1.Buffer.from(n.substr(2),"hex"):c=buffer$1.Buffer.from(n,"hex"):c=n,assert$1(c.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${c.length} bytes`);const m=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,en=m,tn=m+c.length,sn=tn+o.length+1,un=1,cn=buffer$1.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+r.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:un,signatureOffset:tn,signatureInstructionIndex:a,ethAddressOffset:en,ethAddressInstructionIndex:a,messageDataOffset:sn,messageDataSize:r.length,messageInstructionIndex:a,signature:toBuffer(o),ethAddress:toBuffer(c),recoveryId:s},cn),cn.fill(toBuffer(r),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:cn})}static createInstructionWithPrivateKey(e){const{privateKey:n,message:r,instructionIndex:o}=e;assert$1(n.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${n.length} bytes`);try{const s=toBuffer(n),a=publicKeyCreate(s,!1).slice(1),c=buffer$1.Buffer.from(keccak_256(toBuffer(r))),[m,en]=ecdsaSign(c,s);return this.createInstructionWithPublicKey({publicKey:a,message:r,signature:m,recoveryId:en,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,n){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=n}}class Lockup{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}Lockup.default=new Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(a.index==r){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:n,lockup:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(n.staker),new PublicKey(n.withdrawer)),lockup:new Lockup(r.unixTimestamp,r.epoch,new PublicKey(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:o,authorityOwner:s}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey(s),newAuthorizedPubkey:new PublicKey(n),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:n}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:n}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:n};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$1([u32$1("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$1([u32$1("instruction")])},Split:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct$1([u32$1("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct$1([u32$1("instruction")])},Merge:{index:7,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:n,authorized:r,lockup:o}=e,s=o||Lockup.default,a=STAKE_INSTRUCTION_LAYOUTS.Initialize,c=encodeData(a,{authorized:{staker:toBuffer(r.staker.toBuffer()),withdrawer:toBuffer(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:toBuffer(s.custodian.toBuffer())}}),m={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction(m)}static createAccountWithSeed(e){const n=new Transaction;n.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:s}=e;return n.add(this.initialize({stakePubkey:r,authorized:o,lockup:s}))}static createAccount(e){const n=new Transaction;n.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:s}=e;return n.add(this.initialize({stakePubkey:r,authorized:o,lockup:s}))}static delegate(e){const{stakePubkey:n,authorizedPubkey:r,votePubkey:o}=e,s=STAKE_INSTRUCTION_LAYOUTS.Delegate,a=encodeData(s);return new Transaction().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static authorize(e){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Authorize,m=encodeData(c,{newAuthorized:toBuffer(o.toBuffer()),stakeAuthorizationType:s.index}),en=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&en.push({pubkey:a,isSigner:!1,isWritable:!1}),new Transaction().add({keys:en,programId:this.programId,data:m})}static authorizeWithSeed(e){const{stakePubkey:n,authorityBase:r,authoritySeed:o,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:m}=e,en=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,tn=encodeData(en,{newAuthorized:toBuffer(a.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:o,authorityOwner:toBuffer(s.toBuffer())}),sn=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return m&&sn.push({pubkey:m,isSigner:!1,isWritable:!1}),new Transaction().add({keys:sn,programId:this.programId,data:tn})}static splitInstruction(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:o,lamports:s}=e,a=STAKE_INSTRUCTION_LAYOUTS.Split,c=encodeData(a,{lamports:s});return new TransactionInstruction({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e){const n=new Transaction;return n.add(SystemProgram.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:o,basePubkey:s,seed:a,lamports:c}=e,m=new Transaction;return m.add(SystemProgram.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),m.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:o,lamports:c}))}static merge(e){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:o}=e,s=STAKE_INSTRUCTION_LAYOUTS.Merge,a=encodeData(s);return new Transaction().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static withdraw(e){const{stakePubkey:n,authorizedPubkey:r,toPubkey:o,lamports:s,custodianPubkey:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Withdraw,m=encodeData(c,{lamports:s}),en=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return a&&en.push({pubkey:a,isSigner:!1,isWritable:!1}),new Transaction().add({keys:en,programId:this.programId,data:m})}static deactivate(e){const{stakePubkey:n,authorizedPubkey:r}=e,o=STAKE_INSTRUCTION_LAYOUTS.Deactivate,s=encodeData(o);return new Transaction().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(e,n,r,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=o}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$1("instruction").decode(e.data);let o;for(const[s,a]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(a.index==r){o=s;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:n}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(n.nodePubkey),new PublicKey(n.authorizedVoter),new PublicKey(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:o,voteAuthorizationType:s}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new PublicKey(o),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:n}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:n,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,n){if(e.length<n)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${n}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$1([u32$1("instruction"),voteInit()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$1("newAuthorized"),u32$1("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$1([u32$1("instruction"),ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$1([u32$1("instruction"),voteAuthorizeWithSeedArgs()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:n,nodePubkey:r,voteInit:o}=e,s=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,a=encodeData(s,{voteInit:{nodePubkey:toBuffer(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),c={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(c)}static createAccount(e){const n=new Transaction;return n.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:s}=e,a=VOTE_INSTRUCTION_LAYOUTS.Authorize,c=encodeData(a,{newAuthorized:toBuffer(o.toBuffer()),voteAuthorizationType:s.index}),m=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:m,programId:this.programId,data:c})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:c}=e,m=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,en=encodeData(m,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer(s.toBuffer()),voteAuthorizationType:a.index}}),tn=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:tn,programId:this.programId,data:en})}static withdraw(e){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:s}=e,a=VOTE_INSTRUCTION_LAYOUTS.Withdraw,c=encodeData(a,{lamports:o}),m=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:m,programId:this.programId,data:c})}static safeWithdraw(e,n,r){if(e.lamports>n-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram.withdraw(e)}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(e,n){this.key=void 0,this.info=void 0,this.key=e,this.info=n}static fromConfigData(e){let n=[...e];if(decodeLength(n)!==2)return null;const o=[];for(let s=0;s<2;s++){const a=new PublicKey(n.slice(0,PUBLIC_KEY_LENGTH));n=n.slice(PUBLIC_KEY_LENGTH);const c=n.slice(0,1)[0]===1;n=n.slice(1),o.push({publicKey:a,isSigner:c})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY)&&o[1].isSigner){const s=rustString().decode(buffer$1.Buffer.from(n)),a=JSON.parse(s);return assert$2(a,InfoString),new ValidatorInfo(o[1].publicKey,a)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$1([publicKey$1("nodePubkey"),publicKey$1("authorizedWithdrawer"),u8$1("commission"),nu64(),seq(struct$1([nu64("slot"),u32$1("confirmationCount")]),offset(u32$1(),-8),"votes"),u8$1("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct$1([nu64("epoch"),publicKey$1("authorizedVoter")]),offset(u32$1(),-8),"authorizedVoters"),struct$1([seq(struct$1([publicKey$1("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8$1("isEmpty")],"priorVoters"),nu64(),seq(struct$1([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32$1(),-8),"epochCredits"),struct$1([nu64("slot"),nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=VoteAccountLayout.decode(toBuffer(e),4);let o=r.rootSlot;return r.rootSlotValid||(o=null),new VoteAccount({nodePubkey:new PublicKey(r.nodePubkey),authorizedWithdrawer:new PublicKey(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:o,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey(t)}}function parsePriorVoters({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new PublicKey(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function getPriorVoters({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(parsePriorVoters),...t.slice(0,e).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(t,e){const n=e===!1?"http":"https";if(!t)return endpoint[n].devnet;const r=endpoint[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function sendAndConfirmRawTransaction(t,e,n,r){let o,s;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")?(o=n,s=r):s=n;const a=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},c=await t.sendRawTransaction(e,a),m=s&&s.commitment,tn=(await(o?t.confirmTransaction(o,m):t.confirmTransaction(c,m))).value;if(tn.err)throw new Error(`Raw transaction ${c} failed (${JSON.stringify(tn)})`);return c}const LAMPORTS_PER_SOL=1e9,index_browser_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,MessageAccountKeys,MessageV0,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PUBLIC_KEY_LENGTH,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredTimeoutError,TransactionInstruction,TransactionMessage,get TransactionStatus(){return TransactionStatus},VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction,sendAndConfirmTransaction:sendAndConfirmTransaction$2},Symbol.toStringTag,{value:"Module"})),SOLANARPC="https://api.mainnet-beta.solana.com",useSolanaNetworkStore=defineStore("solanaNetwork",{state:()=>({ws:{},connection:{},transactions_per_second:ref(0)}),actions:{init(){this.connection=new Connection(SOLANARPC,"confirmed")},async run_tps(){for(;;){let t=await this.connection.getRecentPerformanceSamples(5);this.transactions_per_second=0,t.forEach(e=>{this.transactions_per_second+=e.numTransactions/e.samplePeriodSecs}),this.transactions_per_second=this.transactions_per_second/t.length,await new Promise(e=>setTimeout(e,5e3))}}}}),_hoisted_1$4={class:"flex flex-row space-x-2"},_hoisted_2$4={class:"flex flex-row space-x-1"},_hoisted_3$1=createBaseVNode("h2",null,"BTC/USDC",-1),_hoisted_4$1={class:"flex flex-row space-x-1"},_hoisted_5$1=createBaseVNode("h2",null,"SOL/USDC",-1),_hoisted_6$1={class:"flex flex-row space-x-1"},_hoisted_7$1=createBaseVNode("h2",null,"ATLAS/USDC",-1),_hoisted_8$1={class:"flex flex-row space-x-1"},_hoisted_9=createBaseVNode("h2",null,"POLIS/USDC",-1),_hoisted_10={class:"flex w-full justify-end flex-row space-x-1"},_hoisted_11=createBaseVNode("i",{class:"bi bi-speedometer"},null,-1),_sfc_main$5=defineComponent({__name:"InfoFeed",setup(t){const e=useTokenPriceStore(),n=useSolanaNetworkStore();return onMounted(async()=>{}),(r,o)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,[_hoisted_3$1,createBaseVNode("h3",null,toDisplayString(unref(e).btc),1)]),createBaseVNode("div",_hoisted_4$1,[_hoisted_5$1,createBaseVNode("h3",null,toDisplayString(unref(e).sol),1)]),createBaseVNode("div",_hoisted_6$1,[_hoisted_7$1,createBaseVNode("h3",null,toDisplayString(unref(e).atlas),1)]),createBaseVNode("div",_hoisted_8$1,[_hoisted_9,createBaseVNode("h3",null,toDisplayString(unref(e).polis),1)]),createBaseVNode("div",_hoisted_10,[_hoisted_11,createBaseVNode("h3",null,toDisplayString(unref(n).transactions_per_second.toFixed(0))+" TPS",1)])]))}}),_sfc_main$4={},_hoisted_1$3=createBaseVNode("h1",null,"Order Setter",-1),_hoisted_2$3=createBaseVNode("div",null,null,-1);function _sfc_render$1(t,e){return openBlock(),createElementBlock(Fragment,null,[_hoisted_1$3,_hoisted_2$3],64)}const OrderSetter=_export_sfc(_sfc_main$4,[["render",_sfc_render$1]]),NFTS_URL="https://galaxy.staratlas.com/nfts",TRADE_PROGRAM=new PublicKey("traderDnaR5w6Tcoi3NFm53i48FTDNbGjBSZwWXDRrg"),useAssetsStore=defineStore({id:"assetsStore",state:()=>({allAssets:[]}),actions:{async init(){this.allAssets=await fetch(NFTS_URL).then(t=>t.json()),console.log(this.allAssets)}}});var dist={},atlasStaking={},instruction_builders$1={},baseParams={};Object.defineProperty(baseParams,"__esModule",{value:!0});var cancelUnstake={},utils$1={},getStakingProgram$1={},camelcase={exports:{}};const preserveCamelCase=t=>{let e=!1,n=!1,r=!1;for(let o=0;o<t.length;o++){const s=t[o];e&&/[a-zA-Z]/.test(s)&&s.toUpperCase()===s?(t=t.slice(0,o)+"-"+t.slice(o),e=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(s)&&s.toLowerCase()===s?(t=t.slice(0,o-1)+"-"+t.slice(o-1),r=n,n=!1,e=!0):(e=s.toLowerCase()===s&&s.toUpperCase()!==s,r=n,n=s.toUpperCase()===s&&s.toLowerCase()!==s)}return t},camelCase=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");e=Object.assign({pascalCase:!1},e);const n=o=>e.pascalCase?o.charAt(0).toUpperCase()+o.slice(1):o;return Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0?"":t.length===1?e.pascalCase?t.toUpperCase():t.toLowerCase():(t!==t.toLowerCase()&&(t=preserveCamelCase(t)),t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(o,s)=>s.toUpperCase()).replace(/\d+(\w|$)/g,o=>o.toUpperCase()),n(t))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(o){return e.create().update(o)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(o){return new HmacSha256(o,t)},e.update=function(o,s){return e.create(o).update(s)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if(n!=="string"){if(n==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var r,o=0,s,a=t.length,c=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),e)for(s=this.start;o<a&&s<64;++o)c[s>>2]|=t[o]<<SHIFT[s++&3];else for(s=this.start;o<a&&s<64;++o)r=t.charCodeAt(o),r<128?c[s>>2]|=r<<SHIFT[s++&3]:r<2048?(c[s>>2]|=(192|r>>6)<<SHIFT[s++&3],c[s>>2]|=(128|r&63)<<SHIFT[s++&3]):r<55296||r>=57344?(c[s>>2]|=(224|r>>12)<<SHIFT[s++&3],c[s>>2]|=(128|r>>6&63)<<SHIFT[s++&3],c[s>>2]|=(128|r&63)<<SHIFT[s++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++o)&1023),c[s>>2]|=(240|r>>18)<<SHIFT[s++&3],c[s>>2]|=(128|r>>12&63)<<SHIFT[s++&3],c[s>>2]|=(128|r>>6&63)<<SHIFT[s++&3],c[s>>2]|=(128|r&63)<<SHIFT[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=c[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,m=this.blocks,en,tn,sn,un,cn,gn,mn,yn,wn,kn,An;for(en=16;en<64;++en)cn=m[en-15],tn=(cn>>>7|cn<<25)^(cn>>>18|cn<<14)^cn>>>3,cn=m[en-2],sn=(cn>>>17|cn<<15)^(cn>>>19|cn<<13)^cn>>>10,m[en]=m[en-16]+tn+m[en-7]+sn<<0;for(An=e&n,en=0;en<64;en+=4)this.first?(this.is224?(yn=300032,cn=m[0]-1413257819,c=cn-150054599<<0,r=cn+24177077<<0):(yn=704751109,cn=m[0]-210244248,c=cn-1521486534<<0,r=cn+143694565<<0),this.first=!1):(tn=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),sn=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),yn=t&e,un=yn^t&n^An,mn=o&s^~o&a,cn=c+sn+mn+K[en]+m[en],gn=tn+un,c=r+cn<<0,r=cn+gn<<0),tn=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),sn=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),wn=r&t,un=wn^r&e^yn,mn=c&o^~c&s,cn=a+sn+mn+K[en+1]+m[en+1],gn=tn+un,a=n+cn<<0,n=cn+gn<<0,tn=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),sn=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),kn=n&r,un=kn^n&t^wn,mn=a&c^~a&o,cn=s+sn+mn+K[en+2]+m[en+2],gn=tn+un,s=e+cn<<0,e=cn+gn<<0,tn=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),sn=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),An=e&n,un=An^e&r^kn,mn=s&a^~s&c,cn=o+sn+mn+K[en+3]+m[en+3],gn=tn+un,o=t+cn<<0,t=cn+gn<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+o<<0,this.h5=this.h5+s<<0,this.h6=this.h6+a<<0,this.h7=this.h7+c<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,m=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15];return this.is224||(m+=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15]),m},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,o=this.h4,s=this.h5,a=this.h6,c=this.h7,m=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,o>>24&255,o>>16&255,o>>8&255,o&255,s>>24&255,s>>16&255,s>>8&255,s&255,a>>24&255,a>>16&255,a>>8&255,a&255];return this.is224||m.push(c>>24&255,c>>16&255,c>>8&255,c&255),m},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,n){var r,o=typeof t;if(o==="string"){var s=[],a=t.length,c=0,m;for(r=0;r<a;++r)m=t.charCodeAt(r),m<128?s[c++]=m:m<2048?(s[c++]=192|m>>6,s[c++]=128|m&63):m<55296||m>=57344?(s[c++]=224|m>>12,s[c++]=128|m>>6&63,s[c++]=128|m&63):(m=65536+((m&1023)<<10|t.charCodeAt(++r)&1023),s[c++]=240|m>>18,s[c++]=128|m>>12&63,s[c++]=128|m>>6&63,s[c++]=128|m&63);t=s}else if(o==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var en=[],tn=[];for(r=0;r<64;++r){var sn=t[r]||0;en[r]=92^sn,tn[r]=54^sn}Sha256.call(this,e,n),this.update(tn),this.oKeyPad=en,this.inner=!0,this.sharedMemory=n}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var lib={},Layout$2={};class Layout$1{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}Layout$2.Layout=Layout$1;function nameWithProperty$1(t,e){return e.property?t+"["+e.property+"]":t}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(n,r){return e.decode(n,r)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(e,n){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n){n===void 0&&(n=0);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(e,n,r){if(!(e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class UInt$1 extends Layout$1{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class UIntBE extends Layout$1{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}class Int extends Layout$1{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntLE(e,r,this.span),this.span}}class IntBE extends Layout$1{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeIntBE(e,r,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(t){const e=Math.floor(t/V2E32),n=t-e*V2E32;return{hi32:e,lo32:n}}function roundedInt64(t,e){return t*V2E32+e}class NearUInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),o=e.readUInt32LE(n+4);return roundedInt64(o,r)}encode(e,n,r){r===void 0&&(r=0);const o=divmodInt64(e);return n.writeUInt32LE(o.lo32,r),n.writeUInt32LE(o.hi32,r+4),8}}class NearUInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32BE(n),o=e.readUInt32BE(n+4);return roundedInt64(r,o)}encode(e,n,r){r===void 0&&(r=0);const o=divmodInt64(e);return n.writeUInt32BE(o.hi32,r),n.writeUInt32BE(o.lo32,r+4),8}}class NearInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n),o=e.readInt32LE(n+4);return roundedInt64(o,r)}encode(e,n,r){r===void 0&&(r=0);const o=divmodInt64(e);return n.writeUInt32LE(o.lo32,r),n.writeInt32LE(o.hi32,r+4),8}}class NearInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readInt32BE(n),o=e.readUInt32BE(n+4);return roundedInt64(r,o)}encode(e,n,r){r===void 0&&(r=0);const o=divmodInt64(e);return n.writeInt32BE(o.hi32,r),n.writeUInt32BE(o.lo32,r+4),8}}class Float extends Layout$1{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatLE(e,r),4}}class FloatBE extends Layout$1{constructor(e){super(4,e)}decode(e,n){return n===void 0&&(n=0),e.readFloatBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeFloatBE(e,r),4}}class Double extends Layout$1{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleLE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleLE(e,r),8}}class DoubleBE extends Layout$1{constructor(e){super(8,e)}decode(e,n){return n===void 0&&(n=0),e.readDoubleBE(n)}encode(e,n,r){return r===void 0&&(r=0),n.writeDoubleBE(e,r),8}}class Sequence extends Layout$1{constructor(e,n,r){if(!(e instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ExternalLayout$1&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(n instanceof ExternalLayout$1)&&0<e.span&&(o=n*e.span),super(o,r),this.elementLayout=e,this.count=n}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0,o=this.count;if(o instanceof ExternalLayout$1&&(o=o.decode(e,n)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let s=0;for(;s<o;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n){n===void 0&&(n=0);const r=[];let o=0,s=this.count;for(s instanceof ExternalLayout$1&&(s=s.decode(e,n));o<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),o+=1;return r}encode(e,n,r){r===void 0&&(r=0);const o=this.elementLayout,s=e.reduce((a,c)=>a+o.encode(c,n,r+a),0);return this.count instanceof ExternalLayout$1&&this.count.encode(e.length,n,r),s}}class Structure$1 extends Layout$1{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((o,s)=>{const a=s.getSpan(e,n);return n+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,n)),n+=o.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const o=r;let s=0,a=0;for(const c of this.fields){let m=c.span;if(a=0<m?m:0,c.property!==void 0){const en=e[c.property];en!==void 0&&(a=c.encode(en,n,r),0>m&&(m=c.getSpan(n,r)))}s=r,r+=m}return s+a-o}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class UnionDiscriminator{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(e,n){if(!(e instanceof ExternalLayout$1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class Union extends Layout$1{constructor(e,n,r){const o=e instanceof UInt$1||e instanceof UIntBE;if(o)e=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout$1&&e.isCount())e=new UnionLayoutDiscriminator(e);else if(!(e instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&o&&(s+=e.layout.span)),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=n,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){n===void 0&&(n=0);let r;const o=this.discriminator,s=o.decode(e,n);let a=this.registry[s];if(a===void 0){let c=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),r=this.makeDestinationObject(),r[o.property]=s,r[a.property]=this.defaultLayout.decode(e,n+c)}else r=a.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],n,r),c+a.encode(e[a.property],n,r+c)}return o.encode(e,n,r)}addVariant(e,n,r){const o=new VariantLayout(this,e,n,r);return this.registry[e]=o,o}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class VariantLayout extends Layout$1{constructor(e,n,r,o){if(!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=o;if(this.layout&&(this.layout.encode(e[this.property],n,r+o),s+=this.layout.getSpan(n,r+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function fixBitwiseResult(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout$1{constructor(e,n,r){if(!(e instanceof UInt$1||e instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let o=0;this._packedSetValue=function(s){return o=fixBitwiseResult(s),this},this._packedGetValue=function(){return o}}decode(e,n){const r=this.makeDestinationObject();n===void 0&&(n=0);const o=this.word.decode(e,n);this._packedSetValue(o);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(o));return r}encode(e,n,r){r===void 0&&(r=0);const o=this.word.decode(n,r);this._packedSetValue(o);for(const s of this.fields)if(s.property!==void 0){const a=e[s.property];a!==void 0&&s.encode(a)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new BitField(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Boolean$1(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}class BitField{constructor(e,n,r){if(!(e instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const o=8*e.span,s=e.fields.reduce((a,c)=>a+c.bits,0);if(n+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-n),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return fixBitwiseResult(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(n&~this.wordMask)|r)}}class Boolean$1 extends BitField{constructor(e,n){super(e,1,n)}decode(e,n){return!!BitField.prototype.decode.call(this,e,n)}encode(e){return typeof e=="boolean"&&(e=+e),BitField.prototype.encode.call(this,e)}}class Blob$2 extends Layout$1{constructor(e,n){if(!(e instanceof ExternalLayout$1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ExternalLayout$1||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let o=this.length;if(this.length instanceof ExternalLayout$1&&(o=e.length),!(Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,o,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(o,n,r),o}}class CString extends Layout$1{constructor(e){super(-1,e)}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");n===void 0&&(n=0);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n,r){n===void 0&&(n=0);let o=this.getSpan(e,n);return e.slice(n,n+o-1).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const o=new Buffer(e,"utf8"),s=o.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return o.copy(n,r),n[r+s]=0,s+1}}class UTF8 extends Layout$1{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return n===void 0&&(n=0),e.length-n}decode(e,n,r){n===void 0&&(n=0);let o=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");return e.slice(n,n+o).toString("utf-8")}encode(e,n,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const o=new Buffer(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return o.copy(n,r),s}}class Constant extends Layout$1{constructor(e,n){super(0,n),this.value=e}decode(e,n,r){return this.value}encode(e,n,r){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$2.Union=Union;Layout$2.VariantLayout=VariantLayout;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(t,e)=>new GreedyCount(t,e);Layout$2.offset=(t,e,n)=>new OffsetLayout(t,e,n);Layout$2.u8=t=>new UInt$1(1,t);Layout$2.u16=t=>new UInt$1(2,t);Layout$2.u24=t=>new UInt$1(3,t);Layout$2.u32=t=>new UInt$1(4,t);Layout$2.u40=t=>new UInt$1(5,t);Layout$2.u48=t=>new UInt$1(6,t);Layout$2.nu64=t=>new NearUInt64(t);Layout$2.u16be=t=>new UIntBE(2,t);Layout$2.u24be=t=>new UIntBE(3,t);Layout$2.u32be=t=>new UIntBE(4,t);Layout$2.u40be=t=>new UIntBE(5,t);Layout$2.u48be=t=>new UIntBE(6,t);Layout$2.nu64be=t=>new NearUInt64BE(t);Layout$2.s8=t=>new Int(1,t);Layout$2.s16=t=>new Int(2,t);Layout$2.s24=t=>new Int(3,t);Layout$2.s32=t=>new Int(4,t);Layout$2.s40=t=>new Int(5,t);Layout$2.s48=t=>new Int(6,t);Layout$2.ns64=t=>new NearInt64(t);Layout$2.s16be=t=>new IntBE(2,t);Layout$2.s24be=t=>new IntBE(3,t);Layout$2.s32be=t=>new IntBE(4,t);Layout$2.s40be=t=>new IntBE(5,t);Layout$2.s48be=t=>new IntBE(6,t);Layout$2.ns64be=t=>new NearInt64BE(t);Layout$2.f32=t=>new Float(t);Layout$2.f32be=t=>new FloatBE(t);Layout$2.f64=t=>new Double(t);Layout$2.f64be=t=>new DoubleBE(t);Layout$2.struct=(t,e,n)=>new Structure$1(t,e,n);Layout$2.bits=(t,e,n)=>new BitStructure(t,e,n);Layout$2.seq=(t,e,n)=>new Sequence(t,e,n);Layout$2.union=(t,e,n)=>new Union(t,e,n);Layout$2.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator(t,e);Layout$2.blob=(t,e)=>new Blob$2(t,e);Layout$2.cstr=t=>new CString(t);Layout$2.utf8=(t,e)=>new UTF8(t,e);Layout$2.const=(t,e)=>new Constant(t,e);const require$$2=getAugmentedNamespace(index_browser_esm$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(Nn){return Nn&&Nn.__esModule?Nn:{default:Nn}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const n=Layout$2,r=require$$2,o=e(bn.exports);var s=Layout$2;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return s.struct}});class a extends n.Layout{constructor(Kn,_r,pn){super(Kn,pn),this.blob=n.blob(Kn),this.signed=_r}decode(Kn,_r=0){const pn=new o.default(this.blob.decode(Kn,_r),10,"le");return this.signed?pn.fromTwos(this.span*8).clone():pn}encode(Kn,_r,pn=0){return this.signed&&(Kn=Kn.toTwos(this.span*8)),this.blob.encode(Kn.toArrayLike(Buffer,"le",this.span),_r,pn)}}function c(Nn){return new a(8,!1,Nn)}t.u64=c;function m(Nn){return new a(8,!0,Nn)}t.i64=m;function en(Nn){return new a(16,!1,Nn)}t.u128=en;function tn(Nn){return new a(16,!0,Nn)}t.i128=tn;class sn extends n.Layout{constructor(Kn,_r,pn,on){super(Kn.span,on),this.layout=Kn,this.decoder=_r,this.encoder=pn}decode(Kn,_r){return this.decoder(this.layout.decode(Kn,_r))}encode(Kn,_r,pn){return this.layout.encode(this.encoder(Kn),_r,pn)}getSpan(Kn,_r){return this.layout.getSpan(Kn,_r)}}function un(Nn){return new sn(n.blob(32),Kn=>new r.PublicKey(Kn),Kn=>Kn.toBuffer(),Nn)}t.publicKey=un;class cn extends n.Layout{constructor(Kn,_r){super(-1,_r),this.layout=Kn,this.discriminator=n.u8()}encode(Kn,_r,pn=0){return Kn==null?this.discriminator.encode(0,_r,pn):(this.discriminator.encode(1,_r,pn),this.layout.encode(Kn,_r,pn+1)+1)}decode(Kn,_r=0){const pn=this.discriminator.decode(Kn,_r);if(pn===0)return null;if(pn===1)return this.layout.decode(Kn,_r+1);throw new Error("Invalid option "+this.property)}getSpan(Kn,_r=0){const pn=this.discriminator.decode(Kn,_r);if(pn===0)return 1;if(pn===1)return this.layout.getSpan(Kn,_r+1)+1;throw new Error("Invalid option "+this.property)}}function gn(Nn,Kn){return new cn(Nn,Kn)}t.option=gn;function mn(Nn){return new sn(n.u8(),yn,wn,Nn)}t.bool=mn;function yn(Nn){if(Nn===0)return!1;if(Nn===1)return!0;throw new Error("Invalid bool: "+Nn)}function wn(Nn){return Nn?1:0}function kn(Nn,Kn){const _r=n.u32("length"),pn=n.struct([_r,n.seq(Nn,n.offset(_r,-_r.span),"values")]);return new sn(pn,({values:on})=>on,on=>({values:on}),Kn)}t.vec=kn;function An(Nn,Kn,_r){const pn=n.struct([c("tag"),Kn.replicate("data")]);function on({tag:ln,data:vn}){if(!ln.eq(Nn))throw new Error("Invalid tag, expected: "+Nn.toString("hex")+", got: "+ln.toString("hex"));return vn}return new sn(pn,on,ln=>({tag:Nn,data:ln}),_r)}t.tagged=An;function $n(Nn){const Kn=n.u32("length"),_r=n.struct([Kn,n.blob(n.offset(Kn,-Kn.span),"data")]);return new sn(_r,({data:pn})=>pn,pn=>({data:pn}),Nn)}t.vecU8=$n;function Mn(Nn){return new sn($n(),Kn=>Kn.toString("utf-8"),Kn=>Buffer.from(Kn,"utf-8"),Nn)}t.str=Mn;function En(Nn,Kn,_r){const pn=n.union(_r??n.u8(),Kn);return Nn.forEach((on,ln)=>pn.addVariant(ln,on,on.property)),pn}t.rustEnum=En;function Tn(Nn,Kn,_r){const pn=n.struct([n.seq(Nn,Kn,"values")]);return new sn(pn,({values:on})=>on,on=>({values:on}),_r)}t.array=Tn;class Pn extends n.Layout{constructor(Kn,_r,pn){super(Kn.span+_r.span,pn),this.keyLayout=Kn,this.valueLayout=_r}decode(Kn,_r){_r=_r||0;const pn=this.keyLayout.decode(Kn,_r),on=this.valueLayout.decode(Kn,_r+this.keyLayout.getSpan(Kn,_r));return[pn,on]}encode(Kn,_r,pn){pn=pn||0;const on=this.keyLayout.encode(Kn[0],_r,pn),ln=this.valueLayout.encode(Kn[1],_r,pn+on);return on+ln}getSpan(Kn,_r){return this.keyLayout.getSpan(Kn,_r)+this.valueLayout.getSpan(Kn,_r)}}function zn(Nn,Kn,_r){const pn=n.u32("length"),on=n.struct([pn,n.seq(new Pn(Nn,Kn),n.offset(pn,-pn.span),"values")]);return new sn(on,({values:ln})=>new Map(ln),ln=>({values:Array.from(ln.entries())}),_r)}t.map=zn})(lib);/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(t){let e=t.length;for(;--e>=0;)t[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(t,e,n,r,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=t&&t.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const d_code=t=>t<256?_dist_code[t]:_dist_code[256+(t>>>7)],put_short=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},send_bits=(t,e,n)=>{t.bi_valid>Buf_size-n?(t.bi_buf|=e<<t.bi_valid&65535,put_short(t,t.bi_buf),t.bi_buf=e>>Buf_size-t.bi_valid,t.bi_valid+=n-Buf_size):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},send_code=(t,e,n)=>{send_bits(t,n[e*2],n[e*2+1])},bi_reverse=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},bi_flush=t=>{t.bi_valid===16?(put_short(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},gen_bitlen=(t,e)=>{const n=e.dyn_tree,r=e.max_code,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,m=e.stat_desc.max_length;let en,tn,sn,un,cn,gn,mn=0;for(un=0;un<=MAX_BITS$1;un++)t.bl_count[un]=0;for(n[t.heap[t.heap_max]*2+1]=0,en=t.heap_max+1;en<HEAP_SIZE$1;en++)tn=t.heap[en],un=n[n[tn*2+1]*2+1]+1,un>m&&(un=m,mn++),n[tn*2+1]=un,!(tn>r)&&(t.bl_count[un]++,cn=0,tn>=c&&(cn=a[tn-c]),gn=n[tn*2],t.opt_len+=gn*(un+cn),s&&(t.static_len+=gn*(o[tn*2+1]+cn)));if(mn!==0){do{for(un=m-1;t.bl_count[un]===0;)un--;t.bl_count[un]--,t.bl_count[un+1]+=2,t.bl_count[m]--,mn-=2}while(mn>0);for(un=m;un!==0;un--)for(tn=t.bl_count[un];tn!==0;)sn=t.heap[--en],!(sn>r)&&(n[sn*2+1]!==un&&(t.opt_len+=(un-n[sn*2+1])*n[sn*2],n[sn*2+1]=un),tn--)}},gen_codes=(t,e,n)=>{const r=new Array(MAX_BITS$1+1);let o=0,s,a;for(s=1;s<=MAX_BITS$1;s++)r[s]=o=o+n[s-1]<<1;for(a=0;a<=e;a++){let c=t[a*2+1];c!==0&&(t[a*2]=bi_reverse(r[c]++,c))}},tr_static_init=()=>{let t,e,n,r,o;const s=new Array(MAX_BITS$1+1);for(n=0,r=0;r<LENGTH_CODES$1-1;r++)for(base_length[r]=n,t=0;t<1<<extra_lbits[r];t++)_length_code[n++]=r;for(_length_code[n-1]=r,o=0,r=0;r<16;r++)for(base_dist[r]=o,t=0;t<1<<extra_dbits[r];t++)_dist_code[o++]=r;for(o>>=7;r<D_CODES$1;r++)for(base_dist[r]=o<<7,t=0;t<1<<extra_dbits[r]-7;t++)_dist_code[256+o++]=r;for(e=0;e<=MAX_BITS$1;e++)s[e]=0;for(t=0;t<=143;)static_ltree[t*2+1]=8,t++,s[8]++;for(;t<=255;)static_ltree[t*2+1]=9,t++,s[9]++;for(;t<=279;)static_ltree[t*2+1]=7,t++,s[7]++;for(;t<=287;)static_ltree[t*2+1]=8,t++,s[8]++;for(gen_codes(static_ltree,L_CODES$1+1,s),t=0;t<D_CODES$1;t++)static_dtree[t*2+1]=5,static_dtree[t*2]=bi_reverse(t,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=t=>{let e;for(e=0;e<L_CODES$1;e++)t.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)t.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)t.bl_tree[e*2]=0;t.dyn_ltree[END_BLOCK*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},bi_windup=t=>{t.bi_valid>8?put_short(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},copy_block=(t,e,n,r)=>{bi_windup(t),r&&(put_short(t,n),put_short(t,~n)),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},smaller=(t,e,n,r)=>{const o=e*2,s=n*2;return t[o]<t[s]||t[o]===t[s]&&r[e]<=r[n]},pqdownheap=(t,e,n)=>{const r=t.heap[n];let o=n<<1;for(;o<=t.heap_len&&(o<t.heap_len&&smaller(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!smaller(e,r,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=r},compress_block=(t,e,n)=>{let r,o,s=0,a,c;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+s*2]<<8|t.pending_buf[t.d_buf+s*2+1],o=t.pending_buf[t.l_buf+s],s++,r===0?send_code(t,o,e):(a=_length_code[o],send_code(t,a+LITERALS$1+1,e),c=extra_lbits[a],c!==0&&(o-=base_length[a],send_bits(t,o,c)),r--,a=d_code(r),send_code(t,a,n),c=extra_dbits[a],c!==0&&(r-=base_dist[a],send_bits(t,r,c)));while(s<t.last_lit);send_code(t,END_BLOCK,e)},build_tree=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,c,m=-1,en;for(t.heap_len=0,t.heap_max=HEAP_SIZE$1,a=0;a<s;a++)n[a*2]!==0?(t.heap[++t.heap_len]=m=a,t.depth[a]=0):n[a*2+1]=0;for(;t.heap_len<2;)en=t.heap[++t.heap_len]=m<2?++m:0,n[en*2]=1,t.depth[en]=0,t.opt_len--,o&&(t.static_len-=r[en*2+1]);for(e.max_code=m,a=t.heap_len>>1;a>=1;a--)pqdownheap(t,n,a);en=s;do a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pqdownheap(t,n,1),c=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=c,n[en*2]=n[a*2]+n[c*2],t.depth[en]=(t.depth[a]>=t.depth[c]?t.depth[a]:t.depth[c])+1,n[a*2+1]=n[c*2+1]=en,t.heap[1]=en++,pqdownheap(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gen_bitlen(t,e),gen_codes(n,m,t.bl_count)},scan_tree=(t,e,n)=>{let r,o=-1,s,a=e[0*2+1],c=0,m=7,en=4;for(a===0&&(m=138,en=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=a,a=e[(r+1)*2+1],!(++c<m&&s===a)&&(c<en?t.bl_tree[s*2]+=c:s!==0?(s!==o&&t.bl_tree[s*2]++,t.bl_tree[REP_3_6*2]++):c<=10?t.bl_tree[REPZ_3_10*2]++:t.bl_tree[REPZ_11_138*2]++,c=0,o=s,a===0?(m=138,en=3):s===a?(m=6,en=3):(m=7,en=4))},send_tree=(t,e,n)=>{let r,o=-1,s,a=e[0*2+1],c=0,m=7,en=4;for(a===0&&(m=138,en=3),r=0;r<=n;r++)if(s=a,a=e[(r+1)*2+1],!(++c<m&&s===a)){if(c<en)do send_code(t,s,t.bl_tree);while(--c!==0);else s!==0?(s!==o&&(send_code(t,s,t.bl_tree),c--),send_code(t,REP_3_6,t.bl_tree),send_bits(t,c-3,2)):c<=10?(send_code(t,REPZ_3_10,t.bl_tree),send_bits(t,c-3,3)):(send_code(t,REPZ_11_138,t.bl_tree),send_bits(t,c-11,7));c=0,o=s,a===0?(m=138,en=3):s===a?(m=6,en=3):(m=7,en=4)}},build_bl_tree=t=>{let e;for(scan_tree(t,t.dyn_ltree,t.l_desc.max_code),scan_tree(t,t.dyn_dtree,t.d_desc.max_code),build_tree(t,t.bl_desc),e=BL_CODES$1-1;e>=3&&t.bl_tree[bl_order[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(t,e,n,r)=>{let o;for(send_bits(t,e-257,5),send_bits(t,n-1,5),send_bits(t,r-4,4),o=0;o<r;o++)send_bits(t,t.bl_tree[bl_order[o]*2+1],3);send_tree(t,t.dyn_ltree,e-1),send_tree(t,t.dyn_dtree,n-1)},detect_data_type=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return Z_BINARY;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Z_TEXT;for(n=32;n<LITERALS$1;n++)if(t.dyn_ltree[n*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=t=>{static_init_done||(tr_static_init(),static_init_done=!0),t.l_desc=new TreeDesc(t.dyn_ltree,static_l_desc),t.d_desc=new TreeDesc(t.dyn_dtree,static_d_desc),t.bl_desc=new TreeDesc(t.bl_tree,static_bl_desc),t.bi_buf=0,t.bi_valid=0,init_block(t)},_tr_stored_block$1=(t,e,n,r)=>{send_bits(t,(STORED_BLOCK<<1)+(r?1:0),3),copy_block(t,e,n,!0)},_tr_align$1=t=>{send_bits(t,STATIC_TREES<<1,3),send_code(t,END_BLOCK,static_ltree),bi_flush(t)},_tr_flush_block$1=(t,e,n,r)=>{let o,s,a=0;t.level>0?(t.strm.data_type===Z_UNKNOWN$1&&(t.strm.data_type=detect_data_type(t)),build_tree(t,t.l_desc),build_tree(t,t.d_desc),a=build_bl_tree(t),o=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=o&&(o=s)):o=s=n+5,n+4<=o&&e!==-1?_tr_stored_block$1(t,e,n,r):t.strategy===Z_FIXED$1||s===o?(send_bits(t,(STATIC_TREES<<1)+(r?1:0),3),compress_block(t,static_ltree,static_dtree)):(send_bits(t,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),compress_block(t,t.dyn_ltree,t.dyn_dtree)),init_block(t),r&&bi_windup(t)},_tr_tally$1=(t,e,n)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(_length_code[n]+LITERALS$1+1)*2]++,t.dyn_dtree[d_code(e)*2]++),t.last_lit===t.lit_bufsize-1);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(t,e,n,r)=>{let o=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do o=o+e[r++]|0,s=s+o|0;while(--a);o%=65521,s%=65521}return o|s<<16|0};var adler32_1=adler32;const makeTable=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},crcTable=new Uint32Array(makeTable()),crc32=(t,e,n,r)=>{const o=crcTable,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^o[(t^e[a])&255];return t^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(t,e)=>(t.msg=messages[e],e),rank=t=>(t<<1)-(t>4?9:0),zero=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let HASH_ZLIB=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,HASH=HASH_ZLIB;const flush_pending=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},flush_block_only=(t,e)=>{_tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,flush_pending(t.strm)},put_byte=(t,e)=>{t.pending_buf[t.pending++]=e},putShortMSB=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},read_buf=(t,e,n,r)=>{let o=t.avail_in;return o>r&&(o=r),o===0?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),n),t.state.wrap===1?t.adler=adler32_1(t.adler,e,o,n):t.state.wrap===2&&(t.adler=crc32_1(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)},longest_match=(t,e)=>{let n=t.max_chain_length,r=t.strstart,o,s,a=t.prev_length,c=t.nice_match;const m=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,en=t.window,tn=t.w_mask,sn=t.prev,un=t.strstart+MAX_MATCH;let cn=en[r+a-1],gn=en[r+a];t.prev_length>=t.good_match&&(n>>=2),c>t.lookahead&&(c=t.lookahead);do if(o=e,!(en[o+a]!==gn||en[o+a-1]!==cn||en[o]!==en[r]||en[++o]!==en[r+1])){r+=2,o++;do;while(en[++r]===en[++o]&&en[++r]===en[++o]&&en[++r]===en[++o]&&en[++r]===en[++o]&&en[++r]===en[++o]&&en[++r]===en[++o]&&en[++r]===en[++o]&&en[++r]===en[++o]&&r<un);if(s=MAX_MATCH-(un-r),r=un-MAX_MATCH,s>a){if(t.match_start=e,a=s,s>=c)break;cn=en[r+a-1],gn=en[r+a]}}while((e=sn[e&tn])>m&&--n!==0);return a<=t.lookahead?a:t.lookahead},fill_window=t=>{const e=t.w_size;let n,r,o,s,a;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-MIN_LOOKAHEAD)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do o=t.head[--n],t.head[n]=o>=e?o-e:0;while(--r);r=e,n=r;do o=t.prev[--n],t.prev[n]=o>=e?o-e:0;while(--r);s+=e}if(t.strm.avail_in===0)break;if(r=read_buf(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=r,t.lookahead+t.insert>=MIN_MATCH)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=HASH(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=HASH(t,t.ins_h,t.window[a+MIN_MATCH-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&t.strm.avail_in!==0)},deflate_stored=(t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(fill_window(t),t.lookahead===0&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,flush_block_only(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-MIN_LOOKAHEAD&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(t.strstart>t.block_start&&(flush_block_only(t,!1),t.strm.avail_out===0),BS_NEED_MORE)},deflate_fast=(t,e)=>{let n,r;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(n=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,n)),t.match_length>=MIN_MATCH)if(r=_tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do t.strstart++,t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+1]);else r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(t,e)=>{let n,r,o;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(n=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,n),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-MIN_MATCH,r=_tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}else if(t.match_available){if(r=_tr_tally(t,0,t.window[t.strstart-1]),r&&flush_block_only(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=_tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(t,e)=>{let n,r,o,s;const a=t.window;for(;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(o=t.strstart-1,r=a[o],r===a[++o]&&r===a[++o]&&r===a[++o])){s=t.strstart+MAX_MATCH;do;while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<s);t.match_length=MAX_MATCH-(s-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(n=_tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(fill_window(t),t.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(t.match_length=0,n=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(t,e,n,r,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=o}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=t=>{t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateResetKeep=t=>{if(!t||!t.state)return err(t,Z_STREAM_ERROR$2);t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE:BUSY_STATE,t.adler=e.wrap===2?0:1,e.last_flush=Z_NO_FLUSH$2,_tr_init(e),Z_OK$3},deflateReset=t=>{const e=deflateResetKeep(t);return e===Z_OK$3&&lm_init(t.state),e},deflateSetHeader=(t,e)=>!t||!t.state||t.state.wrap!==2?Z_STREAM_ERROR$2:(t.state.gzhead=e,Z_OK$3),deflateInit2=(t,e,n,r,o,s)=>{if(!t)return Z_STREAM_ERROR$2;let a=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>MAX_MEM_LEVEL||n!==Z_DEFLATED$2||r<8||r>15||e<0||e>9||s<0||s>Z_FIXED)return err(t,Z_STREAM_ERROR$2);r===8&&(r=9);const c=new DeflateState;return t.state=c,c.strm=t,c.wrap=a,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+MIN_MATCH-1)/MIN_MATCH),c.window=new Uint8Array(c.w_size*2),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new Uint8Array(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=(1+2)*c.lit_bufsize,c.level=e,c.strategy=s,c.method=n,deflateReset(t)},deflateInit=(t,e)=>deflateInit2(t,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(t,e)=>{let n,r;if(!t||!t.state||e>Z_BLOCK$1||e<0)return t?err(t,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const o=t.state;if(!t.output||!t.input&&t.avail_in!==0||o.status===FINISH_STATE&&e!==Z_FINISH$3)return err(t,t.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);o.strm=t;const s=o.last_flush;if(o.last_flush=e,o.status===INIT_STATE)if(o.wrap===2)t.adler=0,put_byte(o,31),put_byte(o,139),put_byte(o,8),o.gzhead?(put_byte(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),put_byte(o,o.gzhead.time&255),put_byte(o,o.gzhead.time>>8&255),put_byte(o,o.gzhead.time>>16&255),put_byte(o,o.gzhead.time>>24&255),put_byte(o,o.level===9?2:o.strategy>=Z_HUFFMAN_ONLY||o.level<2?4:0),put_byte(o,o.gzhead.os&255),o.gzhead.extra&&o.gzhead.extra.length&&(put_byte(o,o.gzhead.extra.length&255),put_byte(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=EXTRA_STATE):(put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,0),put_byte(o,o.level===9?2:o.strategy>=Z_HUFFMAN_ONLY||o.level<2?4:0),put_byte(o,OS_CODE),o.status=BUSY_STATE);else{let a=Z_DEFLATED$2+(o.w_bits-8<<4)<<8,c=-1;o.strategy>=Z_HUFFMAN_ONLY||o.level<2?c=0:o.level<6?c=1:o.level===6?c=2:c=3,a|=c<<6,o.strstart!==0&&(a|=PRESET_DICT),a+=31-a%31,o.status=BUSY_STATE,putShortMSB(o,a),o.strstart!==0&&(putShortMSB(o,t.adler>>>16),putShortMSB(o,t.adler&65535)),t.adler=1}if(o.status===EXTRA_STATE)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(o.gzhead.extra.length&65535)&&!(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-n,n)),flush_pending(t),n=o.pending,o.pending===o.pending_buf_size));)put_byte(o,o.gzhead.extra[o.gzindex]&255),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=NAME_STATE)}else o.status=NAME_STATE;if(o.status===NAME_STATE)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-n,n)),flush_pending(t),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}o.gzindex<o.gzhead.name.length?r=o.gzhead.name.charCodeAt(o.gzindex++)&255:r=0,put_byte(o,r)}while(r!==0);o.gzhead.hcrc&&o.pending>n&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-n,n)),r===0&&(o.gzindex=0,o.status=COMMENT_STATE)}else o.status=COMMENT_STATE;if(o.status===COMMENT_STATE)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-n,n)),flush_pending(t),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}o.gzindex<o.gzhead.comment.length?r=o.gzhead.comment.charCodeAt(o.gzindex++)&255:r=0,put_byte(o,r)}while(r!==0);o.gzhead.hcrc&&o.pending>n&&(t.adler=crc32_1(t.adler,o.pending_buf,o.pending-n,n)),r===0&&(o.status=HCRC_STATE)}else o.status=HCRC_STATE;if(o.status===HCRC_STATE&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&flush_pending(t),o.pending+2<=o.pending_buf_size&&(put_byte(o,t.adler&255),put_byte(o,t.adler>>8&255),t.adler=0,o.status=BUSY_STATE)):o.status=BUSY_STATE),o.pending!==0){if(flush_pending(t),t.avail_out===0)return o.last_flush=-1,Z_OK$3}else if(t.avail_in===0&&rank(e)<=rank(s)&&e!==Z_FINISH$3)return err(t,Z_BUF_ERROR$1);if(o.status===FINISH_STATE&&t.avail_in!==0)return err(t,Z_BUF_ERROR$1);if(t.avail_in!==0||o.lookahead!==0||e!==Z_NO_FLUSH$2&&o.status!==FINISH_STATE){let a=o.strategy===Z_HUFFMAN_ONLY?deflate_huff(o,e):o.strategy===Z_RLE?deflate_rle(o,e):configuration_table[o.level].func(o,e);if((a===BS_FINISH_STARTED||a===BS_FINISH_DONE)&&(o.status=FINISH_STATE),a===BS_NEED_MORE||a===BS_FINISH_STARTED)return t.avail_out===0&&(o.last_flush=-1),Z_OK$3;if(a===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(o):e!==Z_BLOCK$1&&(_tr_stored_block(o,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),flush_pending(t),t.avail_out===0))return o.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:o.wrap<=0?Z_STREAM_END$3:(o.wrap===2?(put_byte(o,t.adler&255),put_byte(o,t.adler>>8&255),put_byte(o,t.adler>>16&255),put_byte(o,t.adler>>24&255),put_byte(o,t.total_in&255),put_byte(o,t.total_in>>8&255),put_byte(o,t.total_in>>16&255),put_byte(o,t.total_in>>24&255)):(putShortMSB(o,t.adler>>>16),putShortMSB(o,t.adler&65535)),flush_pending(t),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=t=>{if(!t||!t.state)return Z_STREAM_ERROR$2;const e=t.state.status;return e!==INIT_STATE&&e!==EXTRA_STATE&&e!==NAME_STATE&&e!==COMMENT_STATE&&e!==HCRC_STATE&&e!==BUSY_STATE&&e!==FINISH_STATE?err(t,Z_STREAM_ERROR$2):(t.state=null,e===BUSY_STATE?err(t,Z_DATA_ERROR$2):Z_OK$3)},deflateSetDictionary=(t,e)=>{let n=e.length;if(!t||!t.state)return Z_STREAM_ERROR$2;const r=t.state,o=r.wrap;if(o===2||o===1&&r.status!==INIT_STATE||r.lookahead)return Z_STREAM_ERROR$2;if(o===1&&(t.adler=adler32_1(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){o===0&&(zero(r.head),r.strstart=0,r.block_start=0,r.insert=0);let m=new Uint8Array(r.w_size);m.set(e.subarray(n-r.w_size,n),0),e=m,n=r.w_size}const s=t.avail_in,a=t.next_in,c=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,fill_window(r);r.lookahead>=MIN_MATCH;){let m=r.strstart,en=r.lookahead-(MIN_MATCH-1);do r.ins_h=HASH(r,r.ins_h,r.window[m+MIN_MATCH-1]),r.prev[m&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=m,m++;while(--en);r.strstart=m,r.lookahead=MIN_MATCH-1,fill_window(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=MIN_MATCH-1,r.match_available=0,t.next_in=a,t.input=c,t.avail_in=s,r.wrap=o,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var assign$1=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)_has(n,r)&&(t[r]=n[r])}}return t},flattenChunks=t=>{let e=0;for(let r=0,o=t.length;r<o;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,o=0,s=t.length;r<s;r++){let a=t[r];n.set(a,o),o+=a.length}return n},common={assign:assign$1,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let t=0;t<256;t++)_utf8len[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,o,s,a=t.length,c=0;for(o=0;o<a;o++)n=t.charCodeAt(o),(n&64512)===55296&&o+1<a&&(r=t.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),s=0,o=0;s<c;o++)n=t.charCodeAt(o),(n&64512)===55296&&o+1<a&&(r=t.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const buf2binstring=(t,e)=>{if(e<65534&&t.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var buf2string=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,o;const s=new Array(n*2);for(o=0,r=0;r<n;){let a=t[r++];if(a<128){s[o++]=a;continue}let c=_utf8len[a];if(c>4){s[o++]=65533,r+=c-1;continue}for(a&=c===2?31:c===3?15:7;c>1&&r<n;)a=a<<6|t[r++]&63,c--;if(c>1){s[o++]=65533;continue}a<65536?s[o++]=a:(a-=65536,s[o++]=55296|a>>10&1023,s[o++]=56320|a&1023)}return buf2binstring(s,o)},utf8border=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+_utf8len[t[n]]>e?n:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(t){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let n=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Z_OK$2)throw new Error(messages[n]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=strings.string2buf(e.dictionary):toString$1.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=deflate_1$2.deflateSetDictionary(this.strm,r),n!==Z_OK$2)throw new Error(messages[n]);this._dict_set=!0}}Deflate$1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let o,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof t=="string"?n.input=strings.string2buf(t):toString$1.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===Z_SYNC_FLUSH||s===Z_FULL_FLUSH)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=deflate_1$2.deflate(n,s),o===Z_STREAM_END$2)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=deflate_1$2.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Z_OK$2;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(t){this.chunks.push(t)};Deflate$1.prototype.onEnd=function(t){t===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const BAD$1=30,TYPE$1=12;var inffast=function t(e,n){let r,o,s,a,c,m,en,tn,sn,un,cn,gn,mn,yn,wn,kn,An,$n,Mn,En,Tn,Pn,zn,Nn;const Kn=e.state;r=e.next_in,zn=e.input,o=r+(e.avail_in-5),s=e.next_out,Nn=e.output,a=s-(n-e.avail_out),c=s+(e.avail_out-257),m=Kn.dmax,en=Kn.wsize,tn=Kn.whave,sn=Kn.wnext,un=Kn.window,cn=Kn.hold,gn=Kn.bits,mn=Kn.lencode,yn=Kn.distcode,wn=(1<<Kn.lenbits)-1,kn=(1<<Kn.distbits)-1;e:do{gn<15&&(cn+=zn[r++]<<gn,gn+=8,cn+=zn[r++]<<gn,gn+=8),An=mn[cn&wn];t:for(;;){if($n=An>>>24,cn>>>=$n,gn-=$n,$n=An>>>16&255,$n===0)Nn[s++]=An&65535;else if($n&16){Mn=An&65535,$n&=15,$n&&(gn<$n&&(cn+=zn[r++]<<gn,gn+=8),Mn+=cn&(1<<$n)-1,cn>>>=$n,gn-=$n),gn<15&&(cn+=zn[r++]<<gn,gn+=8,cn+=zn[r++]<<gn,gn+=8),An=yn[cn&kn];n:for(;;){if($n=An>>>24,cn>>>=$n,gn-=$n,$n=An>>>16&255,$n&16){if(En=An&65535,$n&=15,gn<$n&&(cn+=zn[r++]<<gn,gn+=8,gn<$n&&(cn+=zn[r++]<<gn,gn+=8)),En+=cn&(1<<$n)-1,En>m){e.msg="invalid distance too far back",Kn.mode=BAD$1;break e}if(cn>>>=$n,gn-=$n,$n=s-a,En>$n){if($n=En-$n,$n>tn&&Kn.sane){e.msg="invalid distance too far back",Kn.mode=BAD$1;break e}if(Tn=0,Pn=un,sn===0){if(Tn+=en-$n,$n<Mn){Mn-=$n;do Nn[s++]=un[Tn++];while(--$n);Tn=s-En,Pn=Nn}}else if(sn<$n){if(Tn+=en+sn-$n,$n-=sn,$n<Mn){Mn-=$n;do Nn[s++]=un[Tn++];while(--$n);if(Tn=0,sn<Mn){$n=sn,Mn-=$n;do Nn[s++]=un[Tn++];while(--$n);Tn=s-En,Pn=Nn}}}else if(Tn+=sn-$n,$n<Mn){Mn-=$n;do Nn[s++]=un[Tn++];while(--$n);Tn=s-En,Pn=Nn}for(;Mn>2;)Nn[s++]=Pn[Tn++],Nn[s++]=Pn[Tn++],Nn[s++]=Pn[Tn++],Mn-=3;Mn&&(Nn[s++]=Pn[Tn++],Mn>1&&(Nn[s++]=Pn[Tn++]))}else{Tn=s-En;do Nn[s++]=Nn[Tn++],Nn[s++]=Nn[Tn++],Nn[s++]=Nn[Tn++],Mn-=3;while(Mn>2);Mn&&(Nn[s++]=Nn[Tn++],Mn>1&&(Nn[s++]=Nn[Tn++]))}}else if(($n&64)===0){An=yn[(An&65535)+(cn&(1<<$n)-1)];continue n}else{e.msg="invalid distance code",Kn.mode=BAD$1;break e}break}}else if(($n&64)===0){An=mn[(An&65535)+(cn&(1<<$n)-1)];continue t}else if($n&32){Kn.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",Kn.mode=BAD$1;break e}break}}while(r<o&&s<c);Mn=gn>>3,r-=Mn,gn-=Mn<<3,cn&=(1<<gn)-1,e.next_in=r,e.next_out=s,e.avail_in=r<o?5+(o-r):5-(r-o),e.avail_out=s<c?257+(c-s):257-(s-c),Kn.hold=cn,Kn.bits=gn};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(t,e,n,r,o,s,a,c)=>{const m=c.bits;let en=0,tn=0,sn=0,un=0,cn=0,gn=0,mn=0,yn=0,wn=0,kn=0,An,$n,Mn,En,Tn,Pn=null,zn=0,Nn;const Kn=new Uint16Array(MAXBITS+1),_r=new Uint16Array(MAXBITS+1);let pn=null,on=0,ln,vn,xn;for(en=0;en<=MAXBITS;en++)Kn[en]=0;for(tn=0;tn<r;tn++)Kn[e[n+tn]]++;for(cn=m,un=MAXBITS;un>=1&&Kn[un]===0;un--);if(cn>un&&(cn=un),un===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,c.bits=1,0;for(sn=1;sn<un&&Kn[sn]===0;sn++);for(cn<sn&&(cn=sn),yn=1,en=1;en<=MAXBITS;en++)if(yn<<=1,yn-=Kn[en],yn<0)return-1;if(yn>0&&(t===CODES$1||un!==1))return-1;for(_r[1]=0,en=1;en<MAXBITS;en++)_r[en+1]=_r[en]+Kn[en];for(tn=0;tn<r;tn++)e[n+tn]!==0&&(a[_r[e[n+tn]]++]=tn);if(t===CODES$1?(Pn=pn=a,Nn=19):t===LENS$1?(Pn=lbase,zn-=257,pn=lext,on-=257,Nn=256):(Pn=dbase,pn=dext,Nn=-1),kn=0,tn=0,en=sn,Tn=s,gn=cn,mn=0,Mn=-1,wn=1<<cn,En=wn-1,t===LENS$1&&wn>ENOUGH_LENS$1||t===DISTS$1&&wn>ENOUGH_DISTS$1)return 1;for(;;){ln=en-mn,a[tn]<Nn?(vn=0,xn=a[tn]):a[tn]>Nn?(vn=pn[on+a[tn]],xn=Pn[zn+a[tn]]):(vn=32+64,xn=0),An=1<<en-mn,$n=1<<gn,sn=$n;do $n-=An,o[Tn+(kn>>mn)+$n]=ln<<24|vn<<16|xn|0;while($n!==0);for(An=1<<en-1;kn&An;)An>>=1;if(An!==0?(kn&=An-1,kn+=An):kn=0,tn++,--Kn[en]===0){if(en===un)break;en=e[n+a[tn]]}if(en>cn&&(kn&En)!==Mn){for(mn===0&&(mn=cn),Tn+=sn,gn=en-mn,yn=1<<gn;gn+mn<un&&(yn-=Kn[gn+mn],!(yn<=0));)gn++,yn<<=1;if(wn+=1<<gn,t===LENS$1&&wn>ENOUGH_LENS$1||t===DISTS$1&&wn>ENOUGH_DISTS$1)return 1;Mn=kn&En,o[Mn]=cn<<24|gn<<16|Tn-s|0}}return kn!==0&&(o[Tn+kn]=en-mn<<24|64<<16|0),c.bits=cn,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateResetKeep=t=>{if(!t||!t.state)return Z_STREAM_ERROR$1;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=t=>{if(!t||!t.state)return Z_STREAM_ERROR$1;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(t)},inflateReset2=(t,e)=>{let n;if(!t||!t.state)return Z_STREAM_ERROR$1;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,inflateReset(t))},inflateInit2=(t,e)=>{if(!t)return Z_STREAM_ERROR$1;const n=new InflateState;t.state=n,n.window=null;const r=inflateReset2(t,e);return r!==Z_OK$1&&(t.state=null),r},inflateInit=t=>inflateInit2(t,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=t=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(inftrees(LENS,t.lens,0,288,lenfix,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;inftrees(DISTS,t.lens,0,32,distfix,0,t.work,{bits:5}),virgin=!1}t.lencode=lenfix,t.lenbits=9,t.distcode=distfix,t.distbits=5},updatewindow=(t,e,n,r)=>{let o;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>r&&(o=r),s.window.set(e.subarray(n-r,n-r+o),s.wnext),r-=o,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0},inflate$2=(t,e)=>{let n,r,o,s,a,c,m,en,tn,sn,un,cn,gn,mn,yn=0,wn,kn,An,$n,Mn,En,Tn,Pn;const zn=new Uint8Array(4);let Nn,Kn;const _r=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Z_STREAM_ERROR$1;n=t.state,n.mode===TYPE&&(n.mode=TYPEDO),a=t.next_out,o=t.output,m=t.avail_out,s=t.next_in,r=t.input,c=t.avail_in,en=n.hold,tn=n.bits,sn=c,un=m,Pn=Z_OK$1;e:for(;;)switch(n.mode){case HEAD:if(n.wrap===0){n.mode=TYPEDO;break}for(;tn<16;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if(n.wrap&2&&en===35615){n.check=0,zn[0]=en&255,zn[1]=en>>>8&255,n.check=crc32_1(n.check,zn,2,0),en=0,tn=0,n.mode=FLAGS;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((en&255)<<8)+(en>>8))%31){t.msg="incorrect header check",n.mode=BAD;break}if((en&15)!==Z_DEFLATED){t.msg="unknown compression method",n.mode=BAD;break}if(en>>>=4,tn-=4,Tn=(en&15)+8,n.wbits===0)n.wbits=Tn;else if(Tn>n.wbits){t.msg="invalid window size",n.mode=BAD;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=en&512?DICTID:TYPE,en=0,tn=0;break;case FLAGS:for(;tn<16;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if(n.flags=en,(n.flags&255)!==Z_DEFLATED){t.msg="unknown compression method",n.mode=BAD;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=BAD;break}n.head&&(n.head.text=en>>8&1),n.flags&512&&(zn[0]=en&255,zn[1]=en>>>8&255,n.check=crc32_1(n.check,zn,2,0)),en=0,tn=0,n.mode=TIME;case TIME:for(;tn<32;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}n.head&&(n.head.time=en),n.flags&512&&(zn[0]=en&255,zn[1]=en>>>8&255,zn[2]=en>>>16&255,zn[3]=en>>>24&255,n.check=crc32_1(n.check,zn,4,0)),en=0,tn=0,n.mode=OS;case OS:for(;tn<16;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}n.head&&(n.head.xflags=en&255,n.head.os=en>>8),n.flags&512&&(zn[0]=en&255,zn[1]=en>>>8&255,n.check=crc32_1(n.check,zn,2,0)),en=0,tn=0,n.mode=EXLEN;case EXLEN:if(n.flags&1024){for(;tn<16;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}n.length=en,n.head&&(n.head.extra_len=en),n.flags&512&&(zn[0]=en&255,zn[1]=en>>>8&255,n.check=crc32_1(n.check,zn,2,0)),en=0,tn=0}else n.head&&(n.head.extra=null);n.mode=EXTRA;case EXTRA:if(n.flags&1024&&(cn=n.length,cn>c&&(cn=c),cn&&(n.head&&(Tn=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+cn),Tn)),n.flags&512&&(n.check=crc32_1(n.check,r,cn,s)),c-=cn,s+=cn,n.length-=cn),n.length))break e;n.length=0,n.mode=NAME;case NAME:if(n.flags&2048){if(c===0)break e;cn=0;do Tn=r[s+cn++],n.head&&Tn&&n.length<65536&&(n.head.name+=String.fromCharCode(Tn));while(Tn&&cn<c);if(n.flags&512&&(n.check=crc32_1(n.check,r,cn,s)),c-=cn,s+=cn,Tn)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=COMMENT;case COMMENT:if(n.flags&4096){if(c===0)break e;cn=0;do Tn=r[s+cn++],n.head&&Tn&&n.length<65536&&(n.head.comment+=String.fromCharCode(Tn));while(Tn&&cn<c);if(n.flags&512&&(n.check=crc32_1(n.check,r,cn,s)),c-=cn,s+=cn,Tn)break e}else n.head&&(n.head.comment=null);n.mode=HCRC;case HCRC:if(n.flags&512){for(;tn<16;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if(en!==(n.check&65535)){t.msg="header crc mismatch",n.mode=BAD;break}en=0,tn=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=TYPE;break;case DICTID:for(;tn<32;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}t.adler=n.check=zswap32(en),en=0,tn=0,n.mode=DICT;case DICT:if(n.havedict===0)return t.next_out=a,t.avail_out=m,t.next_in=s,t.avail_in=c,n.hold=en,n.bits=tn,Z_NEED_DICT$1;t.adler=n.check=1,n.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(n.last){en>>>=tn&7,tn-=tn&7,n.mode=CHECK;break}for(;tn<3;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}switch(n.last=en&1,en>>>=1,tn-=1,en&3){case 0:n.mode=STORED;break;case 1:if(fixedtables(n),n.mode=LEN_,e===Z_TREES){en>>>=2,tn-=2;break e}break;case 2:n.mode=TABLE;break;case 3:t.msg="invalid block type",n.mode=BAD}en>>>=2,tn-=2;break;case STORED:for(en>>>=tn&7,tn-=tn&7;tn<32;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if((en&65535)!==(en>>>16^65535)){t.msg="invalid stored block lengths",n.mode=BAD;break}if(n.length=en&65535,en=0,tn=0,n.mode=COPY_,e===Z_TREES)break e;case COPY_:n.mode=COPY;case COPY:if(cn=n.length,cn){if(cn>c&&(cn=c),cn>m&&(cn=m),cn===0)break e;o.set(r.subarray(s,s+cn),a),c-=cn,s+=cn,m-=cn,a+=cn,n.length-=cn;break}n.mode=TYPE;break;case TABLE:for(;tn<14;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if(n.nlen=(en&31)+257,en>>>=5,tn-=5,n.ndist=(en&31)+1,en>>>=5,tn-=5,n.ncode=(en&15)+4,en>>>=4,tn-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=BAD;break}n.have=0,n.mode=LENLENS;case LENLENS:for(;n.have<n.ncode;){for(;tn<3;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}n.lens[_r[n.have++]]=en&7,en>>>=3,tn-=3}for(;n.have<19;)n.lens[_r[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Nn={bits:n.lenbits},Pn=inftrees(CODES,n.lens,0,19,n.lencode,0,n.work,Nn),n.lenbits=Nn.bits,Pn){t.msg="invalid code lengths set",n.mode=BAD;break}n.have=0,n.mode=CODELENS;case CODELENS:for(;n.have<n.nlen+n.ndist;){for(;yn=n.lencode[en&(1<<n.lenbits)-1],wn=yn>>>24,kn=yn>>>16&255,An=yn&65535,!(wn<=tn);){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if(An<16)en>>>=wn,tn-=wn,n.lens[n.have++]=An;else{if(An===16){for(Kn=wn+2;tn<Kn;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if(en>>>=wn,tn-=wn,n.have===0){t.msg="invalid bit length repeat",n.mode=BAD;break}Tn=n.lens[n.have-1],cn=3+(en&3),en>>>=2,tn-=2}else if(An===17){for(Kn=wn+3;tn<Kn;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}en>>>=wn,tn-=wn,Tn=0,cn=3+(en&7),en>>>=3,tn-=3}else{for(Kn=wn+7;tn<Kn;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}en>>>=wn,tn-=wn,Tn=0,cn=11+(en&127),en>>>=7,tn-=7}if(n.have+cn>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=BAD;break}for(;cn--;)n.lens[n.have++]=Tn}}if(n.mode===BAD)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=BAD;break}if(n.lenbits=9,Nn={bits:n.lenbits},Pn=inftrees(LENS,n.lens,0,n.nlen,n.lencode,0,n.work,Nn),n.lenbits=Nn.bits,Pn){t.msg="invalid literal/lengths set",n.mode=BAD;break}if(n.distbits=6,n.distcode=n.distdyn,Nn={bits:n.distbits},Pn=inftrees(DISTS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Nn),n.distbits=Nn.bits,Pn){t.msg="invalid distances set",n.mode=BAD;break}if(n.mode=LEN_,e===Z_TREES)break e;case LEN_:n.mode=LEN;case LEN:if(c>=6&&m>=258){t.next_out=a,t.avail_out=m,t.next_in=s,t.avail_in=c,n.hold=en,n.bits=tn,inffast(t,un),a=t.next_out,o=t.output,m=t.avail_out,s=t.next_in,r=t.input,c=t.avail_in,en=n.hold,tn=n.bits,n.mode===TYPE&&(n.back=-1);break}for(n.back=0;yn=n.lencode[en&(1<<n.lenbits)-1],wn=yn>>>24,kn=yn>>>16&255,An=yn&65535,!(wn<=tn);){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if(kn&&(kn&240)===0){for($n=wn,Mn=kn,En=An;yn=n.lencode[En+((en&(1<<$n+Mn)-1)>>$n)],wn=yn>>>24,kn=yn>>>16&255,An=yn&65535,!($n+wn<=tn);){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}en>>>=$n,tn-=$n,n.back+=$n}if(en>>>=wn,tn-=wn,n.back+=wn,n.length=An,kn===0){n.mode=LIT;break}if(kn&32){n.back=-1,n.mode=TYPE;break}if(kn&64){t.msg="invalid literal/length code",n.mode=BAD;break}n.extra=kn&15,n.mode=LENEXT;case LENEXT:if(n.extra){for(Kn=n.extra;tn<Kn;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}n.length+=en&(1<<n.extra)-1,en>>>=n.extra,tn-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DIST;case DIST:for(;yn=n.distcode[en&(1<<n.distbits)-1],wn=yn>>>24,kn=yn>>>16&255,An=yn&65535,!(wn<=tn);){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if((kn&240)===0){for($n=wn,Mn=kn,En=An;yn=n.distcode[En+((en&(1<<$n+Mn)-1)>>$n)],wn=yn>>>24,kn=yn>>>16&255,An=yn&65535,!($n+wn<=tn);){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}en>>>=$n,tn-=$n,n.back+=$n}if(en>>>=wn,tn-=wn,n.back+=wn,kn&64){t.msg="invalid distance code",n.mode=BAD;break}n.offset=An,n.extra=kn&15,n.mode=DISTEXT;case DISTEXT:if(n.extra){for(Kn=n.extra;tn<Kn;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}n.offset+=en&(1<<n.extra)-1,en>>>=n.extra,tn-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=BAD;break}n.mode=MATCH;case MATCH:if(m===0)break e;if(cn=un-m,n.offset>cn){if(cn=n.offset-cn,cn>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=BAD;break}cn>n.wnext?(cn-=n.wnext,gn=n.wsize-cn):gn=n.wnext-cn,cn>n.length&&(cn=n.length),mn=n.window}else mn=o,gn=a-n.offset,cn=n.length;cn>m&&(cn=m),m-=cn,n.length-=cn;do o[a++]=mn[gn++];while(--cn);n.length===0&&(n.mode=LEN);break;case LIT:if(m===0)break e;o[a++]=n.length,m--,n.mode=LEN;break;case CHECK:if(n.wrap){for(;tn<32;){if(c===0)break e;c--,en|=r[s++]<<tn,tn+=8}if(un-=m,t.total_out+=un,n.total+=un,un&&(t.adler=n.check=n.flags?crc32_1(n.check,o,un,a-un):adler32_1(n.check,o,un,a-un)),un=m,(n.flags?en:zswap32(en))!==n.check){t.msg="incorrect data check",n.mode=BAD;break}en=0,tn=0}n.mode=LENGTH;case LENGTH:if(n.wrap&&n.flags){for(;tn<32;){if(c===0)break e;c--,en+=r[s++]<<tn,tn+=8}if(en!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=BAD;break}en=0,tn=0}n.mode=DONE;case DONE:Pn=Z_STREAM_END$1;break e;case BAD:Pn=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return t.next_out=a,t.avail_out=m,t.next_in=s,t.avail_in=c,n.hold=en,n.bits=tn,(n.wsize||un!==t.avail_out&&n.mode<BAD&&(n.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(t,t.output,t.next_out,un-t.avail_out),sn-=t.avail_in,un-=t.avail_out,t.total_in+=sn,t.total_out+=un,n.total+=un,n.wrap&&un&&(t.adler=n.check=n.flags?crc32_1(n.check,o,un,t.next_out-un):adler32_1(n.check,o,un,t.next_out-un)),t.data_type=n.bits+(n.last?64:0)+(n.mode===TYPE?128:0)+(n.mode===LEN_||n.mode===COPY_?256:0),(sn===0&&un===0||e===Z_FINISH$1)&&Pn===Z_OK$1&&(Pn=Z_BUF_ERROR),Pn},inflateEnd=t=>{if(!t||!t.state)return Z_STREAM_ERROR$1;let e=t.state;return e.window&&(e.window=null),t.state=null,Z_OK$1},inflateGetHeader=(t,e)=>{if(!t||!t.state)return Z_STREAM_ERROR$1;const n=t.state;return(n.wrap&2)===0?Z_STREAM_ERROR$1:(n.head=e,e.done=!1,Z_OK$1)},inflateSetDictionary=(t,e)=>{const n=e.length;let r,o,s;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==DICT)?Z_STREAM_ERROR$1:r.mode===DICT&&(o=1,o=adler32_1(o,e,n,0),o!==r.check)?Z_DATA_ERROR$1:(s=updatewindow(t,e,n,n),s?(r.mode=MEM,Z_MEM_ERROR$1):(r.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(t){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let n=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(n!==Z_OK)throw new Error(messages[n]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString$2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),n!==Z_OK)))throw new Error(messages[n])}Inflate$1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let s,a,c;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=inflate_1$2.inflate(n,a),s===Z_NEED_DICT&&o&&(s=inflate_1$2.inflateSetDictionary(n,o),s===Z_OK?s=inflate_1$2.inflate(n,a):s===Z_DATA_ERROR&&(s=Z_NEED_DICT));n.avail_in>0&&s===Z_STREAM_END&&n.state.wrap>0&&t[n.next_in]!==0;)inflate_1$2.inflateReset(n),s=inflate_1$2.inflate(n,a);switch(s){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(s),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||s===Z_STREAM_END))if(this.options.to==="string"){let m=strings.utf8border(n.output,n.next_out),en=n.next_out-m,tn=strings.buf2string(n.output,m);n.next_out=en,n.avail_out=r-en,en&&n.output.set(n.output.subarray(m,m+en),0),this.onData(tn)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Z_OK&&c===0)){if(s===Z_STREAM_END)return s=inflate_1$2.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(t){this.chunks.push(t)};Inflate$1.prototype.onEnd=function(t){t===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function inflate$1(t,e){const n=new Inflate$1(e);if(n.push(t),n.err)throw n.msg||messages[n.err];return n.result}function inflateRaw$1(t,e){return e=e||{},e.raw=!0,inflate$1(t,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$1=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$1};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate,eventemitter3Exports=requireEventemitter3(),g=Object.freeze({__proto__:null,encode:function(t){return t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"0x")},decode:function(t){t.indexOf("0x")===0&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return e===null?buffer$2.Buffer.from([]):buffer$2.Buffer.from(e.map(n=>parseInt(n,16)))}});function w(t){return new TextDecoder("utf-8").decode(t)}function v(t){return new TextEncoder().encode(t)}var b=Object.freeze({__proto__:null,decode:w,encode:v});function A(t){return bs58.encode(t)}var _=Object.freeze({__proto__:null,encode:A,decode:function(t){return bs58.decode(t)}});function E(t){return buffer$2.Buffer.from(toByteArray_1(t))}var S=Object.freeze({__proto__:null,encode:function(t){return fromByteArray_1(t)},decode:E}),I=Object.freeze({__proto__:null,hex:g,utf8:b,bs58:_,base64:S});function k(t){const e=new Map;return t.errors&&t.errors.forEach(n=>{var r;let o=(r=n.msg)!==null&&r!==void 0?r:n.name;e.set(n.code,o)}),e}function x(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach(o=>{n[o.name]=e[r],r+=1}),n}function M(t,e={}){t.forEach(n=>{if("accounts"in n)M(n.accounts,e[n.name]);else if(e[n.name]===void 0)throw new Error(`Invalid arguments: ${n.name} not provided.`)})}function P(t){return t instanceof PublicKey?t:new PublicKey(t)}class T extends TypeError{constructor(e,n){let r;const{message:o,...s}=e,{path:a}=e;super(a.length===0?o:"At path: "+a.join(".")+" -- "+o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...n()]}}}function C(t){return typeof t=="object"&&t!=null}function L(t){return typeof t=="string"?JSON.stringify(t):""+t}function O(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:s}=e,{type:a}=n,{refinement:c,message:m="Expected a value of type `"+a+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+L(r)+"`"}=t;return{value:r,type:a,refinement:c,key:o[o.length-1],path:o,branch:s,...t,message:m}}function*B(t,e,n,r){var o;C(o=t)&&typeof o[Symbol.iterator]=="function"||(t=[t]);for(const s of t){const a=O(s,e,n,r);a&&(yield a)}}function*D(t,e,n={}){const{path:r=[],branch:o=[t],coerce:s=!1,mask:a=!1}=n,c={path:r,branch:o};if(s&&(t=e.coercer(t,c),a&&e.type!=="type"&&C(e.schema)&&C(t)&&!Array.isArray(t)))for(const en in t)e.schema[en]===void 0&&delete t[en];let m=!0;for(const en of e.validator(t,c))m=!1,yield[en,void 0];for(let[en,tn,sn]of e.entries(t,c)){const un=D(tn,sn,{path:en===void 0?r:[...r,en],branch:en===void 0?o:[...o,tn],coerce:s,mask:a});for(const cn of un)cn[0]?(m=!1,yield[cn[0],void 0]):s&&(tn=cn[1],en===void 0?t=tn:t instanceof Map?t.set(en,tn):t instanceof Set?t.add(tn):C(t)&&(t[en]=tn))}if(m)for(const en of e.refiner(t,c))m=!1,yield[en,void 0];m&&(yield[void 0,t])}class z{constructor(e){const{type:n,schema:r,validator:o,refiner:s,coercer:a=m=>m,entries:c=function*(){}}=e;this.type=n,this.schema=r,this.entries=c,this.coercer=a,this.validator=o?(m,en)=>B(o(m,en),en,this,m):()=>[],this.refiner=s?(m,en)=>B(s(m,en),en,this,m):()=>[]}assert(e){return function(n,r){const o=R(n,r);if(o[0])throw o[0]}(e,this)}create(e){return N(e,this)}is(e){return j(e,this)}mask(e){return function(n,r){const o=R(n,r,{coerce:!0,mask:!0});if(o[0])throw o[0];return o[1]}(e,this)}validate(e,n={}){return R(e,this,n)}}function N(t,e){const n=R(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function j(t,e){return!R(t,e)[0]}function R(t,e,n={}){const r=D(t,e,n),o=function(s){const{done:a,value:c}=s.next();return a?void 0:c}(r);return o[0]?[new T(o[0],function*(){for(const s of r)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function U(t,e){return new z({type:t,schema:null,validator:e})}function V(t){return new z({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+L(e)})}function $(t){const e=L(t),n=typeof t;return new z({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+L(r)})}function q(t){return new z({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function K(){return U("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+L(t))}function F(t){return new z({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function W(){return U("string",t=>typeof t=="string"||"Expected a string, but received: "+L(t))}function G(t){const e=Object.keys(t);return new z({type:"type",schema:t,*entries(n){if(C(n))for(const r of e)yield[r,n[r],t[r]]},validator:n=>C(n)||"Expected an object, but received: "+L(n)})}function H(t){const e=t.map(n=>n.type).join(" | ");return new z({type:"union",schema:null,validator(n,r){const o=[];for(const s of t){const[...a]=D(n,s,r),[c]=a;if(!c[0])return[];for(const[m]of a)m&&o.push(m)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+L(n),...o]}})}function J(){return U("unknown",()=>!0)}async function Z(t,e,n){if(e.length<=99)return await Q(t,e,n);{const r=function(o,s){return Array.apply(0,new Array(Math.ceil(o.length/s))).map((a,c)=>o.slice(c*s,(c+1)*s))}(e,99);return(await Promise.all(r.map(o=>Q(t,o,n)))).flat()}}async function Q(t,e,n){const r=n??t.commitment;return(await t.getMultipleAccountsInfo(e,r)).map((o,s)=>o===null?null:{publicKey:e[s],account:o})}async function X(t,e,n,r,o){n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),m={encoding:"base64",commitment:r??t.commitment};if(o){const sn=(Array.isArray(o)?o:s.nonProgramIds()).map(un=>un.toBase58());m.accounts={encoding:"base64",addresses:sn}}n&&(m.sigVerify=!0);const en=[c,m],tn=N(await t._rpcRequest("simulateTransaction",en),rt);if("error"in tn){let sn;if("data"in tn.error&&(sn=tn.error.data.logs,sn&&Array.isArray(sn))){const un=`
    `,cn=un+sn.join(un);console.error(tn.error.message,cn)}throw new SendTransactionError("failed to simulate transaction: "+tn.error.message,sn)}return tn.result}function Y(t){return function(e,n,r){return new z({...e,coercer:(o,s)=>j(o,n)?e.coercer(r(o,s),s):e.coercer(o,s)})}(et(t),tt,e=>"error"in e?e:{...e,result:N(e.result,t)})}const tt=et(J());function et(t){return H([G({jsonrpc:$("2.0"),id:W(),result:t}),G({jsonrpc:$("2.0"),id:W(),error:G({code:J(),message:W(),data:F(U("any",()=>!0))})})])}const rt=(nt=G({err:q(H([G({}),W()])),logs:q(V(W())),accounts:F(q(V(q(G({executable:U("boolean",t=>typeof t=="boolean"),owner:W(),lamports:K(),data:V(W()),rentEpoch:F(K())}))))),unitsConsumed:F(K())}),Y(G({context:G({slot:K()}),value:nt})));var nt,it=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){t=P(t),r||(r=dt());const o=new Transaction;if(o.add(new TransactionInstruction({programId:t,keys:e??[],data:n})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(o,[])},getMultipleAccounts:Z,simulateTransaction:X});class ot{constructor(e,n,r){this.connection=e,this.wallet=n,this.opts=r}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,n){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,n,r){var o;r===void 0&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(n??[]).forEach(a=>{e.partialSign(a)});const s=e.serialize();try{return await at(this.connection,s,r)}catch(a){if(a instanceof ct){const c=await this.connection.getTransaction(A(e.signature),{commitment:"confirmed"});if(c){const m=(o=c.meta)===null||o===void 0?void 0:o.logMessages;throw m?new SendTransactionError(a.message,m):a}throw a}throw a}}async sendAll(e,n){n===void 0&&(n=this.opts);const r=await this.connection.getRecentBlockhash(n.preflightCommitment);let o=e.map(c=>{var m;let en=c.tx,tn=(m=c.signers)!==null&&m!==void 0?m:[];return en.feePayer=this.wallet.publicKey,en.recentBlockhash=r.blockhash,tn.forEach(sn=>{en.partialSign(sn)}),en});const s=await this.wallet.signAllTransactions(o),a=[];for(let c=0;c<o.length;c+=1){const m=s[c].serialize();a.push(await at(this.connection,m,n))}return a}async simulate(e,n,r,o){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const s=await X(this.connection,e,n,r,o);if(s.value.err)throw new st(s.value);return s.value}}class st extends Error{constructor(e,n){super(n),this.simulationResponse=e}}async function at(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},o=await t.sendRawTransaction(e,r),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new ct(`Raw transaction ${o} failed (${JSON.stringify(s)})`);return o}class ct extends Error{constructor(e){super(e)}}function ut(t){lt=t}function dt(){return lt===null?ot.local():lt}let lt=null;const ht=new Set(["anchor-deprecated-state","debug-logs"]),ft=new Map;function pt(t){return ft.get(t)!==void 0}var mt=Object.freeze({__proto__:null,set:function(t){if(!ht.has(t))throw new Error("Invalid feature");ft.set(t,!0)},isSet:pt});class yt extends Error{constructor(e){super(e),this.name="IdlError"}}class gt{constructor(e){this.stack=e}static parse(e){var n;const r=/^Program (\w*) invoke/,o=/^Program \w* success/,s=[];for(let a=0;a<e.length;a++){if(o.exec(e[a])){s.pop();continue}const c=(n=r.exec(e[a]))===null||n===void 0?void 0:n[1];c&&s.push(new PublicKey(c))}return new gt(s)}}class wt extends Error{constructor(e,n,r,o,s,a){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=o,this.error={errorCode:e,errorMessage:n,comparedValues:a,origin:s},this._programErrorStack=gt.parse(o)}static parse(e){if(!e)return null;const n=e.findIndex(en=>en.startsWith("Program log: AnchorError"));if(n===-1)return null;const r=e[n],o=[r];let s;if(n+1<e.length){if(e[n+1]==="Program log: Left:"){const en=/^Program log: (.*)$/,tn=en.exec(e[n+2])[1],sn=en.exec(e[n+4])[1];s=[new PublicKey(tn),new PublicKey(sn)],o.push(...e.slice(n+1,n+5))}else if(e[n+1].startsWith("Program log: Left:")){const en=/^Program log: (Left|Right): (.*)$/,tn=en.exec(e[n+1])[2],sn=en.exec(e[n+2])[2];o.push(...e.slice(n+1,n+3)),s=[tn,sn]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),m=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(a){const[en,tn,sn]=a.slice(1,4),un={code:en,number:parseInt(tn)};return new wt(un,sn,o,e,void 0,s)}if(c){const[en,tn,sn,un,cn]=c.slice(1,6),gn={code:sn,number:parseInt(un)},mn={file:en,line:parseInt(tn)};return new wt(gn,cn,o,e,mn,s)}if(m){const[en,tn,sn,un]=m.slice(1,5),cn=en,gn={code:tn,number:parseInt(sn)};return new wt(gn,un,o,e,cn,s)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class vt extends Error{constructor(e,n,r){super(),this.code=e,this.msg=n,this.logs=r,r&&(this._programErrorStack=gt.parse(r))}static parse(e,n){const r=e.toString();let o,s;if(r.includes("custom program error:")){let c=r.split("custom program error: ");if(c.length!==2)return null;o=c[1]}else{const c=r.match(/"Custom":([0-9]+)}/g);if(!c||c.length>1)return null;o=c[0].match(/([0-9]+)/g)[0]}try{s=parseInt(o)}catch{return null}let a=n.get(s);return a!==void 0?new vt(s,a,e.logs):(a=_t.get(s),a!==void 0?new vt(s,a,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function bt(t,e){pt("debug-logs")&&console.log("Translating error:",t);const n=wt.parse(t.logs);if(n)return n;const r=vt.parse(t,e);if(r)return r;if(t.logs){const o={get:function(s,a){return a==="programErrorStack"?s.programErrorStack.stack:a==="program"?s.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=gt.parse(t.logs),new Proxy(t,o)}return t}const At={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},_t=new Map([[At.InstructionMissing,"8 byte instruction identifier not provided"],[At.InstructionFallbackNotFound,"Fallback functions are not supported"],[At.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[At.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[At.IdlInstructionStub,"The program was compiled without idl instructions"],[At.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[At.ConstraintMut,"A mut constraint was violated"],[At.ConstraintHasOne,"A has_one constraint was violated"],[At.ConstraintSigner,"A signer constraint was violated"],[At.ConstraintRaw,"A raw constraint was violated"],[At.ConstraintOwner,"An owner constraint was violated"],[At.ConstraintRentExempt,"A rent exemption constraint was violated"],[At.ConstraintSeeds,"A seeds constraint was violated"],[At.ConstraintExecutable,"An executable constraint was violated"],[At.ConstraintState,"A state constraint was violated"],[At.ConstraintAssociated,"An associated constraint was violated"],[At.ConstraintAssociatedInit,"An associated init constraint was violated"],[At.ConstraintClose,"A close constraint was violated"],[At.ConstraintAddress,"An address constraint was violated"],[At.ConstraintZero,"Expected zero account discriminant"],[At.ConstraintTokenMint,"A token mint constraint was violated"],[At.ConstraintTokenOwner,"A token owner constraint was violated"],[At.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[At.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[At.ConstraintMintDecimals,"A mint decimals constraint was violated"],[At.ConstraintSpace,"A space constraint was violated"],[At.RequireViolated,"A require expression was violated"],[At.RequireEqViolated,"A require_eq expression was violated"],[At.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[At.RequireNeqViolated,"A require_neq expression was violated"],[At.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[At.RequireGtViolated,"A require_gt expression was violated"],[At.RequireGteViolated,"A require_gte expression was violated"],[At.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[At.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[At.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[At.AccountDidNotDeserialize,"Failed to deserialize the account"],[At.AccountDidNotSerialize,"Failed to serialize the account"],[At.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[At.AccountNotMutable,"The given account is not mutable"],[At.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[At.InvalidProgramId,"Program ID was not as expected"],[At.InvalidProgramExecutable,"Program account is not executable"],[At.AccountNotSigner,"The given account did not sign"],[At.AccountNotSystemOwned,"The given account is not owned by the system program"],[At.AccountNotInitialized,"The program expected this account to be already initialized"],[At.AccountNotProgramData,"The given account is not a program data account"],[At.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[At.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[At.StateInvalidAddress,"The given state account does not have the correct address"],[At.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[At.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Et=function(){return Et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Et.apply(this,arguments)};function St(t){return t.toLowerCase()}var It=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],kt=/[^A-Z0-9]+/gi;function xt(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,o){return r.replace(o,n)},t)}function Mt(t,e){return e===void 0&&(e={}),function(n,r){r===void 0&&(r={});for(var o=r.splitRegexp,s=o===void 0?It:o,a=r.stripRegexp,c=a===void 0?kt:a,m=r.transform,en=m===void 0?St:m,tn=r.delimiter,sn=tn===void 0?" ":tn,un=xt(xt(n,s,"$1\0$2"),c,"\0"),cn=0,gn=un.length;un.charAt(cn)==="\0";)cn++;for(;un.charAt(gn-1)==="\0";)gn--;return un.slice(cn,gn).split("\0").map(en).join(sn)}(t,Et({delimiter:"."},e))}class Pt{static fieldLayout(e,n){const r=e.name!==void 0?camelcase.exports(e.name):void 0;switch(e.type){case"bool":return lib.bool(r);case"u8":return lib.u8(r);case"i8":return lib.i8(r);case"u16":return lib.u16(r);case"i16":return lib.i16(r);case"u32":return lib.u32(r);case"i32":return lib.i32(r);case"f32":return lib.f32(r);case"u64":return lib.u64(r);case"i64":return lib.i64(r);case"f64":return lib.f64(r);case"u128":return lib.u128(r);case"i128":return lib.i128(r);case"bytes":return lib.vecU8(r);case"string":return lib.str(r);case"publicKey":return lib.publicKey(r);default:if("vec"in e.type)return lib.vec(Pt.fieldLayout({name:void 0,type:e.type.vec},n),r);if("option"in e.type)return lib.option(Pt.fieldLayout({name:void 0,type:e.type.option},n),r);if("defined"in e.type){const o=e.type.defined;if(n===void 0)throw new yt("User defined types not provided");const s=n.filter(a=>a.name===o);if(s.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Pt.typeDefLayout(s[0],n,r)}if("array"in e.type){let o=e.type.array[0],s=e.type.array[1],a=Pt.fieldLayout({name:void 0,type:o},n);return lib.array(a,s,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,n=[],r){if(e.type.kind==="struct"){const o=e.type.fields.map(s=>Pt.fieldLayout(s,n));return lib.struct(o,r)}if(e.type.kind==="enum"){let o=e.type.variants.map(s=>{const a=camelcase.exports(s.name);if(s.fields===void 0)return lib.struct([],a);const c=s.fields.map(m=>{if(!m.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Pt.fieldLayout(m,n)});return lib.struct(c,a)});return r!==void 0?lib.rustEnum(o).replicate(r):lib.rustEnum(o,r)}throw new Error(`Unknown type kint: ${e}`)}}class Tt{constructor(e){this.idl=e,this.ixLayout=Tt.parseIxLayout(e);const n=new Map;e.instructions.forEach(r=>{const o=Lt("global",r.name);n.set(bs58.encode(o),{layout:this.ixLayout.get(r.name),name:r.name})}),e.state&&e.state.methods.map(r=>{const o=Lt("state",r.name);n.set(bs58.encode(o),{layout:this.ixLayout.get(r.name),name:r.name})}),this.sighashLayouts=n}encode(e,n){return this._encode("global",e,n)}encodeState(e,n){return this._encode("state",e,n)}_encode(e,n,r){const o=buffer$2.Buffer.alloc(1e3),s=camelcase.exports(n),a=this.ixLayout.get(s);if(!a)throw new Error(`Unknown method: ${s}`);const c=a.encode(r,o),m=o.slice(0,c);return buffer$2.Buffer.concat([Lt(e,n),m])}static parseIxLayout(e){const n=(e.state?e.state.methods:[]).map(r=>{let o=r.args.map(a=>{var c,m;return Pt.fieldLayout(a,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(m=e.types)!==null&&m!==void 0?m:[]]))});const s=camelcase.exports(r.name);return[s,lib.struct(o,s)]}).concat(e.instructions.map(r=>{let o=r.args.map(a=>{var c,m;return Pt.fieldLayout(a,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(m=e.types)!==null&&m!==void 0?m:[]]))});const s=camelcase.exports(r.name);return[s,lib.struct(o,s)]}));return new Map(n)}decode(e,n="hex"){typeof e=="string"&&(e=n==="hex"?buffer$2.Buffer.from(e,"hex"):bs58.decode(e));let r=bs58.encode(e.slice(0,8)),o=e.slice(8);const s=this.sighashLayouts.get(r);return s?{data:s.layout.decode(o),name:s.name}:null}format(e,n){return Ct.format(e,n,this.idl)}}class Ct{static format(e,n,r){const o=r.instructions.filter(c=>e.name===c.name)[0];if(o===void 0)return console.error("Invalid instruction given"),null;const s=o.args.map(c=>({name:c.name,type:Ct.formatIdlType(c.type),data:Ct.formatIdlData(c,e.data[c.name],r.types)})),a=Ct.flattenIdlAccounts(o.accounts);return{args:s,accounts:n.map((c,m)=>m<a.length?{name:a[m].name,...c}:{name:void 0,...c})}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,n,r){if(typeof e.type=="string")return n.toString();if(e.type.hasOwnProperty("vec"))return"["+n.map(o=>this.formatIdlData({name:"",type:e.type.vec},o)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return n===null?"null":this.formatIdlData({name:"",type:e.type.option},n,r);if(e.type.hasOwnProperty("defined")){if(r===void 0)throw new Error("User defined types not provided");const o=r.filter(s=>s.name===e.type.defined);if(o.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Ct.formatIdlDataDefined(o[0],n,r)}return"unknown"}static formatIdlDataDefined(e,n,r){if(e.type.kind==="struct"){const o=e.type;return"{ "+Object.keys(n).map(s=>{const a=o.fields.filter(c=>c.name===s)[0];if(a===void 0)throw new Error("Unable to find type");return s+": "+Ct.formatIdlData(a,n[s],r)}).join(", ")+" }"}if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const o=e.type.variants,s=Object.keys(n)[0],a=n[s],c=Object.keys(a).map(en=>{var tn;const sn=a[en],un=(tn=o[s])===null||tn===void 0?void 0:tn.filter(cn=>cn.name===en)[0];if(un===void 0)throw new Error("Unable to find variant");return en+": "+Ct.formatIdlData(un,sn,r)}).join(", "),m=camelcase.exports(s,{pascalCase:!0});return c.length===0?m:`${m} { ${c} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,n){return e.map(r=>{const o=function(s){const a=s.replace(/([A-Z])/g," $1");return a.charAt(0).toUpperCase()+a.slice(1)}(r.name);if(r.hasOwnProperty("accounts")){const s=n?`${n} > ${o}`:o;return Ct.flattenIdlAccounts(r.accounts,s)}return{...r,name:n?`${n} > ${o}`:o}}).flat()}}function Lt(t,e){var n;let r=`${t}:${n===void 0&&(n={}),Mt(e,Et({delimiter:"_"},n))}`;return buffer$2.Buffer.from(sha256.exports.sha256.digest(r)).slice(0,8)}function Ot(t,e){if(e.type.kind==="enum"){let n=e.type.variants.map(r=>r.fields===void 0?0:r.fields.map(o=>{if(typeof o!="object"||!("name"in o))throw new Error("Tuple enum variants not yet implemented.");return Bt(t,o.type)}).reduce((o,s)=>o+s));return Math.max(...n)+1}return e.type.fields===void 0?0:e.type.fields.map(n=>Bt(t,n.type)).reduce((n,r)=>n+r,0)}function Bt(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Bt(t,e.option);if("coption"in e)return 4+Bt(t,e.coption);if("defined"in e){const o=(r=(n=t.types)===null||n===void 0?void 0:n.filter(s=>s.name===e.defined))!==null&&r!==void 0?r:[];if(o.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Ot(t,o[0])}if("array"in e){let o=e.array[0],s=e.array[1];return Bt(t,o)*s}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Dt=8;class zt{constructor(e){if(e.accounts===void 0)return void(this.accountLayouts=new Map);const n=e.accounts.map(r=>[r.name,Pt.typeDefLayout(r,e.types)]);this.accountLayouts=new Map(n),this.idl=e}async encode(e,n){const r=buffer$2.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const s=o.encode(n,r);let a=r.slice(0,s),c=zt.accountDiscriminator(e);return buffer$2.Buffer.concat([c,a])}decode(e,n){if(zt.accountDiscriminator(e).compare(n.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,n)}decodeUnchecked(e,n){const r=n.slice(8),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.decode(r)}memcmp(e,n){const r=zt.accountDiscriminator(e);return{offset:0,bytes:bs58.encode(n?buffer$2.Buffer.concat([r,n]):r)}}size(e){var n;return 8+((n=Ot(this.idl,e))!==null&&n!==void 0?n:0)}static accountDiscriminator(e){return buffer$2.Buffer.from(sha256.exports.sha256.digest(`account:${camelcase.exports(e,{pascalCase:!0})}`)).slice(0,8)}}class Nt{constructor(e){if(e.events===void 0)return void(this.layouts=new Map);const n=e.events.map(r=>{let o={name:r.name,type:{kind:"struct",fields:r.fields.map(s=>({name:s.name,type:s.type}))}};return[r.name,Pt.typeDefLayout(o,e.types)]});this.layouts=new Map(n),this.discriminators=new Map(e.events===void 0?[]:e.events.map(r=>[fromByteArray_1(jt(r.name)),r.name]))}decode(e){let n;try{n=buffer$2.Buffer.from(toByteArray_1(e))}catch{return null}const r=fromByteArray_1(n.slice(0,8)),o=this.discriminators.get(r);if(o===void 0)return null;const s=this.layouts.get(o);if(!s)throw new Error(`Unknown event: ${o}`);return{data:s.decode(n.slice(8)),name:o}}}function jt(t){return buffer$2.Buffer.from(sha256.exports.sha256.digest(`event:${t}`)).slice(0,8)}class Rt{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=Pt.typeDefLayout(e.state.struct,e.types)}async encode(e,n){const r=buffer$2.Buffer.alloc(1e3),o=this.layout.encode(n,r),s=await Ut(e),a=r.slice(0,o);return buffer$2.Buffer.concat([s,a])}decode(e){const n=e.slice(8);return this.layout.decode(n)}}async function Ut(t){let e=pt("anchor-deprecated-state")?"account":"state";return buffer$2.Buffer.from(sha256.exports.sha256.digest(`${e}:${t}`)).slice(0,8)}class Vt{constructor(e){this.instruction=new Tt(e),this.accounts=new zt(e),this.events=new Nt(e),e.state&&(this.state=new Rt(e))}}var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class Kt{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}var Ft=Kt;class Wt extends Kt{isCount(){throw new Error("ExternalLayout is abstract")}}class Gt extends Wt{constructor(e,n,r){if(!(e instanceof Kt))throw new TypeError("layout must be a Layout");if(n===void 0)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Ht||this.layout instanceof Jt}decode(e,n){return n===void 0&&(n=0),this.layout.decode(e,n+this.offset)}encode(e,n,r){return r===void 0&&(r=0),this.layout.encode(e,n,r+this.offset)}}class Ht extends Kt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class Jt extends Kt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntBE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntBE(e,r,this.span),this.span}}const Zt=Math.pow(2,32);class Qt extends Kt{constructor(e){super(8,e)}decode(e,n){n===void 0&&(n=0);const r=e.readUInt32LE(n);return function(o,s){return o*Zt+s}(e.readUInt32LE(n+4),r)}encode(e,n,r){r===void 0&&(r=0);const o=function(s){const a=Math.floor(s/Zt);return{hi32:a,lo32:s-a*Zt}}(e);return n.writeUInt32LE(o.lo32,r),n.writeUInt32LE(o.hi32,r+4),8}}class Xt extends Kt{constructor(e,n,r){if(!Array.isArray(e)||!e.reduce((s,a)=>s&&a instanceof Kt,!0))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((o,s)=>{const a=s.getSpan(e,n);return n+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,n)),n+=o.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const o=r;let s=0,a=0;for(const c of this.fields){let m=c.span;if(a=0<m?m:0,c.property!==void 0){const en=e[c.property];en!==void 0&&(a=c.encode(en,n,r),0>m&&(m=c.getSpan(n,r)))}s=r,r+=m}return s+a-o}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class Yt{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class te extends Yt{constructor(e,n){if(!(e instanceof Wt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}class ee extends Kt{constructor(e,n,r){const o=e instanceof Ht||e instanceof Jt;if(o)e=new te(new Gt(e));else if(e instanceof Wt&&e.isCount())e=new te(e);else if(!(e instanceof Yt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Kt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&o&&(s+=e.layout.span)),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=n,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return a(c)},this.configGetSourceVariant=function(c){a=c.bind(this)}}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||e.hasOwnProperty(n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,n){let r;n===void 0&&(n=0);const o=this.discriminator,s=o.decode(e,n);let a=this.registry[s];if(a===void 0){let c=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),r=this.makeDestinationObject(),r[o.property]=s,r[a.property]=this.defaultLayout.decode(e,n+c)}else r=a.decode(e,n);return r}encode(e,n,r){r===void 0&&(r=0);const o=this.getSourceVariant(e);if(o===void 0){const s=this.discriminator,a=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],n,r),c+a.encode(e[a.property],n,r+c)}return o.encode(e,n,r)}addVariant(e,n,r){const o=new re(this,e,n,r);return this.registry[e]=o,o}getVariant(e,n){let r=e;return Buffer.isBuffer(e)&&(n===void 0&&(n=0),r=this.discriminator.decode(e,n)),this.registry[r]}}class re extends Kt{constructor(e,n,r,o){if(!(e instanceof ee))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Kt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,n+r)}decode(e,n){const r=this.makeDestinationObject();if(n===void 0&&(n=0),this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r){r===void 0&&(r=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=o;if(this.layout&&(this.layout.encode(e[this.property],n,r+o),s+=this.layout.getSpan(n,r+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class ne extends Kt{constructor(e,n){if(!(e instanceof Wt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Wt||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let o=this.length;if(this.length instanceof Wt&&(o=e.length),!Buffer.isBuffer(e)||o!==e.length)throw new TypeError((s="Blob.encode",((a=this).property?s+"["+a.property+"]":s)+" requires (length "+o+") Buffer as src"));var s,a;if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,o,"hex"),this.length instanceof Wt&&this.length.encode(o,n,r),o}}var ie=t=>new Ht(1,t),oe=t=>new Qt(t),se=(t,e,n)=>new Xt(t,e,n),ae=(t,e)=>new ne(t,e);class ce{constructor(e){}encode(e,n){switch(camelcase.exports(e)){case"initializeMint":return function({decimals:r,mintAuthority:o,freezeAuthority:s}){return pe({initializeMint:{decimals:r,mintAuthority:o.toBuffer(),freezeAuthorityOption:!!s,freezeAuthority:(s||PublicKey.default).toBuffer()}})}(n);case"initializeAccount":return pe({initializeAccount:{}});case"initializeMultisig":return function({m:r}){return pe({initializeMultisig:{m:r}})}(n);case"transfer":return function({amount:r}){return pe({transfer:{amount:r}})}(n);case"approve":return function({amount:r}){return pe({approve:{amount:r}})}(n);case"revoke":return pe({revoke:{}});case"setAuthority":return function({authorityType:r,newAuthority:o}){return pe({setAuthority:{authorityType:r,newAuthority:o}})}(n);case"mintTo":return function({amount:r}){return pe({mintTo:{amount:r}})}(n);case"burn":return function({amount:r}){return pe({burn:{amount:r}})}(n);case"closeAccount":return pe({closeAccount:{}});case"freezeAccount":return pe({freezeAccount:{}});case"thawAccount":return pe({thawAccount:{}});case"transferChecked":return function({amount:r,decimals:o}){return pe({transferChecked:{amount:r,decimals:o}})}(n);case"approvedChecked":return function({amount:r,decimals:o}){return pe({approveChecked:{amount:r,decimals:o}})}(n);case"mintToChecked":return function({amount:r,decimals:o}){return pe({mintToChecked:{amount:r,decimals:o}})}(n);case"burnChecked":return function({amount:r,decimals:o}){return pe({burnChecked:{amount:r,decimals:o}})}(n);case"intializeAccount2":return function({authority:r}){return pe({initilaizeAccount2:{authority:r}})}(n);case"syncNative":return pe({syncNative:{}});case"initializeAccount3":return function({authority:r}){return pe({initializeAccount3:{authority:r}})}(n);case"initializeMultisig2":return function({m:r}){return pe({initializeMultisig2:{m:r}})}(n);case"initializeMint2":return function({decimals:r,mintAuthority:o,freezeAuthority:s}){return pe({encodeInitializeMint2:{decimals:r,mintAuthority:o,freezeAuthority:s}})}(n);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,n){throw new Error("SPL token does not have state")}}const ue=(de=ie("instruction"),new ee(de,le,he));var de,le,he;function fe(t){return ae(32,t)}function pe(t){let e=Buffer.alloc(me),n=ue.encode(t,e);return e.slice(0,n)}ue.addVariant(0,se([ie("decimals"),ae(32,"mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint"),ue.addVariant(1,se([]),"initializeAccount"),ue.addVariant(2,se([ie("m")]),"initializeMultisig"),ue.addVariant(3,se([oe("amount")]),"transfer"),ue.addVariant(4,se([oe("amount")]),"approve"),ue.addVariant(5,se([]),"revoke"),ue.addVariant(6,se([ie("authorityType"),ie("newAuthorityOption"),fe("newAuthority")]),"setAuthority"),ue.addVariant(7,se([oe("amount")]),"mintTo"),ue.addVariant(8,se([oe("amount")]),"burn"),ue.addVariant(9,se([]),"closeAccount"),ue.addVariant(10,se([]),"freezeAccount"),ue.addVariant(11,se([]),"thawAccount"),ue.addVariant(12,se([oe("amount"),ie("decimals")]),"transferChecked"),ue.addVariant(13,se([oe("amount"),ie("decimals")]),"approvedChecked"),ue.addVariant(14,se([oe("amount"),ie("decimals")]),"mintToChecked"),ue.addVariant(15,se([oe("amount"),ie("decimals")]),"burnedChecked"),ue.addVariant(16,se([fe("authority")]),"InitializeAccount2"),ue.addVariant(17,se([]),"syncNative"),ue.addVariant(18,se([fe("authority")]),"initializeAccount3"),ue.addVariant(19,se([ie("m")]),"initializeMultisig2"),ue.addVariant(20,se([ie("decimals"),fe("mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint2");const me=Math.max(...Object.values(ue.registry).map(t=>t.span));class ye{constructor(e){}encode(e,n){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function ge(t){return new be(ae(8),e=>Se.fromBuffer(e),e=>e.toBuffer(),t)}function we(t){return new be(ae(32),e=>new PublicKey(e),e=>e.toBuffer(),t)}function ve(t,e){return new Ae(t,e)}class be extends Ft{constructor(e,n,r,o){super(e.span,o),this.layout=e,this.decoder=n,this.encoder=r}decode(e,n){return this.decoder(this.layout.decode(e,n))}encode(e,n,r){return this.layout.encode(this.encoder(e),n,r)}getSpan(e,n){return this.layout.getSpan(e,n)}}class Ae extends Ft{constructor(e,n){super(-1,n),this.layout=e,this.discriminator=(r=>new Ht(4,r))()}encode(e,n,r=0){return e==null?this.layout.span+this.discriminator.encode(0,n,r):(this.discriminator.encode(1,n,r),this.layout.encode(e,n,r+4)+4)}decode(e,n=0){const r=this.discriminator.decode(e,n);if(r===0)return null;if(r===1)return this.layout.decode(e,n+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,n=0){return this.layout.getSpan(e,n+4)+4}}function _e(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function Ee(t){return t?1:0}class Se extends BN{toBuffer(){const e=super.toArray().reverse(),n=Buffer.from(e);if(n.length===8)return n;if(n.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new Se([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}class Ie{constructor(e){this.idl=e}async encode(e,n){switch(e){case"token":{const r=Buffer.alloc(165),o=xe.encode(n,r);return r.slice(0,o)}case"mint":{const r=Buffer.alloc(82),o=ke.encode(n,r);return r.slice(0,o)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,n){return this.decodeUnchecked(e,n)}decodeUnchecked(e,n){switch(e){case"token":return function(r){return xe.decode(r)}(n);case"mint":return function(r){return ke.decode(r)}(n);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,n){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var n;return(n=Ot(this.idl,e))!==null&&n!==void 0?n:0}}const ke=se([ve(we(),"mintAuthority"),ge("supply"),ie("decimals"),function(t){return new be(ie(),_e,Ee,t)}("isInitialized"),ve(we(),"freezeAuthority")]),xe=se([we("mint"),we("authority"),ge("amount"),ve(we(),"delegate"),ie("state"),ve(ge(),"isNative"),ge("delegatedAmount"),ve(we(),"closeAuthority")]);class Me{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Pe{constructor(e){this.instruction=new ce(e),this.accounts=new Ie(e),this.events=new Me(e),this.state=new ye(e)}}var Te=Object.freeze({__proto__:null,hash:function(t){return sha256.exports.sha256(t)}});function Ce(t,e,n){const r=buffer$2.Buffer.concat([t.toBuffer(),buffer$2.Buffer.from(e),n.toBuffer()]),o=sha256.exports.sha256.digest(r);return new PublicKey(buffer$2.Buffer.from(o))}function Le(t,e){let n=buffer$2.Buffer.alloc(0);t.forEach(function(s){if(s.length>32)throw new TypeError("Max seed length exceeded");n=buffer$2.Buffer.concat([n,Be(s)])}),n=buffer$2.Buffer.concat([n,e.toBuffer(),buffer$2.Buffer.from("ProgramDerivedAddress")]);let r=sha256.exports.sha256(new Uint8Array(n)),o=new BN(r,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(o)}function Oe(t,e){let n,r=255;for(;r!=0;){try{n=Le(t.concat(buffer$2.Buffer.from([r])),e)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}const Be=t=>t instanceof buffer$2.Buffer?t:t instanceof Uint8Array?buffer$2.Buffer.from(t.buffer,t.byteOffset,t.byteLength):buffer$2.Buffer.from(t);async function De(t,...e){let n=[buffer$2.Buffer.from([97,110,99,104,111,114])];e.forEach(o=>{n.push(o instanceof buffer$2.Buffer?o:P(o).toBuffer())});const[r]=await PublicKey.findProgramAddress(n,P(t));return r}var ze=Object.freeze({__proto__:null,createWithSeedSync:Ce,createProgramAddressSync:Le,findProgramAddressSync:Oe,associated:De});const Ne=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),je=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Re=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:je,associatedAddress:async function({mint:t,owner:e}){return(await PublicKey.findProgramAddress([e.toBuffer(),Ne.toBuffer(),t.toBuffer()],je))[0]}}),Ue={exports:{}};(function(t,e){var n=typeof self<"u"?self:$t,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(a){var c="URLSearchParams"in s,m="Symbol"in s&&"iterator"in Symbol,en="FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),tn="FormData"in s,sn="ArrayBuffer"in s;if(sn)var un=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],cn=ArrayBuffer.isView||function(pn){return pn&&un.indexOf(Object.prototype.toString.call(pn))>-1};function gn(pn){if(typeof pn!="string"&&(pn=String(pn)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(pn))throw new TypeError("Invalid character in header field name");return pn.toLowerCase()}function mn(pn){return typeof pn!="string"&&(pn=String(pn)),pn}function yn(pn){var on={next:function(){var ln=pn.shift();return{done:ln===void 0,value:ln}}};return m&&(on[Symbol.iterator]=function(){return on}),on}function wn(pn){this.map={},pn instanceof wn?pn.forEach(function(on,ln){this.append(ln,on)},this):Array.isArray(pn)?pn.forEach(function(on){this.append(on[0],on[1])},this):pn&&Object.getOwnPropertyNames(pn).forEach(function(on){this.append(on,pn[on])},this)}function kn(pn){if(pn.bodyUsed)return Promise.reject(new TypeError("Already read"));pn.bodyUsed=!0}function An(pn){return new Promise(function(on,ln){pn.onload=function(){on(pn.result)},pn.onerror=function(){ln(pn.error)}})}function $n(pn){var on=new FileReader,ln=An(on);return on.readAsArrayBuffer(pn),ln}function Mn(pn){if(pn.slice)return pn.slice(0);var on=new Uint8Array(pn.byteLength);return on.set(new Uint8Array(pn)),on.buffer}function En(){return this.bodyUsed=!1,this._initBody=function(pn){var on;this._bodyInit=pn,pn?typeof pn=="string"?this._bodyText=pn:en&&Blob.prototype.isPrototypeOf(pn)?this._bodyBlob=pn:tn&&FormData.prototype.isPrototypeOf(pn)?this._bodyFormData=pn:c&&URLSearchParams.prototype.isPrototypeOf(pn)?this._bodyText=pn.toString():sn&&en&&(on=pn)&&DataView.prototype.isPrototypeOf(on)?(this._bodyArrayBuffer=Mn(pn.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):sn&&(ArrayBuffer.prototype.isPrototypeOf(pn)||cn(pn))?this._bodyArrayBuffer=Mn(pn):this._bodyText=pn=Object.prototype.toString.call(pn):this._bodyText="",this.headers.get("content-type")||(typeof pn=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c&&URLSearchParams.prototype.isPrototypeOf(pn)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},en&&(this.blob=function(){var pn=kn(this);if(pn)return pn;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?kn(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then($n)}),this.text=function(){var pn=kn(this);if(pn)return pn;if(this._bodyBlob)return function(on){var ln=new FileReader,vn=An(ln);return ln.readAsText(on),vn}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(on){for(var ln=new Uint8Array(on),vn=new Array(ln.length),xn=0;xn<ln.length;xn++)vn[xn]=String.fromCharCode(ln[xn]);return vn.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},tn&&(this.formData=function(){return this.text().then(zn)}),this.json=function(){return this.text().then(JSON.parse)},this}wn.prototype.append=function(pn,on){pn=gn(pn),on=mn(on);var ln=this.map[pn];this.map[pn]=ln?ln+", "+on:on},wn.prototype.delete=function(pn){delete this.map[gn(pn)]},wn.prototype.get=function(pn){return pn=gn(pn),this.has(pn)?this.map[pn]:null},wn.prototype.has=function(pn){return this.map.hasOwnProperty(gn(pn))},wn.prototype.set=function(pn,on){this.map[gn(pn)]=mn(on)},wn.prototype.forEach=function(pn,on){for(var ln in this.map)this.map.hasOwnProperty(ln)&&pn.call(on,this.map[ln],ln,this)},wn.prototype.keys=function(){var pn=[];return this.forEach(function(on,ln){pn.push(ln)}),yn(pn)},wn.prototype.values=function(){var pn=[];return this.forEach(function(on){pn.push(on)}),yn(pn)},wn.prototype.entries=function(){var pn=[];return this.forEach(function(on,ln){pn.push([ln,on])}),yn(pn)},m&&(wn.prototype[Symbol.iterator]=wn.prototype.entries);var Tn=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Pn(pn,on){var ln,vn,xn=(on=on||{}).body;if(pn instanceof Pn){if(pn.bodyUsed)throw new TypeError("Already read");this.url=pn.url,this.credentials=pn.credentials,on.headers||(this.headers=new wn(pn.headers)),this.method=pn.method,this.mode=pn.mode,this.signal=pn.signal,xn||pn._bodyInit==null||(xn=pn._bodyInit,pn.bodyUsed=!0)}else this.url=String(pn);if(this.credentials=on.credentials||this.credentials||"same-origin",!on.headers&&this.headers||(this.headers=new wn(on.headers)),this.method=(ln=on.method||this.method||"GET",vn=ln.toUpperCase(),Tn.indexOf(vn)>-1?vn:ln),this.mode=on.mode||this.mode||null,this.signal=on.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&xn)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(xn)}function zn(pn){var on=new FormData;return pn.trim().split("&").forEach(function(ln){if(ln){var vn=ln.split("="),xn=vn.shift().replace(/\+/g," "),On=vn.join("=").replace(/\+/g," ");on.append(decodeURIComponent(xn),decodeURIComponent(On))}}),on}function Nn(pn,on){on||(on={}),this.type="default",this.status=on.status===void 0?200:on.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in on?on.statusText:"OK",this.headers=new wn(on.headers),this.url=on.url||"",this._initBody(pn)}Pn.prototype.clone=function(){return new Pn(this,{body:this._bodyInit})},En.call(Pn.prototype),En.call(Nn.prototype),Nn.prototype.clone=function(){return new Nn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new wn(this.headers),url:this.url})},Nn.error=function(){var pn=new Nn(null,{status:0,statusText:""});return pn.type="error",pn};var Kn=[301,302,303,307,308];Nn.redirect=function(pn,on){if(Kn.indexOf(on)===-1)throw new RangeError("Invalid status code");return new Nn(null,{status:on,headers:{location:pn}})},a.DOMException=s.DOMException;try{new a.DOMException}catch{a.DOMException=function(on,ln){this.message=on,this.name=ln;var vn=Error(on);this.stack=vn.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function _r(pn,on){return new Promise(function(ln,vn){var xn=new Pn(pn,on);if(xn.signal&&xn.signal.aborted)return vn(new a.DOMException("Aborted","AbortError"));var On=new XMLHttpRequest;function Hn(){On.abort()}On.onload=function(){var Zn,Rn,fn={status:On.status,statusText:On.statusText,headers:(Zn=On.getAllResponseHeaders()||"",Rn=new wn,Zn.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Hr){var Fn=Hr.split(":"),Vn=Fn.shift().trim();if(Vn){var Gn=Fn.join(":").trim();Rn.append(Vn,Gn)}}),Rn)};fn.url="responseURL"in On?On.responseURL:fn.headers.get("X-Request-URL");var Dn="response"in On?On.response:On.responseText;ln(new Nn(Dn,fn))},On.onerror=function(){vn(new TypeError("Network request failed"))},On.ontimeout=function(){vn(new TypeError("Network request failed"))},On.onabort=function(){vn(new a.DOMException("Aborted","AbortError"))},On.open(xn.method,xn.url,!0),xn.credentials==="include"?On.withCredentials=!0:xn.credentials==="omit"&&(On.withCredentials=!1),"responseType"in On&&en&&(On.responseType="blob"),xn.headers.forEach(function(Zn,Rn){On.setRequestHeader(Rn,Zn)}),xn.signal&&(xn.signal.addEventListener("abort",Hn),On.onreadystatechange=function(){On.readyState===4&&xn.signal.removeEventListener("abort",Hn)}),On.send(xn._bodyInit===void 0?null:xn._bodyInit)})}_r.polyfill=!0,s.fetch||(s.fetch=_r,s.Headers=wn,s.Request=Pn,s.Response=Nn),a.Headers=wn,a.Request=Pn,a.Response=Nn,a.fetch=_r,Object.defineProperty(a,"__esModule",{value:!0})})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(Ue,Ue.exports);var Ve=qt(Ue.exports);async function $e(t,e){const n=await t.getAccountInfo(e);if(n===null)throw new Error("program account not found");const{program:r}=Ke(n.data),o=await t.getAccountInfo(r.programdataAddress);if(o===null)throw new Error("program data account not found");const{programData:s}=Ke(o.data);return s}const qe=lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());function Ke(t){return qe.decode(t)}var Fe=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${n}`,[o,s]=await Promise.all([$e(t,e),Ve(r)]),a=(await s.json()).filter(m=>!m.aborted&&m.state==="Built"&&m.verified==="Verified");if(a.length===0)return null;const c=a[0];return o.slot.toNumber()!==c.verified_slot?null:c},fetchData:$e,decodeUpgradeableLoaderState:Ke}),We=Object.freeze({__proto__:null,sha256:Te,rpc:it,publicKey:ze,bytes:I,token:Re,features:mt,registry:Fe});const Ge=lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);function He(t,e){var n,r;let o={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${t?.name} expecting: ${(r=(n=t.args)===null||n===void 0?void 0:n.map(a=>a.name))!==null&&r!==void 0?r:[]}`);o=e.pop()}return[e,o]}class Je{static build(e,n,r){if(e.name==="_inner")throw new yt("the _inner name is reserved");const o=(...s)=>{const[a,c]=He(e,[...s]);M(e.accounts,c.accounts);const m=o.accounts(c.accounts);return c.remainingAccounts!==void 0&&m.push(...c.remainingAccounts),pt("debug-logs")&&console.log("Outgoing account metas:",m),new TransactionInstruction({keys:m,programId:r,data:n(e.name,x(e,...a))})};return o.accounts=s=>Je.accountsArray(s,e.accounts,e.name),o}static accountsArray(e,n,r){return e?n.map(o=>{if(("accounts"in o?o.accounts:void 0)!==void 0){const s=e[o.name];return Je.accountsArray(s,o.accounts,r).flat()}{const s=o;let a;try{a=P(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${r!==void 0?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:a,isWritable:s.isMut,isSigner:s.isSigner}}}).flat():[]}}class Ze{static build(e,n,r,o){return async(...s)=>{var a;const c=n(...s),[,m]=He(e,[...s]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(c,(a=m.signers)!==null&&a!==void 0?a:[],m.options)}catch(en){throw bt(en,r)}}}}class Qe{static build(e,n){return(...r)=>{var o,s,a;const[,c]=He(e,[...r]),m=new Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=c.preInstructions)===null||o===void 0||o.forEach(en=>m.add(en)),(s=c.instructions)===null||s===void 0||s.forEach(en=>m.add(en)),m.add(n(...r)),(a=c.postInstructions)===null||a===void 0||a.forEach(en=>m.add(en)),m}}}class Xe{constructor(e,n,r=dt(),o=new Vt(e)){this.provider=r,this.coder=o,this._idl=e,this._programId=n,this._address=Ye(n),this._sub=null;const[s,a,c]=(()=>{var m;let en={},tn={},sn={};return(m=e.state)===null||m===void 0||m.methods.forEach(un=>{const cn=Je.build(un,(wn,kn)=>o.instruction.encodeState(wn,kn),n);cn.accounts=wn=>function(An,$n,Mn,En){if(Mn.name==="new"){const[Tn]=Oe([],An);if($n.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:$n.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Ye(An),isWritable:!0,isSigner:!1},{pubkey:Tn,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:An,isWritable:!1,isSigner:!1}]}return M(Mn.accounts,En),[{pubkey:Ye(An),isWritable:!0,isSigner:!1}]}(n,r,un,wn).concat(Je.accountsArray(wn,un.accounts,un.name));const gn=Qe.build(un,cn),mn=Ze.build(un,gn,k(e),r),yn=camelcase.exports(un.name);en[yn]=cn,tn[yn]=gn,sn[yn]=mn}),[en,tn,sn]})();this.instruction=s,this.transaction=a,this.rpc=c}get programId(){return this._programId}async fetch(){const e=this.address(),n=await this.provider.connection.getAccountInfo(e);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await Ut(r.struct.name)).compare(n.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(n.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const n=new eventemitter3Exports,r=this.provider.connection.onAccountChange(this.address(),o=>{const s=this.coder.state.decode(o.data);n.emit("change",s)},e);return this._sub={ee:n,listener:r},n}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function Ye(t){let[e]=Oe([],t);return Ce(e,"unversioned",t)}class tr{constructor(e,n,r,o,s){this._idlAccount=n,this._programId=r,this._provider=o??dt(),this._coder=s??new Vt(e),this._size=this._coder.accounts.size(n)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,n){const r=await this.getAccountInfo(e,n);return r===null?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,n){const r=await this.fetchNullable(e,n);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,n){return(await Z(this._provider.connection,e.map(r=>P(r)),n)).map(r=>r==null?null:this._coder.accounts.decode(this._idlAccount.name,r?.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:n,account:r})=>({publicKey:n,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}))}subscribe(e,n){const r=er.get(e.toString());if(r)return r.ee;const o=new eventemitter3Exports;e=P(e);const s=this._provider.connection.onAccountChange(e,a=>{const c=this._coder.accounts.decode(this._idlAccount.name,a.data);o.emit("change",c)},n);return er.set(e.toString(),{ee:o,listener:s}),o}async unsubscribe(e){let n=er.get(e.toString());n?er&&await this._provider.connection.removeAccountChangeListener(n.listener).then(()=>{er.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,n){const r=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:n??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(n??r),programId:this._programId})}async associated(...e){const n=await this.associatedAddress(...e);return await this.fetch(n)}async associatedAddress(...e){return await De(this._programId,...e)}async getAccountInfo(e,n){return await this._provider.connection.getAccountInfo(P(e),n)}}const er=new Map,rr=13,nr=14;class ir{constructor(e,n,r){this._programId=e,this._provider=n,this._eventParser=new or(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,n){var r;let o=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(o)),this._eventCallbacks.set(o,[e,n]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,a)=>{s.err||this._eventParser.parseLogs(s.logs,c=>{const m=this._eventListeners.get(c.name);m&&m.forEach(en=>{const tn=this._eventCallbacks.get(en);if(tn){const[,sn]=tn;sn(c.data,a.slot)}})})})),o}async removeEventListener(e){const n=this._eventCallbacks.get(e);if(!n)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=n;let o=this._eventListeners.get(r);if(!o)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),o=o.filter(s=>s!==e),o.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size==0&&((void 0)(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class or{constructor(e,n){this.coder=n,this.programId=e}parseLogs(e,n){const r=new ar(e),o=new sr;let s=r.next();for(;s!==null;){let[a,c,m]=this.handleLog(o,s);a&&n(a),c&&o.push(c),m&&o.pop(),s=r.next()}}handleLog(e,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(n):[null,...this.handleSystemLog(n)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const n=e.startsWith("Program log: ")?e.slice(rr):e.slice(nr);return[this.coder.events.decode(n),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const n=e.split(":")[0];return n.match(/^Program (.*) success/g)!==null?[null,!0]:n.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:n.includes("invoke")?["cpi",!1]:[null,!1]}}class sr{constructor(){this.stack=[]}program(){return(void 0)(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){(void 0)(this.stack.length>0),this.stack.pop()}}class ar{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const cr=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function ur(){return new Pe(dr)}const dr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class lr{constructor(e,n,r,o,s,a){this._args=e,this._accounts=n,this._provider=r,this._programId=o,this._idlIx=s,this._accountStore=new hr(r,a)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const n=this._idlIx.accounts[e],r=camelcase.exports(n.name);if(n.pda&&n.pda.seeds.length>0&&!this._accounts[r])await this.autoPopulatePda(n);else if(!n.isSigner||this._accounts[r])Reflect.has(lr.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=lr.CONST_ACCOUNTS[r]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(e.pda.seeds.map(s=>this.toBuffer(s))),r=await this.parseProgramId(e),[o]=await PublicKey.findProgramAddress(n,r);this._accounts[camelcase.exports(e.name)]=o}async parseProgramId(e){var n;if(!(!((n=e.pda)===null||n===void 0)&&n.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const n=this.argValue(e);return this.toBufferValue(e.type,n)}argValue(e){const n=camelcase.exports(e.path.split(".")[0]),r=this._idlIx.args.findIndex(o=>o.name===n);if(r===-1)throw new Error(`Unable to find argument for seed: ${n}`);return this._args[r]}async toBufferAccount(e){const n=await this.accountValue(e);return this.toBufferValue(e.type,n)}async accountValue(e){const n=e.path.split("."),r=n[0],o=this._accounts[camelcase.exports(r)];if(n.length===1)return o;const s=await this._accountStore.fetchAccount(e.account,o);return this.parseAccountValue(s,n.slice(1))}parseAccountValue(e,n){let r;for(;n.length>0;)r=e[camelcase.exports(n[0])],n=n.slice(1);return r}toBufferValue(e,n){switch(e){case"u8":return Buffer.from([n]);case"u16":let r=Buffer.alloc(2);return r.writeUInt16LE(n),r;case"u32":let o=Buffer.alloc(4);return o.writeUInt32LE(n),o;case"u64":let s=Buffer.alloc(8);return s.writeBigUInt64LE(BigInt(n)),s;case"string":return Buffer.from(v(n));case"publicKey":return n.toBuffer();default:if(e.array)return Buffer.from(n);throw new Error(`Unexpected seed type: ${e}`)}}}lr.CONST_ACCOUNTS={systemProgram:SystemProgram.programId,tokenProgram:Ne,associatedTokenProgram:je,rent:SYSVAR_RENT_PUBKEY};class hr{constructor(e,n){this._provider=e,this._accounts=n,this._cache=new Map}async fetchAccount(e,n){const r=n.toString();if(!this._cache.has(r))if(e==="TokenAccount"){const o=await this._provider.connection.getAccountInfo(n);if(o===null)throw new Error(`invalid account info for ${r}`);const s=ur().accounts.decode("token",o.data);this._cache.set(r,s)}else{const o=this._accounts[camelcase.exports(e)].fetch(n);this._cache.set(r,o)}return this._cache.get(r)}}class fr{static build(e,n,r,o,s,a,c,m,en){return(...tn)=>new pr(tn,o,s,a,c,m,e,n,r,en)}}class pr{constructor(e,n,r,o,s,a,c,m,en,tn){this._args=e,this._ixFn=n,this._txFn=r,this._rpcFn=o,this._simulateFn=s,this._viewFn=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new lr(e,this._accounts,c,m,en,tn)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class mr{constructor(e,n,r,o){n=P(n),r||(r=dt()),this._idl=e,this._provider=r,this._programId=n,this._coder=o??new Vt(e),this._events=new ir(this._programId,r,this._coder);const[s,a,c,m,en,tn,sn,un]=class{static build(cn,gn,mn,yn){const wn={},kn={},An={},$n={},Mn={},En={},Tn=k(cn),Pn=cn.accounts?class{static build(Nn,Kn,_r,pn){var on;const ln={};return(on=Nn.accounts)===null||on===void 0||on.forEach(vn=>{const xn=camelcase.exports(vn.name);ln[xn]=new tr(Nn,vn,_r,pn,Kn)}),ln}}.build(cn,gn,mn,yn):{},zn=class{static build(Nn,Kn,_r,pn){if(Nn.state!==void 0)return new Xe(Nn,_r,pn,Kn)}}.build(cn,gn,mn,yn);return cn.instructions.forEach(Nn=>{const Kn=Je.build(Nn,(On,Hn)=>gn.instruction.encode(On,Hn),mn),_r=Qe.build(Nn,Kn),pn=Ze.build(Nn,_r,Tn,yn),on=class{static build(On,Hn,Zn,Rn,fn,Dn,Hr){return async(...Fn)=>{var Vn;const Gn=Hn(...Fn),[,Yn]=He(On,[...Fn]);let gr;if(Rn.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{gr=await Rn.simulate(Gn,Yn.signers,(Vn=Yn.options)===null||Vn===void 0?void 0:Vn.commitment)}catch(wr){throw bt(wr,Zn)}if(gr===void 0)throw new Error("Unable to simulate transaction");const Or=gr.logs;if(!Or)throw new Error("Simulated logs not found");const Ir=[];return Hr.events&&new or(Dn,fn).parseLogs(Or,wr=>{Ir.push(wr)}),{events:Ir,raw:Or}}}}.build(Nn,_r,Tn,yn,gn,mn,cn),ln=class{static build(On,Hn,Zn,Rn){const fn=Hn.accounts.find(Hr=>Hr.isMut),Dn=!!Hn.returns;if(!fn&&Dn)return async(...Hr)=>{var Fn,Vn;let Gn=await Zn(...Hr);const Yn=`Program return: ${On} `;let gr=Gn.raw.find(wr=>wr.startsWith(Yn));if(!gr)throw new Error("View expected return log");let Or=E(gr.slice(Yn.length)),Ir=Hn.returns;if(!Ir)throw new Error("View expected return type");return Pt.fieldLayout({type:Ir},Array.from([...(Fn=Rn.accounts)!==null&&Fn!==void 0?Fn:[],...(Vn=Rn.types)!==null&&Vn!==void 0?Vn:[]])).decode(Or)}}}.build(mn,Nn,on,cn),vn=fr.build(yn,mn,Nn,Kn,_r,pn,on,ln,Pn),xn=camelcase.exports(Nn.name);kn[xn]=Kn,An[xn]=_r,wn[xn]=pn,$n[xn]=on,Mn[xn]=vn,ln&&(En[xn]=ln)}),[wn,kn,An,Pn,$n,Mn,zn,En]}}.build(e,this._coder,n,r);this.rpc=s,this.instruction=a,this.transaction=c,this.account=m,this.simulate=en,this.methods=tn,this.state=sn,this.views=un}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,n){const r=P(e),o=await mr.fetchIdl(r,n);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new mr(o,r,n)}static async fetchIdl(e,n){n=n??dt();const r=P(e),o=await async function(en){const tn=(await PublicKey.findProgramAddress([],en))[0];return await PublicKey.createWithSeed(tn,"anchor:idl",en)}(r),s=await n.connection.getAccountInfo(o);if(!s)return null;let a=(c=s.data.slice(8),Ge.decode(c));var c;const m=inflate_1(a.data);return JSON.parse(w(m))}addEventListener(e,n){return this._events.addEventListener(e,n)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class yr{static token(e){return function(n){return new mr(dr,cr,n,ur())}(e)}}const browser=Object.freeze(Object.defineProperty({__proto__:null,web3:index_browser_esm$1,ACCOUNT_DISCRIMINATOR_SIZE:Dt,AccountClient:tr,AnchorError:wt,AnchorProvider:ot,BorshAccountsCoder:zt,BorshCoder:Vt,BorshEventCoder:Nt,BorshInstructionCoder:Tt,BorshStateCoder:Rt,EventManager:ir,EventParser:or,IdlError:yt,LangErrorCode:At,LangErrorMessage:_t,MethodsBuilderFactory:fr,Program:mr,ProgramError:vt,ProgramErrorStack:gt,Spl:yr,SplTokenCoder:Pe,StateClient:Xe,eventDiscriminator:jt,getProvider:dt,parseIdlErrors:k,setProvider:ut,splitArgsAndCtx:He,stateDiscriminator:Ut,toInstruction:x,translateAddress:P,translateError:bt,utils:We,validateAccounts:M,BN},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser);var stakingIdl={};Object.defineProperty(stakingIdl,"__esModule",{value:!0});stakingIdl.stakingIdl=void 0;stakingIdl.stakingIdl={version:"0.1.0",name:"atlas_staking",instructions:[{name:"cancelUnstake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[]},{name:"createStakingAccount",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"harvest",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStaking",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerStake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"Mint",path:"stake_mint"},{kind:"account",type:"publicKey",account:"Mint",path:"reward_mint"}]}},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"}]},{name:"settle",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[{name:"updatedStakingPeriod",type:"u16"}]},{name:"stakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeAmount",type:"u64"}]},{name:"unstakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateRewardMultiplier",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"rewardMultiplier",type:"u64"},{name:"newStakingPeriod",type:"u16"}]},{name:"withdrawTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"RegisteredStake",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"rewardMint",type:"publicKey"},{name:"currentPeriod",type:"u16"},{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"},{name:"bump",type:"u8"}]}},{name:"StakingAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"totalStake",type:"u64"},{name:"activeStake",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"paidRewards",type:"u64"},{name:"currentPeriod",type:"u16"},{name:"stakedAtTs",type:"i64"},{name:"lastPendingRewardCalcTs",type:"i64"},{name:"lastHarvestTs",type:"i64"},{name:"unstakedTs",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StakingVars",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"bump",type:"u8"}]}}],errors:[{code:6e3,name:"InvalidMint",msg:"Invalid Token Mint"},{code:6001,name:"InvalidOwner",msg:"Account now owned by user"},{code:6002,name:"InsufficientFunds",msg:"Insufficient token balance"},{code:6003,name:"InvalidAuthority",msg:"Invalid authority for this account"},{code:6004,name:"InvalidDepositQty",msg:"Invalid deposit quantity"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"StakeOnCooldown",msg:"Cannot stake while account is on cooldown"},{code:6007,name:"InvalidEscrowAuth",msg:"Invalid escrow authority"},{code:6008,name:"WithdrawOnCooldown",msg:"Cannot withdraw before cooldown period has elapsed"},{code:6009,name:"InvalidPeriod",msg:"Staking account must be in the same period as the Registered Stake"},{code:6010,name:"NotOnCooldown",msg:"Staking account is not on cooldown"}],metadata:{}};Object.defineProperty(getStakingProgram$1,"__esModule",{value:!0});getStakingProgram$1.getStakingProgram=getStakingProgram$1.getStakingIdl=void 0;const anchor_1$a=require$$0$1,stakingIdl_1=stakingIdl;function getStakingIdl(t){const e=stakingIdl_1.stakingIdl;return e.metadata.address=t.toBase58(),e}getStakingProgram$1.getStakingIdl=getStakingIdl;function getStakingProgram({connection:t,programId:e}){const n=getStakingIdl(e),r=new anchor_1$a.AnchorProvider(t,null,null);return new anchor_1$a.Program(n,e,r)}getStakingProgram$1.getStakingProgram=getStakingProgram;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(getStakingProgram$1,t)})(utils$1);var __awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(cancelUnstake,"__esModule",{value:!0});cancelUnstake.cancelUnstakeInstruction=void 0;const utils_1$c=utils$1;function cancelUnstakeInstruction({connection:t,user:e,registeredStake:n,programId:r}){return __awaiter$i(this,void 0,void 0,function*(){const o=(0,utils_1$c.getStakingProgram)({connection:t,programId:r}),s={instructions:[],signers:[]},a=yield o.methods.cancelUnstake().accounts({user:e,registeredStake:n}).instruction();return s.instructions.push(a),s})}cancelUnstake.cancelUnstakeInstruction=cancelUnstakeInstruction;var createStakeAccount={},__awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(createStakeAccount,"__esModule",{value:!0});createStakeAccount.createStakingAccountInstruction=void 0;const utils_1$b=utils$1;function createStakingAccountInstruction({connection:t,user:e,registeredStake:n,programId:r}){return __awaiter$h(this,void 0,void 0,function*(){const o=(0,utils_1$b.getStakingProgram)({connection:t,programId:r}),s={instructions:[],signers:[]},a=yield o.methods.createStakingAccount().accounts({user:e,registeredStake:n}).instruction();return s.instructions.push(a),s})}createStakeAccount.createStakingAccountInstruction=createStakingAccountInstruction;var harvestRewards={},token={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.associatedAddress=t.ASSOCIATED_PROGRAM_ID=t.TOKEN_PROGRAM_ID=void 0;const e=require$$2;t.TOKEN_PROGRAM_ID=new e.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.ASSOCIATED_PROGRAM_ID=new e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function n({mint:r,owner:o}){return(await e.PublicKey.findProgramAddress([o.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),r.toBuffer()],t.ASSOCIATED_PROGRAM_ID))[0]}t.associatedAddress=n})(token);var util={},helpers$1={};function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function byteLength(t){var e=getLens(t),n=e[0],r=e[1];return(n+r)*3/4-r}function _byteLength(t,e,n){return(e+n)*3/4-n}function toByteArray(t){var e,n=getLens(t),r=n[0],o=n[1],s=new Arr(_byteLength(t,r,o)),a=0,c=o>0?r-4:r,m;for(m=0;m<c;m+=4)e=revLookup[t.charCodeAt(m)]<<18|revLookup[t.charCodeAt(m+1)]<<12|revLookup[t.charCodeAt(m+2)]<<6|revLookup[t.charCodeAt(m+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return o===2&&(e=revLookup[t.charCodeAt(m)]<<2|revLookup[t.charCodeAt(m+1)]>>4,s[a++]=e&255),o===1&&(e=revLookup[t.charCodeAt(m)]<<10|revLookup[t.charCodeAt(m+1)]<<4|revLookup[t.charCodeAt(m+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,n){for(var r,o=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64(r));return o.join("")}function fromByteArray(t){for(var e,n=t.length,r=n%3,o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(encodeChunk(t,a,a+s>c?c:a+s));return r===1?(e=t[n-1],o.push(lookup[e>>2]+lookup[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],o.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(t,e,n,r,o){var s,a,c=o*8-r-1,m=(1<<c)-1,en=m>>1,tn=-7,sn=n?o-1:0,un=n?-1:1,cn=t[e+sn];for(sn+=un,s=cn&(1<<-tn)-1,cn>>=-tn,tn+=c;tn>0;s=s*256+t[e+sn],sn+=un,tn-=8);for(a=s&(1<<-tn)-1,s>>=-tn,tn+=r;tn>0;a=a*256+t[e+sn],sn+=un,tn-=8);if(s===0)s=1-en;else{if(s===m)return a?NaN:(cn?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-en}return(cn?-1:1)*a*Math.pow(2,s-r)};ieee754.write=function(t,e,n,r,o,s){var a,c,m,en=s*8-o-1,tn=(1<<en)-1,sn=tn>>1,un=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,cn=r?0:s-1,gn=r?1:-1,mn=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,a=tn):(a=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-a))<1&&(a--,m*=2),a+sn>=1?e+=un/m:e+=un*Math.pow(2,1-sn),e*m>=2&&(a++,m/=2),a+sn>=tn?(c=0,a=tn):a+sn>=1?(c=(e*m-1)*Math.pow(2,o),a=a+sn):(c=e*Math.pow(2,sn-1)*Math.pow(2,o),a=0));o>=8;t[n+cn]=c&255,cn+=gn,c/=256,o-=8);for(a=a<<o|c,en+=o;en>0;t[n+cn]=a&255,cn+=gn,a/=256,en-=8);t[n+cn-gn]|=mn*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js,n=ieee754,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=kn,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=s(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const nn=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(nn,l),nn.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(!!c.isBuffer(this))return this.byteOffset}});function a(nn){if(nn>o)throw new RangeError('The value "'+nn+'" is invalid for option "size"');const l=new Uint8Array(nn);return Object.setPrototypeOf(l,c.prototype),l}function c(nn,l,d){if(typeof nn=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return sn(nn)}return m(nn,l,d)}c.poolSize=8192;function m(nn,l,d){if(typeof nn=="string")return un(nn,l);if(ArrayBuffer.isView(nn))return gn(nn);if(nn==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nn);if(br(nn,ArrayBuffer)||nn&&br(nn.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(br(nn,SharedArrayBuffer)||nn&&br(nn.buffer,SharedArrayBuffer)))return mn(nn,l,d);if(typeof nn=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const an=nn.valueOf&&nn.valueOf();if(an!=null&&an!==nn)return c.from(an,l,d);const hn=yn(nn);if(hn)return hn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof nn[Symbol.toPrimitive]=="function")return c.from(nn[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nn)}c.from=function(nn,l,d){return m(nn,l,d)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function en(nn){if(typeof nn!="number")throw new TypeError('"size" argument must be of type number');if(nn<0)throw new RangeError('The value "'+nn+'" is invalid for option "size"')}function tn(nn,l,d){return en(nn),nn<=0?a(nn):l!==void 0?typeof d=="string"?a(nn).fill(l,d):a(nn).fill(l):a(nn)}c.alloc=function(nn,l,d){return tn(nn,l,d)};function sn(nn){return en(nn),a(nn<0?0:wn(nn)|0)}c.allocUnsafe=function(nn){return sn(nn)},c.allocUnsafeSlow=function(nn){return sn(nn)};function un(nn,l){if((typeof l!="string"||l==="")&&(l="utf8"),!c.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=An(nn,l)|0;let an=a(d);const hn=an.write(nn,l);return hn!==d&&(an=an.slice(0,hn)),an}function cn(nn){const l=nn.length<0?0:wn(nn.length)|0,d=a(l);for(let an=0;an<l;an+=1)d[an]=nn[an]&255;return d}function gn(nn){if(br(nn,Uint8Array)){const l=new Uint8Array(nn);return mn(l.buffer,l.byteOffset,l.byteLength)}return cn(nn)}function mn(nn,l,d){if(l<0||nn.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(nn.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let an;return l===void 0&&d===void 0?an=new Uint8Array(nn):d===void 0?an=new Uint8Array(nn,l):an=new Uint8Array(nn,l,d),Object.setPrototypeOf(an,c.prototype),an}function yn(nn){if(c.isBuffer(nn)){const l=wn(nn.length)|0,d=a(l);return d.length===0||nn.copy(d,0,0,l),d}if(nn.length!==void 0)return typeof nn.length!="number"||Tr(nn.length)?a(0):cn(nn);if(nn.type==="Buffer"&&Array.isArray(nn.data))return cn(nn.data)}function wn(nn){if(nn>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return nn|0}function kn(nn){return+nn!=nn&&(nn=0),c.alloc(+nn)}c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,d){if(br(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),br(d,Uint8Array)&&(d=c.from(d,d.offset,d.byteLength)),!c.isBuffer(l)||!c.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let an=l.length,hn=d.length;for(let _n=0,In=Math.min(an,hn);_n<In;++_n)if(l[_n]!==d[_n]){an=l[_n],hn=d[_n];break}return an<hn?-1:hn<an?1:0},c.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);let an;if(d===void 0)for(d=0,an=0;an<l.length;++an)d+=l[an].length;const hn=c.allocUnsafe(d);let _n=0;for(an=0;an<l.length;++an){let In=l[an];if(br(In,Uint8Array))_n+In.length>hn.length?(c.isBuffer(In)||(In=c.from(In)),In.copy(hn,_n)):Uint8Array.prototype.set.call(hn,In,_n);else if(c.isBuffer(In))In.copy(hn,_n);else throw new TypeError('"list" argument must be an Array of Buffers');_n+=In.length}return hn};function An(nn,l){if(c.isBuffer(nn))return nn.length;if(ArrayBuffer.isView(nn)||br(nn,ArrayBuffer))return nn.byteLength;if(typeof nn!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof nn);const d=nn.length,an=arguments.length>2&&arguments[2]===!0;if(!an&&d===0)return 0;let hn=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return Xn(nn).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return Ar(nn).length;default:if(hn)return an?-1:Xn(nn).length;l=(""+l).toLowerCase(),hn=!0}}c.byteLength=An;function $n(nn,l,d){let an=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(nn||(nn="utf8");;)switch(nn){case"hex":return Hn(this,l,d);case"utf8":case"utf-8":return on(this,l,d);case"ascii":return xn(this,l,d);case"latin1":case"binary":return On(this,l,d);case"base64":return pn(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Zn(this,l,d);default:if(an)throw new TypeError("Unknown encoding: "+nn);nn=(nn+"").toLowerCase(),an=!0}}c.prototype._isBuffer=!0;function Mn(nn,l,d){const an=nn[l];nn[l]=nn[d],nn[d]=an}c.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)Mn(this,d,d+1);return this},c.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)Mn(this,d,d+3),Mn(this,d+1,d+2);return this},c.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)Mn(this,d,d+7),Mn(this,d+1,d+6),Mn(this,d+2,d+5),Mn(this,d+3,d+4);return this},c.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?on(this,0,l):$n.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:c.compare(this,l)===0},c.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(l,d,an,hn,_n){if(br(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),an===void 0&&(an=l?l.length:0),hn===void 0&&(hn=0),_n===void 0&&(_n=this.length),d<0||an>l.length||hn<0||_n>this.length)throw new RangeError("out of range index");if(hn>=_n&&d>=an)return 0;if(hn>=_n)return-1;if(d>=an)return 1;if(d>>>=0,an>>>=0,hn>>>=0,_n>>>=0,this===l)return 0;let In=_n-hn,kr=an-d;const Ur=Math.min(In,kr),Pr=this.slice(hn,_n),Kr=l.slice(d,an);for(let Lr=0;Lr<Ur;++Lr)if(Pr[Lr]!==Kr[Lr]){In=Pr[Lr],kr=Kr[Lr];break}return In<kr?-1:kr<In?1:0};function En(nn,l,d,an,hn){if(nn.length===0)return-1;if(typeof d=="string"?(an=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Tr(d)&&(d=hn?0:nn.length-1),d<0&&(d=nn.length+d),d>=nn.length){if(hn)return-1;d=nn.length-1}else if(d<0)if(hn)d=0;else return-1;if(typeof l=="string"&&(l=c.from(l,an)),c.isBuffer(l))return l.length===0?-1:Tn(nn,l,d,an,hn);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?hn?Uint8Array.prototype.indexOf.call(nn,l,d):Uint8Array.prototype.lastIndexOf.call(nn,l,d):Tn(nn,[l],d,an,hn);throw new TypeError("val must be string, number or Buffer")}function Tn(nn,l,d,an,hn){let _n=1,In=nn.length,kr=l.length;if(an!==void 0&&(an=String(an).toLowerCase(),an==="ucs2"||an==="ucs-2"||an==="utf16le"||an==="utf-16le")){if(nn.length<2||l.length<2)return-1;_n=2,In/=2,kr/=2,d/=2}function Ur(Kr,Lr){return _n===1?Kr[Lr]:Kr.readUInt16BE(Lr*_n)}let Pr;if(hn){let Kr=-1;for(Pr=d;Pr<In;Pr++)if(Ur(nn,Pr)===Ur(l,Kr===-1?0:Pr-Kr)){if(Kr===-1&&(Kr=Pr),Pr-Kr+1===kr)return Kr*_n}else Kr!==-1&&(Pr-=Pr-Kr),Kr=-1}else for(d+kr>In&&(d=In-kr),Pr=d;Pr>=0;Pr--){let Kr=!0;for(let Lr=0;Lr<kr;Lr++)if(Ur(nn,Pr+Lr)!==Ur(l,Lr)){Kr=!1;break}if(Kr)return Pr}return-1}c.prototype.includes=function(l,d,an){return this.indexOf(l,d,an)!==-1},c.prototype.indexOf=function(l,d,an){return En(this,l,d,an,!0)},c.prototype.lastIndexOf=function(l,d,an){return En(this,l,d,an,!1)};function Pn(nn,l,d,an){d=Number(d)||0;const hn=nn.length-d;an?(an=Number(an),an>hn&&(an=hn)):an=hn;const _n=l.length;an>_n/2&&(an=_n/2);let In;for(In=0;In<an;++In){const kr=parseInt(l.substr(In*2,2),16);if(Tr(kr))return In;nn[d+In]=kr}return In}function zn(nn,l,d,an){return vr(Xn(l,nn.length-d),nn,d,an)}function Nn(nn,l,d,an){return vr(Er(l),nn,d,an)}function Kn(nn,l,d,an){return vr(Ar(l),nn,d,an)}function _r(nn,l,d,an){return vr(Nr(l,nn.length-d),nn,d,an)}c.prototype.write=function(l,d,an,hn){if(d===void 0)hn="utf8",an=this.length,d=0;else if(an===void 0&&typeof d=="string")hn=d,an=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(an)?(an=an>>>0,hn===void 0&&(hn="utf8")):(hn=an,an=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _n=this.length-d;if((an===void 0||an>_n)&&(an=_n),l.length>0&&(an<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");hn||(hn="utf8");let In=!1;for(;;)switch(hn){case"hex":return Pn(this,l,d,an);case"utf8":case"utf-8":return zn(this,l,d,an);case"ascii":case"latin1":case"binary":return Nn(this,l,d,an);case"base64":return Kn(this,l,d,an);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _r(this,l,d,an);default:if(In)throw new TypeError("Unknown encoding: "+hn);hn=(""+hn).toLowerCase(),In=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pn(nn,l,d){return l===0&&d===nn.length?e.fromByteArray(nn):e.fromByteArray(nn.slice(l,d))}function on(nn,l,d){d=Math.min(nn.length,d);const an=[];let hn=l;for(;hn<d;){const _n=nn[hn];let In=null,kr=_n>239?4:_n>223?3:_n>191?2:1;if(hn+kr<=d){let Ur,Pr,Kr,Lr;switch(kr){case 1:_n<128&&(In=_n);break;case 2:Ur=nn[hn+1],(Ur&192)===128&&(Lr=(_n&31)<<6|Ur&63,Lr>127&&(In=Lr));break;case 3:Ur=nn[hn+1],Pr=nn[hn+2],(Ur&192)===128&&(Pr&192)===128&&(Lr=(_n&15)<<12|(Ur&63)<<6|Pr&63,Lr>2047&&(Lr<55296||Lr>57343)&&(In=Lr));break;case 4:Ur=nn[hn+1],Pr=nn[hn+2],Kr=nn[hn+3],(Ur&192)===128&&(Pr&192)===128&&(Kr&192)===128&&(Lr=(_n&15)<<18|(Ur&63)<<12|(Pr&63)<<6|Kr&63,Lr>65535&&Lr<1114112&&(In=Lr))}}In===null?(In=65533,kr=1):In>65535&&(In-=65536,an.push(In>>>10&1023|55296),In=56320|In&1023),an.push(In),hn+=kr}return vn(an)}const ln=4096;function vn(nn){const l=nn.length;if(l<=ln)return String.fromCharCode.apply(String,nn);let d="",an=0;for(;an<l;)d+=String.fromCharCode.apply(String,nn.slice(an,an+=ln));return d}function xn(nn,l,d){let an="";d=Math.min(nn.length,d);for(let hn=l;hn<d;++hn)an+=String.fromCharCode(nn[hn]&127);return an}function On(nn,l,d){let an="";d=Math.min(nn.length,d);for(let hn=l;hn<d;++hn)an+=String.fromCharCode(nn[hn]);return an}function Hn(nn,l,d){const an=nn.length;(!l||l<0)&&(l=0),(!d||d<0||d>an)&&(d=an);let hn="";for(let _n=l;_n<d;++_n)hn+=$r[nn[_n]];return hn}function Zn(nn,l,d){const an=nn.slice(l,d);let hn="";for(let _n=0;_n<an.length-1;_n+=2)hn+=String.fromCharCode(an[_n]+an[_n+1]*256);return hn}c.prototype.slice=function(l,d){const an=this.length;l=~~l,d=d===void 0?an:~~d,l<0?(l+=an,l<0&&(l=0)):l>an&&(l=an),d<0?(d+=an,d<0&&(d=0)):d>an&&(d=an),d<l&&(d=l);const hn=this.subarray(l,d);return Object.setPrototypeOf(hn,c.prototype),hn};function Rn(nn,l,d){if(nn%1!==0||nn<0)throw new RangeError("offset is not uint");if(nn+l>d)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l],_n=1,In=0;for(;++In<d&&(_n*=256);)hn+=this[l+In]*_n;return hn},c.prototype.readUintBE=c.prototype.readUIntBE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l+--d],_n=1;for(;d>0&&(_n*=256);)hn+=this[l+--d]*_n;return hn},c.prototype.readUint8=c.prototype.readUInt8=function(l,d){return l=l>>>0,d||Rn(l,1,this.length),this[l]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||Rn(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||Rn(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readBigUInt64LE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,_n=this[++l]+this[++l]*2**8+this[++l]*2**16+an*2**24;return BigInt(hn)+(BigInt(_n)<<BigInt(32))}),c.prototype.readBigUInt64BE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],_n=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+an;return(BigInt(hn)<<BigInt(32))+BigInt(_n)}),c.prototype.readIntLE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=this[l],_n=1,In=0;for(;++In<d&&(_n*=256);)hn+=this[l+In]*_n;return _n*=128,hn>=_n&&(hn-=Math.pow(2,8*d)),hn},c.prototype.readIntBE=function(l,d,an){l=l>>>0,d=d>>>0,an||Rn(l,d,this.length);let hn=d,_n=1,In=this[l+--hn];for(;hn>0&&(_n*=256);)In+=this[l+--hn]*_n;return _n*=128,In>=_n&&(In-=Math.pow(2,8*d)),In},c.prototype.readInt8=function(l,d){return l=l>>>0,d||Rn(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},c.prototype.readInt16LE=function(l,d){l=l>>>0,d||Rn(l,2,this.length);const an=this[l]|this[l+1]<<8;return an&32768?an|4294901760:an},c.prototype.readInt16BE=function(l,d){l=l>>>0,d||Rn(l,2,this.length);const an=this[l+1]|this[l]<<8;return an&32768?an|4294901760:an},c.prototype.readInt32LE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readBigInt64LE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(an<<24);return(BigInt(hn)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),c.prototype.readBigInt64BE=Br(function(l){l=l>>>0,Ln(l,"offset");const d=this[l],an=this[l+7];(d===void 0||an===void 0)&&Un(l,this.length-8);const hn=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(hn)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+an)}),c.prototype.readFloatLE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),n.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,d){return l=l>>>0,d||Rn(l,4,this.length),n.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||Rn(l,8,this.length),n.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||Rn(l,8,this.length),n.read(this,l,!1,52,8)};function fn(nn,l,d,an,hn,_n){if(!c.isBuffer(nn))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>hn||l<_n)throw new RangeError('"value" argument is out of bounds');if(d+an>nn.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(l,d,an,hn){if(l=+l,d=d>>>0,an=an>>>0,!hn){const kr=Math.pow(2,8*an)-1;fn(this,l,d,an,kr,0)}let _n=1,In=0;for(this[d]=l&255;++In<an&&(_n*=256);)this[d+In]=l/_n&255;return d+an},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(l,d,an,hn){if(l=+l,d=d>>>0,an=an>>>0,!hn){const kr=Math.pow(2,8*an)-1;fn(this,l,d,an,kr,0)}let _n=an-1,In=1;for(this[d+_n]=l&255;--_n>=0&&(In*=256);)this[d+_n]=l/In&255;return d+an},c.prototype.writeUint8=c.prototype.writeUInt8=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,1,255,0),this[d]=l&255,d+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function Dn(nn,l,d,an,hn){wr(l,an,hn,nn,d,7);let _n=Number(l&BigInt(4294967295));nn[d++]=_n,_n=_n>>8,nn[d++]=_n,_n=_n>>8,nn[d++]=_n,_n=_n>>8,nn[d++]=_n;let In=Number(l>>BigInt(32)&BigInt(4294967295));return nn[d++]=In,In=In>>8,nn[d++]=In,In=In>>8,nn[d++]=In,In=In>>8,nn[d++]=In,d}function Hr(nn,l,d,an,hn){wr(l,an,hn,nn,d,7);let _n=Number(l&BigInt(4294967295));nn[d+7]=_n,_n=_n>>8,nn[d+6]=_n,_n=_n>>8,nn[d+5]=_n,_n=_n>>8,nn[d+4]=_n;let In=Number(l>>BigInt(32)&BigInt(4294967295));return nn[d+3]=In,In=In>>8,nn[d+2]=In,In=In>>8,nn[d+1]=In,In=In>>8,nn[d]=In,d+8}c.prototype.writeBigUInt64LE=Br(function(l,d=0){return Dn(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Br(function(l,d=0){return Hr(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(l,d,an,hn){if(l=+l,d=d>>>0,!hn){const Ur=Math.pow(2,8*an-1);fn(this,l,d,an,Ur-1,-Ur)}let _n=0,In=1,kr=0;for(this[d]=l&255;++_n<an&&(In*=256);)l<0&&kr===0&&this[d+_n-1]!==0&&(kr=1),this[d+_n]=(l/In>>0)-kr&255;return d+an},c.prototype.writeIntBE=function(l,d,an,hn){if(l=+l,d=d>>>0,!hn){const Ur=Math.pow(2,8*an-1);fn(this,l,d,an,Ur-1,-Ur)}let _n=an-1,In=1,kr=0;for(this[d+_n]=l&255;--_n>=0&&(In*=256);)l<0&&kr===0&&this[d+_n+1]!==0&&(kr=1),this[d+_n]=(l/In>>0)-kr&255;return d+an},c.prototype.writeInt8=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},c.prototype.writeInt16LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},c.prototype.writeInt16BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},c.prototype.writeInt32LE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},c.prototype.writeInt32BE=function(l,d,an){return l=+l,d=d>>>0,an||fn(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},c.prototype.writeBigInt64LE=Br(function(l,d=0){return Dn(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Br(function(l,d=0){return Hr(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fn(nn,l,d,an,hn,_n){if(d+an>nn.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Vn(nn,l,d,an,hn){return l=+l,d=d>>>0,hn||Fn(nn,l,d,4),n.write(nn,l,d,an,23,4),d+4}c.prototype.writeFloatLE=function(l,d,an){return Vn(this,l,d,!0,an)},c.prototype.writeFloatBE=function(l,d,an){return Vn(this,l,d,!1,an)};function Gn(nn,l,d,an,hn){return l=+l,d=d>>>0,hn||Fn(nn,l,d,8),n.write(nn,l,d,an,52,8),d+8}c.prototype.writeDoubleLE=function(l,d,an){return Gn(this,l,d,!0,an)},c.prototype.writeDoubleBE=function(l,d,an){return Gn(this,l,d,!1,an)},c.prototype.copy=function(l,d,an,hn){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(an||(an=0),!hn&&hn!==0&&(hn=this.length),d>=l.length&&(d=l.length),d||(d=0),hn>0&&hn<an&&(hn=an),hn===an||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(an<0||an>=this.length)throw new RangeError("Index out of range");if(hn<0)throw new RangeError("sourceEnd out of bounds");hn>this.length&&(hn=this.length),l.length-d<hn-an&&(hn=l.length-d+an);const _n=hn-an;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,an,hn):Uint8Array.prototype.set.call(l,this.subarray(an,hn),d),_n},c.prototype.fill=function(l,d,an,hn){if(typeof l=="string"){if(typeof d=="string"?(hn=d,d=0,an=this.length):typeof an=="string"&&(hn=an,an=this.length),hn!==void 0&&typeof hn!="string")throw new TypeError("encoding must be a string");if(typeof hn=="string"&&!c.isEncoding(hn))throw new TypeError("Unknown encoding: "+hn);if(l.length===1){const In=l.charCodeAt(0);(hn==="utf8"&&In<128||hn==="latin1")&&(l=In)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<an)throw new RangeError("Out of range index");if(an<=d)return this;d=d>>>0,an=an===void 0?this.length:an>>>0,l||(l=0);let _n;if(typeof l=="number")for(_n=d;_n<an;++_n)this[_n]=l;else{const In=c.isBuffer(l)?l:c.from(l,hn),kr=In.length;if(kr===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(_n=0;_n<an-d;++_n)this[_n+d]=In[_n%kr]}return this};const Yn={};function gr(nn,l,d){Yn[nn]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${nn}]`,this.stack,delete this.name}get code(){return nn}set code(hn){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:hn,writable:!0})}toString(){return`${this.name} [${nn}]: ${this.message}`}}}gr("ERR_BUFFER_OUT_OF_BOUNDS",function(nn){return nn?`${nn} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),gr("ERR_INVALID_ARG_TYPE",function(nn,l){return`The "${nn}" argument must be of type number. Received type ${typeof l}`},TypeError),gr("ERR_OUT_OF_RANGE",function(nn,l,d){let an=`The value of "${nn}" is out of range.`,hn=d;return Number.isInteger(d)&&Math.abs(d)>2**32?hn=Or(String(d)):typeof d=="bigint"&&(hn=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(hn=Or(hn)),hn+="n"),an+=` It must be ${l}. Received ${hn}`,an},RangeError);function Or(nn){let l="",d=nn.length;const an=nn[0]==="-"?1:0;for(;d>=an+4;d-=3)l=`_${nn.slice(d-3,d)}${l}`;return`${nn.slice(0,d)}${l}`}function Ir(nn,l,d){Ln(l,"offset"),(nn[l]===void 0||nn[l+d]===void 0)&&Un(l,nn.length-(d+1))}function wr(nn,l,d,an,hn,_n){if(nn>d||nn<l){const In=typeof l=="bigint"?"n":"";let kr;throw _n>3?l===0||l===BigInt(0)?kr=`>= 0${In} and < 2${In} ** ${(_n+1)*8}${In}`:kr=`>= -(2${In} ** ${(_n+1)*8-1}${In}) and < 2 ** ${(_n+1)*8-1}${In}`:kr=`>= ${l}${In} and <= ${d}${In}`,new Yn.ERR_OUT_OF_RANGE("value",kr,nn)}Ir(an,hn,_n)}function Ln(nn,l){if(typeof nn!="number")throw new Yn.ERR_INVALID_ARG_TYPE(l,"number",nn)}function Un(nn,l,d){throw Math.floor(nn)!==nn?(Ln(nn,d),new Yn.ERR_OUT_OF_RANGE(d||"offset","an integer",nn)):l<0?new Yn.ERR_BUFFER_OUT_OF_BOUNDS:new Yn.ERR_OUT_OF_RANGE(d||"offset",`>= ${d?1:0} and <= ${l}`,nn)}const qn=/[^+/0-9A-Za-z-_]/g;function Sr(nn){if(nn=nn.split("=")[0],nn=nn.trim().replace(qn,""),nn.length<2)return"";for(;nn.length%4!==0;)nn=nn+"=";return nn}function Xn(nn,l){l=l||1/0;let d;const an=nn.length;let hn=null;const _n=[];for(let In=0;In<an;++In){if(d=nn.charCodeAt(In),d>55295&&d<57344){if(!hn){if(d>56319){(l-=3)>-1&&_n.push(239,191,189);continue}else if(In+1===an){(l-=3)>-1&&_n.push(239,191,189);continue}hn=d;continue}if(d<56320){(l-=3)>-1&&_n.push(239,191,189),hn=d;continue}d=(hn-55296<<10|d-56320)+65536}else hn&&(l-=3)>-1&&_n.push(239,191,189);if(hn=null,d<128){if((l-=1)<0)break;_n.push(d)}else if(d<2048){if((l-=2)<0)break;_n.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;_n.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;_n.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return _n}function Er(nn){const l=[];for(let d=0;d<nn.length;++d)l.push(nn.charCodeAt(d)&255);return l}function Nr(nn,l){let d,an,hn;const _n=[];for(let In=0;In<nn.length&&!((l-=2)<0);++In)d=nn.charCodeAt(In),an=d>>8,hn=d%256,_n.push(hn),_n.push(an);return _n}function Ar(nn){return e.toByteArray(Sr(nn))}function vr(nn,l,d,an){let hn;for(hn=0;hn<an&&!(hn+d>=l.length||hn>=nn.length);++hn)l[hn+d]=nn[hn];return hn}function br(nn,l){return nn instanceof l||nn!=null&&nn.constructor!=null&&nn.constructor.name!=null&&nn.constructor.name===l.name}function Tr(nn){return nn!==nn}const $r=function(){const nn="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const an=d*16;for(let hn=0;hn<16;++hn)l[an+hn]=nn[d]+nn[hn]}return l}();function Br(nn){return typeof BigInt>"u"?Fr:nn}function Fr(){throw new Error("BigInt not supported")}})(buffer);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},inherits;typeof Object.create=="function"?inherits=function(e,n){e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(e,n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e};var inherits$1=inherits;function inspect$1(t,e){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(e)?n.showHidden=e:e&&_extend(n,e),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,t,n.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(t,e){var n=inspect$1.styles[e];return n?"\x1B["+inspect$1.colors[n][0]+"m"+t+"\x1B["+inspect$1.colors[n][1]+"m":t}function stylizeNoColor(t,e){return t}function arrayToHash(t){var e={};return t.forEach(function(n,r){e[n]=!0}),e}function formatValue(t,e,n){if(t.customInspect&&e&&isFunction$1(e.inspect)&&e.inspect!==inspect$1&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(n,t);return isString(r)||(r=formatValue(t,r,n)),r}var o=formatPrimitive(t,e);if(o)return o;var s=Object.keys(e),a=arrayToHash(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),isError(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return formatError(e);if(s.length===0){if(isFunction$1(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(isRegExp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(isDate(e))return t.stylize(Date.prototype.toString.call(e),"date");if(isError(e))return formatError(e)}var m="",en=!1,tn=["{","}"];if(isArray(e)&&(en=!0,tn=["[","]"]),isFunction$1(e)){var sn=e.name?": "+e.name:"";m=" [Function"+sn+"]"}if(isRegExp(e)&&(m=" "+RegExp.prototype.toString.call(e)),isDate(e)&&(m=" "+Date.prototype.toUTCString.call(e)),isError(e)&&(m=" "+formatError(e)),s.length===0&&(!en||e.length==0))return tn[0]+m+tn[1];if(n<0)return isRegExp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var un;return en?un=formatArray(t,e,n,a,s):un=s.map(function(cn){return formatProperty(t,e,n,a,cn,en)}),t.seen.pop(),reduceToSingleString(un,m,tn)}function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(isNumber(e))return t.stylize(""+e,"number");if(isBoolean(e))return t.stylize(""+e,"boolean");if(isNull(e))return t.stylize("null","null")}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatArray(t,e,n,r,o){for(var s=[],a=0,c=e.length;a<c;++a)hasOwnProperty(e,String(a))?s.push(formatProperty(t,e,n,r,String(a),!0)):s.push("");return o.forEach(function(m){m.match(/^\d+$/)||s.push(formatProperty(t,e,n,r,m,!0))}),s}function formatProperty(t,e,n,r,o,s){var a,c,m;if(m=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},m.get?m.set?c=t.stylize("[Getter/Setter]","special"):c=t.stylize("[Getter]","special"):m.set&&(c=t.stylize("[Setter]","special")),hasOwnProperty(r,o)||(a="["+o+"]"),c||(t.seen.indexOf(m.value)<0?(isNull(n)?c=formatValue(t,m.value,null):c=formatValue(t,m.value,n-1),c.indexOf(`
`)>-1&&(s?c=c.split(`
`).map(function(en){return"  "+en}).join(`
`).substr(2):c=`
`+c.split(`
`).map(function(en){return"   "+en}).join(`
`))):c=t.stylize("[Circular]","special")),isUndefined(a)){if(s&&o.match(/^\d+$/))return c;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function reduceToSingleString(t,e,n){var r=t.reduce(function(o,s){return s.indexOf(`
`)>=0,o+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function isArray(t){return Array.isArray(t)}function isBoolean(t){return typeof t=="boolean"}function isNull(t){return t===null}function isNumber(t){return typeof t=="number"}function isString(t){return typeof t=="string"}function isUndefined(t){return t===void 0}function isRegExp(t){return isObject$1(t)&&objectToString(t)==="[object RegExp]"}function isObject$1(t){return typeof t=="object"&&t!==null}function isDate(t){return isObject$1(t)&&objectToString(t)==="[object Date]"}function isError(t){return isObject$1(t)&&(objectToString(t)==="[object Error]"||t instanceof Error)}function isFunction$1(t){return typeof t=="function"}function isPrimitive(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function objectToString(t){return Object.prototype.toString.call(t)}function _extend(t,e){if(!e||!isObject$1(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function compare(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,s=Math.min(n,r);o<s;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(t){var e=[];for(var n in t)hasOwn.call(t,n)&&e.push(n);return e},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return typeof _functionsHaveNames<"u"?_functionsHaveNames:_functionsHaveNames=function(){return function(){}.name==="foo"}()}function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return buffer.isBuffer(t)||typeof global$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t?!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer):!1}function assert(t,e){t||fail$1(t,!0,e,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(t){if(!!isFunction$1(t)){if(functionsHaveNames())return t.name;var e=t.toString(),n=e.match(regex);return n&&n[1]}}assert.AssertionError=AssertionError;function AssertionError(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail$1;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,o=getName(e),s=r.indexOf(`
`+o);if(s>=0){var a=r.indexOf(`
`,s+1);r=r.substring(a+1)}this.stack=r}}}inherits$1(AssertionError,Error);function truncate(t,e){return typeof t=="string"?t.length<e?t:t.slice(0,e):t}function inspect(t){if(functionsHaveNames()||!isFunction$1(t))return inspect$1(t);var e=getName(t),n=e?": "+e:"";return"[Function"+n+"]"}function getMessage(t){return truncate(inspect(t.actual),128)+" "+t.operator+" "+truncate(inspect(t.expected),128)}function fail$1(t,e,n,r,o){throw new AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}assert.fail=fail$1;function ok(t,e){t||fail$1(t,!0,e,"==",ok)}assert.ok=ok;assert.equal=equal;function equal(t,e,n){t!=e&&fail$1(t,e,n,"==",equal)}assert.notEqual=notEqual;function notEqual(t,e,n){t==e&&fail$1(t,e,n,"!=",notEqual)}assert.deepEqual=deepEqual$1;function deepEqual$1(t,e,n){_deepEqual(t,e,!1)||fail$1(t,e,n,"deepEqual",deepEqual$1)}assert.deepStrictEqual=deepStrictEqual;function deepStrictEqual(t,e,n){_deepEqual(t,e,!0)||fail$1(t,e,n,"deepStrictEqual",deepStrictEqual)}function _deepEqual(t,e,n,r){if(t===e)return!0;if(buffer.isBuffer(t)&&buffer.isBuffer(e))return compare(t,e)===0;if(isDate(t)&&isDate(e))return t.getTime()===e.getTime();if(isRegExp(t)&&isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if((t===null||typeof t!="object")&&(e===null||typeof e!="object"))return n?t===e:t==e;if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0;if(buffer.isBuffer(t)!==buffer.isBuffer(e))return!1;r=r||{actual:[],expected:[]};var o=r.actual.indexOf(t);return o!==-1&&o===r.expected.indexOf(e)?!0:(r.actual.push(t),r.expected.push(e),objEquiv(t,e,n,r))}function isArguments(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function objEquiv(t,e,n,r){if(t==null||e===null||e===void 0)return!1;if(isPrimitive(t)||isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=isArguments(t),s=isArguments(e);if(o&&!s||!o&&s)return!1;if(o)return t=pSlice.call(t),e=pSlice.call(e),_deepEqual(t,e,n);var a=objectKeys(t),c=objectKeys(e),m,en;if(a.length!==c.length)return!1;for(a.sort(),c.sort(),en=a.length-1;en>=0;en--)if(a[en]!==c[en])return!1;for(en=a.length-1;en>=0;en--)if(m=a[en],!_deepEqual(t[m],e[m],n,r))return!1;return!0}assert.notDeepEqual=notDeepEqual;function notDeepEqual(t,e,n){_deepEqual(t,e,!1)&&fail$1(t,e,n,"notDeepEqual",notDeepEqual)}assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(t,e,n){_deepEqual(t,e,!0)&&fail$1(t,e,n,"notDeepStrictEqual",notDeepStrictEqual)}assert.strictEqual=strictEqual;function strictEqual(t,e,n){t!==e&&fail$1(t,e,n,"===",strictEqual)}assert.notStrictEqual=notStrictEqual;function notStrictEqual(t,e,n){t===e&&fail$1(t,e,n,"!==",notStrictEqual)}function expectedException(t,e){if(!t||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(t);try{if(t instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function _tryBlock(t){var e;try{t()}catch(n){e=n}return e}function _throws(t,e,n,r){var o;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof n=="string"&&(r=n,n=null),o=_tryBlock(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&fail$1(o,n,"Missing expected exception"+r);var s=typeof r=="string",a=!t&&isError(o),c=!t&&o&&!n;if((a&&s&&expectedException(o,n)||c)&&fail$1(o,n,"Got unwanted exception"+r),t&&o&&n&&!expectedException(o,n)||!t&&o)throw o}assert.throws=throws;function throws(t,e,n){_throws(!0,t,e,n)}assert.doesNotThrow=doesNotThrow;function doesNotThrow(t,e,n){_throws(!1,t,e,n)}assert.ifError=ifError;function ifError(t){if(t)throw t}class Layout{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}decode(e,n){throw new Error("Layout is abstract")}encode(e,n,r){throw new Error("Layout is abstract")}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}function nameWithProperty(t,e){return e.property?t+"["+e.property+"]":t}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n){return n===void 0&&(n=0),e.readUIntLE(n,this.span)}encode(e,n,r){return r===void 0&&(r=0),n.writeUIntLE(e,r,this.span),this.span}}class Structure extends Layout{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,a)=>s&&a instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,a)=>s+a.getSpan(),0)}catch{}super(o,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n){if(0<=this.span)return this.span;n===void 0&&(n=0);let r=0;try{r=this.fields.reduce((o,s)=>{const a=s.getSpan(e,n);return n+=a,o+a},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n){n===void 0&&(n=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,n)),n+=o.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r){r===void 0&&(r=0);const o=r;let s=0,a=0;for(const c of this.fields){let m=c.span;if(a=0<m?m:0,c.property!==void 0){const en=e[c.property];en!==void 0&&(a=c.encode(en,n,r),0>m&&(m=c.getSpan(n,r)))}s=r,r+=m}return s+a-o}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}class Blob$1 extends Layout{constructor(e,n){if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ExternalLayout||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n){n===void 0&&(n=0);let r=this.span;return 0>r&&(r=this.length.decode(e,n)),e.slice(n,n+r)}encode(e,n,r){let o=this.length;if(this.length instanceof ExternalLayout&&(o=e.length),!(buffer.Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),r,o,"hex"),this.length instanceof ExternalLayout&&this.length.encode(o,n,r),o}}var u8=t=>new UInt(1,t),u32=t=>new UInt(4,t),struct=(t,e,n)=>new Structure(t,e,n),blob=(t,e)=>new Blob$1(t,e);const publicKey=(t="publicKey")=>blob(32,t),uint64=(t="uint64")=>blob(8,t);function sendAndConfirmTransaction$1(t,e,n,...r){return sendAndConfirmTransaction$2(e,n,r,{skipPreflight:!1})}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(t){return buffer.Buffer.from(t.toBuffer())}class u64 extends BN{toBuffer(){const e=super.toArray().reverse(),n=buffer.Buffer.from(e);if(n.length===8)return n;assert(n.length<8,"u64 too large");const r=buffer.Buffer.alloc(8);return n.copy(r),r}static fromBuffer(e){return assert(e.length===8,`Invalid buffer length: ${e.length}`),new u64([...e].reverse().map(n=>`00${n.toString(16)}`.slice(-2)).join(""),16)}}function isAccount(t){return"publicKey"in t}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(e,n,r,o){_defineProperty(this,"connection",void 0),_defineProperty(this,"publicKey",void 0),_defineProperty(this,"programId",void 0),_defineProperty(this,"associatedProgramId",void 0),_defineProperty(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:n,programId:r,payer:o,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(e,n,r,o,s,a){const c=Keypair.generate(),m=new Token(e,c.publicKey,a,n),en=await Token.getMinBalanceRentForExemptMint(e),tn=new Transaction;return tn.add(SystemProgram.createAccount({fromPubkey:n.publicKey,newAccountPubkey:c.publicKey,lamports:en,space:MintLayout.span,programId:a})),tn.add(Token.createInitMintInstruction(a,c.publicKey,s,r,o)),await sendAndConfirmTransaction$1("createAccount and InitializeMint",e,tn,n,c),m}async createAccount(e){const n=await Token.getMinBalanceRentForExemptAccount(this.connection),r=Keypair.generate(),o=new Transaction;o.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:n,space:AccountLayout.span,programId:this.programId}));const s=this.publicKey;return o.add(Token.createInitAccountInstruction(this.programId,s,r.publicKey,e)),await sendAndConfirmTransaction$1("createAccount and InitializeAccount",this.connection,o,this.payer,r),r.publicKey}async createAssociatedTokenAccount(e){const n=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,n)}async createAssociatedTokenAccountInternal(e,n){return await sendAndConfirmTransaction$1("CreateAssociatedTokenAccount",this.connection,new Transaction().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,n,e,this.payer.publicKey)),this.payer),n}async getOrCreateAssociatedAccountInfo(e){const n=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(n)}catch(r){if(r.message===FAILED_TO_FIND_ACCOUNT||r.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(e,n)}catch{}return await this.getAccountInfo(n)}else throw r}}static async createWrappedNativeAccount(e,n,r,o,s){const a=await Token.getMinBalanceRentForExemptAccount(e),c=Keypair.generate(),m=new Transaction;return m.add(SystemProgram.createAccount({fromPubkey:o.publicKey,newAccountPubkey:c.publicKey,lamports:a,space:AccountLayout.span,programId:n})),m.add(SystemProgram.transfer({fromPubkey:o.publicKey,toPubkey:c.publicKey,lamports:s})),m.add(Token.createInitAccountInstruction(n,NATIVE_MINT,c.publicKey,r)),await sendAndConfirmTransaction$1("createAccount, transfer, and initializeAccount",e,m,o,c),c.publicKey}async createMultisig(e,n){const r=Keypair.generate(),o=await Token.getMinBalanceRentForExemptMultisig(this.connection),s=new Transaction;s.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:o,space:MultisigLayout.span,programId:this.programId}));let a=[{pubkey:r.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];n.forEach(en=>a.push({pubkey:en,isSigner:!1,isWritable:!1}));const c=struct([u8("instruction"),u8("m")]),m=buffer.Buffer.alloc(c.span);return c.encode({instruction:2,m:e},m),s.add({keys:a,programId:this.programId,data:m}),await sendAndConfirmTransaction$1("createAccount and InitializeMultisig",this.connection,s,this.payer,r),r.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=MintLayout.span)throw new Error("Invalid mint size");const n=buffer.Buffer.from(e.data),r=MintLayout.decode(n);return r.mintAuthorityOption===0?r.mintAuthority=null:r.mintAuthority=new PublicKey(r.mintAuthority),r.supply=u64.fromBuffer(r.supply),r.isInitialized=r.isInitialized!=0,r.freezeAuthorityOption===0?r.freezeAuthority=null:r.freezeAuthority=new PublicKey(r.freezeAuthority),r}async getAccountInfo(e,n){const r=await this.connection.getAccountInfo(e,n);if(r===null)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!r.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(r.data.length!=AccountLayout.span)throw new Error("Invalid account size");const o=buffer.Buffer.from(r.data),s=AccountLayout.decode(o);if(s.address=e,s.mint=new PublicKey(s.mint),s.owner=new PublicKey(s.owner),s.amount=u64.fromBuffer(s.amount),s.delegateOption===0?(s.delegate=null,s.delegatedAmount=new u64):(s.delegate=new PublicKey(s.delegate),s.delegatedAmount=u64.fromBuffer(s.delegatedAmount)),s.isInitialized=s.state!==0,s.isFrozen=s.state===2,s.isNativeOption===1?(s.rentExemptReserve=u64.fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),s.closeAuthorityOption===0?s.closeAuthority=null:s.closeAuthority=new PublicKey(s.closeAuthority),!s.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(s.mint)} !== ${JSON.stringify(this.publicKey)}`);return s}async getMultisigInfo(e){const n=await this.connection.getAccountInfo(e);if(n===null)throw new Error("Failed to find multisig");if(!n.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(n.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const r=buffer.Buffer.from(n.data),o=MultisigLayout.decode(r);return o.signer1=new PublicKey(o.signer1),o.signer2=new PublicKey(o.signer2),o.signer3=new PublicKey(o.signer3),o.signer4=new PublicKey(o.signer4),o.signer5=new PublicKey(o.signer5),o.signer6=new PublicKey(o.signer6),o.signer7=new PublicKey(o.signer7),o.signer8=new PublicKey(o.signer8),o.signer9=new PublicKey(o.signer9),o.signer10=new PublicKey(o.signer10),o.signer11=new PublicKey(o.signer11),o}async transfer(e,n,r,o,s){let a,c;return isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=o),await sendAndConfirmTransaction$1("Transfer",this.connection,new Transaction().add(Token.createTransferInstruction(this.programId,e,n,a,o,s)),this.payer,...c)}async approve(e,n,r,o,s){let a,c;isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=o),await sendAndConfirmTransaction$1("Approve",this.connection,new Transaction().add(Token.createApproveInstruction(this.programId,e,n,a,o,s)),this.payer,...c)}async revoke(e,n,r){let o,s;isAccount(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await sendAndConfirmTransaction$1("Revoke",this.connection,new Transaction().add(Token.createRevokeInstruction(this.programId,e,o,r)),this.payer,...s)}async setAuthority(e,n,r,o,s){let a,c;isAccount(o)?(a=o.publicKey,c=[o]):(a=o,c=s),await sendAndConfirmTransaction$1("SetAuthority",this.connection,new Transaction().add(Token.createSetAuthorityInstruction(this.programId,e,n,r,a,s)),this.payer,...c)}async mintTo(e,n,r,o){let s,a;isAccount(n)?(s=n.publicKey,a=[n]):(s=n,a=r),await sendAndConfirmTransaction$1("MintTo",this.connection,new Transaction().add(Token.createMintToInstruction(this.programId,this.publicKey,e,s,r,o)),this.payer,...a)}async burn(e,n,r,o){let s,a;isAccount(n)?(s=n.publicKey,a=[n]):(s=n,a=r),await sendAndConfirmTransaction$1("Burn",this.connection,new Transaction().add(Token.createBurnInstruction(this.programId,this.publicKey,e,s,r,o)),this.payer,...a)}async closeAccount(e,n,r,o){let s,a;isAccount(r)?(s=r.publicKey,a=[r]):(s=r,a=o),await sendAndConfirmTransaction$1("CloseAccount",this.connection,new Transaction().add(Token.createCloseAccountInstruction(this.programId,e,n,s,o)),this.payer,...a)}async freezeAccount(e,n,r){let o,s;isAccount(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await sendAndConfirmTransaction$1("FreezeAccount",this.connection,new Transaction().add(Token.createFreezeAccountInstruction(this.programId,e,this.publicKey,o,r)),this.payer,...s)}async thawAccount(e,n,r){let o,s;isAccount(n)?(o=n.publicKey,s=[n]):(o=n,s=r),await sendAndConfirmTransaction$1("ThawAccount",this.connection,new Transaction().add(Token.createThawAccountInstruction(this.programId,e,this.publicKey,o,r)),this.payer,...s)}async transferChecked(e,n,r,o,s,a){let c,m;return isAccount(r)?(c=r.publicKey,m=[r]):(c=r,m=o),await sendAndConfirmTransaction$1("TransferChecked",this.connection,new Transaction().add(Token.createTransferCheckedInstruction(this.programId,e,this.publicKey,n,c,o,s,a)),this.payer,...m)}async approveChecked(e,n,r,o,s,a){let c,m;isAccount(r)?(c=r.publicKey,m=[r]):(c=r,m=o),await sendAndConfirmTransaction$1("ApproveChecked",this.connection,new Transaction().add(Token.createApproveCheckedInstruction(this.programId,e,this.publicKey,n,c,o,s,a)),this.payer,...m)}async mintToChecked(e,n,r,o,s){let a,c;isAccount(n)?(a=n.publicKey,c=[n]):(a=n,c=r),await sendAndConfirmTransaction$1("MintToChecked",this.connection,new Transaction().add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,e,a,r,o,s)),this.payer,...c)}async burnChecked(e,n,r,o,s){let a,c;isAccount(n)?(a=n.publicKey,c=[n]):(a=n,c=r),await sendAndConfirmTransaction$1("BurnChecked",this.connection,new Transaction().add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,e,a,r,o,s)),this.payer,...c)}async syncNative(e){await sendAndConfirmTransaction$1("SyncNative",this.connection,new Transaction().add(Token.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,n,r,o,s){let a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const c=struct([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let m=buffer.Buffer.alloc(1024);{const en=c.encode({instruction:0,decimals:r,mintAuthority:pubkeyToBuffer(o),option:s===null?0:1,freezeAuthority:pubkeyToBuffer(s||new PublicKey(0))},m);m=m.slice(0,en)}return new TransactionInstruction({keys:a,programId:e,data:m})}static createInitAccountInstruction(e,n,r,o){const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);return a.encode({instruction:1},c),new TransactionInstruction({keys:s,programId:e,data:c})}static createTransferInstruction(e,n,r,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),m=buffer.Buffer.alloc(c.span);c.encode({instruction:3,amount:new u64(a).toBuffer()},m);let en=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?en.push({pubkey:o,isSigner:!0,isWritable:!1}):(en.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(tn=>en.push({pubkey:tn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:en,programId:e,data:m})}static createApproveInstruction(e,n,r,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),m=buffer.Buffer.alloc(c.span);c.encode({instruction:4,amount:new u64(a).toBuffer()},m);let en=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?en.push({pubkey:o,isSigner:!0,isWritable:!1}):(en.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(tn=>en.push({pubkey:tn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:en,programId:e,data:m})}static createRevokeInstruction(e,n,r,o){const s=struct([u8("instruction")]),a=buffer.Buffer.alloc(s.span);s.encode({instruction:5},a);let c=[{pubkey:n,isSigner:!1,isWritable:!0}];return o.length===0?c.push({pubkey:r,isSigner:!0,isWritable:!1}):(c.push({pubkey:r,isSigner:!1,isWritable:!1}),o.forEach(m=>c.push({pubkey:m.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:c,programId:e,data:a})}static createSetAuthorityInstruction(e,n,r,o,s,a){const c=struct([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let m=buffer.Buffer.alloc(1024);{const tn=c.encode({instruction:6,authorityType:AuthorityTypeCodes[o],option:r===null?0:1,newAuthority:pubkeyToBuffer(r||new PublicKey(0))},m);m=m.slice(0,tn)}let en=[{pubkey:n,isSigner:!1,isWritable:!0}];return a.length===0?en.push({pubkey:s,isSigner:!0,isWritable:!1}):(en.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(tn=>en.push({pubkey:tn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:en,programId:e,data:m})}static createMintToInstruction(e,n,r,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),m=buffer.Buffer.alloc(c.span);c.encode({instruction:7,amount:new u64(a).toBuffer()},m);let en=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?en.push({pubkey:o,isSigner:!0,isWritable:!1}):(en.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(tn=>en.push({pubkey:tn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:en,programId:e,data:m})}static createBurnInstruction(e,n,r,o,s,a){const c=struct([u8("instruction"),uint64("amount")]),m=buffer.Buffer.alloc(c.span);c.encode({instruction:8,amount:new u64(a).toBuffer()},m);let en=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?en.push({pubkey:o,isSigner:!0,isWritable:!1}):(en.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(tn=>en.push({pubkey:tn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:en,programId:e,data:m})}static createCloseAccountInstruction(e,n,r,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:9},c);let m=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(en=>m.push({pubkey:en.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:c})}static createFreezeAccountInstruction(e,n,r,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:10},c);let m=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(en=>m.push({pubkey:en.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:c})}static createThawAccountInstruction(e,n,r,o,s){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:11},c);let m=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?m.push({pubkey:o,isSigner:!0,isWritable:!1}):(m.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(en=>m.push({pubkey:en.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:m,programId:e,data:c})}static createTransferCheckedInstruction(e,n,r,o,s,a,c,m){const en=struct([u8("instruction"),uint64("amount"),u8("decimals")]),tn=buffer.Buffer.alloc(en.span);en.encode({instruction:12,amount:new u64(c).toBuffer(),decimals:m},tn);let sn=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}];return a.length===0?sn.push({pubkey:s,isSigner:!0,isWritable:!1}):(sn.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(un=>sn.push({pubkey:un.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:sn,programId:e,data:tn})}static createApproveCheckedInstruction(e,n,r,o,s,a,c,m){const en=struct([u8("instruction"),uint64("amount"),u8("decimals")]),tn=buffer.Buffer.alloc(en.span);en.encode({instruction:13,amount:new u64(c).toBuffer(),decimals:m},tn);let sn=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return a.length===0?sn.push({pubkey:s,isSigner:!0,isWritable:!1}):(sn.push({pubkey:s,isSigner:!1,isWritable:!1}),a.forEach(un=>sn.push({pubkey:un.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:sn,programId:e,data:tn})}static createMintToCheckedInstruction(e,n,r,o,s,a,c){const m=struct([u8("instruction"),uint64("amount"),u8("decimals")]),en=buffer.Buffer.alloc(m.span);m.encode({instruction:14,amount:new u64(a).toBuffer(),decimals:c},en);let tn=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?tn.push({pubkey:o,isSigner:!0,isWritable:!1}):(tn.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(sn=>tn.push({pubkey:sn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:tn,programId:e,data:en})}static createBurnCheckedInstruction(e,n,r,o,s,a,c){const m=struct([u8("instruction"),uint64("amount"),u8("decimals")]),en=buffer.Buffer.alloc(m.span);m.encode({instruction:15,amount:new u64(a).toBuffer(),decimals:c},en);let tn=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return s.length===0?tn.push({pubkey:o,isSigner:!0,isWritable:!1}):(tn.push({pubkey:o,isSigner:!1,isWritable:!1}),s.forEach(sn=>tn.push({pubkey:sn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:tn,programId:e,data:en})}static createSyncNativeInstruction(e,n){const r=struct([u8("instruction")]),o=buffer.Buffer.alloc(r.span);r.encode({instruction:17},o);let s=[{pubkey:n,isSigner:!1,isWritable:!0}];return new TransactionInstruction({keys:s,programId:e,data:o})}static async getAssociatedTokenAddress(e,n,r,o,s=!1){if(!s&&!PublicKey.isOnCurve(o.toBuffer()))throw new Error(`Owner cannot sign: ${o.toString()}`);return(await PublicKey.findProgramAddress([o.toBuffer(),n.toBuffer(),r.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,n,r,o,s,a){const c=buffer.Buffer.alloc(0);let m=[{pubkey:a,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:m,programId:e,data:c})}}const index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID,AccountLayout,MintLayout,NATIVE_MINT,TOKEN_PROGRAM_ID,Token,u64},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_browser_esm);var hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers$1;hasRequiredHelpers=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(cn,gn,mn,yn){function wn(kn){return kn instanceof mn?kn:new mn(function(An){An(kn)})}return new(mn||(mn=Promise))(function(kn,An){function $n(Tn){try{En(yn.next(Tn))}catch(Pn){An(Pn)}}function Mn(Tn){try{En(yn.throw(Tn))}catch(Pn){An(Pn)}}function En(Tn){Tn.done?kn(Tn.value):wn(Tn.value).then($n,Mn)}En((yn=yn.apply(cn,gn||[])).next())})};Object.defineProperty(helpers$1,"__esModule",{value:!0}),helpers$1.getAccountInfo=helpers$1.getTokenAccount=helpers$1.getAssociatedTokenAddress=helpers$1.convertFactionStringToNum=helpers$1.longToByteArray=helpers$1.byteArrayToLong=helpers$1.stringToByteArray=helpers$1.byteArrayToString=void 0;const e=requireDist(),n=require$$0$1,r=require$$2,o=require$$1$1;function s(cn){return String.fromCharCode(...cn)}helpers$1.byteArrayToString=s;function a(cn,gn){if(cn.length>gn)return null;let mn=[];for(let yn=0;yn<gn;yn+=1){let wn=32;yn<cn.length&&(wn=cn.charCodeAt(yn)),mn=mn.concat([wn])}return mn}helpers$1.stringToByteArray=a;function c(cn){let gn=0;for(let mn=cn.length-1;mn>=0;mn-=1)gn=gn*256+cn[mn];return gn}helpers$1.byteArrayToLong=c;function m(cn){const gn=[0,0,0,0,0,0,0,0];for(let mn=0;mn<gn.length;mn+=1){const yn=cn&255;gn[mn]=yn,cn=(cn-yn)/256}return gn}helpers$1.longToByteArray=m;function en(cn){return t(this,void 0,void 0,function*(){switch(cn.toLowerCase()){case"mud":return e.FactionType.MUD;case"oni":return e.FactionType.ONI;case"ustur":return e.FactionType.Ustur;default:return e.FactionType.Unenlisted}})}helpers$1.convertFactionStringToNum=en;function tn(cn,gn){return t(this,void 0,void 0,function*(){const[mn]=yield r.PublicKey.findProgramAddress([cn.toBuffer(),o.TOKEN_PROGRAM_ID.toBuffer(),gn.toBuffer()],o.ASSOCIATED_TOKEN_PROGRAM_ID);return mn})}helpers$1.getAssociatedTokenAddress=tn;function sn(cn,gn,mn,yn=gn,wn){return t(this,void 0,void 0,function*(){const{value:kn}=yield cn.getParsedTokenAccountsByOwner(gn,{mint:mn});let An=null;if(wn===void 0){let $n=null;for(const Mn of kn)if(Mn.account.data.parsed.type==="account"){const En=Mn.account.data.parsed,Tn=new n.BN(En.info.tokenAmount.amount);($n===null||Tn.gt($n))&&(An=Mn.pubkey,$n=Tn)}}else{let $n=null;for(const Mn of kn)if(Mn.account.data.parsed.type==="account"){const En=Mn.account.data.parsed,Tn=new n.BN(En.info.tokenAmount.amount);Tn.gt(new n.BN(wn))&&($n===null||Tn.lt($n))&&(An=Mn.pubkey,$n=Tn)}}if(An===null){const $n=yield tn(gn,mn),{value:Mn}=yield cn.getParsedAccountInfo($n,"confirmed");if(Mn===null||Mn.owner.equals(r.SystemProgram.programId))return{tokenAccount:$n,createInstruction:o.Token.createAssociatedTokenAccountInstruction(o.ASSOCIATED_TOKEN_PROGRAM_ID,o.TOKEN_PROGRAM_ID,mn,$n,gn,yn)};if("program"in Mn.data&&Mn.data.parsed.type==="account"&&new r.PublicKey(Mn.data.parsed.info.owner).equals(gn))return{tokenAccount:$n};{const En=n.web3.Keypair.generate();return{tokenAccount:En,createInstruction:o.Token.createInitAccountInstruction(o.TOKEN_PROGRAM_ID,mn,En.publicKey,gn)}}}else return{tokenAccount:An}})}helpers$1.getTokenAccount=sn;function un(cn,gn){return t(this,void 0,void 0,function*(){const{value:mn}=yield cn.getParsedAccountInfo(gn);return mn.data})}return helpers$1.getAccountInfo=un,helpers$1}var wallet={},__awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(wallet,"__esModule",{value:!0});wallet.sendAndConfirmTransaction=void 0;const web3_js_1$3=require$$2;function sendAndConfirmTransaction(t,e,...n){return __awaiter$g(this,void 0,void 0,function*(){let r="";try{r=yield(0,web3_js_1$3.sendAndConfirmTransaction)(t,e,n,{skipPreflight:!0,commitment:"singleGossip",preflightCommitment:null})}catch(o){console.log(o)}return r})}wallet.sendAndConfirmTransaction=sendAndConfirmTransaction;var gmHelper$1={},marketplace={},instruction_builders={},BaseParams={};Object.defineProperty(BaseParams,"__esModule",{value:!0});var cancelOrder={},pda_getters$3={},order_getters={},getMarketplaceProgram$1={},gmIdl={};Object.defineProperty(gmIdl,"__esModule",{value:!0});gmIdl.baseIdl=void 0;gmIdl.baseIdl={version:"0.1.0",name:"marketplace",instructions:[{name:"addRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"deleteRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"}]},{name:"deregisterCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMarketplace",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateCurrencyVault",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCurrencyRoyalty",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"processInitializeBuy",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processInitializeSell",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!1,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"receive_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processExchange",accounts:[{name:"orderTaker",isMut:!0,isSigner:!0},{name:"orderTakerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderTakerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"assetMint",isMut:!1,isSigner:!1},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",account:"OrderAccount",path:"order_account.order_initializer_pubkey"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"saVault",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"atlasStaking",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1},{name:"stakingAccount",isMut:!1,isSigner:!1}],args:[{name:"purchaseQuantity",type:"u64"},{name:"expectedPrice",type:"u64"},{name:"seller",type:"publicKey"}]},{name:"processCancel",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeOpenOrdersCounter",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!1,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"MarketVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"bump",type:"u8"}]}},{name:"OpenOrdersCounter",type:{kind:"struct",fields:[{name:"openOrderCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"OrderAccount",type:{kind:"struct",fields:[{name:"orderInitializerPubkey",type:"publicKey"},{name:"currencyMint",type:"publicKey"},{name:"assetMint",type:"publicKey"},{name:"initializerCurrencyTokenAccount",type:"publicKey"},{name:"initializerAssetTokenAccount",type:"publicKey"},{name:"orderSide",type:{defined:"OrderSide"}},{name:"price",type:"u64"},{name:"orderOriginationQty",type:"u64"},{name:"orderRemainingQty",type:"u64"},{name:"createdAtTimestamp",type:"i64"}]}},{name:"RegisteredCurrency",type:{kind:"struct",fields:[{name:"tokenMint",type:"publicKey"},{name:"saCurrencyVault",type:"publicKey"},{name:"royalty",type:"u64"},{name:"bump",type:"u8"},{name:"royaltyTiers",type:{vec:{defined:"RoyaltyTier"}}}]}}],types:[{name:"RoyaltyTier",type:{kind:"struct",fields:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]}},{name:"OrderSide",type:{kind:"enum",variants:[{name:"Buy"},{name:"Sell"}]}},{name:"TokenType",type:{kind:"enum",variants:[{name:"Asset"},{name:"Currency"}]}}],errors:[{code:6e3,name:"InvalidDestinationAccount",msg:"Invalid Destination Token Account"},{code:6001,name:"InvalidInstruction",msg:"Invalid instruction."},{code:6002,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6003,name:"InvalidOfferAccountOwner",msg:"Invalid Offer Account Owner"},{code:6004,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"InvalidUpdateAuthorityAccount",msg:"Invalid Update Authority account"},{code:6007,name:"InvalidOrderVaultAuthorityAccount",msg:"Invalid Order Vault Authority account"},{code:6008,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6009,name:"InsufficientBalance",msg:"Insufficient Balance"},{code:6010,name:"InvalidOrderDuration",msg:"Invalid Order Duration"},{code:6011,name:"InvalidOriginationQty",msg:"Origination quantity must be greater than 0"},{code:6012,name:"InsufficientOrderQty",msg:"Insufficient Order Quantity Remaining"},{code:6013,name:"InvalidRoyalty",msg:"Invalid Royalty Value"},{code:6014,name:"InvalidCounter",msg:"Invalid Open Order Counter"},{code:6015,name:"MintDecimalError",msg:"Mint must be zero decimal"},{code:6016,name:"InvalidOrderAccountError",msg:"Order Account does not match provided account"},{code:6017,name:"InvalidRoyaltyTier",msg:"No royalty tier exists with provided stake amount"},{code:6018,name:"RoyaltyTierLength",msg:"Royalty Tier vector cannot hold any additional tiers"},{code:6019,name:"InvalidOrderPrice",msg:"Order price did not match expected price"},{code:6020,name:"DuplicateRoyaltyTier",msg:"Royalty tier already exists"},{code:6021,name:"InvalidSeller",msg:"Order seller did not match expected seller"}],metadata:{}};var gmLogsIdl$1={};Object.defineProperty(gmLogsIdl$1,"__esModule",{value:!0});gmLogsIdl$1.baseIdl=void 0;gmLogsIdl$1.baseIdl={version:"0.1.0",name:"gm_logs",instructions:[],events:[{name:"RegisterCurrencyMemo",fields:[{name:"updateAuthorityAccount",type:"publicKey",index:!1},{name:"registeredCurrency",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"saCurrencyVault",type:"publicKey",index:!1},{name:"royalty",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"InitializeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"ExchangeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"CancelOrderMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]}],metadata:{}};var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&__createBinding$1(e,t,n);return __setModuleDefault$1(e,t),e};Object.defineProperty(getMarketplaceProgram$1,"__esModule",{value:!0});getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram$1.getGmLogsIDL=getMarketplaceProgram$1.getGmIDL=void 0;const anchor_1$9=require$$0$1,gmIdl_1=gmIdl,gmLogsIdl=__importStar$1(gmLogsIdl$1);function getGmIDL(t){const e=gmIdl_1.baseIdl;return e.metadata.address=t.toBase58(),e}getMarketplaceProgram$1.getGmIDL=getGmIDL;function getGmLogsIDL(t){const e=gmLogsIdl.baseIdl;return e.metadata.address=t.toBase58(),e}getMarketplaceProgram$1.getGmLogsIDL=getGmLogsIDL;function getMarketplaceProgram({connection:t,programId:e}){const n=getGmIDL(e),r=new anchor_1$9.AnchorProvider(t,null,null);return new anchor_1$9.Program(n,e,r)}getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram;var __awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(order_getters,"__esModule",{value:!0});order_getters.getSingleOrder=order_getters.getOpenOrdersForPlayerAndAsset=order_getters.getOpenOrdersForPlayerAndCurrency=order_getters.getOpenOrdersForAsset=order_getters.getOpenOrdersForCurrency=order_getters.getOpenOrdersForPlayer=order_getters.getAllOpenOrders=void 0;const anchor_1$8=require$$0$1,getMarketplaceProgram_1$1=getMarketplaceProgram$1;function getAllOpenOrders(t,e){return __awaiter$f(this,void 0,void 0,function*(){const n=new anchor_1$8.AnchorProvider(t,null,null),r=(0,getMarketplaceProgram_1$1.getGmIDL)(e),o=new anchor_1$8.Program(r,e,n),s=[{dataSize:201}];return yield o.account.orderAccount.all(s)})}order_getters.getAllOpenOrders=getAllOpenOrders;function getOpenOrdersForPlayer(t,e,n){return __awaiter$f(this,void 0,void 0,function*(){const r=new anchor_1$8.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$1.getGmIDL)(n),s=new anchor_1$8.Program(o,n,r),a=[{dataSize:201},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForPlayer=getOpenOrdersForPlayer;function getOpenOrdersForCurrency(t,e,n){return __awaiter$f(this,void 0,void 0,function*(){const r=new anchor_1$8.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$1.getGmIDL)(n),s=new anchor_1$8.Program(o,n,r),a=[{dataSize:201},{memcmp:{offset:40,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForCurrency=getOpenOrdersForCurrency;function getOpenOrdersForAsset(t,e,n){return __awaiter$f(this,void 0,void 0,function*(){const r=new anchor_1$8.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$1.getGmIDL)(n),s=new anchor_1$8.Program(o,n,r),a=[{dataSize:201},{memcmp:{offset:72,bytes:e.toBase58()}}];return yield s.account.orderAccount.all(a)})}order_getters.getOpenOrdersForAsset=getOpenOrdersForAsset;function getOpenOrdersForPlayerAndCurrency(t,e,n,r){return __awaiter$f(this,void 0,void 0,function*(){const o=new anchor_1$8.AnchorProvider(t,null,null),s=(0,getMarketplaceProgram_1$1.getGmIDL)(r),a=new anchor_1$8.Program(s,r,o),c=[{dataSize:201},{memcmp:{offset:40,bytes:n.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForPlayerAndCurrency=getOpenOrdersForPlayerAndCurrency;function getOpenOrdersForPlayerAndAsset(t,e,n,r){return __awaiter$f(this,void 0,void 0,function*(){const o=new anchor_1$8.AnchorProvider(t,null,null),s=(0,getMarketplaceProgram_1$1.getGmIDL)(r),a=new anchor_1$8.Program(s,r,o),c=[{dataSize:201},{memcmp:{offset:72,bytes:n.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForPlayerAndAsset=getOpenOrdersForPlayerAndAsset;function getSingleOrder(t,e,n){return __awaiter$f(this,void 0,void 0,function*(){const r=new anchor_1$8.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$1.getGmIDL)(n);return yield new anchor_1$8.Program(o,n,r).account.orderAccount.fetch(e)})}order_getters.getSingleOrder=getSingleOrder;var pda_getters$2={},seeds$1={};Object.defineProperty(seeds$1,"__esModule",{value:!0});seeds$1.OPEN_ORDERS_COUNTER=seeds$1.REGISTERED_CURRENCY_SEED=seeds$1.ORDER_VAULT_AUTH_SEED=seeds$1.ORDER_VAULT_SEED=seeds$1.MARKET_VARS_SEED=void 0;seeds$1.MARKET_VARS_SEED=Buffer.from("market-vars");seeds$1.ORDER_VAULT_SEED=Buffer.from("order-vault-account");seeds$1.ORDER_VAULT_AUTH_SEED=Buffer.from("order-vault-auth");seeds$1.REGISTERED_CURRENCY_SEED=Buffer.from("registered-currency");seeds$1.OPEN_ORDERS_COUNTER=Buffer.from("open-orders-counter");var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&__createBinding(e,t,n);return __setModuleDefault(e,t),e},__awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(pda_getters$2,"__esModule",{value:!0});pda_getters$2.getOpenOrdersCounter=pda_getters$2.getAllRegisteredCurrencies=pda_getters$2.getRegisteredCurrencyAccount=pda_getters$2.getOrderVaultAuth=pda_getters$2.getOrderVault=pda_getters$2.getMarketVarsAccount=void 0;const anchor_1$7=require$$0$1,web3_js_1$2=require$$2,Seeds=__importStar(seeds$1),getMarketplaceProgram_1=getMarketplaceProgram$1;function getMarketVarsAccount(t){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.MARKET_VARS_SEED],t)})}pda_getters$2.getMarketVarsAccount=getMarketVarsAccount;function getOrderVault(t,e,n){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_SEED,t.toBuffer(),e.toBuffer()],n)})}pda_getters$2.getOrderVault=getOrderVault;function getOrderVaultAuth(t,e){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_AUTH_SEED,t.toBuffer()],e)})}pda_getters$2.getOrderVaultAuth=getOrderVaultAuth;function getRegisteredCurrencyAccount(t,e){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.REGISTERED_CURRENCY_SEED,e.toBuffer()],t)})}pda_getters$2.getRegisteredCurrencyAccount=getRegisteredCurrencyAccount;function getAllRegisteredCurrencies(t,e){return __awaiter$e(this,void 0,void 0,function*(){const n=new anchor_1$7.AnchorProvider(t,null,null),r=(0,getMarketplaceProgram_1.getGmIDL)(e),o=new anchor_1$7.Program(r,e,n),s=[{dataSize:1686}],a=yield o.account.registeredCurrency.all(s),c=[];for(const m of a){const en={mint:m.account.tokenMint,royalty:m.account.royalty,saVault:m.account.saCurrencyVault};c.push(en)}return c})}pda_getters$2.getAllRegisteredCurrencies=getAllRegisteredCurrencies;function getOpenOrdersCounter(t,e,n){return __awaiter$e(this,void 0,void 0,function*(){return web3_js_1$2.PublicKey.findProgramAddress([Seeds.OPEN_ORDERS_COUNTER,t.toBuffer(),e.toBuffer()],n)})}pda_getters$2.getOpenOrdersCounter=getOpenOrdersCounter;var pda_info_getters$1={},hasRequiredPda_info_getters;function requirePda_info_getters(){if(hasRequiredPda_info_getters)return pda_info_getters$1;hasRequiredPda_info_getters=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(tn,sn,un,cn){function gn(mn){return mn instanceof un?mn:new un(function(yn){yn(mn)})}return new(un||(un=Promise))(function(mn,yn){function wn($n){try{An(cn.next($n))}catch(Mn){yn(Mn)}}function kn($n){try{An(cn.throw($n))}catch(Mn){yn(Mn)}}function An($n){$n.done?mn($n.value):gn($n.value).then(wn,kn)}An((cn=cn.apply(tn,sn||[])).next())})};Object.defineProperty(pda_info_getters$1,"__esModule",{value:!0}),pda_info_getters$1.getRoyaltyReductionForStakingAccount=pda_info_getters$1.getRoyaltyReductionForUserAndMint=pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=pda_info_getters$1.getRegisteredCurrencyAccountInfo=pda_info_getters$1.getMarketVarsAccountInfo=void 0;const e=require$$0$1,n=pda_getters$2,r=getMarketplaceProgram$1,o=requireAtlasStaking();function s(tn,sn){return t(this,void 0,void 0,function*(){const un=(0,r.getMarketplaceProgram)({connection:tn,programId:sn}),[cn]=yield(0,n.getMarketVarsAccount)(sn);return yield un.account.marketVars.fetch(cn)})}pda_info_getters$1.getMarketVarsAccountInfo=s;function a(tn,sn,un){return t(this,void 0,void 0,function*(){const cn=(0,r.getMarketplaceProgram)({connection:tn,programId:sn}),[gn]=yield(0,n.getRegisteredCurrencyAccount)(sn,un);return yield cn.account.registeredCurrency.fetch(gn)})}pda_info_getters$1.getRegisteredCurrencyAccountInfo=a;function c(tn,sn,un){return t(this,void 0,void 0,function*(){return yield(0,r.getMarketplaceProgram)({connection:tn,programId:sn}).account.registeredCurrency.fetch(un)})}pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=c;function m(tn,sn,un,cn,gn,mn){return t(this,void 0,void 0,function*(){let yn=0;const wn=yield c(tn,sn,gn),[kn]=yield(0,o.getStakingAccount)(un,cn,mn),An=yield(0,o.getStakingAccountInfo)(tn,kn,un);if(An.unstakedTs.eq(new e.BN(0))){const $n=wn.royaltyTiers;let Mn=new e.BN(0);for(const En of $n)An.totalStake.gte(En.stakeAmount)&&(Mn=En.discount);yn=Mn.toNumber()/1e4}return yn})}pda_info_getters$1.getRoyaltyReductionForUserAndMint=m;function en(tn,sn,un,cn,gn){return t(this,void 0,void 0,function*(){let mn=0;const yn=yield c(tn,sn,gn),wn=yield(0,o.getStakingAccountInfo)(tn,cn,un);if(wn.unstakedTs.eq(new e.BN(0))){const kn=yn.royaltyTiers;let An=new e.BN(0);for(const $n of kn)wn.totalStake.gte($n.stakeAmount)&&(An=$n.discount);mn=An.toNumber()/1e4}return mn})}return pda_info_getters$1.getRoyaltyReductionForStakingAccount=en,pda_info_getters$1}var hasRequiredPda_getters;function requirePda_getters(){return hasRequiredPda_getters||(hasRequiredPda_getters=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(order_getters,t),n(pda_getters$2,t),n(requirePda_info_getters(),t),n(seeds$1,t)}(pda_getters$3)),pda_getters$3}var createOrderCounter={},utils={},gmHelper={},__awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(gmHelper,"__esModule",{value:!0});gmHelper.convertDecimalPriceToBn=gmHelper.initializeAtaForMint=gmHelper.getOrderSide=void 0;const anchor_1$6=require$$0$1,token_1$2=token,spl_token_1=require$$1$1,getOrderSide=t=>JSON.stringify(t.orderSide)===JSON.stringify({buy:{}})?"BuySide":"SellSide";gmHelper.getOrderSide=getOrderSide;function initializeAtaForMint({mint:t,owner:e,connection:n}){return __awaiter$d(this,void 0,void 0,function*(){const r=[],o=yield(0,token_1$2.associatedAddress)({mint:t,owner:e});return(yield n.getAccountInfo(o))===null&&r.push(spl_token_1.Token.createAssociatedTokenAccountInstruction(spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1.TOKEN_PROGRAM_ID,t,o,e,e)),{account:o,instructions:r}})}gmHelper.initializeAtaForMint=initializeAtaForMint;const convertDecimalPriceToBn=(t,e)=>new anchor_1$6.BN(t*Math.pow(10,e));gmHelper.convertDecimalPriceToBn=convertDecimalPriceToBn;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(getMarketplaceProgram$1,t),n(gmHelper,t)})(utils);var __awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(createOrderCounter,"__esModule",{value:!0});createOrderCounter.createOrderCounterInstruction=void 0;const utils_1$a=utils;function createOrderCounterInstruction({connection:t,payer:e,initializerMainAccount:n,depositMint:r,programId:o}){return __awaiter$c(this,void 0,void 0,function*(){return yield(0,utils_1$a.getMarketplaceProgram)({connection:t,programId:o}).methods.initializeOpenOrdersCounter().accounts({payer:e,user:n,depositMint:r}).instruction()})}createOrderCounter.createOrderCounterInstruction=createOrderCounterInstruction;var hasRequiredCancelOrder;function requireCancelOrder(){if(hasRequiredCancelOrder)return cancelOrder;hasRequiredCancelOrder=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(c,m,en,tn){function sn(un){return un instanceof en?un:new en(function(cn){cn(un)})}return new(en||(en=Promise))(function(un,cn){function gn(wn){try{yn(tn.next(wn))}catch(kn){cn(kn)}}function mn(wn){try{yn(tn.throw(wn))}catch(kn){cn(kn)}}function yn(wn){wn.done?un(wn.value):sn(wn.value).then(gn,mn)}yn((tn=tn.apply(c,m||[])).next())})};Object.defineProperty(cancelOrder,"__esModule",{value:!0}),cancelOrder.createCancelOrderInstruction=void 0;const e=require$$0$1,n=requirePda_getters(),r=createOrderCounter,o=utils,s=requireUtil();function a({connection:c,orderInitializer:m,orderAccount:en,programId:tn,payer:sn=m}){return t(this,void 0,void 0,function*(){const un=(0,o.getMarketplaceProgram)({connection:c,programId:tn}),cn={signers:[],instructions:[]},gn=yield un.account.orderAccount.fetch(en),yn=(0,o.getOrderSide)(gn)==="SellSide"?gn.assetMint:gn.currencyMint;let wn=null,kn=null;const An=yield(0,s.getTokenAccount)(c,m,yn);wn=An.tokenAccount,"createInstruction"in An&&cn.instructions.push(An.createInstruction),wn instanceof e.web3.Keypair?(kn=wn.publicKey,cn.signers.push(wn)):kn=wn;const[$n]=yield(0,n.getOpenOrdersCounter)(m,yn,tn);if((yield c.getAccountInfo($n))===null){const Tn=yield(0,r.createOrderCounterInstruction)({connection:c,payer:sn,initializerMainAccount:m,depositMint:yn,programId:tn});cn.instructions.push(Tn)}const En=yield un.methods.processCancel().accounts({signer:sn,depositMint:yn,orderInitializer:m,initializerDepositTokenAccount:kn,orderAccount:en}).instruction();return cn.instructions.push(En),cn})}return cancelOrder.createCancelOrderInstruction=a,cancelOrder}var createOrder={},hasRequiredCreateOrder;function requireCreateOrder(){if(hasRequiredCreateOrder)return createOrder;hasRequiredCreateOrder=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(en,tn,sn,un){function cn(gn){return gn instanceof sn?gn:new sn(function(mn){mn(gn)})}return new(sn||(sn=Promise))(function(gn,mn){function yn(An){try{kn(un.next(An))}catch($n){mn($n)}}function wn(An){try{kn(un.throw(An))}catch($n){mn($n)}}function kn(An){An.done?gn(An.value):cn(An.value).then(yn,wn)}kn((un=un.apply(en,tn||[])).next())})};Object.defineProperty(createOrder,"__esModule",{value:!0}),createOrder.createInitializeSellOrderInstruction=createOrder.createInitializeBuyOrderInstruction=void 0;const e=require$$0$1,n=utils,r=requireUtil(),o=requirePda_getters(),s=createOrderCounter,a=requireUtil();function c({connection:en,initializerMainAccount:tn,initializerDepositTokenAccount:sn,price:un,originationQty:cn,depositMint:gn,receiveMint:mn,programId:yn}){return t(this,void 0,void 0,function*(){const wn=(0,n.getMarketplaceProgram)({connection:en,programId:yn}),kn={signers:[],instructions:[]};let An=null,$n=null;const Mn=yield(0,r.getTokenAccount)(en,tn,mn);An=Mn.tokenAccount,"createInstruction"in Mn&&kn.instructions.push(Mn.createInstruction),An instanceof e.web3.Keypair?($n=An.publicKey,kn.signers.push(An)):$n=An;const[En]=yield(0,o.getOpenOrdersCounter)(tn,gn,yn);if((yield en.getAccountInfo(En))===null){const Kn=yield(0,s.createOrderCounterInstruction)({connection:en,payer:tn,initializerMainAccount:tn,depositMint:gn,programId:yn});kn.instructions.push(Kn)}const Pn=e.web3.Keypair.generate();kn.signers.push(Pn);const zn=yield(0,a.createAccountInstruction)(en,tn,Pn,yn);kn.instructions.push(zn);const Nn=yield wn.methods.processInitializeBuy(un,new e.BN(cn)).accounts({orderInitializer:tn,initializerDepositTokenAccount:sn,initializerReceiveTokenAccount:$n,orderAccount:Pn.publicKey,depositMint:gn,receiveMint:mn}).signers([Pn]).instruction();return kn.instructions.push(Nn),{orderAccount:Pn.publicKey,ixSet:kn}})}createOrder.createInitializeBuyOrderInstruction=c;function m({connection:en,initializerMainAccount:tn,initializerDepositTokenAccount:sn,price:un,originationQty:cn,depositMint:gn,receiveMint:mn,programId:yn}){return t(this,void 0,void 0,function*(){const wn=(0,n.getMarketplaceProgram)({connection:en,programId:yn}),kn={signers:[],instructions:[]};let An=null,$n=null;const Mn=yield(0,r.getTokenAccount)(en,tn,mn);An=Mn.tokenAccount,"createInstruction"in Mn&&kn.instructions.push(Mn.createInstruction),An instanceof e.web3.Keypair?($n=An.publicKey,kn.signers.push(An)):$n=An;const[En]=yield(0,o.getOpenOrdersCounter)(tn,gn,yn);if((yield en.getAccountInfo(En))===null){const Kn=yield(0,s.createOrderCounterInstruction)({connection:en,payer:tn,initializerMainAccount:tn,depositMint:gn,programId:yn});kn.instructions.push(Kn)}const Pn=e.web3.Keypair.generate();kn.signers.push(Pn);const zn=yield(0,a.createAccountInstruction)(en,tn,Pn,yn);kn.instructions.push(zn);const Nn=yield wn.methods.processInitializeSell(un,new e.BN(cn)).accounts({orderInitializer:tn,initializerDepositTokenAccount:sn,initializerReceiveTokenAccount:$n,orderAccount:Pn.publicKey,depositMint:gn,receiveMint:mn}).signers([Pn]).instruction();return kn.instructions.push(Nn),{orderAccount:Pn.publicKey,ixSet:kn}})}return createOrder.createInitializeSellOrderInstruction=m,createOrder}var deregisterCurrency={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(deregisterCurrency,"__esModule",{value:!0});deregisterCurrency.createDeregisterCurrencyInstruction=void 0;const utils_1$9=utils;function createDeregisterCurrencyInstruction({connection:t,updateAuthorityAccount:e,currencyMint:n,programId:r}){return __awaiter$b(this,void 0,void 0,function*(){const s=[yield(0,utils_1$9.getMarketplaceProgram)({connection:t,programId:r}).methods.deregisterCurrency().accounts({updateAuthorityAccount:e,currencyMint:n}).instruction()];return{accounts:[],instructions:s}})}deregisterCurrency.createDeregisterCurrencyInstruction=createDeregisterCurrencyInstruction;var exchangeOrder={},models={},Order={},big={exports:{}};(function(t){(function(e){var n,r=20,o=1,s=1e6,a=1e6,c=-7,m=21,en=!1,tn="[big.js] ",sn=tn+"Invalid ",un=sn+"decimal places",cn=sn+"rounding mode",gn=tn+"Division by zero",mn={},yn=void 0,wn=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function kn(){function En(Tn){var Pn=this;if(!(Pn instanceof En))return Tn===yn?kn():new En(Tn);if(Tn instanceof En)Pn.s=Tn.s,Pn.e=Tn.e,Pn.c=Tn.c.slice();else{if(typeof Tn!="string"){if(En.strict===!0&&typeof Tn!="bigint")throw TypeError(sn+"value");Tn=Tn===0&&1/Tn<0?"-0":String(Tn)}An(Pn,Tn)}Pn.constructor=En}return En.prototype=mn,En.DP=r,En.RM=o,En.NE=c,En.PE=m,En.strict=en,En.roundDown=0,En.roundHalfUp=1,En.roundHalfEven=2,En.roundUp=3,En}function An(En,Tn){var Pn,zn,Nn;if(!wn.test(Tn))throw Error(sn+"number");for(En.s=Tn.charAt(0)=="-"?(Tn=Tn.slice(1),-1):1,(Pn=Tn.indexOf("."))>-1&&(Tn=Tn.replace(".","")),(zn=Tn.search(/e/i))>0?(Pn<0&&(Pn=zn),Pn+=+Tn.slice(zn+1),Tn=Tn.substring(0,zn)):Pn<0&&(Pn=Tn.length),Nn=Tn.length,zn=0;zn<Nn&&Tn.charAt(zn)=="0";)++zn;if(zn==Nn)En.c=[En.e=0];else{for(;Nn>0&&Tn.charAt(--Nn)=="0";);for(En.e=Pn-zn-1,En.c=[],Pn=0;zn<=Nn;)En.c[Pn++]=+Tn.charAt(zn++)}return En}function $n(En,Tn,Pn,zn){var Nn=En.c;if(Pn===yn&&(Pn=En.constructor.RM),Pn!==0&&Pn!==1&&Pn!==2&&Pn!==3)throw Error(cn);if(Tn<1)zn=Pn===3&&(zn||!!Nn[0])||Tn===0&&(Pn===1&&Nn[0]>=5||Pn===2&&(Nn[0]>5||Nn[0]===5&&(zn||Nn[1]!==yn))),Nn.length=1,zn?(En.e=En.e-Tn+1,Nn[0]=1):Nn[0]=En.e=0;else if(Tn<Nn.length){if(zn=Pn===1&&Nn[Tn]>=5||Pn===2&&(Nn[Tn]>5||Nn[Tn]===5&&(zn||Nn[Tn+1]!==yn||Nn[Tn-1]&1))||Pn===3&&(zn||!!Nn[0]),Nn.length=Tn,zn){for(;++Nn[--Tn]>9;)if(Nn[Tn]=0,Tn===0){++En.e,Nn.unshift(1);break}}for(Tn=Nn.length;!Nn[--Tn];)Nn.pop()}return En}function Mn(En,Tn,Pn){var zn=En.e,Nn=En.c.join(""),Kn=Nn.length;if(Tn)Nn=Nn.charAt(0)+(Kn>1?"."+Nn.slice(1):"")+(zn<0?"e":"e+")+zn;else if(zn<0){for(;++zn;)Nn="0"+Nn;Nn="0."+Nn}else if(zn>0)if(++zn>Kn)for(zn-=Kn;zn--;)Nn+="0";else zn<Kn&&(Nn=Nn.slice(0,zn)+"."+Nn.slice(zn));else Kn>1&&(Nn=Nn.charAt(0)+"."+Nn.slice(1));return En.s<0&&Pn?"-"+Nn:Nn}mn.abs=function(){var En=new this.constructor(this);return En.s=1,En},mn.cmp=function(En){var Tn,Pn=this,zn=Pn.c,Nn=(En=new Pn.constructor(En)).c,Kn=Pn.s,_r=En.s,pn=Pn.e,on=En.e;if(!zn[0]||!Nn[0])return zn[0]?Kn:Nn[0]?-_r:0;if(Kn!=_r)return Kn;if(Tn=Kn<0,pn!=on)return pn>on^Tn?1:-1;for(_r=(pn=zn.length)<(on=Nn.length)?pn:on,Kn=-1;++Kn<_r;)if(zn[Kn]!=Nn[Kn])return zn[Kn]>Nn[Kn]^Tn?1:-1;return pn==on?0:pn>on^Tn?1:-1},mn.div=function(En){var Tn=this,Pn=Tn.constructor,zn=Tn.c,Nn=(En=new Pn(En)).c,Kn=Tn.s==En.s?1:-1,_r=Pn.DP;if(_r!==~~_r||_r<0||_r>s)throw Error(un);if(!Nn[0])throw Error(gn);if(!zn[0])return En.s=Kn,En.c=[En.e=0],En;var pn,on,ln,vn,xn,On=Nn.slice(),Hn=pn=Nn.length,Zn=zn.length,Rn=zn.slice(0,pn),fn=Rn.length,Dn=En,Hr=Dn.c=[],Fn=0,Vn=_r+(Dn.e=Tn.e-En.e)+1;for(Dn.s=Kn,Kn=Vn<0?0:Vn,On.unshift(0);fn++<pn;)Rn.push(0);do{for(ln=0;ln<10;ln++){if(pn!=(fn=Rn.length))vn=pn>fn?1:-1;else for(xn=-1,vn=0;++xn<pn;)if(Nn[xn]!=Rn[xn]){vn=Nn[xn]>Rn[xn]?1:-1;break}if(vn<0){for(on=fn==pn?Nn:On;fn;){if(Rn[--fn]<on[fn]){for(xn=fn;xn&&!Rn[--xn];)Rn[xn]=9;--Rn[xn],Rn[fn]+=10}Rn[fn]-=on[fn]}for(;!Rn[0];)Rn.shift()}else break}Hr[Fn++]=vn?ln:++ln,Rn[0]&&vn?Rn[fn]=zn[Hn]||0:Rn=[zn[Hn]]}while((Hn++<Zn||Rn[0]!==yn)&&Kn--);return!Hr[0]&&Fn!=1&&(Hr.shift(),Dn.e--,Vn--),Fn>Vn&&$n(Dn,Vn,Pn.RM,Rn[0]!==yn),Dn},mn.eq=function(En){return this.cmp(En)===0},mn.gt=function(En){return this.cmp(En)>0},mn.gte=function(En){return this.cmp(En)>-1},mn.lt=function(En){return this.cmp(En)<0},mn.lte=function(En){return this.cmp(En)<1},mn.minus=mn.sub=function(En){var Tn,Pn,zn,Nn,Kn=this,_r=Kn.constructor,pn=Kn.s,on=(En=new _r(En)).s;if(pn!=on)return En.s=-on,Kn.plus(En);var ln=Kn.c.slice(),vn=Kn.e,xn=En.c,On=En.e;if(!ln[0]||!xn[0])return xn[0]?En.s=-on:ln[0]?En=new _r(Kn):En.s=1,En;if(pn=vn-On){for((Nn=pn<0)?(pn=-pn,zn=ln):(On=vn,zn=xn),zn.reverse(),on=pn;on--;)zn.push(0);zn.reverse()}else for(Pn=((Nn=ln.length<xn.length)?ln:xn).length,pn=on=0;on<Pn;on++)if(ln[on]!=xn[on]){Nn=ln[on]<xn[on];break}if(Nn&&(zn=ln,ln=xn,xn=zn,En.s=-En.s),(on=(Pn=xn.length)-(Tn=ln.length))>0)for(;on--;)ln[Tn++]=0;for(on=Tn;Pn>pn;){if(ln[--Pn]<xn[Pn]){for(Tn=Pn;Tn&&!ln[--Tn];)ln[Tn]=9;--ln[Tn],ln[Pn]+=10}ln[Pn]-=xn[Pn]}for(;ln[--on]===0;)ln.pop();for(;ln[0]===0;)ln.shift(),--On;return ln[0]||(En.s=1,ln=[On=0]),En.c=ln,En.e=On,En},mn.mod=function(En){var Tn,Pn=this,zn=Pn.constructor,Nn=Pn.s,Kn=(En=new zn(En)).s;if(!En.c[0])throw Error(gn);return Pn.s=En.s=1,Tn=En.cmp(Pn)==1,Pn.s=Nn,En.s=Kn,Tn?new zn(Pn):(Nn=zn.DP,Kn=zn.RM,zn.DP=zn.RM=0,Pn=Pn.div(En),zn.DP=Nn,zn.RM=Kn,this.minus(Pn.times(En)))},mn.neg=function(){var En=new this.constructor(this);return En.s=-En.s,En},mn.plus=mn.add=function(En){var Tn,Pn,zn,Nn=this,Kn=Nn.constructor;if(En=new Kn(En),Nn.s!=En.s)return En.s=-En.s,Nn.minus(En);var _r=Nn.e,pn=Nn.c,on=En.e,ln=En.c;if(!pn[0]||!ln[0])return ln[0]||(pn[0]?En=new Kn(Nn):En.s=Nn.s),En;if(pn=pn.slice(),Tn=_r-on){for(Tn>0?(on=_r,zn=ln):(Tn=-Tn,zn=pn),zn.reverse();Tn--;)zn.push(0);zn.reverse()}for(pn.length-ln.length<0&&(zn=ln,ln=pn,pn=zn),Tn=ln.length,Pn=0;Tn;pn[Tn]%=10)Pn=(pn[--Tn]=pn[Tn]+ln[Tn]+Pn)/10|0;for(Pn&&(pn.unshift(Pn),++on),Tn=pn.length;pn[--Tn]===0;)pn.pop();return En.c=pn,En.e=on,En},mn.pow=function(En){var Tn=this,Pn=new Tn.constructor("1"),zn=Pn,Nn=En<0;if(En!==~~En||En<-a||En>a)throw Error(sn+"exponent");for(Nn&&(En=-En);En&1&&(zn=zn.times(Tn)),En>>=1,!!En;)Tn=Tn.times(Tn);return Nn?Pn.div(zn):zn},mn.prec=function(En,Tn){if(En!==~~En||En<1||En>s)throw Error(sn+"precision");return $n(new this.constructor(this),En,Tn)},mn.round=function(En,Tn){if(En===yn)En=0;else if(En!==~~En||En<-s||En>s)throw Error(un);return $n(new this.constructor(this),En+this.e+1,Tn)},mn.sqrt=function(){var En,Tn,Pn,zn=this,Nn=zn.constructor,Kn=zn.s,_r=zn.e,pn=new Nn("0.5");if(!zn.c[0])return new Nn(zn);if(Kn<0)throw Error(tn+"No square root");Kn=Math.sqrt(zn+""),Kn===0||Kn===1/0?(Tn=zn.c.join(""),Tn.length+_r&1||(Tn+="0"),Kn=Math.sqrt(Tn),_r=((_r+1)/2|0)-(_r<0||_r&1),En=new Nn((Kn==1/0?"5e":(Kn=Kn.toExponential()).slice(0,Kn.indexOf("e")+1))+_r)):En=new Nn(Kn+""),_r=En.e+(Nn.DP+=4);do Pn=En,En=pn.times(Pn.plus(zn.div(Pn)));while(Pn.c.slice(0,_r).join("")!==En.c.slice(0,_r).join(""));return $n(En,(Nn.DP-=4)+En.e+1,Nn.RM)},mn.times=mn.mul=function(En){var Tn,Pn=this,zn=Pn.constructor,Nn=Pn.c,Kn=(En=new zn(En)).c,_r=Nn.length,pn=Kn.length,on=Pn.e,ln=En.e;if(En.s=Pn.s==En.s?1:-1,!Nn[0]||!Kn[0])return En.c=[En.e=0],En;for(En.e=on+ln,_r<pn&&(Tn=Nn,Nn=Kn,Kn=Tn,ln=_r,_r=pn,pn=ln),Tn=new Array(ln=_r+pn);ln--;)Tn[ln]=0;for(on=pn;on--;){for(pn=0,ln=_r+on;ln>on;)pn=Tn[ln]+Kn[on]*Nn[ln-on-1]+pn,Tn[ln--]=pn%10,pn=pn/10|0;Tn[ln]=pn}for(pn?++En.e:Tn.shift(),on=Tn.length;!Tn[--on];)Tn.pop();return En.c=Tn,En},mn.toExponential=function(En,Tn){var Pn=this,zn=Pn.c[0];if(En!==yn){if(En!==~~En||En<0||En>s)throw Error(un);for(Pn=$n(new Pn.constructor(Pn),++En,Tn);Pn.c.length<En;)Pn.c.push(0)}return Mn(Pn,!0,!!zn)},mn.toFixed=function(En,Tn){var Pn=this,zn=Pn.c[0];if(En!==yn){if(En!==~~En||En<0||En>s)throw Error(un);for(Pn=$n(new Pn.constructor(Pn),En+Pn.e+1,Tn),En=En+Pn.e+1;Pn.c.length<En;)Pn.c.push(0)}return Mn(Pn,!1,!!zn)},mn.toJSON=mn.toString=function(){var En=this,Tn=En.constructor;return Mn(En,En.e<=Tn.NE||En.e>=Tn.PE,!!En.c[0])},mn.toNumber=function(){var En=Number(Mn(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(En.toString()))throw Error(tn+"Imprecise conversion");return En},mn.toPrecision=function(En,Tn){var Pn=this,zn=Pn.constructor,Nn=Pn.c[0];if(En!==yn){if(En!==~~En||En<1||En>s)throw Error(sn+"precision");for(Pn=$n(new zn(Pn),En,Tn);Pn.c.length<En;)Pn.c.push(0)}return Mn(Pn,En<=Pn.e||Pn.e<=zn.NE||Pn.e>=zn.PE,!!Nn)},mn.valueOf=function(){var En=this,Tn=En.constructor;if(Tn.strict===!0)throw Error(tn+"valueOf disallowed");return Mn(En,En.e<=Tn.NE||En.e>=Tn.PE,!0)},n=kn(),n.default=n.Big=n,t.exports?t.exports=n:e.Big=n})(commonjsGlobal)})(big);function die(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:mockGlobal}var assign=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var noop=function t(){};function isFunction(t){return typeof t=="function"}function isStringish(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function isObject(t){return t!==null&&typeof t=="object"}function isPlainObject(t){if(!isObject(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===plainObjectString}function isGenerator(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function addHiddenProp$1(t,e,n){defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function addHiddenFinalProp(t,e,n){defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function createInstanceofPredicate(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return isObject(r)&&r[n]===!0}}function isES6Map(t){return t instanceof Map}function isES6Set(t){return t instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(t){var e=Object.keys(t);if(!hasGetOwnPropertySymbols)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return objectPrototype.propertyIsEnumerable.call(t,r)})):e}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function toPrimitive(t){return t===null?null:typeof t=="object"?""+t:t}function hasProp(t,e){return objectPrototype.hasOwnProperty.call(t,e)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function t(e){var n={};return ownKeys(e).forEach(function(r){n[r]=getDescriptor(e,r)}),n};function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _extends(){return _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_setPrototypeOf(t,e)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _unsupportedIterableToArray(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(t,e)}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _createForOfIteratorHelperLoose(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(t){function e(n,r){storeAnnotation(n,r,t)}return Object.assign(e,t)}function storeAnnotation(t,e,n){hasProp(t,storedAnnotationsSymbol)||addHiddenProp$1(t,storedAnnotationsSymbol,_extends({},t[storedAnnotationsSymbol])),isOverride(n)||(t[storedAnnotationsSymbol][e]=n)}function collectStoredAnnotations(t){return hasProp(t,storedAnnotationsSymbol)||addHiddenProp$1(t,storedAnnotationsSymbol,_extends({},t[storedAnnotationsSymbol])),t[storedAnnotationsSymbol]}var $mobx=Symbol("mobx administration"),Atom=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return reportObserved(this)},e.reportChanged=function(){startBatch(),propagateChanged(this),endBatch()},e.toString=function(){return this.name_},t}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(t,e,n){e===void 0&&(e=noop),n===void 0&&(n=noop);var r=new Atom(t);return e!==noop&&onBecomeObserved(r,e),n!==noop&&onBecomeUnobserved(r,n),r}function identityComparer(t,e){return t===e}function structuralComparer(t,e){return deepEqual(t,e)}function shallowComparer(t,e){return deepEqual(t,e,1)}function defaultComparer(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(t,e,n){return isObservable(t)?t:Array.isArray(t)?observable.array(t,{name:n}):isPlainObject(t)?observable.object(t,void 0,{name:n}):isES6Map(t)?observable.map(t,{name:n}):isES6Set(t)?observable.set(t,{name:n}):typeof t=="function"&&!isAction(t)&&!isFlow(t)?isGenerator(t)?flow(t):autoAction(n,t):t}function shallowEnhancer(t,e,n){if(t==null||isObservableObject(t)||isObservableArray(t)||isObservableMap(t)||isObservableSet(t))return t;if(Array.isArray(t))return observable.array(t,{name:n,deep:!1});if(isPlainObject(t))return observable.object(t,void 0,{name:n,deep:!1});if(isES6Map(t))return observable.map(t,{name:n,deep:!1});if(isES6Set(t))return observable.set(t,{name:n,deep:!1})}function referenceEnhancer(t){return t}function refStructEnhancer(t,e){return deepEqual(t,e)?e:t}var OVERRIDE="override",override=createDecoratorAnnotation({annotationType_:OVERRIDE,make_,extend_});function isOverride(t){return t.annotationType_===OVERRIDE}function make_(t,e){return 0}function extend_(t,e,n,r){die("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function createActionAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$1,extend_:extend_$1}}function make_$1(t,e,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(isAction(n.value))return 1;var s=createActionDescriptor(t,this,e,n,!1);return defineProperty(r,e,s),2}function extend_$1(t,e,n,r){var o=createActionDescriptor(t,this,e,n);return t.defineProperty_(e,o,r)}function assertActionDescriptor(t,e,n,r){e.annotationType_,r.value}function createActionDescriptor(t,e,n,r,o){var s,a,c,m,en,tn,sn;o===void 0&&(o=globalState.safeDescriptors),assertActionDescriptor(t,e,n,r);var un=r.value;if((s=e.options_)!=null&&s.bound){var cn;un=un.bind((cn=t.proxy_)!=null?cn:t.target_)}return{value:createAction((a=(c=e.options_)==null?void 0:c.name)!=null?a:n.toString(),un,(m=(en=e.options_)==null?void 0:en.autoAction)!=null?m:!1,(tn=e.options_)!=null&&tn.bound?(sn=t.proxy_)!=null?sn:t.target_:void 0),configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function createFlowAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$2,extend_:extend_$2}}function make_$2(t,e,n,r){var o;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!hasProp(t.target_,e)||!isFlow(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(isFlow(n.value))return 1;var s=createFlowDescriptor(t,this,e,n,!1,!1);return defineProperty(r,e,s),2}function extend_$2(t,e,n,r){var o,s=createFlowDescriptor(t,this,e,n,(o=this.options_)==null?void 0:o.bound);return t.defineProperty_(e,s,r)}function assertFlowDescriptor(t,e,n,r){e.annotationType_,r.value}function createFlowDescriptor(t,e,n,r,o,s){s===void 0&&(s=globalState.safeDescriptors),assertFlowDescriptor(t,e,n,r);var a=r.value;if(isFlow(a)||(a=flow(a)),o){var c;a=a.bind((c=t.proxy_)!=null?c:t.target_),a.isMobXFlow=!0}return{value:a,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function createComputedAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$3,extend_:extend_$3}}function make_$3(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function extend_$3(t,e,n,r){return assertComputedDescriptor(t,this,e,n),t.defineComputedProperty_(e,_extends({},this.options_,{get:n.get,set:n.set}),r)}function assertComputedDescriptor(t,e,n,r){e.annotationType_,r.get}function createObservableAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$4,extend_:extend_$4}}function make_$4(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function extend_$4(t,e,n,r){var o,s;return assertObservableDescriptor(t,this),t.defineObservableProperty_(e,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:deepEnhancer,r)}function assertObservableDescriptor(t,e,n,r){e.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(t){return{annotationType_:AUTO,options_:t,make_:make_$5,extend_:extend_$5}}function make_$5(t,e,n,r){var o,s;if(n.get)return computed.make_(t,e,n,r);if(n.set){var a=createAction(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:globalState.safeDescriptors?t.isPlainObject_:!0,set:a})===null?0:2:(defineProperty(r,e,{configurable:!0,set:a}),2)}if(r!==t.target_&&typeof n.value=="function"){var c;if(isGenerator(n.value)){var m,en=(m=this.options_)!=null&&m.autoBind?flow.bound:flow;return en.make_(t,e,n,r)}var tn=(c=this.options_)!=null&&c.autoBind?autoAction.bound:autoAction;return tn.make_(t,e,n,r)}var sn=((o=this.options_)==null?void 0:o.deep)===!1?observable.ref:observable;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var un;n.value=n.value.bind((un=t.proxy_)!=null?un:t.target_)}return sn.make_(t,e,n,r)}function extend_$5(t,e,n,r){var o,s;if(n.get)return computed.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:globalState.safeDescriptors?t.isPlainObject_:!0,set:createAction(e.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var a;n.value=n.value.bind((a=t.proxy_)!=null?a:t.target_)}var c=((s=this.options_)==null?void 0:s.deep)===!1?observable.ref:observable;return c.extend_(t,e,n,r)}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(t){return t||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(t){return t.deep===!0?deepEnhancer:t.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(t.defaultDecorator)}function getAnnotationFromOptions(t){var e;return t?(e=t.defaultDecorator)!=null?e:createAutoAnnotation(t):void 0}function getEnhancerFromAnnotation(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:deepEnhancer}function createObservable(t,e,n){if(isStringish(e)){storeAnnotation(t,e,observableAnnotation);return}return isObservable(t)?t:isPlainObject(t)?observable.object(t,e,n):Array.isArray(t)?observable.array(t,e):isES6Map(t)?observable.map(t,e):isES6Set(t)?observable.set(t,e):typeof t=="object"&&t!==null?t:observable.box(t,e)}Object.assign(createObservable,observableDecoratorAnnotation);var observableFactories={box:function t(e,n){var r=asCreateObservableOptions(n);return new ObservableValue(e,getEnhancerFromOptions(r),r.name,!0,r.equals)},array:function t(e,n){var r=asCreateObservableOptions(n);return(globalState.useProxies===!1||r.proxy===!1?createLegacyArray:createObservableArray)(e,getEnhancerFromOptions(r),r.name)},map:function t(e,n){var r=asCreateObservableOptions(n);return new ObservableMap(e,getEnhancerFromOptions(r),r.name)},set:function t(e,n){var r=asCreateObservableOptions(n);return new ObservableSet(e,getEnhancerFromOptions(r),r.name)},object:function t(e,n,r){return extendObservable(globalState.useProxies===!1||r?.proxy===!1?asObservableObject({},r):asDynamicObservableObject({},r),e,n)},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable=assign(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function t(e,n){if(isStringish(n))return storeAnnotation(e,n,computedAnnotation);if(isPlainObject(e))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,e));var r=isPlainObject(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new ComputedValue(r)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(t,e,n,r){n===void 0&&(n=!1);function o(){return executeAction(t,n,e,r||this,arguments)}return o.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=t,Object.defineProperty(o,"name",tmpNameDescriptor)),o}function executeAction(t,e,n,r,o){var s=_startAction(t,e);try{return n.apply(r,o)}catch(a){throw s.error_=a,a}finally{_endAction(s)}}function _startAction(t,e,n,r){var o=!1,s=0,a=globalState.trackingDerivation,c=!e||!a;startBatch();var m=globalState.allowStateChanges;c&&(untrackedStart(),m=allowStateChangesStart(!0));var en=allowStateReadsStart(!0),tn={runAsAction_:c,prevDerivation_:a,prevAllowStateChanges_:m,prevAllowStateReads_:en,notifySpy_:o,startTime_:s,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=tn.actionId_,tn}function _endAction(t){currentActionId!==t.actionId_&&die(30),currentActionId=t.parentActionId_,t.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(t.prevAllowStateChanges_),allowStateReadsEnd(t.prevAllowStateReads_),endBatch(),t.runAsAction_&&untrackedEnd(t.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(t,e){var n=allowStateChangesStart(t);try{return e()}finally{allowStateChangesEnd(n)}}function allowStateChangesStart(t){var e=globalState.allowStateChanges;return globalState.allowStateChanges=t,e}function allowStateChangesEnd(t){globalState.allowStateChanges=t}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(t){_inheritsLoose(e,t);function e(r,o,s,a,c){var m;return s===void 0&&(s="ObservableValue"),c===void 0&&(c=comparer.default),m=t.call(this,s)||this,m.enhancer=void 0,m.name_=void 0,m.equals=void 0,m.hasUnreportedChange_=!1,m.interceptors_=void 0,m.changeListeners_=void 0,m.value_=void 0,m.dehancer=void 0,m.enhancer=o,m.name_=s,m.equals=c,m.value_=o(r,void 0,s),m}var n=e.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==globalState.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(hasInterceptors(this)){var s=interceptChange(this,{object:this,type:UPDATE,newValue:o});if(!s)return globalState.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?globalState.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return registerInterceptor(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return toPrimitive(this.get())},n[_Symbol$toPrimitive]=function(){return this.valueOf()},e}(Atom),isObservableValue=createInstanceofPredicate("ObservableValue",ObservableValue),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function t(n){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||die(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=createAction("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?comparer.structural:comparer.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){propagateMaybeChanged(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var r=globalState.trackingContext;this.keepAlive_&&!r&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=r}var o=this.value_;if(isCaughtException(o))throw o.cause;return o},e.set=function(r){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,s=this.computeValue_(!0),a=o||isCaughtException(r)||isCaughtException(s)||!this.equals_(r,s);return a&&(this.value_=s),a},e.computeValue_=function(r){this.isComputing_=!0;var o=allowStateChangesStart(!1),s;if(r)s=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(a){s=new CaughtException(a)}return allowStateChangesEnd(o),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},e.observe_=function(r,o){var s=this,a=!0,c=void 0;return autorun(function(){var m=s.get();if(!a||o){var en=untrackedStart();r({observableKind:"computed",debugObjectName:s.name_,type:UPDATE,object:s,newValue:m,oldValue:c}),untrackedEnd(en)}a=!1,c=m})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return toPrimitive(this.get())},e[_Symbol$toPrimitive$1]=function(){return this.valueOf()},t}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function t(e){this.cause=void 0,this.cause=e};function isCaughtException(t){return t instanceof CaughtException}function shouldCompute(t){switch(t.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var e=allowStateReadsStart(!0),n=untrackedStart(),r=t.observing_,o=r.length,s=0;s<o;s++){var a=r[s];if(isComputedValue(a)){if(globalState.disableErrorBoundaries)a.get();else try{a.get()}catch{return untrackedEnd(n),allowStateReadsEnd(e),!0}if(t.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(n),allowStateReadsEnd(e),!0}}return changeDependenciesStateTo0(t),untrackedEnd(n),allowStateReadsEnd(e),!1}}}function isComputingDerivation(){return globalState.trackingDerivation!==null}function checkIfStateModificationsAreAllowed(t){}function trackDerivedFunction(t,e,n){var r=allowStateReadsStart(!0);changeDependenciesStateTo0(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++globalState.runId;var o=globalState.trackingDerivation;globalState.trackingDerivation=t,globalState.inBatch++;var s;if(globalState.disableErrorBoundaries===!0)s=e.call(n);else try{s=e.call(n)}catch(a){s=new CaughtException(a)}return globalState.inBatch--,globalState.trackingDerivation=o,bindDependencies(t),allowStateReadsEnd(r),s}function bindDependencies(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=IDerivationState_.UP_TO_DATE_,o=0,s=t.unboundDepsCount_,a=0;a<s;a++){var c=n[a];c.diffValue_===0&&(c.diffValue_=1,o!==a&&(n[o]=c),o++),c.dependenciesState_>r&&(r=c.dependenciesState_)}for(n.length=o,t.newObserving_=null,s=e.length;s--;){var m=e[s];m.diffValue_===0&&removeObserver(m,t),m.diffValue_=0}for(;o--;){var en=n[o];en.diffValue_===1&&(en.diffValue_=0,addObserver(en,t))}r!==IDerivationState_.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function clearObserving(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)removeObserver(e[n],t);t.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(t){var e=untrackedStart();try{return t()}finally{untrackedEnd(e)}}function untrackedStart(){var t=globalState.trackingDerivation;return globalState.trackingDerivation=null,t}function untrackedEnd(t){globalState.trackingDerivation=t}function allowStateReadsStart(t){var e=globalState.allowStateReads;return globalState.allowStateReads=t,e}function allowStateReadsEnd(t){globalState.allowStateReads=t}function changeDependenciesStateTo0(t){if(t.dependenciesState_!==IDerivationState_.UP_TO_DATE_){t.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var persistentKeys=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],MobXGlobals=function t(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){var t=getGlobal();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(canMergeGlobalState=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){if((globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState){var t=getGlobal();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),globalState=new MobXGlobals}}function getGlobalState(){return globalState}function resetGlobalState(){var t=new MobXGlobals;for(var e in t)persistentKeys.indexOf(e)===-1&&(globalState[e]=t[e]);globalState.allowStateChanges=!globalState.enforceActions}function hasObservers(t){return t.observers_&&t.observers_.size>0}function getObservers(t){return t.observers_}function addObserver(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function removeObserver(t,e){t.observers_.delete(e),t.observers_.size===0&&queueForUnobservation(t)}function queueForUnobservation(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(t))}function startBatch(){globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var t=globalState.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof ComputedValue&&n.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(t){var e=globalState.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&globalState.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(t.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(t),!1)}function propagateChanged(t){t.lowestObserverState_!==IDerivationState_.STALE_&&(t.lowestObserverState_=IDerivationState_.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(t){t.lowestObserverState_!==IDerivationState_.STALE_&&(t.lowestObserverState_=IDerivationState_.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?e.dependenciesState_=IDerivationState_.STALE_:e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(t.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(t){t.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(t.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(e.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Reaction=function(){function t(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var r=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}globalState.trackingContext=r,endBatch()}},e.track=function(r){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var o=globalState.trackingContext;globalState.trackingContext=this;var s=trackDerivedFunction(this,r,void 0);globalState.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(s)&&this.reportExceptionInDerivation_(s.cause),endBatch()}},e.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(globalState.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(s,r),globalState.globalReactionErrorHandlers.forEach(function(a){return a(r,o)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},e.getDisposer_=function(){var r=this.dispose.bind(this);return r[$mobx]=this,r},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){r===void 0&&(r=!1),trace(this,r)},t}();function onReactionError(t){return globalState.globalReactionErrorHandlers.push(t),function(){var e=globalState.globalReactionErrorHandlers.indexOf(t);e>=0&&globalState.globalReactionErrorHandlers.splice(e,1)}}var MAX_REACTION_ITERATIONS=100,reactionScheduler=function t(e){return e()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var t=globalState.pendingReactions,e=0;t.length>0;){++e===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(t){var e=reactionScheduler;reactionScheduler=function(r){return t(function(){return e(r)})}}function isSpyEnabled(){return!1}function spyReport(t){}function spyReportStart(t){}function spyReportEnd(t){}function spy(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(t){var e=function(r,o){if(isFunction(r))return createAction(r.name||DEFAULT_ACTION_NAME,r,t);if(isFunction(o))return createAction(r,o,t);if(isStringish(o))return storeAnnotation(r,o,t?autoActionAnnotation:actionAnnotation);if(isStringish(r))return createDecoratorAnnotation(createActionAnnotation(t?AUTOACTION:ACTION,{name:r,autoAction:t}))};return e}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(t){return executeAction(t.name||DEFAULT_ACTION_NAME,!1,t,this,void 0)}function isAction(t){return isFunction(t)&&t.isMobxAction===!0}function autorun(t,e){var n,r;e===void 0&&(e=EMPTY_OBJECT);var o=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",s=!e.scheduler&&!e.delay,a;if(s)a=new Reaction(o,function(){this.track(en)},e.onError,e.requiresObservable);else{var c=createSchedulerFromOptions(e),m=!1;a=new Reaction(o,function(){m||(m=!0,c(function(){m=!1,a.isDisposed_||a.track(en)}))},e.onError,e.requiresObservable)}function en(){t(a)}return a.schedule_(),a.getDisposer_()}var run=function t(e){return e()};function createSchedulerFromOptions(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:run}function reaction(t,e,n){var r;n===void 0&&(n=EMPTY_OBJECT);var o=(r=n.name)!=null?r:"Reaction",s=action(o,n.onError?wrapErrorHandler(n.onError,e):e),a=!n.scheduler&&!n.delay,c=createSchedulerFromOptions(n),m=!0,en=!1,tn,sn,un=n.compareStructural?comparer.structural:n.equals||comparer.default,cn=new Reaction(o,function(){m||a?gn():en||(en=!0,c(gn))},n.onError,n.requiresObservable);function gn(){if(en=!1,!cn.isDisposed_){var mn=!1;cn.track(function(){var yn=allowStateChanges(!1,function(){return t(cn)});mn=m||!un(tn,yn),sn=tn,tn=yn}),(m&&n.fireImmediately||!m&&mn)&&s(tn,sn,cn),m=!1}}return cn.schedule_(),cn.getDisposer_()}function wrapErrorHandler(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(t,e,n){return interceptHook(ON_BECOME_OBSERVED,t,e,n)}function onBecomeUnobserved(t,e,n){return interceptHook(ON_BECOME_UNOBSERVED,t,e,n)}function interceptHook(t,e,n,r){var o=typeof r=="function"?getAtom(e,n):getAtom(e),s=isFunction(r)?r:n,a=t+"L";return o[a]?o[a].add(s):o[a]=new Set([s]),function(){var c=o[a];c&&(c.delete(s),c.size===0&&delete o[a])}}var NEVER="never",ALWAYS="always",OBSERVED="observed";function configure(t){t.isolateGlobalState===!0&&isolateGlobalState();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(globalState.useProxies=e===ALWAYS?!0:e===NEVER?!1:typeof Proxy<"u"),e==="ifavailable"&&(globalState.verifyProxies=!0),n!==void 0){var r=n===ALWAYS?ALWAYS:n===OBSERVED;globalState.enforceActions=r,globalState.allowStateChanges=!(r===!0||r===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in t&&(globalState[o]=!!t[o])}),globalState.allowStateReads=!globalState.observableRequiresReaction,t.reactionScheduler&&setReactionScheduler(t.reactionScheduler)}function extendObservable(t,e,n,r){var o=getOwnPropertyDescriptors(e),s=asObservableObject(t,r)[$mobx];startBatch();try{ownKeys(o).forEach(function(a){s.extend_(a,o[a],n&&a in n?n[a]:!0)})}finally{endBatch()}return t}function getDependencyTree(t,e){return nodeToDependencyTree(getAtom(t,e))}function nodeToDependencyTree(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=unique(t.observing_).map(nodeToDependencyTree)),e}function getObserverTree(t,e){return nodeToObserverTree(getAtom(t,e))}function nodeToObserverTree(t){var e={name:t.name_};return hasObservers(t)&&(e.observers=Array.from(getObservers(t)).map(nodeToObserverTree)),e}function unique(t){return Array.from(new Set(t))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);function isFlowCancellationError(t){return t instanceof FlowCancellationError}var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function t(e,n){if(isStringish(n))return storeAnnotation(e,n,flowAnnotation);var r=e,o=r.name||"<unnamed flow>",s=function(){var c=this,m=arguments,en=++generatorId,tn=action(o+" - runid: "+en+" - init",r).apply(c,m),sn,un=void 0,cn=new Promise(function(gn,mn){var yn=0;sn=mn;function wn($n){un=void 0;var Mn;try{Mn=action(o+" - runid: "+en+" - yield "+yn++,tn.next).call(tn,$n)}catch(En){return mn(En)}An(Mn)}function kn($n){un=void 0;var Mn;try{Mn=action(o+" - runid: "+en+" - yield "+yn++,tn.throw).call(tn,$n)}catch(En){return mn(En)}An(Mn)}function An($n){if(isFunction($n?.then)){$n.then(An,mn);return}return $n.done?gn($n.value):(un=Promise.resolve($n.value),un.then(wn,kn))}wn(void 0)});return cn.cancel=action(o+" - runid: "+en+" - cancel",function(){try{un&&cancelPromise(un);var gn=tn.return(void 0),mn=Promise.resolve(gn.value);mn.then(noop,noop),cancelPromise(mn),sn(new FlowCancellationError)}catch(yn){sn(yn)}}),cn};return s.isMobXFlow=!0,s},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(t){isFunction(t.cancel)&&t.cancel()}function flowResult(t){return t}function isFlow(t){return t?.isMobXFlow===!0}function interceptReads(t,e,n){var r;return isObservableMap(t)||isObservableArray(t)||isObservableValue(t)?r=getAdministration(t):isObservableObject(t)&&(r=getAdministration(t,e)),r.dehancer=typeof e=="function"?e:n,function(){r.dehancer=void 0}}function intercept(t,e,n){return isFunction(n)?interceptProperty(t,e,n):interceptInterceptable(t,e)}function interceptInterceptable(t,e){return getAdministration(t).intercept_(e)}function interceptProperty(t,e,n){return getAdministration(t,e).intercept_(n)}function _isComputed(t,e){if(e===void 0)return isComputedValue(t);if(isObservableObject(t)===!1||!t[$mobx].values_.has(e))return!1;var n=getAtom(t,e);return isComputedValue(n)}function isComputed(t){return _isComputed(t)}function isComputedProp(t,e){return _isComputed(t,e)}function _isObservable(t,e){return t?e!==void 0?isObservableObject(t)?t[$mobx].values_.has(e):!1:isObservableObject(t)||!!t[$mobx]||isAtom(t)||isReaction(t)||isComputedValue(t):!1}function isObservable(t){return _isObservable(t)}function isObservableProp(t,e){return _isObservable(t,e)}function keys(t){if(isObservableObject(t))return t[$mobx].keys_();if(isObservableMap(t)||isObservableSet(t))return Array.from(t.keys());if(isObservableArray(t))return t.map(function(e,n){return n});die(5)}function values(t){if(isObservableObject(t))return keys(t).map(function(e){return t[e]});if(isObservableMap(t))return keys(t).map(function(e){return t.get(e)});if(isObservableSet(t))return Array.from(t.values());if(isObservableArray(t))return t.slice();die(6)}function entries(t){if(isObservableObject(t))return keys(t).map(function(e){return[e,t[e]]});if(isObservableMap(t))return keys(t).map(function(e){return[e,t.get(e)]});if(isObservableSet(t))return Array.from(t.entries());if(isObservableArray(t))return t.map(function(e,n){return[n,e]});die(7)}function set(t,e,n){if(arguments.length===2&&!isObservableSet(t)){startBatch();var r=e;try{for(var o in r)set(t,o,r[o])}finally{endBatch()}return}isObservableObject(t)?t[$mobx].set_(e,n):isObservableMap(t)?t.set(e,n):isObservableSet(t)?t.add(e):isObservableArray(t)?(typeof e!="number"&&(e=parseInt(e,10)),e<0&&die("Invalid index: '"+e+"'"),startBatch(),e>=t.length&&(t.length=e+1),t[e]=n,endBatch()):die(8)}function remove(t,e){isObservableObject(t)?t[$mobx].delete_(e):isObservableMap(t)||isObservableSet(t)?t.delete(e):isObservableArray(t)?(typeof e!="number"&&(e=parseInt(e,10)),t.splice(e,1)):die(9)}function has(t,e){if(isObservableObject(t))return t[$mobx].has_(e);if(isObservableMap(t))return t.has(e);if(isObservableSet(t))return t.has(e);if(isObservableArray(t))return e>=0&&e<t.length;die(10)}function get(t,e){if(!!has(t,e)){if(isObservableObject(t))return t[$mobx].get_(e);if(isObservableMap(t))return t.get(e);if(isObservableArray(t))return t[e];die(11)}}function apiDefineProperty(t,e,n){if(isObservableObject(t))return t[$mobx].defineProperty_(e,n);die(39)}function apiOwnKeys(t){if(isObservableObject(t))return t[$mobx].ownKeys_();die(38)}function observe(t,e,n,r){return isFunction(n)?observeObservableProperty(t,e,n,r):observeObservable(t,e,n)}function observeObservable(t,e,n){return getAdministration(t).observe_(e,n)}function observeObservableProperty(t,e,n,r){return getAdministration(t,e).observe_(n,r)}function cache(t,e,n){return t.set(e,n),n}function toJSHelper(t,e){if(t==null||typeof t!="object"||t instanceof Date||!isObservable(t))return t;if(isObservableValue(t)||isComputedValue(t))return toJSHelper(t.get(),e);if(e.has(t))return e.get(t);if(isObservableArray(t)){var n=cache(e,t,new Array(t.length));return t.forEach(function(a,c){n[c]=toJSHelper(a,e)}),n}if(isObservableSet(t)){var r=cache(e,t,new Set);return t.forEach(function(a){r.add(toJSHelper(a,e))}),r}if(isObservableMap(t)){var o=cache(e,t,new Map);return t.forEach(function(a,c){o.set(c,toJSHelper(a,e))}),o}else{var s=cache(e,t,{});return apiOwnKeys(t).forEach(function(a){objectPrototype.propertyIsEnumerable.call(t,a)&&(s[a]=toJSHelper(t[a],e))}),s}}function toJS(t,e){return toJSHelper(t,new Map)}function trace(){die("trace() is not available in production builds");for(var t=!1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[n.length-1]=="boolean"&&(t=n.pop());var o=getAtomFromArgs(n);if(!o)return die("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===TraceMode.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=t?TraceMode.BREAK:TraceMode.LOG}function getAtomFromArgs(t){switch(t.length){case 0:return globalState.trackingDerivation;case 1:return getAtom(t[0]);case 2:return getAtom(t[0],t[1])}}function transaction(t,e){e===void 0&&(e=void 0),startBatch();try{return t.apply(e)}finally{endBatch()}}function when(t,e,n){return arguments.length===1||e&&typeof e=="object"?whenPromise(t,e):_when(t,e,n||{})}function _when(t,e,n){var r;if(typeof n.timeout=="number"){var o=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!a[$mobx].isDisposed_)if(a(),n.onError)n.onError(o);else throw o},n.timeout)}n.name="When";var s=createAction("When-effect",e),a=autorun(function(c){var m=allowStateChanges(!1,t);m&&(c.dispose(),r&&clearTimeout(r),s())},n);return a}function whenPromise(t,e){var n,r=new Promise(function(o,s){var a=_when(t,o,_extends({},e,{onError:s}));n=function(){a(),s(new Error("WHEN_CANCELLED"))}});return r.cancel=n,r}function getAdm(t){return t[$mobx]}var objectProxyTraps={has:function t(e,n){return getAdm(e).has_(n)},get:function t(e,n){return getAdm(e).get_(n)},set:function t(e,n,r){var o;return isStringish(n)?(o=getAdm(e).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function t(e,n){var r;return isStringish(n)?(r=getAdm(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function t(e,n,r){var o;return(o=getAdm(e).defineProperty_(n,r))!=null?o:!0},ownKeys:function t(e){return getAdm(e).ownKeys_()},preventExtensions:function t(e){die(13)}};function asDynamicObservableObject(t,e){var n,r;return assertProxies(),t=asObservableObject(t,e),(r=(n=t[$mobx]).proxy_)!=null?r:n.proxy_=new Proxy(t,objectProxyTraps)}function hasInterceptors(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function registerInterceptor(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),once(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function interceptChange(t,e){var n=untrackedStart();try{for(var r=[].concat(t.interceptors_||[]),o=0,s=r.length;o<s&&(e=r[o](e),e&&!e.type&&die(14),!!e);o++);return e}finally{untrackedEnd(n)}}function hasListeners(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function registerListener(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),once(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function notifyListeners(t,e){var n=untrackedStart(),r=t.changeListeners_;if(!!r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](e);untrackedEnd(n)}}function makeObservable(t,e,n){var r=asObservableObject(t,n)[$mobx];startBatch();try{var o;(o=e)!=null||(e=collectStoredAnnotations(t)),ownKeys(e).forEach(function(s){return r.make_(s,e[s])})}finally{endBatch()}return t}var keysSymbol=Symbol("mobx-keys");function makeAutoObservable(t,e,n){if(isPlainObject(t))return extendObservable(t,t,e,n);var r=asObservableObject(t,n)[$mobx];if(!t[keysSymbol]){var o=Object.getPrototypeOf(t),s=new Set([].concat(ownKeys(t),ownKeys(o)));s.delete("constructor"),s.delete($mobx),addHiddenProp$1(o,keysSymbol,s)}startBatch();try{t[keysSymbol].forEach(function(a){return r.make_(a,e&&a in e?e[a]:!0)})}finally{endBatch()}return t}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function t(e,n){var r=e[$mobx];return n===$mobx?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):hasProp(arrayExtensions,n)?arrayExtensions[n]:e[n]},set:function t(e,n,r){var o=e[$mobx];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function t(){die(15)}},ObservableArrayAdministration=function(){function t(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new Atom(n),this.enhancer_=function(a,c){return r(a,c,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return registerInterceptor(this,r)},e.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&die("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),a=0;a<r-o;a++)s[a]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},e.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&reserveArrayBuffer(r+o+1)},e.spliceWithArray_=function(r,o,s){var a=this;this.atom_;var c=this.values_.length;if(r===void 0?r=0:r>c?r=c:r<0&&(r=Math.max(0,c+r)),arguments.length===1?o=c-r:o==null?o=0:o=Math.max(0,Math.min(o,c-r)),s===void 0&&(s=EMPTY_ARRAY),hasInterceptors(this)){var m=interceptChange(this,{object:this.proxy_,type:SPLICE,index:r,removedCount:o,added:s});if(!m)return EMPTY_ARRAY;o=m.removedCount,s=m.added}if(s=s.length===0?s:s.map(function(sn){return a.enhancer_(sn,void 0)}),this.legacyMode_){var en=s.length-o;this.updateArrayLength_(c,en)}var tn=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,tn),this.dehanceValues_(tn)},e.spliceItemsIntoValues_=function(r,o,s){if(s.length<MAX_SPLICE_SIZE){var a;return(a=this.values_).splice.apply(a,[r,o].concat(s))}else{var c=this.values_.slice(r,r+o),m=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var en=0;en<s.length;en++)this.values_[r+en]=s[en];for(var tn=0;tn<m.length;tn++)this.values_[r+s.length+tn]=m[tn];return c}},e.notifyArrayChildUpdate_=function(r,o,s){var a=!this.owned_&&isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),c&&notifyListeners(this,m)},e.notifyArraySplice_=function(r,o,s){var a=!this.owned_&&isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),c&&notifyListeners(this,m)},e.get_=function(r){if(r<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r]);console.warn("[mobx.array] Attempt to read an array index ("+r+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(r,o){var s=this.values_;if(r<s.length){this.atom_;var a=s[r];if(hasInterceptors(this)){var c=interceptChange(this,{type:UPDATE,object:this.proxy_,index:r,newValue:o});if(!c)return;o=c.newValue}o=this.enhancer_(o,a);var m=o!==a;m&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,a))}else r===s.length?this.spliceWithArray_(r,0,[o]):die(17,r,s.length)},t}();function createObservableArray(t,e,n,r){n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),assertProxies();var o=new ObservableArrayAdministration(n,e,r,!1);addHiddenFinalProp(o.values_,$mobx,o);var s=new Proxy(o.values_,arrayTraps);if(o.proxy_=s,t&&t.length){var a=allowStateChangesStart(!0);o.spliceWithArray_(0,0,t),allowStateChangesEnd(a)}return s}var arrayExtensions={clear:function t(){return this.splice(0)},replace:function t(e){var n=this[$mobx];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function t(){return this.slice()},splice:function t(e,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var a=this[$mobx];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,n)}return a.spliceWithArray_(e,n,o)},spliceWithArray:function t(e,n,r){return this[$mobx].spliceWithArray_(e,n,r)},push:function t(){for(var e=this[$mobx],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function t(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function t(){return this.splice(0,1)[0]},unshift:function t(){for(var e=this[$mobx],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function t(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function t(){globalState.trackingDerivation&&die(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function t(e){var n=this[$mobx],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(t,e){typeof Array.prototype[t]=="function"&&(arrayExtensions[t]=e(t))}function simpleFunc(t){return function(){var e=this[$mobx];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function mapLikeFunc(t){return function(e,n){var r=this,o=this[$mobx];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[t](function(a,c){return e.call(n,a,c,r)})}}function reduceLikeFunc(t){return function(){var e=this,n=this[$mobx];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,a,c){return o(s,a,c,e)},r[t].apply(r,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(t){return isObject(t)&&isObservableArrayAdministration(t[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function t(n,r,o){var s=this;r===void 0&&(r=deepEnhancer),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,isFunction(Map)||die(18),this.keysAtom_=createAtom("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,allowStateChanges(!0,function(){s.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var o=this;if(!globalState.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var a=s=new ObservableValue(this.has_(r),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(r,a),onBecomeUnobserved(a,function(){return o.hasMap_.delete(r)})}return s.get()},e.set=function(r,o){var s=this.has_(r);if(hasInterceptors(this)){var a=interceptChange(this,{type:s?UPDATE:ADD,object:this,newValue:o,name:r});if(!a)return this;o=a.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},e.delete=function(r){var o=this;if(this.keysAtom_,hasInterceptors(this)){var s=interceptChange(this,{type:DELETE,object:this,name:r});if(!s)return!1}if(this.has_(r)){var a=isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return transaction(function(){var en;o.keysAtom_.reportChanged(),(en=o.hasMap_.get(r))==null||en.setNewValue_(!1);var tn=o.data_.get(r);tn.setNewValue_(void 0),o.data_.delete(r)}),c&&notifyListeners(this,m),!0}return!1},e.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==globalState.UNCHANGED){var a=isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),c&&notifyListeners(this,m)}},e.addValue_=function(r,o){var s=this;this.keysAtom_,transaction(function(){var en,tn=new ObservableValue(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,tn),o=tn.value_,(en=s.hasMap_.get(r))==null||en.setNewValue_(!0),s.keysAtom_.reportChanged()});var a=isSpyEnabled(),c=hasListeners(this),m=c||a?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:r,newValue:o}:null;c&&notifyListeners(this,m)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,o=this.keys();return makeIterable({next:function(){var a=o.next(),c=a.done,m=a.value;return{done:c,value:c?void 0:r.get(m)}}})},e.entries=function(){var r=this,o=this.keys();return makeIterable({next:function(){var a=o.next(),c=a.done,m=a.value;return{done:c,value:c?void 0:[m,r.get(m)]}}})},e[_Symbol$iterator]=function(){return this.entries()},e.forEach=function(r,o){for(var s=_createForOfIteratorHelperLoose(this),a;!(a=s()).done;){var c=a.value,m=c[0],en=c[1];r.call(o,en,m,this)}},e.merge=function(r){var o=this;return isObservableMap(r)&&(r=new Map(r)),transaction(function(){isPlainObject(r)?getPlainObjectKeys(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var a=s[0],c=s[1];return o.set(a,c)}):isES6Map(r)?(r.constructor!==Map&&die(19,r),r.forEach(function(s,a){return o.set(a,s)})):r!=null&&die(20,r)}),this},e.clear=function(){var r=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(r.keys()),s;!(s=o()).done;){var a=s.value;r.delete(a)}})})},e.replace=function(r){var o=this;return transaction(function(){for(var s=convertToMap(r),a=new Map,c=!1,m=_createForOfIteratorHelperLoose(o.data_.keys()),en;!(en=m()).done;){var tn=en.value;if(!s.has(tn)){var sn=o.delete(tn);if(sn)c=!0;else{var un=o.data_.get(tn);a.set(tn,un)}}}for(var cn=_createForOfIteratorHelperLoose(s.entries()),gn;!(gn=cn()).done;){var mn=gn.value,yn=mn[0],wn=mn[1],kn=o.data_.has(yn);if(o.set(yn,wn),o.data_.has(yn)){var An=o.data_.get(yn);a.set(yn,An),kn||(c=!0)}}if(!c)if(o.data_.size!==a.size)o.keysAtom_.reportChanged();else for(var $n=o.data_.keys(),Mn=a.keys(),En=$n.next(),Tn=Mn.next();!En.done;){if(En.value!==Tn.value){o.keysAtom_.reportChanged();break}En=$n.next(),Tn=Mn.next()}o.data_=a}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,o){return registerListener(this,r)},e.intercept_=function(r){return registerInterceptor(this,r)},_createClass(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),t}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(t){if(isES6Map(t)||isObservableMap(t))return t;if(Array.isArray(t))return new Map(t);if(isPlainObject(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return die(21,t)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function t(n,r,o){r===void 0&&(r=deepEnhancer),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,isFunction(Set)||die(22),this.atom_=createAtom(this.name_),this.enhancer_=function(s,a){return r(s,a,o)},n&&this.replace(n)}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(r.data_.values()),s;!(s=o()).done;){var a=s.value;r.delete(a)}})})},e.forEach=function(r,o){for(var s=_createForOfIteratorHelperLoose(this),a;!(a=s()).done;){var c=a.value;r.call(o,c,c,this)}},e.add=function(r){var o=this;if(this.atom_,hasInterceptors(this)){var s=interceptChange(this,{type:ADD,object:this,newValue:r});if(!s)return this}if(!this.has(r)){transaction(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var a=!1,c=hasListeners(this),m=c||a?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:r}:null;c&&notifyListeners(this,m)}return this},e.delete=function(r){var o=this;if(hasInterceptors(this)){var s=interceptChange(this,{type:DELETE,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var a=!1,c=hasListeners(this),m=c||a?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:r}:null;return transaction(function(){o.atom_.reportChanged(),o.data_.delete(r)}),c&&notifyListeners(this,m),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,o=Array.from(this.keys()),s=Array.from(this.values());return makeIterable({next:function(){var c=r;return r+=1,c<s.length?{value:[o[c],s[c]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,o=0,s=Array.from(this.data_.values());return makeIterable({next:function(){return o<s.length?{value:r.dehanceValue_(s[o++]),done:!1}:{done:!0}}})},e.replace=function(r){var o=this;return isObservableSet(r)&&(r=new Set(r)),transaction(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):isES6Set(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&die("Cannot initialize set from "+r)}),this},e.observe_=function(r,o){return registerListener(this,r)},e.intercept_=function(r){return registerInterceptor(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[_Symbol$iterator$1]=function(){return this.values()},_createClass(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),t}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function t(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof ComputedValue)return s.set(o),!0;if(hasInterceptors(this)){var a=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:r,newValue:o});if(!a)return null;o=a.newValue}if(o=s.prepareNewValue_(o),o!==globalState.UNCHANGED){var c=hasListeners(this),m=!1,en=c||m?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),c&&notifyListeners(this,en)}return!0},e.get_=function(r){return globalState.trackingDerivation&&!hasProp(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,o,s){return s===void 0&&(s=!1),hasProp(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(r){if(!globalState.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new ObservableValue(r in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},e.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[storedAnnotationsSymbol])!=null&&s[r])return;die(1,o.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==objectPrototype;){var c=getDescriptor(a,r);if(c){var m=o.make_(this,r,c,a);if(m===0)return;if(m===1)break}a=Object.getPrototypeOf(a)}recordAnnotationApplied(this,o,r)}},e.extend_=function(r,o,s,a){if(a===void 0&&(a=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,a);var c=s.extend_(this,r,o,a);return c&&recordAnnotationApplied(this,s,r),c},e.defineProperty_=function(r,o,s){s===void 0&&(s=!1);try{startBatch();var a=this.delete_(r);if(!a)return a;if(hasInterceptors(this)){var c=interceptChange(this,{object:this.proxy_||this.target_,name:r,type:ADD,newValue:o.value});if(!c)return null;var m=c.newValue;o.value!==m&&(o=_extends({},o,{value:m}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else defineProperty(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{endBatch()}return!0},e.defineObservableProperty_=function(r,o,s,a){a===void 0&&(a=!1);try{startBatch();var c=this.delete_(r);if(!c)return c;if(hasInterceptors(this)){var m=interceptChange(this,{object:this.proxy_||this.target_,name:r,type:ADD,newValue:o});if(!m)return null;o=m.newValue}var en=getCachedObservablePropDescriptor(r),tn={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:en.get,set:en.set};if(a){if(!Reflect.defineProperty(this.target_,r,tn))return!1}else defineProperty(this.target_,r,tn);var sn=new ObservableValue(o,s,"ObservableObject.key",!1);this.values_.set(r,sn),this.notifyPropertyAddition_(r,sn.value_)}finally{endBatch()}return!0},e.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1);try{startBatch();var a=this.delete_(r);if(!a)return a;if(hasInterceptors(this)){var c=interceptChange(this,{object:this.proxy_||this.target_,name:r,type:ADD,newValue:void 0});if(!c)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var m=getCachedObservablePropDescriptor(r),en={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:m.get,set:m.set};if(s){if(!Reflect.defineProperty(this.target_,r,en))return!1}else defineProperty(this.target_,r,en);this.values_.set(r,new ComputedValue(o)),this.notifyPropertyAddition_(r,void 0)}finally{endBatch()}return!0},e.delete_=function(r,o){if(o===void 0&&(o=!1),!hasProp(this.target_,r))return!0;if(hasInterceptors(this)){var s=interceptChange(this,{object:this.proxy_||this.target_,name:r,type:REMOVE});if(!s)return null}try{var a,c;startBatch();var m=hasListeners(this),en=!1,tn=this.values_.get(r),sn=void 0;if(!tn&&(m||en)){var un;sn=(un=getDescriptor(this.target_,r))==null?void 0:un.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(tn&&(this.values_.delete(r),tn instanceof ObservableValue&&(sn=tn.value_),propagateChanged(tn)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(c=a.get(r))==null||c.set(r in this.target_),m||en){var cn={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:sn,name:r};m&&notifyListeners(this,cn)}}finally{endBatch()}return!0},e.observe_=function(r,o){return registerListener(this,r)},e.intercept_=function(r){return registerInterceptor(this,r)},e.notifyPropertyAddition_=function(r,o){var s,a,c=hasListeners(this),m=!1;if(c||m){var en=c||m?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;c&&notifyListeners(this,en)}(s=this.pendingKeys_)==null||(a=s.get(r))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function asObservableObject(t,e){var n;if(hasProp(t,$mobx))return t;var r=(n=e?.name)!=null?n:"ObservableObject",o=new ObservableObjectAdministration(t,new Map,String(r),getAnnotationFromOptions(e));return addHiddenProp$1(t,$mobx,o),t}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(t){return descriptorCache[t]||(descriptorCache[t]={get:function(){return this[$mobx].getObservablePropValue_(t)},set:function(n){return this[$mobx].setObservablePropValue_(t,n)}})}function isObservableObject(t){return isObject(t)?isObservableObjectAdministration(t[$mobx]):!1}function recordAnnotationApplied(t,e,n){var r;(r=t.target_[storedAnnotationsSymbol])==null||delete r[n]}var ENTRY_0=createArrayEntryDescriptor(0),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function t(){};function inherit(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(t,e,n){_inheritsLoose(r,t);function r(s,a,c,m){var en;c===void 0&&(c="ObservableArray"),m===void 0&&(m=!1),en=t.call(this)||this;var tn=new ObservableArrayAdministration(c,a,m,!0);if(tn.proxy_=_assertThisInitialized(en),addHiddenFinalProp(_assertThisInitialized(en),$mobx,tn),s&&s.length){var sn=allowStateChangesStart(!0);en.spliceWithArray(0,0,s),allowStateChangesEnd(sn)}return Object.defineProperty(_assertThisInitialized(en),"0",ENTRY_0),en}var o=r.prototype;return o.concat=function(){this[$mobx].atom_.reportObserved();for(var a=arguments.length,c=new Array(a),m=0;m<a;m++)c[m]=arguments[m];return Array.prototype.concat.apply(this.slice(),c.map(function(en){return isObservableArray(en)?en.slice():en}))},o[n]=function(){var s=this,a=0;return makeIterable({next:function(){return a<s.length?{value:s[a++],done:!1}:{done:!0,value:void 0}}})},_createClass(r,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(a){this[$mobx].setArrayLength_(a)}},{key:e,get:function(){return"Array"}}]),r}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&addHiddenProp$1(LegacyObservableArray.prototype,e,n)});function createArrayEntryDescriptor(t){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(t)},set:function(n){this[$mobx].set_(t,n)}}}function createArrayBufferItem(t){defineProperty(LegacyObservableArray.prototype,""+t,createArrayEntryDescriptor(t))}function reserveArrayBuffer(t){if(t>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var e=OBSERVABLE_ARRAY_BUFFER_SIZE;e<t+100;e++)createArrayBufferItem(e);OBSERVABLE_ARRAY_BUFFER_SIZE=t}}reserveArrayBuffer(1e3);function createLegacyArray(t,e,n){return new LegacyObservableArray(t,e,n)}function getAtom(t,e){if(typeof t=="object"&&t!==null){if(isObservableArray(t))return e!==void 0&&die(23),t[$mobx].atom_;if(isObservableSet(t))return t[$mobx];if(isObservableMap(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||die(25,e,getDebugName(t)),n}if(isObservableObject(t)){if(!e)return die(26);var r=t[$mobx].values_.get(e);return r||die(27,e,getDebugName(t)),r}if(isAtom(t)||isComputedValue(t)||isReaction(t))return t}else if(isFunction(t)&&isReaction(t[$mobx]))return t[$mobx];die(28)}function getAdministration(t,e){if(t||die(29),e!==void 0)return getAdministration(getAtom(t,e));if(isAtom(t)||isComputedValue(t)||isReaction(t)||isObservableMap(t)||isObservableSet(t))return t;if(t[$mobx])return t[$mobx];die(24,t)}function getDebugName(t,e){var n;if(e!==void 0)n=getAtom(t,e);else{if(isAction(t))return t.name;isObservableObject(t)||isObservableMap(t)||isObservableSet(t)?n=getAdministration(t):n=getAtom(t)}return n.name_}var toString=objectPrototype.toString;function deepEqual(t,e,n){return n===void 0&&(n=-1),eq(t,e,n)}function eq(t,e,n,r,o){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var a=toString.call(t);if(a!==toString.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=unwrap(t),e=unwrap(e);var c=a==="[object Array]";if(!c){if(typeof t!="object"||typeof e!="object")return!1;var m=t.constructor,en=e.constructor;if(m!==en&&!(isFunction(m)&&m instanceof m&&isFunction(en)&&en instanceof en)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var tn=r.length;tn--;)if(r[tn]===t)return o[tn]===e;if(r.push(t),o.push(e),c){if(tn=t.length,tn!==e.length)return!1;for(;tn--;)if(!eq(t[tn],e[tn],n-1,r,o))return!1}else{var sn=Object.keys(t),un;if(tn=sn.length,Object.keys(e).length!==tn)return!1;for(;tn--;)if(un=sn[tn],!(hasProp(e,un)&&eq(t[un],e[un],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function unwrap(t){return isObservableArray(t)?t.slice():isES6Map(t)||isObservableMap(t)||isES6Set(t)||isObservableSet(t)?Array.from(t.entries()):t}function makeIterable(t){return t[Symbol.iterator]=getSelf,t}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(t){var e=getGlobal();typeof e[t]>"u"&&die("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});const mobx_esm=Object.freeze(Object.defineProperty({__proto__:null,$mobx,FlowCancellationError,ObservableMap,ObservableSet,Reaction,_allowStateChanges:allowStateChanges,_allowStateChangesInsideComputed:runInAction,_allowStateReadsEnd:allowStateReadsEnd,_allowStateReadsStart:allowStateReadsStart,_autoAction:autoAction,_endAction,_getAdministration:getAdministration,_getGlobalState:getGlobalState,_interceptReads:interceptReads,_isComputingDerivation:isComputingDerivation,_resetGlobalState:resetGlobalState,_startAction,action,autorun,comparer,computed,configure,createAtom,defineProperty:apiDefineProperty,entries,extendObservable,flow,flowResult,get,getAtom,getDebugName,getDependencyTree,getObserverTree,has,intercept,isAction,isBoxedObservable:isObservableValue,isComputed,isComputedProp,isFlow,isFlowCancellationError,isObservable,isObservableArray,isObservableMap,isObservableObject,isObservableProp,isObservableSet,keys,makeAutoObservable,makeObservable,observable,observe,onBecomeObserved,onBecomeUnobserved,onReactionError,override,ownKeys:apiOwnKeys,reaction,remove,runInAction,set,spy,toJS,trace,transaction,untracked,values,when},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(mobx_esm);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.Order=t.OrderSide=void 0;const n=require$$0$1,r=e(big.exports),o=require$$1;var s;(function(c){c.Buy="buy",c.Sell="sell"})(s=t.OrderSide||(t.OrderSide={}));class a{constructor(m){this.id="",this.orderType=s.Buy,this.orderMint="",this.currencyMint="",this.currencyDecimals=0,this.price=new n.BN(0),this.orderQtyRemaining=0,this.orderOriginationQty=0,this.owner="",this.ownerAssetTokenAccount="",this.ownerCurrencyTokenAccount="",this.createdAt=0,this.slotContext=0,m&&(this.id=m.id,this.orderType=m.orderType,this.orderMint=m.orderMint,this.currencyMint=m.currencyMint,this.currencyDecimals=m.currencyDecimals,this.price=m.price,this.orderQtyRemaining=m.orderQtyRemaining,this.orderOriginationQty=m.orderOriginationQty,this.owner=m.owner,this.ownerAssetTokenAccount=m.ownerAssetTokenAccount,this.ownerCurrencyTokenAccount=m.ownerCurrencyTokenAccount,this.createdAt=m.createdAt,this.slotContext=m.slotContext),(0,o.makeObservable)(this,{orderQtyRemaining:o.observable})}get decimalDivisor(){return new r.default(10).pow(this.currencyDecimals)}get bigNumberPrice(){return new r.default(this.price.toString())}get uiPrice(){return this.bigNumberPrice.div(this.decimalDivisor).toNumber()}priceForQuantity(m=1){return this.bigNumberPrice.mul(m).div(this.decimalDivisor).toNumber()}}t.Order=a})(Order);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Order,t)})(models);var hasRequiredExchangeOrder;function requireExchangeOrder(){if(hasRequiredExchangeOrder)return exchangeOrder;hasRequiredExchangeOrder=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(en,tn,sn,un){function cn(gn){return gn instanceof sn?gn:new sn(function(mn){mn(gn)})}return new(sn||(sn=Promise))(function(gn,mn){function yn(An){try{kn(un.next(An))}catch($n){mn($n)}}function wn(An){try{kn(un.throw(An))}catch($n){mn($n)}}function kn(An){An.done?gn(An.value):cn(An.value).then(yn,wn)}kn((un=un.apply(en,tn||[])).next())})};Object.defineProperty(exchangeOrder,"__esModule",{value:!0}),exchangeOrder.createExchangeInstruction=void 0;const e=require$$0$1,n=require$$2,r=utils,o=requirePda_getters(),s=requirePda_getters(),a=requireUtil(),c=models;function m({connection:en,orderAccount:tn,purchaseQty:sn,orderTaker:un,orderTakerDepositTokenAccount:cn,programId:gn,expectedPrice:mn,orderType:yn,assetMint:wn,currencyMint:kn,orderInitializer:An,saVault:$n,stakingProgramId:Mn,registeredStake:En,stakingAccount:Tn}){return t(this,void 0,void 0,function*(){const Pn=(0,r.getMarketplaceProgram)({connection:en,programId:gn}),zn={signers:[],instructions:[]};Mn=e.web3.Keypair.generate().publicKey,En=e.web3.Keypair.generate().publicKey,Tn=e.web3.Keypair.generate().publicKey;const Nn=yn===c.OrderSide.Sell?new n.PublicKey(wn):new n.PublicKey(kn),Kn=yn===c.OrderSide.Sell?new n.PublicKey(kn):new n.PublicKey(wn);let _r=null,pn=null,on=null,ln=yield(0,a.getTokenAccount)(en,An,Nn,un);"createInstruction"in ln?(zn.instructions.push(ln.createInstruction),ln.tokenAccount instanceof e.web3.Keypair?(_r=ln.tokenAccount.publicKey,zn.signers.push(ln.tokenAccount)):_r=ln.tokenAccount):_r=ln.tokenAccount,ln=yield(0,a.getTokenAccount)(en,An,Kn,un),"createInstruction"in ln?(zn.instructions.push(ln.createInstruction),ln.tokenAccount instanceof e.web3.Keypair?(pn=ln.tokenAccount.publicKey,zn.signers.push(ln.tokenAccount)):pn=ln.tokenAccount):pn=ln.tokenAccount;const[vn]=yield(0,o.getOrderVault)(An,Nn,gn),[xn]=yield(0,s.getOpenOrdersCounter)(An,Nn,gn);ln=yield(0,a.getTokenAccount)(en,un,Nn),"createInstruction"in ln?(zn.instructions.push(ln.createInstruction),ln.tokenAccount instanceof e.web3.Keypair?(on=ln.tokenAccount.publicKey,zn.signers.push(ln.tokenAccount)):on=ln.tokenAccount):on=ln.tokenAccount;const On=yn===c.OrderSide.Buy?un:An,Hn=yield Pn.methods.processExchange(new e.BN(sn),mn,On).accounts({orderTaker:un,orderTakerDepositTokenAccount:cn,orderTakerReceiveTokenAccount:on,currencyMint:kn,assetMint:wn,orderInitializer:An,initializerDepositTokenAccount:_r,initializerReceiveTokenAccount:pn,orderVaultAccount:vn,orderAccount:tn,openOrdersCounter:xn,saVault:$n,atlasStaking:Mn,registeredStake:En,stakingAccount:Tn}).instruction();return zn.instructions.push(Hn),zn})}return exchangeOrder.createExchangeInstruction=m,exchangeOrder}var initializeMarketplace={},__awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(initializeMarketplace,"__esModule",{value:!0});initializeMarketplace.createInitializeMarketInstruction=void 0;const utils_1$8=utils;function createInitializeMarketInstruction({connection:t,updateAuthorityAccount:e,programId:n}){return __awaiter$a(this,void 0,void 0,function*(){const o=[yield(0,utils_1$8.getMarketplaceProgram)({connection:t,programId:n}).methods.initializeMarketplace().accounts({updateAuthorityAccount:e}).instruction()];return{accounts:[],instructions:o}})}initializeMarketplace.createInitializeMarketInstruction=createInitializeMarketInstruction;var registerCurrency={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(registerCurrency,"__esModule",{value:!0});registerCurrency.createRegisterCurrencyInstruction=void 0;const anchor_1$5=require$$0$1,utils_1$7=utils;function createRegisterCurrencyInstruction({connection:t,updateAuthorityAccount:e,royalty:n,saCurrencyVault:r,currencyMint:o,programId:s}){return __awaiter$9(this,void 0,void 0,function*(){const c=[yield(0,utils_1$7.getMarketplaceProgram)({connection:t,programId:s}).methods.registerCurrency(new anchor_1$5.BN(n)).accounts({updateAuthorityAccount:e,saCurrencyVault:r,currencyMint:o}).instruction()];return{accounts:[],instructions:c}})}registerCurrency.createRegisterCurrencyInstruction=createRegisterCurrencyInstruction;var royaltyTiers={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(royaltyTiers,"__esModule",{value:!0});royaltyTiers.updateRoyaltyTier=royaltyTiers.deleteRoyaltyTier=royaltyTiers.addRoyaltyTier=void 0;const anchor_1$4=require$$0$1,utils_1$6=utils;function addRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:n,stakeAmount:r,discount:o,programId:s}){return __awaiter$8(this,void 0,void 0,function*(){const a=(0,utils_1$6.getMarketplaceProgram)({connection:t,programId:s}),c={signers:[],instructions:[]},m=yield a.methods.addRoyaltyTier(new anchor_1$4.BN(r),new anchor_1$4.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:n}).instruction();return c.instructions.push(m),c})}royaltyTiers.addRoyaltyTier=addRoyaltyTier;function deleteRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:n,stakeAmount:r,programId:o}){return __awaiter$8(this,void 0,void 0,function*(){const s=(0,utils_1$6.getMarketplaceProgram)({connection:t,programId:o}),a={signers:[],instructions:[]},c=yield s.methods.deleteRoyaltyTier(new anchor_1$4.BN(r)).accounts({updateAuthorityAccount:e,registeredCurrency:n}).instruction();return a.instructions.push(c),a})}royaltyTiers.deleteRoyaltyTier=deleteRoyaltyTier;function updateRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:n,stakeAmount:r,discount:o,programId:s}){return __awaiter$8(this,void 0,void 0,function*(){const a=(0,utils_1$6.getMarketplaceProgram)({connection:t,programId:s}),c={signers:[],instructions:[]},m=yield a.methods.updateRoyaltyTier(new anchor_1$4.BN(r),new anchor_1$4.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:n}).instruction();return c.instructions.push(m),c})}royaltyTiers.updateRoyaltyTier=updateRoyaltyTier;var updateCurrency={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(updateCurrency,"__esModule",{value:!0});updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=void 0;const anchor_1$3=require$$0$1,utils_1$5=utils;function createUpdateRegisteredCurrencyRoyaltyInstruction({connection:t,updateAuthorityAccount:e,royalty:n,currencyMint:r,programId:o}){return __awaiter$7(this,void 0,void 0,function*(){const a=[yield(0,utils_1$5.getMarketplaceProgram)({connection:t,programId:o}).methods.updateCurrencyRoyalty(new anchor_1$3.BN(n)).accounts({updateAuthorityAccount:e,currencyMint:r}).instruction()];return{accounts:[],instructions:a}})}updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=createUpdateRegisteredCurrencyRoyaltyInstruction;function createUpdateRegisteredCurrencyVaultInstruction({connection:t,updateAuthorityAccount:e,saCurrencyVault:n,currencyMint:r,programId:o}){return __awaiter$7(this,void 0,void 0,function*(){const a=[yield(0,utils_1$5.getMarketplaceProgram)({connection:t,programId:o}).methods.updateCurrencyVault().accounts({updateAuthorityAccount:e,saCurrencyVault:n,currencyMint:r}).instruction()];return{accounts:[],instructions:a}})}updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=createUpdateRegisteredCurrencyVaultInstruction;var hasRequiredInstruction_builders$1;function requireInstruction_builders$1(){return hasRequiredInstruction_builders$1||(hasRequiredInstruction_builders$1=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(BaseParams,t),n(requireCancelOrder(),t),n(requireCreateOrder(),t),n(deregisterCurrency,t),n(requireExchangeOrder(),t),n(initializeMarketplace,t),n(registerCurrency,t),n(royaltyTiers,t),n(updateCurrency,t)}(instruction_builders)),instruction_builders}var types$2={},marketplace_accounts={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GmLogs=void 0,function(e){e.CancelOrderMemo="CancelOrderMemo",e.ExchangeMemo="ExchangeMemo",e.InitializeMemo="InitializeMemo",e.RegisterCurrencyMemo="RegisterCurrencyMemo"}(t.GmLogs||(t.GmLogs={}))})(marketplace_accounts);var services$1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GmEventType=void 0,function(e){e[e.orderAdded=0]="orderAdded",e[e.orderRemoved=1]="orderRemoved",e[e.orderModified=2]="orderModified"}(t.GmEventType||(t.GmEventType={}))})(services$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(gmIdl,t),n(marketplace_accounts,t),n(services$1,t)})(types$2);var services={},GmOrderbookService={},NOOP=function(){},IDENTITY=function(t){return t};function fail(t){throw new Error("[mobx-utils] "+t)}function invariant(t,e){e===void 0&&(e="Illegal state"),t||fail(e)}function addHiddenProp(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}var deepFields=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(deepFields(Object.getPrototypeOf(t))||[])},distinctDeepFields=function(t){var e=deepFields(t),n=e.filter(function(r,o){return e.indexOf(r)===o});return n},getAllMethodsAndProperties=function(t){return distinctDeepFields(t).filter(function(e){return e!=="constructor"&&!~e.indexOf("__")})},PENDING="pending",FULFILLED="fulfilled",REJECTED="rejected";function caseImpl(t){switch(this.state){case PENDING:return t.pending&&t.pending(this.value);case REJECTED:return t.rejected&&t.rejected(this.value);case FULFILLED:return t.fulfilled?t.fulfilled(this.value):this.value}}function fromPromise(t,e){if(invariant(arguments.length<=2,"fromPromise expects up to two arguments"),invariant(typeof t=="function"||typeof t=="object"&&t&&typeof t.then=="function","Please pass a promise or function to fromPromise"),t.isPromiseBasedObservable===!0)return t;typeof t=="function"&&(t=new Promise(t));var n=t;t.then(action("observableFromPromise-resolve",function(o){n.value=o,n.state=FULFILLED}),action("observableFromPromise-reject",function(o){n.value=o,n.state=REJECTED})),n.isPromiseBasedObservable=!0,n.case=caseImpl;var r=e&&e.state===FULFILLED?e.value:void 0;return extendObservable(n,{value:r,state:PENDING},{},{deep:!1}),n}(function(t){t.reject=action("fromPromise.reject",function(n){var r=t(Promise.reject(n));return r.state=REJECTED,r.value=n,r});function e(n){n===void 0&&(n=void 0);var r=t(Promise.resolve(n));return r.state=FULFILLED,r.value=n,r}t.resolve=action("fromPromise.resolve",e)})(fromPromise||(fromPromise={}));function isPromiseBasedObservable(t){return t&&t.isPromiseBasedObservable===!0}var __spreadArrays=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,o++)r[o]=s[a];return r};function moveItem(t,e,n){if(checkIndex(t,e),checkIndex(t,n),e!==n){var r=t.slice(),o;return e<n?o=__spreadArrays(r.slice(0,e),r.slice(e+1,n+1),[r[e]],r.slice(n+1)):o=__spreadArrays(r.slice(0,n),[r[e]],r.slice(n,e),r.slice(e+1)),t.replace(o),t}}function checkIndex(t,e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var n=t.length;if(e>=n)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+n)}function lazyObservable(t,e){e===void 0&&(e=void 0);var n=!1,r=observable.box(e,{deep:!1}),o=observable.box(!1),s=function(){return n||(n=!0,allowStateChanges(!0,function(){o.set(!0)}),t(function(c){allowStateChanges(!0,function(){r.set(c),o.set(!1)})})),r.get()},a=action("lazyObservable-reset",function(){return n=!1,r.set(e),r.get()});return{current:s,refresh:function(){return n?(n=!1,s()):r.get()},reset:function(){return a()},get pending(){return o.get()}}}function fromResource(t,e,n){e===void 0&&(e=NOOP),n===void 0&&(n=void 0);var r=!1,o=!1,s=n,a=function(){r&&(r=!1,e())},c=createAtom("ResourceBasedObservable",function(){invariant(!r&&!o),r=!0,t(function(m){allowStateChanges(!0,function(){s=m,c.reportChanged()})})},a);return{current:function(){invariant(!o,"subscribingObservable has already been disposed");var m=c.reportObserved();return!m&&!r&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),s},dispose:function(){o=!0,a()},isAlive:function(){return r}}}var __decorate=function(t,e,n,r){var o=arguments.length,s=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};function observableSymbol(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function toStream(t,e){var n;e===void 0&&(e=!1);var r=computed(t);return n={subscribe:function(o){return typeof o=="function"?{unsubscribe:observe(r,function(s){var a=s.newValue;return o(a)},e)}:o&&typeof o=="object"&&o.next?{unsubscribe:observe(r,function(s){var a=s.newValue;return o.next(a)},e)}:{unsubscribe:function(){}}}},n[observableSymbol()]=function(){return this},n}var StreamListener=function(){function t(e,n){var r=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),makeObservable(this),runInAction(function(){r.current=n,r.subscription=e.subscribe(r)})}return Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(t.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(t.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(t.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),__decorate([observable.ref],t.prototype,"current",void 0),__decorate([action.bound],t.prototype,"next",null),__decorate([action.bound],t.prototype,"complete",null),__decorate([action.bound],t.prototype,"error",null),t}();function fromStream(t,e){return e===void 0&&(e=void 0),new StreamListener(t,e)}var __assign=function(){return __assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign.apply(this,arguments)},__decorate$1=function(t,e,n,r){var o=arguments.length,s=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(o<3?a(s):o>3?a(e,n,s):a(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},RESERVED_NAMES=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],ViewModel=function(){function t(e){var n=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(o){return n.localValues.has(o)}}),makeObservable(this),invariant(isObservableObject(e),"createViewModel expects an observable object");var r=getAllMethodsAndProperties(this);getAllMethodsAndProperties(e).forEach(function(o){var s;if(!r.includes(o)&&!(o===$mobx||o==="__mobxDidRunLazyInitializers")){if(invariant(RESERVED_NAMES.indexOf(o)===-1,"The propertyname "+o+" is reserved and cannot be used with viewModels"),isComputedProp(e,o)){var a=getAdministration(e,o),c=a.derivation.bind(n),m=(s=a.setter_)===null||s===void 0?void 0:s.bind(n);n.localComputedValues.set(o,computed(c,{set:m}))}var en=Object.getOwnPropertyDescriptor(e,o),tn=en?{enumerable:en.enumerable}:{};Object.defineProperty(n,o,__assign(__assign({},tn),{configurable:!0,get:function(){return isComputedProp(e,o)?n.localComputedValues.get(o).get():n.isPropertyDirty(o)?n.localValues.get(o):n.model[o]},set:action(function(sn){isComputedProp(e,o)?n.localComputedValues.get(o).set(sn):sn!==n.model[o]?n.localValues.set(o,sn):n.localValues.delete(o)})}))}})}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;keys(this.localValues).forEach(function(n){var r=e.localValues.get(n),o=e.model[n];isObservableArray(o)?o.replace(r):isObservableMap(o)?(o.clear(),o.merge(r)):isComputed(r)||(e.model[n]=r)}),this.localValues.clear()}}),Object.defineProperty(t.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(t.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),__decorate$1([computed],t.prototype,"isDirty",null),__decorate$1([computed],t.prototype,"changedValues",null),__decorate$1([action.bound],t.prototype,"submit",null),__decorate$1([action.bound],t.prototype,"reset",null),__decorate$1([action.bound],t.prototype,"resetProperty",null),t}();function createViewModel(t){return new ViewModel(t)}function keepAlive(t,e){var n=getAtom(t,e);if(!n)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return observe(n,function(){})}function queueProcessor(t,e,n){if(n===void 0&&(n=0),!isObservableArray(t))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("queueProcessor",e));var r=function(){var o=t.slice(0);runInAction(function(){return t.splice(0)}),o.forEach(e)};return n>0?autorun(r,{delay:n}):autorun(r)}function chunkProcessor(t,e,n,r){if(n===void 0&&(n=0),r===void 0&&(r=0),!isObservableArray(t))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("chunkProcessor",e));var o=function(){for(var s=function(){var a=r===0?t.length:Math.min(t.length,r),c=t.slice(0,a);runInAction(function(){return t.splice(0,a)}),e(c)};t.length>0;)s()};return n>0?autorun(o,{delay:n}):autorun(o)}var tickers={};function now(t){return t===void 0&&(t=1e3),isComputingDerivation()?(tickers[t]||(typeof t=="number"?tickers[t]=createIntervalTicker(t):tickers[t]=createAnimationFrameTicker()),tickers[t].current()):Date.now()}function createIntervalTicker(t){var e;return fromResource(function(n){n(Date.now()),e=setInterval(function(){return n(Date.now())},t)},function(){clearInterval(e)},Date.now())}function createAnimationFrameTicker(){var t=fromResource(function(e){e(Date.now());function n(){window.requestAnimationFrame(function(){e(Date.now()),t.isAlive()&&n()})}n()},function(){},Date.now());return t}function expr(t){return isComputingDerivation()||console.warn("'expr' should only be used inside other reactive functions."),computed(t).get()}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$1.apply(this,arguments)},memoizationId=0;function createTransformer(t,e){invariant(typeof t=="function"&&t.length<2,"createTransformer expects a function that accepts one argument");var n={},r=void 0,o=!1,s=void 0;typeof e=="object"?(r=e.onCleanup,o=e.keepAlive!==void 0?e.keepAlive:!1,s=e.debugNameGenerator):typeof e=="function"&&(r=e);function a(m,en){var tn,sn={};typeof e=="object"?(r=e.onCleanup,s=e.debugNameGenerator,sn=e):typeof e=="function"?r=e:(r=void 0,s=void 0);var un=s?s(en):"Transformer-"+t.name+"-"+m,cn=computed(function(){return tn=t(en)},__assign$1(__assign$1({},sn),{name:un}));if(!o)var gn=onBecomeUnobserved(cn,function(){delete n[m],gn(),r&&r(tn,en)});return cn}var c=!1;return function(m){var en=getMemoizationId(m),tn=n[en];if(tn)return tn.get();if(!o&&!isComputingDerivation()){c||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),c=!0);var sn=t(m);return r&&r(sn,m),sn}return tn=n[en]=a(en,m),tn.get()}}function getMemoizationId(t){var e=typeof t;if(e==="string")return"string:"+t;if(e==="number")return"number:"+t;if(t===null||e!=="object"&&e!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(t));var n=t.$transformId;return n===void 0&&(n="memoizationId:"+ ++memoizationId,addHiddenProp(t,"$transformId",n)),n}function buildPath(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function isRecursivelyObservable(t){return isObservableObject(t)||isObservableArray(t)||isObservableMap(t)}function deepObserve(t,e){var n=new WeakMap;function r(c){var m=n.get(c.object);o(c,m),e(c,buildPath(m),t)}function o(c,m){switch(c.type){case"add":s(c.newValue,m,c.name);break;case"update":a(c.oldValue),s(c.newValue,m,c.name||""+c.index);break;case"remove":case"delete":a(c.oldValue);break;case"splice":c.removed.map(a),c.added.forEach(function(sn,un){return s(sn,m,""+(c.index+un))});for(var en=c.index+c.addedCount;en<c.object.length;en++)if(isRecursivelyObservable(c.object[en])){var tn=n.get(c.object[en]);tn&&(tn.path=""+en)}break}}function s(c,m,en){if(isRecursivelyObservable(c)){var tn=n.get(c);if(tn){if(tn.parent!==m||tn.path!==en)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+buildPath(m)+"/"+en+"',")+(" but it already exists at '"+buildPath(tn.parent)+"/"+tn.path+"'"))}else{var sn={parent:m,path:en,dispose:observe(c,r)};n.set(c,sn),entries(c).forEach(function(un){var cn=un[0],gn=un[1];return s(gn,sn,cn)})}}}function a(c){if(isRecursivelyObservable(c)){var m=n.get(c);if(!m)return;n.delete(c),m.dispose(),values(c).forEach(a)}}return s(t,void 0,""),function(){a(t)}}var __extends=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ObservableGroupMap=function(t){__extends(e,t);function e(n,r,o){var s=o===void 0?{}:o,a=s.name,c=a===void 0?"ogm"+(Math.random()*1e3|0):a,m=s.keyToName,en=m===void 0?function(un){return""+un}:m,tn=t.call(this)||this;Object.defineProperty(tn,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(tn,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(tn,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(tn,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(tn,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),tn._keyToName=en,tn._groupBy=r,tn._ogmInfoKey=Symbol("ogmInfo"+c),tn._base=n;for(var sn=0;sn<n.length;sn++)tn._addItem(n[sn]);return tn._disposeBaseObserver=observe(tn._base,function(un){if(un.type==="splice")transaction(function(){for(var cn=0,gn=un.removed;cn<gn.length;cn++){var mn=gn[cn];tn._removeItem(mn)}for(var yn=0,wn=un.added;yn<wn.length;yn++){var kn=wn[yn];tn._addItem(kn)}});else if(un.type==="update")transaction(function(){tn._removeItem(un.oldValue),tn._addItem(un.newValue)});else throw new Error("illegal state")}),tn}return Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(n){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var n=0;n<this._base.length;n++){var r=this._base[n],o=r[this._ogmInfoKey];o.reaction(),delete r[this._ogmInfoKey]}}}),Object.defineProperty(e.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=t.prototype.get.call(this,n);return r===void 0&&(r=observable([],{name:"GroupArray["+this._keyToName(n)+"]",deep:!1}),t.prototype.set.call(this,n,r)),r}}),Object.defineProperty(e.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=t.prototype.get.call(this,n);o.length===1?t.prototype.delete.call(this,n):(r===o.length-1||(o[r]=o[o.length-1],o[r][this._ogmInfoKey].groupArrIndex=r),o.length--)}}),Object.defineProperty(e.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this,o=this._groupBy(n),s=this._getGroupArr(o),a={groupByValue:o,groupArrIndex:s.length,reaction:reaction(function(){return r._groupBy(n)},function(c,m){var en=n[r._ogmInfoKey];r._removeFromGroupArr(en.groupByValue,en.groupArrIndex);var tn=r._getGroupArr(c),sn=tn.length;tn.push(n),en.groupByValue=c,en.groupArrIndex=sn})};Object.defineProperty(n,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:a}),s.push(n)}}),Object.defineProperty(e.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=n[this._ogmInfoKey];this._removeFromGroupArr(r.groupByValue,r.groupArrIndex),r.reaction(),delete n[this._ogmInfoKey]}}),e}(ObservableMap),DeepMapEntry=function(){function t(e,n){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var r=this.closest=this.root=e,o=0;o<this.args.length-1&&(r=r.get(n[o]),r);o++)this.closest=r;this.closestIdx=o}return Object.defineProperty(t.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var n=this.args.length,r=this.closest,o=this.closestIdx;o<n-1;o++){var s=new Map;r.set(this.args[o],s),r=s}this.closestIdx=n-1,this.closest=r,r.set(this.args[n-1],e)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var n=this.root,r=[n],o=0;o<e-1;o++)n=n.get(this.args[o]),r.push(n);for(var o=r.length-1;o>0;o--)r[o].size===0&&r[o-1].delete(this.args[o-1]);this.isDisposed=!0}}),Object.defineProperty(t.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),t}(),DeepMap=function(){function t(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(t.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.argsLength===-1)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new DeepMapEntry(this.store,e)}}),t}(),__assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$2.apply(this,arguments)},__spreadArrays$1=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,o++)r[o]=s[a];return r};function computedFn(t,e){if(e===void 0&&(e=!1),isAction(t))throw new Error("computedFn shouldn't be used on actions");var n=!1,r=0,o=typeof e=="boolean"?{keepAlive:e}:e,s=new DeepMap;return function(){for(var a=this,c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];var en=s.entry(c);if(en.exists())return en.get().get();if(!o.keepAlive&&!isComputingDerivation())return n||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),n=!0),t.apply(this,c);var tn,sn=computed(function(){return tn=t.apply(a,c)},__assign$2(__assign$2({},o),{name:"computedFn("+(o.name||t.name)+"#"+ ++r+")"}));return en.set(sn),o.keepAlive||onBecomeUnobserved(sn,function(){s.entry(c).delete(),o.onCleanup&&o.onCleanup.apply(o,__spreadArrays$1([tn],c)),tn=void 0}),sn.get()}}const mobxUtils_module=Object.freeze(Object.defineProperty({__proto__:null,FULFILLED,IDENTITY,NOOP,ObservableGroupMap,PENDING,REJECTED,ViewModel,addHiddenProp,chunkProcessor,computedFn,createTransformer,createViewModel,deepObserve,expr,fail,get fromPromise(){return fromPromise},fromResource,fromStream,getAllMethodsAndProperties,invariant,isPromiseBasedObservable,keepAlive,lazyObservable,moveItem,now,queueProcessor,toStream},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(mobxUtils_module);var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",en=500,tn="__lodash_placeholder__",sn=1,un=2,cn=4,gn=1,mn=2,yn=1,wn=2,kn=4,An=8,$n=16,Mn=32,En=64,Tn=128,Pn=256,zn=512,Nn=30,Kn="...",_r=800,pn=16,on=1,ln=2,vn=3,xn=1/0,On=9007199254740991,Hn=17976931348623157e292,Zn=0/0,Rn=4294967295,fn=Rn-1,Dn=Rn>>>1,Hr=[["ary",Tn],["bind",yn],["bindKey",wn],["curry",An],["curryRight",$n],["flip",zn],["partial",Mn],["partialRight",En],["rearg",Pn]],Fn="[object Arguments]",Vn="[object Array]",Gn="[object AsyncFunction]",Yn="[object Boolean]",gr="[object Date]",Or="[object DOMException]",Ir="[object Error]",wr="[object Function]",Ln="[object GeneratorFunction]",Un="[object Map]",qn="[object Number]",Sr="[object Null]",Xn="[object Object]",Er="[object Promise]",Nr="[object Proxy]",Ar="[object RegExp]",vr="[object Set]",br="[object String]",Tr="[object Symbol]",$r="[object Undefined]",Br="[object WeakMap]",Fr="[object WeakSet]",nn="[object ArrayBuffer]",l="[object DataView]",d="[object Float32Array]",an="[object Float64Array]",hn="[object Int8Array]",_n="[object Int16Array]",In="[object Int32Array]",kr="[object Uint8Array]",Ur="[object Uint8ClampedArray]",Pr="[object Uint16Array]",Kr="[object Uint32Array]",Lr=/\b__p \+= '';/g,mi=/\b(__p \+=) '' \+/g,Ms=/(__e\(.*?\)|\b__t\)) \+\n'';/g,di=/&(?:amp|lt|gt|quot|#39);/g,hi=/[&<>"']/g,Ls=RegExp(di.source),_i=RegExp(hi.source),bi=/<%-([\s\S]+?)%>/g,Ns=/<%([\s\S]+?)%>/g,pi=/<%=([\s\S]+?)%>/g,wi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ds=/^\w*$/,vi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ui=/[\\^$.*+?()[\]{}|]/g,Us=RegExp(ui.source),li=/^\s+/,Si=/\s/,Fs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ai=/\{\n\/\* \[wrapped with (.+)\] \*/,Ei=/,? & /,Ks=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xi=/[()=,{}\[\]\/\s]/,Ii=/\\(\\)?/g,Hs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gi=/\w*$/,ki=/^[-+]0x[0-9a-f]+$/i,as=/^0b[01]+$/i,cs=/^\[object .+?Constructor\]$/,us=/^0o[0-7]+$/i,ls=/^(?:0|[1-9]\d*)$/,fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,So=/($^)/,ds=/['\n\r\u2028\u2029\\]/g,Ao="\\ud800-\\udfff",hs="\\u0300-\\u036f",ps="\\ufe20-\\ufe2f",gs="\\u20d0-\\u20ff",Ho=hs+ps+gs,Vo="\\u2700-\\u27bf",zo="a-z\\xdf-\\xf6\\xf8-\\xff",ys="\\xac\\xb1\\xd7\\xf7",ms="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_s="\\u2000-\\u206f",bs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jo="A-Z\\xc0-\\xd6\\xd8-\\xde",Fc="\\ufe0e\\ufe0f",Kc=ys+ms+_s+bs,Oa="['\u2019]",cf="["+Ao+"]",Hc="["+Kc+"]",Vs="["+Ho+"]",Vc="\\d+",uf="["+Vo+"]",zc="["+zo+"]",jc="[^"+Ao+Kc+Vc+Vo+zo+jo+"]",$a="\\ud83c[\\udffb-\\udfff]",lf="(?:"+Vs+"|"+$a+")",qc="[^"+Ao+"]",Ba="(?:\\ud83c[\\udde6-\\uddff]){2}",Pa="[\\ud800-\\udbff][\\udc00-\\udfff]",qo="["+jo+"]",Gc="\\u200d",Wc="(?:"+zc+"|"+jc+")",ff="(?:"+qo+"|"+jc+")",Yc="(?:"+Oa+"(?:d|ll|m|re|s|t|ve))?",Zc="(?:"+Oa+"(?:D|LL|M|RE|S|T|VE))?",Jc=lf+"?",Xc="["+Fc+"]?",df="(?:"+Gc+"(?:"+[qc,Ba,Pa].join("|")+")"+Xc+Jc+")*",hf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qc=Xc+Jc+df,gf="(?:"+[uf,Ba,Pa].join("|")+")"+Qc,yf="(?:"+[qc+Vs+"?",Vs,Ba,Pa,cf].join("|")+")",mf=RegExp(Oa,"g"),_f=RegExp(Vs,"g"),Ca=RegExp($a+"(?="+$a+")|"+yf+Qc,"g"),bf=RegExp([qo+"?"+zc+"+"+Yc+"(?="+[Hc,qo,"$"].join("|")+")",ff+"+"+Zc+"(?="+[Hc,qo+Wc,"$"].join("|")+")",qo+"?"+Wc+"+"+Yc,qo+"+"+Zc,pf,hf,Vc,gf].join("|"),"g"),wf=RegExp("["+Gc+Ao+Ho+Fc+"]"),vf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Af=-1,ci={};ci[d]=ci[an]=ci[hn]=ci[_n]=ci[In]=ci[kr]=ci[Ur]=ci[Pr]=ci[Kr]=!0,ci[Fn]=ci[Vn]=ci[nn]=ci[Yn]=ci[l]=ci[gr]=ci[Ir]=ci[wr]=ci[Un]=ci[qn]=ci[Xn]=ci[Ar]=ci[vr]=ci[br]=ci[Br]=!1;var ai={};ai[Fn]=ai[Vn]=ai[nn]=ai[l]=ai[Yn]=ai[gr]=ai[d]=ai[an]=ai[hn]=ai[_n]=ai[In]=ai[Un]=ai[qn]=ai[Xn]=ai[Ar]=ai[vr]=ai[br]=ai[Tr]=ai[kr]=ai[Ur]=ai[Pr]=ai[Kr]=!0,ai[Ir]=ai[wr]=ai[Br]=!1;var Ef={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},xf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},If={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Rf=parseFloat,Tf=parseInt,eu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Of=typeof self=="object"&&self&&self.Object===Object&&self,Ci=eu||Of||Function("return this")(),Ma=e&&!e.nodeType&&e,Po=Ma&&!0&&t&&!t.nodeType&&t,tu=Po&&Po.exports===Ma,La=tu&&eu.process,Ji=function(){try{var Jn=Po&&Po.require&&Po.require("util").types;return Jn||La&&La.binding&&La.binding("util")}catch{}}(),nu=Ji&&Ji.isArrayBuffer,ru=Ji&&Ji.isDate,iu=Ji&&Ji.isMap,ou=Ji&&Ji.isRegExp,su=Ji&&Ji.isSet,au=Ji&&Ji.isTypedArray;function ji(Jn,Rr,xr){switch(xr.length){case 0:return Jn.call(Rr);case 1:return Jn.call(Rr,xr[0]);case 2:return Jn.call(Rr,xr[0],xr[1]);case 3:return Jn.call(Rr,xr[0],xr[1],xr[2])}return Jn.apply(Rr,xr)}function $f(Jn,Rr,xr,zr){for(var Yr=-1,ri=Jn==null?0:Jn.length;++Yr<ri;){var $i=Jn[Yr];Rr(zr,$i,xr($i),Jn)}return zr}function Xi(Jn,Rr){for(var xr=-1,zr=Jn==null?0:Jn.length;++xr<zr&&Rr(Jn[xr],xr,Jn)!==!1;);return Jn}function Bf(Jn,Rr){for(var xr=Jn==null?0:Jn.length;xr--&&Rr(Jn[xr],xr,Jn)!==!1;);return Jn}function cu(Jn,Rr){for(var xr=-1,zr=Jn==null?0:Jn.length;++xr<zr;)if(!Rr(Jn[xr],xr,Jn))return!1;return!0}function Eo(Jn,Rr){for(var xr=-1,zr=Jn==null?0:Jn.length,Yr=0,ri=[];++xr<zr;){var $i=Jn[xr];Rr($i,xr,Jn)&&(ri[Yr++]=$i)}return ri}function zs(Jn,Rr){var xr=Jn==null?0:Jn.length;return!!xr&&Go(Jn,Rr,0)>-1}function Na(Jn,Rr,xr){for(var zr=-1,Yr=Jn==null?0:Jn.length;++zr<Yr;)if(xr(Rr,Jn[zr]))return!0;return!1}function fi(Jn,Rr){for(var xr=-1,zr=Jn==null?0:Jn.length,Yr=Array(zr);++xr<zr;)Yr[xr]=Rr(Jn[xr],xr,Jn);return Yr}function xo(Jn,Rr){for(var xr=-1,zr=Rr.length,Yr=Jn.length;++xr<zr;)Jn[Yr+xr]=Rr[xr];return Jn}function Da(Jn,Rr,xr,zr){var Yr=-1,ri=Jn==null?0:Jn.length;for(zr&&ri&&(xr=Jn[++Yr]);++Yr<ri;)xr=Rr(xr,Jn[Yr],Yr,Jn);return xr}function Pf(Jn,Rr,xr,zr){var Yr=Jn==null?0:Jn.length;for(zr&&Yr&&(xr=Jn[--Yr]);Yr--;)xr=Rr(xr,Jn[Yr],Yr,Jn);return xr}function Ua(Jn,Rr){for(var xr=-1,zr=Jn==null?0:Jn.length;++xr<zr;)if(Rr(Jn[xr],xr,Jn))return!0;return!1}var Cf=Fa("length");function Mf(Jn){return Jn.split("")}function Lf(Jn){return Jn.match(Ks)||[]}function uu(Jn,Rr,xr){var zr;return xr(Jn,function(Yr,ri,$i){if(Rr(Yr,ri,$i))return zr=ri,!1}),zr}function js(Jn,Rr,xr,zr){for(var Yr=Jn.length,ri=xr+(zr?1:-1);zr?ri--:++ri<Yr;)if(Rr(Jn[ri],ri,Jn))return ri;return-1}function Go(Jn,Rr,xr){return Rr===Rr?Wf(Jn,Rr,xr):js(Jn,lu,xr)}function Nf(Jn,Rr,xr,zr){for(var Yr=xr-1,ri=Jn.length;++Yr<ri;)if(zr(Jn[Yr],Rr))return Yr;return-1}function lu(Jn){return Jn!==Jn}function fu(Jn,Rr){var xr=Jn==null?0:Jn.length;return xr?Ha(Jn,Rr)/xr:Zn}function Fa(Jn){return function(Rr){return Rr==null?n:Rr[Jn]}}function Ka(Jn){return function(Rr){return Jn==null?n:Jn[Rr]}}function du(Jn,Rr,xr,zr,Yr){return Yr(Jn,function(ri,$i,si){xr=zr?(zr=!1,ri):Rr(xr,ri,$i,si)}),xr}function Df(Jn,Rr){var xr=Jn.length;for(Jn.sort(Rr);xr--;)Jn[xr]=Jn[xr].value;return Jn}function Ha(Jn,Rr){for(var xr,zr=-1,Yr=Jn.length;++zr<Yr;){var ri=Rr(Jn[zr]);ri!==n&&(xr=xr===n?ri:xr+ri)}return xr}function Va(Jn,Rr){for(var xr=-1,zr=Array(Jn);++xr<Jn;)zr[xr]=Rr(xr);return zr}function Uf(Jn,Rr){return fi(Rr,function(xr){return[xr,Jn[xr]]})}function hu(Jn){return Jn&&Jn.slice(0,mu(Jn)+1).replace(li,"")}function qi(Jn){return function(Rr){return Jn(Rr)}}function za(Jn,Rr){return fi(Rr,function(xr){return Jn[xr]})}function ws(Jn,Rr){return Jn.has(Rr)}function pu(Jn,Rr){for(var xr=-1,zr=Jn.length;++xr<zr&&Go(Rr,Jn[xr],0)>-1;);return xr}function gu(Jn,Rr){for(var xr=Jn.length;xr--&&Go(Rr,Jn[xr],0)>-1;);return xr}function Ff(Jn,Rr){for(var xr=Jn.length,zr=0;xr--;)Jn[xr]===Rr&&++zr;return zr}var Kf=Ka(Ef),Hf=Ka(xf);function Vf(Jn){return"\\"+kf[Jn]}function zf(Jn,Rr){return Jn==null?n:Jn[Rr]}function Wo(Jn){return wf.test(Jn)}function jf(Jn){return vf.test(Jn)}function qf(Jn){for(var Rr,xr=[];!(Rr=Jn.next()).done;)xr.push(Rr.value);return xr}function ja(Jn){var Rr=-1,xr=Array(Jn.size);return Jn.forEach(function(zr,Yr){xr[++Rr]=[Yr,zr]}),xr}function yu(Jn,Rr){return function(xr){return Jn(Rr(xr))}}function Io(Jn,Rr){for(var xr=-1,zr=Jn.length,Yr=0,ri=[];++xr<zr;){var $i=Jn[xr];($i===Rr||$i===tn)&&(Jn[xr]=tn,ri[Yr++]=xr)}return ri}function qs(Jn){var Rr=-1,xr=Array(Jn.size);return Jn.forEach(function(zr){xr[++Rr]=zr}),xr}function Gf(Jn){var Rr=-1,xr=Array(Jn.size);return Jn.forEach(function(zr){xr[++Rr]=[zr,zr]}),xr}function Wf(Jn,Rr,xr){for(var zr=xr-1,Yr=Jn.length;++zr<Yr;)if(Jn[zr]===Rr)return zr;return-1}function Yf(Jn,Rr,xr){for(var zr=xr+1;zr--;)if(Jn[zr]===Rr)return zr;return zr}function Yo(Jn){return Wo(Jn)?Jf(Jn):Cf(Jn)}function oo(Jn){return Wo(Jn)?Xf(Jn):Mf(Jn)}function mu(Jn){for(var Rr=Jn.length;Rr--&&Si.test(Jn.charAt(Rr)););return Rr}var Zf=Ka(If);function Jf(Jn){for(var Rr=Ca.lastIndex=0;Ca.test(Jn);)++Rr;return Rr}function Xf(Jn){return Jn.match(Ca)||[]}function Qf(Jn){return Jn.match(bf)||[]}var ed=function Jn(Rr){Rr=Rr==null?Ci:Zo.defaults(Ci.Object(),Rr,Zo.pick(Ci,Sf));var xr=Rr.Array,zr=Rr.Date,Yr=Rr.Error,ri=Rr.Function,$i=Rr.Math,si=Rr.Object,qa=Rr.RegExp,td=Rr.String,Qi=Rr.TypeError,Gs=xr.prototype,nd=ri.prototype,Jo=si.prototype,Ws=Rr["__core-js_shared__"],Ys=nd.toString,oi=Jo.hasOwnProperty,rd=0,_u=function(){var u=/[^.]+$/.exec(Ws&&Ws.keys&&Ws.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Zs=Jo.toString,id=Ys.call(si),od=Ci._,sd=qa("^"+Ys.call(oi).replace(ui,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Js=tu?Rr.Buffer:n,ko=Rr.Symbol,Xs=Rr.Uint8Array,bu=Js?Js.allocUnsafe:n,Qs=yu(si.getPrototypeOf,si),wu=si.create,vu=Jo.propertyIsEnumerable,ea=Gs.splice,Su=ko?ko.isConcatSpreadable:n,vs=ko?ko.iterator:n,Co=ko?ko.toStringTag:n,ta=function(){try{var u=Uo(si,"defineProperty");return u({},"",{}),u}catch{}}(),ad=Rr.clearTimeout!==Ci.clearTimeout&&Rr.clearTimeout,cd=zr&&zr.now!==Ci.Date.now&&zr.now,ud=Rr.setTimeout!==Ci.setTimeout&&Rr.setTimeout,na=$i.ceil,ra=$i.floor,Ga=si.getOwnPropertySymbols,ld=Js?Js.isBuffer:n,Au=Rr.isFinite,fd=Gs.join,dd=yu(si.keys,si),Bi=$i.max,Li=$i.min,hd=zr.now,pd=Rr.parseInt,Eu=$i.random,gd=Gs.reverse,Wa=Uo(Rr,"DataView"),Ss=Uo(Rr,"Map"),Ya=Uo(Rr,"Promise"),Xo=Uo(Rr,"Set"),As=Uo(Rr,"WeakMap"),Es=Uo(si,"create"),ia=As&&new As,Qo={},yd=Fo(Wa),md=Fo(Ss),_d=Fo(Ya),bd=Fo(Xo),wd=Fo(As),oa=ko?ko.prototype:n,xs=oa?oa.valueOf:n,xu=oa?oa.toString:n;function Bn(u){if(Ri(u)&&!Zr(u)&&!(u instanceof ti)){if(u instanceof eo)return u;if(oi.call(u,"__wrapped__"))return Il(u)}return new eo(u)}var es=function(){function u(){}return function(y){if(!yi(y))return{};if(wu)return wu(y);u.prototype=y;var rn=new u;return u.prototype=n,rn}}();function sa(){}function eo(u,y){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=n}Bn.templateSettings={escape:bi,evaluate:Ns,interpolate:pi,variable:"",imports:{_:Bn}},Bn.prototype=sa.prototype,Bn.prototype.constructor=Bn,eo.prototype=es(sa.prototype),eo.prototype.constructor=eo;function ti(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rn,this.__views__=[]}function vd(){var u=new ti(this.__wrapped__);return u.__actions__=Ki(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ki(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ki(this.__views__),u}function Sd(){if(this.__filtered__){var u=new ti(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Ad(){var u=this.__wrapped__.value(),y=this.__dir__,rn=Zr(u),dn=y<0,Sn=rn?u.length:0,Cn=Mh(0,Sn,this.__views__),jn=Cn.start,Wn=Cn.end,Qn=Wn-jn,Cr=dn?Wn:jn-1,Mr=this.__iteratees__,Dr=Mr.length,Vr=0,jr=Li(Qn,this.__takeCount__);if(!rn||!dn&&Sn==Qn&&jr==Qn)return Yu(u,this.__actions__);var Gr=[];e:for(;Qn--&&Vr<jr;){Cr+=y;for(var Xr=-1,Wr=u[Cr];++Xr<Dr;){var ei=Mr[Xr],ni=ei.iteratee,Yi=ei.type,Fi=ni(Wr);if(Yi==ln)Wr=Fi;else if(!Fi){if(Yi==on)continue e;break e}}Gr[Vr++]=Wr}return Gr}ti.prototype=es(sa.prototype),ti.prototype.constructor=ti;function Mo(u){var y=-1,rn=u==null?0:u.length;for(this.clear();++y<rn;){var dn=u[y];this.set(dn[0],dn[1])}}function Ed(){this.__data__=Es?Es(null):{},this.size=0}function xd(u){var y=this.has(u)&&delete this.__data__[u];return this.size-=y?1:0,y}function Id(u){var y=this.__data__;if(Es){var rn=y[u];return rn===m?n:rn}return oi.call(y,u)?y[u]:n}function kd(u){var y=this.__data__;return Es?y[u]!==n:oi.call(y,u)}function Rd(u,y){var rn=this.__data__;return this.size+=this.has(u)?0:1,rn[u]=Es&&y===n?m:y,this}Mo.prototype.clear=Ed,Mo.prototype.delete=xd,Mo.prototype.get=Id,Mo.prototype.has=kd,Mo.prototype.set=Rd;function ho(u){var y=-1,rn=u==null?0:u.length;for(this.clear();++y<rn;){var dn=u[y];this.set(dn[0],dn[1])}}function Td(){this.__data__=[],this.size=0}function Od(u){var y=this.__data__,rn=aa(y,u);if(rn<0)return!1;var dn=y.length-1;return rn==dn?y.pop():ea.call(y,rn,1),--this.size,!0}function $d(u){var y=this.__data__,rn=aa(y,u);return rn<0?n:y[rn][1]}function Bd(u){return aa(this.__data__,u)>-1}function Pd(u,y){var rn=this.__data__,dn=aa(rn,u);return dn<0?(++this.size,rn.push([u,y])):rn[dn][1]=y,this}ho.prototype.clear=Td,ho.prototype.delete=Od,ho.prototype.get=$d,ho.prototype.has=Bd,ho.prototype.set=Pd;function po(u){var y=-1,rn=u==null?0:u.length;for(this.clear();++y<rn;){var dn=u[y];this.set(dn[0],dn[1])}}function Cd(){this.size=0,this.__data__={hash:new Mo,map:new(Ss||ho),string:new Mo}}function Md(u){var y=wa(this,u).delete(u);return this.size-=y?1:0,y}function Ld(u){return wa(this,u).get(u)}function Nd(u){return wa(this,u).has(u)}function Dd(u,y){var rn=wa(this,u),dn=rn.size;return rn.set(u,y),this.size+=rn.size==dn?0:1,this}po.prototype.clear=Cd,po.prototype.delete=Md,po.prototype.get=Ld,po.prototype.has=Nd,po.prototype.set=Dd;function Lo(u){var y=-1,rn=u==null?0:u.length;for(this.__data__=new po;++y<rn;)this.add(u[y])}function Ud(u){return this.__data__.set(u,m),this}function Fd(u){return this.__data__.has(u)}Lo.prototype.add=Lo.prototype.push=Ud,Lo.prototype.has=Fd;function so(u){var y=this.__data__=new ho(u);this.size=y.size}function Kd(){this.__data__=new ho,this.size=0}function Hd(u){var y=this.__data__,rn=y.delete(u);return this.size=y.size,rn}function Vd(u){return this.__data__.get(u)}function zd(u){return this.__data__.has(u)}function jd(u,y){var rn=this.__data__;if(rn instanceof ho){var dn=rn.__data__;if(!Ss||dn.length<o-1)return dn.push([u,y]),this.size=++rn.size,this;rn=this.__data__=new po(dn)}return rn.set(u,y),this.size=rn.size,this}so.prototype.clear=Kd,so.prototype.delete=Hd,so.prototype.get=Vd,so.prototype.has=zd,so.prototype.set=jd;function Iu(u,y){var rn=Zr(u),dn=!rn&&Ko(u),Sn=!rn&&!dn&&Bo(u),Cn=!rn&&!dn&&!Sn&&os(u),jn=rn||dn||Sn||Cn,Wn=jn?Va(u.length,td):[],Qn=Wn.length;for(var Cr in u)(y||oi.call(u,Cr))&&!(jn&&(Cr=="length"||Sn&&(Cr=="offset"||Cr=="parent")||Cn&&(Cr=="buffer"||Cr=="byteLength"||Cr=="byteOffset")||_o(Cr,Qn)))&&Wn.push(Cr);return Wn}function ku(u){var y=u.length;return y?u[sc(0,y-1)]:n}function qd(u,y){return va(Ki(u),No(y,0,u.length))}function Gd(u){return va(Ki(u))}function Za(u,y,rn){(rn!==n&&!ao(u[y],rn)||rn===n&&!(y in u))&&go(u,y,rn)}function Is(u,y,rn){var dn=u[y];(!(oi.call(u,y)&&ao(dn,rn))||rn===n&&!(y in u))&&go(u,y,rn)}function aa(u,y){for(var rn=u.length;rn--;)if(ao(u[rn][0],y))return rn;return-1}function Wd(u,y,rn,dn){return Ro(u,function(Sn,Cn,jn){y(dn,Sn,rn(Sn),jn)}),dn}function Ru(u,y){return u&&lo(y,Pi(y),u)}function Yd(u,y){return u&&lo(y,Vi(y),u)}function go(u,y,rn){y=="__proto__"&&ta?ta(u,y,{configurable:!0,enumerable:!0,value:rn,writable:!0}):u[y]=rn}function Ja(u,y){for(var rn=-1,dn=y.length,Sn=xr(dn),Cn=u==null;++rn<dn;)Sn[rn]=Cn?n:$c(u,y[rn]);return Sn}function No(u,y,rn){return u===u&&(rn!==n&&(u=u<=rn?u:rn),y!==n&&(u=u>=y?u:y)),u}function to(u,y,rn,dn,Sn,Cn){var jn,Wn=y&sn,Qn=y&un,Cr=y&cn;if(rn&&(jn=Sn?rn(u,dn,Sn,Cn):rn(u)),jn!==n)return jn;if(!yi(u))return u;var Mr=Zr(u);if(Mr){if(jn=Nh(u),!Wn)return Ki(u,jn)}else{var Dr=Ni(u),Vr=Dr==wr||Dr==Ln;if(Bo(u))return Xu(u,Wn);if(Dr==Xn||Dr==Fn||Vr&&!Sn){if(jn=Qn||Vr?{}:ml(u),!Wn)return Qn?Ih(u,Yd(jn,u)):xh(u,Ru(jn,u))}else{if(!ai[Dr])return Sn?u:{};jn=Dh(u,Dr,Wn)}}Cn||(Cn=new so);var jr=Cn.get(u);if(jr)return jr;Cn.set(u,jn),ql(u)?u.forEach(function(Wr){jn.add(to(Wr,y,rn,Wr,u,Cn))}):zl(u)&&u.forEach(function(Wr,ei){jn.set(ei,to(Wr,y,rn,ei,u,Cn))});var Gr=Cr?Qn?mc:yc:Qn?Vi:Pi,Xr=Mr?n:Gr(u);return Xi(Xr||u,function(Wr,ei){Xr&&(ei=Wr,Wr=u[ei]),Is(jn,ei,to(Wr,y,rn,ei,u,Cn))}),jn}function Zd(u){var y=Pi(u);return function(rn){return Tu(rn,u,y)}}function Tu(u,y,rn){var dn=rn.length;if(u==null)return!dn;for(u=si(u);dn--;){var Sn=rn[dn],Cn=y[Sn],jn=u[Sn];if(jn===n&&!(Sn in u)||!Cn(jn))return!1}return!0}function Ou(u,y,rn){if(typeof u!="function")throw new Qi(a);return Ps(function(){u.apply(n,rn)},y)}function ks(u,y,rn,dn){var Sn=-1,Cn=zs,jn=!0,Wn=u.length,Qn=[],Cr=y.length;if(!Wn)return Qn;rn&&(y=fi(y,qi(rn))),dn?(Cn=Na,jn=!1):y.length>=o&&(Cn=ws,jn=!1,y=new Lo(y));e:for(;++Sn<Wn;){var Mr=u[Sn],Dr=rn==null?Mr:rn(Mr);if(Mr=dn||Mr!==0?Mr:0,jn&&Dr===Dr){for(var Vr=Cr;Vr--;)if(y[Vr]===Dr)continue e;Qn.push(Mr)}else Cn(y,Dr,dn)||Qn.push(Mr)}return Qn}var Ro=rl(uo),$u=rl(Qa,!0);function Jd(u,y){var rn=!0;return Ro(u,function(dn,Sn,Cn){return rn=!!y(dn,Sn,Cn),rn}),rn}function ca(u,y,rn){for(var dn=-1,Sn=u.length;++dn<Sn;){var Cn=u[dn],jn=y(Cn);if(jn!=null&&(Wn===n?jn===jn&&!Wi(jn):rn(jn,Wn)))var Wn=jn,Qn=Cn}return Qn}function Xd(u,y,rn,dn){var Sn=u.length;for(rn=Jr(rn),rn<0&&(rn=-rn>Sn?0:Sn+rn),dn=dn===n||dn>Sn?Sn:Jr(dn),dn<0&&(dn+=Sn),dn=rn>dn?0:Wl(dn);rn<dn;)u[rn++]=y;return u}function Bu(u,y){var rn=[];return Ro(u,function(dn,Sn,Cn){y(dn,Sn,Cn)&&rn.push(dn)}),rn}function Mi(u,y,rn,dn,Sn){var Cn=-1,jn=u.length;for(rn||(rn=Fh),Sn||(Sn=[]);++Cn<jn;){var Wn=u[Cn];y>0&&rn(Wn)?y>1?Mi(Wn,y-1,rn,dn,Sn):xo(Sn,Wn):dn||(Sn[Sn.length]=Wn)}return Sn}var Xa=il(),Pu=il(!0);function uo(u,y){return u&&Xa(u,y,Pi)}function Qa(u,y){return u&&Pu(u,y,Pi)}function ua(u,y){return Eo(y,function(rn){return bo(u[rn])})}function Do(u,y){y=Oo(y,u);for(var rn=0,dn=y.length;u!=null&&rn<dn;)u=u[fo(y[rn++])];return rn&&rn==dn?u:n}function Cu(u,y,rn){var dn=y(u);return Zr(u)?dn:xo(dn,rn(u))}function Di(u){return u==null?u===n?$r:Sr:Co&&Co in si(u)?Ch(u):Gh(u)}function ec(u,y){return u>y}function Qd(u,y){return u!=null&&oi.call(u,y)}function eh(u,y){return u!=null&&y in si(u)}function th(u,y,rn){return u>=Li(y,rn)&&u<Bi(y,rn)}function tc(u,y,rn){for(var dn=rn?Na:zs,Sn=u[0].length,Cn=u.length,jn=Cn,Wn=xr(Cn),Qn=1/0,Cr=[];jn--;){var Mr=u[jn];jn&&y&&(Mr=fi(Mr,qi(y))),Qn=Li(Mr.length,Qn),Wn[jn]=!rn&&(y||Sn>=120&&Mr.length>=120)?new Lo(jn&&Mr):n}Mr=u[0];var Dr=-1,Vr=Wn[0];e:for(;++Dr<Sn&&Cr.length<Qn;){var jr=Mr[Dr],Gr=y?y(jr):jr;if(jr=rn||jr!==0?jr:0,!(Vr?ws(Vr,Gr):dn(Cr,Gr,rn))){for(jn=Cn;--jn;){var Xr=Wn[jn];if(!(Xr?ws(Xr,Gr):dn(u[jn],Gr,rn)))continue e}Vr&&Vr.push(Gr),Cr.push(jr)}}return Cr}function nh(u,y,rn,dn){return uo(u,function(Sn,Cn,jn){y(dn,rn(Sn),Cn,jn)}),dn}function Rs(u,y,rn){y=Oo(y,u),u=vl(u,y);var dn=u==null?u:u[fo(ro(y))];return dn==null?n:ji(dn,u,rn)}function Mu(u){return Ri(u)&&Di(u)==Fn}function rh(u){return Ri(u)&&Di(u)==nn}function ih(u){return Ri(u)&&Di(u)==gr}function Ts(u,y,rn,dn,Sn){return u===y?!0:u==null||y==null||!Ri(u)&&!Ri(y)?u!==u&&y!==y:oh(u,y,rn,dn,Ts,Sn)}function oh(u,y,rn,dn,Sn,Cn){var jn=Zr(u),Wn=Zr(y),Qn=jn?Vn:Ni(u),Cr=Wn?Vn:Ni(y);Qn=Qn==Fn?Xn:Qn,Cr=Cr==Fn?Xn:Cr;var Mr=Qn==Xn,Dr=Cr==Xn,Vr=Qn==Cr;if(Vr&&Bo(u)){if(!Bo(y))return!1;jn=!0,Mr=!1}if(Vr&&!Mr)return Cn||(Cn=new so),jn||os(u)?pl(u,y,rn,dn,Sn,Cn):Bh(u,y,Qn,rn,dn,Sn,Cn);if(!(rn&gn)){var jr=Mr&&oi.call(u,"__wrapped__"),Gr=Dr&&oi.call(y,"__wrapped__");if(jr||Gr){var Xr=jr?u.value():u,Wr=Gr?y.value():y;return Cn||(Cn=new so),Sn(Xr,Wr,rn,dn,Cn)}}return Vr?(Cn||(Cn=new so),Ph(u,y,rn,dn,Sn,Cn)):!1}function sh(u){return Ri(u)&&Ni(u)==Un}function nc(u,y,rn,dn){var Sn=rn.length,Cn=Sn,jn=!dn;if(u==null)return!Cn;for(u=si(u);Sn--;){var Wn=rn[Sn];if(jn&&Wn[2]?Wn[1]!==u[Wn[0]]:!(Wn[0]in u))return!1}for(;++Sn<Cn;){Wn=rn[Sn];var Qn=Wn[0],Cr=u[Qn],Mr=Wn[1];if(jn&&Wn[2]){if(Cr===n&&!(Qn in u))return!1}else{var Dr=new so;if(dn)var Vr=dn(Cr,Mr,Qn,u,y,Dr);if(!(Vr===n?Ts(Mr,Cr,gn|mn,dn,Dr):Vr))return!1}}return!0}function Lu(u){if(!yi(u)||Hh(u))return!1;var y=bo(u)?sd:cs;return y.test(Fo(u))}function ah(u){return Ri(u)&&Di(u)==Ar}function ch(u){return Ri(u)&&Ni(u)==vr}function uh(u){return Ri(u)&&ka(u.length)&&!!ci[Di(u)]}function Nu(u){return typeof u=="function"?u:u==null?zi:typeof u=="object"?Zr(u)?Fu(u[0],u[1]):Uu(u):sf(u)}function rc(u){if(!Bs(u))return dd(u);var y=[];for(var rn in si(u))oi.call(u,rn)&&rn!="constructor"&&y.push(rn);return y}function lh(u){if(!yi(u))return qh(u);var y=Bs(u),rn=[];for(var dn in u)dn=="constructor"&&(y||!oi.call(u,dn))||rn.push(dn);return rn}function ic(u,y){return u<y}function Du(u,y){var rn=-1,dn=Hi(u)?xr(u.length):[];return Ro(u,function(Sn,Cn,jn){dn[++rn]=y(Sn,Cn,jn)}),dn}function Uu(u){var y=bc(u);return y.length==1&&y[0][2]?bl(y[0][0],y[0][1]):function(rn){return rn===u||nc(rn,u,y)}}function Fu(u,y){return vc(u)&&_l(y)?bl(fo(u),y):function(rn){var dn=$c(rn,u);return dn===n&&dn===y?Bc(rn,u):Ts(y,dn,gn|mn)}}function la(u,y,rn,dn,Sn){u!==y&&Xa(y,function(Cn,jn){if(Sn||(Sn=new so),yi(Cn))fh(u,y,jn,rn,la,dn,Sn);else{var Wn=dn?dn(Ac(u,jn),Cn,jn+"",u,y,Sn):n;Wn===n&&(Wn=Cn),Za(u,jn,Wn)}},Vi)}function fh(u,y,rn,dn,Sn,Cn,jn){var Wn=Ac(u,rn),Qn=Ac(y,rn),Cr=jn.get(Qn);if(Cr){Za(u,rn,Cr);return}var Mr=Cn?Cn(Wn,Qn,rn+"",u,y,jn):n,Dr=Mr===n;if(Dr){var Vr=Zr(Qn),jr=!Vr&&Bo(Qn),Gr=!Vr&&!jr&&os(Qn);Mr=Qn,Vr||jr||Gr?Zr(Wn)?Mr=Wn:Ti(Wn)?Mr=Ki(Wn):jr?(Dr=!1,Mr=Xu(Qn,!0)):Gr?(Dr=!1,Mr=Qu(Qn,!0)):Mr=[]:Cs(Qn)||Ko(Qn)?(Mr=Wn,Ko(Wn)?Mr=Yl(Wn):(!yi(Wn)||bo(Wn))&&(Mr=ml(Qn))):Dr=!1}Dr&&(jn.set(Qn,Mr),Sn(Mr,Qn,dn,Cn,jn),jn.delete(Qn)),Za(u,rn,Mr)}function Ku(u,y){var rn=u.length;if(!!rn)return y+=y<0?rn:0,_o(y,rn)?u[y]:n}function Hu(u,y,rn){y.length?y=fi(y,function(Cn){return Zr(Cn)?function(jn){return Do(jn,Cn.length===1?Cn[0]:Cn)}:Cn}):y=[zi];var dn=-1;y=fi(y,qi(qr()));var Sn=Du(u,function(Cn,jn,Wn){var Qn=fi(y,function(Cr){return Cr(Cn)});return{criteria:Qn,index:++dn,value:Cn}});return Df(Sn,function(Cn,jn){return Eh(Cn,jn,rn)})}function dh(u,y){return Vu(u,y,function(rn,dn){return Bc(u,dn)})}function Vu(u,y,rn){for(var dn=-1,Sn=y.length,Cn={};++dn<Sn;){var jn=y[dn],Wn=Do(u,jn);rn(Wn,jn)&&Os(Cn,Oo(jn,u),Wn)}return Cn}function hh(u){return function(y){return Do(y,u)}}function oc(u,y,rn,dn){var Sn=dn?Nf:Go,Cn=-1,jn=y.length,Wn=u;for(u===y&&(y=Ki(y)),rn&&(Wn=fi(u,qi(rn)));++Cn<jn;)for(var Qn=0,Cr=y[Cn],Mr=rn?rn(Cr):Cr;(Qn=Sn(Wn,Mr,Qn,dn))>-1;)Wn!==u&&ea.call(Wn,Qn,1),ea.call(u,Qn,1);return u}function zu(u,y){for(var rn=u?y.length:0,dn=rn-1;rn--;){var Sn=y[rn];if(rn==dn||Sn!==Cn){var Cn=Sn;_o(Sn)?ea.call(u,Sn,1):uc(u,Sn)}}return u}function sc(u,y){return u+ra(Eu()*(y-u+1))}function ph(u,y,rn,dn){for(var Sn=-1,Cn=Bi(na((y-u)/(rn||1)),0),jn=xr(Cn);Cn--;)jn[dn?Cn:++Sn]=u,u+=rn;return jn}function ac(u,y){var rn="";if(!u||y<1||y>On)return rn;do y%2&&(rn+=u),y=ra(y/2),y&&(u+=u);while(y);return rn}function Qr(u,y){return Ec(wl(u,y,zi),u+"")}function gh(u){return ku(ss(u))}function yh(u,y){var rn=ss(u);return va(rn,No(y,0,rn.length))}function Os(u,y,rn,dn){if(!yi(u))return u;y=Oo(y,u);for(var Sn=-1,Cn=y.length,jn=Cn-1,Wn=u;Wn!=null&&++Sn<Cn;){var Qn=fo(y[Sn]),Cr=rn;if(Qn==="__proto__"||Qn==="constructor"||Qn==="prototype")return u;if(Sn!=jn){var Mr=Wn[Qn];Cr=dn?dn(Mr,Qn,Wn):n,Cr===n&&(Cr=yi(Mr)?Mr:_o(y[Sn+1])?[]:{})}Is(Wn,Qn,Cr),Wn=Wn[Qn]}return u}var ju=ia?function(u,y){return ia.set(u,y),u}:zi,mh=ta?function(u,y){return ta(u,"toString",{configurable:!0,enumerable:!1,value:Cc(y),writable:!0})}:zi;function _h(u){return va(ss(u))}function no(u,y,rn){var dn=-1,Sn=u.length;y<0&&(y=-y>Sn?0:Sn+y),rn=rn>Sn?Sn:rn,rn<0&&(rn+=Sn),Sn=y>rn?0:rn-y>>>0,y>>>=0;for(var Cn=xr(Sn);++dn<Sn;)Cn[dn]=u[dn+y];return Cn}function bh(u,y){var rn;return Ro(u,function(dn,Sn,Cn){return rn=y(dn,Sn,Cn),!rn}),!!rn}function fa(u,y,rn){var dn=0,Sn=u==null?dn:u.length;if(typeof y=="number"&&y===y&&Sn<=Dn){for(;dn<Sn;){var Cn=dn+Sn>>>1,jn=u[Cn];jn!==null&&!Wi(jn)&&(rn?jn<=y:jn<y)?dn=Cn+1:Sn=Cn}return Sn}return cc(u,y,zi,rn)}function cc(u,y,rn,dn){var Sn=0,Cn=u==null?0:u.length;if(Cn===0)return 0;y=rn(y);for(var jn=y!==y,Wn=y===null,Qn=Wi(y),Cr=y===n;Sn<Cn;){var Mr=ra((Sn+Cn)/2),Dr=rn(u[Mr]),Vr=Dr!==n,jr=Dr===null,Gr=Dr===Dr,Xr=Wi(Dr);if(jn)var Wr=dn||Gr;else Cr?Wr=Gr&&(dn||Vr):Wn?Wr=Gr&&Vr&&(dn||!jr):Qn?Wr=Gr&&Vr&&!jr&&(dn||!Xr):jr||Xr?Wr=!1:Wr=dn?Dr<=y:Dr<y;Wr?Sn=Mr+1:Cn=Mr}return Li(Cn,fn)}function qu(u,y){for(var rn=-1,dn=u.length,Sn=0,Cn=[];++rn<dn;){var jn=u[rn],Wn=y?y(jn):jn;if(!rn||!ao(Wn,Qn)){var Qn=Wn;Cn[Sn++]=jn===0?0:jn}}return Cn}function Gu(u){return typeof u=="number"?u:Wi(u)?Zn:+u}function Gi(u){if(typeof u=="string")return u;if(Zr(u))return fi(u,Gi)+"";if(Wi(u))return xu?xu.call(u):"";var y=u+"";return y=="0"&&1/u==-xn?"-0":y}function To(u,y,rn){var dn=-1,Sn=zs,Cn=u.length,jn=!0,Wn=[],Qn=Wn;if(rn)jn=!1,Sn=Na;else if(Cn>=o){var Cr=y?null:Oh(u);if(Cr)return qs(Cr);jn=!1,Sn=ws,Qn=new Lo}else Qn=y?[]:Wn;e:for(;++dn<Cn;){var Mr=u[dn],Dr=y?y(Mr):Mr;if(Mr=rn||Mr!==0?Mr:0,jn&&Dr===Dr){for(var Vr=Qn.length;Vr--;)if(Qn[Vr]===Dr)continue e;y&&Qn.push(Dr),Wn.push(Mr)}else Sn(Qn,Dr,rn)||(Qn!==Wn&&Qn.push(Dr),Wn.push(Mr))}return Wn}function uc(u,y){return y=Oo(y,u),u=vl(u,y),u==null||delete u[fo(ro(y))]}function Wu(u,y,rn,dn){return Os(u,y,rn(Do(u,y)),dn)}function da(u,y,rn,dn){for(var Sn=u.length,Cn=dn?Sn:-1;(dn?Cn--:++Cn<Sn)&&y(u[Cn],Cn,u););return rn?no(u,dn?0:Cn,dn?Cn+1:Sn):no(u,dn?Cn+1:0,dn?Sn:Cn)}function Yu(u,y){var rn=u;return rn instanceof ti&&(rn=rn.value()),Da(y,function(dn,Sn){return Sn.func.apply(Sn.thisArg,xo([dn],Sn.args))},rn)}function lc(u,y,rn){var dn=u.length;if(dn<2)return dn?To(u[0]):[];for(var Sn=-1,Cn=xr(dn);++Sn<dn;)for(var jn=u[Sn],Wn=-1;++Wn<dn;)Wn!=Sn&&(Cn[Sn]=ks(Cn[Sn]||jn,u[Wn],y,rn));return To(Mi(Cn,1),y,rn)}function Zu(u,y,rn){for(var dn=-1,Sn=u.length,Cn=y.length,jn={};++dn<Sn;){var Wn=dn<Cn?y[dn]:n;rn(jn,u[dn],Wn)}return jn}function fc(u){return Ti(u)?u:[]}function dc(u){return typeof u=="function"?u:zi}function Oo(u,y){return Zr(u)?u:vc(u,y)?[u]:xl(ii(u))}var wh=Qr;function $o(u,y,rn){var dn=u.length;return rn=rn===n?dn:rn,!y&&rn>=dn?u:no(u,y,rn)}var Ju=ad||function(u){return Ci.clearTimeout(u)};function Xu(u,y){if(y)return u.slice();var rn=u.length,dn=bu?bu(rn):new u.constructor(rn);return u.copy(dn),dn}function hc(u){var y=new u.constructor(u.byteLength);return new Xs(y).set(new Xs(u)),y}function vh(u,y){var rn=y?hc(u.buffer):u.buffer;return new u.constructor(rn,u.byteOffset,u.byteLength)}function Sh(u){var y=new u.constructor(u.source,gi.exec(u));return y.lastIndex=u.lastIndex,y}function Ah(u){return xs?si(xs.call(u)):{}}function Qu(u,y){var rn=y?hc(u.buffer):u.buffer;return new u.constructor(rn,u.byteOffset,u.length)}function el(u,y){if(u!==y){var rn=u!==n,dn=u===null,Sn=u===u,Cn=Wi(u),jn=y!==n,Wn=y===null,Qn=y===y,Cr=Wi(y);if(!Wn&&!Cr&&!Cn&&u>y||Cn&&jn&&Qn&&!Wn&&!Cr||dn&&jn&&Qn||!rn&&Qn||!Sn)return 1;if(!dn&&!Cn&&!Cr&&u<y||Cr&&rn&&Sn&&!dn&&!Cn||Wn&&rn&&Sn||!jn&&Sn||!Qn)return-1}return 0}function Eh(u,y,rn){for(var dn=-1,Sn=u.criteria,Cn=y.criteria,jn=Sn.length,Wn=rn.length;++dn<jn;){var Qn=el(Sn[dn],Cn[dn]);if(Qn){if(dn>=Wn)return Qn;var Cr=rn[dn];return Qn*(Cr=="desc"?-1:1)}}return u.index-y.index}function tl(u,y,rn,dn){for(var Sn=-1,Cn=u.length,jn=rn.length,Wn=-1,Qn=y.length,Cr=Bi(Cn-jn,0),Mr=xr(Qn+Cr),Dr=!dn;++Wn<Qn;)Mr[Wn]=y[Wn];for(;++Sn<jn;)(Dr||Sn<Cn)&&(Mr[rn[Sn]]=u[Sn]);for(;Cr--;)Mr[Wn++]=u[Sn++];return Mr}function nl(u,y,rn,dn){for(var Sn=-1,Cn=u.length,jn=-1,Wn=rn.length,Qn=-1,Cr=y.length,Mr=Bi(Cn-Wn,0),Dr=xr(Mr+Cr),Vr=!dn;++Sn<Mr;)Dr[Sn]=u[Sn];for(var jr=Sn;++Qn<Cr;)Dr[jr+Qn]=y[Qn];for(;++jn<Wn;)(Vr||Sn<Cn)&&(Dr[jr+rn[jn]]=u[Sn++]);return Dr}function Ki(u,y){var rn=-1,dn=u.length;for(y||(y=xr(dn));++rn<dn;)y[rn]=u[rn];return y}function lo(u,y,rn,dn){var Sn=!rn;rn||(rn={});for(var Cn=-1,jn=y.length;++Cn<jn;){var Wn=y[Cn],Qn=dn?dn(rn[Wn],u[Wn],Wn,rn,u):n;Qn===n&&(Qn=u[Wn]),Sn?go(rn,Wn,Qn):Is(rn,Wn,Qn)}return rn}function xh(u,y){return lo(u,wc(u),y)}function Ih(u,y){return lo(u,gl(u),y)}function ha(u,y){return function(rn,dn){var Sn=Zr(rn)?$f:Wd,Cn=y?y():{};return Sn(rn,u,qr(dn,2),Cn)}}function ts(u){return Qr(function(y,rn){var dn=-1,Sn=rn.length,Cn=Sn>1?rn[Sn-1]:n,jn=Sn>2?rn[2]:n;for(Cn=u.length>3&&typeof Cn=="function"?(Sn--,Cn):n,jn&&Ui(rn[0],rn[1],jn)&&(Cn=Sn<3?n:Cn,Sn=1),y=si(y);++dn<Sn;){var Wn=rn[dn];Wn&&u(y,Wn,dn,Cn)}return y})}function rl(u,y){return function(rn,dn){if(rn==null)return rn;if(!Hi(rn))return u(rn,dn);for(var Sn=rn.length,Cn=y?Sn:-1,jn=si(rn);(y?Cn--:++Cn<Sn)&&dn(jn[Cn],Cn,jn)!==!1;);return rn}}function il(u){return function(y,rn,dn){for(var Sn=-1,Cn=si(y),jn=dn(y),Wn=jn.length;Wn--;){var Qn=jn[u?Wn:++Sn];if(rn(Cn[Qn],Qn,Cn)===!1)break}return y}}function kh(u,y,rn){var dn=y&yn,Sn=$s(u);function Cn(){var jn=this&&this!==Ci&&this instanceof Cn?Sn:u;return jn.apply(dn?rn:this,arguments)}return Cn}function ol(u){return function(y){y=ii(y);var rn=Wo(y)?oo(y):n,dn=rn?rn[0]:y.charAt(0),Sn=rn?$o(rn,1).join(""):y.slice(1);return dn[u]()+Sn}}function ns(u){return function(y){return Da(rf(nf(y).replace(mf,"")),u,"")}}function $s(u){return function(){var y=arguments;switch(y.length){case 0:return new u;case 1:return new u(y[0]);case 2:return new u(y[0],y[1]);case 3:return new u(y[0],y[1],y[2]);case 4:return new u(y[0],y[1],y[2],y[3]);case 5:return new u(y[0],y[1],y[2],y[3],y[4]);case 6:return new u(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new u(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var rn=es(u.prototype),dn=u.apply(rn,y);return yi(dn)?dn:rn}}function Rh(u,y,rn){var dn=$s(u);function Sn(){for(var Cn=arguments.length,jn=xr(Cn),Wn=Cn,Qn=rs(Sn);Wn--;)jn[Wn]=arguments[Wn];var Cr=Cn<3&&jn[0]!==Qn&&jn[Cn-1]!==Qn?[]:Io(jn,Qn);if(Cn-=Cr.length,Cn<rn)return ll(u,y,pa,Sn.placeholder,n,jn,Cr,n,n,rn-Cn);var Mr=this&&this!==Ci&&this instanceof Sn?dn:u;return ji(Mr,this,jn)}return Sn}function sl(u){return function(y,rn,dn){var Sn=si(y);if(!Hi(y)){var Cn=qr(rn,3);y=Pi(y),rn=function(Wn){return Cn(Sn[Wn],Wn,Sn)}}var jn=u(y,rn,dn);return jn>-1?Sn[Cn?y[jn]:jn]:n}}function al(u){return mo(function(y){var rn=y.length,dn=rn,Sn=eo.prototype.thru;for(u&&y.reverse();dn--;){var Cn=y[dn];if(typeof Cn!="function")throw new Qi(a);if(Sn&&!jn&&ba(Cn)=="wrapper")var jn=new eo([],!0)}for(dn=jn?dn:rn;++dn<rn;){Cn=y[dn];var Wn=ba(Cn),Qn=Wn=="wrapper"?_c(Cn):n;Qn&&Sc(Qn[0])&&Qn[1]==(Tn|An|Mn|Pn)&&!Qn[4].length&&Qn[9]==1?jn=jn[ba(Qn[0])].apply(jn,Qn[3]):jn=Cn.length==1&&Sc(Cn)?jn[Wn]():jn.thru(Cn)}return function(){var Cr=arguments,Mr=Cr[0];if(jn&&Cr.length==1&&Zr(Mr))return jn.plant(Mr).value();for(var Dr=0,Vr=rn?y[Dr].apply(this,Cr):Mr;++Dr<rn;)Vr=y[Dr].call(this,Vr);return Vr}})}function pa(u,y,rn,dn,Sn,Cn,jn,Wn,Qn,Cr){var Mr=y&Tn,Dr=y&yn,Vr=y&wn,jr=y&(An|$n),Gr=y&zn,Xr=Vr?n:$s(u);function Wr(){for(var ei=arguments.length,ni=xr(ei),Yi=ei;Yi--;)ni[Yi]=arguments[Yi];if(jr)var Fi=rs(Wr),Zi=Ff(ni,Fi);if(dn&&(ni=tl(ni,dn,Sn,jr)),Cn&&(ni=nl(ni,Cn,jn,jr)),ei-=Zi,jr&&ei<Cr){var Oi=Io(ni,Fi);return ll(u,y,pa,Wr.placeholder,rn,ni,Oi,Wn,Qn,Cr-ei)}var co=Dr?rn:this,vo=Vr?co[u]:u;return ei=ni.length,Wn?ni=Wh(ni,Wn):Gr&&ei>1&&ni.reverse(),Mr&&Qn<ei&&(ni.length=Qn),this&&this!==Ci&&this instanceof Wr&&(vo=Xr||$s(vo)),vo.apply(co,ni)}return Wr}function cl(u,y){return function(rn,dn){return nh(rn,u,y(dn),{})}}function ga(u,y){return function(rn,dn){var Sn;if(rn===n&&dn===n)return y;if(rn!==n&&(Sn=rn),dn!==n){if(Sn===n)return dn;typeof rn=="string"||typeof dn=="string"?(rn=Gi(rn),dn=Gi(dn)):(rn=Gu(rn),dn=Gu(dn)),Sn=u(rn,dn)}return Sn}}function pc(u){return mo(function(y){return y=fi(y,qi(qr())),Qr(function(rn){var dn=this;return u(y,function(Sn){return ji(Sn,dn,rn)})})})}function ya(u,y){y=y===n?" ":Gi(y);var rn=y.length;if(rn<2)return rn?ac(y,u):y;var dn=ac(y,na(u/Yo(y)));return Wo(y)?$o(oo(dn),0,u).join(""):dn.slice(0,u)}function Th(u,y,rn,dn){var Sn=y&yn,Cn=$s(u);function jn(){for(var Wn=-1,Qn=arguments.length,Cr=-1,Mr=dn.length,Dr=xr(Mr+Qn),Vr=this&&this!==Ci&&this instanceof jn?Cn:u;++Cr<Mr;)Dr[Cr]=dn[Cr];for(;Qn--;)Dr[Cr++]=arguments[++Wn];return ji(Vr,Sn?rn:this,Dr)}return jn}function ul(u){return function(y,rn,dn){return dn&&typeof dn!="number"&&Ui(y,rn,dn)&&(rn=dn=n),y=wo(y),rn===n?(rn=y,y=0):rn=wo(rn),dn=dn===n?y<rn?1:-1:wo(dn),ph(y,rn,dn,u)}}function ma(u){return function(y,rn){return typeof y=="string"&&typeof rn=="string"||(y=io(y),rn=io(rn)),u(y,rn)}}function ll(u,y,rn,dn,Sn,Cn,jn,Wn,Qn,Cr){var Mr=y&An,Dr=Mr?jn:n,Vr=Mr?n:jn,jr=Mr?Cn:n,Gr=Mr?n:Cn;y|=Mr?Mn:En,y&=~(Mr?En:Mn),y&kn||(y&=~(yn|wn));var Xr=[u,y,Sn,jr,Dr,Gr,Vr,Wn,Qn,Cr],Wr=rn.apply(n,Xr);return Sc(u)&&Sl(Wr,Xr),Wr.placeholder=dn,Al(Wr,u,y)}function gc(u){var y=$i[u];return function(rn,dn){if(rn=io(rn),dn=dn==null?0:Li(Jr(dn),292),dn&&Au(rn)){var Sn=(ii(rn)+"e").split("e"),Cn=y(Sn[0]+"e"+(+Sn[1]+dn));return Sn=(ii(Cn)+"e").split("e"),+(Sn[0]+"e"+(+Sn[1]-dn))}return y(rn)}}var Oh=Xo&&1/qs(new Xo([,-0]))[1]==xn?function(u){return new Xo(u)}:Nc;function fl(u){return function(y){var rn=Ni(y);return rn==Un?ja(y):rn==vr?Gf(y):Uf(y,u(y))}}function yo(u,y,rn,dn,Sn,Cn,jn,Wn){var Qn=y&wn;if(!Qn&&typeof u!="function")throw new Qi(a);var Cr=dn?dn.length:0;if(Cr||(y&=~(Mn|En),dn=Sn=n),jn=jn===n?jn:Bi(Jr(jn),0),Wn=Wn===n?Wn:Jr(Wn),Cr-=Sn?Sn.length:0,y&En){var Mr=dn,Dr=Sn;dn=Sn=n}var Vr=Qn?n:_c(u),jr=[u,y,rn,dn,Sn,Mr,Dr,Cn,jn,Wn];if(Vr&&jh(jr,Vr),u=jr[0],y=jr[1],rn=jr[2],dn=jr[3],Sn=jr[4],Wn=jr[9]=jr[9]===n?Qn?0:u.length:Bi(jr[9]-Cr,0),!Wn&&y&(An|$n)&&(y&=~(An|$n)),!y||y==yn)var Gr=kh(u,y,rn);else y==An||y==$n?Gr=Rh(u,y,Wn):(y==Mn||y==(yn|Mn))&&!Sn.length?Gr=Th(u,y,rn,dn):Gr=pa.apply(n,jr);var Xr=Vr?ju:Sl;return Al(Xr(Gr,jr),u,y)}function dl(u,y,rn,dn){return u===n||ao(u,Jo[rn])&&!oi.call(dn,rn)?y:u}function hl(u,y,rn,dn,Sn,Cn){return yi(u)&&yi(y)&&(Cn.set(y,u),la(u,y,n,hl,Cn),Cn.delete(y)),u}function $h(u){return Cs(u)?n:u}function pl(u,y,rn,dn,Sn,Cn){var jn=rn&gn,Wn=u.length,Qn=y.length;if(Wn!=Qn&&!(jn&&Qn>Wn))return!1;var Cr=Cn.get(u),Mr=Cn.get(y);if(Cr&&Mr)return Cr==y&&Mr==u;var Dr=-1,Vr=!0,jr=rn&mn?new Lo:n;for(Cn.set(u,y),Cn.set(y,u);++Dr<Wn;){var Gr=u[Dr],Xr=y[Dr];if(dn)var Wr=jn?dn(Xr,Gr,Dr,y,u,Cn):dn(Gr,Xr,Dr,u,y,Cn);if(Wr!==n){if(Wr)continue;Vr=!1;break}if(jr){if(!Ua(y,function(ei,ni){if(!ws(jr,ni)&&(Gr===ei||Sn(Gr,ei,rn,dn,Cn)))return jr.push(ni)})){Vr=!1;break}}else if(!(Gr===Xr||Sn(Gr,Xr,rn,dn,Cn))){Vr=!1;break}}return Cn.delete(u),Cn.delete(y),Vr}function Bh(u,y,rn,dn,Sn,Cn,jn){switch(rn){case l:if(u.byteLength!=y.byteLength||u.byteOffset!=y.byteOffset)return!1;u=u.buffer,y=y.buffer;case nn:return!(u.byteLength!=y.byteLength||!Cn(new Xs(u),new Xs(y)));case Yn:case gr:case qn:return ao(+u,+y);case Ir:return u.name==y.name&&u.message==y.message;case Ar:case br:return u==y+"";case Un:var Wn=ja;case vr:var Qn=dn&gn;if(Wn||(Wn=qs),u.size!=y.size&&!Qn)return!1;var Cr=jn.get(u);if(Cr)return Cr==y;dn|=mn,jn.set(u,y);var Mr=pl(Wn(u),Wn(y),dn,Sn,Cn,jn);return jn.delete(u),Mr;case Tr:if(xs)return xs.call(u)==xs.call(y)}return!1}function Ph(u,y,rn,dn,Sn,Cn){var jn=rn&gn,Wn=yc(u),Qn=Wn.length,Cr=yc(y),Mr=Cr.length;if(Qn!=Mr&&!jn)return!1;for(var Dr=Qn;Dr--;){var Vr=Wn[Dr];if(!(jn?Vr in y:oi.call(y,Vr)))return!1}var jr=Cn.get(u),Gr=Cn.get(y);if(jr&&Gr)return jr==y&&Gr==u;var Xr=!0;Cn.set(u,y),Cn.set(y,u);for(var Wr=jn;++Dr<Qn;){Vr=Wn[Dr];var ei=u[Vr],ni=y[Vr];if(dn)var Yi=jn?dn(ni,ei,Vr,y,u,Cn):dn(ei,ni,Vr,u,y,Cn);if(!(Yi===n?ei===ni||Sn(ei,ni,rn,dn,Cn):Yi)){Xr=!1;break}Wr||(Wr=Vr=="constructor")}if(Xr&&!Wr){var Fi=u.constructor,Zi=y.constructor;Fi!=Zi&&"constructor"in u&&"constructor"in y&&!(typeof Fi=="function"&&Fi instanceof Fi&&typeof Zi=="function"&&Zi instanceof Zi)&&(Xr=!1)}return Cn.delete(u),Cn.delete(y),Xr}function mo(u){return Ec(wl(u,n,Tl),u+"")}function yc(u){return Cu(u,Pi,wc)}function mc(u){return Cu(u,Vi,gl)}var _c=ia?function(u){return ia.get(u)}:Nc;function ba(u){for(var y=u.name+"",rn=Qo[y],dn=oi.call(Qo,y)?rn.length:0;dn--;){var Sn=rn[dn],Cn=Sn.func;if(Cn==null||Cn==u)return Sn.name}return y}function rs(u){var y=oi.call(Bn,"placeholder")?Bn:u;return y.placeholder}function qr(){var u=Bn.iteratee||Mc;return u=u===Mc?Nu:u,arguments.length?u(arguments[0],arguments[1]):u}function wa(u,y){var rn=u.__data__;return Kh(y)?rn[typeof y=="string"?"string":"hash"]:rn.map}function bc(u){for(var y=Pi(u),rn=y.length;rn--;){var dn=y[rn],Sn=u[dn];y[rn]=[dn,Sn,_l(Sn)]}return y}function Uo(u,y){var rn=zf(u,y);return Lu(rn)?rn:n}function Ch(u){var y=oi.call(u,Co),rn=u[Co];try{u[Co]=n;var dn=!0}catch{}var Sn=Zs.call(u);return dn&&(y?u[Co]=rn:delete u[Co]),Sn}var wc=Ga?function(u){return u==null?[]:(u=si(u),Eo(Ga(u),function(y){return vu.call(u,y)}))}:Dc,gl=Ga?function(u){for(var y=[];u;)xo(y,wc(u)),u=Qs(u);return y}:Dc,Ni=Di;(Wa&&Ni(new Wa(new ArrayBuffer(1)))!=l||Ss&&Ni(new Ss)!=Un||Ya&&Ni(Ya.resolve())!=Er||Xo&&Ni(new Xo)!=vr||As&&Ni(new As)!=Br)&&(Ni=function(u){var y=Di(u),rn=y==Xn?u.constructor:n,dn=rn?Fo(rn):"";if(dn)switch(dn){case yd:return l;case md:return Un;case _d:return Er;case bd:return vr;case wd:return Br}return y});function Mh(u,y,rn){for(var dn=-1,Sn=rn.length;++dn<Sn;){var Cn=rn[dn],jn=Cn.size;switch(Cn.type){case"drop":u+=jn;break;case"dropRight":y-=jn;break;case"take":y=Li(y,u+jn);break;case"takeRight":u=Bi(u,y-jn);break}}return{start:u,end:y}}function Lh(u){var y=u.match(Ai);return y?y[1].split(Ei):[]}function yl(u,y,rn){y=Oo(y,u);for(var dn=-1,Sn=y.length,Cn=!1;++dn<Sn;){var jn=fo(y[dn]);if(!(Cn=u!=null&&rn(u,jn)))break;u=u[jn]}return Cn||++dn!=Sn?Cn:(Sn=u==null?0:u.length,!!Sn&&ka(Sn)&&_o(jn,Sn)&&(Zr(u)||Ko(u)))}function Nh(u){var y=u.length,rn=new u.constructor(y);return y&&typeof u[0]=="string"&&oi.call(u,"index")&&(rn.index=u.index,rn.input=u.input),rn}function ml(u){return typeof u.constructor=="function"&&!Bs(u)?es(Qs(u)):{}}function Dh(u,y,rn){var dn=u.constructor;switch(y){case nn:return hc(u);case Yn:case gr:return new dn(+u);case l:return vh(u,rn);case d:case an:case hn:case _n:case In:case kr:case Ur:case Pr:case Kr:return Qu(u,rn);case Un:return new dn;case qn:case br:return new dn(u);case Ar:return Sh(u);case vr:return new dn;case Tr:return Ah(u)}}function Uh(u,y){var rn=y.length;if(!rn)return u;var dn=rn-1;return y[dn]=(rn>1?"& ":"")+y[dn],y=y.join(rn>2?", ":" "),u.replace(Fs,`{
/* [wrapped with `+y+`] */
`)}function Fh(u){return Zr(u)||Ko(u)||!!(Su&&u&&u[Su])}function _o(u,y){var rn=typeof u;return y=y??On,!!y&&(rn=="number"||rn!="symbol"&&ls.test(u))&&u>-1&&u%1==0&&u<y}function Ui(u,y,rn){if(!yi(rn))return!1;var dn=typeof y;return(dn=="number"?Hi(rn)&&_o(y,rn.length):dn=="string"&&y in rn)?ao(rn[y],u):!1}function vc(u,y){if(Zr(u))return!1;var rn=typeof u;return rn=="number"||rn=="symbol"||rn=="boolean"||u==null||Wi(u)?!0:Ds.test(u)||!wi.test(u)||y!=null&&u in si(y)}function Kh(u){var y=typeof u;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?u!=="__proto__":u===null}function Sc(u){var y=ba(u),rn=Bn[y];if(typeof rn!="function"||!(y in ti.prototype))return!1;if(u===rn)return!0;var dn=_c(rn);return!!dn&&u===dn[0]}function Hh(u){return!!_u&&_u in u}var Vh=Ws?bo:Uc;function Bs(u){var y=u&&u.constructor,rn=typeof y=="function"&&y.prototype||Jo;return u===rn}function _l(u){return u===u&&!yi(u)}function bl(u,y){return function(rn){return rn==null?!1:rn[u]===y&&(y!==n||u in si(rn))}}function zh(u){var y=xa(u,function(dn){return rn.size===en&&rn.clear(),dn}),rn=y.cache;return y}function jh(u,y){var rn=u[1],dn=y[1],Sn=rn|dn,Cn=Sn<(yn|wn|Tn),jn=dn==Tn&&rn==An||dn==Tn&&rn==Pn&&u[7].length<=y[8]||dn==(Tn|Pn)&&y[7].length<=y[8]&&rn==An;if(!(Cn||jn))return u;dn&yn&&(u[2]=y[2],Sn|=rn&yn?0:kn);var Wn=y[3];if(Wn){var Qn=u[3];u[3]=Qn?tl(Qn,Wn,y[4]):Wn,u[4]=Qn?Io(u[3],tn):y[4]}return Wn=y[5],Wn&&(Qn=u[5],u[5]=Qn?nl(Qn,Wn,y[6]):Wn,u[6]=Qn?Io(u[5],tn):y[6]),Wn=y[7],Wn&&(u[7]=Wn),dn&Tn&&(u[8]=u[8]==null?y[8]:Li(u[8],y[8])),u[9]==null&&(u[9]=y[9]),u[0]=y[0],u[1]=Sn,u}function qh(u){var y=[];if(u!=null)for(var rn in si(u))y.push(rn);return y}function Gh(u){return Zs.call(u)}function wl(u,y,rn){return y=Bi(y===n?u.length-1:y,0),function(){for(var dn=arguments,Sn=-1,Cn=Bi(dn.length-y,0),jn=xr(Cn);++Sn<Cn;)jn[Sn]=dn[y+Sn];Sn=-1;for(var Wn=xr(y+1);++Sn<y;)Wn[Sn]=dn[Sn];return Wn[y]=rn(jn),ji(u,this,Wn)}}function vl(u,y){return y.length<2?u:Do(u,no(y,0,-1))}function Wh(u,y){for(var rn=u.length,dn=Li(y.length,rn),Sn=Ki(u);dn--;){var Cn=y[dn];u[dn]=_o(Cn,rn)?Sn[Cn]:n}return u}function Ac(u,y){if(!(y==="constructor"&&typeof u[y]=="function")&&y!="__proto__")return u[y]}var Sl=El(ju),Ps=ud||function(u,y){return Ci.setTimeout(u,y)},Ec=El(mh);function Al(u,y,rn){var dn=y+"";return Ec(u,Uh(dn,Yh(Lh(dn),rn)))}function El(u){var y=0,rn=0;return function(){var dn=hd(),Sn=pn-(dn-rn);if(rn=dn,Sn>0){if(++y>=_r)return arguments[0]}else y=0;return u.apply(n,arguments)}}function va(u,y){var rn=-1,dn=u.length,Sn=dn-1;for(y=y===n?dn:y;++rn<y;){var Cn=sc(rn,Sn),jn=u[Cn];u[Cn]=u[rn],u[rn]=jn}return u.length=y,u}var xl=zh(function(u){var y=[];return u.charCodeAt(0)===46&&y.push(""),u.replace(vi,function(rn,dn,Sn,Cn){y.push(Sn?Cn.replace(Ii,"$1"):dn||rn)}),y});function fo(u){if(typeof u=="string"||Wi(u))return u;var y=u+"";return y=="0"&&1/u==-xn?"-0":y}function Fo(u){if(u!=null){try{return Ys.call(u)}catch{}try{return u+""}catch{}}return""}function Yh(u,y){return Xi(Hr,function(rn){var dn="_."+rn[0];y&rn[1]&&!zs(u,dn)&&u.push(dn)}),u.sort()}function Il(u){if(u instanceof ti)return u.clone();var y=new eo(u.__wrapped__,u.__chain__);return y.__actions__=Ki(u.__actions__),y.__index__=u.__index__,y.__values__=u.__values__,y}function Zh(u,y,rn){(rn?Ui(u,y,rn):y===n)?y=1:y=Bi(Jr(y),0);var dn=u==null?0:u.length;if(!dn||y<1)return[];for(var Sn=0,Cn=0,jn=xr(na(dn/y));Sn<dn;)jn[Cn++]=no(u,Sn,Sn+=y);return jn}function Jh(u){for(var y=-1,rn=u==null?0:u.length,dn=0,Sn=[];++y<rn;){var Cn=u[y];Cn&&(Sn[dn++]=Cn)}return Sn}function Xh(){var u=arguments.length;if(!u)return[];for(var y=xr(u-1),rn=arguments[0],dn=u;dn--;)y[dn-1]=arguments[dn];return xo(Zr(rn)?Ki(rn):[rn],Mi(y,1))}var Qh=Qr(function(u,y){return Ti(u)?ks(u,Mi(y,1,Ti,!0)):[]}),ep=Qr(function(u,y){var rn=ro(y);return Ti(rn)&&(rn=n),Ti(u)?ks(u,Mi(y,1,Ti,!0),qr(rn,2)):[]}),tp=Qr(function(u,y){var rn=ro(y);return Ti(rn)&&(rn=n),Ti(u)?ks(u,Mi(y,1,Ti,!0),n,rn):[]});function np(u,y,rn){var dn=u==null?0:u.length;return dn?(y=rn||y===n?1:Jr(y),no(u,y<0?0:y,dn)):[]}function rp(u,y,rn){var dn=u==null?0:u.length;return dn?(y=rn||y===n?1:Jr(y),y=dn-y,no(u,0,y<0?0:y)):[]}function ip(u,y){return u&&u.length?da(u,qr(y,3),!0,!0):[]}function op(u,y){return u&&u.length?da(u,qr(y,3),!0):[]}function sp(u,y,rn,dn){var Sn=u==null?0:u.length;return Sn?(rn&&typeof rn!="number"&&Ui(u,y,rn)&&(rn=0,dn=Sn),Xd(u,y,rn,dn)):[]}function kl(u,y,rn){var dn=u==null?0:u.length;if(!dn)return-1;var Sn=rn==null?0:Jr(rn);return Sn<0&&(Sn=Bi(dn+Sn,0)),js(u,qr(y,3),Sn)}function Rl(u,y,rn){var dn=u==null?0:u.length;if(!dn)return-1;var Sn=dn-1;return rn!==n&&(Sn=Jr(rn),Sn=rn<0?Bi(dn+Sn,0):Li(Sn,dn-1)),js(u,qr(y,3),Sn,!0)}function Tl(u){var y=u==null?0:u.length;return y?Mi(u,1):[]}function ap(u){var y=u==null?0:u.length;return y?Mi(u,xn):[]}function cp(u,y){var rn=u==null?0:u.length;return rn?(y=y===n?1:Jr(y),Mi(u,y)):[]}function up(u){for(var y=-1,rn=u==null?0:u.length,dn={};++y<rn;){var Sn=u[y];dn[Sn[0]]=Sn[1]}return dn}function Ol(u){return u&&u.length?u[0]:n}function lp(u,y,rn){var dn=u==null?0:u.length;if(!dn)return-1;var Sn=rn==null?0:Jr(rn);return Sn<0&&(Sn=Bi(dn+Sn,0)),Go(u,y,Sn)}function fp(u){var y=u==null?0:u.length;return y?no(u,0,-1):[]}var dp=Qr(function(u){var y=fi(u,fc);return y.length&&y[0]===u[0]?tc(y):[]}),hp=Qr(function(u){var y=ro(u),rn=fi(u,fc);return y===ro(rn)?y=n:rn.pop(),rn.length&&rn[0]===u[0]?tc(rn,qr(y,2)):[]}),pp=Qr(function(u){var y=ro(u),rn=fi(u,fc);return y=typeof y=="function"?y:n,y&&rn.pop(),rn.length&&rn[0]===u[0]?tc(rn,n,y):[]});function gp(u,y){return u==null?"":fd.call(u,y)}function ro(u){var y=u==null?0:u.length;return y?u[y-1]:n}function yp(u,y,rn){var dn=u==null?0:u.length;if(!dn)return-1;var Sn=dn;return rn!==n&&(Sn=Jr(rn),Sn=Sn<0?Bi(dn+Sn,0):Li(Sn,dn-1)),y===y?Yf(u,y,Sn):js(u,lu,Sn,!0)}function mp(u,y){return u&&u.length?Ku(u,Jr(y)):n}var _p=Qr($l);function $l(u,y){return u&&u.length&&y&&y.length?oc(u,y):u}function bp(u,y,rn){return u&&u.length&&y&&y.length?oc(u,y,qr(rn,2)):u}function wp(u,y,rn){return u&&u.length&&y&&y.length?oc(u,y,n,rn):u}var vp=mo(function(u,y){var rn=u==null?0:u.length,dn=Ja(u,y);return zu(u,fi(y,function(Sn){return _o(Sn,rn)?+Sn:Sn}).sort(el)),dn});function Sp(u,y){var rn=[];if(!(u&&u.length))return rn;var dn=-1,Sn=[],Cn=u.length;for(y=qr(y,3);++dn<Cn;){var jn=u[dn];y(jn,dn,u)&&(rn.push(jn),Sn.push(dn))}return zu(u,Sn),rn}function xc(u){return u==null?u:gd.call(u)}function Ap(u,y,rn){var dn=u==null?0:u.length;return dn?(rn&&typeof rn!="number"&&Ui(u,y,rn)?(y=0,rn=dn):(y=y==null?0:Jr(y),rn=rn===n?dn:Jr(rn)),no(u,y,rn)):[]}function Ep(u,y){return fa(u,y)}function xp(u,y,rn){return cc(u,y,qr(rn,2))}function Ip(u,y){var rn=u==null?0:u.length;if(rn){var dn=fa(u,y);if(dn<rn&&ao(u[dn],y))return dn}return-1}function kp(u,y){return fa(u,y,!0)}function Rp(u,y,rn){return cc(u,y,qr(rn,2),!0)}function Tp(u,y){var rn=u==null?0:u.length;if(rn){var dn=fa(u,y,!0)-1;if(ao(u[dn],y))return dn}return-1}function Op(u){return u&&u.length?qu(u):[]}function $p(u,y){return u&&u.length?qu(u,qr(y,2)):[]}function Bp(u){var y=u==null?0:u.length;return y?no(u,1,y):[]}function Pp(u,y,rn){return u&&u.length?(y=rn||y===n?1:Jr(y),no(u,0,y<0?0:y)):[]}function Cp(u,y,rn){var dn=u==null?0:u.length;return dn?(y=rn||y===n?1:Jr(y),y=dn-y,no(u,y<0?0:y,dn)):[]}function Mp(u,y){return u&&u.length?da(u,qr(y,3),!1,!0):[]}function Lp(u,y){return u&&u.length?da(u,qr(y,3)):[]}var Np=Qr(function(u){return To(Mi(u,1,Ti,!0))}),Dp=Qr(function(u){var y=ro(u);return Ti(y)&&(y=n),To(Mi(u,1,Ti,!0),qr(y,2))}),Up=Qr(function(u){var y=ro(u);return y=typeof y=="function"?y:n,To(Mi(u,1,Ti,!0),n,y)});function Fp(u){return u&&u.length?To(u):[]}function Kp(u,y){return u&&u.length?To(u,qr(y,2)):[]}function Hp(u,y){return y=typeof y=="function"?y:n,u&&u.length?To(u,n,y):[]}function Ic(u){if(!(u&&u.length))return[];var y=0;return u=Eo(u,function(rn){if(Ti(rn))return y=Bi(rn.length,y),!0}),Va(y,function(rn){return fi(u,Fa(rn))})}function Bl(u,y){if(!(u&&u.length))return[];var rn=Ic(u);return y==null?rn:fi(rn,function(dn){return ji(y,n,dn)})}var Vp=Qr(function(u,y){return Ti(u)?ks(u,y):[]}),zp=Qr(function(u){return lc(Eo(u,Ti))}),jp=Qr(function(u){var y=ro(u);return Ti(y)&&(y=n),lc(Eo(u,Ti),qr(y,2))}),qp=Qr(function(u){var y=ro(u);return y=typeof y=="function"?y:n,lc(Eo(u,Ti),n,y)}),Gp=Qr(Ic);function Wp(u,y){return Zu(u||[],y||[],Is)}function Yp(u,y){return Zu(u||[],y||[],Os)}var Zp=Qr(function(u){var y=u.length,rn=y>1?u[y-1]:n;return rn=typeof rn=="function"?(u.pop(),rn):n,Bl(u,rn)});function Pl(u){var y=Bn(u);return y.__chain__=!0,y}function Jp(u,y){return y(u),u}function Sa(u,y){return y(u)}var Xp=mo(function(u){var y=u.length,rn=y?u[0]:0,dn=this.__wrapped__,Sn=function(Cn){return Ja(Cn,u)};return y>1||this.__actions__.length||!(dn instanceof ti)||!_o(rn)?this.thru(Sn):(dn=dn.slice(rn,+rn+(y?1:0)),dn.__actions__.push({func:Sa,args:[Sn],thisArg:n}),new eo(dn,this.__chain__).thru(function(Cn){return y&&!Cn.length&&Cn.push(n),Cn}))});function Qp(){return Pl(this)}function eg(){return new eo(this.value(),this.__chain__)}function tg(){this.__values__===n&&(this.__values__=Gl(this.value()));var u=this.__index__>=this.__values__.length,y=u?n:this.__values__[this.__index__++];return{done:u,value:y}}function ng(){return this}function rg(u){for(var y,rn=this;rn instanceof sa;){var dn=Il(rn);dn.__index__=0,dn.__values__=n,y?Sn.__wrapped__=dn:y=dn;var Sn=dn;rn=rn.__wrapped__}return Sn.__wrapped__=u,y}function ig(){var u=this.__wrapped__;if(u instanceof ti){var y=u;return this.__actions__.length&&(y=new ti(this)),y=y.reverse(),y.__actions__.push({func:Sa,args:[xc],thisArg:n}),new eo(y,this.__chain__)}return this.thru(xc)}function og(){return Yu(this.__wrapped__,this.__actions__)}var sg=ha(function(u,y,rn){oi.call(u,rn)?++u[rn]:go(u,rn,1)});function ag(u,y,rn){var dn=Zr(u)?cu:Jd;return rn&&Ui(u,y,rn)&&(y=n),dn(u,qr(y,3))}function cg(u,y){var rn=Zr(u)?Eo:Bu;return rn(u,qr(y,3))}var ug=sl(kl),lg=sl(Rl);function fg(u,y){return Mi(Aa(u,y),1)}function dg(u,y){return Mi(Aa(u,y),xn)}function hg(u,y,rn){return rn=rn===n?1:Jr(rn),Mi(Aa(u,y),rn)}function Cl(u,y){var rn=Zr(u)?Xi:Ro;return rn(u,qr(y,3))}function Ml(u,y){var rn=Zr(u)?Bf:$u;return rn(u,qr(y,3))}var pg=ha(function(u,y,rn){oi.call(u,rn)?u[rn].push(y):go(u,rn,[y])});function gg(u,y,rn,dn){u=Hi(u)?u:ss(u),rn=rn&&!dn?Jr(rn):0;var Sn=u.length;return rn<0&&(rn=Bi(Sn+rn,0)),Ra(u)?rn<=Sn&&u.indexOf(y,rn)>-1:!!Sn&&Go(u,y,rn)>-1}var yg=Qr(function(u,y,rn){var dn=-1,Sn=typeof y=="function",Cn=Hi(u)?xr(u.length):[];return Ro(u,function(jn){Cn[++dn]=Sn?ji(y,jn,rn):Rs(jn,y,rn)}),Cn}),mg=ha(function(u,y,rn){go(u,rn,y)});function Aa(u,y){var rn=Zr(u)?fi:Du;return rn(u,qr(y,3))}function _g(u,y,rn,dn){return u==null?[]:(Zr(y)||(y=y==null?[]:[y]),rn=dn?n:rn,Zr(rn)||(rn=rn==null?[]:[rn]),Hu(u,y,rn))}var bg=ha(function(u,y,rn){u[rn?0:1].push(y)},function(){return[[],[]]});function wg(u,y,rn){var dn=Zr(u)?Da:du,Sn=arguments.length<3;return dn(u,qr(y,4),rn,Sn,Ro)}function vg(u,y,rn){var dn=Zr(u)?Pf:du,Sn=arguments.length<3;return dn(u,qr(y,4),rn,Sn,$u)}function Sg(u,y){var rn=Zr(u)?Eo:Bu;return rn(u,Ia(qr(y,3)))}function Ag(u){var y=Zr(u)?ku:gh;return y(u)}function Eg(u,y,rn){(rn?Ui(u,y,rn):y===n)?y=1:y=Jr(y);var dn=Zr(u)?qd:yh;return dn(u,y)}function xg(u){var y=Zr(u)?Gd:_h;return y(u)}function Ig(u){if(u==null)return 0;if(Hi(u))return Ra(u)?Yo(u):u.length;var y=Ni(u);return y==Un||y==vr?u.size:rc(u).length}function kg(u,y,rn){var dn=Zr(u)?Ua:bh;return rn&&Ui(u,y,rn)&&(y=n),dn(u,qr(y,3))}var Rg=Qr(function(u,y){if(u==null)return[];var rn=y.length;return rn>1&&Ui(u,y[0],y[1])?y=[]:rn>2&&Ui(y[0],y[1],y[2])&&(y=[y[0]]),Hu(u,Mi(y,1),[])}),Ea=cd||function(){return Ci.Date.now()};function Tg(u,y){if(typeof y!="function")throw new Qi(a);return u=Jr(u),function(){if(--u<1)return y.apply(this,arguments)}}function Ll(u,y,rn){return y=rn?n:y,y=u&&y==null?u.length:y,yo(u,Tn,n,n,n,n,y)}function Nl(u,y){var rn;if(typeof y!="function")throw new Qi(a);return u=Jr(u),function(){return--u>0&&(rn=y.apply(this,arguments)),u<=1&&(y=n),rn}}var kc=Qr(function(u,y,rn){var dn=yn;if(rn.length){var Sn=Io(rn,rs(kc));dn|=Mn}return yo(u,dn,y,rn,Sn)}),Dl=Qr(function(u,y,rn){var dn=yn|wn;if(rn.length){var Sn=Io(rn,rs(Dl));dn|=Mn}return yo(y,dn,u,rn,Sn)});function Ul(u,y,rn){y=rn?n:y;var dn=yo(u,An,n,n,n,n,n,y);return dn.placeholder=Ul.placeholder,dn}function Fl(u,y,rn){y=rn?n:y;var dn=yo(u,$n,n,n,n,n,n,y);return dn.placeholder=Fl.placeholder,dn}function Kl(u,y,rn){var dn,Sn,Cn,jn,Wn,Qn,Cr=0,Mr=!1,Dr=!1,Vr=!0;if(typeof u!="function")throw new Qi(a);y=io(y)||0,yi(rn)&&(Mr=!!rn.leading,Dr="maxWait"in rn,Cn=Dr?Bi(io(rn.maxWait)||0,y):Cn,Vr="trailing"in rn?!!rn.trailing:Vr);function jr(Oi){var co=dn,vo=Sn;return dn=Sn=n,Cr=Oi,jn=u.apply(vo,co),jn}function Gr(Oi){return Cr=Oi,Wn=Ps(ei,y),Mr?jr(Oi):jn}function Xr(Oi){var co=Oi-Qn,vo=Oi-Cr,af=y-co;return Dr?Li(af,Cn-vo):af}function Wr(Oi){var co=Oi-Qn,vo=Oi-Cr;return Qn===n||co>=y||co<0||Dr&&vo>=Cn}function ei(){var Oi=Ea();if(Wr(Oi))return ni(Oi);Wn=Ps(ei,Xr(Oi))}function ni(Oi){return Wn=n,Vr&&dn?jr(Oi):(dn=Sn=n,jn)}function Yi(){Wn!==n&&Ju(Wn),Cr=0,dn=Qn=Sn=Wn=n}function Fi(){return Wn===n?jn:ni(Ea())}function Zi(){var Oi=Ea(),co=Wr(Oi);if(dn=arguments,Sn=this,Qn=Oi,co){if(Wn===n)return Gr(Qn);if(Dr)return Ju(Wn),Wn=Ps(ei,y),jr(Qn)}return Wn===n&&(Wn=Ps(ei,y)),jn}return Zi.cancel=Yi,Zi.flush=Fi,Zi}var Og=Qr(function(u,y){return Ou(u,1,y)}),$g=Qr(function(u,y,rn){return Ou(u,io(y)||0,rn)});function Bg(u){return yo(u,zn)}function xa(u,y){if(typeof u!="function"||y!=null&&typeof y!="function")throw new Qi(a);var rn=function(){var dn=arguments,Sn=y?y.apply(this,dn):dn[0],Cn=rn.cache;if(Cn.has(Sn))return Cn.get(Sn);var jn=u.apply(this,dn);return rn.cache=Cn.set(Sn,jn)||Cn,jn};return rn.cache=new(xa.Cache||po),rn}xa.Cache=po;function Ia(u){if(typeof u!="function")throw new Qi(a);return function(){var y=arguments;switch(y.length){case 0:return!u.call(this);case 1:return!u.call(this,y[0]);case 2:return!u.call(this,y[0],y[1]);case 3:return!u.call(this,y[0],y[1],y[2])}return!u.apply(this,y)}}function Pg(u){return Nl(2,u)}var Cg=wh(function(u,y){y=y.length==1&&Zr(y[0])?fi(y[0],qi(qr())):fi(Mi(y,1),qi(qr()));var rn=y.length;return Qr(function(dn){for(var Sn=-1,Cn=Li(dn.length,rn);++Sn<Cn;)dn[Sn]=y[Sn].call(this,dn[Sn]);return ji(u,this,dn)})}),Rc=Qr(function(u,y){var rn=Io(y,rs(Rc));return yo(u,Mn,n,y,rn)}),Hl=Qr(function(u,y){var rn=Io(y,rs(Hl));return yo(u,En,n,y,rn)}),Mg=mo(function(u,y){return yo(u,Pn,n,n,n,y)});function Lg(u,y){if(typeof u!="function")throw new Qi(a);return y=y===n?y:Jr(y),Qr(u,y)}function Ng(u,y){if(typeof u!="function")throw new Qi(a);return y=y==null?0:Bi(Jr(y),0),Qr(function(rn){var dn=rn[y],Sn=$o(rn,0,y);return dn&&xo(Sn,dn),ji(u,this,Sn)})}function Dg(u,y,rn){var dn=!0,Sn=!0;if(typeof u!="function")throw new Qi(a);return yi(rn)&&(dn="leading"in rn?!!rn.leading:dn,Sn="trailing"in rn?!!rn.trailing:Sn),Kl(u,y,{leading:dn,maxWait:y,trailing:Sn})}function Ug(u){return Ll(u,1)}function Fg(u,y){return Rc(dc(y),u)}function Kg(){if(!arguments.length)return[];var u=arguments[0];return Zr(u)?u:[u]}function Hg(u){return to(u,cn)}function Vg(u,y){return y=typeof y=="function"?y:n,to(u,cn,y)}function zg(u){return to(u,sn|cn)}function jg(u,y){return y=typeof y=="function"?y:n,to(u,sn|cn,y)}function qg(u,y){return y==null||Tu(u,y,Pi(y))}function ao(u,y){return u===y||u!==u&&y!==y}var Gg=ma(ec),Wg=ma(function(u,y){return u>=y}),Ko=Mu(function(){return arguments}())?Mu:function(u){return Ri(u)&&oi.call(u,"callee")&&!vu.call(u,"callee")},Zr=xr.isArray,Yg=nu?qi(nu):rh;function Hi(u){return u!=null&&ka(u.length)&&!bo(u)}function Ti(u){return Ri(u)&&Hi(u)}function Zg(u){return u===!0||u===!1||Ri(u)&&Di(u)==Yn}var Bo=ld||Uc,Jg=ru?qi(ru):ih;function Xg(u){return Ri(u)&&u.nodeType===1&&!Cs(u)}function Qg(u){if(u==null)return!0;if(Hi(u)&&(Zr(u)||typeof u=="string"||typeof u.splice=="function"||Bo(u)||os(u)||Ko(u)))return!u.length;var y=Ni(u);if(y==Un||y==vr)return!u.size;if(Bs(u))return!rc(u).length;for(var rn in u)if(oi.call(u,rn))return!1;return!0}function ey(u,y){return Ts(u,y)}function ty(u,y,rn){rn=typeof rn=="function"?rn:n;var dn=rn?rn(u,y):n;return dn===n?Ts(u,y,n,rn):!!dn}function Tc(u){if(!Ri(u))return!1;var y=Di(u);return y==Ir||y==Or||typeof u.message=="string"&&typeof u.name=="string"&&!Cs(u)}function ny(u){return typeof u=="number"&&Au(u)}function bo(u){if(!yi(u))return!1;var y=Di(u);return y==wr||y==Ln||y==Gn||y==Nr}function Vl(u){return typeof u=="number"&&u==Jr(u)}function ka(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=On}function yi(u){var y=typeof u;return u!=null&&(y=="object"||y=="function")}function Ri(u){return u!=null&&typeof u=="object"}var zl=iu?qi(iu):sh;function ry(u,y){return u===y||nc(u,y,bc(y))}function iy(u,y,rn){return rn=typeof rn=="function"?rn:n,nc(u,y,bc(y),rn)}function oy(u){return jl(u)&&u!=+u}function sy(u){if(Vh(u))throw new Yr(s);return Lu(u)}function ay(u){return u===null}function cy(u){return u==null}function jl(u){return typeof u=="number"||Ri(u)&&Di(u)==qn}function Cs(u){if(!Ri(u)||Di(u)!=Xn)return!1;var y=Qs(u);if(y===null)return!0;var rn=oi.call(y,"constructor")&&y.constructor;return typeof rn=="function"&&rn instanceof rn&&Ys.call(rn)==id}var Oc=ou?qi(ou):ah;function uy(u){return Vl(u)&&u>=-On&&u<=On}var ql=su?qi(su):ch;function Ra(u){return typeof u=="string"||!Zr(u)&&Ri(u)&&Di(u)==br}function Wi(u){return typeof u=="symbol"||Ri(u)&&Di(u)==Tr}var os=au?qi(au):uh;function ly(u){return u===n}function fy(u){return Ri(u)&&Ni(u)==Br}function dy(u){return Ri(u)&&Di(u)==Fr}var hy=ma(ic),py=ma(function(u,y){return u<=y});function Gl(u){if(!u)return[];if(Hi(u))return Ra(u)?oo(u):Ki(u);if(vs&&u[vs])return qf(u[vs]());var y=Ni(u),rn=y==Un?ja:y==vr?qs:ss;return rn(u)}function wo(u){if(!u)return u===0?u:0;if(u=io(u),u===xn||u===-xn){var y=u<0?-1:1;return y*Hn}return u===u?u:0}function Jr(u){var y=wo(u),rn=y%1;return y===y?rn?y-rn:y:0}function Wl(u){return u?No(Jr(u),0,Rn):0}function io(u){if(typeof u=="number")return u;if(Wi(u))return Zn;if(yi(u)){var y=typeof u.valueOf=="function"?u.valueOf():u;u=yi(y)?y+"":y}if(typeof u!="string")return u===0?u:+u;u=hu(u);var rn=as.test(u);return rn||us.test(u)?Tf(u.slice(2),rn?2:8):ki.test(u)?Zn:+u}function Yl(u){return lo(u,Vi(u))}function gy(u){return u?No(Jr(u),-On,On):u===0?u:0}function ii(u){return u==null?"":Gi(u)}var yy=ts(function(u,y){if(Bs(y)||Hi(y)){lo(y,Pi(y),u);return}for(var rn in y)oi.call(y,rn)&&Is(u,rn,y[rn])}),Zl=ts(function(u,y){lo(y,Vi(y),u)}),Ta=ts(function(u,y,rn,dn){lo(y,Vi(y),u,dn)}),my=ts(function(u,y,rn,dn){lo(y,Pi(y),u,dn)}),_y=mo(Ja);function by(u,y){var rn=es(u);return y==null?rn:Ru(rn,y)}var wy=Qr(function(u,y){u=si(u);var rn=-1,dn=y.length,Sn=dn>2?y[2]:n;for(Sn&&Ui(y[0],y[1],Sn)&&(dn=1);++rn<dn;)for(var Cn=y[rn],jn=Vi(Cn),Wn=-1,Qn=jn.length;++Wn<Qn;){var Cr=jn[Wn],Mr=u[Cr];(Mr===n||ao(Mr,Jo[Cr])&&!oi.call(u,Cr))&&(u[Cr]=Cn[Cr])}return u}),vy=Qr(function(u){return u.push(n,hl),ji(Jl,n,u)});function Sy(u,y){return uu(u,qr(y,3),uo)}function Ay(u,y){return uu(u,qr(y,3),Qa)}function Ey(u,y){return u==null?u:Xa(u,qr(y,3),Vi)}function xy(u,y){return u==null?u:Pu(u,qr(y,3),Vi)}function Iy(u,y){return u&&uo(u,qr(y,3))}function ky(u,y){return u&&Qa(u,qr(y,3))}function Ry(u){return u==null?[]:ua(u,Pi(u))}function Ty(u){return u==null?[]:ua(u,Vi(u))}function $c(u,y,rn){var dn=u==null?n:Do(u,y);return dn===n?rn:dn}function Oy(u,y){return u!=null&&yl(u,y,Qd)}function Bc(u,y){return u!=null&&yl(u,y,eh)}var $y=cl(function(u,y,rn){y!=null&&typeof y.toString!="function"&&(y=Zs.call(y)),u[y]=rn},Cc(zi)),By=cl(function(u,y,rn){y!=null&&typeof y.toString!="function"&&(y=Zs.call(y)),oi.call(u,y)?u[y].push(rn):u[y]=[rn]},qr),Py=Qr(Rs);function Pi(u){return Hi(u)?Iu(u):rc(u)}function Vi(u){return Hi(u)?Iu(u,!0):lh(u)}function Cy(u,y){var rn={};return y=qr(y,3),uo(u,function(dn,Sn,Cn){go(rn,y(dn,Sn,Cn),dn)}),rn}function My(u,y){var rn={};return y=qr(y,3),uo(u,function(dn,Sn,Cn){go(rn,Sn,y(dn,Sn,Cn))}),rn}var Ly=ts(function(u,y,rn){la(u,y,rn)}),Jl=ts(function(u,y,rn,dn){la(u,y,rn,dn)}),Ny=mo(function(u,y){var rn={};if(u==null)return rn;var dn=!1;y=fi(y,function(Cn){return Cn=Oo(Cn,u),dn||(dn=Cn.length>1),Cn}),lo(u,mc(u),rn),dn&&(rn=to(rn,sn|un|cn,$h));for(var Sn=y.length;Sn--;)uc(rn,y[Sn]);return rn});function Dy(u,y){return Xl(u,Ia(qr(y)))}var Uy=mo(function(u,y){return u==null?{}:dh(u,y)});function Xl(u,y){if(u==null)return{};var rn=fi(mc(u),function(dn){return[dn]});return y=qr(y),Vu(u,rn,function(dn,Sn){return y(dn,Sn[0])})}function Fy(u,y,rn){y=Oo(y,u);var dn=-1,Sn=y.length;for(Sn||(Sn=1,u=n);++dn<Sn;){var Cn=u==null?n:u[fo(y[dn])];Cn===n&&(dn=Sn,Cn=rn),u=bo(Cn)?Cn.call(u):Cn}return u}function Ky(u,y,rn){return u==null?u:Os(u,y,rn)}function Hy(u,y,rn,dn){return dn=typeof dn=="function"?dn:n,u==null?u:Os(u,y,rn,dn)}var Ql=fl(Pi),ef=fl(Vi);function Vy(u,y,rn){var dn=Zr(u),Sn=dn||Bo(u)||os(u);if(y=qr(y,4),rn==null){var Cn=u&&u.constructor;Sn?rn=dn?new Cn:[]:yi(u)?rn=bo(Cn)?es(Qs(u)):{}:rn={}}return(Sn?Xi:uo)(u,function(jn,Wn,Qn){return y(rn,jn,Wn,Qn)}),rn}function zy(u,y){return u==null?!0:uc(u,y)}function jy(u,y,rn){return u==null?u:Wu(u,y,dc(rn))}function qy(u,y,rn,dn){return dn=typeof dn=="function"?dn:n,u==null?u:Wu(u,y,dc(rn),dn)}function ss(u){return u==null?[]:za(u,Pi(u))}function Gy(u){return u==null?[]:za(u,Vi(u))}function Wy(u,y,rn){return rn===n&&(rn=y,y=n),rn!==n&&(rn=io(rn),rn=rn===rn?rn:0),y!==n&&(y=io(y),y=y===y?y:0),No(io(u),y,rn)}function Yy(u,y,rn){return y=wo(y),rn===n?(rn=y,y=0):rn=wo(rn),u=io(u),th(u,y,rn)}function Zy(u,y,rn){if(rn&&typeof rn!="boolean"&&Ui(u,y,rn)&&(y=rn=n),rn===n&&(typeof y=="boolean"?(rn=y,y=n):typeof u=="boolean"&&(rn=u,u=n)),u===n&&y===n?(u=0,y=1):(u=wo(u),y===n?(y=u,u=0):y=wo(y)),u>y){var dn=u;u=y,y=dn}if(rn||u%1||y%1){var Sn=Eu();return Li(u+Sn*(y-u+Rf("1e-"+((Sn+"").length-1))),y)}return sc(u,y)}var Jy=ns(function(u,y,rn){return y=y.toLowerCase(),u+(rn?tf(y):y)});function tf(u){return Pc(ii(u).toLowerCase())}function nf(u){return u=ii(u),u&&u.replace(fs,Kf).replace(_f,"")}function Xy(u,y,rn){u=ii(u),y=Gi(y);var dn=u.length;rn=rn===n?dn:No(Jr(rn),0,dn);var Sn=rn;return rn-=y.length,rn>=0&&u.slice(rn,Sn)==y}function Qy(u){return u=ii(u),u&&_i.test(u)?u.replace(hi,Hf):u}function e0(u){return u=ii(u),u&&Us.test(u)?u.replace(ui,"\\$&"):u}var t0=ns(function(u,y,rn){return u+(rn?"-":"")+y.toLowerCase()}),n0=ns(function(u,y,rn){return u+(rn?" ":"")+y.toLowerCase()}),r0=ol("toLowerCase");function i0(u,y,rn){u=ii(u),y=Jr(y);var dn=y?Yo(u):0;if(!y||dn>=y)return u;var Sn=(y-dn)/2;return ya(ra(Sn),rn)+u+ya(na(Sn),rn)}function o0(u,y,rn){u=ii(u),y=Jr(y);var dn=y?Yo(u):0;return y&&dn<y?u+ya(y-dn,rn):u}function s0(u,y,rn){u=ii(u),y=Jr(y);var dn=y?Yo(u):0;return y&&dn<y?ya(y-dn,rn)+u:u}function a0(u,y,rn){return rn||y==null?y=0:y&&(y=+y),pd(ii(u).replace(li,""),y||0)}function c0(u,y,rn){return(rn?Ui(u,y,rn):y===n)?y=1:y=Jr(y),ac(ii(u),y)}function u0(){var u=arguments,y=ii(u[0]);return u.length<3?y:y.replace(u[1],u[2])}var l0=ns(function(u,y,rn){return u+(rn?"_":"")+y.toLowerCase()});function f0(u,y,rn){return rn&&typeof rn!="number"&&Ui(u,y,rn)&&(y=rn=n),rn=rn===n?Rn:rn>>>0,rn?(u=ii(u),u&&(typeof y=="string"||y!=null&&!Oc(y))&&(y=Gi(y),!y&&Wo(u))?$o(oo(u),0,rn):u.split(y,rn)):[]}var d0=ns(function(u,y,rn){return u+(rn?" ":"")+Pc(y)});function h0(u,y,rn){return u=ii(u),rn=rn==null?0:No(Jr(rn),0,u.length),y=Gi(y),u.slice(rn,rn+y.length)==y}function p0(u,y,rn){var dn=Bn.templateSettings;rn&&Ui(u,y,rn)&&(y=n),u=ii(u),y=Ta({},y,dn,dl);var Sn=Ta({},y.imports,dn.imports,dl),Cn=Pi(Sn),jn=za(Sn,Cn),Wn,Qn,Cr=0,Mr=y.interpolate||So,Dr="__p += '",Vr=qa((y.escape||So).source+"|"+Mr.source+"|"+(Mr===pi?Hs:So).source+"|"+(y.evaluate||So).source+"|$","g"),jr="//# sourceURL="+(oi.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Af+"]")+`
`;u.replace(Vr,function(Wr,ei,ni,Yi,Fi,Zi){return ni||(ni=Yi),Dr+=u.slice(Cr,Zi).replace(ds,Vf),ei&&(Wn=!0,Dr+=`' +
__e(`+ei+`) +
'`),Fi&&(Qn=!0,Dr+=`';
`+Fi+`;
__p += '`),ni&&(Dr+=`' +
((__t = (`+ni+`)) == null ? '' : __t) +
'`),Cr=Zi+Wr.length,Wr}),Dr+=`';
`;var Gr=oi.call(y,"variable")&&y.variable;if(!Gr)Dr=`with (obj) {
`+Dr+`
}
`;else if(xi.test(Gr))throw new Yr(c);Dr=(Qn?Dr.replace(Lr,""):Dr).replace(mi,"$1").replace(Ms,"$1;"),Dr="function("+(Gr||"obj")+`) {
`+(Gr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Wn?", __e = _.escape":"")+(Qn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Dr+`return __p
}`;var Xr=of(function(){return ri(Cn,jr+"return "+Dr).apply(n,jn)});if(Xr.source=Dr,Tc(Xr))throw Xr;return Xr}function g0(u){return ii(u).toLowerCase()}function y0(u){return ii(u).toUpperCase()}function m0(u,y,rn){if(u=ii(u),u&&(rn||y===n))return hu(u);if(!u||!(y=Gi(y)))return u;var dn=oo(u),Sn=oo(y),Cn=pu(dn,Sn),jn=gu(dn,Sn)+1;return $o(dn,Cn,jn).join("")}function _0(u,y,rn){if(u=ii(u),u&&(rn||y===n))return u.slice(0,mu(u)+1);if(!u||!(y=Gi(y)))return u;var dn=oo(u),Sn=gu(dn,oo(y))+1;return $o(dn,0,Sn).join("")}function b0(u,y,rn){if(u=ii(u),u&&(rn||y===n))return u.replace(li,"");if(!u||!(y=Gi(y)))return u;var dn=oo(u),Sn=pu(dn,oo(y));return $o(dn,Sn).join("")}function w0(u,y){var rn=Nn,dn=Kn;if(yi(y)){var Sn="separator"in y?y.separator:Sn;rn="length"in y?Jr(y.length):rn,dn="omission"in y?Gi(y.omission):dn}u=ii(u);var Cn=u.length;if(Wo(u)){var jn=oo(u);Cn=jn.length}if(rn>=Cn)return u;var Wn=rn-Yo(dn);if(Wn<1)return dn;var Qn=jn?$o(jn,0,Wn).join(""):u.slice(0,Wn);if(Sn===n)return Qn+dn;if(jn&&(Wn+=Qn.length-Wn),Oc(Sn)){if(u.slice(Wn).search(Sn)){var Cr,Mr=Qn;for(Sn.global||(Sn=qa(Sn.source,ii(gi.exec(Sn))+"g")),Sn.lastIndex=0;Cr=Sn.exec(Mr);)var Dr=Cr.index;Qn=Qn.slice(0,Dr===n?Wn:Dr)}}else if(u.indexOf(Gi(Sn),Wn)!=Wn){var Vr=Qn.lastIndexOf(Sn);Vr>-1&&(Qn=Qn.slice(0,Vr))}return Qn+dn}function v0(u){return u=ii(u),u&&Ls.test(u)?u.replace(di,Zf):u}var S0=ns(function(u,y,rn){return u+(rn?" ":"")+y.toUpperCase()}),Pc=ol("toUpperCase");function rf(u,y,rn){return u=ii(u),y=rn?n:y,y===n?jf(u)?Qf(u):Lf(u):u.match(y)||[]}var of=Qr(function(u,y){try{return ji(u,n,y)}catch(rn){return Tc(rn)?rn:new Yr(rn)}}),A0=mo(function(u,y){return Xi(y,function(rn){rn=fo(rn),go(u,rn,kc(u[rn],u))}),u});function E0(u){var y=u==null?0:u.length,rn=qr();return u=y?fi(u,function(dn){if(typeof dn[1]!="function")throw new Qi(a);return[rn(dn[0]),dn[1]]}):[],Qr(function(dn){for(var Sn=-1;++Sn<y;){var Cn=u[Sn];if(ji(Cn[0],this,dn))return ji(Cn[1],this,dn)}})}function x0(u){return Zd(to(u,sn))}function Cc(u){return function(){return u}}function I0(u,y){return u==null||u!==u?y:u}var k0=al(),R0=al(!0);function zi(u){return u}function Mc(u){return Nu(typeof u=="function"?u:to(u,sn))}function T0(u){return Uu(to(u,sn))}function O0(u,y){return Fu(u,to(y,sn))}var $0=Qr(function(u,y){return function(rn){return Rs(rn,u,y)}}),B0=Qr(function(u,y){return function(rn){return Rs(u,rn,y)}});function Lc(u,y,rn){var dn=Pi(y),Sn=ua(y,dn);rn==null&&!(yi(y)&&(Sn.length||!dn.length))&&(rn=y,y=u,u=this,Sn=ua(y,Pi(y)));var Cn=!(yi(rn)&&"chain"in rn)||!!rn.chain,jn=bo(u);return Xi(Sn,function(Wn){var Qn=y[Wn];u[Wn]=Qn,jn&&(u.prototype[Wn]=function(){var Cr=this.__chain__;if(Cn||Cr){var Mr=u(this.__wrapped__),Dr=Mr.__actions__=Ki(this.__actions__);return Dr.push({func:Qn,args:arguments,thisArg:u}),Mr.__chain__=Cr,Mr}return Qn.apply(u,xo([this.value()],arguments))})}),u}function P0(){return Ci._===this&&(Ci._=od),this}function Nc(){}function C0(u){return u=Jr(u),Qr(function(y){return Ku(y,u)})}var M0=pc(fi),L0=pc(cu),N0=pc(Ua);function sf(u){return vc(u)?Fa(fo(u)):hh(u)}function D0(u){return function(y){return u==null?n:Do(u,y)}}var U0=ul(),F0=ul(!0);function Dc(){return[]}function Uc(){return!1}function K0(){return{}}function H0(){return""}function V0(){return!0}function z0(u,y){if(u=Jr(u),u<1||u>On)return[];var rn=Rn,dn=Li(u,Rn);y=qr(y),u-=Rn;for(var Sn=Va(dn,y);++rn<u;)y(rn);return Sn}function j0(u){return Zr(u)?fi(u,fo):Wi(u)?[u]:Ki(xl(ii(u)))}function q0(u){var y=++rd;return ii(u)+y}var G0=ga(function(u,y){return u+y},0),W0=gc("ceil"),Y0=ga(function(u,y){return u/y},1),Z0=gc("floor");function J0(u){return u&&u.length?ca(u,zi,ec):n}function X0(u,y){return u&&u.length?ca(u,qr(y,2),ec):n}function Q0(u){return fu(u,zi)}function em(u,y){return fu(u,qr(y,2))}function tm(u){return u&&u.length?ca(u,zi,ic):n}function nm(u,y){return u&&u.length?ca(u,qr(y,2),ic):n}var rm=ga(function(u,y){return u*y},1),im=gc("round"),om=ga(function(u,y){return u-y},0);function sm(u){return u&&u.length?Ha(u,zi):0}function am(u,y){return u&&u.length?Ha(u,qr(y,2)):0}return Bn.after=Tg,Bn.ary=Ll,Bn.assign=yy,Bn.assignIn=Zl,Bn.assignInWith=Ta,Bn.assignWith=my,Bn.at=_y,Bn.before=Nl,Bn.bind=kc,Bn.bindAll=A0,Bn.bindKey=Dl,Bn.castArray=Kg,Bn.chain=Pl,Bn.chunk=Zh,Bn.compact=Jh,Bn.concat=Xh,Bn.cond=E0,Bn.conforms=x0,Bn.constant=Cc,Bn.countBy=sg,Bn.create=by,Bn.curry=Ul,Bn.curryRight=Fl,Bn.debounce=Kl,Bn.defaults=wy,Bn.defaultsDeep=vy,Bn.defer=Og,Bn.delay=$g,Bn.difference=Qh,Bn.differenceBy=ep,Bn.differenceWith=tp,Bn.drop=np,Bn.dropRight=rp,Bn.dropRightWhile=ip,Bn.dropWhile=op,Bn.fill=sp,Bn.filter=cg,Bn.flatMap=fg,Bn.flatMapDeep=dg,Bn.flatMapDepth=hg,Bn.flatten=Tl,Bn.flattenDeep=ap,Bn.flattenDepth=cp,Bn.flip=Bg,Bn.flow=k0,Bn.flowRight=R0,Bn.fromPairs=up,Bn.functions=Ry,Bn.functionsIn=Ty,Bn.groupBy=pg,Bn.initial=fp,Bn.intersection=dp,Bn.intersectionBy=hp,Bn.intersectionWith=pp,Bn.invert=$y,Bn.invertBy=By,Bn.invokeMap=yg,Bn.iteratee=Mc,Bn.keyBy=mg,Bn.keys=Pi,Bn.keysIn=Vi,Bn.map=Aa,Bn.mapKeys=Cy,Bn.mapValues=My,Bn.matches=T0,Bn.matchesProperty=O0,Bn.memoize=xa,Bn.merge=Ly,Bn.mergeWith=Jl,Bn.method=$0,Bn.methodOf=B0,Bn.mixin=Lc,Bn.negate=Ia,Bn.nthArg=C0,Bn.omit=Ny,Bn.omitBy=Dy,Bn.once=Pg,Bn.orderBy=_g,Bn.over=M0,Bn.overArgs=Cg,Bn.overEvery=L0,Bn.overSome=N0,Bn.partial=Rc,Bn.partialRight=Hl,Bn.partition=bg,Bn.pick=Uy,Bn.pickBy=Xl,Bn.property=sf,Bn.propertyOf=D0,Bn.pull=_p,Bn.pullAll=$l,Bn.pullAllBy=bp,Bn.pullAllWith=wp,Bn.pullAt=vp,Bn.range=U0,Bn.rangeRight=F0,Bn.rearg=Mg,Bn.reject=Sg,Bn.remove=Sp,Bn.rest=Lg,Bn.reverse=xc,Bn.sampleSize=Eg,Bn.set=Ky,Bn.setWith=Hy,Bn.shuffle=xg,Bn.slice=Ap,Bn.sortBy=Rg,Bn.sortedUniq=Op,Bn.sortedUniqBy=$p,Bn.split=f0,Bn.spread=Ng,Bn.tail=Bp,Bn.take=Pp,Bn.takeRight=Cp,Bn.takeRightWhile=Mp,Bn.takeWhile=Lp,Bn.tap=Jp,Bn.throttle=Dg,Bn.thru=Sa,Bn.toArray=Gl,Bn.toPairs=Ql,Bn.toPairsIn=ef,Bn.toPath=j0,Bn.toPlainObject=Yl,Bn.transform=Vy,Bn.unary=Ug,Bn.union=Np,Bn.unionBy=Dp,Bn.unionWith=Up,Bn.uniq=Fp,Bn.uniqBy=Kp,Bn.uniqWith=Hp,Bn.unset=zy,Bn.unzip=Ic,Bn.unzipWith=Bl,Bn.update=jy,Bn.updateWith=qy,Bn.values=ss,Bn.valuesIn=Gy,Bn.without=Vp,Bn.words=rf,Bn.wrap=Fg,Bn.xor=zp,Bn.xorBy=jp,Bn.xorWith=qp,Bn.zip=Gp,Bn.zipObject=Wp,Bn.zipObjectDeep=Yp,Bn.zipWith=Zp,Bn.entries=Ql,Bn.entriesIn=ef,Bn.extend=Zl,Bn.extendWith=Ta,Lc(Bn,Bn),Bn.add=G0,Bn.attempt=of,Bn.camelCase=Jy,Bn.capitalize=tf,Bn.ceil=W0,Bn.clamp=Wy,Bn.clone=Hg,Bn.cloneDeep=zg,Bn.cloneDeepWith=jg,Bn.cloneWith=Vg,Bn.conformsTo=qg,Bn.deburr=nf,Bn.defaultTo=I0,Bn.divide=Y0,Bn.endsWith=Xy,Bn.eq=ao,Bn.escape=Qy,Bn.escapeRegExp=e0,Bn.every=ag,Bn.find=ug,Bn.findIndex=kl,Bn.findKey=Sy,Bn.findLast=lg,Bn.findLastIndex=Rl,Bn.findLastKey=Ay,Bn.floor=Z0,Bn.forEach=Cl,Bn.forEachRight=Ml,Bn.forIn=Ey,Bn.forInRight=xy,Bn.forOwn=Iy,Bn.forOwnRight=ky,Bn.get=$c,Bn.gt=Gg,Bn.gte=Wg,Bn.has=Oy,Bn.hasIn=Bc,Bn.head=Ol,Bn.identity=zi,Bn.includes=gg,Bn.indexOf=lp,Bn.inRange=Yy,Bn.invoke=Py,Bn.isArguments=Ko,Bn.isArray=Zr,Bn.isArrayBuffer=Yg,Bn.isArrayLike=Hi,Bn.isArrayLikeObject=Ti,Bn.isBoolean=Zg,Bn.isBuffer=Bo,Bn.isDate=Jg,Bn.isElement=Xg,Bn.isEmpty=Qg,Bn.isEqual=ey,Bn.isEqualWith=ty,Bn.isError=Tc,Bn.isFinite=ny,Bn.isFunction=bo,Bn.isInteger=Vl,Bn.isLength=ka,Bn.isMap=zl,Bn.isMatch=ry,Bn.isMatchWith=iy,Bn.isNaN=oy,Bn.isNative=sy,Bn.isNil=cy,Bn.isNull=ay,Bn.isNumber=jl,Bn.isObject=yi,Bn.isObjectLike=Ri,Bn.isPlainObject=Cs,Bn.isRegExp=Oc,Bn.isSafeInteger=uy,Bn.isSet=ql,Bn.isString=Ra,Bn.isSymbol=Wi,Bn.isTypedArray=os,Bn.isUndefined=ly,Bn.isWeakMap=fy,Bn.isWeakSet=dy,Bn.join=gp,Bn.kebabCase=t0,Bn.last=ro,Bn.lastIndexOf=yp,Bn.lowerCase=n0,Bn.lowerFirst=r0,Bn.lt=hy,Bn.lte=py,Bn.max=J0,Bn.maxBy=X0,Bn.mean=Q0,Bn.meanBy=em,Bn.min=tm,Bn.minBy=nm,Bn.stubArray=Dc,Bn.stubFalse=Uc,Bn.stubObject=K0,Bn.stubString=H0,Bn.stubTrue=V0,Bn.multiply=rm,Bn.nth=mp,Bn.noConflict=P0,Bn.noop=Nc,Bn.now=Ea,Bn.pad=i0,Bn.padEnd=o0,Bn.padStart=s0,Bn.parseInt=a0,Bn.random=Zy,Bn.reduce=wg,Bn.reduceRight=vg,Bn.repeat=c0,Bn.replace=u0,Bn.result=Fy,Bn.round=im,Bn.runInContext=Jn,Bn.sample=Ag,Bn.size=Ig,Bn.snakeCase=l0,Bn.some=kg,Bn.sortedIndex=Ep,Bn.sortedIndexBy=xp,Bn.sortedIndexOf=Ip,Bn.sortedLastIndex=kp,Bn.sortedLastIndexBy=Rp,Bn.sortedLastIndexOf=Tp,Bn.startCase=d0,Bn.startsWith=h0,Bn.subtract=om,Bn.sum=sm,Bn.sumBy=am,Bn.template=p0,Bn.times=z0,Bn.toFinite=wo,Bn.toInteger=Jr,Bn.toLength=Wl,Bn.toLower=g0,Bn.toNumber=io,Bn.toSafeInteger=gy,Bn.toString=ii,Bn.toUpper=y0,Bn.trim=m0,Bn.trimEnd=_0,Bn.trimStart=b0,Bn.truncate=w0,Bn.unescape=v0,Bn.uniqueId=q0,Bn.upperCase=S0,Bn.upperFirst=Pc,Bn.each=Cl,Bn.eachRight=Ml,Bn.first=Ol,Lc(Bn,function(){var u={};return uo(Bn,function(y,rn){oi.call(Bn.prototype,rn)||(u[rn]=y)}),u}(),{chain:!1}),Bn.VERSION=r,Xi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Bn[u].placeholder=Bn}),Xi(["drop","take"],function(u,y){ti.prototype[u]=function(rn){rn=rn===n?1:Bi(Jr(rn),0);var dn=this.__filtered__&&!y?new ti(this):this.clone();return dn.__filtered__?dn.__takeCount__=Li(rn,dn.__takeCount__):dn.__views__.push({size:Li(rn,Rn),type:u+(dn.__dir__<0?"Right":"")}),dn},ti.prototype[u+"Right"]=function(rn){return this.reverse()[u](rn).reverse()}}),Xi(["filter","map","takeWhile"],function(u,y){var rn=y+1,dn=rn==on||rn==vn;ti.prototype[u]=function(Sn){var Cn=this.clone();return Cn.__iteratees__.push({iteratee:qr(Sn,3),type:rn}),Cn.__filtered__=Cn.__filtered__||dn,Cn}}),Xi(["head","last"],function(u,y){var rn="take"+(y?"Right":"");ti.prototype[u]=function(){return this[rn](1).value()[0]}}),Xi(["initial","tail"],function(u,y){var rn="drop"+(y?"":"Right");ti.prototype[u]=function(){return this.__filtered__?new ti(this):this[rn](1)}}),ti.prototype.compact=function(){return this.filter(zi)},ti.prototype.find=function(u){return this.filter(u).head()},ti.prototype.findLast=function(u){return this.reverse().find(u)},ti.prototype.invokeMap=Qr(function(u,y){return typeof u=="function"?new ti(this):this.map(function(rn){return Rs(rn,u,y)})}),ti.prototype.reject=function(u){return this.filter(Ia(qr(u)))},ti.prototype.slice=function(u,y){u=Jr(u);var rn=this;return rn.__filtered__&&(u>0||y<0)?new ti(rn):(u<0?rn=rn.takeRight(-u):u&&(rn=rn.drop(u)),y!==n&&(y=Jr(y),rn=y<0?rn.dropRight(-y):rn.take(y-u)),rn)},ti.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},ti.prototype.toArray=function(){return this.take(Rn)},uo(ti.prototype,function(u,y){var rn=/^(?:filter|find|map|reject)|While$/.test(y),dn=/^(?:head|last)$/.test(y),Sn=Bn[dn?"take"+(y=="last"?"Right":""):y],Cn=dn||/^find/.test(y);!Sn||(Bn.prototype[y]=function(){var jn=this.__wrapped__,Wn=dn?[1]:arguments,Qn=jn instanceof ti,Cr=Wn[0],Mr=Qn||Zr(jn),Dr=function(ei){var ni=Sn.apply(Bn,xo([ei],Wn));return dn&&Vr?ni[0]:ni};Mr&&rn&&typeof Cr=="function"&&Cr.length!=1&&(Qn=Mr=!1);var Vr=this.__chain__,jr=!!this.__actions__.length,Gr=Cn&&!Vr,Xr=Qn&&!jr;if(!Cn&&Mr){jn=Xr?jn:new ti(this);var Wr=u.apply(jn,Wn);return Wr.__actions__.push({func:Sa,args:[Dr],thisArg:n}),new eo(Wr,Vr)}return Gr&&Xr?u.apply(this,Wn):(Wr=this.thru(Dr),Gr?dn?Wr.value()[0]:Wr.value():Wr)})}),Xi(["pop","push","shift","sort","splice","unshift"],function(u){var y=Gs[u],rn=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",dn=/^(?:pop|shift)$/.test(u);Bn.prototype[u]=function(){var Sn=arguments;if(dn&&!this.__chain__){var Cn=this.value();return y.apply(Zr(Cn)?Cn:[],Sn)}return this[rn](function(jn){return y.apply(Zr(jn)?jn:[],Sn)})}}),uo(ti.prototype,function(u,y){var rn=Bn[y];if(rn){var dn=rn.name+"";oi.call(Qo,dn)||(Qo[dn]=[]),Qo[dn].push({name:y,func:rn})}}),Qo[pa(n,wn).name]=[{name:"wrapper",func:n}],ti.prototype.clone=vd,ti.prototype.reverse=Sd,ti.prototype.value=Ad,Bn.prototype.at=Xp,Bn.prototype.chain=Qp,Bn.prototype.commit=eg,Bn.prototype.next=tg,Bn.prototype.plant=rg,Bn.prototype.reverse=ig,Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=og,Bn.prototype.first=Bn.prototype.head,vs&&(Bn.prototype[vs]=ng),Bn},Zo=ed();Po?((Po.exports=Zo)._=Zo,Ma._=Zo):Ci._=Zo}).call(commonjsGlobal)})(lodash,lodash.exports);var OrderCacheService$1={};Object.defineProperty(OrderCacheService$1,"__esModule",{value:!0});OrderCacheService$1.OrderCacheService=void 0;const lodash_1=lodash.exports,mobx_1=require$$1,Order_1=Order,types_1=types$2;class OrderCacheService{constructor(){this.endTriggered=!1,this.observableData={buyOrdersCache:new Map,sellOrdersCache:new Map},this.orderChanges=(0,mobx_1.observable)([]),this.observableData=(0,mobx_1.makeAutoObservable)(this.observableData),(0,mobx_1.makeObservable)(this,{buyOrdersCache:mobx_1.computed,sellOrdersCache:mobx_1.computed,allOrdersCache:mobx_1.computed})}get buyOrdersCache(){return this.observableData.buyOrdersCache}get sellOrdersCache(){return this.observableData.sellOrdersCache}get allOrdersCache(){const e=new Map;return this.buyOrdersCache.forEach(n=>{n.forEach((r,o)=>{e.set(o,r)})}),this.sellOrdersCache.forEach(n=>{n.forEach((r,o)=>{e.set(o,r)})}),e}get mints(){return(0,lodash_1.union)(Array.from(this.buyOrdersCache.keys()),Array.from(this.sellOrdersCache.keys()))}get orders(){return this.allOrdersCache}get buyOrders(){const e=new Map;return this.buyOrdersCache.forEach(n=>{n.forEach(r=>{e.set(r.id,r)})}),e}get sellOrders(){const e=new Map;return this.sellOrdersCache.forEach(n=>{n.forEach(r=>{e.set(r.id,r)})}),e}clearOrders(){const{allOrdersCache:e}=this;e.forEach(n=>{(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderRemoved,order:n})})}),this.buyOrdersCache.clear(),this.sellOrdersCache.clear()}getAllOrdersCache(){return this.allOrdersCache}getOrderCacheByType(e){return e===Order_1.OrderSide.Buy?this.getBuyOrderCache():this.getSellOrderCache()}getBuyOrderCache(){return new Map(this.buyOrdersCache)}getSellOrderCache(){return new Map(this.sellOrdersCache)}getOrderById(e){return this.allOrdersCache.get(e)}addOrder(e){const n=this.getOrdersForType(e.orderType);n.get(e.orderMint)||n.set(e.orderMint,new Map);const r=n.get(e.orderMint),o=r.get(e.id);return o&&o.slotContext>e.slotContext?o:(r.set(e.id,e),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderAdded,order:e})}),e)}updateOrder(e){const r=this.getOrdersForType(e.orderType).get(e.orderMint),o=r.get(e.id);if(!!o){if(o.orderQtyRemaining!==e.orderQtyRemaining&&e.slotContext>o.slotContext){const s=(0,lodash_1.clone)(o);s.orderQtyRemaining=e.orderQtyRemaining,r.set(e.id,s),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderModified,order:e})})}return e}}cancelOrder(e){return this.getOrdersForType(e.orderType).get(e.orderMint).delete(e.id)?((0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1.GmEventType.orderRemoved,order:e})}),!0):!1}getOrdersForType(e){return e===Order_1.OrderSide.Buy?this.buyOrdersCache:this.sellOrdersCache}}OrderCacheService$1.OrderCacheService=OrderCacheService;var GmClientService={},helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.createTransactionFromInstructions=void 0;const web3_js_1$1=require$$2,createTransactionFromInstructions=t=>{const e=new web3_js_1$1.Transaction;return e.add(...t),e};helpers.createTransactionFromInstructions=createTransactionFromInstructions;var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.ONE_MILLION=void 0;constants.ONE_MILLION=1e6;var hasRequiredGmClientService;function requireGmClientService(){if(hasRequiredGmClientService)return GmClientService;hasRequiredGmClientService=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(tn,sn,un,cn){function gn(mn){return mn instanceof un?mn:new un(function(yn){yn(mn)})}return new(un||(un=Promise))(function(mn,yn){function wn($n){try{An(cn.next($n))}catch(Mn){yn(Mn)}}function kn($n){try{An(cn.throw($n))}catch(Mn){yn(Mn)}}function An($n){$n.done?mn($n.value):gn($n.value).then(wn,kn)}An((cn=cn.apply(tn,sn||[])).next())})};Object.defineProperty(GmClientService,"__esModule",{value:!0}),GmClientService.GmClientService=void 0;const e=require$$2,n=requireInstruction_builders$1(),r=requirePda_getters(),o=helpers,s=requireUtil(),a=Order,c=constants,m=utils;class en{constructor(){this.currencyInfo=[]}getRegisteredCurrencies(sn,un,cn=!1){var gn;return t(this,void 0,void 0,function*(){if(((gn=this.currencyInfo)===null||gn===void 0?void 0:gn.length)&&!cn)return this.currencyInfo;const mn=[],yn=yield(0,r.getAllRegisteredCurrencies)(sn,un);for(const wn of yn){const{mint:kn,royalty:An,saVault:$n}=wn,Mn=yield sn.getTokenSupply(kn,"recent"),{decimals:En}=Mn.value;mn.push({decimals:En,mint:kn.toString(),royaltyPercentageAsDecimal:An.toNumber()/c.ONE_MILLION,saVault:$n.toString()})}return this.currencyInfo=mn,this.currencyInfo})}getAllOpenOrders(sn,un){return t(this,void 0,void 0,function*(){const cn=yield(0,r.getAllOpenOrders)(sn,un),gn=yield sn.getSlot();return this.accountItemsToOrders(sn,un,cn,gn)})}getOpenOrdersForPlayer(sn,un,cn){return t(this,void 0,void 0,function*(){const gn=yield(0,r.getOpenOrdersForPlayer)(sn,un,cn),mn=yield sn.getSlot();return this.accountItemsToOrders(sn,cn,gn,mn)})}getOpenOrdersForCurrency(sn,un,cn){return t(this,void 0,void 0,function*(){const gn=yield(0,r.getOpenOrdersForCurrency)(sn,un,cn),mn=yield sn.getSlot();return this.accountItemsToOrders(sn,cn,gn,mn)})}getOpenOrdersForAsset(sn,un,cn){return t(this,void 0,void 0,function*(){const gn=yield(0,r.getOpenOrdersForAsset)(sn,un,cn),mn=yield sn.getSlot();return this.accountItemsToOrders(sn,cn,gn,mn)})}getOpenOrdersForPlayerAndCurrency(sn,un,cn,gn){return t(this,void 0,void 0,function*(){const mn=yield(0,r.getOpenOrdersForPlayerAndCurrency)(sn,un,cn,gn),yn=yield sn.getSlot();return this.accountItemsToOrders(sn,gn,mn,yn)})}getOpenOrdersForPlayerAndAsset(sn,un,cn,gn){return t(this,void 0,void 0,function*(){const mn=yield(0,r.getOpenOrdersForPlayerAndAsset)(sn,un,cn,gn),yn=yield sn.getSlot();return this.accountItemsToOrders(sn,gn,mn,yn)})}getOpenOrder(sn,un,cn){return t(this,void 0,void 0,function*(){const gn=yield(0,r.getSingleOrder)(sn,un,cn),mn={publicKey:un,account:gn},yn=yield sn.getSlot(),[wn]=yield this.accountItemsToOrders(sn,cn,[mn],yn);return wn})}getInitializeOrderTransaction(sn,un,cn,gn,mn,yn,wn,kn){return t(this,void 0,void 0,function*(){let An=n.createInitializeSellOrderInstruction,$n=cn,Mn=gn;kn===a.OrderSide.Buy&&(An=n.createInitializeBuyOrderInstruction,$n=gn,Mn=cn);const En=yield(0,s.getAssociatedTokenAddress)(un,$n),{ixSet:Tn}=yield An({connection:sn,depositMint:$n,initializerDepositTokenAccount:En,initializerMainAccount:un,originationQty:mn,price:yn,programId:wn,receiveMint:Mn}),{signers:Pn,instructions:zn}=Tn;return{transaction:(0,o.createTransactionFromInstructions)(zn),signers:Pn}})}getBnPriceForCurrency(sn,un,cn,gn){return t(this,void 0,void 0,function*(){const mn=yield this.getRegisteredCurrencies(sn,gn),{decimals:yn}=mn.find(wn=>wn.mint.toString()===cn.toString());return(0,m.convertDecimalPriceToBn)(un,yn)})}getCancelOrderTransaction(sn,un,cn,gn){return t(this,void 0,void 0,function*(){const{instructions:mn,signers:yn}=yield(0,n.createCancelOrderInstruction)({connection:sn,orderAccount:un,orderInitializer:cn,programId:gn});return{transaction:(0,o.createTransactionFromInstructions)(mn),signers:yn}})}getCreateExchangeTransaction(sn,un,cn,gn,mn){return t(this,void 0,void 0,function*(){const yn=new e.PublicKey(un.id),wn=new e.PublicKey(un.orderMint),kn=new e.PublicKey(un.currencyMint),An=new e.PublicKey(un.owner),$n=yield(0,s.getAssociatedTokenAddress)(cn,un.orderType===a.OrderSide.Buy?wn:kn),Mn=yield this.getRegisteredCurrencies(sn,mn),{saVault:En}=Mn.find(Nn=>Nn.mint===un.currencyMint),{instructions:Tn,signers:Pn}=yield(0,n.createExchangeInstruction)({connection:sn,orderAccount:yn,purchaseQty:gn,orderTaker:cn,orderTakerDepositTokenAccount:$n,programId:mn,expectedPrice:un.price,orderType:un.orderType,assetMint:wn,currencyMint:kn,orderInitializer:An,saVault:new e.PublicKey(En)});return{transaction:(0,o.createTransactionFromInstructions)(Tn),signers:Pn}})}accountItemsToOrders(sn,un,cn,gn){return t(this,void 0,void 0,function*(){if(!cn.length)return[];const mn=yield this.getRegisteredCurrencies(sn,un);return cn.map(yn=>{const wn=yn.publicKey.toString(),kn=Object.keys(yn.account.orderSide)[0]==="buy"?a.OrderSide.Buy:a.OrderSide.Sell,An=yn.account.assetMint.toString(),$n=yn.account.currencyMint.toString(),Mn=yn.account.price,En=yn.account.orderRemainingQty.toNumber(),Tn=yn.account.orderOriginationQty.toNumber(),Pn=yn.account.orderInitializerPubkey.toString(),zn=yn.account.initializerAssetTokenAccount.toString(),Nn=yn.account.initializerCurrencyTokenAccount.toString(),Kn=yn.account.createdAtTimestamp.toNumber(),{decimals:_r}=mn.find(pn=>pn.mint.toString()===$n);return new a.Order({id:wn,orderType:kn,orderMint:An,currencyMint:$n,currencyDecimals:_r,price:Mn,orderQtyRemaining:En,orderOriginationQty:Tn,owner:Pn,ownerAssetTokenAccount:zn,ownerCurrencyTokenAccount:Nn,createdAt:Kn,slotContext:gn})})})}}return GmClientService.GmClientService=en,GmClientService}var GmEventService={},hasRequiredGmEventService;function requireGmEventService(){if(hasRequiredGmEventService)return GmEventService;hasRequiredGmEventService=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(m,en,tn,sn){function un(cn){return cn instanceof tn?cn:new tn(function(gn){gn(cn)})}return new(tn||(tn=Promise))(function(cn,gn){function mn(kn){try{wn(sn.next(kn))}catch(An){gn(An)}}function yn(kn){try{wn(sn.throw(kn))}catch(An){gn(An)}}function wn(kn){kn.done?cn(kn.value):un(kn.value).then(mn,yn)}wn((sn=sn.apply(m,en||[])).next())})};Object.defineProperty(GmEventService,"__esModule",{value:!0}),GmEventService.GmEventService=void 0;const e=require$$0$1,n=models,r=types$2,o=requireGmClientService(),s=utils,a=types$2;class c{constructor(en,tn,sn){this.registeredCurrencyInfo={},this.eventListeners=[],this.queuedEvents=[],this.connection=en,this.programId=tn,this.commitment=sn||en.commitment,this.handleOrderCreated=this.handleOrderCreated.bind(this),this.handleOrderExchanged=this.handleOrderExchanged.bind(this),this.handleOrderCanceled=this.handleOrderCanceled.bind(this)}initialize(){return t(this,void 0,void 0,function*(){this.idl=(0,s.getGmLogsIDL)(this.programId),this.provider=new e.AnchorProvider(this.connection,null,{commitment:this.commitment}),this.program=new e.Program(this.idl,this.programId,this.provider,{instruction:new e.BorshInstructionCoder(this.idl),accounts:new e.BorshAccountsCoder(this.idl),state:null,events:new e.BorshEventCoder(this.idl)}),yield this.setCurrencyInfo();const en=this.program.addEventListener(a.GmLogs.InitializeMemo,this.handleOrderCreated),tn=this.program.addEventListener(a.GmLogs.ExchangeMemo,this.handleOrderExchanged),sn=this.program.addEventListener(a.GmLogs.CancelOrderMemo,this.handleOrderCanceled),un=this.program.addEventListener(a.GmLogs.RegisterCurrencyMemo,this.handleCurrencyRegistered);this.eventListeners.push(en,tn,sn,un)})}end(){return t(this,void 0,void 0,function*(){for(const en of this.eventListeners)yield this.program.removeEventListener(en);this.eventListeners=[],this.onEvent=null})}setEventHandler(en){this.onEvent=en;for(const tn of this.queuedEvents)this.onEvent(tn.eventType,tn.order,tn.slotContext)}setCurrencyInfo(){return t(this,void 0,void 0,function*(){const tn=yield new o.GmClientService().getRegisteredCurrencies(this.connection,this.programId,!0);for(const sn of tn)this.registeredCurrencyInfo[sn.mint]=sn})}getParsedOrderFromEvent(en,tn){const sn=this.registeredCurrencyInfo[en.currencyMint.toString()];if(!sn)return null;const{decimals:un}=sn;return new n.Order({id:en.orderId.toString(),orderType:en.orderSide===0?n.OrderSide.Buy:n.OrderSide.Sell,orderMint:en.assetMint.toString(),currencyMint:en.currencyMint.toString(),currencyDecimals:un,price:en.price,orderQtyRemaining:en.orderRemainingQty.toNumber(),orderOriginationQty:en.orderOriginationQty.toNumber(),owner:en.orderInitializerPubkey.toString(),ownerAssetTokenAccount:en.initializerAssetTokenAccount.toString(),ownerCurrencyTokenAccount:en.initializerCurrencyTokenAccount.toString(),createdAt:en.createdAtTimestamp.toNumber(),slotContext:tn})}handleOrderCreated(en,tn){this.processEvent(r.GmEventType.orderAdded,this.getParsedOrderFromEvent(en,tn),tn)}handleOrderExchanged(en,tn){this.processEvent(r.GmEventType.orderModified,this.getParsedOrderFromEvent(en,tn),tn)}handleOrderCanceled(en,tn){this.processEvent(r.GmEventType.orderRemoved,this.getParsedOrderFromEvent(en,tn),tn)}processEvent(en,tn,sn){if(!this.onEvent){this.queuedEvents.push({eventType:en,order:tn,slotContext:sn});return}this.onEvent(en,tn,sn)}handleCurrencyRegistered(){return t(this,void 0,void 0,function*(){yield this.setCurrencyInfo()})}}return GmEventService.GmEventService=c,GmEventService}var hasRequiredGmOrderbookService;function requireGmOrderbookService(){if(hasRequiredGmOrderbookService)return GmOrderbookService;hasRequiredGmOrderbookService=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(m,en,tn,sn){function un(cn){return cn instanceof tn?cn:new tn(function(gn){gn(cn)})}return new(tn||(tn=Promise))(function(cn,gn){function mn(kn){try{wn(sn.next(kn))}catch(An){gn(An)}}function yn(kn){try{wn(sn.throw(kn))}catch(An){gn(An)}}function wn(kn){kn.done?cn(kn.value):un(kn.value).then(mn,yn)}wn((sn=sn.apply(m,en||[])).next())})};Object.defineProperty(GmOrderbookService,"__esModule",{value:!0}),GmOrderbookService.GmOrderbookService=void 0;const e=require$$0,n=lodash.exports,r=OrderCacheService$1,o=types$2,s=requireGmClientService(),a=requireGmEventService();class c{constructor(en,tn,sn=60){this.gmClientService=new s.GmClientService,this.eventCallBacks=[],this.changeObserverDisposer=null,this.lastEventTimestamp=this.getNow(),this.isReloading=!1,this.connection=en,this.marketplaceProgramId=tn,this.healthcheckThreshold=sn,this.orderCacheService=new r.OrderCacheService,this.gmClientService=new s.GmClientService,this.gmEventService=new a.GmEventService(this.connection,this.marketplaceProgramId),this.handleMarketplaceEvent=this.handleMarketplaceEvent.bind(this)}initialize(){return t(this,void 0,void 0,function*(){return yield this.gmEventService.initialize(),this.changeObserverDisposer=(0,e.queueProcessor)(this.orderCacheService.orderChanges,en=>{this.eventCallBacks.forEach(tn=>tn.onEvent(en))},250),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.loadInitialOrders(),this.healthcheckTimer=setInterval(()=>{!this.getIsServiceHealthy()&&!this.isReloading&&this.resetOrdersData()},c.HEALTH_CHECK_RATE),this.orderCacheService.mints.length})}end(){return t(this,void 0,void 0,function*(){return yield this.gmEventService.end(),this.eventCallBacks=[],this.changeObserverDisposer=null,!0})}getIsServiceHealthy(){return this.getNow()-this.lastEventTimestamp<=this.healthcheckThreshold}resetOrdersData(){return t(this,void 0,void 0,function*(){this.isReloading||(this.isReloading=!0,yield this.resetEventService(),yield this.refetchOrderData(),this.lastEventTimestamp=this.getNow(),this.isReloading=!1)})}resetEventService(){return t(this,void 0,void 0,function*(){yield this.gmEventService.end(),this.gmEventService=new a.GmEventService(this.connection,this.marketplaceProgramId),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.gmEventService.initialize()})}refetchOrderData(){return t(this,void 0,void 0,function*(){const en=this.orderCacheService.getAllOrdersCache();try{const tn=yield this.connection.getSlot("confirmed"),sn=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId),un=new Map;for(const cn of sn){un.set(cn.id,cn);const gn=en.get(cn.id);gn?gn&&gn.orderQtyRemaining!==cn.orderQtyRemaining&&this.updateOrderInCache(cn):this.addOrderToCache(cn)}for(const cn of Array.from(en.values()))cn.slotContext<tn&&!un.get(cn.id)&&this.removeOrderFromCache(cn)}catch(tn){console.log("There was an error refreshing all marketplace data",tn)}})}addOnEventHandler(en){this.eventCallBacks.push(en)}removeOnEventHandler(en){(0,n.pull)(this.eventCallBacks,en)}loadInitialOrders(){return t(this,void 0,void 0,function*(){try{const en=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId);for(const tn of en)this.addOrderToCache(tn)}catch(en){console.log(en)}return this.orderCacheService.getAllOrdersCache().size})}addOrderToCache(en){return this.orderCacheService.addOrder(en)}removeOrderFromCache(en){return this.orderCacheService.cancelOrder(en)}updateOrderInCache(en){return this.orderCacheService.updateOrder(en)}getBuyOrders(){return this.orderCacheService.buyOrdersCache}getBuyOrdersForMint(en){return this.orderCacheService.buyOrdersCache.get(en)}getSellOrders(){return this.orderCacheService.sellOrdersCache}getSellOrdersForMint(en){return this.orderCacheService.sellOrdersCache.get(en)}getOrdersByType(en){return en==="buy"?this.getBuyOrders():this.getSellOrders()}getBuyOrdersByCurrencyAndItem(en,tn){const sn=this.getBuyOrdersForMint(tn);if(!sn)return[];const un=[...sn.values()];return un.length?this.filterOrdersByCurrency(en,un):[]}getSellOrdersByCurrencyAndItem(en,tn){const sn=this.getSellOrdersForMint(tn);if(!sn)return[];const un=[...sn.values()];return un.length?this.filterOrdersByCurrency(en,un):[]}filterOrdersByCurrency(en,tn){return tn.length?tn.filter(sn=>sn.currencyMint===en):[]}getOrderById(en){return this.orderCacheService.getOrderById(en)}getAllOrdersByItemMint(en){const tn=new Map,sn=this.getSellOrdersForMint(en),un=this.getBuyOrdersForMint(en);if(sn)for(const cn of sn.values())tn.set(cn.id,cn);if(un)for(const cn of un.values())tn.set(cn.id,cn);return tn}getAllMints(){return this.orderCacheService.mints}getAllOrdersForUserAddress(en){const tn=this.orderCacheService.getAllOrdersCache();return Array.from(tn.values()).filter(cn=>cn.owner===en)}handleOrderAddedEvent(en){this.addOrderToCache(en)}handleOrderModifiedEvent(en){if(en.orderQtyRemaining===0){this.removeOrderFromCache(en);return}this.updateOrderInCache(en)}handleOrderCanceledEvent(en){this.removeOrderFromCache(en)}handleMarketplaceEvent(en,tn){if(!!tn)switch(this.lastEventTimestamp=this.getNow(),en){case o.GmEventType.orderAdded:this.handleOrderAddedEvent(tn);break;case o.GmEventType.orderModified:this.handleOrderModifiedEvent(tn);break;case o.GmEventType.orderRemoved:this.handleOrderCanceledEvent(tn);break}}getNow(){return new Date().getTime()/1e3}}return GmOrderbookService.GmOrderbookService=c,c.HEALTH_CHECK_RATE=5e3,GmOrderbookService}var hasRequiredServices;function requireServices(){return hasRequiredServices||(hasRequiredServices=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(requireGmOrderbookService(),t),n(requireGmClientService(),t),n(requireGmEventService(),t)}(services)),services}var hasRequiredMarketplace;function requireMarketplace(){return hasRequiredMarketplace||(hasRequiredMarketplace=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(requireInstruction_builders$1(),t),n(requirePda_getters(),t),n(types$2,t),n(utils,t),n(models,t),n(requireServices(),t)}(marketplace)),marketplace}var hasRequiredGmHelper;function requireGmHelper(){if(hasRequiredGmHelper)return gmHelper$1;hasRequiredGmHelper=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,c,m,en){function tn(sn){return sn instanceof m?sn:new m(function(un){un(sn)})}return new(m||(m=Promise))(function(sn,un){function cn(yn){try{mn(en.next(yn))}catch(wn){un(wn)}}function gn(yn){try{mn(en.throw(yn))}catch(wn){un(wn)}}function mn(yn){yn.done?sn(yn.value):tn(yn.value).then(cn,gn)}mn((en=en.apply(a,c||[])).next())})};Object.defineProperty(gmHelper$1,"__esModule",{value:!0}),gmHelper$1.createAccountTransaction=gmHelper$1.createAccountInstruction=void 0;const e=require$$0$1,n=require$$2,r=requireMarketplace();function o(a,c,m,en){return t(this,void 0,void 0,function*(){const tn=(0,r.getGmIDL)(en),sn=new e.AnchorProvider(a,null,null),un=new e.Program(tn,en,sn);return n.SystemProgram.createAccount({fromPubkey:c,newAccountPubkey:m.publicKey,space:un.account.orderAccount.size,lamports:yield a.getMinimumBalanceForRentExemption(un.account.orderAccount.size),programId:en})})}gmHelper$1.createAccountInstruction=o;function s(a,c,m,en){return t(this,void 0,void 0,function*(){const tn=(0,r.getGmIDL)(en),sn=new e.AnchorProvider(a,null,null),un=new e.Program(tn,en,sn),cn=new n.Transaction({recentBlockhash:(yield a.getLatestBlockhash()).blockhash,feePayer:c});return cn.add(n.SystemProgram.createAccount({fromPubkey:c,newAccountPubkey:m.publicKey,space:un.account.orderAccount.size,lamports:yield a.getMinimumBalanceForRentExemption(un.account.orderAccount.size),programId:en})),cn})}return gmHelper$1.createAccountTransaction=s,gmHelper$1}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(requireHelpers(),t),n(wallet,t),n(requireGmHelper(),t)}(util)),util}var hasRequiredHarvestRewards;function requireHarvestRewards(){if(hasRequiredHarvestRewards)return harvestRewards;hasRequiredHarvestRewards=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,c,m,en){function tn(sn){return sn instanceof m?sn:new m(function(un){un(sn)})}return new(m||(m=Promise))(function(sn,un){function cn(yn){try{mn(en.next(yn))}catch(wn){un(wn)}}function gn(yn){try{mn(en.throw(yn))}catch(wn){un(wn)}}function mn(yn){yn.done?sn(yn.value):tn(yn.value).then(cn,gn)}mn((en=en.apply(a,c||[])).next())})};Object.defineProperty(harvestRewards,"__esModule",{value:!0}),harvestRewards.harvestRewardsInstruction=void 0;const e=require$$0$1,n=token,r=requireUtil(),o=utils$1;function s({connection:a,user:c,rewardMint:m,registeredStake:en,stakingAccount:tn,programId:sn}){return t(this,void 0,void 0,function*(){const un=(0,o.getStakingProgram)({connection:a,programId:sn}),cn={signers:[],instructions:[]};let gn=null,mn=null;const yn=yield(0,r.getTokenAccount)(a,c,m);gn=yn.tokenAccount,"createInstruction"in yn&&cn.instructions.push(yn.createInstruction),gn instanceof e.web3.Keypair?(mn=gn.publicKey,cn.signers.push(gn)):mn=gn;const wn=yield(0,n.associatedAddress)({owner:en,mint:m}),kn=yield un.methods.harvest().accounts({user:c,rewardMint:m,registeredStake:en,stakingAccount:tn,userRewardAccount:mn,rewardAta:wn}).instruction();return cn.instructions.push(kn),cn})}return harvestRewards.harvestRewardsInstruction=s,harvestRewards}var initializeStaking={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(initializeStaking,"__esModule",{value:!0});initializeStaking.createInitializeStakingInstruction=void 0;const utils_1$4=utils$1;function createInitializeStakingInstruction({connection:t,updateAuthorityAccount:e,programId:n}){return __awaiter$6(this,void 0,void 0,function*(){const r=(0,utils_1$4.getStakingProgram)({connection:t,programId:n}),o={signers:[],instructions:[]},s=yield r.methods.initializeStaking().accounts({updateAuthorityAccount:e}).instruction();return o.instructions.push(s),o})}initializeStaking.createInitializeStakingInstruction=createInitializeStakingInstruction;var registerStake={},pda_getters$1={},pda_getters={},seeds={};Object.defineProperty(seeds,"__esModule",{value:!0});seeds.ESCROW_AUTH=seeds.STAKING_VARS=seeds.STAKING_ESCROW=seeds.STAKING_ACCOUNT=seeds.REWARD_AUTH=seeds.REWARD_ACCOUNT=seeds.REGISTERED_STAKE=void 0;seeds.REGISTERED_STAKE=Buffer.from("registered-stake");seeds.REWARD_ACCOUNT=Buffer.from("reward-account");seeds.REWARD_AUTH=Buffer.from("reward-vault-authority");seeds.STAKING_ACCOUNT=Buffer.from("staking-account");seeds.STAKING_ESCROW=Buffer.from("staking-escrow");seeds.STAKING_VARS=Buffer.from("staking-vars");seeds.ESCROW_AUTH=Buffer.from("escrow-auth");var __awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(pda_getters,"__esModule",{value:!0});pda_getters.getRewardAuth=pda_getters.getTokenEscrow=pda_getters.getStakingVarsAccount=pda_getters.getStakingAccount=pda_getters.getRegisteredStake=void 0;const web3_js_1=require$$2,seeds_1=seeds;function getRegisteredStake(t,e,n,r){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.REGISTERED_STAKE,e.toBuffer(),n.toBuffer(),r.toBuffer()],t)})}pda_getters.getRegisteredStake=getRegisteredStake;function getStakingAccount(t,e,n){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_ACCOUNT,e.toBuffer(),n.toBuffer()],t)})}pda_getters.getStakingAccount=getStakingAccount;function getStakingVarsAccount(t){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_VARS],t)})}pda_getters.getStakingVarsAccount=getStakingVarsAccount;function getTokenEscrow(t,e,n){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.STAKING_ESCROW,e.toBuffer(),n.toBuffer()],t)})}pda_getters.getTokenEscrow=getTokenEscrow;function getRewardAuth(t,e){return __awaiter$5(this,void 0,void 0,function*(){return web3_js_1.PublicKey.findProgramAddress([seeds_1.REWARD_AUTH,e.toBuffer()],t)})}pda_getters.getRewardAuth=getRewardAuth;var pda_info_getters={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(pda_info_getters,"__esModule",{value:!0});pda_info_getters.getStakingVarsAccountInfo=pda_info_getters.getStakingAccountInfo=pda_info_getters.getRegisteredStakeAccountInfo=void 0;const getStakingProgram_1=getStakingProgram$1,pda_getters_1$1=pda_getters;function getRegisteredStakeAccountInfo(t,e,n){return __awaiter$4(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:n}).account.registeredStake.fetch(e)})}pda_info_getters.getRegisteredStakeAccountInfo=getRegisteredStakeAccountInfo;function getStakingAccountInfo(t,e,n){return __awaiter$4(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:n}).account.stakingAccount.fetch(e)})}pda_info_getters.getStakingAccountInfo=getStakingAccountInfo;function getStakingVarsAccountInfo(t,e){return __awaiter$4(this,void 0,void 0,function*(){const n=(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:e}),[r]=yield(0,pda_getters_1$1.getStakingVarsAccount)(e);return yield n.account.stakingVars.fetch(r)})}pda_info_getters.getStakingVarsAccountInfo=getStakingVarsAccountInfo;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(pda_getters,t),n(pda_info_getters,t)})(pda_getters$1);var __awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(registerStake,"__esModule",{value:!0});registerStake.registerStakeInstruction=void 0;const anchor_1$2=require$$0$1,token_1$1=token,pda_getters_1=pda_getters$1,utils_1$3=utils$1;function registerStakeInstruction({connection:t,authority:e,rewardMultiplier:n,stakeMint:r,rewardMint:o,cooldownPeriod:s,programId:a}){return __awaiter$3(this,void 0,void 0,function*(){const c=(0,utils_1$3.getStakingProgram)({connection:t,programId:a}),m={instructions:[],signers:[]},[en]=yield(0,pda_getters_1.getRegisteredStake)(a,e,r,o),tn=yield(0,token_1$1.associatedAddress)({owner:en,mint:o}),sn=yield c.methods.registerStake(new anchor_1$2.BN(n),new anchor_1$2.BN(s)).accounts({authority:e,stakeMint:r,rewardMint:o,rewardAta:tn}).instruction();return m.instructions.push(sn),m})}registerStake.registerStakeInstruction=registerStakeInstruction;var settle={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(settle,"__esModule",{value:!0});settle.createSettleStakingAccountInstruction=void 0;const utils_1$2=utils$1;function createSettleStakingAccountInstruction({connection:t,authority:e,registeredStake:n,stakingAccount:r,updatedStakingPeriod:o,programId:s}){return __awaiter$2(this,void 0,void 0,function*(){const a=(0,utils_1$2.getStakingProgram)({connection:t,programId:s}),c={instructions:[],signers:[]},m=yield a.methods.settle(o).accounts({authority:e,registeredStake:n,stakingAccount:r}).instruction();return c.instructions.push(m),c})}settle.createSettleStakingAccountInstruction=createSettleStakingAccountInstruction;var stakeTokens={},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(stakeTokens,"__esModule",{value:!0});stakeTokens.stakeTokensInstruction=void 0;const anchor_1$1=require$$0$1,token_1=token,utils_1$1=utils$1;function stakeTokensInstruction({connection:t,user:e,stakeMint:n,tokenSource:r,stakeQuantity:o,registeredStake:s,stakingAccount:a,programId:c}){return __awaiter$1(this,void 0,void 0,function*(){const m=(0,utils_1$1.getStakingProgram)({connection:t,programId:c}),en=yield(0,token_1.associatedAddress)({owner:a,mint:n}),tn={instructions:[],signers:[]},sn=yield m.methods.stakeTokens(new anchor_1$1.BN(o)).accounts({user:e,stakeMint:n,tokenSource:r,registeredStake:s,tokenEscrow:en}).instruction();return tn.instructions.push(sn),tn})}stakeTokens.stakeTokensInstruction=stakeTokensInstruction;var unstakeTokens={},hasRequiredUnstakeTokens;function requireUnstakeTokens(){if(hasRequiredUnstakeTokens)return unstakeTokens;hasRequiredUnstakeTokens=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(c,m,en,tn){function sn(un){return un instanceof en?un:new en(function(cn){cn(un)})}return new(en||(en=Promise))(function(un,cn){function gn(wn){try{yn(tn.next(wn))}catch(kn){cn(kn)}}function mn(wn){try{yn(tn.throw(wn))}catch(kn){cn(kn)}}function yn(wn){wn.done?un(wn.value):sn(wn.value).then(gn,mn)}yn((tn=tn.apply(c,m||[])).next())})};Object.defineProperty(unstakeTokens,"__esModule",{value:!0}),unstakeTokens.unstakeTokensInstruction=void 0;const e=require$$0$1,n=token,r=requireUtil(),o=pda_getters$1,s=utils$1;function a({connection:c,user:m,registeredStake:en,stakingAccount:tn,programId:sn}){return t(this,void 0,void 0,function*(){const un=(0,s.getStakingProgram)({connection:c,programId:sn}),cn={signers:[],instructions:[]},mn=(yield(0,o.getRegisteredStakeAccountInfo)(c,en,sn)).rewardMint;let yn=null,wn=null;const kn=yield(0,r.getTokenAccount)(c,m,mn);yn=kn.tokenAccount,"createInstruction"in kn&&cn.instructions.push(kn.createInstruction),yn instanceof e.web3.Keypair?(wn=yn.publicKey,cn.signers.push(yn)):wn=yn;const An=yield(0,n.associatedAddress)({owner:en,mint:mn}),$n=yield un.methods.unstakeTokens().accounts({user:m,rewardMint:mn,registeredStake:en,stakingAccount:tn,userRewardAccount:wn,rewardAta:An}).instruction();return cn.instructions.push($n),cn})}return unstakeTokens.unstakeTokensInstruction=a,unstakeTokens}var updateRewardMultiplier={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(tn){try{en(r.next(tn))}catch(sn){a(sn)}}function m(tn){try{en(r.throw(tn))}catch(sn){a(sn)}}function en(tn){tn.done?s(tn.value):o(tn.value).then(c,m)}en((r=r.apply(t,e||[])).next())})};Object.defineProperty(updateRewardMultiplier,"__esModule",{value:!0});updateRewardMultiplier.updateRewardMultiplierInstruction=void 0;const anchor_1=require$$0$1,utils_1=utils$1;function updateRewardMultiplierInstruction({connection:t,authority:e,rewardMultiplier:n,registeredStake:r,newStakingPeriod:o,programId:s}){return __awaiter(this,void 0,void 0,function*(){const a=(0,utils_1.getStakingProgram)({connection:t,programId:s}),c={instructions:[],signers:[]},m=yield a.methods.updateRewardMultiplier(new anchor_1.BN(n),o).accounts({authority:e,registeredStake:r}).instruction();return c.instructions.push(m),c})}updateRewardMultiplier.updateRewardMultiplierInstruction=updateRewardMultiplierInstruction;var withdrawTokens={},hasRequiredWithdrawTokens;function requireWithdrawTokens(){if(hasRequiredWithdrawTokens)return withdrawTokens;hasRequiredWithdrawTokens=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(a,c,m,en){function tn(sn){return sn instanceof m?sn:new m(function(un){un(sn)})}return new(m||(m=Promise))(function(sn,un){function cn(yn){try{mn(en.next(yn))}catch(wn){un(wn)}}function gn(yn){try{mn(en.throw(yn))}catch(wn){un(wn)}}function mn(yn){yn.done?sn(yn.value):tn(yn.value).then(cn,gn)}mn((en=en.apply(a,c||[])).next())})};Object.defineProperty(withdrawTokens,"__esModule",{value:!0}),withdrawTokens.withdrawTokensInstruction=void 0;const e=require$$0$1,n=token,r=utils$1,o=requireUtil();function s({connection:a,authority:c,user:m,stakeMint:en,registeredStake:tn,stakingAccount:sn,programId:un}){return t(this,void 0,void 0,function*(){const cn=(0,r.getStakingProgram)({connection:a,programId:un}),gn=yield(0,n.associatedAddress)({owner:sn,mint:en}),mn={signers:[],instructions:[]};let yn=null,wn=null;const kn=yield(0,o.getTokenAccount)(a,m,en);yn=kn.tokenAccount,"createInstruction"in kn&&mn.instructions.push(kn.createInstruction),yn instanceof e.web3.Keypair?(wn=yn.publicKey,mn.signers.push(yn)):wn=yn;const An=yield cn.methods.withdrawTokens().accounts({user:m,authority:c,stakeMint:en,tokenSource:wn,registeredStake:tn,stakingAccount:sn,tokenEscrow:gn}).instruction();return mn.instructions.push(An),mn})}return withdrawTokens.withdrawTokensInstruction=s,withdrawTokens}var hasRequiredInstruction_builders;function requireInstruction_builders(){return hasRequiredInstruction_builders||(hasRequiredInstruction_builders=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(baseParams,t),n(cancelUnstake,t),n(createStakeAccount,t),n(requireHarvestRewards(),t),n(initializeStaking,t),n(registerStake,t),n(settle,t),n(stakeTokens,t),n(requireUnstakeTokens(),t),n(updateRewardMultiplier,t),n(requireWithdrawTokens(),t)}(instruction_builders$1)),instruction_builders$1}var types$1={},stakingProgramAccounts={};Object.defineProperty(stakingProgramAccounts,"__esModule",{value:!0});(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(stakingIdl,t),n(stakingProgramAccounts,t)})(types$1);var hasRequiredAtlasStaking;function requireAtlasStaking(){return hasRequiredAtlasStaking||(hasRequiredAtlasStaking=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(requireInstruction_builders(),t),n(pda_getters$1,t),n(types$1,t),n(utils$1,t)}(atlasStaking)),atlasStaking}var factions={};(function(t){var e=commonjsGlobal&&commonjsGlobal.__awaiter||function(sn,un,cn,gn){function mn(yn){return yn instanceof cn?yn:new cn(function(wn){wn(yn)})}return new(cn||(cn=Promise))(function(yn,wn){function kn(Mn){try{$n(gn.next(Mn))}catch(En){wn(En)}}function An(Mn){try{$n(gn.throw(Mn))}catch(En){wn(En)}}function $n(Mn){Mn.done?yn(Mn.value):mn(Mn.value).then(kn,An)}$n((gn=gn.apply(sn,un||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayersOfFaction=t.getAllPlayers=t.getPlayer=t.enlistToFaction=t.getPlayerFactionPDA=t.getIDL=t.FactionType=void 0;const n=require$$0$1,r={version:"0.0.0",name:"enlist_to_faction",instructions:[{name:"processEnlistPlayer",accounts:[{name:"playerFactionAccount",isMut:!0,isSigner:!1},{name:"playerAccount",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"factionId",type:"u8"}]}],accounts:[{name:"PlayerFactionData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"enlistedAtTimestamp",type:"i64"},{name:"factionId",type:"u8"},{name:"bump",type:"u8"},{name:"padding",type:{array:["u64",5]}}]}}],errors:[{code:300,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."}],metadata:{}},o="FACTION_ENLISTMENT";(function(sn){sn[sn.Unenlisted=-1]="Unenlisted",sn[sn.MUD=0]="MUD",sn[sn.ONI=1]="ONI",sn[sn.Ustur=2]="Ustur"})(t.FactionType||(t.FactionType={}));function s(sn){const un=r;return un.metadata.address=sn.toBase58(),un}t.getIDL=s;function a(sn,un){return e(this,void 0,void 0,function*(){return n.web3.PublicKey.findProgramAddress([Buffer.from(o,"utf8"),sn.toBuffer()],un)})}t.getPlayerFactionPDA=a;function c(sn,un,cn,gn){return e(this,void 0,void 0,function*(){const[mn,yn]=yield a(cn,gn),wn=s(gn),kn=new n.AnchorProvider(sn,null,null);return yield new n.Program(wn,gn,kn).instruction.processEnlistPlayer(yn,un,{accounts:{playerFactionAccount:mn,playerAccount:cn,systemProgram:n.web3.SystemProgram.programId,clock:n.web3.SYSVAR_CLOCK_PUBKEY}})})}t.enlistToFaction=c;function m(sn,un,cn){return e(this,void 0,void 0,function*(){const gn=new n.AnchorProvider(sn,null,null),mn=s(cn),yn=new n.Program(mn,cn,gn),[wn]=yield a(un,cn);return yield yn.account.playerFactionData.fetch(wn)})}t.getPlayer=m;function en(sn,un){return e(this,void 0,void 0,function*(){const cn=new n.AnchorProvider(sn,null,null),gn=s(un);return(yield new n.Program(gn,un,cn).account.playerFactionData.all()).map(kn=>kn.account)})}t.getAllPlayers=en;function tn(sn,un,cn){return e(this,void 0,void 0,function*(){const gn=new n.AnchorProvider(sn,null,null),mn=s(cn);return(yield new n.Program(mn,cn,gn).account.playerFactionData.all()).map(An=>An.account).filter(An=>An.factionId==un)})}t.getPlayersOfFaction=tn})(factions);var gumdrop={},gumdropIdl={};Object.defineProperty(gumdropIdl,"__esModule",{value:!0});gumdropIdl.gumDropIdl=void 0;gumdropIdl.gumDropIdl={version:"0.0.0",name:"merkle_distributor",instructions:[{name:"newDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]},{name:"closeDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"receiver",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"walletBump",type:"u8"}]},{name:"claim",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"claimStatus",isMut:!0,isSigner:!1},{name:"from",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimCandy",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"claimCount",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"candyMachineConfig",isMut:!1,isSigner:!1},{name:"candyMachine",isMut:!0,isSigner:!1},{name:"candyMachineWallet",isMut:!0,isSigner:!1},{name:"candyMachineMint",isMut:!0,isSigner:!1},{name:"candyMachineMetadata",isMut:!0,isSigner:!1},{name:"candyMachineMasterEdition",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"candyMachineProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"walletBump",type:"u8"},{name:"claimBump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]}],accounts:[{name:"MerkleDistributor",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]}},{name:"ClaimStatus",type:{kind:"struct",fields:[{name:"isClaimed",type:"bool"},{name:"claimant",type:"publicKey"},{name:"claimedAt",type:"i64"},{name:"amount",type:"u64"}]}},{name:"ClaimCount",type:{kind:"struct",fields:[{name:"count",type:"u64"},{name:"claimant",type:"publicKey"}]}},{name:"CandyMachine",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"wallet",type:"publicKey"},{name:"tokenMint",type:{option:"publicKey"}},{name:"config",type:"publicKey"},{name:"data",type:{defined:"CandyMachineData"}},{name:"itemsRedeemed",type:"u64"},{name:"bump",type:"u8"}]}}],types:[{name:"CandyMachineData",type:{kind:"struct",fields:[{name:"uuid",type:"string"},{name:"price",type:"u64"},{name:"itemsAvailable",type:"u64"},{name:"goLiveDate",type:{option:"i64"}}]}}],events:[{name:"ClaimedEvent",fields:[{name:"index",type:"u64",index:!1},{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:300,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:301,name:"DropAlreadyClaimed",msg:"Drop already claimed."},{code:302,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:303,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:304,name:"TemporalMismatch",msg:"Temporal signer did not match distributor"}]};var hasRequiredGumdrop;function requireGumdrop(){return hasRequiredGumdrop||(hasRequiredGumdrop=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(mn,yn,wn,kn){kn===void 0&&(kn=wn);var An=Object.getOwnPropertyDescriptor(yn,wn);(!An||("get"in An?!yn.__esModule:An.writable||An.configurable))&&(An={enumerable:!0,get:function(){return yn[wn]}}),Object.defineProperty(mn,kn,An)}:function(mn,yn,wn,kn){kn===void 0&&(kn=wn),mn[kn]=yn[wn]}),n=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(mn,yn){Object.defineProperty(mn,"default",{enumerable:!0,value:yn})}:function(mn,yn){mn.default=yn}),r=commonjsGlobal&&commonjsGlobal.__importStar||function(mn){if(mn&&mn.__esModule)return mn;var yn={};if(mn!=null)for(var wn in mn)wn!=="default"&&Object.prototype.hasOwnProperty.call(mn,wn)&&e(yn,mn,wn);return n(yn,mn),yn},o=commonjsGlobal&&commonjsGlobal.__awaiter||function(mn,yn,wn,kn){function An($n){return $n instanceof wn?$n:new wn(function(Mn){Mn($n)})}return new(wn||(wn=Promise))(function($n,Mn){function En(zn){try{Pn(kn.next(zn))}catch(Nn){Mn(Nn)}}function Tn(zn){try{Pn(kn.throw(zn))}catch(Nn){Mn(Nn)}}function Pn(zn){zn.done?$n(zn.value):An(zn.value).then(En,Tn)}Pn((kn=kn.apply(mn,yn||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.claimTokenInstructions=t.getMultipleClaimStatusAccounts=t.getClaimStatusAccount=t.getClaimStatusKey=void 0;const s=require$$0$1,a=require$$1$1,c=r(bs58),m=requireHelpers(),en=gumdropIdl,tn=new s.web3.PublicKey("gdrpGjVffourzkdDRrQmySw4aTHr8a3xmQzzxSwFD1a"),sn=(mn,yn,wn=tn)=>o(void 0,void 0,void 0,function*(){return yield s.web3.PublicKey.findProgramAddress([Buffer.from("ClaimStatus"),mn.toArrayLike(Buffer,"le",8),yn.toBuffer()],wn)});t.getClaimStatusKey=sn;const un=(mn,yn,wn,kn=tn)=>o(void 0,void 0,void 0,function*(){const An=new s.AnchorProvider(mn,null,null),$n=new s.Program(en.gumDropIdl,kn,An),Mn=yield(0,t.getClaimStatusKey)(yn,wn,kn);try{return yield $n.account.claimStatus.fetch(Mn[0])}catch{return null}});t.getClaimStatusAccount=un;const cn=(mn,yn,wn,kn=tn)=>o(void 0,void 0,void 0,function*(){const An=new s.AnchorProvider(mn,null,null),$n=new s.Program(en.gumDropIdl,kn,An),Mn=yn.map(Pn=>(0,t.getClaimStatusKey)(Pn,wn,kn)),En=(yield Promise.all(Mn)).map(Pn=>Pn[0]);return yield $n.account.claimStatus.fetchMultiple(En)});t.getMultipleClaimStatusAccounts=cn;const gn=mn=>o(void 0,void 0,void 0,function*(){const{connection:yn,claimUrl:wn,playerPublicKey:kn,programId:An}=mn,$n=new URLSearchParams(wn.split("?")[1]),Mn=$n.get("distributor"),En=$n.get("handle"),Tn=$n.get("amount"),Pn=$n.get("index"),zn=$n.get("proof"),Nn=$n.get("tokenAcc");if(!Mn||!En||!Tn||!Pn||!zn||!Nn)throw new Error("Invalid claim");const Kn=zn===""?[]:zn.split(",").map(Gn=>{const Yn=Buffer.from(c.decode(Gn));if(Yn.length!==32)throw new Error("Invalid proof hash length");return Yn}),_r=new s.web3.PublicKey(Mn),pn=new s.web3.PublicKey(Nn),on=yield yn.getAccountInfo(pn);if(on===null)throw new Error("Could not fetch distributor token account");const ln=a.AccountLayout.decode(on.data),vn=new s.web3.PublicKey(ln.mint),xn=new s.web3.PublicKey(En),On=yield(0,m.getAssociatedTokenAddress)(xn,vn),Hn=yield yn.getParsedTokenAccountsByOwner(xn,{mint:vn}),Zn=new s.BN(Pn),Rn=new s.BN(Tn),[fn,Dn]=yield(0,t.getClaimStatusKey)(Zn,_r,An),Hr=new s.AnchorProvider(yn,null,null),Fn=new s.Program(en.gumDropIdl,An,Hr),Vn=[];return Hn.value.length===0&&Vn.push(a.Token.createAssociatedTokenAccountInstruction(a.ASSOCIATED_TOKEN_PROGRAM_ID,a.TOKEN_PROGRAM_ID,vn,On,xn,kn)),Vn.push(Fn.instruction.claim(Dn,Zn,Rn,kn,Kn,{accounts:{distributor:_r,claimStatus:fn,from:pn,to:On,temporal:kn,payer:kn,tokenProgram:a.TOKEN_PROGRAM_ID,systemProgram:s.web3.SystemProgram.programId}})),Vn});t.claimTokenInstructions=gn}(gumdrop)),gumdrop}var score={},scoreIdl={};Object.defineProperty(scoreIdl,"__esModule",{value:!0});scoreIdl.baseIdl=void 0;scoreIdl.baseIdl={version:"0.0.0",name:"score",instructions:[{name:"processInitialize",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"atlasMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processRegisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"scorevarsShipBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]},{name:"processDeregisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processUpdateRewardRate",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"newRewardRatePerSecond",type:"u64"}]},{name:"processInitialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerFactionAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processPartialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processRefuel",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"fuelTokenAccountSource",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"fuelQuantity",type:"u64"}]},{name:"processRefeed",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"foodTokenAccountSource",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"foodQuantity",type:"u64"}]},{name:"processRearm",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"armsTokenAccountSource",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"armsQuantity",type:"u64"}]},{name:"processRepair",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"toolkitQuantity",type:"u64"}]},{name:"processSettle",accounts:[{name:"playerAccount",isMut:!1,isSigner:!1},{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processHarvest",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processWithdrawFuel",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountReturn",isMut:!0,isSigner:!1},{name:"fuelMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawFood",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountReturn",isMut:!0,isSigner:!1},{name:"foodMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawArms",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountReturn",isMut:!0,isSigner:!1},{name:"armsMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawShips",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"shipTokenAccountReturn",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"},{name:"treasuryBump",type:"u8"}]},{name:"processCloseAccounts",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"shipBump",type:"u8"},{name:"fuelBump",type:"u8"},{name:"foodBump",type:"u8"},{name:"armsBump",type:"u8"},{name:"escrowAuthBump",type:"u8"}]}],accounts:[{name:"ScoreVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"fuelMint",type:"publicKey"},{name:"foodMint",type:"publicKey"},{name:"armsMint",type:"publicKey"},{name:"toolkitMint",type:"publicKey"}]}},{name:"ScoreVarsShip",type:{kind:"struct",fields:[{name:"shipMint",type:"publicKey"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]}},{name:"ShipStaking",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"factionId",type:"u8"},{name:"shipMint",type:"publicKey"},{name:"shipQuantityInEscrow",type:"u64"},{name:"fuelQuantityInEscrow",type:"u64"},{name:"foodQuantityInEscrow",type:"u64"},{name:"armsQuantityInEscrow",type:"u64"},{name:"fuelCurrentCapacity",type:"u64"},{name:"foodCurrentCapacity",type:"u64"},{name:"armsCurrentCapacity",type:"u64"},{name:"healthCurrentCapacity",type:"u64"},{name:"stakedAtTimestamp",type:"i64"},{name:"fueledAtTimestamp",type:"i64"},{name:"fedAtTimestamp",type:"i64"},{name:"armedAtTimestamp",type:"i64"},{name:"repairedAtTimestamp",type:"i64"},{name:"currentCapacityTimestamp",type:"i64"},{name:"totalTimeStaked",type:"u64"},{name:"stakedTimePaid",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"totalRewardsPaid",type:"u64"}]}}],types:[{name:"Resource",type:{kind:"enum",variants:[{name:"Arms"},{name:"Fuel"},{name:"Food"},{name:"Toolkits"}]}}],errors:[{code:300,name:"ScorevarsNotInitialized",msg:"Scorevars auth is not initialized"},{code:301,name:"ScorevarsAuthInvalid",msg:"Scorevars auth invalid"},{code:302,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."},{code:303,name:"InvalidShipError",msg:"Invalid Ship Mint"},{code:304,name:"InvalidResourceError",msg:"Invalid Resource Mint"},{code:305,name:"ZeroResourceError",msg:"Resource Quantity must be >0."},{code:306,name:"ZeroShipError",msg:"Ship Quantity must be >0."},{code:307,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:308,name:"ResourceAmountTooSmall",msg:"Resource Amount Too Small, would add 0 seconds to capacity"},{code:309,name:"InvalidScoreVarsAccount",msg:"Invalid ScoreVars account for ship Staking Account given"},{code:310,name:"InvalidResourceWithdraw",msg:"Invalid Resource Withdraw, nothing to withdraw"},{code:311,name:"InvalidShipStakingOwner",msg:"Invalid Ship Staking Owner"},{code:312,name:"InvalidShipWithdraw",msg:"Invalid Ship Withdraw"},{code:313,name:"NotEnoughToolkits",msg:"Not enough toolkits for Ship Withdraw"},{code:314,name:"EscrowAccountNotZero",msg:"Escrow account must be 0 to close accounts"},{code:315,name:"IncorrectTokenAccountOwner",msg:"Token account does not have correct owner!"},{code:316,name:"UninitializedTokenAccount",msg:"Token or Mint Account is not initialized!"},{code:317,name:"IncorrectTokenAccountMint",msg:"Token or Mint Account mint is not correct!"}],metadata:{}};var scoreLogIdl={};Object.defineProperty(scoreLogIdl,"__esModule",{value:!0});scoreLogIdl.scoreLogBaseIdl=void 0;scoreLogIdl.scoreLogBaseIdl={version:"0.0.0",name:"score_logs",instructions:[],events:[{name:"ProcessInitialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"factionId",type:"u8",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessPartialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"previousShipQuantity",type:"u64",index:!1},{name:"addedShipQuantity",type:"u64",index:!1},{name:"newShipQuantity",type:"u64",index:!1},{name:"partialDepositTimestamp",type:"i64",index:!1}]},{name:"ProcessRearmMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityToDeposit",type:"u64",index:!1},{name:"armedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefeedMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityToDeposit",type:"u64",index:!1},{name:"fedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefuelMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityToDeposit",type:"u64",index:!1},{name:"fueledAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRepairMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"toolkitQuantityToDeposit",type:"u64",index:!1},{name:"repairedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessHarvestMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"rewardPayout",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"harvestTimestamp",type:"i64",index:!1}]},{name:"ProcessSettleMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"settleTimestamp",type:"i64",index:!1}]},{name:"ProcessArmsWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityWithdrawn",type:"u64",index:!1},{name:"armsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFoodWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityWithdrawn",type:"u64",index:!1},{name:"foodWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFuelWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityWithdrawn",type:"u64",index:!1},{name:"fuelWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessWithdrawShipsMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"shipsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessCloseAccountMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"accountClosedTimestamp",type:"i64",index:!1}]}]};var hasRequiredScore;function requireScore(){if(hasRequiredScore)return score;hasRequiredScore=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(Fn,Vn,Gn,Yn){function gr(Or){return Or instanceof Gn?Or:new Gn(function(Ir){Ir(Or)})}return new(Gn||(Gn=Promise))(function(Or,Ir){function wr(qn){try{Un(Yn.next(qn))}catch(Sr){Ir(Sr)}}function Ln(qn){try{Un(Yn.throw(qn))}catch(Sr){Ir(Sr)}}function Un(qn){qn.done?Or(qn.value):gr(qn.value).then(wr,Ln)}Un((Yn=Yn.apply(Fn,Vn||[])).next())})};Object.defineProperty(score,"__esModule",{value:!0}),score.closeAccountsInstruction=score.createWithdrawShipsInstruction=score.createWithdrawArmsInstruction=score.createWithdrawFoodInstruction=score.createWithdrawFuelInstruction=score.createHarvestInstruction=score.createSettleInstruction=score.createRepairInstruction=score.createRefuelInstruction=score.createRefeedInstruction=score.createRearmInstruction=score.createPartialDepositInstruction=score.createInitialDepositInstruction=score.createUpdateRewardRateInstruction=score.createDeregisterShipInstruction=score.createRegisterShipInstruction=score.createScoreVarsInitializeInstruction=score.getAllFleetsForUserPublicKey=score.getAllFleets=score.getAllRegisteredShips=score.getScoreTreasuryAuthAccount=score.getScoreTreasuryTokenAccount=score.getScoreVarsShipInfo=score.decodeEvent=score.getShipStakingAccountInfo=score.getScoreVarsInfo=score.getShipStakingAccount=score.getScoreEscrowAuthAccount=score.getScoreEscrowAccount=score.getScoreVarsShipAccount=score.getScoreVarsAccount=score.getScoreIDL=void 0;const e=require$$0$1,n=require$$1$1,r=require$$2,o=requireDist(),s=scoreIdl,a=scoreLogIdl,c=requireUtil(),m=new e.web3.PublicKey("FACTNmq2FhA2QNTnGM2aWJH3i7zT3cND5CgvjYTjyVYe");function en(Fn){const Vn=s.baseIdl;return Vn.metadata.address=Fn.toBase58(),Vn}score.getScoreIDL=en;function tn(Fn){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCOREVARS")],Fn)})}score.getScoreVarsAccount=tn;function sn(Fn,Vn){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCOREVARS_SHIP"),Vn.toBuffer()],Fn)})}score.getScoreVarsShipAccount=sn;function un(Fn,Vn,Gn,Yn){return t(this,void 0,void 0,function*(){const gr=[Buffer.from("SCORE_ESCROW"),Yn.toBuffer(),Vn.toBuffer()];return Gn!==null&&gr.push(Gn.toBuffer()),e.web3.PublicKey.findProgramAddress(gr,Fn)})}score.getScoreEscrowAccount=un;function cn(Fn,Vn,Gn){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_ESCROW_AUTHORITY"),Gn.toBuffer(),Vn.toBuffer()],Fn)})}score.getScoreEscrowAuthAccount=cn;function gn(Fn,Vn,Gn){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_INFO"),Gn.toBuffer(),Vn.toBuffer()],Fn)})}score.getShipStakingAccount=gn;function mn(Fn,Vn){return t(this,void 0,void 0,function*(){const Gn=new e.AnchorProvider(Fn,null,null),Yn=en(Vn),gr=new e.Program(Yn,Vn,Gn),[Or]=yield tn(Vn);return yield gr.account.scoreVars.fetch(Or)})}score.getScoreVarsInfo=mn;function yn(Fn,Vn,Gn,Yn){return t(this,void 0,void 0,function*(){const gr=new e.AnchorProvider(Fn,null,null),Or=en(Vn),Ir=new e.Program(Or,Vn,gr),[wr]=yield gn(Vn,Gn,Yn);return yield Ir.account.shipStaking.fetch(wr)})}score.getShipStakingAccountInfo=yn;function wn(Fn,Vn,Gn){return t(this,void 0,void 0,function*(){const Yn=new e.AnchorProvider(Fn,null,null);return new e.Program(a.scoreLogBaseIdl,Vn,Yn).coder.events.decode(Gn)})}score.decodeEvent=wn;function kn(Fn,Vn,Gn){return t(this,void 0,void 0,function*(){const Yn=new e.AnchorProvider(Fn,null,null),gr=en(Vn),Or=new e.Program(gr,Vn,Yn),[Ir]=yield sn(Vn,Gn);return yield Or.account.scoreVarsShip.fetch(Ir)})}score.getScoreVarsShipInfo=kn;function An(Fn){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_TREASURY")],Fn)})}score.getScoreTreasuryTokenAccount=An;function $n(Fn){return t(this,void 0,void 0,function*(){return e.web3.PublicKey.findProgramAddress([Buffer.from("SCORE_TREASURY_AUTHORITY")],Fn)})}score.getScoreTreasuryAuthAccount=$n;function Mn(Fn,Vn){return t(this,void 0,void 0,function*(){const Gn=en(Vn),Yn=new e.AnchorProvider(Fn,null,null),Or=yield new e.Program(Gn,Vn,Yn).account.scoreVarsShip.all(),Ir=[];for(const wr of Or)Ir.push(wr.account);return Ir})}score.getAllRegisteredShips=Mn;function En(Fn,Vn){return t(this,void 0,void 0,function*(){const Gn=en(Vn),Yn=new e.AnchorProvider(Fn,null,null),Or=yield new e.Program(Gn,Vn,Yn).account.shipStaking.all(),Ir=[];for(const wr of Or)Ir.push(wr.account);return Ir})}score.getAllFleets=En;function Tn(Fn,Vn,Gn){return t(this,void 0,void 0,function*(){const Yn=en(Gn),gr=new e.AnchorProvider(Fn,null,null),Or=new e.Program(Yn,Gn,gr),Ir=yield Or.account.scoreVarsShip.all(),wr=[];for(const qn of Ir){const[Sr]=yield gn(Gn,qn.account.shipMint,Vn);wr.push(Sr)}return(yield Or.account.shipStaking.fetchMultiple(wr)).filter(qn=>qn!==null).map(qn=>qn)})}score.getAllFleetsForUserPublicKey=Tn;function Pn(Fn,Vn,Gn,Yn,gr,Or,Ir,wr){return t(this,void 0,void 0,function*(){const Ln=en(wr),Un=new e.AnchorProvider(Fn,null,null),qn=new e.Program(Ln,wr,Un),[Sr,Xn]=yield An(wr),[Er,Nr]=yield $n(wr),[Ar,vr]=yield tn(wr);return yield qn.instruction.processInitialize(vr,Xn,Nr,{accounts:{updateAuthorityAccount:Vn,scoreVarsAccount:Ar,tokenProgram:n.TOKEN_PROGRAM_ID,systemProgram:r.SystemProgram.programId,rent:e.web3.SYSVAR_RENT_PUBKEY,treasuryTokenAccount:Sr,treasuryAuthorityAccount:Er,atlasMint:Gn,fuelMint:Yn,foodMint:gr,armsMint:Or,toolkitMint:Ir},signers:[]})})}score.createScoreVarsInitializeInstruction=Pn;function zn(Fn,Vn,Gn,Yn,gr,Or,Ir,wr,Ln,Un,qn,Sr,Xn){return t(this,void 0,void 0,function*(){const Er=en(Xn),Nr=new e.AnchorProvider(Fn,null,null),Ar=new e.Program(Er,Xn,Nr),[vr,br]=yield sn(Xn,Gn),[Tr,$r]=yield tn(Xn);return yield Ar.instruction.processRegisterShip($r,br,new e.BN(Sr),Yn,gr,Or,Ir,wr,Ln,Un,qn,{accounts:{updateAuthorityAccount:Vn,scoreVarsAccount:Tr,scoreVarsShipAccount:vr,shipMint:Gn,systemProgram:r.SystemProgram.programId},signers:[]})})}score.createRegisterShipInstruction=zn;function Nn(Fn,Vn,Gn,Yn){return t(this,void 0,void 0,function*(){const gr=en(Yn),Or=new e.AnchorProvider(Fn,null,null),Ir=new e.Program(gr,Yn,Or),[wr,Ln]=yield sn(Yn,Gn),[Un,qn]=yield tn(Yn);return yield Ir.instruction.processDeregisterShip(qn,Ln,{accounts:{updateAuthorityAccount:Vn,scoreVarsAccount:Un,scoreVarsShipAccount:wr,shipMint:Gn},signers:[]})})}score.createDeregisterShipInstruction=Nn;function Kn(Fn,Vn,Gn,Yn,gr){return t(this,void 0,void 0,function*(){const Or=en(gr),Ir=new e.AnchorProvider(Fn,null,null),wr=new e.Program(Or,gr,Ir),[Ln,Un]=yield sn(gr,Gn),[qn,Sr]=yield tn(gr);return yield wr.instruction.processUpdateRewardRate(Sr,Un,new e.BN(Yn),{accounts:{updateAuthorityAccount:Vn,scoreVarsAccount:qn,scoreVarsShipAccount:Ln,shipMint:Gn},signers:[]})})}score.createUpdateRewardRateInstruction=Kn;function _r(Fn,Vn,Gn,Yn,gr,Or){return t(this,void 0,void 0,function*(){const[Ir,wr]=yield cn(Or,Yn,Vn),[Ln,Un]=yield un(Or,Yn,null,Vn),[qn,Sr]=yield gn(Or,Yn,Vn),[Xn,Er]=yield sn(Or,Yn),[Nr]=yield(0,o.getPlayerFactionPDA)(Vn,m),Ar=en(Or),vr=new e.AnchorProvider(Fn,null,null);return yield new e.Program(Ar,Or,vr).instruction.processInitialDeposit(Sr,Er,wr,Un,new e.BN(Gn),{accounts:{playerAccount:Vn,shipStakingAccount:qn,scoreVarsShipAccount:Xn,playerFactionAccount:Nr,escrowAuthority:Ir,systemProgram:e.web3.SystemProgram.programId,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:Yn,shipTokenAccountSource:gr,shipTokenAccountEscrow:Ln}})})}score.createInitialDepositInstruction=_r;function pn(Fn,Vn,Gn,Yn,gr,Or){return t(this,void 0,void 0,function*(){const[Ir,wr]=yield cn(Or,Yn,Vn),[Ln,Un]=yield un(Or,Yn,null,Vn),[qn,Sr]=yield gn(Or,Yn,Vn),[Xn,Er]=yield sn(Or,Yn),Nr=en(Or),Ar=new e.AnchorProvider(Fn,null,null);return yield new e.Program(Nr,Or,Ar).instruction.processPartialDeposit(Sr,Er,wr,Un,new e.BN(Gn),{accounts:{playerAccount:Vn,shipStakingAccount:qn,scoreVarsShipAccount:Xn,escrowAuthority:Ir,systemProgram:e.web3.SystemProgram.programId,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:Yn,shipTokenAccountSource:gr,shipTokenAccountEscrow:Ln}})})}score.createPartialDepositInstruction=pn;function on(Fn,Vn,Gn,Yn,gr,Or,Ir,wr){return t(this,void 0,void 0,function*(){const[Ln,Un]=yield cn(wr,gr,Gn),[qn,Sr]=yield un(wr,gr,Or,Gn),[Xn,Er]=yield gn(wr,gr,Gn),[Nr,Ar]=yield sn(wr,gr),[vr,br]=yield tn(wr),Tr=en(wr),$r=new e.AnchorProvider(Fn,null,null);return yield new e.Program(Tr,wr,$r).instruction.processRearm(Er,br,Ar,Un,Sr,new e.BN(Yn),{accounts:{tokenOwnerAccount:Vn,playerAccount:Gn,shipStakingAccount:Xn,scoreVarsAccount:vr,scoreVarsShipAccount:Nr,escrowAuthority:Ln,systemProgram:e.web3.SystemProgram.programId,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:gr,armsMint:Or,armsTokenAccountSource:Ir,armsTokenAccountEscrow:qn}})})}score.createRearmInstruction=on;function ln(Fn,Vn,Gn,Yn,gr,Or,Ir,wr){return t(this,void 0,void 0,function*(){const[Ln,Un]=yield cn(wr,gr,Gn),[qn,Sr]=yield un(wr,gr,Or,Gn),[Xn,Er]=yield gn(wr,gr,Gn),[Nr,Ar]=yield sn(wr,gr),[vr,br]=yield tn(wr),Tr=en(wr),$r=new e.AnchorProvider(Fn,null,null);return yield new e.Program(Tr,wr,$r).instruction.processRefeed(Er,br,Ar,Un,Sr,new e.BN(Yn),{accounts:{tokenOwnerAccount:Vn,playerAccount:Gn,shipStakingAccount:Xn,scoreVarsAccount:vr,scoreVarsShipAccount:Nr,escrowAuthority:Ln,systemProgram:e.web3.SystemProgram.programId,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:gr,foodMint:Or,foodTokenAccountSource:Ir,foodTokenAccountEscrow:qn}})})}score.createRefeedInstruction=ln;function vn(Fn,Vn,Gn,Yn,gr,Or,Ir,wr){return t(this,void 0,void 0,function*(){const[Ln,Un]=yield cn(wr,gr,Gn),[qn,Sr]=yield un(wr,gr,Or,Gn),[Xn,Er]=yield gn(wr,gr,Gn),[Nr,Ar]=yield sn(wr,gr),[vr,br]=yield tn(wr),Tr=en(wr),$r=new e.AnchorProvider(Fn,null,null);return yield new e.Program(Tr,wr,$r).instruction.processRefuel(Er,br,Ar,Un,Sr,new e.BN(Yn),{accounts:{tokenOwnerAccount:Vn,playerAccount:Gn,shipStakingAccount:Xn,scoreVarsAccount:vr,scoreVarsShipAccount:Nr,escrowAuthority:Ln,systemProgram:e.web3.SystemProgram.programId,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:gr,fuelMint:Or,fuelTokenAccountSource:Ir,fuelTokenAccountEscrow:qn}})})}score.createRefuelInstruction=vn;function xn(Fn,Vn,Gn,Yn,gr,Or,Ir,wr){return t(this,void 0,void 0,function*(){const[Ln,Un]=yield gn(wr,gr,Gn),[qn,Sr]=yield sn(wr,gr),[Xn,Er]=yield tn(wr),Nr=en(wr),Ar=new e.AnchorProvider(Fn,null,null);return yield new e.Program(Nr,wr,Ar).instruction.processRepair(Un,Er,Sr,new e.BN(Yn),{accounts:{tokenOwnerAccount:Vn,playerAccount:Gn,shipStakingAccount:Ln,scoreVarsAccount:Xn,scoreVarsShipAccount:qn,systemProgram:e.web3.SystemProgram.programId,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,rent:e.web3.SYSVAR_RENT_PUBKEY,shipMint:gr,toolkitMint:Or,toolkitTokenAccountSource:Ir}})})}score.createRepairInstruction=xn;function On(Fn,Vn,Gn,Yn,gr){return t(this,void 0,void 0,function*(){const[Or,Ir]=yield gn(gr,Yn,Vn),[wr,Ln]=yield sn(gr,Yn),[Un,qn]=yield tn(gr),Sr=en(gr),Xn=new e.AnchorProvider(Fn,null,null);return yield new e.Program(Sr,gr,Xn).instruction.processSettle(Ir,qn,Ln,{accounts:{playerAccount:Vn,updateAuthorityAccount:Gn,shipStakingAccount:Or,scoreVarsShipAccount:wr,scoreVarsAccount:Un,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:Yn}})})}score.createSettleInstruction=On;function Hn(Fn,Vn,Gn,Yn,gr){return t(this,void 0,void 0,function*(){const[Or,Ir]=yield gn(gr,Yn,Vn),[wr,Ln]=yield sn(gr,Yn),[Un,qn]=yield An(gr),[Sr,Xn]=yield $n(gr),Er=en(gr),Nr=new e.AnchorProvider(Fn,null,null),Ar=new e.Program(Er,gr,Nr),vr={signers:[],instructions:[]};let br;const Tr=yield(0,c.getTokenAccount)(Fn,Vn,Gn),$r=Tr.tokenAccount;"createInstruction"in Tr&&vr.instructions.push(Tr.createInstruction),$r instanceof e.web3.Keypair?(br=$r.publicKey,vr.signers.push($r)):br=$r;const Br=yield Ar.instruction.processHarvest(Ir,Ln,qn,Xn,{accounts:{playerAccount:Vn,shipStakingAccount:Or,scoreVarsShipAccount:wr,playerAtlasTokenAccount:br,treasuryTokenAccount:Un,treasuryAuthorityAccount:Sr,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:Yn}});return vr.instructions.push(Br),vr})}score.createHarvestInstruction=Hn;function Zn(Fn,Vn,Gn,Yn,gr){return t(this,void 0,void 0,function*(){const[Or,Ir]=yield cn(gr,Yn,Vn),[wr,Ln]=yield un(gr,Yn,Gn,Vn),[Un,qn]=yield gn(gr,Yn,Vn),[Sr,Xn]=yield sn(gr,Yn),[Er,Nr]=yield tn(gr),Ar=en(gr),vr=new e.AnchorProvider(Fn,null,null),br=new e.Program(Ar,gr,vr),Tr={signers:[],instructions:[]};let $r;const Br=yield(0,c.getTokenAccount)(Fn,Vn,Gn),Fr=Br.tokenAccount;"createInstruction"in Br&&Tr.instructions.push(Br.createInstruction),Fr instanceof e.web3.Keypair?($r=Fr.publicKey,Tr.signers.push(Fr)):$r=Fr;const nn=yield br.instruction.processWithdrawFuel(qn,Nr,Xn,Ir,Ln,{accounts:{playerAccount:Vn,shipStakingAccount:Un,scoreVarsAccount:Er,scoreVarsShipAccount:Sr,fuelTokenAccountEscrow:wr,fuelTokenAccountReturn:$r,fuelMint:Gn,escrowAuthority:Or,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:Yn}});return Tr.instructions.push(nn),Tr})}score.createWithdrawFuelInstruction=Zn;function Rn(Fn,Vn,Gn,Yn,gr){return t(this,void 0,void 0,function*(){const[Or,Ir]=yield cn(gr,Yn,Vn),[wr,Ln]=yield un(gr,Yn,Gn,Vn),[Un,qn]=yield gn(gr,Yn,Vn),[Sr,Xn]=yield sn(gr,Yn),[Er,Nr]=yield tn(gr),Ar=en(gr),vr=new e.AnchorProvider(Fn,null,null),br=new e.Program(Ar,gr,vr),Tr={signers:[],instructions:[]};let $r;const Br=yield(0,c.getTokenAccount)(Fn,Vn,Gn),Fr=Br.tokenAccount;"createInstruction"in Br&&Tr.instructions.push(Br.createInstruction),Fr instanceof e.web3.Keypair?($r=Fr.publicKey,Tr.signers.push(Fr)):$r=Fr;const nn=yield br.instruction.processWithdrawFood(qn,Nr,Xn,Ir,Ln,{accounts:{playerAccount:Vn,shipStakingAccount:Un,scoreVarsAccount:Er,scoreVarsShipAccount:Sr,foodTokenAccountEscrow:wr,foodTokenAccountReturn:$r,foodMint:Gn,escrowAuthority:Or,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:Yn}});return Tr.instructions.push(nn),Tr})}score.createWithdrawFoodInstruction=Rn;function fn(Fn,Vn,Gn,Yn,gr){return t(this,void 0,void 0,function*(){const[Or,Ir]=yield cn(gr,Yn,Vn),[wr,Ln]=yield un(gr,Yn,Gn,Vn),[Un,qn]=yield gn(gr,Yn,Vn),[Sr,Xn]=yield sn(gr,Yn),[Er,Nr]=yield tn(gr),Ar=en(gr),vr=new e.AnchorProvider(Fn,null,null),br=new e.Program(Ar,gr,vr),Tr={signers:[],instructions:[]};let $r;const Br=yield(0,c.getTokenAccount)(Fn,Vn,Gn),Fr=Br.tokenAccount;"createInstruction"in Br&&Tr.instructions.push(Br.createInstruction),Fr instanceof e.web3.Keypair?($r=Fr.publicKey,Tr.signers.push(Fr)):$r=Fr;const nn=yield br.instruction.processWithdrawArms(qn,Nr,Xn,Ir,Ln,{accounts:{playerAccount:Vn,shipStakingAccount:Un,scoreVarsAccount:Er,scoreVarsShipAccount:Sr,armsTokenAccountEscrow:wr,armsTokenAccountReturn:$r,armsMint:Gn,escrowAuthority:Or,tokenProgram:n.TOKEN_PROGRAM_ID,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:Yn}});return Tr.instructions.push(nn),Tr})}score.createWithdrawArmsInstruction=fn;function Dn(Fn,Vn,Gn,Yn,gr,Or){return t(this,void 0,void 0,function*(){const[Ir,wr]=yield cn(Or,Gn,Vn),[Ln,Un]=yield un(Or,Gn,null,Vn),[qn,Sr]=yield gn(Or,Gn,Vn),[Xn,Er]=yield sn(Or,Gn),[Nr,Ar]=yield tn(Or),[vr,br]=yield An(Or),[Tr,$r]=yield $n(Or),Br={signers:[],instructions:[]},Fr=en(Or),nn=new e.AnchorProvider(Fn,null,null),l=new e.Program(Fr,Or,nn);let d;const an=yield(0,c.getTokenAccount)(Fn,Vn,Yn),hn=an.tokenAccount;"createInstruction"in an&&Br.instructions.push(an.createInstruction),hn instanceof e.web3.Keypair?(d=hn.publicKey,Br.signers.push(hn)):d=hn;let _n;const In=yield(0,c.getTokenAccount)(Fn,Vn,Gn),kr=In.tokenAccount;"createInstruction"in In&&Br.instructions.push(In.createInstruction),kr instanceof e.web3.Keypair?(_n=kr.publicKey,Br.signers.push(kr)):_n=kr;let Ur;const Pr=yield(0,c.getTokenAccount)(Fn,Vn,gr),Kr=Pr.tokenAccount;"createInstruction"in Pr&&Br.instructions.push(Pr.createInstruction),Kr instanceof e.web3.Keypair?(Ur=Kr.publicKey,Br.signers.push(Kr)):Ur=Kr;const Lr=yield l.instruction.processWithdrawShips(Sr,Ar,Er,wr,Un,$r,br,{accounts:{playerAccount:Vn,shipStakingAccount:qn,scoreVarsAccount:Nr,scoreVarsShipAccount:Xn,playerAtlasTokenAccount:d,shipTokenAccountEscrow:Ln,shipTokenAccountReturn:_n,toolkitTokenAccountSource:Ur,treasuryTokenAccount:vr,treasuryAuthorityAccount:Tr,escrowAuthority:Ir,tokenProgram:n.TOKEN_PROGRAM_ID,systemProgram:e.web3.SystemProgram.programId,clock:e.web3.SYSVAR_CLOCK_PUBKEY,shipMint:Gn,toolkitMint:gr}});return Br.instructions.push(Lr),Br})}score.createWithdrawShipsInstruction=Dn;function Hr(Fn,Vn,Gn,Yn,gr,Or,Ir){return t(this,void 0,void 0,function*(){const[wr,Ln]=yield cn(Ir,Gn,Vn),[Un,qn]=yield un(Ir,Gn,null,Vn),[Sr,Xn]=yield un(Ir,Gn,Yn,Vn),[Er,Nr]=yield un(Ir,Gn,gr,Vn),[Ar,vr]=yield un(Ir,Gn,Or,Vn),[br,Tr]=yield tn(Ir),[$r,Br]=yield gn(Ir,Gn,Vn),Fr=en(Ir),nn=new e.AnchorProvider(Fn,null,null);return yield new e.Program(Fr,Ir,nn).instruction.processCloseAccounts(Br,Tr,qn,Xn,Nr,vr,Ln,{accounts:{playerAccount:Vn,shipStakingAccount:$r,scoreVarsAccount:br,shipTokenAccountEscrow:Un,fuelTokenAccountEscrow:Sr,foodTokenAccountEscrow:Er,armsTokenAccountEscrow:Ar,escrowAuthority:wr,tokenProgram:n.TOKEN_PROGRAM_ID,systemProgram:e.web3.SystemProgram.programId,shipMint:Gn,fuelMint:Yn,foodMint:gr,armsMint:Or,clock:e.web3.SYSVAR_CLOCK_PUBKEY}})})}return score.closeAccountsInstruction=Hr,score}var types={};Object.defineProperty(types,"__esModule",{value:!0});var scoreHelpers={},hasRequiredScoreHelpers;function requireScoreHelpers(){if(hasRequiredScoreHelpers)return scoreHelpers;hasRequiredScoreHelpers=1;var t=commonjsGlobal&&commonjsGlobal.__awaiter||function(yn,wn,kn,An){function $n(Mn){return Mn instanceof kn?Mn:new kn(function(En){En(Mn)})}return new(kn||(kn=Promise))(function(Mn,En){function Tn(Nn){try{zn(An.next(Nn))}catch(Kn){En(Kn)}}function Pn(Nn){try{zn(An.throw(Nn))}catch(Kn){En(Kn)}}function zn(Nn){Nn.done?Mn(Nn.value):$n(Nn.value).then(Tn,Pn)}zn((An=An.apply(yn,wn||[])).next())})},e=commonjsGlobal&&commonjsGlobal.__importDefault||function(yn){return yn&&yn.__esModule?yn:{default:yn}};Object.defineProperty(scoreHelpers,"__esModule",{value:!0}),scoreHelpers.sendTokens=scoreHelpers.confirmTokenBalance=scoreHelpers.createMint=scoreHelpers.mintTokens=scoreHelpers.createAssociatedTokenAccountInstruction=scoreHelpers.createRequestUnitsInstruction=scoreHelpers.Numberu32=scoreHelpers.createATokenAccount=scoreHelpers.getAtaForMint=void 0;const n=require$$0$1,r=require$$1$1,o=requireUtil(),s=require$$3,a=e(bn.exports);function c(yn,wn){return t(this,void 0,void 0,function*(){return n.web3.PublicKey.findProgramAddress([wn.toBuffer(),r.TOKEN_PROGRAM_ID.toBuffer(),yn.toBuffer()],r.ASSOCIATED_TOKEN_PROGRAM_ID)})}scoreHelpers.getAtaForMint=c;function m(yn,wn,kn,An){return t(this,void 0,void 0,function*(){kn=kn||yn.wallet.publicKey,An=An||yn.wallet.publicKey;const[$n]=yield c(wn,An),Mn=new n.web3.Transaction,En=yield sn($n,kn,An,wn);return Mn.add(En),yield yn.sendAndConfirm(Mn),$n})}scoreHelpers.createATokenAccount=m;class en extends a.default{toBuffer(){const wn=super.toArray().reverse(),kn=Buffer.from(wn);if(kn.length===4)return kn;const An=Buffer.alloc(4);return kn.copy(An),An}static fromBuffer(wn){return new a.default([...wn].reverse().map(kn=>`00${kn.toString(16)}`.slice(-2)).join(""),16)}}scoreHelpers.Numberu32=en;function tn(yn){return t(this,void 0,void 0,function*(){const wn=new en(1e6),kn=Buffer.from([0]),An=wn.toBuffer();return new n.web3.TransactionInstruction({keys:[{pubkey:yn,isSigner:!0,isWritable:!0}],programId:new n.web3.PublicKey("ComputeBudget111111111111111111111111111111"),data:Buffer.concat([kn,An])})})}scoreHelpers.createRequestUnitsInstruction=tn;function sn(yn,wn,kn,An){return t(this,void 0,void 0,function*(){const $n=[{pubkey:wn,isSigner:!0,isWritable:!0},{pubkey:yn,isSigner:!1,isWritable:!0},{pubkey:kn,isSigner:!1,isWritable:!1},{pubkey:An,isSigner:!1,isWritable:!1},{pubkey:n.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:n.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new n.web3.TransactionInstruction({keys:$n,programId:r.ASSOCIATED_TOKEN_PROGRAM_ID,data:Buffer.from([])})})}scoreHelpers.createAssociatedTokenAccountInstruction=sn;function un(yn,wn,kn,An,$n){return t(this,void 0,void 0,function*(){const Mn=new n.web3.Transaction;return $n=$n||yn.wallet.publicKey,Mn.add(r.Token.createMintToInstruction(r.TOKEN_PROGRAM_ID,wn,kn,$n,[],An)),yield yn.sendAndConfirm(Mn)})}scoreHelpers.mintTokens=un;function cn(yn,wn,kn,An){return t(this,void 0,void 0,function*(){const $n=n.web3.Keypair.generate(),Mn=new n.web3.Transaction,En=yield yn.connection.getMinimumBalanceForRentExemption(r.MintLayout.span);kn=kn||yn.wallet.publicKey,An=An||yn.wallet.publicKey;const Tn=n.web3.SystemProgram.createAccount({fromPubkey:yn.wallet.publicKey,newAccountPubkey:$n.publicKey,lamports:En,space:r.MintLayout.span,programId:r.TOKEN_PROGRAM_ID});Mn.add(Tn);const Pn=r.Token.createInitMintInstruction(r.TOKEN_PROGRAM_ID,$n.publicKey,wn,kn,An);return Mn.add(Pn),yield yn.sendAndConfirm(Mn,[$n]),$n.publicKey})}scoreHelpers.createMint=cn;function gn(yn,wn,kn,An){return t(this,void 0,void 0,function*(){const $n=yield yn.connection.getAccountInfo(wn,"recent");if(An===!0&&(0,s.strict)($n===null),$n!==null){const Mn=(0,o.byteArrayToLong)($n.data.slice(64,72));(0,s.strict)(Mn==kn,`On-chain Token amount of ${Mn} does not match expected amount ${kn}`)}else console.log("Token account %s does not exist",wn.toString())})}scoreHelpers.confirmTokenBalance=gn;function mn(yn,wn,kn,An){return t(this,void 0,void 0,function*(){const $n=new n.web3.Transaction;return $n.add(r.Token.createTransferInstruction(r.TOKEN_PROGRAM_ID,wn,kn,yn.wallet.publicKey,[],An)),yield yn.sendAndConfirm($n)})}return scoreHelpers.sendTokens=mn,scoreHelpers}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,s,a){a===void 0&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){a===void 0&&(a=s),r[a]=o[s]}),n=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&e(o,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(requireAtlasStaking(),t),n(factions,t),n(requireGumdrop(),t),n(requireMarketplace(),t),n(requireScore(),t),n(types,t),n(requireScoreHelpers(),t),n(requireGmHelper(),t),n(requireUtil(),t)}(dist)),dist}var distExports=requireDist();const TOKEN_USDC=new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),TOKEN_ATLAS=new PublicKey("ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx"),SERUMRPC="https://solana-api.projectserum.com",useStaratlasGmStore=defineStore({id:"staratlasGmStore",state:()=>({client:new distExports.GmClientService,connection:new Connection(SERUMRPC),orders:[],atlasOrders:{buyOrders:[],sellOrders:[]},usdcOrders:{buyOrders:[],sellOrders:[]}}),actions:{async getOpenOrdersForAsset(t){await this.client.getOpenOrdersForAsset(this.connection,new PublicKey(t),TRADE_PROGRAM).then(e=>{this.orders=e,this.atlasOrders.buyOrders=this.orders.filter(n=>n.orderType==="buy"&&n.currencyMint===TOKEN_ATLAS.toString()).sort((n,r)=>n.uiPrice-r.uiPrice),this.atlasOrders.sellOrders=this.orders.filter(n=>n.orderType==="sell"&&n.currencyMint===TOKEN_ATLAS.toString()).sort((n,r)=>n.uiPrice-r.uiPrice),this.usdcOrders.buyOrders=this.orders.filter(n=>n.orderType==="buy"&&n.currencyMint===TOKEN_USDC.toString()).sort((n,r)=>n.uiPrice-r.uiPrice),this.usdcOrders.sellOrders=this.orders.filter(n=>n.orderType==="sell"&&n.currencyMint===TOKEN_USDC.toString()).sort((n,r)=>n.uiPrice-r.uiPrice)}).catch(e=>console.log("{getOpenOrdersForAssetError}: "+e))}}}),_hoisted_1$2=createBaseVNode("h1",null,"Asset list",-1),_hoisted_2$2=["onClick"],_sfc_main$3=defineComponent({__name:"AssetsList",setup(t){const{allAssets:e}=storeToRefs(useAssetsStore());ref();const n=useStaratlasGmStore();return useAssetsStore().init(),(o,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$2,createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e),a=>(openBlock(),createElementBlock("p",{key:a._id,onClick:c=>unref(n).getOpenOrdersForAsset(a.mint).then(()=>{})},toDisplayString(a.name),9,_hoisted_2$2))),128))])],64))}}),_hoisted_1$1=createBaseVNode("h1",null,"Orderbook",-1),_hoisted_2$1=createBaseVNode("option",null,"ATLAS",-1),_hoisted_3=createBaseVNode("option",null,"USDC",-1),_hoisted_4=[_hoisted_2$1,_hoisted_3],_hoisted_5={class:"order-type-container"},_hoisted_6=createBaseVNode("p",null,"Sell orders:",-1),_hoisted_7={class:"order-type-container"},_hoisted_8=createBaseVNode("p",null,"Buy orders:",-1),_sfc_main$2=defineComponent({__name:"OrderbookList",setup(t){const{atlasOrders:e,usdcOrders:n}=storeToRefs(useStaratlasGmStore()),r=ref("USDC");return(o,s)=>(openBlock(),createElementBlock(Fragment,null,[_hoisted_1$1,createBaseVNode("div",null,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>r.value=a)},_hoisted_4,512),[[vModelSelect,r.value]]),createBaseVNode("div",_hoisted_5,[_hoisted_6,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value==="ATLAS"?unref(e).sellOrders:unref(n).sellOrders,a=>(openBlock(),createElementBlock("p",{key:a.id},toDisplayString(a.uiPrice),1))),128))]),createBaseVNode("div",_hoisted_7,[_hoisted_8,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value==="ATLAS"?unref(e).buyOrders:unref(n).buyOrders,a=>(openBlock(),createElementBlock("p",{key:a.id},toDisplayString(a.uiPrice),1))),128))])])],64))}}),OrderbookList_vue_vue_type_style_index_0_lang="",_hoisted_1={class:""},_hoisted_2={class:"grid grid-cols-4 gap-4"},_sfc_main$1=defineComponent({__name:"MarketplaceView",setup(t){return onMounted(async()=>{useTokenPriceStore(),useSolanaNetworkStore(),useStaratlasGmStore(),await useAssetsStore().init()}),(e,n)=>(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(_sfc_main$5),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",null,[createVNode(_sfc_main$2)]),createBaseVNode("div",null,[createVNode(OrderSetter)]),createBaseVNode("div",null,[createVNode(_sfc_main$3)])])]))}}),_sfc_main={};function _sfc_render(t,e){return openBlock(),createElementBlock("h1",null,"P2P")}const PersonToPersonView=_export_sfc(_sfc_main,[["render",_sfc_render]]),bootstrapIcons="",pinia=createPinia(),About={template:"<div>About</div>"},routes=[{path:"/",component:Home},{path:"/marketplace",component:_sfc_main$1},{path:"/p2p",component:PersonToPersonView},{path:"/about",component:About}],router=createRouter({history:createWebHashHistory(),routes});createApp(_sfc_main$7).use(pinia).use(router).mount("#app");
